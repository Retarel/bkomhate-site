var Eq=Object.defineProperty;var Sq=(t,e,n)=>e in t?Eq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var L0=(t,e,n)=>Sq(t,typeof e!="symbol"?e+"":e,n);function wq(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Ei(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var U0={exports:{}},Vf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1;function Aq(){if(P1)return Vf;P1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var a=null;if(o!==void 0&&(a=""+o),i.key!==void 0&&(a=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:o}}return Vf.Fragment=e,Vf.jsx=n,Vf.jsxs=n,Vf}var M1;function bq(){return M1||(M1=1,U0.exports=Aq()),U0.exports}var q=bq(),V0={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1;function Cq(){if(N1)return He;N1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),y=Symbol.iterator;function v(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,A={};function C(j,ce,se){this.props=j,this.context=ce,this.refs=A,this.updater=se||E}C.prototype.isReactComponent={},C.prototype.setState=function(j,ce){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ce,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function R(){}R.prototype=C.prototype;function N(j,ce,se){this.props=j,this.context=ce,this.refs=A,this.updater=se||E}var M=N.prototype=new R;M.constructor=N,w(M,C.prototype),M.isPureReactComponent=!0;var U=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function O(j,ce,se,me,Ae,Ie){return se=Ie.ref,{$$typeof:t,type:j,key:ce,ref:se!==void 0?se:null,props:Ie}}function k(j,ce){return O(j.type,ce,void 0,void 0,void 0,j.props)}function D(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function $(j){var ce={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(se){return ce[se]})}var F=/\/+/g;function z(j,ce){return typeof j=="object"&&j!==null&&j.key!=null?$(""+j.key):ce.toString(36)}function H(){}function Me(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(H,H):(j.status="pending",j.then(function(ce){j.status==="pending"&&(j.status="fulfilled",j.value=ce)},function(ce){j.status==="pending"&&(j.status="rejected",j.reason=ce)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function be(j,ce,se,me,Ae){var Ie=typeof j;(Ie==="undefined"||Ie==="boolean")&&(j=null);var Ne=!1;if(j===null)Ne=!0;else switch(Ie){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(j.$$typeof){case t:case e:Ne=!0;break;case h:return Ne=j._init,be(Ne(j._payload),ce,se,me,Ae)}}if(Ne)return Ae=Ae(j),Ne=me===""?"."+z(j,0):me,U(Ae)?(se="",Ne!=null&&(se=Ne.replace(F,"$&/")+"/"),be(Ae,ce,se,"",function(Z){return Z})):Ae!=null&&(D(Ae)&&(Ae=k(Ae,se+(Ae.key==null||j&&j.key===Ae.key?"":(""+Ae.key).replace(F,"$&/")+"/")+Ne)),ce.push(Ae)),1;Ne=0;var Ot=me===""?".":me+":";if(U(j))for(var rt=0;rt<j.length;rt++)me=j[rt],Ie=Ot+z(me,rt),Ne+=be(me,ce,se,Ie,Ae);else if(rt=v(j),typeof rt=="function")for(j=rt.call(j),rt=0;!(me=j.next()).done;)me=me.value,Ie=Ot+z(me,rt++),Ne+=be(me,ce,se,Ie,Ae);else if(Ie==="object"){if(typeof j.then=="function")return be(Me(j),ce,se,me,Ae);throw ce=String(j),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function ne(j,ce,se){if(j==null)return j;var me=[],Ae=0;return be(j,me,"","",function(Ie){return ce.call(se,Ie,Ae++)}),me}function pe(j){if(j._status===-1){var ce=j._result;ce=ce(),ce.then(function(se){(j._status===0||j._status===-1)&&(j._status=1,j._result=se)},function(se){(j._status===0||j._status===-1)&&(j._status=2,j._result=se)}),j._status===-1&&(j._status=0,j._result=ce)}if(j._status===1)return j._result.default;throw j._result}var _e=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function Le(){}return He.Children={map:ne,forEach:function(j,ce,se){ne(j,function(){ce.apply(this,arguments)},se)},count:function(j){var ce=0;return ne(j,function(){ce++}),ce},toArray:function(j){return ne(j,function(ce){return ce})||[]},only:function(j){if(!D(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},He.Component=C,He.Fragment=n,He.Profiler=i,He.PureComponent=N,He.StrictMode=r,He.Suspense=f,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,He.__COMPILER_RUNTIME={__proto__:null,c:function(j){return V.H.useMemoCache(j)}},He.cache=function(j){return function(){return j.apply(null,arguments)}},He.cloneElement=function(j,ce,se){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var me=w({},j.props),Ae=j.key,Ie=void 0;if(ce!=null)for(Ne in ce.ref!==void 0&&(Ie=void 0),ce.key!==void 0&&(Ae=""+ce.key),ce)!G.call(ce,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&ce.ref===void 0||(me[Ne]=ce[Ne]);var Ne=arguments.length-2;if(Ne===1)me.children=se;else if(1<Ne){for(var Ot=Array(Ne),rt=0;rt<Ne;rt++)Ot[rt]=arguments[rt+2];me.children=Ot}return O(j.type,Ae,void 0,void 0,Ie,me)},He.createContext=function(j){return j={$$typeof:a,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},He.createElement=function(j,ce,se){var me,Ae={},Ie=null;if(ce!=null)for(me in ce.key!==void 0&&(Ie=""+ce.key),ce)G.call(ce,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Ae[me]=ce[me]);var Ne=arguments.length-2;if(Ne===1)Ae.children=se;else if(1<Ne){for(var Ot=Array(Ne),rt=0;rt<Ne;rt++)Ot[rt]=arguments[rt+2];Ae.children=Ot}if(j&&j.defaultProps)for(me in Ne=j.defaultProps,Ne)Ae[me]===void 0&&(Ae[me]=Ne[me]);return O(j,Ie,void 0,void 0,null,Ae)},He.createRef=function(){return{current:null}},He.forwardRef=function(j){return{$$typeof:u,render:j}},He.isValidElement=D,He.lazy=function(j){return{$$typeof:h,_payload:{_status:-1,_result:j},_init:pe}},He.memo=function(j,ce){return{$$typeof:c,type:j,compare:ce===void 0?null:ce}},He.startTransition=function(j){var ce=V.T,se={};V.T=se;try{var me=j(),Ae=V.S;Ae!==null&&Ae(se,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(Le,_e)}catch(Ie){_e(Ie)}finally{V.T=ce}},He.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},He.use=function(j){return V.H.use(j)},He.useActionState=function(j,ce,se){return V.H.useActionState(j,ce,se)},He.useCallback=function(j,ce){return V.H.useCallback(j,ce)},He.useContext=function(j){return V.H.useContext(j)},He.useDebugValue=function(){},He.useDeferredValue=function(j,ce){return V.H.useDeferredValue(j,ce)},He.useEffect=function(j,ce,se){var me=V.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(j,ce)},He.useId=function(){return V.H.useId()},He.useImperativeHandle=function(j,ce,se){return V.H.useImperativeHandle(j,ce,se)},He.useInsertionEffect=function(j,ce){return V.H.useInsertionEffect(j,ce)},He.useLayoutEffect=function(j,ce){return V.H.useLayoutEffect(j,ce)},He.useMemo=function(j,ce){return V.H.useMemo(j,ce)},He.useOptimistic=function(j,ce){return V.H.useOptimistic(j,ce)},He.useReducer=function(j,ce,se){return V.H.useReducer(j,ce,se)},He.useRef=function(j){return V.H.useRef(j)},He.useState=function(j){return V.H.useState(j)},He.useSyncExternalStore=function(j,ce,se){return V.H.useSyncExternalStore(j,ce,se)},He.useTransition=function(){return V.H.useTransition()},He.version="19.1.1",He}var D1;function uc(){return D1||(D1=1,V0.exports=Cq()),V0.exports}var P=uc();const HO=Ei(P),xq=wq({__proto__:null,default:HO},[P]);var B0={exports:{}},Bf={},q0={exports:{}},F0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O1;function Rq(){return O1||(O1=1,(function(t){function e(ne,pe){var _e=ne.length;ne.push(pe);e:for(;0<_e;){var Le=_e-1>>>1,j=ne[Le];if(0<i(j,pe))ne[Le]=pe,ne[_e]=j,_e=Le;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var pe=ne[0],_e=ne.pop();if(_e!==pe){ne[0]=_e;e:for(var Le=0,j=ne.length,ce=j>>>1;Le<ce;){var se=2*(Le+1)-1,me=ne[se],Ae=se+1,Ie=ne[Ae];if(0>i(me,_e))Ae<j&&0>i(Ie,me)?(ne[Le]=Ie,ne[Ae]=_e,Le=Ae):(ne[Le]=me,ne[se]=_e,Le=se);else if(Ae<j&&0>i(Ie,_e))ne[Le]=Ie,ne[Ae]=_e,Le=Ae;else break e}}return pe}function i(ne,pe){var _e=ne.sortIndex-pe.sortIndex;return _e!==0?_e:ne.id-pe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var f=[],c=[],h=1,y=null,v=3,E=!1,w=!1,A=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function U(ne){for(var pe=n(c);pe!==null;){if(pe.callback===null)r(c);else if(pe.startTime<=ne)r(c),pe.sortIndex=pe.expirationTime,e(f,pe);else break;pe=n(c)}}function V(ne){if(A=!1,U(ne),!w)if(n(f)!==null)w=!0,G||(G=!0,z());else{var pe=n(c);pe!==null&&be(V,pe.startTime-ne)}}var G=!1,O=-1,k=5,D=-1;function $(){return C?!0:!(t.unstable_now()-D<k)}function F(){if(C=!1,G){var ne=t.unstable_now();D=ne;var pe=!0;try{e:{w=!1,A&&(A=!1,N(O),O=-1),E=!0;var _e=v;try{t:{for(U(ne),y=n(f);y!==null&&!(y.expirationTime>ne&&$());){var Le=y.callback;if(typeof Le=="function"){y.callback=null,v=y.priorityLevel;var j=Le(y.expirationTime<=ne);if(ne=t.unstable_now(),typeof j=="function"){y.callback=j,U(ne),pe=!0;break t}y===n(f)&&r(f),U(ne)}else r(f);y=n(f)}if(y!==null)pe=!0;else{var ce=n(c);ce!==null&&be(V,ce.startTime-ne),pe=!1}}break e}finally{y=null,v=_e,E=!1}pe=void 0}}finally{pe?z():G=!1}}}var z;if(typeof M=="function")z=function(){M(F)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Me=H.port2;H.port1.onmessage=F,z=function(){Me.postMessage(null)}}else z=function(){R(F,0)};function be(ne,pe){O=R(function(){ne(t.unstable_now())},pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(ne){switch(v){case 1:case 2:case 3:var pe=3;break;default:pe=v}var _e=v;v=pe;try{return ne()}finally{v=_e}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(ne,pe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var _e=v;v=ne;try{return pe()}finally{v=_e}},t.unstable_scheduleCallback=function(ne,pe,_e){var Le=t.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Le+_e:Le):_e=Le,ne){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=_e+j,ne={id:h++,callback:pe,priorityLevel:ne,startTime:_e,expirationTime:j,sortIndex:-1},_e>Le?(ne.sortIndex=_e,e(c,ne),n(f)===null&&ne===n(c)&&(A?(N(O),O=-1):A=!0,be(V,_e-Le))):(ne.sortIndex=j,e(f,ne),w||E||(w=!0,G||(G=!0,z()))),ne},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(ne){var pe=v;return function(){var _e=v;v=pe;try{return ne.apply(this,arguments)}finally{v=_e}}}})(F0)),F0}var k1;function Iq(){return k1||(k1=1,q0.exports=Rq()),q0.exports}var $0={exports:{}},qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L1;function Pq(){if(L1)return qn;L1=1;var t=uc();function e(f){var c="https://react.dev/errors/"+f;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,c,h){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:f,containerInfo:c,implementation:h}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,c){if(f==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,qn.createPortal=function(f,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return o(f,c,null,h)},qn.flushSync=function(f){var c=a.T,h=r.p;try{if(a.T=null,r.p=2,f)return f()}finally{a.T=c,r.p=h,r.d.f()}},qn.preconnect=function(f,c){typeof f=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(f,c))},qn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},qn.preinit=function(f,c){if(typeof f=="string"&&c&&typeof c.as=="string"){var h=c.as,y=u(h,c.crossOrigin),v=typeof c.integrity=="string"?c.integrity:void 0,E=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;h==="style"?r.d.S(f,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:E}):h==="script"&&r.d.X(f,{crossOrigin:y,integrity:v,fetchPriority:E,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},qn.preinitModule=function(f,c){if(typeof f=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var h=u(c.as,c.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(f)},qn.preload=function(f,c){if(typeof f=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var h=c.as,y=u(h,c.crossOrigin);r.d.L(f,h,{crossOrigin:y,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},qn.preloadModule=function(f,c){if(typeof f=="string")if(c){var h=u(c.as,c.crossOrigin);r.d.m(f,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(f)},qn.requestFormReset=function(f){r.d.r(f)},qn.unstable_batchedUpdates=function(f,c){return f(c)},qn.useFormState=function(f,c,h){return a.H.useFormState(f,c,h)},qn.useFormStatus=function(){return a.H.useHostTransitionStatus()},qn.version="19.1.1",qn}var U1;function zO(){if(U1)return $0.exports;U1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$0.exports=Pq(),$0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1;function Mq(){if(V1)return Bf;V1=1;var t=Iq(),e=uc(),n=zO();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var l=s,d=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(d=l.return),s=l.return;while(s)}return l.tag===3?d:null}function a(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(o(s)!==s)throw Error(r(188))}function f(s){var l=s.alternate;if(!l){if(l=o(s),l===null)throw Error(r(188));return l!==s?null:s}for(var d=s,g=l;;){var T=d.return;if(T===null)break;var S=T.alternate;if(S===null){if(g=T.return,g!==null){d=g;continue}break}if(T.child===S.child){for(S=T.child;S;){if(S===d)return u(T),s;if(S===g)return u(T),l;S=S.sibling}throw Error(r(188))}if(d.return!==g.return)d=T,g=S;else{for(var I=!1,L=T.child;L;){if(L===d){I=!0,d=T,g=S;break}if(L===g){I=!0,g=T,d=S;break}L=L.sibling}if(!I){for(L=S.child;L;){if(L===d){I=!0,d=S,g=T;break}if(L===g){I=!0,g=S,d=T;break}L=L.sibling}if(!I)throw Error(r(189))}}if(d.alternate!==g)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?s:l}function c(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=c(s),l!==null)return l;s=s.sibling}return null}var h=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var H=Symbol.for("react.client.reference");function Me(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===H?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case C:return"Profiler";case A:return"StrictMode";case V:return"Suspense";case G:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case M:return(s.displayName||"Context")+".Provider";case N:return(s._context.displayName||"Context")+".Consumer";case U:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case O:return l=s.displayName||null,l!==null?l:Me(s.type)||"Memo";case k:l=s._payload,s=s._init;try{return Me(s(l))}catch{}}return null}var be=Array.isArray,ne=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Le=[],j=-1;function ce(s){return{current:s}}function se(s){0>j||(s.current=Le[j],Le[j]=null,j--)}function me(s,l){j++,Le[j]=s.current,s.current=l}var Ae=ce(null),Ie=ce(null),Ne=ce(null),Ot=ce(null);function rt(s,l){switch(me(Ne,l),me(Ie,s),me(Ae,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?i1(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=i1(l),s=o1(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}se(Ae),me(Ae,s)}function Z(){se(Ae),se(Ie),se(Ne)}function he(s){s.memoizedState!==null&&me(Ot,s);var l=Ae.current,d=o1(l,s.type);l!==d&&(me(Ie,s),me(Ae,d))}function ge(s){Ie.current===s&&(se(Ae),se(Ie)),Ot.current===s&&(se(Ot),Df._currentValue=_e)}var re=Object.prototype.hasOwnProperty,Pe=t.unstable_scheduleCallback,Fe=t.unstable_cancelCallback,ht=t.unstable_shouldYield,kt=t.unstable_requestPaint,bt=t.unstable_now,Yn=t.unstable_getCurrentPriorityLevel,Ci=t.unstable_ImmediatePriority,so=t.unstable_UserBlockingPriority,Wn=t.unstable_NormalPriority,Jn=t.unstable_LowPriority,xi=t.unstable_IdlePriority,ss=t.log,gh=t.unstable_setDisableYieldValue,Vt=null,lt=null;function pr(s){if(typeof ss=="function"&&gh(s),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(Vt,s)}catch{}}var Vn=Math.clz32?Math.clz32:ga,yh=Math.log,Vy=Math.LN2;function ga(s){return s>>>=0,s===0?32:31-(yh(s)/Vy|0)|0}var ya=256,va=4194304;function li(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ll(s,l,d){var g=s.pendingLanes;if(g===0)return 0;var T=0,S=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var L=g&134217727;return L!==0?(g=L&~S,g!==0?T=li(g):(I&=L,I!==0?T=li(I):d||(d=L&~s,d!==0&&(T=li(d))))):(L=g&~S,L!==0?T=li(L):I!==0?T=li(I):d||(d=g&~s,d!==0&&(T=li(d)))),T===0?0:l!==0&&l!==T&&(l&S)===0&&(S=T&-T,d=l&-l,S>=d||S===32&&(d&4194048)!==0)?l:T}function _a(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Nc(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dc(){var s=ya;return ya<<=1,(ya&4194048)===0&&(ya=256),s}function Oc(){var s=va;return va<<=1,(va&62914560)===0&&(va=4194304),s}function ao(s){for(var l=[],d=0;31>d;d++)l.push(s);return l}function lo(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function kc(s,l,d,g,T,S){var I=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var L=s.entanglements,K=s.expirationTimes,Q=s.hiddenUpdates;for(d=I&~d;0<d;){var ae=31-Vn(d),fe=1<<ae;L[ae]=0,K[ae]=-1;var ee=Q[ae];if(ee!==null)for(Q[ae]=null,ae=0;ae<ee.length;ae++){var te=ee[ae];te!==null&&(te.lane&=-536870913)}d&=~fe}g!==0&&Ri(s,g,0),S!==0&&T===0&&s.tag!==0&&(s.suspendedLanes|=S&~(I&~l))}function Ri(s,l,d){s.pendingLanes|=l,s.suspendedLanes&=~l;var g=31-Vn(l);s.entangledLanes|=l,s.entanglements[g]=s.entanglements[g]|1073741824|d&4194090}function Lc(s,l){var d=s.entangledLanes|=l;for(s=s.entanglements;d;){var g=31-Vn(d),T=1<<g;T&l|s[g]&l&&(s[g]|=l),d&=~T}}function as(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ul(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function ls(){var s=pe.p;return s!==0?s:(s=window.event,s===void 0?32:A1(s.type))}function vh(s,l){var d=pe.p;try{return pe.p=s,l()}finally{pe.p=d}}var Pt=Math.random().toString(36).slice(2),on="__reactFiber$"+Pt,Wt="__reactProps$"+Pt,Ur="__reactContainer$"+Pt,Uc="__reactEvents$"+Pt,By="__reactListeners$"+Pt,us="__reactHandles$"+Pt,_h="__reactResources$"+Pt,Ta="__reactMarker$"+Pt;function cs(s){delete s[on],delete s[Wt],delete s[Uc],delete s[By],delete s[us]}function uo(s){var l=s[on];if(l)return l;for(var d=s.parentNode;d;){if(l=d[Ur]||d[on]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(s=u1(s);s!==null;){if(d=s[on])return d;s=u1(s)}return l}s=d,d=s.parentNode}return null}function Ii(s){if(s=s[on]||s[Ur]){var l=s.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return s}return null}function Pi(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function Xn(s){var l=s[_h];return l||(l=s[_h]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function zt(s){s[Ta]=!0}var Vc=new Set,Vl={};function ui(s,l){co(s,l),co(s+"Capture",l)}function co(s,l){for(Vl[s]=l,s=0;s<l.length;s++)Vc.add(l[s])}var Th=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eh={},Ea={};function Sh(s){return re.call(Ea,s)?!0:re.call(Eh,s)?!1:Th.test(s)?Ea[s]=!0:(Eh[s]=!0,!1)}function fs(s,l,d){if(Sh(l))if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+d)}}function Mi(s,l,d){if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+d)}}function xn(s,l,d,g){if(g===null)s.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(l,d,""+g)}}var Sa,wh;function fo(s){if(Sa===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);Sa=l&&l[1]||"",wh=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sa+s+wh}var Bl=!1;function ql(s,l){if(!s||Bl)return"";Bl=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(te){var ee=te}Reflect.construct(s,[],fe)}else{try{fe.call()}catch(te){ee=te}s.call(fe.prototype)}}else{try{throw Error()}catch(te){ee=te}(fe=s())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=g.DetermineComponentFrameRoot(),I=S[0],L=S[1];if(I&&L){var K=I.split(`
`),Q=L.split(`
`);for(T=g=0;g<K.length&&!K[g].includes("DetermineComponentFrameRoot");)g++;for(;T<Q.length&&!Q[T].includes("DetermineComponentFrameRoot");)T++;if(g===K.length||T===Q.length)for(g=K.length-1,T=Q.length-1;1<=g&&0<=T&&K[g]!==Q[T];)T--;for(;1<=g&&0<=T;g--,T--)if(K[g]!==Q[T]){if(g!==1||T!==1)do if(g--,T--,0>T||K[g]!==Q[T]){var ae=`
`+K[g].replace(" at new "," at ");return s.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",s.displayName)),ae}while(1<=g&&0<=T);break}}}finally{Bl=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?fo(d):""}function Bc(s){switch(s.tag){case 26:case 27:case 5:return fo(s.type);case 16:return fo("Lazy");case 13:return fo("Suspense");case 19:return fo("SuspenseList");case 0:case 15:return ql(s.type,!1);case 11:return ql(s.type.render,!1);case 1:return ql(s.type,!0);case 31:return fo("Activity");default:return""}}function Fl(s){try{var l="";do l+=Bc(s),s=s.return;while(s);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Qn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function qc(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function qy(s){var l=qc(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),g=""+s[l];if(!s.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var T=d.get,S=d.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return T.call(this)},set:function(I){g=""+I,S.call(this,I)}}),Object.defineProperty(s,l,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(I){g=""+I},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function $l(s){s._valueTracker||(s._valueTracker=qy(s))}function Fc(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return s&&(g=qc(s)?s.checked?"true":"false":s.value),s=g,s!==d?(l.setValue(s),!0):!1}function wa(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Fy=/[\n"\\]/g;function Jt(s){return s.replace(Fy,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function mr(s,l,d,g,T,S,I,L){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),l!=null?I==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Qn(l)):s.value!==""+Qn(l)&&(s.value=""+Qn(l)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),l!=null?ds(s,I,Qn(l)):d!=null?ds(s,I,Qn(d)):g!=null&&s.removeAttribute("value"),T==null&&S!=null&&(s.defaultChecked=!!S),T!=null&&(s.checked=T&&typeof T!="function"&&typeof T!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?s.name=""+Qn(L):s.removeAttribute("name")}function Aa(s,l,d,g,T,S,I,L){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.type=S),l!=null||d!=null){if(!(S!=="submit"&&S!=="reset"||l!=null))return;d=d!=null?""+Qn(d):"",l=l!=null?""+Qn(l):d,L||l===s.value||(s.value=l),s.defaultValue=l}g=g??T,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=L?s.checked:!!g,s.defaultChecked=!!g,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I)}function ds(s,l,d){l==="number"&&wa(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function ho(s,l,d,g){if(s=s.options,l){l={};for(var T=0;T<d.length;T++)l["$"+d[T]]=!0;for(d=0;d<s.length;d++)T=l.hasOwnProperty("$"+s[d].value),s[d].selected!==T&&(s[d].selected=T),T&&g&&(s[d].defaultSelected=!0)}else{for(d=""+Qn(d),l=null,T=0;T<s.length;T++){if(s[T].value===d){s[T].selected=!0,g&&(s[T].defaultSelected=!0);return}l!==null||s[T].disabled||(l=s[T])}l!==null&&(l.selected=!0)}}function pt(s,l,d){if(l!=null&&(l=""+Qn(l),l!==s.value&&(s.value=l),d==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=d!=null?""+Qn(d):""}function ba(s,l,d,g){if(l==null){if(g!=null){if(d!=null)throw Error(r(92));if(be(g)){if(1<g.length)throw Error(r(93));g=g[0]}d=g}d==null&&(d=""),l=d}d=Qn(l),s.defaultValue=d,g=s.textContent,g===d&&g!==""&&g!==null&&(s.value=g)}function Vr(s,l){if(l){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=l;return}}s.textContent=l}var Ca=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ah(s,l,d){var g=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":g?s.setProperty(l,d):typeof d!="number"||d===0||Ca.has(l)?l==="float"?s.cssFloat=d:s[l]=(""+d).trim():s[l]=d+"px"}function $c(s,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var T in l)g=l[T],l.hasOwnProperty(T)&&d[T]!==g&&Ah(s,T,g)}else for(var S in l)l.hasOwnProperty(S)&&Ah(s,S,l[S])}function Hc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $y=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hl(s){return Hy.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var po=null;function Br(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var mo=null,go=null;function zc(s){var l=Ii(s);if(l&&(s=l.stateNode)){var d=s[Wt]||null;e:switch(s=l.stateNode,l.type){case"input":if(mr(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Jt(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==s&&g.form===s.form){var T=g[Wt]||null;if(!T)throw Error(r(90));mr(g,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(l=0;l<d.length;l++)g=d[l],g.form===s.form&&Fc(g)}break e;case"textarea":pt(s,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&ho(s,!!d.multiple,l,!1)}}}var Ni=!1;function bh(s,l,d){if(Ni)return s(l,d);Ni=!0;try{var g=s(l);return g}finally{if(Ni=!1,(mo!==null||go!==null)&&(vp(),mo&&(l=mo,s=go,go=mo=null,zc(l),s)))for(l=0;l<s.length;l++)zc(s[l])}}function xa(s,l){var d=s.stateNode;if(d===null)return null;var g=d[Wt]||null;if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qr=!1;if(ci)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){qr=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{qr=!1}var Di=null,hs=null,yo=null;function Gc(){if(yo)return yo;var s,l=hs,d=l.length,g,T="value"in Di?Di.value:Di.textContent,S=T.length;for(s=0;s<d&&l[s]===T[s];s++);var I=d-s;for(g=1;g<=I&&l[d-g]===T[S-g];g++);return yo=T.slice(s,1<g?1-g:void 0)}function Oi(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function ki(){return!0}function Kc(){return!1}function gn(s){function l(d,g,T,S,I){this._reactName=d,this._targetInst=T,this.type=g,this.nativeEvent=S,this.target=I,this.currentTarget=null;for(var L in s)s.hasOwnProperty(L)&&(d=s[L],this[L]=d?d(S):S[L]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?ki:Kc,this.isPropagationStopped=Kc,this}return h(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),l}var st={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zl=gn(st),Ia=h({},st,{view:0,detail:0}),Ch=gn(Ia),Gl,Kl,Li,Pa=h({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Da,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Li&&(Li&&s.type==="mousemove"?(Gl=s.screenX-Li.screenX,Kl=s.screenY-Li.screenY):Kl=Gl=0,Li=s),Gl)},movementY:function(s){return"movementY"in s?s.movementY:Kl}}),Fr=gn(Pa),xh=h({},Pa,{dataTransfer:0}),zy=gn(xh),Ma=h({},Ia,{relatedTarget:0}),jl=gn(Ma),jc=h({},st,{animationName:0,elapsedTime:0,pseudoElement:0}),Yl=gn(jc),Rh=h({},st,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Wl=gn(Rh),Gy=h({},st,{data:0}),Yc=gn(Gy),Na={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ih={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ph={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wc(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Ph[s])?!!l[s]:!1}function Da(){return Wc}var Mh=h({},Ia,{key:function(s){if(s.key){var l=Na[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Oi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ih[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Da,charCode:function(s){return s.type==="keypress"?Oi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Oi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Jl=gn(Mh),Nh=h({},Pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jc=gn(Nh),vo=h({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Da}),Dh=gn(vo),Oh=h({},st,{propertyName:0,elapsedTime:0,pseudoElement:0}),kh=gn(Oh),Lh=h({},Pa,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Xl=gn(Lh),Zn=h({},st,{newState:0,oldState:0}),Uh=gn(Zn),Vh=[9,13,27,32],Ui=ci&&"CompositionEvent"in window,_=null;ci&&"documentMode"in document&&(_=document.documentMode);var b=ci&&"TextEvent"in window&&!_,x=ci&&(!Ui||_&&8<_&&11>=_),B=" ",J=!1;function ie(s,l){switch(s){case"keyup":return Vh.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ye(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Xe=!1;function sn(s,l){switch(s){case"compositionend":return ye(l);case"keypress":return l.which!==32?null:(J=!0,B);case"textInput":return s=l.data,s===B&&J?null:s;default:return null}}function Qe(s,l){if(Xe)return s==="compositionend"||!Ui&&ie(s,l)?(s=Gc(),yo=hs=Di=null,Xe=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return x&&l.locale!=="ko"?null:l.data;default:return null}}var yn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function an(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!yn[s.type]:l==="textarea"}function _o(s,l,d,g){mo?go?go.push(g):go=[g]:mo=g,l=Ap(l,"onChange"),0<l.length&&(d=new zl("onChange","change",null,d,g),s.push({event:d,listeners:l}))}var Rn=null,Vi=null;function Xc(s){Zx(s,0)}function Bh(s){var l=Pi(s);if(Fc(l))return s}function Tb(s,l){if(s==="change")return l}var Eb=!1;if(ci){var Ky;if(ci){var jy="oninput"in document;if(!jy){var Sb=document.createElement("div");Sb.setAttribute("oninput","return;"),jy=typeof Sb.oninput=="function"}Ky=jy}else Ky=!1;Eb=Ky&&(!document.documentMode||9<document.documentMode)}function wb(){Rn&&(Rn.detachEvent("onpropertychange",Ab),Vi=Rn=null)}function Ab(s){if(s.propertyName==="value"&&Bh(Vi)){var l=[];_o(l,Vi,s,Br(s)),bh(Xc,l)}}function X3(s,l,d){s==="focusin"?(wb(),Rn=l,Vi=d,Rn.attachEvent("onpropertychange",Ab)):s==="focusout"&&wb()}function Q3(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Bh(Vi)}function Z3(s,l){if(s==="click")return Bh(l)}function e6(s,l){if(s==="input"||s==="change")return Bh(l)}function t6(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var gr=typeof Object.is=="function"?Object.is:t6;function Qc(s,l){if(gr(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var d=Object.keys(s),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var T=d[g];if(!re.call(l,T)||!gr(s[T],l[T]))return!1}return!0}function bb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Cb(s,l){var d=bb(s);s=0;for(var g;d;){if(d.nodeType===3){if(g=s+d.textContent.length,s<=l&&g>=l)return{node:d,offset:l-s};s=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=bb(d)}}function xb(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?xb(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function Rb(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=wa(s.document);l instanceof s.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)s=l.contentWindow;else break;l=wa(s.document)}return l}function Yy(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var n6=ci&&"documentMode"in document&&11>=document.documentMode,Ql=null,Wy=null,Zc=null,Jy=!1;function Ib(s,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Jy||Ql==null||Ql!==wa(g)||(g=Ql,"selectionStart"in g&&Yy(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Zc&&Qc(Zc,g)||(Zc=g,g=Ap(Wy,"onSelect"),0<g.length&&(l=new zl("onSelect","select",null,l,d),s.push({event:l,listeners:g}),l.target=Ql)))}function Oa(s,l){var d={};return d[s.toLowerCase()]=l.toLowerCase(),d["Webkit"+s]="webkit"+l,d["Moz"+s]="moz"+l,d}var Zl={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionrun:Oa("Transition","TransitionRun"),transitionstart:Oa("Transition","TransitionStart"),transitioncancel:Oa("Transition","TransitionCancel"),transitionend:Oa("Transition","TransitionEnd")},Xy={},Pb={};ci&&(Pb=document.createElement("div").style,"AnimationEvent"in window||(delete Zl.animationend.animation,delete Zl.animationiteration.animation,delete Zl.animationstart.animation),"TransitionEvent"in window||delete Zl.transitionend.transition);function ka(s){if(Xy[s])return Xy[s];if(!Zl[s])return s;var l=Zl[s],d;for(d in l)if(l.hasOwnProperty(d)&&d in Pb)return Xy[s]=l[d];return s}var Mb=ka("animationend"),Nb=ka("animationiteration"),Db=ka("animationstart"),r6=ka("transitionrun"),i6=ka("transitionstart"),o6=ka("transitioncancel"),Ob=ka("transitionend"),kb=new Map,Qy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qy.push("scrollEnd");function fi(s,l){kb.set(s,l),ui(l,[s])}var Lb=new WeakMap;function $r(s,l){if(typeof s=="object"&&s!==null){var d=Lb.get(s);return d!==void 0?d:(l={value:s,source:l,stack:Fl(l)},Lb.set(s,l),l)}return{value:s,source:l,stack:Fl(l)}}var Hr=[],eu=0,Zy=0;function qh(){for(var s=eu,l=Zy=eu=0;l<s;){var d=Hr[l];Hr[l++]=null;var g=Hr[l];Hr[l++]=null;var T=Hr[l];Hr[l++]=null;var S=Hr[l];if(Hr[l++]=null,g!==null&&T!==null){var I=g.pending;I===null?T.next=T:(T.next=I.next,I.next=T),g.pending=T}S!==0&&Ub(d,T,S)}}function Fh(s,l,d,g){Hr[eu++]=s,Hr[eu++]=l,Hr[eu++]=d,Hr[eu++]=g,Zy|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function ev(s,l,d,g){return Fh(s,l,d,g),$h(s)}function tu(s,l){return Fh(s,null,null,l),$h(s)}function Ub(s,l,d){s.lanes|=d;var g=s.alternate;g!==null&&(g.lanes|=d);for(var T=!1,S=s.return;S!==null;)S.childLanes|=d,g=S.alternate,g!==null&&(g.childLanes|=d),S.tag===22&&(s=S.stateNode,s===null||s._visibility&1||(T=!0)),s=S,S=S.return;return s.tag===3?(S=s.stateNode,T&&l!==null&&(T=31-Vn(d),s=S.hiddenUpdates,g=s[T],g===null?s[T]=[l]:g.push(l),l.lane=d|536870912),S):null}function $h(s){if(50<bf)throw bf=0,s0=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var nu={};function s6(s,l,d,g){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(s,l,d,g){return new s6(s,l,d,g)}function tv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function To(s,l){var d=s.alternate;return d===null?(d=yr(s.tag,l,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=l,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,l=s.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function Vb(s,l){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,l=d.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function Hh(s,l,d,g,T,S){var I=0;if(g=s,typeof s=="function")tv(s)&&(I=1);else if(typeof s=="string")I=lq(s,d,Ae.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case D:return s=yr(31,d,l,T),s.elementType=D,s.lanes=S,s;case w:return La(d.children,T,S,l);case A:I=8,T|=24;break;case C:return s=yr(12,d,l,T|2),s.elementType=C,s.lanes=S,s;case V:return s=yr(13,d,l,T),s.elementType=V,s.lanes=S,s;case G:return s=yr(19,d,l,T),s.elementType=G,s.lanes=S,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case R:case M:I=10;break e;case N:I=9;break e;case U:I=11;break e;case O:I=14;break e;case k:I=16,g=null;break e}I=29,d=Error(r(130,s===null?"null":typeof s,"")),g=null}return l=yr(I,d,l,T),l.elementType=s,l.type=g,l.lanes=S,l}function La(s,l,d,g){return s=yr(7,s,g,l),s.lanes=d,s}function nv(s,l,d){return s=yr(6,s,null,l),s.lanes=d,s}function rv(s,l,d){return l=yr(4,s.children!==null?s.children:[],s.key,l),l.lanes=d,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var ru=[],iu=0,zh=null,Gh=0,zr=[],Gr=0,Ua=null,Eo=1,So="";function Va(s,l){ru[iu++]=Gh,ru[iu++]=zh,zh=s,Gh=l}function Bb(s,l,d){zr[Gr++]=Eo,zr[Gr++]=So,zr[Gr++]=Ua,Ua=s;var g=Eo;s=So;var T=32-Vn(g)-1;g&=~(1<<T),d+=1;var S=32-Vn(l)+T;if(30<S){var I=T-T%5;S=(g&(1<<I)-1).toString(32),g>>=I,T-=I,Eo=1<<32-Vn(l)+T|d<<T|g,So=S+s}else Eo=1<<S|d<<T|g,So=s}function iv(s){s.return!==null&&(Va(s,1),Bb(s,1,0))}function ov(s){for(;s===zh;)zh=ru[--iu],ru[iu]=null,Gh=ru[--iu],ru[iu]=null;for(;s===Ua;)Ua=zr[--Gr],zr[Gr]=null,So=zr[--Gr],zr[Gr]=null,Eo=zr[--Gr],zr[Gr]=null}var er=null,Bt=null,it=!1,Ba=null,Bi=!1,sv=Error(r(519));function qa(s){var l=Error(r(418,""));throw nf($r(l,s)),sv}function qb(s){var l=s.stateNode,d=s.type,g=s.memoizedProps;switch(l[on]=s,l[Wt]=g,d){case"dialog":je("cancel",l),je("close",l);break;case"iframe":case"object":case"embed":je("load",l);break;case"video":case"audio":for(d=0;d<xf.length;d++)je(xf[d],l);break;case"source":je("error",l);break;case"img":case"image":case"link":je("error",l),je("load",l);break;case"details":je("toggle",l);break;case"input":je("invalid",l),Aa(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),$l(l);break;case"select":je("invalid",l);break;case"textarea":je("invalid",l),ba(l,g.value,g.defaultValue,g.children),$l(l)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||g.suppressHydrationWarning===!0||r1(l.textContent,d)?(g.popover!=null&&(je("beforetoggle",l),je("toggle",l)),g.onScroll!=null&&je("scroll",l),g.onScrollEnd!=null&&je("scrollend",l),g.onClick!=null&&(l.onclick=bp),l=!0):l=!1,l||qa(s)}function Fb(s){for(er=s.return;er;)switch(er.tag){case 5:case 13:Bi=!1;return;case 27:case 3:Bi=!0;return;default:er=er.return}}function ef(s){if(s!==er)return!1;if(!it)return Fb(s),it=!0,!1;var l=s.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||S0(s.type,s.memoizedProps)),d=!d),d&&Bt&&qa(s),Fb(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8)if(d=s.data,d==="/$"){if(l===0){Bt=hi(s.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++;s=s.nextSibling}Bt=null}}else l===27?(l=Bt,Is(s.type)?(s=C0,C0=null,Bt=s):Bt=l):Bt=er?hi(s.stateNode.nextSibling):null;return!0}function tf(){Bt=er=null,it=!1}function $b(){var s=Ba;return s!==null&&(sr===null?sr=s:sr.push.apply(sr,s),Ba=null),s}function nf(s){Ba===null?Ba=[s]:Ba.push(s)}var av=ce(null),Fa=null,wo=null;function ps(s,l,d){me(av,l._currentValue),l._currentValue=d}function Ao(s){s._currentValue=av.current,se(av)}function lv(s,l,d){for(;s!==null;){var g=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),s===d)break;s=s.return}}function uv(s,l,d,g){var T=s.child;for(T!==null&&(T.return=s);T!==null;){var S=T.dependencies;if(S!==null){var I=T.child;S=S.firstContext;e:for(;S!==null;){var L=S;S=T;for(var K=0;K<l.length;K++)if(L.context===l[K]){S.lanes|=d,L=S.alternate,L!==null&&(L.lanes|=d),lv(S.return,d,s),g||(I=null);break e}S=L.next}}else if(T.tag===18){if(I=T.return,I===null)throw Error(r(341));I.lanes|=d,S=I.alternate,S!==null&&(S.lanes|=d),lv(I,d,s),I=null}else I=T.child;if(I!==null)I.return=T;else for(I=T;I!==null;){if(I===s){I=null;break}if(T=I.sibling,T!==null){T.return=I.return,I=T;break}I=I.return}T=I}}function rf(s,l,d,g){s=null;for(var T=l,S=!1;T!==null;){if(!S){if((T.flags&524288)!==0)S=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var I=T.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var L=T.type;gr(T.pendingProps.value,I.value)||(s!==null?s.push(L):s=[L])}}else if(T===Ot.current){if(I=T.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(s!==null?s.push(Df):s=[Df])}T=T.return}s!==null&&uv(l,s,d,g),l.flags|=262144}function Kh(s){for(s=s.firstContext;s!==null;){if(!gr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function $a(s){Fa=s,wo=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Bn(s){return Hb(Fa,s)}function jh(s,l){return Fa===null&&$a(s),Hb(s,l)}function Hb(s,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},wo===null){if(s===null)throw Error(r(308));wo=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else wo=wo.next=l;return d}var a6=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(d,g){s.push(g)}};this.abort=function(){l.aborted=!0,s.forEach(function(d){return d()})}},l6=t.unstable_scheduleCallback,u6=t.unstable_NormalPriority,ln={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cv(){return{controller:new a6,data:new Map,refCount:0}}function of(s){s.refCount--,s.refCount===0&&l6(u6,function(){s.controller.abort()})}var sf=null,fv=0,ou=0,su=null;function c6(s,l){if(sf===null){var d=sf=[];fv=0,ou=h0(),su={status:"pending",value:void 0,then:function(g){d.push(g)}}}return fv++,l.then(zb,zb),l}function zb(){if(--fv===0&&sf!==null){su!==null&&(su.status="fulfilled");var s=sf;sf=null,ou=0,su=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function f6(s,l){var d=[],g={status:"pending",value:null,reason:null,then:function(T){d.push(T)}};return s.then(function(){g.status="fulfilled",g.value=l;for(var T=0;T<d.length;T++)(0,d[T])(l)},function(T){for(g.status="rejected",g.reason=T,T=0;T<d.length;T++)(0,d[T])(void 0)}),g}var Gb=ne.S;ne.S=function(s,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&c6(s,l),Gb!==null&&Gb(s,l)};var Ha=ce(null);function dv(){var s=Ha.current;return s!==null?s:Et.pooledCache}function Yh(s,l){l===null?me(Ha,Ha.current):me(Ha,l.pool)}function Kb(){var s=dv();return s===null?null:{parent:ln._currentValue,pool:s}}var af=Error(r(460)),jb=Error(r(474)),Wh=Error(r(542)),hv={then:function(){}};function Yb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Jh(){}function Wb(s,l,d){switch(d=s[d],d===void 0?s.push(l):d!==l&&(l.then(Jh,Jh),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,Xb(s),s;default:if(typeof l.status=="string")l.then(Jh,Jh);else{if(s=Et,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(g){if(l.status==="pending"){var T=l;T.status="fulfilled",T.value=g}},function(g){if(l.status==="pending"){var T=l;T.status="rejected",T.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,Xb(s),s}throw lf=l,af}}var lf=null;function Jb(){if(lf===null)throw Error(r(459));var s=lf;return lf=null,s}function Xb(s){if(s===af||s===Wh)throw Error(r(483))}var ms=!1;function pv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mv(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function gs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ys(s,l,d){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(ut&2)!==0){var T=g.pending;return T===null?l.next=l:(l.next=T.next,T.next=l),g.pending=l,l=$h(s),Ub(s,null,d),l}return Fh(s,g,l,d),$h(s)}function uf(s,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var g=l.lanes;g&=s.pendingLanes,d|=g,l.lanes=d,Lc(s,d)}}function gv(s,l){var d=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var T=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var I={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};S===null?T=S=I:S=S.next=I,d=d.next}while(d!==null);S===null?T=S=l:S=S.next=l}else T=S=l;d={baseState:g.baseState,firstBaseUpdate:T,lastBaseUpdate:S,shared:g.shared,callbacks:g.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=l:s.next=l,d.lastBaseUpdate=l}var yv=!1;function cf(){if(yv){var s=su;if(s!==null)throw s}}function ff(s,l,d,g){yv=!1;var T=s.updateQueue;ms=!1;var S=T.firstBaseUpdate,I=T.lastBaseUpdate,L=T.shared.pending;if(L!==null){T.shared.pending=null;var K=L,Q=K.next;K.next=null,I===null?S=Q:I.next=Q,I=K;var ae=s.alternate;ae!==null&&(ae=ae.updateQueue,L=ae.lastBaseUpdate,L!==I&&(L===null?ae.firstBaseUpdate=Q:L.next=Q,ae.lastBaseUpdate=K))}if(S!==null){var fe=T.baseState;I=0,ae=Q=K=null,L=S;do{var ee=L.lane&-536870913,te=ee!==L.lane;if(te?(Ze&ee)===ee:(g&ee)===ee){ee!==0&&ee===ou&&(yv=!0),ae!==null&&(ae=ae.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var Be=s,De=L;ee=l;var yt=d;switch(De.tag){case 1:if(Be=De.payload,typeof Be=="function"){fe=Be.call(yt,fe,ee);break e}fe=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=De.payload,ee=typeof Be=="function"?Be.call(yt,fe,ee):Be,ee==null)break e;fe=h({},fe,ee);break e;case 2:ms=!0}}ee=L.callback,ee!==null&&(s.flags|=64,te&&(s.flags|=8192),te=T.callbacks,te===null?T.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ae===null?(Q=ae=te,K=fe):ae=ae.next=te,I|=ee;if(L=L.next,L===null){if(L=T.shared.pending,L===null)break;te=L,L=te.next,te.next=null,T.lastBaseUpdate=te,T.shared.pending=null}}while(!0);ae===null&&(K=fe),T.baseState=K,T.firstBaseUpdate=Q,T.lastBaseUpdate=ae,S===null&&(T.shared.lanes=0),bs|=I,s.lanes=I,s.memoizedState=fe}}function Qb(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function Zb(s,l){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)Qb(d[s],l)}var au=ce(null),Xh=ce(0);function eC(s,l){s=Mo,me(Xh,s),me(au,l),Mo=s|l.baseLanes}function vv(){me(Xh,Mo),me(au,au.current)}function _v(){Mo=Xh.current,se(au),se(Xh)}var vs=0,ze=null,mt=null,Xt=null,Qh=!1,lu=!1,za=!1,Zh=0,df=0,uu=null,d6=0;function Gt(){throw Error(r(321))}function Tv(s,l){if(l===null)return!1;for(var d=0;d<l.length&&d<s.length;d++)if(!gr(s[d],l[d]))return!1;return!0}function Ev(s,l,d,g,T,S){return vs=S,ze=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ne.H=s===null||s.memoizedState===null?UC:VC,za=!1,S=d(g,T),za=!1,lu&&(S=nC(l,d,g,T)),tC(s),S}function tC(s){ne.H=op;var l=mt!==null&&mt.next!==null;if(vs=0,Xt=mt=ze=null,Qh=!1,df=0,uu=null,l)throw Error(r(300));s===null||vn||(s=s.dependencies,s!==null&&Kh(s)&&(vn=!0))}function nC(s,l,d,g){ze=s;var T=0;do{if(lu&&(uu=null),df=0,lu=!1,25<=T)throw Error(r(301));if(T+=1,Xt=mt=null,s.updateQueue!=null){var S=s.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}ne.H=_6,S=l(d,g)}while(lu);return S}function h6(){var s=ne.H,l=s.useState()[0];return l=typeof l.then=="function"?hf(l):l,s=s.useState()[0],(mt!==null?mt.memoizedState:null)!==s&&(ze.flags|=1024),l}function Sv(){var s=Zh!==0;return Zh=0,s}function wv(s,l,d){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~d}function Av(s){if(Qh){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Qh=!1}vs=0,Xt=mt=ze=null,lu=!1,df=Zh=0,uu=null}function ir(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?ze.memoizedState=Xt=s:Xt=Xt.next=s,Xt}function Qt(){if(mt===null){var s=ze.alternate;s=s!==null?s.memoizedState:null}else s=mt.next;var l=Xt===null?ze.memoizedState:Xt.next;if(l!==null)Xt=l,mt=s;else{if(s===null)throw ze.alternate===null?Error(r(467)):Error(r(310));mt=s,s={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Xt===null?ze.memoizedState=Xt=s:Xt=Xt.next=s}return Xt}function bv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hf(s){var l=df;return df+=1,uu===null&&(uu=[]),s=Wb(uu,s,l),l=ze,(Xt===null?l.memoizedState:Xt.next)===null&&(l=l.alternate,ne.H=l===null||l.memoizedState===null?UC:VC),s}function ep(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return hf(s);if(s.$$typeof===M)return Bn(s)}throw Error(r(438,String(s)))}function Cv(s){var l=null,d=ze.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var g=ze.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(T){return T.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=bv(),ze.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(s),g=0;g<s;g++)d[g]=$;return l.index++,d}function bo(s,l){return typeof l=="function"?l(s):l}function tp(s){var l=Qt();return xv(l,mt,s)}function xv(s,l,d){var g=s.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=d;var T=s.baseQueue,S=g.pending;if(S!==null){if(T!==null){var I=T.next;T.next=S.next,S.next=I}l.baseQueue=T=S,g.pending=null}if(S=s.baseState,T===null)s.memoizedState=S;else{l=T.next;var L=I=null,K=null,Q=l,ae=!1;do{var fe=Q.lane&-536870913;if(fe!==Q.lane?(Ze&fe)===fe:(vs&fe)===fe){var ee=Q.revertLane;if(ee===0)K!==null&&(K=K.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),fe===ou&&(ae=!0);else if((vs&ee)===ee){Q=Q.next,ee===ou&&(ae=!0);continue}else fe={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},K===null?(L=K=fe,I=S):K=K.next=fe,ze.lanes|=ee,bs|=ee;fe=Q.action,za&&d(S,fe),S=Q.hasEagerState?Q.eagerState:d(S,fe)}else ee={lane:fe,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},K===null?(L=K=ee,I=S):K=K.next=ee,ze.lanes|=fe,bs|=fe;Q=Q.next}while(Q!==null&&Q!==l);if(K===null?I=S:K.next=L,!gr(S,s.memoizedState)&&(vn=!0,ae&&(d=su,d!==null)))throw d;s.memoizedState=S,s.baseState=I,s.baseQueue=K,g.lastRenderedState=S}return T===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function Rv(s){var l=Qt(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var g=d.dispatch,T=d.pending,S=l.memoizedState;if(T!==null){d.pending=null;var I=T=T.next;do S=s(S,I.action),I=I.next;while(I!==T);gr(S,l.memoizedState)||(vn=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),d.lastRenderedState=S}return[S,g]}function rC(s,l,d){var g=ze,T=Qt(),S=it;if(S){if(d===void 0)throw Error(r(407));d=d()}else d=l();var I=!gr((mt||T).memoizedState,d);I&&(T.memoizedState=d,vn=!0),T=T.queue;var L=sC.bind(null,g,T,s);if(pf(2048,8,L,[s]),T.getSnapshot!==l||I||Xt!==null&&Xt.memoizedState.tag&1){if(g.flags|=2048,cu(9,np(),oC.bind(null,g,T,d,l),null),Et===null)throw Error(r(349));S||(vs&124)!==0||iC(g,l,d)}return d}function iC(s,l,d){s.flags|=16384,s={getSnapshot:l,value:d},l=ze.updateQueue,l===null?(l=bv(),ze.updateQueue=l,l.stores=[s]):(d=l.stores,d===null?l.stores=[s]:d.push(s))}function oC(s,l,d,g){l.value=d,l.getSnapshot=g,aC(l)&&lC(s)}function sC(s,l,d){return d(function(){aC(l)&&lC(s)})}function aC(s){var l=s.getSnapshot;s=s.value;try{var d=l();return!gr(s,d)}catch{return!0}}function lC(s){var l=tu(s,2);l!==null&&Sr(l,s,2)}function Iv(s){var l=ir();if(typeof s=="function"){var d=s;if(s=d(),za){pr(!0);try{d()}finally{pr(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:s},l}function uC(s,l,d,g){return s.baseState=d,xv(s,mt,typeof g=="function"?g:bo)}function p6(s,l,d,g,T){if(ip(s))throw Error(r(485));if(s=l.action,s!==null){var S={payload:T,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){S.listeners.push(I)}};ne.T!==null?d(!0):S.isTransition=!1,g(S),d=l.pending,d===null?(S.next=l.pending=S,cC(l,S)):(S.next=d.next,l.pending=d.next=S)}}function cC(s,l){var d=l.action,g=l.payload,T=s.state;if(l.isTransition){var S=ne.T,I={};ne.T=I;try{var L=d(T,g),K=ne.S;K!==null&&K(I,L),fC(s,l,L)}catch(Q){Pv(s,l,Q)}finally{ne.T=S}}else try{S=d(T,g),fC(s,l,S)}catch(Q){Pv(s,l,Q)}}function fC(s,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){dC(s,l,g)},function(g){return Pv(s,l,g)}):dC(s,l,d)}function dC(s,l,d){l.status="fulfilled",l.value=d,hC(l),s.state=d,l=s.pending,l!==null&&(d=l.next,d===l?s.pending=null:(d=d.next,l.next=d,cC(s,d)))}function Pv(s,l,d){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=d,hC(l),l=l.next;while(l!==g)}s.action=null}function hC(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function pC(s,l){return l}function mC(s,l){if(it){var d=Et.formState;if(d!==null){e:{var g=ze;if(it){if(Bt){t:{for(var T=Bt,S=Bi;T.nodeType!==8;){if(!S){T=null;break t}if(T=hi(T.nextSibling),T===null){T=null;break t}}S=T.data,T=S==="F!"||S==="F"?T:null}if(T){Bt=hi(T.nextSibling),g=T.data==="F!";break e}}qa(g)}g=!1}g&&(l=d[0])}}return d=ir(),d.memoizedState=d.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pC,lastRenderedState:l},d.queue=g,d=OC.bind(null,ze,g),g.dispatch=d,g=Iv(!1),S=kv.bind(null,ze,!1,g.queue),g=ir(),T={state:l,dispatch:null,action:s,pending:null},g.queue=T,d=p6.bind(null,ze,T,S,d),T.dispatch=d,g.memoizedState=s,[l,d,!1]}function gC(s){var l=Qt();return yC(l,mt,s)}function yC(s,l,d){if(l=xv(s,l,pC)[0],s=tp(bo)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=hf(l)}catch(I){throw I===af?Wh:I}else g=l;l=Qt();var T=l.queue,S=T.dispatch;return d!==l.memoizedState&&(ze.flags|=2048,cu(9,np(),m6.bind(null,T,d),null)),[g,S,s]}function m6(s,l){s.action=l}function vC(s){var l=Qt(),d=mt;if(d!==null)return yC(l,d,s);Qt(),l=l.memoizedState,d=Qt();var g=d.queue.dispatch;return d.memoizedState=s,[l,g,!1]}function cu(s,l,d,g){return s={tag:s,create:d,deps:g,inst:l,next:null},l=ze.updateQueue,l===null&&(l=bv(),ze.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=s.next=s:(g=d.next,d.next=s,s.next=g,l.lastEffect=s),s}function np(){return{destroy:void 0,resource:void 0}}function _C(){return Qt().memoizedState}function rp(s,l,d,g){var T=ir();g=g===void 0?null:g,ze.flags|=s,T.memoizedState=cu(1|l,np(),d,g)}function pf(s,l,d,g){var T=Qt();g=g===void 0?null:g;var S=T.memoizedState.inst;mt!==null&&g!==null&&Tv(g,mt.memoizedState.deps)?T.memoizedState=cu(l,S,d,g):(ze.flags|=s,T.memoizedState=cu(1|l,S,d,g))}function TC(s,l){rp(8390656,8,s,l)}function EC(s,l){pf(2048,8,s,l)}function SC(s,l){return pf(4,2,s,l)}function wC(s,l){return pf(4,4,s,l)}function AC(s,l){if(typeof l=="function"){s=s();var d=l(s);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function bC(s,l,d){d=d!=null?d.concat([s]):null,pf(4,4,AC.bind(null,l,s),d)}function Mv(){}function CC(s,l){var d=Qt();l=l===void 0?null:l;var g=d.memoizedState;return l!==null&&Tv(l,g[1])?g[0]:(d.memoizedState=[s,l],s)}function xC(s,l){var d=Qt();l=l===void 0?null:l;var g=d.memoizedState;if(l!==null&&Tv(l,g[1]))return g[0];if(g=s(),za){pr(!0);try{s()}finally{pr(!1)}}return d.memoizedState=[g,l],g}function Nv(s,l,d){return d===void 0||(vs&1073741824)!==0?s.memoizedState=l:(s.memoizedState=d,s=Px(),ze.lanes|=s,bs|=s,d)}function RC(s,l,d,g){return gr(d,l)?d:au.current!==null?(s=Nv(s,d,g),gr(s,l)||(vn=!0),s):(vs&42)===0?(vn=!0,s.memoizedState=d):(s=Px(),ze.lanes|=s,bs|=s,l)}function IC(s,l,d,g,T){var S=pe.p;pe.p=S!==0&&8>S?S:8;var I=ne.T,L={};ne.T=L,kv(s,!1,l,d);try{var K=T(),Q=ne.S;if(Q!==null&&Q(L,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var ae=f6(K,g);mf(s,l,ae,Er(s))}else mf(s,l,g,Er(s))}catch(fe){mf(s,l,{then:function(){},status:"rejected",reason:fe},Er())}finally{pe.p=S,ne.T=I}}function g6(){}function Dv(s,l,d,g){if(s.tag!==5)throw Error(r(476));var T=PC(s).queue;IC(s,T,l,_e,d===null?g6:function(){return MC(s),d(g)})}function PC(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:_e},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:d},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function MC(s){var l=PC(s).next.queue;mf(s,l,{},Er())}function Ov(){return Bn(Df)}function NC(){return Qt().memoizedState}function DC(){return Qt().memoizedState}function y6(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var d=Er();s=gs(d);var g=ys(l,s,d);g!==null&&(Sr(g,l,d),uf(g,l,d)),l={cache:cv()},s.payload=l;return}l=l.return}}function v6(s,l,d){var g=Er();d={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},ip(s)?kC(l,d):(d=ev(s,l,d,g),d!==null&&(Sr(d,s,g),LC(d,l,g)))}function OC(s,l,d){var g=Er();mf(s,l,d,g)}function mf(s,l,d,g){var T={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(ip(s))kC(l,T);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var I=l.lastRenderedState,L=S(I,d);if(T.hasEagerState=!0,T.eagerState=L,gr(L,I))return Fh(s,l,T,0),Et===null&&qh(),!1}catch{}finally{}if(d=ev(s,l,T,g),d!==null)return Sr(d,s,g),LC(d,l,g),!0}return!1}function kv(s,l,d,g){if(g={lane:2,revertLane:h0(),action:g,hasEagerState:!1,eagerState:null,next:null},ip(s)){if(l)throw Error(r(479))}else l=ev(s,d,g,2),l!==null&&Sr(l,s,2)}function ip(s){var l=s.alternate;return s===ze||l!==null&&l===ze}function kC(s,l){lu=Qh=!0;var d=s.pending;d===null?l.next=l:(l.next=d.next,d.next=l),s.pending=l}function LC(s,l,d){if((d&4194048)!==0){var g=l.lanes;g&=s.pendingLanes,d|=g,l.lanes=d,Lc(s,d)}}var op={readContext:Bn,use:ep,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt},UC={readContext:Bn,use:ep,useCallback:function(s,l){return ir().memoizedState=[s,l===void 0?null:l],s},useContext:Bn,useEffect:TC,useImperativeHandle:function(s,l,d){d=d!=null?d.concat([s]):null,rp(4194308,4,AC.bind(null,l,s),d)},useLayoutEffect:function(s,l){return rp(4194308,4,s,l)},useInsertionEffect:function(s,l){rp(4,2,s,l)},useMemo:function(s,l){var d=ir();l=l===void 0?null:l;var g=s();if(za){pr(!0);try{s()}finally{pr(!1)}}return d.memoizedState=[g,l],g},useReducer:function(s,l,d){var g=ir();if(d!==void 0){var T=d(l);if(za){pr(!0);try{d(l)}finally{pr(!1)}}}else T=l;return g.memoizedState=g.baseState=T,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:T},g.queue=s,s=s.dispatch=v6.bind(null,ze,s),[g.memoizedState,s]},useRef:function(s){var l=ir();return s={current:s},l.memoizedState=s},useState:function(s){s=Iv(s);var l=s.queue,d=OC.bind(null,ze,l);return l.dispatch=d,[s.memoizedState,d]},useDebugValue:Mv,useDeferredValue:function(s,l){var d=ir();return Nv(d,s,l)},useTransition:function(){var s=Iv(!1);return s=IC.bind(null,ze,s.queue,!0,!1),ir().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,d){var g=ze,T=ir();if(it){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Et===null)throw Error(r(349));(Ze&124)!==0||iC(g,l,d)}T.memoizedState=d;var S={value:d,getSnapshot:l};return T.queue=S,TC(sC.bind(null,g,S,s),[s]),g.flags|=2048,cu(9,np(),oC.bind(null,g,S,d,l),null),d},useId:function(){var s=ir(),l=Et.identifierPrefix;if(it){var d=So,g=Eo;d=(g&~(1<<32-Vn(g)-1)).toString(32)+d,l=""+l+"R"+d,d=Zh++,0<d&&(l+="H"+d.toString(32)),l+=""}else d=d6++,l=""+l+"r"+d.toString(32)+"";return s.memoizedState=l},useHostTransitionStatus:Ov,useFormState:mC,useActionState:mC,useOptimistic:function(s){var l=ir();l.memoizedState=l.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=kv.bind(null,ze,!0,d),d.dispatch=l,[s,l]},useMemoCache:Cv,useCacheRefresh:function(){return ir().memoizedState=y6.bind(null,ze)}},VC={readContext:Bn,use:ep,useCallback:CC,useContext:Bn,useEffect:EC,useImperativeHandle:bC,useInsertionEffect:SC,useLayoutEffect:wC,useMemo:xC,useReducer:tp,useRef:_C,useState:function(){return tp(bo)},useDebugValue:Mv,useDeferredValue:function(s,l){var d=Qt();return RC(d,mt.memoizedState,s,l)},useTransition:function(){var s=tp(bo)[0],l=Qt().memoizedState;return[typeof s=="boolean"?s:hf(s),l]},useSyncExternalStore:rC,useId:NC,useHostTransitionStatus:Ov,useFormState:gC,useActionState:gC,useOptimistic:function(s,l){var d=Qt();return uC(d,mt,s,l)},useMemoCache:Cv,useCacheRefresh:DC},_6={readContext:Bn,use:ep,useCallback:CC,useContext:Bn,useEffect:EC,useImperativeHandle:bC,useInsertionEffect:SC,useLayoutEffect:wC,useMemo:xC,useReducer:Rv,useRef:_C,useState:function(){return Rv(bo)},useDebugValue:Mv,useDeferredValue:function(s,l){var d=Qt();return mt===null?Nv(d,s,l):RC(d,mt.memoizedState,s,l)},useTransition:function(){var s=Rv(bo)[0],l=Qt().memoizedState;return[typeof s=="boolean"?s:hf(s),l]},useSyncExternalStore:rC,useId:NC,useHostTransitionStatus:Ov,useFormState:vC,useActionState:vC,useOptimistic:function(s,l){var d=Qt();return mt!==null?uC(d,mt,s,l):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:Cv,useCacheRefresh:DC},fu=null,gf=0;function sp(s){var l=gf;return gf+=1,fu===null&&(fu=[]),Wb(fu,s,l)}function yf(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function ap(s,l){throw l.$$typeof===y?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function BC(s){var l=s._init;return l(s._payload)}function qC(s){function l(W,Y){if(s){var X=W.deletions;X===null?(W.deletions=[Y],W.flags|=16):X.push(Y)}}function d(W,Y){if(!s)return null;for(;Y!==null;)l(W,Y),Y=Y.sibling;return null}function g(W){for(var Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function T(W,Y){return W=To(W,Y),W.index=0,W.sibling=null,W}function S(W,Y,X){return W.index=X,s?(X=W.alternate,X!==null?(X=X.index,X<Y?(W.flags|=67108866,Y):X):(W.flags|=67108866,Y)):(W.flags|=1048576,Y)}function I(W){return s&&W.alternate===null&&(W.flags|=67108866),W}function L(W,Y,X,ue){return Y===null||Y.tag!==6?(Y=nv(X,W.mode,ue),Y.return=W,Y):(Y=T(Y,X),Y.return=W,Y)}function K(W,Y,X,ue){var Se=X.type;return Se===w?ae(W,Y,X.props.children,ue,X.key):Y!==null&&(Y.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===k&&BC(Se)===Y.type)?(Y=T(Y,X.props),yf(Y,X),Y.return=W,Y):(Y=Hh(X.type,X.key,X.props,null,W.mode,ue),yf(Y,X),Y.return=W,Y)}function Q(W,Y,X,ue){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==X.containerInfo||Y.stateNode.implementation!==X.implementation?(Y=rv(X,W.mode,ue),Y.return=W,Y):(Y=T(Y,X.children||[]),Y.return=W,Y)}function ae(W,Y,X,ue,Se){return Y===null||Y.tag!==7?(Y=La(X,W.mode,ue,Se),Y.return=W,Y):(Y=T(Y,X),Y.return=W,Y)}function fe(W,Y,X){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=nv(""+Y,W.mode,X),Y.return=W,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:return X=Hh(Y.type,Y.key,Y.props,null,W.mode,X),yf(X,Y),X.return=W,X;case E:return Y=rv(Y,W.mode,X),Y.return=W,Y;case k:var ue=Y._init;return Y=ue(Y._payload),fe(W,Y,X)}if(be(Y)||z(Y))return Y=La(Y,W.mode,X,null),Y.return=W,Y;if(typeof Y.then=="function")return fe(W,sp(Y),X);if(Y.$$typeof===M)return fe(W,jh(W,Y),X);ap(W,Y)}return null}function ee(W,Y,X,ue){var Se=Y!==null?Y.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Se!==null?null:L(W,Y,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case v:return X.key===Se?K(W,Y,X,ue):null;case E:return X.key===Se?Q(W,Y,X,ue):null;case k:return Se=X._init,X=Se(X._payload),ee(W,Y,X,ue)}if(be(X)||z(X))return Se!==null?null:ae(W,Y,X,ue,null);if(typeof X.then=="function")return ee(W,Y,sp(X),ue);if(X.$$typeof===M)return ee(W,Y,jh(W,X),ue);ap(W,X)}return null}function te(W,Y,X,ue,Se){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return W=W.get(X)||null,L(Y,W,""+ue,Se);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case v:return W=W.get(ue.key===null?X:ue.key)||null,K(Y,W,ue,Se);case E:return W=W.get(ue.key===null?X:ue.key)||null,Q(Y,W,ue,Se);case k:var Ge=ue._init;return ue=Ge(ue._payload),te(W,Y,X,ue,Se)}if(be(ue)||z(ue))return W=W.get(X)||null,ae(Y,W,ue,Se,null);if(typeof ue.then=="function")return te(W,Y,X,sp(ue),Se);if(ue.$$typeof===M)return te(W,Y,X,jh(Y,ue),Se);ap(Y,ue)}return null}function Be(W,Y,X,ue){for(var Se=null,Ge=null,Ce=Y,Oe=Y=0,Tn=null;Ce!==null&&Oe<X.length;Oe++){Ce.index>Oe?(Tn=Ce,Ce=null):Tn=Ce.sibling;var tt=ee(W,Ce,X[Oe],ue);if(tt===null){Ce===null&&(Ce=Tn);break}s&&Ce&&tt.alternate===null&&l(W,Ce),Y=S(tt,Y,Oe),Ge===null?Se=tt:Ge.sibling=tt,Ge=tt,Ce=Tn}if(Oe===X.length)return d(W,Ce),it&&Va(W,Oe),Se;if(Ce===null){for(;Oe<X.length;Oe++)Ce=fe(W,X[Oe],ue),Ce!==null&&(Y=S(Ce,Y,Oe),Ge===null?Se=Ce:Ge.sibling=Ce,Ge=Ce);return it&&Va(W,Oe),Se}for(Ce=g(Ce);Oe<X.length;Oe++)Tn=te(Ce,W,Oe,X[Oe],ue),Tn!==null&&(s&&Tn.alternate!==null&&Ce.delete(Tn.key===null?Oe:Tn.key),Y=S(Tn,Y,Oe),Ge===null?Se=Tn:Ge.sibling=Tn,Ge=Tn);return s&&Ce.forEach(function(Os){return l(W,Os)}),it&&Va(W,Oe),Se}function De(W,Y,X,ue){if(X==null)throw Error(r(151));for(var Se=null,Ge=null,Ce=Y,Oe=Y=0,Tn=null,tt=X.next();Ce!==null&&!tt.done;Oe++,tt=X.next()){Ce.index>Oe?(Tn=Ce,Ce=null):Tn=Ce.sibling;var Os=ee(W,Ce,tt.value,ue);if(Os===null){Ce===null&&(Ce=Tn);break}s&&Ce&&Os.alternate===null&&l(W,Ce),Y=S(Os,Y,Oe),Ge===null?Se=Os:Ge.sibling=Os,Ge=Os,Ce=Tn}if(tt.done)return d(W,Ce),it&&Va(W,Oe),Se;if(Ce===null){for(;!tt.done;Oe++,tt=X.next())tt=fe(W,tt.value,ue),tt!==null&&(Y=S(tt,Y,Oe),Ge===null?Se=tt:Ge.sibling=tt,Ge=tt);return it&&Va(W,Oe),Se}for(Ce=g(Ce);!tt.done;Oe++,tt=X.next())tt=te(Ce,W,Oe,tt.value,ue),tt!==null&&(s&&tt.alternate!==null&&Ce.delete(tt.key===null?Oe:tt.key),Y=S(tt,Y,Oe),Ge===null?Se=tt:Ge.sibling=tt,Ge=tt);return s&&Ce.forEach(function(Tq){return l(W,Tq)}),it&&Va(W,Oe),Se}function yt(W,Y,X,ue){if(typeof X=="object"&&X!==null&&X.type===w&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case v:e:{for(var Se=X.key;Y!==null;){if(Y.key===Se){if(Se=X.type,Se===w){if(Y.tag===7){d(W,Y.sibling),ue=T(Y,X.props.children),ue.return=W,W=ue;break e}}else if(Y.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===k&&BC(Se)===Y.type){d(W,Y.sibling),ue=T(Y,X.props),yf(ue,X),ue.return=W,W=ue;break e}d(W,Y);break}else l(W,Y);Y=Y.sibling}X.type===w?(ue=La(X.props.children,W.mode,ue,X.key),ue.return=W,W=ue):(ue=Hh(X.type,X.key,X.props,null,W.mode,ue),yf(ue,X),ue.return=W,W=ue)}return I(W);case E:e:{for(Se=X.key;Y!==null;){if(Y.key===Se)if(Y.tag===4&&Y.stateNode.containerInfo===X.containerInfo&&Y.stateNode.implementation===X.implementation){d(W,Y.sibling),ue=T(Y,X.children||[]),ue.return=W,W=ue;break e}else{d(W,Y);break}else l(W,Y);Y=Y.sibling}ue=rv(X,W.mode,ue),ue.return=W,W=ue}return I(W);case k:return Se=X._init,X=Se(X._payload),yt(W,Y,X,ue)}if(be(X))return Be(W,Y,X,ue);if(z(X)){if(Se=z(X),typeof Se!="function")throw Error(r(150));return X=Se.call(X),De(W,Y,X,ue)}if(typeof X.then=="function")return yt(W,Y,sp(X),ue);if(X.$$typeof===M)return yt(W,Y,jh(W,X),ue);ap(W,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,Y!==null&&Y.tag===6?(d(W,Y.sibling),ue=T(Y,X),ue.return=W,W=ue):(d(W,Y),ue=nv(X,W.mode,ue),ue.return=W,W=ue),I(W)):d(W,Y)}return function(W,Y,X,ue){try{gf=0;var Se=yt(W,Y,X,ue);return fu=null,Se}catch(Ce){if(Ce===af||Ce===Wh)throw Ce;var Ge=yr(29,Ce,null,W.mode);return Ge.lanes=ue,Ge.return=W,Ge}finally{}}}var du=qC(!0),FC=qC(!1),Kr=ce(null),qi=null;function _s(s){var l=s.alternate;me(un,un.current&1),me(Kr,s),qi===null&&(l===null||au.current!==null||l.memoizedState!==null)&&(qi=s)}function $C(s){if(s.tag===22){if(me(un,un.current),me(Kr,s),qi===null){var l=s.alternate;l!==null&&l.memoizedState!==null&&(qi=s)}}else Ts()}function Ts(){me(un,un.current),me(Kr,Kr.current)}function Co(s){se(Kr),qi===s&&(qi=null),se(un)}var un=ce(0);function lp(s){for(var l=s;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||b0(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Lv(s,l,d,g){l=s.memoizedState,d=d(g,l),d=d==null?l:h({},l,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Uv={enqueueSetState:function(s,l,d){s=s._reactInternals;var g=Er(),T=gs(g);T.payload=l,d!=null&&(T.callback=d),l=ys(s,T,g),l!==null&&(Sr(l,s,g),uf(l,s,g))},enqueueReplaceState:function(s,l,d){s=s._reactInternals;var g=Er(),T=gs(g);T.tag=1,T.payload=l,d!=null&&(T.callback=d),l=ys(s,T,g),l!==null&&(Sr(l,s,g),uf(l,s,g))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var d=Er(),g=gs(d);g.tag=2,l!=null&&(g.callback=l),l=ys(s,g,d),l!==null&&(Sr(l,s,d),uf(l,s,d))}};function HC(s,l,d,g,T,S,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,S,I):l.prototype&&l.prototype.isPureReactComponent?!Qc(d,g)||!Qc(T,S):!0}function zC(s,l,d,g){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==s&&Uv.enqueueReplaceState(l,l.state,null)}function Ga(s,l){var d=l;if("ref"in l){d={};for(var g in l)g!=="ref"&&(d[g]=l[g])}if(s=s.defaultProps){d===l&&(d=h({},d));for(var T in s)d[T]===void 0&&(d[T]=s[T])}return d}var up=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function GC(s){up(s)}function KC(s){console.error(s)}function jC(s){up(s)}function cp(s,l){try{var d=s.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function YC(s,l,d){try{var g=s.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Vv(s,l,d){return d=gs(d),d.tag=3,d.payload={element:null},d.callback=function(){cp(s,l)},d}function WC(s){return s=gs(s),s.tag=3,s}function JC(s,l,d,g){var T=d.type.getDerivedStateFromError;if(typeof T=="function"){var S=g.value;s.payload=function(){return T(S)},s.callback=function(){YC(l,d,g)}}var I=d.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){YC(l,d,g),typeof T!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var L=g.stack;this.componentDidCatch(g.value,{componentStack:L!==null?L:""})})}function T6(s,l,d,g,T){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=d.alternate,l!==null&&rf(l,d,T,!0),d=Kr.current,d!==null){switch(d.tag){case 13:return qi===null?l0():d.alternate===null&&qt===0&&(qt=3),d.flags&=-257,d.flags|=65536,d.lanes=T,g===hv?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([g]):l.add(g),c0(s,g,T)),!1;case 22:return d.flags|=65536,g===hv?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([g]):d.add(g)),c0(s,g,T)),!1}throw Error(r(435,d.tag))}return c0(s,g,T),l0(),!1}if(it)return l=Kr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=T,g!==sv&&(s=Error(r(422),{cause:g}),nf($r(s,d)))):(g!==sv&&(l=Error(r(423),{cause:g}),nf($r(l,d))),s=s.current.alternate,s.flags|=65536,T&=-T,s.lanes|=T,g=$r(g,d),T=Vv(s.stateNode,g,T),gv(s,T),qt!==4&&(qt=2)),!1;var S=Error(r(520),{cause:g});if(S=$r(S,d),Af===null?Af=[S]:Af.push(S),qt!==4&&(qt=2),l===null)return!0;g=$r(g,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,s=T&-T,d.lanes|=s,s=Vv(d.stateNode,g,s),gv(d,s),!1;case 1:if(l=d.type,S=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Cs===null||!Cs.has(S))))return d.flags|=65536,T&=-T,d.lanes|=T,T=WC(T),JC(T,s,d,g),gv(d,T),!1}d=d.return}while(d!==null);return!1}var XC=Error(r(461)),vn=!1;function In(s,l,d,g){l.child=s===null?FC(l,null,d,g):du(l,s.child,d,g)}function QC(s,l,d,g,T){d=d.render;var S=l.ref;if("ref"in g){var I={};for(var L in g)L!=="ref"&&(I[L]=g[L])}else I=g;return $a(l),g=Ev(s,l,d,I,S,T),L=Sv(),s!==null&&!vn?(wv(s,l,T),xo(s,l,T)):(it&&L&&iv(l),l.flags|=1,In(s,l,g,T),l.child)}function ZC(s,l,d,g,T){if(s===null){var S=d.type;return typeof S=="function"&&!tv(S)&&S.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=S,ex(s,l,S,g,T)):(s=Hh(d.type,null,g,l,l.mode,T),s.ref=l.ref,s.return=l,l.child=s)}if(S=s.child,!Kv(s,T)){var I=S.memoizedProps;if(d=d.compare,d=d!==null?d:Qc,d(I,g)&&s.ref===l.ref)return xo(s,l,T)}return l.flags|=1,s=To(S,g),s.ref=l.ref,s.return=l,l.child=s}function ex(s,l,d,g,T){if(s!==null){var S=s.memoizedProps;if(Qc(S,g)&&s.ref===l.ref)if(vn=!1,l.pendingProps=g=S,Kv(s,T))(s.flags&131072)!==0&&(vn=!0);else return l.lanes=s.lanes,xo(s,l,T)}return Bv(s,l,d,g,T)}function tx(s,l,d){var g=l.pendingProps,T=g.children,S=s!==null?s.memoizedState:null;if(g.mode==="hidden"){if((l.flags&128)!==0){if(g=S!==null?S.baseLanes|d:d,s!==null){for(T=l.child=s.child,S=0;T!==null;)S=S|T.lanes|T.childLanes,T=T.sibling;l.childLanes=S&~g}else l.childLanes=0,l.child=null;return nx(s,l,g,d)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&Yh(l,S!==null?S.cachePool:null),S!==null?eC(l,S):vv(),$C(l);else return l.lanes=l.childLanes=536870912,nx(s,l,S!==null?S.baseLanes|d:d,d)}else S!==null?(Yh(l,S.cachePool),eC(l,S),Ts(),l.memoizedState=null):(s!==null&&Yh(l,null),vv(),Ts());return In(s,l,T,d),l.child}function nx(s,l,d,g){var T=dv();return T=T===null?null:{parent:ln._currentValue,pool:T},l.memoizedState={baseLanes:d,cachePool:T},s!==null&&Yh(l,null),vv(),$C(l),s!==null&&rf(s,l,g,!0),null}function fp(s,l){var d=l.ref;if(d===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(s===null||s.ref!==d)&&(l.flags|=4194816)}}function Bv(s,l,d,g,T){return $a(l),d=Ev(s,l,d,g,void 0,T),g=Sv(),s!==null&&!vn?(wv(s,l,T),xo(s,l,T)):(it&&g&&iv(l),l.flags|=1,In(s,l,d,T),l.child)}function rx(s,l,d,g,T,S){return $a(l),l.updateQueue=null,d=nC(l,g,d,T),tC(s),g=Sv(),s!==null&&!vn?(wv(s,l,S),xo(s,l,S)):(it&&g&&iv(l),l.flags|=1,In(s,l,d,S),l.child)}function ix(s,l,d,g,T){if($a(l),l.stateNode===null){var S=nu,I=d.contextType;typeof I=="object"&&I!==null&&(S=Bn(I)),S=new d(g,S),l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Uv,l.stateNode=S,S._reactInternals=l,S=l.stateNode,S.props=g,S.state=l.memoizedState,S.refs={},pv(l),I=d.contextType,S.context=typeof I=="object"&&I!==null?Bn(I):nu,S.state=l.memoizedState,I=d.getDerivedStateFromProps,typeof I=="function"&&(Lv(l,d,I,g),S.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(I=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),I!==S.state&&Uv.enqueueReplaceState(S,S.state,null),ff(l,g,S,T),cf(),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(s===null){S=l.stateNode;var L=l.memoizedProps,K=Ga(d,L);S.props=K;var Q=S.context,ae=d.contextType;I=nu,typeof ae=="object"&&ae!==null&&(I=Bn(ae));var fe=d.getDerivedStateFromProps;ae=typeof fe=="function"||typeof S.getSnapshotBeforeUpdate=="function",L=l.pendingProps!==L,ae||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(L||Q!==I)&&zC(l,S,g,I),ms=!1;var ee=l.memoizedState;S.state=ee,ff(l,g,S,T),cf(),Q=l.memoizedState,L||ee!==Q||ms?(typeof fe=="function"&&(Lv(l,d,fe,g),Q=l.memoizedState),(K=ms||HC(l,d,K,g,ee,Q,I))?(ae||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(l.flags|=4194308)):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=Q),S.props=g,S.state=Q,S.context=I,g=K):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{S=l.stateNode,mv(s,l),I=l.memoizedProps,ae=Ga(d,I),S.props=ae,fe=l.pendingProps,ee=S.context,Q=d.contextType,K=nu,typeof Q=="object"&&Q!==null&&(K=Bn(Q)),L=d.getDerivedStateFromProps,(Q=typeof L=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(I!==fe||ee!==K)&&zC(l,S,g,K),ms=!1,ee=l.memoizedState,S.state=ee,ff(l,g,S,T),cf();var te=l.memoizedState;I!==fe||ee!==te||ms||s!==null&&s.dependencies!==null&&Kh(s.dependencies)?(typeof L=="function"&&(Lv(l,d,L,g),te=l.memoizedState),(ae=ms||HC(l,d,ae,g,ee,te,K)||s!==null&&s.dependencies!==null&&Kh(s.dependencies))?(Q||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(g,te,K),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(g,te,K)),typeof S.componentDidUpdate=="function"&&(l.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof S.componentDidUpdate!="function"||I===s.memoizedProps&&ee===s.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ee===s.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=te),S.props=g,S.state=te,S.context=K,g=ae):(typeof S.componentDidUpdate!="function"||I===s.memoizedProps&&ee===s.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ee===s.memoizedState||(l.flags|=1024),g=!1)}return S=g,fp(s,l),g=(l.flags&128)!==0,S||g?(S=l.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:S.render(),l.flags|=1,s!==null&&g?(l.child=du(l,s.child,null,T),l.child=du(l,null,d,T)):In(s,l,d,T),l.memoizedState=S.state,s=l.child):s=xo(s,l,T),s}function ox(s,l,d,g){return tf(),l.flags|=256,In(s,l,d,g),l.child}var qv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fv(s){return{baseLanes:s,cachePool:Kb()}}function $v(s,l,d){return s=s!==null?s.childLanes&~d:0,l&&(s|=jr),s}function sx(s,l,d){var g=l.pendingProps,T=!1,S=(l.flags&128)!==0,I;if((I=S)||(I=s!==null&&s.memoizedState===null?!1:(un.current&2)!==0),I&&(T=!0,l.flags&=-129),I=(l.flags&32)!==0,l.flags&=-33,s===null){if(it){if(T?_s(l):Ts(),it){var L=Bt,K;if(K=L){e:{for(K=L,L=Bi;K.nodeType!==8;){if(!L){L=null;break e}if(K=hi(K.nextSibling),K===null){L=null;break e}}L=K}L!==null?(l.memoizedState={dehydrated:L,treeContext:Ua!==null?{id:Eo,overflow:So}:null,retryLane:536870912,hydrationErrors:null},K=yr(18,null,null,0),K.stateNode=L,K.return=l,l.child=K,er=l,Bt=null,K=!0):K=!1}K||qa(l)}if(L=l.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return b0(L)?l.lanes=32:l.lanes=536870912,null;Co(l)}return L=g.children,g=g.fallback,T?(Ts(),T=l.mode,L=dp({mode:"hidden",children:L},T),g=La(g,T,d,null),L.return=l,g.return=l,L.sibling=g,l.child=L,T=l.child,T.memoizedState=Fv(d),T.childLanes=$v(s,I,d),l.memoizedState=qv,g):(_s(l),Hv(l,L))}if(K=s.memoizedState,K!==null&&(L=K.dehydrated,L!==null)){if(S)l.flags&256?(_s(l),l.flags&=-257,l=zv(s,l,d)):l.memoizedState!==null?(Ts(),l.child=s.child,l.flags|=128,l=null):(Ts(),T=g.fallback,L=l.mode,g=dp({mode:"visible",children:g.children},L),T=La(T,L,d,null),T.flags|=2,g.return=l,T.return=l,g.sibling=T,l.child=g,du(l,s.child,null,d),g=l.child,g.memoizedState=Fv(d),g.childLanes=$v(s,I,d),l.memoizedState=qv,l=T);else if(_s(l),b0(L)){if(I=L.nextSibling&&L.nextSibling.dataset,I)var Q=I.dgst;I=Q,g=Error(r(419)),g.stack="",g.digest=I,nf({value:g,source:null,stack:null}),l=zv(s,l,d)}else if(vn||rf(s,l,d,!1),I=(d&s.childLanes)!==0,vn||I){if(I=Et,I!==null&&(g=d&-d,g=(g&42)!==0?1:as(g),g=(g&(I.suspendedLanes|d))!==0?0:g,g!==0&&g!==K.retryLane))throw K.retryLane=g,tu(s,g),Sr(I,s,g),XC;L.data==="$?"||l0(),l=zv(s,l,d)}else L.data==="$?"?(l.flags|=192,l.child=s.child,l=null):(s=K.treeContext,Bt=hi(L.nextSibling),er=l,it=!0,Ba=null,Bi=!1,s!==null&&(zr[Gr++]=Eo,zr[Gr++]=So,zr[Gr++]=Ua,Eo=s.id,So=s.overflow,Ua=l),l=Hv(l,g.children),l.flags|=4096);return l}return T?(Ts(),T=g.fallback,L=l.mode,K=s.child,Q=K.sibling,g=To(K,{mode:"hidden",children:g.children}),g.subtreeFlags=K.subtreeFlags&65011712,Q!==null?T=To(Q,T):(T=La(T,L,d,null),T.flags|=2),T.return=l,g.return=l,g.sibling=T,l.child=g,g=T,T=l.child,L=s.child.memoizedState,L===null?L=Fv(d):(K=L.cachePool,K!==null?(Q=ln._currentValue,K=K.parent!==Q?{parent:Q,pool:Q}:K):K=Kb(),L={baseLanes:L.baseLanes|d,cachePool:K}),T.memoizedState=L,T.childLanes=$v(s,I,d),l.memoizedState=qv,g):(_s(l),d=s.child,s=d.sibling,d=To(d,{mode:"visible",children:g.children}),d.return=l,d.sibling=null,s!==null&&(I=l.deletions,I===null?(l.deletions=[s],l.flags|=16):I.push(s)),l.child=d,l.memoizedState=null,d)}function Hv(s,l){return l=dp({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function dp(s,l){return s=yr(22,s,null,l),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function zv(s,l,d){return du(l,s.child,null,d),s=Hv(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function ax(s,l,d){s.lanes|=l;var g=s.alternate;g!==null&&(g.lanes|=l),lv(s.return,l,d)}function Gv(s,l,d,g,T){var S=s.memoizedState;S===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:T}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=d,S.tailMode=T)}function lx(s,l,d){var g=l.pendingProps,T=g.revealOrder,S=g.tail;if(In(s,l,g.children,d),g=un.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&ax(s,d,l);else if(s.tag===19)ax(s,d,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}switch(me(un,g),T){case"forwards":for(d=l.child,T=null;d!==null;)s=d.alternate,s!==null&&lp(s)===null&&(T=d),d=d.sibling;d=T,d===null?(T=l.child,l.child=null):(T=d.sibling,d.sibling=null),Gv(l,!1,T,d,S);break;case"backwards":for(d=null,T=l.child,l.child=null;T!==null;){if(s=T.alternate,s!==null&&lp(s)===null){l.child=T;break}s=T.sibling,T.sibling=d,d=T,T=s}Gv(l,!0,d,null,S);break;case"together":Gv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function xo(s,l,d){if(s!==null&&(l.dependencies=s.dependencies),bs|=l.lanes,(d&l.childLanes)===0)if(s!==null){if(rf(s,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,d=To(s,s.pendingProps),l.child=d,d.return=l;s.sibling!==null;)s=s.sibling,d=d.sibling=To(s,s.pendingProps),d.return=l;d.sibling=null}return l.child}function Kv(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&Kh(s)))}function E6(s,l,d){switch(l.tag){case 3:rt(l,l.stateNode.containerInfo),ps(l,ln,s.memoizedState.cache),tf();break;case 27:case 5:he(l);break;case 4:rt(l,l.stateNode.containerInfo);break;case 10:ps(l,l.type,l.memoizedProps.value);break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(_s(l),l.flags|=128,null):(d&l.child.childLanes)!==0?sx(s,l,d):(_s(l),s=xo(s,l,d),s!==null?s.sibling:null);_s(l);break;case 19:var T=(s.flags&128)!==0;if(g=(d&l.childLanes)!==0,g||(rf(s,l,d,!1),g=(d&l.childLanes)!==0),T){if(g)return lx(s,l,d);l.flags|=128}if(T=l.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),me(un,un.current),g)break;return null;case 22:case 23:return l.lanes=0,tx(s,l,d);case 24:ps(l,ln,s.memoizedState.cache)}return xo(s,l,d)}function ux(s,l,d){if(s!==null)if(s.memoizedProps!==l.pendingProps)vn=!0;else{if(!Kv(s,d)&&(l.flags&128)===0)return vn=!1,E6(s,l,d);vn=(s.flags&131072)!==0}else vn=!1,it&&(l.flags&1048576)!==0&&Bb(l,Gh,l.index);switch(l.lanes=0,l.tag){case 16:e:{s=l.pendingProps;var g=l.elementType,T=g._init;if(g=T(g._payload),l.type=g,typeof g=="function")tv(g)?(s=Ga(g,s),l.tag=1,l=ix(null,l,g,s,d)):(l.tag=0,l=Bv(null,l,g,s,d));else{if(g!=null){if(T=g.$$typeof,T===U){l.tag=11,l=QC(null,l,g,s,d);break e}else if(T===O){l.tag=14,l=ZC(null,l,g,s,d);break e}}throw l=Me(g)||g,Error(r(306,l,""))}}return l;case 0:return Bv(s,l,l.type,l.pendingProps,d);case 1:return g=l.type,T=Ga(g,l.pendingProps),ix(s,l,g,T,d);case 3:e:{if(rt(l,l.stateNode.containerInfo),s===null)throw Error(r(387));g=l.pendingProps;var S=l.memoizedState;T=S.element,mv(s,l),ff(l,g,null,d);var I=l.memoizedState;if(g=I.cache,ps(l,ln,g),g!==S.cache&&uv(l,[ln],d,!0),cf(),g=I.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:I.cache},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){l=ox(s,l,g,d);break e}else if(g!==T){T=$r(Error(r(424)),l),nf(T),l=ox(s,l,g,d);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Bt=hi(s.firstChild),er=l,it=!0,Ba=null,Bi=!0,d=FC(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(tf(),g===T){l=xo(s,l,d);break e}In(s,l,g,d)}l=l.child}return l;case 26:return fp(s,l),s===null?(d=h1(l.type,null,l.pendingProps,null))?l.memoizedState=d:it||(d=l.type,s=l.pendingProps,g=Cp(Ne.current).createElement(d),g[on]=l,g[Wt]=s,Mn(g,d,s),zt(g),l.stateNode=g):l.memoizedState=h1(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return he(l),s===null&&it&&(g=l.stateNode=c1(l.type,l.pendingProps,Ne.current),er=l,Bi=!0,T=Bt,Is(l.type)?(C0=T,Bt=hi(g.firstChild)):Bt=T),In(s,l,l.pendingProps.children,d),fp(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&it&&((T=g=Bt)&&(g=W6(g,l.type,l.pendingProps,Bi),g!==null?(l.stateNode=g,er=l,Bt=hi(g.firstChild),Bi=!1,T=!0):T=!1),T||qa(l)),he(l),T=l.type,S=l.pendingProps,I=s!==null?s.memoizedProps:null,g=S.children,S0(T,S)?g=null:I!==null&&S0(T,I)&&(l.flags|=32),l.memoizedState!==null&&(T=Ev(s,l,h6,null,null,d),Df._currentValue=T),fp(s,l),In(s,l,g,d),l.child;case 6:return s===null&&it&&((s=d=Bt)&&(d=J6(d,l.pendingProps,Bi),d!==null?(l.stateNode=d,er=l,Bt=null,s=!0):s=!1),s||qa(l)),null;case 13:return sx(s,l,d);case 4:return rt(l,l.stateNode.containerInfo),g=l.pendingProps,s===null?l.child=du(l,null,g,d):In(s,l,g,d),l.child;case 11:return QC(s,l,l.type,l.pendingProps,d);case 7:return In(s,l,l.pendingProps,d),l.child;case 8:return In(s,l,l.pendingProps.children,d),l.child;case 12:return In(s,l,l.pendingProps.children,d),l.child;case 10:return g=l.pendingProps,ps(l,l.type,g.value),In(s,l,g.children,d),l.child;case 9:return T=l.type._context,g=l.pendingProps.children,$a(l),T=Bn(T),g=g(T),l.flags|=1,In(s,l,g,d),l.child;case 14:return ZC(s,l,l.type,l.pendingProps,d);case 15:return ex(s,l,l.type,l.pendingProps,d);case 19:return lx(s,l,d);case 31:return g=l.pendingProps,d=l.mode,g={mode:g.mode,children:g.children},s===null?(d=dp(g,d),d.ref=l.ref,l.child=d,d.return=l,l=d):(d=To(s.child,g),d.ref=l.ref,l.child=d,d.return=l,l=d),l;case 22:return tx(s,l,d);case 24:return $a(l),g=Bn(ln),s===null?(T=dv(),T===null&&(T=Et,S=cv(),T.pooledCache=S,S.refCount++,S!==null&&(T.pooledCacheLanes|=d),T=S),l.memoizedState={parent:g,cache:T},pv(l),ps(l,ln,T)):((s.lanes&d)!==0&&(mv(s,l),ff(l,null,null,d),cf()),T=s.memoizedState,S=l.memoizedState,T.parent!==g?(T={parent:g,cache:g},l.memoizedState=T,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=T),ps(l,ln,g)):(g=S.cache,ps(l,ln,g),g!==T.cache&&uv(l,[ln],d,!0))),In(s,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Ro(s){s.flags|=4}function cx(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!v1(l)){if(l=Kr.current,l!==null&&((Ze&4194048)===Ze?qi!==null:(Ze&62914560)!==Ze&&(Ze&536870912)===0||l!==qi))throw lf=hv,jb;s.flags|=8192}}function hp(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?Oc():536870912,s.lanes|=l,gu|=l)}function vf(s,l){if(!it)switch(s.tailMode){case"hidden":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Lt(s){var l=s.alternate!==null&&s.alternate.child===s.child,d=0,g=0;if(l)for(var T=s.child;T!==null;)d|=T.lanes|T.childLanes,g|=T.subtreeFlags&65011712,g|=T.flags&65011712,T.return=s,T=T.sibling;else for(T=s.child;T!==null;)d|=T.lanes|T.childLanes,g|=T.subtreeFlags,g|=T.flags,T.return=s,T=T.sibling;return s.subtreeFlags|=g,s.childLanes=d,l}function S6(s,l,d){var g=l.pendingProps;switch(ov(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(l),null;case 1:return Lt(l),null;case 3:return d=l.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),Ao(ln),Z(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(ef(l)?Ro(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,$b())),Lt(l),null;case 26:return d=l.memoizedState,s===null?(Ro(l),d!==null?(Lt(l),cx(l,d)):(Lt(l),l.flags&=-16777217)):d?d!==s.memoizedState?(Ro(l),Lt(l),cx(l,d)):(Lt(l),l.flags&=-16777217):(s.memoizedProps!==g&&Ro(l),Lt(l),l.flags&=-16777217),null;case 27:ge(l),d=Ne.current;var T=l.type;if(s!==null&&l.stateNode!=null)s.memoizedProps!==g&&Ro(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Lt(l),null}s=Ae.current,ef(l)?qb(l):(s=c1(T,g,d),l.stateNode=s,Ro(l))}return Lt(l),null;case 5:if(ge(l),d=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==g&&Ro(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Lt(l),null}if(s=Ae.current,ef(l))qb(l);else{switch(T=Cp(Ne.current),s){case 1:s=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:s=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":s=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":s=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof g.is=="string"?T.createElement("select",{is:g.is}):T.createElement("select"),g.multiple?s.multiple=!0:g.size&&(s.size=g.size);break;default:s=typeof g.is=="string"?T.createElement(d,{is:g.is}):T.createElement(d)}}s[on]=l,s[Wt]=g;e:for(T=l.child;T!==null;){if(T.tag===5||T.tag===6)s.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===l)break e;for(;T.sibling===null;){if(T.return===null||T.return===l)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}l.stateNode=s;e:switch(Mn(s,d,g),d){case"button":case"input":case"select":case"textarea":s=!!g.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Ro(l)}}return Lt(l),l.flags&=-16777217,null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==g&&Ro(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(s=Ne.current,ef(l)){if(s=l.stateNode,d=l.memoizedProps,g=null,T=er,T!==null)switch(T.tag){case 27:case 5:g=T.memoizedProps}s[on]=l,s=!!(s.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||r1(s.nodeValue,d)),s||qa(l)}else s=Cp(s).createTextNode(g),s[on]=l,l.stateNode=s}return Lt(l),null;case 13:if(g=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(T=ef(l),g!==null&&g.dehydrated!==null){if(s===null){if(!T)throw Error(r(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[on]=l}else tf(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Lt(l),T=!1}else T=$b(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=T),T=!0;if(!T)return l.flags&256?(Co(l),l):(Co(l),null)}if(Co(l),(l.flags&128)!==0)return l.lanes=d,l;if(d=g!==null,s=s!==null&&s.memoizedState!==null,d){g=l.child,T=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(T=g.alternate.memoizedState.cachePool.pool);var S=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(S=g.memoizedState.cachePool.pool),S!==T&&(g.flags|=2048)}return d!==s&&d&&(l.child.flags|=8192),hp(l,l.updateQueue),Lt(l),null;case 4:return Z(),s===null&&y0(l.stateNode.containerInfo),Lt(l),null;case 10:return Ao(l.type),Lt(l),null;case 19:if(se(un),T=l.memoizedState,T===null)return Lt(l),null;if(g=(l.flags&128)!==0,S=T.rendering,S===null)if(g)vf(T,!1);else{if(qt!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(S=lp(s),S!==null){for(l.flags|=128,vf(T,!1),s=S.updateQueue,l.updateQueue=s,hp(l,s),l.subtreeFlags=0,s=d,d=l.child;d!==null;)Vb(d,s),d=d.sibling;return me(un,un.current&1|2),l.child}s=s.sibling}T.tail!==null&&bt()>gp&&(l.flags|=128,g=!0,vf(T,!1),l.lanes=4194304)}else{if(!g)if(s=lp(S),s!==null){if(l.flags|=128,g=!0,s=s.updateQueue,l.updateQueue=s,hp(l,s),vf(T,!0),T.tail===null&&T.tailMode==="hidden"&&!S.alternate&&!it)return Lt(l),null}else 2*bt()-T.renderingStartTime>gp&&d!==536870912&&(l.flags|=128,g=!0,vf(T,!1),l.lanes=4194304);T.isBackwards?(S.sibling=l.child,l.child=S):(s=T.last,s!==null?s.sibling=S:l.child=S,T.last=S)}return T.tail!==null?(l=T.tail,T.rendering=l,T.tail=l.sibling,T.renderingStartTime=bt(),l.sibling=null,s=un.current,me(un,g?s&1|2:s&1),l):(Lt(l),null);case 22:case 23:return Co(l),_v(),g=l.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(d&536870912)!==0&&(l.flags&128)===0&&(Lt(l),l.subtreeFlags&6&&(l.flags|=8192)):Lt(l),d=l.updateQueue,d!==null&&hp(l,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==d&&(l.flags|=2048),s!==null&&se(Ha),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Ao(ln),Lt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function w6(s,l){switch(ov(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Ao(ln),Z(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return ge(l),null;case 13:if(Co(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));tf()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return se(un),null;case 4:return Z(),null;case 10:return Ao(l.type),null;case 22:case 23:return Co(l),_v(),s!==null&&se(Ha),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return Ao(ln),null;case 25:return null;default:return null}}function fx(s,l){switch(ov(l),l.tag){case 3:Ao(ln),Z();break;case 26:case 27:case 5:ge(l);break;case 4:Z();break;case 13:Co(l);break;case 19:se(un);break;case 10:Ao(l.type);break;case 22:case 23:Co(l),_v(),s!==null&&se(Ha);break;case 24:Ao(ln)}}function _f(s,l){try{var d=l.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var T=g.next;d=T;do{if((d.tag&s)===s){g=void 0;var S=d.create,I=d.inst;g=S(),I.destroy=g}d=d.next}while(d!==T)}}catch(L){_t(l,l.return,L)}}function Es(s,l,d){try{var g=l.updateQueue,T=g!==null?g.lastEffect:null;if(T!==null){var S=T.next;g=S;do{if((g.tag&s)===s){var I=g.inst,L=I.destroy;if(L!==void 0){I.destroy=void 0,T=l;var K=d,Q=L;try{Q()}catch(ae){_t(T,K,ae)}}}g=g.next}while(g!==S)}}catch(ae){_t(l,l.return,ae)}}function dx(s){var l=s.updateQueue;if(l!==null){var d=s.stateNode;try{Zb(l,d)}catch(g){_t(s,s.return,g)}}}function hx(s,l,d){d.props=Ga(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(g){_t(s,l,g)}}function Tf(s,l){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof d=="function"?s.refCleanup=d(g):d.current=g}}catch(T){_t(s,l,T)}}function Fi(s,l){var d=s.ref,g=s.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(T){_t(s,l,T)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(T){_t(s,l,T)}else d.current=null}function px(s){var l=s.type,d=s.memoizedProps,g=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(T){_t(s,s.return,T)}}function jv(s,l,d){try{var g=s.stateNode;z6(g,s.type,d,l),g[Wt]=l}catch(T){_t(s,s.return,T)}}function mx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Is(s.type)||s.tag===4}function Yv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||mx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Is(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Wv(s,l,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(s),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=bp));else if(g!==4&&(g===27&&Is(s.type)&&(d=s.stateNode,l=null),s=s.child,s!==null))for(Wv(s,l,d),s=s.sibling;s!==null;)Wv(s,l,d),s=s.sibling}function pp(s,l,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?d.insertBefore(s,l):d.appendChild(s);else if(g!==4&&(g===27&&Is(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(pp(s,l,d),s=s.sibling;s!==null;)pp(s,l,d),s=s.sibling}function gx(s){var l=s.stateNode,d=s.memoizedProps;try{for(var g=s.type,T=l.attributes;T.length;)l.removeAttributeNode(T[0]);Mn(l,g,d),l[on]=s,l[Wt]=d}catch(S){_t(s,s.return,S)}}var Io=!1,Kt=!1,Jv=!1,yx=typeof WeakSet=="function"?WeakSet:Set,_n=null;function A6(s,l){if(s=s.containerInfo,T0=Np,s=Rb(s),Yy(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var T=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var I=0,L=-1,K=-1,Q=0,ae=0,fe=s,ee=null;t:for(;;){for(var te;fe!==d||T!==0&&fe.nodeType!==3||(L=I+T),fe!==S||g!==0&&fe.nodeType!==3||(K=I+g),fe.nodeType===3&&(I+=fe.nodeValue.length),(te=fe.firstChild)!==null;)ee=fe,fe=te;for(;;){if(fe===s)break t;if(ee===d&&++Q===T&&(L=I),ee===S&&++ae===g&&(K=I),(te=fe.nextSibling)!==null)break;fe=ee,ee=fe.parentNode}fe=te}d=L===-1||K===-1?null:{start:L,end:K}}else d=null}d=d||{start:0,end:0}}else d=null;for(E0={focusedElem:s,selectionRange:d},Np=!1,_n=l;_n!==null;)if(l=_n,s=l.child,(l.subtreeFlags&1024)!==0&&s!==null)s.return=l,_n=s;else for(;_n!==null;){switch(l=_n,S=l.alternate,s=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&S!==null){s=void 0,d=l,T=S.memoizedProps,S=S.memoizedState,g=d.stateNode;try{var Be=Ga(d.type,T,d.elementType===d.type);s=g.getSnapshotBeforeUpdate(Be,S),g.__reactInternalSnapshotBeforeUpdate=s}catch(De){_t(d,d.return,De)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,d=s.nodeType,d===9)A0(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":A0(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,_n=s;break}_n=l.return}}function vx(s,l,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:Ss(s,d),g&4&&_f(5,d);break;case 1:if(Ss(s,d),g&4)if(s=d.stateNode,l===null)try{s.componentDidMount()}catch(I){_t(d,d.return,I)}else{var T=Ga(d.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(T,l,s.__reactInternalSnapshotBeforeUpdate)}catch(I){_t(d,d.return,I)}}g&64&&dx(d),g&512&&Tf(d,d.return);break;case 3:if(Ss(s,d),g&64&&(s=d.updateQueue,s!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{Zb(s,l)}catch(I){_t(d,d.return,I)}}break;case 27:l===null&&g&4&&gx(d);case 26:case 5:Ss(s,d),l===null&&g&4&&px(d),g&512&&Tf(d,d.return);break;case 12:Ss(s,d);break;case 13:Ss(s,d),g&4&&Ex(s,d),g&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=D6.bind(null,d),X6(s,d))));break;case 22:if(g=d.memoizedState!==null||Io,!g){l=l!==null&&l.memoizedState!==null||Kt,T=Io;var S=Kt;Io=g,(Kt=l)&&!S?ws(s,d,(d.subtreeFlags&8772)!==0):Ss(s,d),Io=T,Kt=S}break;case 30:break;default:Ss(s,d)}}function _x(s){var l=s.alternate;l!==null&&(s.alternate=null,_x(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&cs(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Mt=null,or=!1;function Po(s,l,d){for(d=d.child;d!==null;)Tx(s,l,d),d=d.sibling}function Tx(s,l,d){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Vt,d)}catch{}switch(d.tag){case 26:Kt||Fi(d,l),Po(s,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Kt||Fi(d,l);var g=Mt,T=or;Is(d.type)&&(Mt=d.stateNode,or=!1),Po(s,l,d),If(d.stateNode),Mt=g,or=T;break;case 5:Kt||Fi(d,l);case 6:if(g=Mt,T=or,Mt=null,Po(s,l,d),Mt=g,or=T,Mt!==null)if(or)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(d.stateNode)}catch(S){_t(d,l,S)}else try{Mt.removeChild(d.stateNode)}catch(S){_t(d,l,S)}break;case 18:Mt!==null&&(or?(s=Mt,l1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),Uf(s)):l1(Mt,d.stateNode));break;case 4:g=Mt,T=or,Mt=d.stateNode.containerInfo,or=!0,Po(s,l,d),Mt=g,or=T;break;case 0:case 11:case 14:case 15:Kt||Es(2,d,l),Kt||Es(4,d,l),Po(s,l,d);break;case 1:Kt||(Fi(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"&&hx(d,l,g)),Po(s,l,d);break;case 21:Po(s,l,d);break;case 22:Kt=(g=Kt)||d.memoizedState!==null,Po(s,l,d),Kt=g;break;default:Po(s,l,d)}}function Ex(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Uf(s)}catch(d){_t(l,l.return,d)}}function b6(s){switch(s.tag){case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new yx),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new yx),l;default:throw Error(r(435,s.tag))}}function Xv(s,l){var d=b6(s);l.forEach(function(g){var T=O6.bind(null,s,g);d.has(g)||(d.add(g),g.then(T,T))})}function vr(s,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var T=d[g],S=s,I=l,L=I;e:for(;L!==null;){switch(L.tag){case 27:if(Is(L.type)){Mt=L.stateNode,or=!1;break e}break;case 5:Mt=L.stateNode,or=!1;break e;case 3:case 4:Mt=L.stateNode.containerInfo,or=!0;break e}L=L.return}if(Mt===null)throw Error(r(160));Tx(S,I,T),Mt=null,or=!1,S=T.alternate,S!==null&&(S.return=null),T.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)Sx(l,s),l=l.sibling}var di=null;function Sx(s,l){var d=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:vr(l,s),_r(s),g&4&&(Es(3,s,s.return),_f(3,s),Es(5,s,s.return));break;case 1:vr(l,s),_r(s),g&512&&(Kt||d===null||Fi(d,d.return)),g&64&&Io&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var T=di;if(vr(l,s),_r(s),g&512&&(Kt||d===null||Fi(d,d.return)),g&4){var S=d!==null?d.memoizedState:null;if(g=s.memoizedState,d===null)if(g===null)if(s.stateNode===null){e:{g=s.type,d=s.memoizedProps,T=T.ownerDocument||T;t:switch(g){case"title":S=T.getElementsByTagName("title")[0],(!S||S[Ta]||S[on]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=T.createElement(g),T.head.insertBefore(S,T.querySelector("head > title"))),Mn(S,g,d),S[on]=s,zt(S),g=S;break e;case"link":var I=g1("link","href",T).get(g+(d.href||""));if(I){for(var L=0;L<I.length;L++)if(S=I[L],S.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&S.getAttribute("rel")===(d.rel==null?null:d.rel)&&S.getAttribute("title")===(d.title==null?null:d.title)&&S.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){I.splice(L,1);break t}}S=T.createElement(g),Mn(S,g,d),T.head.appendChild(S);break;case"meta":if(I=g1("meta","content",T).get(g+(d.content||""))){for(L=0;L<I.length;L++)if(S=I[L],S.getAttribute("content")===(d.content==null?null:""+d.content)&&S.getAttribute("name")===(d.name==null?null:d.name)&&S.getAttribute("property")===(d.property==null?null:d.property)&&S.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&S.getAttribute("charset")===(d.charSet==null?null:d.charSet)){I.splice(L,1);break t}}S=T.createElement(g),Mn(S,g,d),T.head.appendChild(S);break;default:throw Error(r(468,g))}S[on]=s,zt(S),g=S}s.stateNode=g}else y1(T,s.type,s.stateNode);else s.stateNode=m1(T,g,s.memoizedProps);else S!==g?(S===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):S.count--,g===null?y1(T,s.type,s.stateNode):m1(T,g,s.memoizedProps)):g===null&&s.stateNode!==null&&jv(s,s.memoizedProps,d.memoizedProps)}break;case 27:vr(l,s),_r(s),g&512&&(Kt||d===null||Fi(d,d.return)),d!==null&&g&4&&jv(s,s.memoizedProps,d.memoizedProps);break;case 5:if(vr(l,s),_r(s),g&512&&(Kt||d===null||Fi(d,d.return)),s.flags&32){T=s.stateNode;try{Vr(T,"")}catch(te){_t(s,s.return,te)}}g&4&&s.stateNode!=null&&(T=s.memoizedProps,jv(s,T,d!==null?d.memoizedProps:T)),g&1024&&(Jv=!0);break;case 6:if(vr(l,s),_r(s),g&4){if(s.stateNode===null)throw Error(r(162));g=s.memoizedProps,d=s.stateNode;try{d.nodeValue=g}catch(te){_t(s,s.return,te)}}break;case 3:if(Ip=null,T=di,di=xp(l.containerInfo),vr(l,s),di=T,_r(s),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Uf(l.containerInfo)}catch(te){_t(s,s.return,te)}Jv&&(Jv=!1,wx(s));break;case 4:g=di,di=xp(s.stateNode.containerInfo),vr(l,s),_r(s),di=g;break;case 12:vr(l,s),_r(s);break;case 13:vr(l,s),_r(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(r0=bt()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Xv(s,g)));break;case 22:T=s.memoizedState!==null;var K=d!==null&&d.memoizedState!==null,Q=Io,ae=Kt;if(Io=Q||T,Kt=ae||K,vr(l,s),Kt=ae,Io=Q,_r(s),g&8192)e:for(l=s.stateNode,l._visibility=T?l._visibility&-2:l._visibility|1,T&&(d===null||K||Io||Kt||Ka(s)),d=null,l=s;;){if(l.tag===5||l.tag===26){if(d===null){K=d=l;try{if(S=K.stateNode,T)I=S.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{L=K.stateNode;var fe=K.memoizedProps.style,ee=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;L.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){_t(K,K.return,te)}}}else if(l.tag===6){if(d===null){K=l;try{K.stateNode.nodeValue=T?"":K.memoizedProps}catch(te){_t(K,K.return,te)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=s.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,Xv(s,d))));break;case 19:vr(l,s),_r(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Xv(s,g)));break;case 30:break;case 21:break;default:vr(l,s),_r(s)}}function _r(s){var l=s.flags;if(l&2){try{for(var d,g=s.return;g!==null;){if(mx(g)){d=g;break}g=g.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var T=d.stateNode,S=Yv(s);pp(s,S,T);break;case 5:var I=d.stateNode;d.flags&32&&(Vr(I,""),d.flags&=-33);var L=Yv(s);pp(s,L,I);break;case 3:case 4:var K=d.stateNode.containerInfo,Q=Yv(s);Wv(s,Q,K);break;default:throw Error(r(161))}}catch(ae){_t(s,s.return,ae)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function wx(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;wx(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Ss(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)vx(s,l.alternate,l),l=l.sibling}function Ka(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:Es(4,l,l.return),Ka(l);break;case 1:Fi(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&hx(l,l.return,d),Ka(l);break;case 27:If(l.stateNode);case 26:case 5:Fi(l,l.return),Ka(l);break;case 22:l.memoizedState===null&&Ka(l);break;case 30:Ka(l);break;default:Ka(l)}s=s.sibling}}function ws(s,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,T=s,S=l,I=S.flags;switch(S.tag){case 0:case 11:case 15:ws(T,S,d),_f(4,S);break;case 1:if(ws(T,S,d),g=S,T=g.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Q){_t(g,g.return,Q)}if(g=S,T=g.updateQueue,T!==null){var L=g.stateNode;try{var K=T.shared.hiddenCallbacks;if(K!==null)for(T.shared.hiddenCallbacks=null,T=0;T<K.length;T++)Qb(K[T],L)}catch(Q){_t(g,g.return,Q)}}d&&I&64&&dx(S),Tf(S,S.return);break;case 27:gx(S);case 26:case 5:ws(T,S,d),d&&g===null&&I&4&&px(S),Tf(S,S.return);break;case 12:ws(T,S,d);break;case 13:ws(T,S,d),d&&I&4&&Ex(T,S);break;case 22:S.memoizedState===null&&ws(T,S,d),Tf(S,S.return);break;case 30:break;default:ws(T,S,d)}l=l.sibling}}function Qv(s,l){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&of(d))}function Zv(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&of(s))}function $i(s,l,d,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Ax(s,l,d,g),l=l.sibling}function Ax(s,l,d,g){var T=l.flags;switch(l.tag){case 0:case 11:case 15:$i(s,l,d,g),T&2048&&_f(9,l);break;case 1:$i(s,l,d,g);break;case 3:$i(s,l,d,g),T&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&of(s)));break;case 12:if(T&2048){$i(s,l,d,g),s=l.stateNode;try{var S=l.memoizedProps,I=S.id,L=S.onPostCommit;typeof L=="function"&&L(I,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(K){_t(l,l.return,K)}}else $i(s,l,d,g);break;case 13:$i(s,l,d,g);break;case 23:break;case 22:S=l.stateNode,I=l.alternate,l.memoizedState!==null?S._visibility&2?$i(s,l,d,g):Ef(s,l):S._visibility&2?$i(s,l,d,g):(S._visibility|=2,hu(s,l,d,g,(l.subtreeFlags&10256)!==0)),T&2048&&Qv(I,l);break;case 24:$i(s,l,d,g),T&2048&&Zv(l.alternate,l);break;default:$i(s,l,d,g)}}function hu(s,l,d,g,T){for(T=T&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var S=s,I=l,L=d,K=g,Q=I.flags;switch(I.tag){case 0:case 11:case 15:hu(S,I,L,K,T),_f(8,I);break;case 23:break;case 22:var ae=I.stateNode;I.memoizedState!==null?ae._visibility&2?hu(S,I,L,K,T):Ef(S,I):(ae._visibility|=2,hu(S,I,L,K,T)),T&&Q&2048&&Qv(I.alternate,I);break;case 24:hu(S,I,L,K,T),T&&Q&2048&&Zv(I.alternate,I);break;default:hu(S,I,L,K,T)}l=l.sibling}}function Ef(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=s,g=l,T=g.flags;switch(g.tag){case 22:Ef(d,g),T&2048&&Qv(g.alternate,g);break;case 24:Ef(d,g),T&2048&&Zv(g.alternate,g);break;default:Ef(d,g)}l=l.sibling}}var Sf=8192;function pu(s){if(s.subtreeFlags&Sf)for(s=s.child;s!==null;)bx(s),s=s.sibling}function bx(s){switch(s.tag){case 26:pu(s),s.flags&Sf&&s.memoizedState!==null&&cq(di,s.memoizedState,s.memoizedProps);break;case 5:pu(s);break;case 3:case 4:var l=di;di=xp(s.stateNode.containerInfo),pu(s),di=l;break;case 22:s.memoizedState===null&&(l=s.alternate,l!==null&&l.memoizedState!==null?(l=Sf,Sf=16777216,pu(s),Sf=l):pu(s));break;default:pu(s)}}function Cx(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function wf(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];_n=g,Rx(g,s)}Cx(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)xx(s),s=s.sibling}function xx(s){switch(s.tag){case 0:case 11:case 15:wf(s),s.flags&2048&&Es(9,s,s.return);break;case 3:wf(s);break;case 12:wf(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,mp(s)):wf(s);break;default:wf(s)}}function mp(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];_n=g,Rx(g,s)}Cx(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:Es(8,l,l.return),mp(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,mp(l));break;default:mp(l)}s=s.sibling}}function Rx(s,l){for(;_n!==null;){var d=_n;switch(d.tag){case 0:case 11:case 15:Es(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:of(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,_n=g;else e:for(d=s;_n!==null;){g=_n;var T=g.sibling,S=g.return;if(_x(g),g===d){_n=null;break e}if(T!==null){T.return=S,_n=T;break e}_n=S}}}var C6={getCacheForType:function(s){var l=Bn(ln),d=l.data.get(s);return d===void 0&&(d=s(),l.data.set(s,d)),d}},x6=typeof WeakMap=="function"?WeakMap:Map,ut=0,Et=null,Ke=null,Ze=0,ct=0,Tr=null,As=!1,mu=!1,e0=!1,Mo=0,qt=0,bs=0,ja=0,t0=0,jr=0,gu=0,Af=null,sr=null,n0=!1,r0=0,gp=1/0,yp=null,Cs=null,Pn=0,xs=null,yu=null,vu=0,i0=0,o0=null,Ix=null,bf=0,s0=null;function Er(){if((ut&2)!==0&&Ze!==0)return Ze&-Ze;if(ne.T!==null){var s=ou;return s!==0?s:h0()}return ls()}function Px(){jr===0&&(jr=(Ze&536870912)===0||it?Dc():536870912);var s=Kr.current;return s!==null&&(s.flags|=32),jr}function Sr(s,l,d){(s===Et&&(ct===2||ct===9)||s.cancelPendingCommit!==null)&&(_u(s,0),Rs(s,Ze,jr,!1)),lo(s,d),((ut&2)===0||s!==Et)&&(s===Et&&((ut&2)===0&&(ja|=d),qt===4&&Rs(s,Ze,jr,!1)),Hi(s))}function Mx(s,l,d){if((ut&6)!==0)throw Error(r(327));var g=!d&&(l&124)===0&&(l&s.expiredLanes)===0||_a(s,l),T=g?P6(s,l):u0(s,l,!0),S=g;do{if(T===0){mu&&!g&&Rs(s,l,0,!1);break}else{if(d=s.current.alternate,S&&!R6(d)){T=u0(s,l,!1),S=!1;continue}if(T===2){if(S=l,s.errorRecoveryDisabledLanes&S)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){l=I;e:{var L=s;T=Af;var K=L.current.memoizedState.isDehydrated;if(K&&(_u(L,I).flags|=256),I=u0(L,I,!1),I!==2){if(e0&&!K){L.errorRecoveryDisabledLanes|=S,ja|=S,T=4;break e}S=sr,sr=T,S!==null&&(sr===null?sr=S:sr.push.apply(sr,S))}T=I}if(S=!1,T!==2)continue}}if(T===1){_u(s,0),Rs(s,l,0,!0);break}e:{switch(g=s,S=T,S){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Rs(g,l,jr,!As);break e;case 2:sr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(T=r0+300-bt(),10<T)){if(Rs(g,l,jr,!As),Ll(g,0,!0)!==0)break e;g.timeoutHandle=s1(Nx.bind(null,g,d,sr,yp,n0,l,jr,ja,gu,As,S,2,-0,0),T);break e}Nx(g,d,sr,yp,n0,l,jr,ja,gu,As,S,0,-0,0)}}break}while(!0);Hi(s)}function Nx(s,l,d,g,T,S,I,L,K,Q,ae,fe,ee,te){if(s.timeoutHandle=-1,fe=l.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(Nf={stylesheets:null,count:0,unsuspend:uq},bx(l),fe=fq(),fe!==null)){s.cancelPendingCommit=fe(Bx.bind(null,s,l,S,d,g,T,I,L,K,ae,1,ee,te)),Rs(s,S,I,!Q);return}Bx(s,l,S,d,g,T,I,L,K)}function R6(s){for(var l=s;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var T=d[g],S=T.getSnapshot;T=T.value;try{if(!gr(S(),T))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Rs(s,l,d,g){l&=~t0,l&=~ja,s.suspendedLanes|=l,s.pingedLanes&=~l,g&&(s.warmLanes|=l),g=s.expirationTimes;for(var T=l;0<T;){var S=31-Vn(T),I=1<<S;g[S]=-1,T&=~I}d!==0&&Ri(s,d,l)}function vp(){return(ut&6)===0?(Cf(0),!1):!0}function a0(){if(Ke!==null){if(ct===0)var s=Ke.return;else s=Ke,wo=Fa=null,Av(s),fu=null,gf=0,s=Ke;for(;s!==null;)fx(s.alternate,s),s=s.return;Ke=null}}function _u(s,l){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,K6(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),a0(),Et=s,Ke=d=To(s.current,null),Ze=l,ct=0,Tr=null,As=!1,mu=_a(s,l),e0=!1,gu=jr=t0=ja=bs=qt=0,sr=Af=null,n0=!1,(l&8)!==0&&(l|=l&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=l;0<g;){var T=31-Vn(g),S=1<<T;l|=s[T],g&=~S}return Mo=l,qh(),d}function Dx(s,l){ze=null,ne.H=op,l===af||l===Wh?(l=Jb(),ct=3):l===jb?(l=Jb(),ct=4):ct=l===XC?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Tr=l,Ke===null&&(qt=1,cp(s,$r(l,s.current)))}function Ox(){var s=ne.H;return ne.H=op,s===null?op:s}function kx(){var s=ne.A;return ne.A=C6,s}function l0(){qt=4,As||(Ze&4194048)!==Ze&&Kr.current!==null||(mu=!0),(bs&134217727)===0&&(ja&134217727)===0||Et===null||Rs(Et,Ze,jr,!1)}function u0(s,l,d){var g=ut;ut|=2;var T=Ox(),S=kx();(Et!==s||Ze!==l)&&(yp=null,_u(s,l)),l=!1;var I=qt;e:do try{if(ct!==0&&Ke!==null){var L=Ke,K=Tr;switch(ct){case 8:a0(),I=6;break e;case 3:case 2:case 9:case 6:Kr.current===null&&(l=!0);var Q=ct;if(ct=0,Tr=null,Tu(s,L,K,Q),d&&mu){I=0;break e}break;default:Q=ct,ct=0,Tr=null,Tu(s,L,K,Q)}}I6(),I=qt;break}catch(ae){Dx(s,ae)}while(!0);return l&&s.shellSuspendCounter++,wo=Fa=null,ut=g,ne.H=T,ne.A=S,Ke===null&&(Et=null,Ze=0,qh()),I}function I6(){for(;Ke!==null;)Lx(Ke)}function P6(s,l){var d=ut;ut|=2;var g=Ox(),T=kx();Et!==s||Ze!==l?(yp=null,gp=bt()+500,_u(s,l)):mu=_a(s,l);e:do try{if(ct!==0&&Ke!==null){l=Ke;var S=Tr;t:switch(ct){case 1:ct=0,Tr=null,Tu(s,l,S,1);break;case 2:case 9:if(Yb(S)){ct=0,Tr=null,Ux(l);break}l=function(){ct!==2&&ct!==9||Et!==s||(ct=7),Hi(s)},S.then(l,l);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:Yb(S)?(ct=0,Tr=null,Ux(l)):(ct=0,Tr=null,Tu(s,l,S,7));break;case 5:var I=null;switch(Ke.tag){case 26:I=Ke.memoizedState;case 5:case 27:var L=Ke;if(!I||v1(I)){ct=0,Tr=null;var K=L.sibling;if(K!==null)Ke=K;else{var Q=L.return;Q!==null?(Ke=Q,_p(Q)):Ke=null}break t}}ct=0,Tr=null,Tu(s,l,S,5);break;case 6:ct=0,Tr=null,Tu(s,l,S,6);break;case 8:a0(),qt=6;break e;default:throw Error(r(462))}}M6();break}catch(ae){Dx(s,ae)}while(!0);return wo=Fa=null,ne.H=g,ne.A=T,ut=d,Ke!==null?0:(Et=null,Ze=0,qh(),qt)}function M6(){for(;Ke!==null&&!ht();)Lx(Ke)}function Lx(s){var l=ux(s.alternate,s,Mo);s.memoizedProps=s.pendingProps,l===null?_p(s):Ke=l}function Ux(s){var l=s,d=l.alternate;switch(l.tag){case 15:case 0:l=rx(d,l,l.pendingProps,l.type,void 0,Ze);break;case 11:l=rx(d,l,l.pendingProps,l.type.render,l.ref,Ze);break;case 5:Av(l);default:fx(d,l),l=Ke=Vb(l,Mo),l=ux(d,l,Mo)}s.memoizedProps=s.pendingProps,l===null?_p(s):Ke=l}function Tu(s,l,d,g){wo=Fa=null,Av(l),fu=null,gf=0;var T=l.return;try{if(T6(s,T,l,d,Ze)){qt=1,cp(s,$r(d,s.current)),Ke=null;return}}catch(S){if(T!==null)throw Ke=T,S;qt=1,cp(s,$r(d,s.current)),Ke=null;return}l.flags&32768?(it||g===1?s=!0:mu||(Ze&536870912)!==0?s=!1:(As=s=!0,(g===2||g===9||g===3||g===6)&&(g=Kr.current,g!==null&&g.tag===13&&(g.flags|=16384))),Vx(l,s)):_p(l)}function _p(s){var l=s;do{if((l.flags&32768)!==0){Vx(l,As);return}s=l.return;var d=S6(l.alternate,l,Mo);if(d!==null){Ke=d;return}if(l=l.sibling,l!==null){Ke=l;return}Ke=l=s}while(l!==null);qt===0&&(qt=5)}function Vx(s,l){do{var d=w6(s.alternate,s);if(d!==null){d.flags&=32767,Ke=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(s=s.sibling,s!==null)){Ke=s;return}Ke=s=d}while(s!==null);qt=6,Ke=null}function Bx(s,l,d,g,T,S,I,L,K){s.cancelPendingCommit=null;do Tp();while(Pn!==0);if((ut&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(S=l.lanes|l.childLanes,S|=Zy,kc(s,d,S,I,L,K),s===Et&&(Ke=Et=null,Ze=0),yu=l,xs=s,vu=d,i0=S,o0=T,Ix=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,k6(Wn,function(){return zx(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=ne.T,ne.T=null,T=pe.p,pe.p=2,I=ut,ut|=4;try{A6(s,l,d)}finally{ut=I,pe.p=T,ne.T=g}}Pn=1,qx(),Fx(),$x()}}function qx(){if(Pn===1){Pn=0;var s=xs,l=yu,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=ne.T,ne.T=null;var g=pe.p;pe.p=2;var T=ut;ut|=4;try{Sx(l,s);var S=E0,I=Rb(s.containerInfo),L=S.focusedElem,K=S.selectionRange;if(I!==L&&L&&L.ownerDocument&&xb(L.ownerDocument.documentElement,L)){if(K!==null&&Yy(L)){var Q=K.start,ae=K.end;if(ae===void 0&&(ae=Q),"selectionStart"in L)L.selectionStart=Q,L.selectionEnd=Math.min(ae,L.value.length);else{var fe=L.ownerDocument||document,ee=fe&&fe.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),Be=L.textContent.length,De=Math.min(K.start,Be),yt=K.end===void 0?De:Math.min(K.end,Be);!te.extend&&De>yt&&(I=yt,yt=De,De=I);var W=Cb(L,De),Y=Cb(L,yt);if(W&&Y&&(te.rangeCount!==1||te.anchorNode!==W.node||te.anchorOffset!==W.offset||te.focusNode!==Y.node||te.focusOffset!==Y.offset)){var X=fe.createRange();X.setStart(W.node,W.offset),te.removeAllRanges(),De>yt?(te.addRange(X),te.extend(Y.node,Y.offset)):(X.setEnd(Y.node,Y.offset),te.addRange(X))}}}}for(fe=[],te=L;te=te.parentNode;)te.nodeType===1&&fe.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<fe.length;L++){var ue=fe[L];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Np=!!T0,E0=T0=null}finally{ut=T,pe.p=g,ne.T=d}}s.current=l,Pn=2}}function Fx(){if(Pn===2){Pn=0;var s=xs,l=yu,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=ne.T,ne.T=null;var g=pe.p;pe.p=2;var T=ut;ut|=4;try{vx(s,l.alternate,l)}finally{ut=T,pe.p=g,ne.T=d}}Pn=3}}function $x(){if(Pn===4||Pn===3){Pn=0,kt();var s=xs,l=yu,d=vu,g=Ix;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Pn=5:(Pn=0,yu=xs=null,Hx(s,s.pendingLanes));var T=s.pendingLanes;if(T===0&&(Cs=null),Ul(d),l=l.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Vt,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=ne.T,T=pe.p,pe.p=2,ne.T=null;try{for(var S=s.onRecoverableError,I=0;I<g.length;I++){var L=g[I];S(L.value,{componentStack:L.stack})}}finally{ne.T=l,pe.p=T}}(vu&3)!==0&&Tp(),Hi(s),T=s.pendingLanes,(d&4194090)!==0&&(T&42)!==0?s===s0?bf++:(bf=0,s0=s):bf=0,Cf(0)}}function Hx(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,of(l)))}function Tp(s){return qx(),Fx(),$x(),zx()}function zx(){if(Pn!==5)return!1;var s=xs,l=i0;i0=0;var d=Ul(vu),g=ne.T,T=pe.p;try{pe.p=32>d?32:d,ne.T=null,d=o0,o0=null;var S=xs,I=vu;if(Pn=0,yu=xs=null,vu=0,(ut&6)!==0)throw Error(r(331));var L=ut;if(ut|=4,xx(S.current),Ax(S,S.current,I,d),ut=L,Cf(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Vt,S)}catch{}return!0}finally{pe.p=T,ne.T=g,Hx(s,l)}}function Gx(s,l,d){l=$r(d,l),l=Vv(s.stateNode,l,2),s=ys(s,l,2),s!==null&&(lo(s,2),Hi(s))}function _t(s,l,d){if(s.tag===3)Gx(s,s,d);else for(;l!==null;){if(l.tag===3){Gx(l,s,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Cs===null||!Cs.has(g))){s=$r(d,s),d=WC(2),g=ys(l,d,2),g!==null&&(JC(d,g,l,s),lo(g,2),Hi(g));break}}l=l.return}}function c0(s,l,d){var g=s.pingCache;if(g===null){g=s.pingCache=new x6;var T=new Set;g.set(l,T)}else T=g.get(l),T===void 0&&(T=new Set,g.set(l,T));T.has(d)||(e0=!0,T.add(d),s=N6.bind(null,s,l,d),l.then(s,s))}function N6(s,l,d){var g=s.pingCache;g!==null&&g.delete(l),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,Et===s&&(Ze&d)===d&&(qt===4||qt===3&&(Ze&62914560)===Ze&&300>bt()-r0?(ut&2)===0&&_u(s,0):t0|=d,gu===Ze&&(gu=0)),Hi(s)}function Kx(s,l){l===0&&(l=Oc()),s=tu(s,l),s!==null&&(lo(s,l),Hi(s))}function D6(s){var l=s.memoizedState,d=0;l!==null&&(d=l.retryLane),Kx(s,d)}function O6(s,l){var d=0;switch(s.tag){case 13:var g=s.stateNode,T=s.memoizedState;T!==null&&(d=T.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(l),Kx(s,d)}function k6(s,l){return Pe(s,l)}var Ep=null,Eu=null,f0=!1,Sp=!1,d0=!1,Ya=0;function Hi(s){s!==Eu&&s.next===null&&(Eu===null?Ep=Eu=s:Eu=Eu.next=s),Sp=!0,f0||(f0=!0,U6())}function Cf(s,l){if(!d0&&Sp){d0=!0;do for(var d=!1,g=Ep;g!==null;){if(s!==0){var T=g.pendingLanes;if(T===0)var S=0;else{var I=g.suspendedLanes,L=g.pingedLanes;S=(1<<31-Vn(42|s)+1)-1,S&=T&~(I&~L),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(d=!0,Jx(g,S))}else S=Ze,S=Ll(g,g===Et?S:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(S&3)===0||_a(g,S)||(d=!0,Jx(g,S));g=g.next}while(d);d0=!1}}function L6(){jx()}function jx(){Sp=f0=!1;var s=0;Ya!==0&&(G6()&&(s=Ya),Ya=0);for(var l=bt(),d=null,g=Ep;g!==null;){var T=g.next,S=Yx(g,l);S===0?(g.next=null,d===null?Ep=T:d.next=T,T===null&&(Eu=d)):(d=g,(s!==0||(S&3)!==0)&&(Sp=!0)),g=T}Cf(s)}function Yx(s,l){for(var d=s.suspendedLanes,g=s.pingedLanes,T=s.expirationTimes,S=s.pendingLanes&-62914561;0<S;){var I=31-Vn(S),L=1<<I,K=T[I];K===-1?((L&d)===0||(L&g)!==0)&&(T[I]=Nc(L,l)):K<=l&&(s.expiredLanes|=L),S&=~L}if(l=Et,d=Ze,d=Ll(s,s===l?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,d===0||s===l&&(ct===2||ct===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&Fe(g),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||_a(s,d)){if(l=d&-d,l===s.callbackPriority)return l;switch(g!==null&&Fe(g),Ul(d)){case 2:case 8:d=so;break;case 32:d=Wn;break;case 268435456:d=xi;break;default:d=Wn}return g=Wx.bind(null,s),d=Pe(d,g),s.callbackPriority=l,s.callbackNode=d,l}return g!==null&&g!==null&&Fe(g),s.callbackPriority=2,s.callbackNode=null,2}function Wx(s,l){if(Pn!==0&&Pn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(Tp()&&s.callbackNode!==d)return null;var g=Ze;return g=Ll(s,s===Et?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:(Mx(s,g,l),Yx(s,bt()),s.callbackNode!=null&&s.callbackNode===d?Wx.bind(null,s):null)}function Jx(s,l){if(Tp())return null;Mx(s,l,!0)}function U6(){j6(function(){(ut&6)!==0?Pe(Ci,L6):jx()})}function h0(){return Ya===0&&(Ya=Dc()),Ya}function Xx(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Hl(""+s)}function Qx(s,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,s.id&&d.setAttribute("form",s.id),l.parentNode.insertBefore(d,l),s=new FormData(s),d.parentNode.removeChild(d),s}function V6(s,l,d,g,T){if(l==="submit"&&d&&d.stateNode===T){var S=Xx((T[Wt]||null).action),I=g.submitter;I&&(l=(l=I[Wt]||null)?Xx(l.formAction):I.getAttribute("formAction"),l!==null&&(S=l,I=null));var L=new zl("action","action",null,g,T);s.push({event:L,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Ya!==0){var K=I?Qx(T,I):new FormData(T);Dv(d,{pending:!0,data:K,method:T.method,action:S},null,K)}}else typeof S=="function"&&(L.preventDefault(),K=I?Qx(T,I):new FormData(T),Dv(d,{pending:!0,data:K,method:T.method,action:S},S,K))},currentTarget:T}]})}}for(var p0=0;p0<Qy.length;p0++){var m0=Qy[p0],B6=m0.toLowerCase(),q6=m0[0].toUpperCase()+m0.slice(1);fi(B6,"on"+q6)}fi(Mb,"onAnimationEnd"),fi(Nb,"onAnimationIteration"),fi(Db,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(r6,"onTransitionRun"),fi(i6,"onTransitionStart"),fi(o6,"onTransitionCancel"),fi(Ob,"onTransitionEnd"),co("onMouseEnter",["mouseout","mouseover"]),co("onMouseLeave",["mouseout","mouseover"]),co("onPointerEnter",["pointerout","pointerover"]),co("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xf));function Zx(s,l){l=(l&4)!==0;for(var d=0;d<s.length;d++){var g=s[d],T=g.event;g=g.listeners;e:{var S=void 0;if(l)for(var I=g.length-1;0<=I;I--){var L=g[I],K=L.instance,Q=L.currentTarget;if(L=L.listener,K!==S&&T.isPropagationStopped())break e;S=L,T.currentTarget=Q;try{S(T)}catch(ae){up(ae)}T.currentTarget=null,S=K}else for(I=0;I<g.length;I++){if(L=g[I],K=L.instance,Q=L.currentTarget,L=L.listener,K!==S&&T.isPropagationStopped())break e;S=L,T.currentTarget=Q;try{S(T)}catch(ae){up(ae)}T.currentTarget=null,S=K}}}}function je(s,l){var d=l[Uc];d===void 0&&(d=l[Uc]=new Set);var g=s+"__bubble";d.has(g)||(e1(l,s,2,!1),d.add(g))}function g0(s,l,d){var g=0;l&&(g|=4),e1(d,s,g,l)}var wp="_reactListening"+Math.random().toString(36).slice(2);function y0(s){if(!s[wp]){s[wp]=!0,Vc.forEach(function(d){d!=="selectionchange"&&(F6.has(d)||g0(d,!1,s),g0(d,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[wp]||(l[wp]=!0,g0("selectionchange",!1,l))}}function e1(s,l,d,g){switch(A1(l)){case 2:var T=pq;break;case 8:T=mq;break;default:T=M0}d=T.bind(null,l,d,s),T=void 0,!qr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(T=!0),g?T!==void 0?s.addEventListener(l,d,{capture:!0,passive:T}):s.addEventListener(l,d,!0):T!==void 0?s.addEventListener(l,d,{passive:T}):s.addEventListener(l,d,!1)}function v0(s,l,d,g,T){var S=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var I=g.tag;if(I===3||I===4){var L=g.stateNode.containerInfo;if(L===T)break;if(I===4)for(I=g.return;I!==null;){var K=I.tag;if((K===3||K===4)&&I.stateNode.containerInfo===T)return;I=I.return}for(;L!==null;){if(I=uo(L),I===null)return;if(K=I.tag,K===5||K===6||K===26||K===27){g=S=I;continue e}L=L.parentNode}}g=g.return}bh(function(){var Q=S,ae=Br(d),fe=[];e:{var ee=kb.get(s);if(ee!==void 0){var te=zl,Be=s;switch(s){case"keypress":if(Oi(d)===0)break e;case"keydown":case"keyup":te=Jl;break;case"focusin":Be="focus",te=jl;break;case"focusout":Be="blur",te=jl;break;case"beforeblur":case"afterblur":te=jl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=zy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Dh;break;case Mb:case Nb:case Db:te=Yl;break;case Ob:te=kh;break;case"scroll":case"scrollend":te=Ch;break;case"wheel":te=Xl;break;case"copy":case"cut":case"paste":te=Wl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Jc;break;case"toggle":case"beforetoggle":te=Uh}var De=(l&4)!==0,yt=!De&&(s==="scroll"||s==="scrollend"),W=De?ee!==null?ee+"Capture":null:ee;De=[];for(var Y=Q,X;Y!==null;){var ue=Y;if(X=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||X===null||W===null||(ue=xa(Y,W),ue!=null&&De.push(Rf(Y,ue,X))),yt)break;Y=Y.return}0<De.length&&(ee=new te(ee,Be,null,d,ae),fe.push({event:ee,listeners:De}))}}if((l&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",te=s==="mouseout"||s==="pointerout",ee&&d!==po&&(Be=d.relatedTarget||d.fromElement)&&(uo(Be)||Be[Ur]))break e;if((te||ee)&&(ee=ae.window===ae?ae:(ee=ae.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(Be=d.relatedTarget||d.toElement,te=Q,Be=Be?uo(Be):null,Be!==null&&(yt=o(Be),De=Be.tag,Be!==yt||De!==5&&De!==27&&De!==6)&&(Be=null)):(te=null,Be=Q),te!==Be)){if(De=Fr,ue="onMouseLeave",W="onMouseEnter",Y="mouse",(s==="pointerout"||s==="pointerover")&&(De=Jc,ue="onPointerLeave",W="onPointerEnter",Y="pointer"),yt=te==null?ee:Pi(te),X=Be==null?ee:Pi(Be),ee=new De(ue,Y+"leave",te,d,ae),ee.target=yt,ee.relatedTarget=X,ue=null,uo(ae)===Q&&(De=new De(W,Y+"enter",Be,d,ae),De.target=X,De.relatedTarget=yt,ue=De),yt=ue,te&&Be)t:{for(De=te,W=Be,Y=0,X=De;X;X=Su(X))Y++;for(X=0,ue=W;ue;ue=Su(ue))X++;for(;0<Y-X;)De=Su(De),Y--;for(;0<X-Y;)W=Su(W),X--;for(;Y--;){if(De===W||W!==null&&De===W.alternate)break t;De=Su(De),W=Su(W)}De=null}else De=null;te!==null&&t1(fe,ee,te,De,!1),Be!==null&&yt!==null&&t1(fe,yt,Be,De,!0)}}e:{if(ee=Q?Pi(Q):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var Se=Tb;else if(an(ee))if(Eb)Se=e6;else{Se=Q3;var Ge=X3}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Q&&Hc(Q.elementType)&&(Se=Tb):Se=Z3;if(Se&&(Se=Se(s,Q))){_o(fe,Se,d,ae);break e}Ge&&Ge(s,ee,Q),s==="focusout"&&Q&&ee.type==="number"&&Q.memoizedProps.value!=null&&ds(ee,"number",ee.value)}switch(Ge=Q?Pi(Q):window,s){case"focusin":(an(Ge)||Ge.contentEditable==="true")&&(Ql=Ge,Wy=Q,Zc=null);break;case"focusout":Zc=Wy=Ql=null;break;case"mousedown":Jy=!0;break;case"contextmenu":case"mouseup":case"dragend":Jy=!1,Ib(fe,d,ae);break;case"selectionchange":if(n6)break;case"keydown":case"keyup":Ib(fe,d,ae)}var Ce;if(Ui)e:{switch(s){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Xe?ie(s,d)&&(Oe="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Oe="onCompositionStart");Oe&&(x&&d.locale!=="ko"&&(Xe||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Xe&&(Ce=Gc()):(Di=ae,hs="value"in Di?Di.value:Di.textContent,Xe=!0)),Ge=Ap(Q,Oe),0<Ge.length&&(Oe=new Yc(Oe,s,null,d,ae),fe.push({event:Oe,listeners:Ge}),Ce?Oe.data=Ce:(Ce=ye(d),Ce!==null&&(Oe.data=Ce)))),(Ce=b?sn(s,d):Qe(s,d))&&(Oe=Ap(Q,"onBeforeInput"),0<Oe.length&&(Ge=new Yc("onBeforeInput","beforeinput",null,d,ae),fe.push({event:Ge,listeners:Oe}),Ge.data=Ce)),V6(fe,s,Q,d,ae)}Zx(fe,l)})}function Rf(s,l,d){return{instance:s,listener:l,currentTarget:d}}function Ap(s,l){for(var d=l+"Capture",g=[];s!==null;){var T=s,S=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||S===null||(T=xa(s,d),T!=null&&g.unshift(Rf(s,T,S)),T=xa(s,l),T!=null&&g.push(Rf(s,T,S))),s.tag===3)return g;s=s.return}return[]}function Su(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function t1(s,l,d,g,T){for(var S=l._reactName,I=[];d!==null&&d!==g;){var L=d,K=L.alternate,Q=L.stateNode;if(L=L.tag,K!==null&&K===g)break;L!==5&&L!==26&&L!==27||Q===null||(K=Q,T?(Q=xa(d,S),Q!=null&&I.unshift(Rf(d,Q,K))):T||(Q=xa(d,S),Q!=null&&I.push(Rf(d,Q,K)))),d=d.return}I.length!==0&&s.push({event:l,listeners:I})}var $6=/\r\n?/g,H6=/\u0000|\uFFFD/g;function n1(s){return(typeof s=="string"?s:""+s).replace($6,`
`).replace(H6,"")}function r1(s,l){return l=n1(l),n1(s)===l}function bp(){}function gt(s,l,d,g,T,S){switch(d){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||Vr(s,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&Vr(s,""+g);break;case"className":Mi(s,"class",g);break;case"tabIndex":Mi(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Mi(s,d,g);break;case"style":$c(s,g,S);break;case"data":if(l!=="object"){Mi(s,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||d!=="href")){s.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(d);break}g=Hl(""+g),s.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(d==="formAction"?(l!=="input"&&gt(s,l,"name",T.name,T,null),gt(s,l,"formEncType",T.formEncType,T,null),gt(s,l,"formMethod",T.formMethod,T,null),gt(s,l,"formTarget",T.formTarget,T,null)):(gt(s,l,"encType",T.encType,T,null),gt(s,l,"method",T.method,T,null),gt(s,l,"target",T.target,T,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(d);break}g=Hl(""+g),s.setAttribute(d,g);break;case"onClick":g!=null&&(s.onclick=bp);break;case"onScroll":g!=null&&je("scroll",s);break;case"onScrollEnd":g!=null&&je("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(d=g.__html,d!=null){if(T.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}d=Hl(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,""+g):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":g===!0?s.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,g):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(d,g):s.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(d):s.setAttribute(d,g);break;case"popover":je("beforetoggle",s),je("toggle",s),fs(s,"popover",g);break;case"xlinkActuate":xn(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":xn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":xn(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":xn(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":xn(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":xn(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":xn(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":xn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":xn(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":fs(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=$y.get(d)||d,fs(s,d,g))}}function _0(s,l,d,g,T,S){switch(d){case"style":$c(s,g,S);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(d=g.__html,d!=null){if(T.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"children":typeof g=="string"?Vr(s,g):(typeof g=="number"||typeof g=="bigint")&&Vr(s,""+g);break;case"onScroll":g!=null&&je("scroll",s);break;case"onScrollEnd":g!=null&&je("scrollend",s);break;case"onClick":g!=null&&(s.onclick=bp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vl.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(T=d.endsWith("Capture"),l=d.slice(2,T?d.length-7:void 0),S=s[Wt]||null,S=S!=null?S[d]:null,typeof S=="function"&&s.removeEventListener(l,S,T),typeof g=="function")){typeof S!="function"&&S!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(l,g,T);break e}d in s?s[d]=g:g===!0?s.setAttribute(d,""):fs(s,d,g)}}}function Mn(s,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",s),je("load",s);var g=!1,T=!1,S;for(S in d)if(d.hasOwnProperty(S)){var I=d[S];if(I!=null)switch(S){case"src":g=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:gt(s,l,S,I,d,null)}}T&&gt(s,l,"srcSet",d.srcSet,d,null),g&&gt(s,l,"src",d.src,d,null);return;case"input":je("invalid",s);var L=S=I=T=null,K=null,Q=null;for(g in d)if(d.hasOwnProperty(g)){var ae=d[g];if(ae!=null)switch(g){case"name":T=ae;break;case"type":I=ae;break;case"checked":K=ae;break;case"defaultChecked":Q=ae;break;case"value":S=ae;break;case"defaultValue":L=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,l));break;default:gt(s,l,g,ae,d,null)}}Aa(s,S,L,K,Q,I,T,!1),$l(s);return;case"select":je("invalid",s),g=I=S=null;for(T in d)if(d.hasOwnProperty(T)&&(L=d[T],L!=null))switch(T){case"value":S=L;break;case"defaultValue":I=L;break;case"multiple":g=L;default:gt(s,l,T,L,d,null)}l=S,d=I,s.multiple=!!g,l!=null?ho(s,!!g,l,!1):d!=null&&ho(s,!!g,d,!0);return;case"textarea":je("invalid",s),S=T=g=null;for(I in d)if(d.hasOwnProperty(I)&&(L=d[I],L!=null))switch(I){case"value":g=L;break;case"defaultValue":T=L;break;case"children":S=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:gt(s,l,I,L,d,null)}ba(s,g,T,S),$l(s);return;case"option":for(K in d)if(d.hasOwnProperty(K)&&(g=d[K],g!=null))switch(K){case"selected":s.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:gt(s,l,K,g,d,null)}return;case"dialog":je("beforetoggle",s),je("toggle",s),je("cancel",s),je("close",s);break;case"iframe":case"object":je("load",s);break;case"video":case"audio":for(g=0;g<xf.length;g++)je(xf[g],s);break;case"image":je("error",s),je("load",s);break;case"details":je("toggle",s);break;case"embed":case"source":case"link":je("error",s),je("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in d)if(d.hasOwnProperty(Q)&&(g=d[Q],g!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:gt(s,l,Q,g,d,null)}return;default:if(Hc(l)){for(ae in d)d.hasOwnProperty(ae)&&(g=d[ae],g!==void 0&&_0(s,l,ae,g,d,void 0));return}}for(L in d)d.hasOwnProperty(L)&&(g=d[L],g!=null&&gt(s,l,L,g,d,null))}function z6(s,l,d,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,S=null,I=null,L=null,K=null,Q=null,ae=null;for(te in d){var fe=d[te];if(d.hasOwnProperty(te)&&fe!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":K=fe;default:g.hasOwnProperty(te)||gt(s,l,te,null,g,fe)}}for(var ee in g){var te=g[ee];if(fe=d[ee],g.hasOwnProperty(ee)&&(te!=null||fe!=null))switch(ee){case"type":S=te;break;case"name":T=te;break;case"checked":Q=te;break;case"defaultChecked":ae=te;break;case"value":I=te;break;case"defaultValue":L=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,l));break;default:te!==fe&&gt(s,l,ee,te,g,fe)}}mr(s,I,L,K,Q,ae,S,T);return;case"select":te=I=L=ee=null;for(S in d)if(K=d[S],d.hasOwnProperty(S)&&K!=null)switch(S){case"value":break;case"multiple":te=K;default:g.hasOwnProperty(S)||gt(s,l,S,null,g,K)}for(T in g)if(S=g[T],K=d[T],g.hasOwnProperty(T)&&(S!=null||K!=null))switch(T){case"value":ee=S;break;case"defaultValue":L=S;break;case"multiple":I=S;default:S!==K&&gt(s,l,T,S,g,K)}l=L,d=I,g=te,ee!=null?ho(s,!!d,ee,!1):!!g!=!!d&&(l!=null?ho(s,!!d,l,!0):ho(s,!!d,d?[]:"",!1));return;case"textarea":te=ee=null;for(L in d)if(T=d[L],d.hasOwnProperty(L)&&T!=null&&!g.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:gt(s,l,L,null,g,T)}for(I in g)if(T=g[I],S=d[I],g.hasOwnProperty(I)&&(T!=null||S!=null))switch(I){case"value":ee=T;break;case"defaultValue":te=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:T!==S&&gt(s,l,I,T,g,S)}pt(s,ee,te);return;case"option":for(var Be in d)if(ee=d[Be],d.hasOwnProperty(Be)&&ee!=null&&!g.hasOwnProperty(Be))switch(Be){case"selected":s.selected=!1;break;default:gt(s,l,Be,null,g,ee)}for(K in g)if(ee=g[K],te=d[K],g.hasOwnProperty(K)&&ee!==te&&(ee!=null||te!=null))switch(K){case"selected":s.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:gt(s,l,K,ee,g,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in d)ee=d[De],d.hasOwnProperty(De)&&ee!=null&&!g.hasOwnProperty(De)&&gt(s,l,De,null,g,ee);for(Q in g)if(ee=g[Q],te=d[Q],g.hasOwnProperty(Q)&&ee!==te&&(ee!=null||te!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,l));break;default:gt(s,l,Q,ee,g,te)}return;default:if(Hc(l)){for(var yt in d)ee=d[yt],d.hasOwnProperty(yt)&&ee!==void 0&&!g.hasOwnProperty(yt)&&_0(s,l,yt,void 0,g,ee);for(ae in g)ee=g[ae],te=d[ae],!g.hasOwnProperty(ae)||ee===te||ee===void 0&&te===void 0||_0(s,l,ae,ee,g,te);return}}for(var W in d)ee=d[W],d.hasOwnProperty(W)&&ee!=null&&!g.hasOwnProperty(W)&&gt(s,l,W,null,g,ee);for(fe in g)ee=g[fe],te=d[fe],!g.hasOwnProperty(fe)||ee===te||ee==null&&te==null||gt(s,l,fe,ee,g,te)}var T0=null,E0=null;function Cp(s){return s.nodeType===9?s:s.ownerDocument}function i1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o1(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function S0(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var w0=null;function G6(){var s=window.event;return s&&s.type==="popstate"?s===w0?!1:(w0=s,!0):(w0=null,!1)}var s1=typeof setTimeout=="function"?setTimeout:void 0,K6=typeof clearTimeout=="function"?clearTimeout:void 0,a1=typeof Promise=="function"?Promise:void 0,j6=typeof queueMicrotask=="function"?queueMicrotask:typeof a1<"u"?function(s){return a1.resolve(null).then(s).catch(Y6)}:s1;function Y6(s){setTimeout(function(){throw s})}function Is(s){return s==="head"}function l1(s,l){var d=l,g=0,T=0;do{var S=d.nextSibling;if(s.removeChild(d),S&&S.nodeType===8)if(d=S.data,d==="/$"){if(0<g&&8>g){d=g;var I=s.ownerDocument;if(d&1&&If(I.documentElement),d&2&&If(I.body),d&4)for(d=I.head,If(d),I=d.firstChild;I;){var L=I.nextSibling,K=I.nodeName;I[Ta]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&I.rel.toLowerCase()==="stylesheet"||d.removeChild(I),I=L}}if(T===0){s.removeChild(S),Uf(l);return}T--}else d==="$"||d==="$?"||d==="$!"?T++:g=d.charCodeAt(0)-48;else g=0;d=S}while(d);Uf(l)}function A0(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":A0(d),cs(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function W6(s,l,d,g){for(;s.nodeType===1;){var T=d;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[Ta])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(S=s.getAttribute("rel"),S==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(S!==T.rel||s.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||s.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||s.getAttribute("title")!==(T.title==null?null:T.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(S=s.getAttribute("src"),(S!==(T.src==null?null:T.src)||s.getAttribute("type")!==(T.type==null?null:T.type)||s.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&S&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var S=T.name==null?null:""+T.name;if(T.type==="hidden"&&s.getAttribute("name")===S)return s}else return s;if(s=hi(s.nextSibling),s===null)break}return null}function J6(s,l,d){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=hi(s.nextSibling),s===null))return null;return s}function b0(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function X6(s,l){var d=s.ownerDocument;if(s.data!=="$?"||d.readyState==="complete")l();else{var g=function(){l(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function hi(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return s}var C0=null;function u1(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return s;l--}else d==="/$"&&l++}s=s.previousSibling}return null}function c1(s,l,d){switch(l=Cp(d),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function If(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);cs(s)}var Yr=new Map,f1=new Set;function xp(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var No=pe.d;pe.d={f:Q6,r:Z6,D:eq,C:tq,L:nq,m:rq,X:oq,S:iq,M:sq};function Q6(){var s=No.f(),l=vp();return s||l}function Z6(s){var l=Ii(s);l!==null&&l.tag===5&&l.type==="form"?MC(l):No.r(s)}var wu=typeof document>"u"?null:document;function d1(s,l,d){var g=wu;if(g&&typeof l=="string"&&l){var T=Jt(l);T='link[rel="'+s+'"][href="'+T+'"]',typeof d=="string"&&(T+='[crossorigin="'+d+'"]'),f1.has(T)||(f1.add(T),s={rel:s,crossOrigin:d,href:l},g.querySelector(T)===null&&(l=g.createElement("link"),Mn(l,"link",s),zt(l),g.head.appendChild(l)))}}function eq(s){No.D(s),d1("dns-prefetch",s,null)}function tq(s,l){No.C(s,l),d1("preconnect",s,l)}function nq(s,l,d){No.L(s,l,d);var g=wu;if(g&&s&&l){var T='link[rel="preload"][as="'+Jt(l)+'"]';l==="image"&&d&&d.imageSrcSet?(T+='[imagesrcset="'+Jt(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(T+='[imagesizes="'+Jt(d.imageSizes)+'"]')):T+='[href="'+Jt(s)+'"]';var S=T;switch(l){case"style":S=Au(s);break;case"script":S=bu(s)}Yr.has(S)||(s=h({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:s,as:l},d),Yr.set(S,s),g.querySelector(T)!==null||l==="style"&&g.querySelector(Pf(S))||l==="script"&&g.querySelector(Mf(S))||(l=g.createElement("link"),Mn(l,"link",s),zt(l),g.head.appendChild(l)))}}function rq(s,l){No.m(s,l);var d=wu;if(d&&s){var g=l&&typeof l.as=="string"?l.as:"script",T='link[rel="modulepreload"][as="'+Jt(g)+'"][href="'+Jt(s)+'"]',S=T;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=bu(s)}if(!Yr.has(S)&&(s=h({rel:"modulepreload",href:s},l),Yr.set(S,s),d.querySelector(T)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Mf(S)))return}g=d.createElement("link"),Mn(g,"link",s),zt(g),d.head.appendChild(g)}}}function iq(s,l,d){No.S(s,l,d);var g=wu;if(g&&s){var T=Xn(g).hoistableStyles,S=Au(s);l=l||"default";var I=T.get(S);if(!I){var L={loading:0,preload:null};if(I=g.querySelector(Pf(S)))L.loading=5;else{s=h({rel:"stylesheet",href:s,"data-precedence":l},d),(d=Yr.get(S))&&x0(s,d);var K=I=g.createElement("link");zt(K),Mn(K,"link",s),K._p=new Promise(function(Q,ae){K.onload=Q,K.onerror=ae}),K.addEventListener("load",function(){L.loading|=1}),K.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Rp(I,l,g)}I={type:"stylesheet",instance:I,count:1,state:L},T.set(S,I)}}}function oq(s,l){No.X(s,l);var d=wu;if(d&&s){var g=Xn(d).hoistableScripts,T=bu(s),S=g.get(T);S||(S=d.querySelector(Mf(T)),S||(s=h({src:s,async:!0},l),(l=Yr.get(T))&&R0(s,l),S=d.createElement("script"),zt(S),Mn(S,"link",s),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(T,S))}}function sq(s,l){No.M(s,l);var d=wu;if(d&&s){var g=Xn(d).hoistableScripts,T=bu(s),S=g.get(T);S||(S=d.querySelector(Mf(T)),S||(s=h({src:s,async:!0,type:"module"},l),(l=Yr.get(T))&&R0(s,l),S=d.createElement("script"),zt(S),Mn(S,"link",s),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(T,S))}}function h1(s,l,d,g){var T=(T=Ne.current)?xp(T):null;if(!T)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Au(d.href),d=Xn(T).hoistableStyles,g=d.get(l),g||(g={type:"style",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=Au(d.href);var S=Xn(T).hoistableStyles,I=S.get(s);if(I||(T=T.ownerDocument||T,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(s,I),(S=T.querySelector(Pf(s)))&&!S._p&&(I.instance=S,I.state.loading=5),Yr.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Yr.set(s,d),S||aq(T,s,d,I.state))),l&&g===null)throw Error(r(528,""));return I}if(l&&g!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=bu(d),d=Xn(T).hoistableScripts,g=d.get(l),g||(g={type:"script",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Au(s){return'href="'+Jt(s)+'"'}function Pf(s){return'link[rel="stylesheet"]['+s+"]"}function p1(s){return h({},s,{"data-precedence":s.precedence,precedence:null})}function aq(s,l,d,g){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=s.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),Mn(l,"link",d),zt(l),s.head.appendChild(l))}function bu(s){return'[src="'+Jt(s)+'"]'}function Mf(s){return"script[async]"+s}function m1(s,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var g=s.querySelector('style[data-href~="'+Jt(d.href)+'"]');if(g)return l.instance=g,zt(g),g;var T=h({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),zt(g),Mn(g,"style",T),Rp(g,d.precedence,s),l.instance=g;case"stylesheet":T=Au(d.href);var S=s.querySelector(Pf(T));if(S)return l.state.loading|=4,l.instance=S,zt(S),S;g=p1(d),(T=Yr.get(T))&&x0(g,T),S=(s.ownerDocument||s).createElement("link"),zt(S);var I=S;return I._p=new Promise(function(L,K){I.onload=L,I.onerror=K}),Mn(S,"link",g),l.state.loading|=4,Rp(S,d.precedence,s),l.instance=S;case"script":return S=bu(d.src),(T=s.querySelector(Mf(S)))?(l.instance=T,zt(T),T):(g=d,(T=Yr.get(S))&&(g=h({},d),R0(g,T)),s=s.ownerDocument||s,T=s.createElement("script"),zt(T),Mn(T,"link",g),s.head.appendChild(T),l.instance=T);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,Rp(g,d.precedence,s));return l.instance}function Rp(s,l,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=g.length?g[g.length-1]:null,S=T,I=0;I<g.length;I++){var L=g[I];if(L.dataset.precedence===l)S=L;else if(S!==T)break}S?S.parentNode.insertBefore(s,S.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(s,l.firstChild))}function x0(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function R0(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Ip=null;function g1(s,l,d){if(Ip===null){var g=new Map,T=Ip=new Map;T.set(d,g)}else T=Ip,g=T.get(d),g||(g=new Map,T.set(d,g));if(g.has(s))return g;for(g.set(s,null),d=d.getElementsByTagName(s),T=0;T<d.length;T++){var S=d[T];if(!(S[Ta]||S[on]||s==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var I=S.getAttribute(l)||"";I=s+I;var L=g.get(I);L?L.push(S):g.set(I,[S])}}return g}function y1(s,l,d){s=s.ownerDocument||s,s.head.insertBefore(d,l==="title"?s.querySelector("head > title"):null)}function lq(s,l,d){if(d===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function v1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Nf=null;function uq(){}function cq(s,l,d){if(Nf===null)throw Error(r(475));var g=Nf;if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var T=Au(d.href),S=s.querySelector(Pf(T));if(S){s=S._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(g.count++,g=Pp.bind(g),s.then(g,g)),l.state.loading|=4,l.instance=S,zt(S);return}S=s.ownerDocument||s,d=p1(d),(T=Yr.get(T))&&x0(d,T),S=S.createElement("link"),zt(S);var I=S;I._p=new Promise(function(L,K){I.onload=L,I.onerror=K}),Mn(S,"link",d),l.instance=S}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(g.count++,l=Pp.bind(g),s.addEventListener("load",l),s.addEventListener("error",l))}}function fq(){if(Nf===null)throw Error(r(475));var s=Nf;return s.stylesheets&&s.count===0&&I0(s,s.stylesheets),0<s.count?function(l){var d=setTimeout(function(){if(s.stylesheets&&I0(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(d)}}:null}function Pp(){if(this.count--,this.count===0){if(this.stylesheets)I0(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Mp=null;function I0(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Mp=new Map,l.forEach(dq,s),Mp=null,Pp.call(s))}function dq(s,l){if(!(l.state.loading&4)){var d=Mp.get(s);if(d)var g=d.get(null);else{d=new Map,Mp.set(s,d);for(var T=s.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<T.length;S++){var I=T[S];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(d.set(I.dataset.precedence,I),g=I)}g&&d.set(null,g)}T=l.instance,I=T.getAttribute("data-precedence"),S=d.get(I)||g,S===g&&d.set(null,T),d.set(I,T),this.count++,g=Pp.bind(this),T.addEventListener("load",g),T.addEventListener("error",g),S?S.parentNode.insertBefore(T,S.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(T,s.firstChild)),l.state.loading|=4}}var Df={$$typeof:M,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function hq(s,l,d,g,T,S,I,L){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ao(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ao(0),this.hiddenUpdates=ao(null),this.identifierPrefix=g,this.onUncaughtError=T,this.onCaughtError=S,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function _1(s,l,d,g,T,S,I,L,K,Q,ae,fe){return s=new hq(s,l,d,I,L,K,Q,fe),l=1,S===!0&&(l|=24),S=yr(3,null,null,l),s.current=S,S.stateNode=s,l=cv(),l.refCount++,s.pooledCache=l,l.refCount++,S.memoizedState={element:g,isDehydrated:d,cache:l},pv(S),s}function T1(s){return s?(s=nu,s):nu}function E1(s,l,d,g,T,S){T=T1(T),g.context===null?g.context=T:g.pendingContext=T,g=gs(l),g.payload={element:d},S=S===void 0?null:S,S!==null&&(g.callback=S),d=ys(s,g,l),d!==null&&(Sr(d,s,l),uf(d,s,l))}function S1(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<l?d:l}}function P0(s,l){S1(s,l),(s=s.alternate)&&S1(s,l)}function w1(s){if(s.tag===13){var l=tu(s,67108864);l!==null&&Sr(l,s,67108864),P0(s,67108864)}}var Np=!0;function pq(s,l,d,g){var T=ne.T;ne.T=null;var S=pe.p;try{pe.p=2,M0(s,l,d,g)}finally{pe.p=S,ne.T=T}}function mq(s,l,d,g){var T=ne.T;ne.T=null;var S=pe.p;try{pe.p=8,M0(s,l,d,g)}finally{pe.p=S,ne.T=T}}function M0(s,l,d,g){if(Np){var T=N0(g);if(T===null)v0(s,l,g,Dp,d),b1(s,g);else if(yq(T,s,l,d,g))g.stopPropagation();else if(b1(s,g),l&4&&-1<gq.indexOf(s)){for(;T!==null;){var S=Ii(T);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var I=li(S.pendingLanes);if(I!==0){var L=S;for(L.pendingLanes|=2,L.entangledLanes|=2;I;){var K=1<<31-Vn(I);L.entanglements[1]|=K,I&=~K}Hi(S),(ut&6)===0&&(gp=bt()+500,Cf(0))}}break;case 13:L=tu(S,2),L!==null&&Sr(L,S,2),vp(),P0(S,2)}if(S=N0(g),S===null&&v0(s,l,g,Dp,d),S===T)break;T=S}T!==null&&g.stopPropagation()}else v0(s,l,g,null,d)}}function N0(s){return s=Br(s),D0(s)}var Dp=null;function D0(s){if(Dp=null,s=uo(s),s!==null){var l=o(s);if(l===null)s=null;else{var d=l.tag;if(d===13){if(s=a(l),s!==null)return s;s=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Dp=s,null}function A1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yn()){case Ci:return 2;case so:return 8;case Wn:case Jn:return 32;case xi:return 268435456;default:return 32}default:return 32}}var O0=!1,Ps=null,Ms=null,Ns=null,Of=new Map,kf=new Map,Ds=[],gq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b1(s,l){switch(s){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":Of.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":kf.delete(l.pointerId)}}function Lf(s,l,d,g,T,S){return s===null||s.nativeEvent!==S?(s={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:S,targetContainers:[T]},l!==null&&(l=Ii(l),l!==null&&w1(l)),s):(s.eventSystemFlags|=g,l=s.targetContainers,T!==null&&l.indexOf(T)===-1&&l.push(T),s)}function yq(s,l,d,g,T){switch(l){case"focusin":return Ps=Lf(Ps,s,l,d,g,T),!0;case"dragenter":return Ms=Lf(Ms,s,l,d,g,T),!0;case"mouseover":return Ns=Lf(Ns,s,l,d,g,T),!0;case"pointerover":var S=T.pointerId;return Of.set(S,Lf(Of.get(S)||null,s,l,d,g,T)),!0;case"gotpointercapture":return S=T.pointerId,kf.set(S,Lf(kf.get(S)||null,s,l,d,g,T)),!0}return!1}function C1(s){var l=uo(s.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=a(d),l!==null){s.blockedOn=l,vh(s.priority,function(){if(d.tag===13){var g=Er();g=as(g);var T=tu(d,g);T!==null&&Sr(T,d,g),P0(d,g)}});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Op(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var d=N0(s.nativeEvent);if(d===null){d=s.nativeEvent;var g=new d.constructor(d.type,d);po=g,d.target.dispatchEvent(g),po=null}else return l=Ii(d),l!==null&&w1(l),s.blockedOn=d,!1;l.shift()}return!0}function x1(s,l,d){Op(s)&&d.delete(l)}function vq(){O0=!1,Ps!==null&&Op(Ps)&&(Ps=null),Ms!==null&&Op(Ms)&&(Ms=null),Ns!==null&&Op(Ns)&&(Ns=null),Of.forEach(x1),kf.forEach(x1)}function kp(s,l){s.blockedOn===l&&(s.blockedOn=null,O0||(O0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,vq)))}var Lp=null;function R1(s){Lp!==s&&(Lp=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Lp===s&&(Lp=null);for(var l=0;l<s.length;l+=3){var d=s[l],g=s[l+1],T=s[l+2];if(typeof g!="function"){if(D0(g||d)===null)continue;break}var S=Ii(d);S!==null&&(s.splice(l,3),l-=3,Dv(S,{pending:!0,data:T,method:d.method,action:g},g,T))}}))}function Uf(s){function l(K){return kp(K,s)}Ps!==null&&kp(Ps,s),Ms!==null&&kp(Ms,s),Ns!==null&&kp(Ns,s),Of.forEach(l),kf.forEach(l);for(var d=0;d<Ds.length;d++){var g=Ds[d];g.blockedOn===s&&(g.blockedOn=null)}for(;0<Ds.length&&(d=Ds[0],d.blockedOn===null);)C1(d),d.blockedOn===null&&Ds.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var T=d[g],S=d[g+1],I=T[Wt]||null;if(typeof S=="function")I||R1(d);else if(I){var L=null;if(S&&S.hasAttribute("formAction")){if(T=S,I=S[Wt]||null)L=I.formAction;else if(D0(T)!==null)continue}else L=I.action;typeof L=="function"?d[g+1]=L:(d.splice(g,3),g-=3),R1(d)}}}function k0(s){this._internalRoot=s}Up.prototype.render=k0.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,g=Er();E1(d,g,s,l,null,null)},Up.prototype.unmount=k0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;E1(s.current,2,null,s,null,null),vp(),l[Ur]=null}};function Up(s){this._internalRoot=s}Up.prototype.unstable_scheduleHydration=function(s){if(s){var l=ls();s={blockedOn:null,target:s,priority:l};for(var d=0;d<Ds.length&&l!==0&&l<Ds[d].priority;d++);Ds.splice(d,0,s),d===0&&C1(s)}};var I1=e.version;if(I1!=="19.1.1")throw Error(r(527,I1,"19.1.1"));pe.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(l),s=s!==null?c(s):null,s=s===null?null:s.stateNode,s};var _q={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vp.isDisabled&&Vp.supportsFiber)try{Vt=Vp.inject(_q),lt=Vp}catch{}}return Bf.createRoot=function(s,l){if(!i(s))throw Error(r(299));var d=!1,g="",T=GC,S=KC,I=jC,L=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(T=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(L=l.unstable_transitionCallbacks)),l=_1(s,1,!1,null,null,d,g,T,S,I,L,null),s[Ur]=l.current,y0(s),new k0(l)},Bf.hydrateRoot=function(s,l,d){if(!i(s))throw Error(r(299));var g=!1,T="",S=GC,I=KC,L=jC,K=null,Q=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(I=d.onCaughtError),d.onRecoverableError!==void 0&&(L=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(K=d.unstable_transitionCallbacks),d.formState!==void 0&&(Q=d.formState)),l=_1(s,1,!0,l,d??null,g,T,S,I,L,K,Q),l.context=T1(null),d=l.current,g=Er(),g=as(g),T=gs(g),T.callback=null,ys(d,T,g),d=g,l.current.lanes=d,lo(l,d),Hi(l),s[Ur]=l.current,y0(s),new Up(l)},Bf.version="19.1.1",Bf}var B1;function Nq(){if(B1)return B0.exports;B1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),B0.exports=Mq(),B0.exports}var Dq=Nq();const Oq=Ei(Dq);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var q1="popstate";function kq(t={}){function e(i,o){let{pathname:a="/",search:u="",hash:f=""}=Al(i.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),jT("",{pathname:a,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),u="";if(a&&a.getAttribute("href")){let f=i.location.href,c=f.indexOf("#");u=c===-1?f:f.slice(0,c)}return u+"#"+(typeof o=="string"?o:gd(o))}function r(i,o){ri(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return Uq(e,n,r,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ri(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Lq(){return Math.random().toString(36).substring(2,10)}function F1(t,e){return{usr:t.state,key:t.key,idx:e}}function jT(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Al(e):e,state:n,key:e&&e.key||r||Lq()}}function gd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Al(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Uq(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,u="POP",f=null,c=h();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function h(){return(a.state||{idx:null}).idx}function y(){u="POP";let C=h(),R=C==null?null:C-c;c=C,f&&f({action:u,location:A.location,delta:R})}function v(C,R){u="PUSH";let N=jT(A.location,C,R);n&&n(N,C),c=h()+1;let M=F1(N,c),U=A.createHref(N);try{a.pushState(M,"",U)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(U)}o&&f&&f({action:u,location:A.location,delta:1})}function E(C,R){u="REPLACE";let N=jT(A.location,C,R);n&&n(N,C),c=h();let M=F1(N,c),U=A.createHref(N);a.replaceState(M,"",U),o&&f&&f({action:u,location:A.location,delta:0})}function w(C){return Vq(C)}let A={get action(){return u},get location(){return t(i,a)},listen(C){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(q1,y),f=C,()=>{i.removeEventListener(q1,y),f=null}},createHref(C){return e(i,C)},createURL:w,encodeLocation(C){let R=w(C);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:v,replace:E,go(C){return a.go(C)}};return A}function Vq(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:gd(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function GO(t,e,n="/"){return Bq(t,e,n,!1)}function Bq(t,e,n,r){let i=typeof e=="string"?Al(e):e,o=Ho(i.pathname||"/",n);if(o==null)return null;let a=KO(t);qq(a);let u=null;for(let f=0;u==null&&f<a.length;++f){let c=Xq(o);u=Wq(a[f],c,r)}return u}function KO(t,e=[],n=[],r="",i=!1){let o=(a,u,f=i,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&f)return;Dt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let y=Bo([r,h.relativePath]),v=n.concat(h);a.children&&a.children.length>0&&(Dt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),KO(a.children,e,v,y,f)),!(a.path==null&&!a.index)&&e.push({path:y,score:jq(y,a.index),routesMeta:v})};return t.forEach((a,u)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))o(a,u);else for(let c of jO(a.path))o(a,u,!0,c)}),e}function jO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=jO(r.join("/")),u=[];return u.push(...a.map(f=>f===""?o:[o,f].join("/"))),i&&u.push(...a),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function qq(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Yq(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Fq=/^:[\w-]+$/,$q=3,Hq=2,zq=1,Gq=10,Kq=-2,$1=t=>t==="*";function jq(t,e){let n=t.split("/"),r=n.length;return n.some($1)&&(r+=Kq),e&&(r+=Hq),n.filter(i=>!$1(i)).reduce((i,o)=>i+(Fq.test(o)?$q:o===""?zq:Gq),r)}function Yq(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Wq(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",a=[];for(let u=0;u<r.length;++u){let f=r[u],c=u===r.length-1,h=o==="/"?e:e.slice(o.length)||"/",y=Rm({path:f.relativePath,caseSensitive:f.caseSensitive,end:c},h),v=f.route;if(!y&&c&&n&&!r[r.length-1].route.index&&(y=Rm({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!y)return null;Object.assign(i,y.params),a.push({params:i,pathname:Bo([o,y.pathname]),pathnameBase:tF(Bo([o,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(o=Bo([o,y.pathnameBase]))}return a}function Rm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Jq(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:y},v)=>{if(h==="*"){let w=u[v]||"";a=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const E=u[v];return y&&!E?c[h]=void 0:c[h]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:t}}function Jq(t,e=!1,n=!0){ri(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Xq(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ho(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Qq(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Al(t):t;return{pathname:n?n.startsWith("/")?n:Zq(n,e):e,search:nF(r),hash:rF(i)}}function Zq(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function H0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function CS(t){let e=eF(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function xS(t,e,n,r=!1){let i;typeof t=="string"?i=Al(t):(i={...t},Dt(!i.pathname||!i.pathname.includes("?"),H0("?","pathname","search",i)),Dt(!i.pathname||!i.pathname.includes("#"),H0("#","pathname","hash",i)),Dt(!i.search||!i.search.includes("#"),H0("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,u;if(a==null)u=n;else{let y=e.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),y-=1;i.pathname=v.join("/")}u=y>=0?e[y]:"/"}let f=Qq(i,u),c=a&&a!=="/"&&a.endsWith("/"),h=(o||a===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(c||h)&&(f.pathname+="/"),f}var Bo=t=>t.join("/").replace(/\/\/+/g,"/"),tF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var YO=["POST","PUT","PATCH","DELETE"];new Set(YO);var oF=["GET",...YO];new Set(oF);var cc=P.createContext(null);cc.displayName="DataRouter";var Dg=P.createContext(null);Dg.displayName="DataRouterState";P.createContext(!1);var WO=P.createContext({isTransitioning:!1});WO.displayName="ViewTransition";var sF=P.createContext(new Map);sF.displayName="Fetchers";var aF=P.createContext(null);aF.displayName="Await";var Si=P.createContext(null);Si.displayName="Navigation";var Vd=P.createContext(null);Vd.displayName="Location";var wi=P.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var RS=P.createContext(null);RS.displayName="RouteError";function lF(t,{relative:e}={}){Dt(fc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(Si),{hash:i,pathname:o,search:a}=Bd(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:Bo([n,o])),r.createHref({pathname:u,search:a,hash:i})}function fc(){return P.useContext(Vd)!=null}function ro(){return Dt(fc(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Vd).location}var JO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function XO(t){P.useContext(Si).static||P.useLayoutEffect(t)}function IS(){let{isDataRoute:t}=P.useContext(wi);return t?EF():uF()}function uF(){Dt(fc(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(cc),{basename:e,navigator:n}=P.useContext(Si),{matches:r}=P.useContext(wi),{pathname:i}=ro(),o=JSON.stringify(CS(r)),a=P.useRef(!1);return XO(()=>{a.current=!0}),P.useCallback((f,c={})=>{if(ri(a.current,JO),!a.current)return;if(typeof f=="number"){n.go(f);return}let h=xS(f,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Bo([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,o,i,t])}P.createContext(null);function QO(){let{matches:t}=P.useContext(wi),e=t[t.length-1];return e?e.params:{}}function Bd(t,{relative:e}={}){let{matches:n}=P.useContext(wi),{pathname:r}=ro(),i=JSON.stringify(CS(n));return P.useMemo(()=>xS(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function cF(t,e){return ZO(t,e)}function ZO(t,e,n,r,i){var N;Dt(fc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=P.useContext(Si),{matches:a}=P.useContext(wi),u=a[a.length-1],f=u?u.params:{},c=u?u.pathname:"/",h=u?u.pathnameBase:"/",y=u&&u.route;{let M=y&&y.path||"";ek(c,!y||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let v=ro(),E;if(e){let M=typeof e=="string"?Al(e):e;Dt(h==="/"||((N=M.pathname)==null?void 0:N.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${M.pathname}" was given in the \`location\` prop.`),E=M}else E=v;let w=E.pathname||"/",A=w;if(h!=="/"){let M=h.replace(/^\//,"").split("/");A="/"+w.replace(/^\//,"").split("/").slice(M.length).join("/")}let C=GO(t,{pathname:A});ri(y||C!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),ri(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=mF(C&&C.map(M=>Object.assign({},M,{params:Object.assign({},f,M.params),pathname:Bo([h,o.encodeLocation?o.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?h:Bo([h,o.encodeLocation?o.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),a,n,r,i);return e&&R?P.createElement(Vd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},R):R}function fF(){let t=TF(),e=iF(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:o},"ErrorBoundary")," or"," ",P.createElement("code",{style:o},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,a)}var dF=P.createElement(fF,null),hF=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?P.createElement(wi.Provider,{value:this.props.routeContext},P.createElement(RS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pF({routeContext:t,match:e,children:n}){let r=P.useContext(cc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(wi.Provider,{value:t},n)}function mF(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n==null?void 0:n.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);Dt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,c+1))}let u=!1,f=-1;if(n)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=c),h.route.id){let{loaderData:y,errors:v}=n,E=h.route.loader&&!y.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||E){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((c,h,y)=>{let v,E=!1,w=null,A=null;n&&(v=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||dF,u&&(f<0&&y===0?(ek("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,A=null):f===y&&(E=!0,A=h.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,y+1)),R=()=>{let N;return v?N=w:E?N=A:h.route.Component?N=P.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=c,P.createElement(pF,{match:h,routeContext:{outlet:c,matches:C,isDataRoute:n!=null},children:N})};return n&&(h.route.ErrorBoundary||h.route.errorElement||y===0)?P.createElement(hF,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:R(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:r}):R()},null)}function PS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gF(t){let e=P.useContext(cc);return Dt(e,PS(t)),e}function yF(t){let e=P.useContext(Dg);return Dt(e,PS(t)),e}function vF(t){let e=P.useContext(wi);return Dt(e,PS(t)),e}function MS(t){let e=vF(t),n=e.matches[e.matches.length-1];return Dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function _F(){return MS("useRouteId")}function TF(){var r;let t=P.useContext(RS),e=yF("useRouteError"),n=MS("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function EF(){let{router:t}=gF("useNavigate"),e=MS("useNavigate"),n=P.useRef(!1);return XO(()=>{n.current=!0}),P.useCallback(async(i,o={})=>{ri(n.current,JO),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var H1={};function ek(t,e,n){!e&&!H1[t]&&(H1[t]=!0,ri(!1,n))}P.memo(SF);function SF({routes:t,future:e,state:n,unstable_onError:r}){return ZO(t,void 0,n,r,e)}function wF({to:t,replace:e,state:n,relative:r}){Dt(fc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=P.useContext(Si);ri(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=P.useContext(wi),{pathname:a}=ro(),u=IS(),f=xS(t,CS(o),a,r==="path"),c=JSON.stringify(f);return P.useEffect(()=>{u(JSON.parse(c),{replace:e,state:n,relative:r})},[u,c,r,e,n]),null}function wr(t){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AF({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Dt(!fc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),u=P.useMemo(()=>({basename:a,navigator:i,static:o,future:{}}),[a,i,o]);typeof n=="string"&&(n=Al(n));let{pathname:f="/",search:c="",hash:h="",state:y=null,key:v="default"}=n,E=P.useMemo(()=>{let w=Ho(f,a);return w==null?null:{location:{pathname:w,search:c,hash:h,state:y,key:v},navigationType:r}},[a,f,c,h,y,v,r]);return ri(E!=null,`<Router basename="${a}"> is not able to match the URL "${f}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:P.createElement(Si.Provider,{value:u},P.createElement(Vd.Provider,{children:e,value:E}))}function z1({children:t,location:e}){return cF(YT(t),e)}function YT(t,e=[]){let n=[];return P.Children.forEach(t,(r,i)=>{if(!P.isValidElement(r))return;let o=[...e,i];if(r.type===P.Fragment){n.push.apply(n,YT(r.props.children,o));return}Dt(r.type===wr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=YT(r.props.children,o)),n.push(a)}),n}var fm="get",dm="application/x-www-form-urlencoded";function Og(t){return t!=null&&typeof t.tagName=="string"}function bF(t){return Og(t)&&t.tagName.toLowerCase()==="button"}function CF(t){return Og(t)&&t.tagName.toLowerCase()==="form"}function xF(t){return Og(t)&&t.tagName.toLowerCase()==="input"}function RF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function IF(t,e){return t.button===0&&(!e||e==="_self")&&!RF(t)}var Bp=null;function PF(){if(Bp===null)try{new FormData(document.createElement("form"),0),Bp=!1}catch{Bp=!0}return Bp}var MF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function z0(t){return t!=null&&!MF.has(t)?(ri(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dm}"`),null):t}function NF(t,e){let n,r,i,o,a;if(CF(t)){let u=t.getAttribute("action");r=u?Ho(u,e):null,n=t.getAttribute("method")||fm,i=z0(t.getAttribute("enctype"))||dm,o=new FormData(t)}else if(bF(t)||xF(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||u.getAttribute("action");if(r=f?Ho(f,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||fm,i=z0(t.getAttribute("formenctype"))||z0(u.getAttribute("enctype"))||dm,o=new FormData(u,t),!PF()){let{name:c,type:h,value:y}=t;if(h==="image"){let v=c?`${c}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else c&&o.append(c,y)}}else{if(Og(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fm,r=null,i=dm,a=t}return o&&i==="text/plain"&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function NS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function DF(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ho(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function OF(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kF(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function LF(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let a=await OF(o,n);return a.links?a.links():[]}return[]}));return qF(r.flat(1).filter(kF).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function G1(t,e,n,r,i,o){let a=(f,c)=>n[c]?f.route.id!==n[c].route.id:!0,u=(f,c)=>{var h;return n[c].pathname!==f.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,c)=>a(f,c)||u(f,c)):o==="data"?e.filter((f,c)=>{var y;let h=r.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(a(f,c)||u(f,c))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function UF(t,e,{includeHydrateFallback:n}={}){return VF(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function VF(t){return[...new Set(t)]}function BF(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function qF(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(BF(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function tk(){let t=P.useContext(cc);return NS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function FF(){let t=P.useContext(Dg);return NS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var DS=P.createContext(void 0);DS.displayName="FrameworkContext";function nk(){let t=P.useContext(DS);return NS(t,"You must render this element inside a <HydratedRouter> element"),t}function $F(t,e){let n=P.useContext(DS),[r,i]=P.useState(!1),[o,a]=P.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:c,onMouseLeave:h,onTouchStart:y}=e,v=P.useRef(null);P.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let A=R=>{R.forEach(N=>{a(N.isIntersecting)})},C=new IntersectionObserver(A,{threshold:.5});return v.current&&C.observe(v.current),()=>{C.disconnect()}}},[t]),P.useEffect(()=>{if(r){let A=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(A)}}},[r]);let E=()=>{i(!0)},w=()=>{i(!1),a(!1)};return n?t!=="intent"?[o,v,{}]:[o,v,{onFocus:qf(u,E),onBlur:qf(f,w),onMouseEnter:qf(c,E),onMouseLeave:qf(h,w),onTouchStart:qf(y,E)}]:[!1,v,{}]}function qf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function HF({page:t,...e}){let{router:n}=tk(),r=P.useMemo(()=>GO(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?P.createElement(GF,{page:t,matches:r,...e}):null}function zF(t){let{manifest:e,routeModules:n}=nk(),[r,i]=P.useState([]);return P.useEffect(()=>{let o=!1;return LF(t,e,n).then(a=>{o||i(a)}),()=>{o=!0}},[t,e,n]),r}function GF({page:t,matches:e,...n}){let r=ro(),{manifest:i,routeModules:o}=nk(),{basename:a}=tk(),{loaderData:u,matches:f}=FF(),c=P.useMemo(()=>G1(t,e,f,i,r,"data"),[t,e,f,i,r]),h=P.useMemo(()=>G1(t,e,f,i,r,"assets"),[t,e,f,i,r]),y=P.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,A=!1;if(e.forEach(R=>{var M;let N=i.routes[R.route.id];!N||!N.hasLoader||(!c.some(U=>U.route.id===R.route.id)&&R.route.id in u&&((M=o[R.route.id])!=null&&M.shouldRevalidate)||N.hasClientLoader?A=!0:w.add(R.route.id))}),w.size===0)return[];let C=DF(t,a,"data");return A&&w.size>0&&C.searchParams.set("_routes",e.filter(R=>w.has(R.route.id)).map(R=>R.route.id).join(",")),[C.pathname+C.search]},[a,u,r,i,c,e,t,o]),v=P.useMemo(()=>UF(h,i),[h,i]),E=zF(h);return P.createElement(P.Fragment,null,y.map(w=>P.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>P.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),E.map(({key:w,link:A})=>P.createElement("link",{key:w,nonce:n.nonce,...A})))}function KF(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var rk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rk&&(window.__reactRouterVersion="7.8.2")}catch{}function jF({basename:t,children:e,window:n}){let r=P.useRef();r.current==null&&(r.current=kq({window:n,v5Compat:!0}));let i=r.current,[o,a]=P.useState({action:i.action,location:i.location}),u=P.useCallback(f=>{P.startTransition(()=>a(f))},[a]);return P.useLayoutEffect(()=>i.listen(u),[i,u]),P.createElement(AF,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var ik=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ok=P.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:a,state:u,target:f,to:c,preventScrollReset:h,viewTransition:y,...v},E){let{basename:w}=P.useContext(Si),A=typeof c=="string"&&ik.test(c),C,R=!1;if(typeof c=="string"&&A&&(C=c,rk))try{let D=new URL(window.location.href),$=c.startsWith("//")?new URL(D.protocol+c):new URL(c),F=Ho($.pathname,w);$.origin===D.origin&&F!=null?c=F+$.search+$.hash:R=!0}catch{ri(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=lF(c,{relative:i}),[M,U,V]=$F(r,v),G=XF(c,{replace:a,state:u,target:f,preventScrollReset:h,relative:i,viewTransition:y});function O(D){e&&e(D),D.defaultPrevented||G(D)}let k=P.createElement("a",{...v,...V,href:C||N,onClick:R||o?e:O,ref:KF(E,U),target:f,"data-discover":!A&&n==="render"?"true":void 0});return M&&!A?P.createElement(P.Fragment,null,k,P.createElement(HF,{page:N})):k});ok.displayName="Link";var YF=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:a,viewTransition:u,children:f,...c},h){let y=Bd(a,{relative:c.relative}),v=ro(),E=P.useContext(Dg),{navigator:w,basename:A}=P.useContext(Si),C=E!=null&&n5(y)&&u===!0,R=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,N=v.pathname,M=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(N=N.toLowerCase(),M=M?M.toLowerCase():null,R=R.toLowerCase()),M&&A&&(M=Ho(M,A)||M);const U=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let V=N===R||!i&&N.startsWith(R)&&N.charAt(U)==="/",G=M!=null&&(M===R||!i&&M.startsWith(R)&&M.charAt(R.length)==="/"),O={isActive:V,isPending:G,isTransitioning:C},k=V?e:void 0,D;typeof r=="function"?D=r(O):D=[r,V?"active":null,G?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let $=typeof o=="function"?o(O):o;return P.createElement(ok,{...c,"aria-current":k,className:D,ref:h,style:$,to:a,viewTransition:u},typeof f=="function"?f(O):f)});YF.displayName="NavLink";var WF=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:a=fm,action:u,onSubmit:f,relative:c,preventScrollReset:h,viewTransition:y,...v},E)=>{let w=e5(),A=t5(u,{relative:c}),C=a.toLowerCase()==="get"?"get":"post",R=typeof u=="string"&&ik.test(u),N=M=>{if(f&&f(M),M.defaultPrevented)return;M.preventDefault();let U=M.nativeEvent.submitter,V=(U==null?void 0:U.getAttribute("formmethod"))||a;w(U||M.currentTarget,{fetcherKey:e,method:V,navigate:n,replace:i,state:o,relative:c,preventScrollReset:h,viewTransition:y})};return P.createElement("form",{ref:E,method:C,action:A,onSubmit:r?f:N,...v,"data-discover":!R&&t==="render"?"true":void 0})});WF.displayName="Form";function JF(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sk(t){let e=P.useContext(cc);return Dt(e,JF(t)),e}function XF(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:a}={}){let u=IS(),f=ro(),c=Bd(t,{relative:o});return P.useCallback(h=>{if(IF(h,e)){h.preventDefault();let y=n!==void 0?n:gd(f)===gd(c);u(t,{replace:y,state:r,preventScrollReset:i,relative:o,viewTransition:a})}},[f,u,c,n,r,e,t,i,o,a])}var QF=0,ZF=()=>`__${String(++QF)}__`;function e5(){let{router:t}=sk("useSubmit"),{basename:e}=P.useContext(Si),n=_F();return P.useCallback(async(r,i={})=>{let{action:o,method:a,encType:u,formData:f,body:c}=NF(r,e);if(i.navigate===!1){let h=i.fetcherKey||ZF();await t.fetch(h,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:c,formMethod:i.method||a,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:c,formMethod:i.method||a,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function t5(t,{relative:e}={}){let{basename:n}=P.useContext(Si),r=P.useContext(wi);Dt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Bd(t||".",{relative:e})},a=ro();if(t==null){o.search=a.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(h=>h==="")){u.delete("index"),f.filter(y=>y).forEach(y=>u.append("index",y));let h=u.toString();o.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Bo([n,o.pathname])),gd(o)}function n5(t,{relative:e}={}){let n=P.useContext(WO);Dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=sk("useViewTransitionState"),i=Bd(t,{relative:e});if(!n.isTransitioning)return!1;let o=Ho(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Ho(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Rm(i.pathname,a)!=null||Rm(i.pathname,o)!=null}var r5=zO();const i5=()=>{};var K1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},o5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],u=t[n++],f=((i&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},lk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,u=a?t[i+1]:0,f=i+2<t.length,c=f?t[i+2]:0,h=o>>2,y=(o&3)<<4|u>>4;let v=(u&15)<<2|c>>6,E=c&63;f||(E=64,a||(v=64)),r.push(n[h],n[y],n[v],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ak(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):o5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||c==null||y==null)throw new s5;const v=o<<2|u>>4;if(r.push(v),c!==64){const E=u<<4&240|c>>2;if(r.push(E),y!==64){const w=c<<6&192|y;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class s5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a5=function(t){const e=ak(t);return lk.encodeByteArray(e,!0)},Im=function(t){return a5(t).replace(/\./g,"")},uk=function(t){try{return lk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5=()=>l5().__FIREBASE_DEFAULTS__,c5=()=>{if(typeof process>"u"||typeof K1>"u")return;const t=K1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},f5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uk(t[1]);return e&&JSON.parse(e)},kg=()=>{try{return i5()||u5()||c5()||f5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ck=t=>{var e,n;return(n=(e=kg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},fk=t=>{const e=ck(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dk=()=>{var t;return(t=kg())==null?void 0:t.config},hk=t=>{var e;return(e=kg())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function OS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Im(JSON.stringify(n)),Im(JSON.stringify(a)),""].join(".")}const od={};function h5(){const t={prod:[],emulator:[]};for(const e of Object.keys(od))od[e]?t.emulator.push(e):t.prod.push(e);return t}function p5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let j1=!1;function kS(t,e){if(typeof window>"u"||typeof document>"u"||!la(window.location.host)||od[t]===e||od[t]||j1)return;od[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=h5().prod.length>0;function a(){const v=document.getElementById(r);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function c(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{j1=!0,a()},v}function h(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=p5(r),E=n("text"),w=document.getElementById(E)||document.createElement("span"),A=n("learnmore"),C=document.getElementById(A)||document.createElement("a"),R=n("preprendIcon"),N=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const M=v.element;u(M),h(C,A);const U=c();f(N,R),M.append(N,w,C,U),document.body.appendChild(M)}o?(w.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jn())}function g5(){var e;const t=(e=kg())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function y5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function v5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function T5(){const t=jn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function E5(){return!g5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S5(){try{return typeof indexedDB=="object"}catch{return!1}}function w5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5="FirebaseError";class io extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=A5,Object.setPrototypeOf(this,io.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qd.prototype.create)}}class qd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?b5(o,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new io(i,u,r)}}function b5(t,e){return t.replace(C5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const C5=/\{\$([^}]+)}/g;function x5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(Y1(o)&&Y1(a)){if(!hl(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Y1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Qf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function R5(t,e){const n=new I5(t,e);return n.subscribe.bind(n)}class I5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");P5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=G0),i.error===void 0&&(i.error=G0),i.complete===void 0&&(i.complete=G0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function G0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t){return t&&t._delegate?t._delegate:t}class ea{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M5=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new d5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(D5(e))try{this.getOrInitializeService({instanceIdentifier:Wa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wa){return this.instances.has(e)}getOptions(e=Wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:N5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wa){return this.component?this.component.multipleInstances?e:Wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function N5(t){return t===Wa?void 0:t}function D5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new M5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const k5={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},L5=Ye.INFO,U5={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},V5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=U5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class LS{constructor(e){this.name=e,this._logLevel=L5,this._logHandler=V5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const B5=(t,e)=>e.some(n=>t instanceof n);let W1,J1;function q5(){return W1||(W1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F5(){return J1||(J1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mk=new WeakMap,WT=new WeakMap,gk=new WeakMap,K0=new WeakMap,US=new WeakMap;function $5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(js(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&mk.set(n,t)}).catch(()=>{}),US.set(e,t),e}function H5(t){if(WT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});WT.set(t,e)}let JT={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return WT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return js(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function z5(t){JT=t(JT)}function G5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(j0(this),e,...n);return gk.set(r,e.sort?e.sort():[e]),js(r)}:F5().includes(t)?function(...e){return t.apply(j0(this),e),js(mk.get(this))}:function(...e){return js(t.apply(j0(this),e))}}function K5(t){return typeof t=="function"?G5(t):(t instanceof IDBTransaction&&H5(t),B5(t,q5())?new Proxy(t,JT):t)}function js(t){if(t instanceof IDBRequest)return $5(t);if(K0.has(t))return K0.get(t);const e=K5(t);return e!==t&&(K0.set(t,e),US.set(e,t)),e}const j0=t=>US.get(t);function j5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),u=js(a);return r&&a.addEventListener("upgradeneeded",f=>{r(js(a.result),f.oldVersion,f.newVersion,js(a.transaction),f)}),n&&a.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),u}const Y5=["get","getKey","getAll","getAllKeys","count"],W5=["put","add","delete","clear"],Y0=new Map;function X1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Y0.get(e))return Y0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=W5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Y5.includes(n)))return;const o=async function(a,...u){const f=this.transaction(a,i?"readwrite":"readonly");let c=f.store;return r&&(c=c.index(u.shift())),(await Promise.all([c[n](...u),i&&f.done]))[0]};return Y0.set(e,o),o}z5(t=>({...t,get:(e,n,r)=>X1(e,n)||t.get(e,n,r),has:(e,n)=>!!X1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(X5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function X5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const XT="@firebase/app",Q1="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new LS("@firebase/app"),Q5="@firebase/app-compat",Z5="@firebase/analytics-compat",e9="@firebase/analytics",t9="@firebase/app-check-compat",n9="@firebase/app-check",r9="@firebase/auth",i9="@firebase/auth-compat",o9="@firebase/database",s9="@firebase/data-connect",a9="@firebase/database-compat",l9="@firebase/functions",u9="@firebase/functions-compat",c9="@firebase/installations",f9="@firebase/installations-compat",d9="@firebase/messaging",h9="@firebase/messaging-compat",p9="@firebase/performance",m9="@firebase/performance-compat",g9="@firebase/remote-config",y9="@firebase/remote-config-compat",v9="@firebase/storage",_9="@firebase/storage-compat",T9="@firebase/firestore",E9="@firebase/ai",S9="@firebase/firestore-compat",w9="firebase",A9="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="[DEFAULT]",b9={[XT]:"fire-core",[Q5]:"fire-core-compat",[e9]:"fire-analytics",[Z5]:"fire-analytics-compat",[n9]:"fire-app-check",[t9]:"fire-app-check-compat",[r9]:"fire-auth",[i9]:"fire-auth-compat",[o9]:"fire-rtdb",[s9]:"fire-data-connect",[a9]:"fire-rtdb-compat",[l9]:"fire-fn",[u9]:"fire-fn-compat",[c9]:"fire-iid",[f9]:"fire-iid-compat",[d9]:"fire-fcm",[h9]:"fire-fcm-compat",[p9]:"fire-perf",[m9]:"fire-perf-compat",[g9]:"fire-rc",[y9]:"fire-rc-compat",[v9]:"fire-gcs",[_9]:"fire-gcs-compat",[T9]:"fire-fst",[S9]:"fire-fst-compat",[E9]:"fire-vertex","fire-js":"fire-js",[w9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm=new Map,C9=new Map,ZT=new Map;function Z1(t,e){try{t.container.addComponent(e)}catch(n){zo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pl(t){const e=t.name;if(ZT.has(e))return zo.debug(`There were multiple attempts to register component ${e}.`),!1;ZT.set(e,t);for(const n of Pm.values())Z1(n,t);for(const n of C9.values())Z1(n,t);return!0}function Lg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ys=new qd("app","Firebase",x9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=A9;function yk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:QT,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ys.create("bad-app-name",{appName:String(i)});if(n||(n=dk()),!n)throw Ys.create("no-options");const o=Pm.get(i);if(o){if(hl(n,o.options)&&hl(r,o.config))return o;throw Ys.create("duplicate-app",{appName:i})}const a=new O5(i);for(const f of ZT.values())a.addComponent(f);const u=new R9(n,r,a);return Pm.set(i,u),u}function VS(t=QT){const e=Pm.get(t);if(!e&&t===QT&&dk())return yk();if(!e)throw Ys.create("no-app",{appName:t});return e}function Ki(t,e,n){let r=b9[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zo.warn(a.join(" "));return}pl(new ea(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9="firebase-heartbeat-database",P9=1,yd="firebase-heartbeat-store";let W0=null;function vk(){return W0||(W0=j5(I9,P9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ys.create("idb-open",{originalErrorMessage:t.message})})),W0}async function M9(t){try{const n=(await vk()).transaction(yd),r=await n.objectStore(yd).get(_k(t));return await n.done,r}catch(e){if(e instanceof io)zo.warn(e.message);else{const n=Ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zo.warn(n.message)}}}async function eR(t,e){try{const r=(await vk()).transaction(yd,"readwrite");await r.objectStore(yd).put(e,_k(t)),await r.done}catch(n){if(n instanceof io)zo.warn(n.message);else{const r=Ys.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zo.warn(r.message)}}}function _k(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=1024,D9=30;class O9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new L9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=tR();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>D9){const a=U9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){zo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tR(),{heartbeatsToSend:r,unsentEntries:i}=k9(this._heartbeatsCache.heartbeats),o=Im(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return zo.warn(n),""}}}function tR(){return new Date().toISOString().substring(0,10)}function k9(t,e=N9){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),nR(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class L9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return S5()?w5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await M9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return eR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return eR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function nR(t){return Im(JSON.stringify({version:2,heartbeats:t})).length}function U9(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V9(t){pl(new ea("platform-logger",e=>new J5(e),"PRIVATE")),pl(new ea("heartbeat",e=>new O9(e),"PRIVATE")),Ki(XT,Q1,t),Ki(XT,Q1,"esm2020"),Ki("fire-js","")}V9("");var B9="firebase",q9="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki(B9,q9,"app");function Tk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const F9=Tk,Ek=new qd("auth","Firebase",Tk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=new LS("@firebase/auth");function $9(t,...e){Mm.logLevel<=Ye.WARN&&Mm.warn(`Auth (${bl}): ${t}`,...e)}function hm(t,...e){Mm.logLevel<=Ye.ERROR&&Mm.error(`Auth (${bl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t,...e){throw BS(t,...e)}function ji(t,...e){return BS(t,...e)}function Sk(t,e,n){const r={...F9(),[e]:n};return new qd("auth","Firebase",r).create(e,{appName:t.name})}function Ws(t){return Sk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ek.create(t,...e)}function Ue(t,e,...n){if(!t)throw BS(e,...n)}function ko(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hm(e),new Error(e)}function Go(t,e){t||ko(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function H9(){return rR()==="http:"||rR()==="https:"}function rR(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(H9()||v5()||"connection"in navigator)?navigator.onLine:!0}function G9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n){this.shortDelay=e,this.longDelay=n,Go(n>e,"Short delay should be less than long delay!"),this.isMobile=m5()||_5()}get(){return z9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(t,e){Go(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ko("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ko("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ko("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Y9=new $d(3e4,6e4);function Cl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Zo(t,e,n,r,i={}){return Ak(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const u=Fd({key:t.config.apiKey,...a}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:f,...o};return y5()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&la(t.emulatorConfig.host)&&(c.credentials="include"),wk.fetch()(await bk(t,t.config.apiHost,n,u),c)})}async function Ak(t,e,n){t._canInitEmulator=!1;const r={...K9,...e};try{const i=new J9(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw qp(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const u=o.ok?a.errorMessage:a.error.message,[f,c]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw qp(t,"credential-already-in-use",a);if(f==="EMAIL_EXISTS")throw qp(t,"email-already-in-use",a);if(f==="USER_DISABLED")throw qp(t,"user-disabled",a);const h=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Sk(t,h,c);vi(t,h)}}catch(i){if(i instanceof io)throw i;vi(t,"network-request-failed",{message:String(i)})}}async function Ug(t,e,n,r,i={}){const o=await Zo(t,e,n,r,i);return"mfaPendingCredential"in o&&vi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function bk(t,e,n,r){const i=`${e}${n}?${r}`,o=t,a=o.config.emulator?qS(t.config,i):`${t.config.apiScheme}://${i}`;return j9.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}function W9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class J9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ji(this.auth,"network-request-failed")),Y9.get())})}}function qp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ji(t,e,r);return i.customData._tokenResponse=n,i}function iR(t){return t!==void 0&&t.enterprise!==void 0}class X9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return W9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Q9(t,e){return Zo(t,"GET","/v2/recaptchaConfig",Cl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z9(t,e){return Zo(t,"POST","/v1/accounts:delete",e)}async function Nm(t,e){return Zo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function e$(t,e=!1){const n=At(t),r=await n.getIdToken(e),i=FS(r);Ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:sd(J0(i.auth_time)),issuedAtTime:sd(J0(i.iat)),expirationTime:sd(J0(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function J0(t){return Number(t)*1e3}function FS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hm("JWT malformed, contained fewer than 3 sections"),null;try{const i=uk(n);return i?JSON.parse(i):(hm("Failed to decode base64 JWT payload"),null)}catch(i){return hm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function oR(t){const e=FS(t);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof io&&t$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function t$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sd(this.lastLoginAt),this.creationTime=sd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dm(t){var y;const e=t.auth,n=await t.getIdToken(),r=await Gu(t,Nm(e,{idToken:n}));Ue(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(y=i.providerUserInfo)!=null&&y.length?Ck(i.providerUserInfo):[],a=i$(t.providerData,o),u=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=u?f:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new tE(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function r$(t){const e=At(t);await Dm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function i$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ck(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o$(t,e){const n=await Ak(t,{},async()=>{const r=Fd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=await bk(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return t.emulatorConfig&&la(t.emulatorConfig.host)&&(f.credentials="include"),wk.fetch()(a,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function s$(t,e){return Zo(t,"POST","/v2/accounts:revokeToken",Cl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const n=oR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await o$(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Lu;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Ue(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(Ue(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lu,this.toJSON())}_performRefresh(){return ko("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(t,e){Ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new n$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new tE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Gu(this,this.stsTokenManager.getToken(this.auth,e));return Ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return e$(this,e)}reload(){return r$(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Dm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zr(this.auth.app))return Promise.reject(Ws(this.auth));const e=await this.getIdToken();return await Gu(this,Z9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,a=n.photoURL??void 0,u=n.tenantId??void 0,f=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:y,emailVerified:v,isAnonymous:E,providerData:w,stsTokenManager:A}=n;Ue(y&&A,e,"internal-error");const C=Lu.fromJSON(this.name,A);Ue(typeof y=="string",e,"internal-error"),ks(r,e.name),ks(i,e.name),Ue(typeof v=="boolean",e,"internal-error"),Ue(typeof E=="boolean",e,"internal-error"),ks(o,e.name),ks(a,e.name),ks(u,e.name),ks(f,e.name),ks(c,e.name),ks(h,e.name);const R=new gi({uid:y,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:E,photoURL:a,phoneNumber:o,tenantId:u,stsTokenManager:C,createdAt:c,lastLoginAt:h});return w&&Array.isArray(w)&&(R.providerData=w.map(N=>({...N}))),f&&(R._redirectEventId=f),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Lu;i.updateFromServerResponse(n);const o=new gi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Dm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ue(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Ck(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new Lu;u.updateFromIdToken(r);const f=new gi({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new tE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,c),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=new Map;function Lo(t){Go(t instanceof Function,"Expected a class definition");let e=sR.get(t);return e?(Go(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xk.type="NONE";const aR=xk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(t,e,n){return`firebase:${t}:${e}:${n}`}class Uu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=pm(this.userKey,i.apiKey,o),this.fullPersistenceKey=pm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nm(this.auth,{idToken:e}).catch(()=>{});return n?gi._fromGetAccountInfoResponse(this.auth,n,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Uu(Lo(aR),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||Lo(aR);const a=pm(r,e.config.apiKey,e.name);let u=null;for(const c of n)try{const h=await c._get(a);if(h){let y;if(typeof h=="string"){const v=await Nm(e,{idToken:h}).catch(()=>{});if(!v)break;y=await gi._fromGetAccountInfoResponse(e,v,h)}else y=gi._fromJSON(e,h);c!==o&&(u=y),o=c;break}}catch{}const f=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Uu(o,e,r):(o=f[0],u&&await o._set(a,u.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(a)}catch{}})),new Uu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Mk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Rk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Dk(e))return"Blackberry";if(Ok(e))return"Webos";if(Ik(e))return"Safari";if((e.includes("chrome/")||Pk(e))&&!e.includes("edge/"))return"Chrome";if(Nk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Rk(t=jn()){return/firefox\//i.test(t)}function Ik(t=jn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Pk(t=jn()){return/crios\//i.test(t)}function Mk(t=jn()){return/iemobile/i.test(t)}function Nk(t=jn()){return/android/i.test(t)}function Dk(t=jn()){return/blackberry/i.test(t)}function Ok(t=jn()){return/webos/i.test(t)}function $S(t=jn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function a$(t=jn()){var e;return $S(t)&&!!((e=window.navigator)!=null&&e.standalone)}function l$(){return T5()&&document.documentMode===10}function kk(t=jn()){return $S(t)||Nk(t)||Ok(t)||Dk(t)||/windows phone/i.test(t)||Mk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(t,e=[]){let n;switch(t){case"Browser":n=lR(jn());break;case"Worker":n=`${lR(jn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,u)=>{try{const f=e(o);a(f)}catch(f){u(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c$(t,e={}){return Zo(t,"GET","/v2/passwordPolicy",Cl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$=6;class d${constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??f$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uR(this),this.idTokenSubscription=new uR(this),this.beforeStateQueue=new u$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ek,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Lo(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Uu.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nm(this,{idToken:e}),r=await gi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Zr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(o=this.redirectUser)==null?void 0:o._redirectEventId,u=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!a||a===u)&&(f!=null&&f.user)&&(r=f.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=G9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zr(this.app))return Promise.reject(Ws(this));const n=e?At(e):null;return n&&Ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zr(this.app)?Promise.reject(Ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zr(this.app)?Promise.reject(Ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Lo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c$(this),n=new d$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await s$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Lo(e)||this._popupRedirectResolver;Ue(n,this,"argument-error"),this.redirectPersistenceManager=await Uu.create(this,[Lo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(u,this,"internal-error"),u.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{a=!0,f()}}else{const f=e.addObserver(n);return()=>{a=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Lk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&$9(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function dc(t){return At(t)}class uR{constructor(e){this.auth=e,this.observer=null,this.addObserver=R5(n=>this.observer=n)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p$(t){Vg=t}function Uk(t){return Vg.loadJS(t)}function m$(){return Vg.recaptchaEnterpriseScript}function g$(){return Vg.gapiScript}function y$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class v${constructor(){this.enterprise=new _$}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class _${ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const T$="recaptcha-enterprise",Vk="NO_RECAPTCHA";class E${constructor(e){this.type=T$,this.auth=dc(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,u)=>{Q9(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const c=new X9(f);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,a(c.siteKey)}}).catch(f=>{u(f)})})}function i(o,a,u){const f=window.grecaptcha;iR(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(c=>{a(c)}).catch(()=>{a(Vk)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new v$().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(u=>{if(!n&&iR(window.grecaptcha))i(u,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let f=m$();f.length!==0&&(f+=u),Uk(f).then(()=>{i(u,o,a)}).catch(c=>{a(c)})}}).catch(u=>{a(u)})})}}async function cR(t,e,n,r=!1,i=!1){const o=new E$(t);let a;if(i)a=Vk;else try{a=await o.verify(n)}catch{a=await o.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,c=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function fR(t,e,n,r,i){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await cR(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await cR(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S$(t,e){const n=Lg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(hl(o,e??{}))return i;vi(i,"already-initialized")}return n.initialize({options:e})}function w$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Lo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function A$(t,e,n){const r=dc(t);Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=Bk(e),{host:a,port:u}=b$(e),f=u===null?"":`:${u}`,c={url:`${o}//${a}${f}/`},h=Object.freeze({host:a,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ue(hl(c,r.config.emulator)&&hl(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,la(a)?(OS(`${o}//${a}${f}`),kS("Auth",!0)):C$()}function Bk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function b$(t){const e=Bk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:dR(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:dR(a)}}}function dR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function C$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ko("not implemented")}_getIdTokenResponse(e){return ko("not implemented")}_linkToIdToken(e,n){return ko("not implemented")}_getReauthenticationResolver(e){return ko("not implemented")}}async function x$(t,e){return Zo(t,"POST","/v1/accounts:update",e)}async function R$(t,e){return Zo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I$(t,e){return Ug(t,"POST","/v1/accounts:signInWithPassword",Cl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P$(t,e){return Ug(t,"POST","/v1/accounts:signInWithEmailLink",Cl(t,e))}async function M$(t,e){return Ug(t,"POST","/v1/accounts:signInWithEmailLink",Cl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends HS{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new vd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new vd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fR(e,n,"signInWithPassword",I$);case"emailLink":return P$(e,{email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fR(e,r,"signUpPassword",R$);case"emailLink":return M$(e,{idToken:n,email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vu(t,e){return Ug(t,"POST","/v1/accounts:signInWithIdp",Cl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$="http://localhost";class ml extends HS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ml(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const a=new ml(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Vu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vu(e,n)}buildRequest(){const e={requestUri:N$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function O$(t){const e=Xf(Qf(t)).link,n=e?Xf(Qf(e)).deep_link_id:null,r=Xf(Qf(t)).deep_link_id;return(r?Xf(Qf(r)).link:null)||r||n||e||t}class zS{constructor(e){const n=Xf(Qf(e)),r=n.apiKey??null,i=n.oobCode??null,o=D$(n.mode??null);Ue(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=O$(e);try{return new zS(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){this.providerId=hc.PROVIDER_ID}static credential(e,n){return vd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=zS.parseLink(n);return Ue(r,"argument-error"),vd._fromEmailAndCode(e,r.code,r.tenantId)}}hc.PROVIDER_ID="password";hc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd extends qk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Hd{constructor(){super("facebook.com")}static credential(e){return ml._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Hd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ml._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qs.credential(n,r)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Hd{constructor(){super("github.com")}static credential(e){return ml._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.GITHUB_SIGN_IN_METHOD="github.com";Fs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Hd{constructor(){super("twitter.com")}static credential(e,n){return ml._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $s.credential(n,r)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await gi._fromIdTokenResponse(e,r,i),a=hR(r);return new Ku({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=hR(r);return new Ku({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function hR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om extends io{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Om.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Om(e,n,r,i)}}function Fk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Om._fromErrorAndOperation(t,o,e,r):o})}async function k$(t,e,n=!1){const r=await Gu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ku._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L$(t,e,n=!1){const{auth:r}=t;if(Zr(r.app))return Promise.reject(Ws(r));const i="reauthenticate";try{const o=await Gu(t,Fk(r,i,e,t),n);Ue(o.idToken,r,"internal-error");const a=FS(o.idToken);Ue(a,r,"internal-error");const{sub:u}=a;return Ue(t.uid===u,r,"user-mismatch"),Ku._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&vi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $k(t,e,n=!1){if(Zr(t.app))return Promise.reject(Ws(t));const r="signIn",i=await Fk(t,r,e),o=await Ku._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function U$(t,e){return $k(dc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V$(t){const e=dc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function B$(t,e,n){return Zr(t.app)?Promise.reject(Ws(t)):U$(At(t),hc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&V$(t),r})}function q$(t,e){return F$(At(t),null,e)}async function F$(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(o.password=n);const a=await Gu(t,x$(r,o));await t._updateTokensIfNecessary(a,!0)}function $$(t,e,n,r){return At(t).onIdTokenChanged(e,n,r)}function H$(t,e,n){return At(t).beforeAuthStateChanged(e,n)}function z$(t,e,n,r){return At(t).onAuthStateChanged(e,n,r)}function G$(t){return At(t).signOut()}const km="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(km,"1"),this.storage.removeItem(km),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$=1e3,j$=10;class zk extends Hk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,f)=>{this.notifyListeners(a,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);l$()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,j$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},K$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zk.type="LOCAL";const Y$=zk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk extends Hk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Gk.type="SESSION";const Kk=Gk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Bg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(a).map(async c=>c(n.origin,o)),f=await W$(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((u,f)=>{const c=GS("",20);i.port1.start();const h=setTimeout(()=>{f(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(y){const v=y;if(v.data.eventId===c)switch(v.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(h),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(){return window}function X$(t){Yi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function Q$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Z$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function eH(){return jk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk="firebaseLocalStorageDb",tH=1,Lm="firebaseLocalStorage",Wk="fbase_key";class zd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qg(t,e){return t.transaction([Lm],e?"readwrite":"readonly").objectStore(Lm)}function nH(){const t=indexedDB.deleteDatabase(Yk);return new zd(t).toPromise()}function nE(){const t=indexedDB.open(Yk,tH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Lm,{keyPath:Wk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Lm)?e(r):(r.close(),await nH(),e(await nE()))})})}async function pR(t,e,n){const r=qg(t,!0).put({[Wk]:e,value:n});return new zd(r).toPromise()}async function rH(t,e){const n=qg(t,!1).get(e),r=await new zd(n).toPromise();return r===void 0?null:r.value}function mR(t,e){const n=qg(t,!0).delete(e);return new zd(n).toPromise()}const iH=800,oH=3;class Jk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>oH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bg._getInstance(eH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Q$(),!this.activeServiceWorker)return;this.sender=new J$(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Z$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nE();return await pR(e,km,"1"),await mR(e,km),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>pR(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>rH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mR(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=qg(i,!1).getAll();return new zd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Jk.type="LOCAL";const sH=Jk;new $d(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aH(t,e){return e?Lo(e):(Ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS extends HS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lH(t){return $k(t.auth,new KS(t),t.bypassAuthState)}function uH(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),L$(n,new KS(t),t.bypassAuthState)}async function cH(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),k$(n,new KS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:u}=e;if(a){this.reject(a);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lH;case"linkViaPopup":case"linkViaRedirect":return cH;case"reauthViaPopup":case"reauthViaRedirect":return uH;default:vi(this.auth,"internal-error")}}resolve(e){Go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fH=new $d(2e3,1e4);class Nu extends Xk{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Nu.currentPopupAction&&Nu.currentPopupAction.cancel(),Nu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){Go(this.filter.length===1,"Popup operations only handle one event");const e=GS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fH.get())};e()}}Nu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dH="pendingRedirect",mm=new Map;class hH extends Xk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=mm.get(this.auth._key());if(!e){try{const r=await pH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mm.set(this.auth._key(),e)}return this.bypassAuthState||mm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pH(t,e){const n=yH(e),r=gH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function mH(t,e){mm.set(t._key(),e)}function gH(t){return Lo(t._redirectPersistence)}function yH(t){return pm(dH,t.config.apiKey,t.name)}async function vH(t,e,n=!1){if(Zr(t.app))return Promise.reject(Ws(t));const r=dc(t),i=aH(r,e),a=await new hH(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _H=600*1e3;class TH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Qk(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ji(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_H&&this.cachedEventUids.clear(),this.cachedEventUids.has(gR(e))}saveEventToCache(e){this.cachedEventUids.add(gR(e)),this.lastProcessedEventTime=Date.now()}}function gR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Qk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SH(t,e={}){return Zo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AH=/^https?/;async function bH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await SH(t);for(const n of e)try{if(CH(n))return}catch{}vi(t,"unauthorized-domain")}function CH(t){const e=eE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!AH.test(n))return!1;if(wH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xH=new $d(3e4,6e4);function yR(){const t=Yi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function RH(t){return new Promise((e,n)=>{var i,o,a;function r(){yR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yR(),n(ji(t,"network-request-failed"))},timeout:xH.get()})}if((o=(i=Yi().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((a=Yi().gapi)!=null&&a.load)r();else{const u=y$("iframefcb");return Yi()[u]=()=>{gapi.load?r():n(ji(t,"network-request-failed"))},Uk(`${g$()}?onload=${u}`).catch(f=>n(f))}}).catch(e=>{throw gm=null,e})}let gm=null;function IH(t){return gm=gm||RH(t),gm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH=new $d(5e3,15e3),MH="__/auth/iframe",NH="emulator/auth/iframe",DH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kH(t){const e=t.config;Ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qS(e,NH):`https://${t.config.authDomain}/${MH}`,r={apiKey:e.apiKey,appName:t.name,v:bl},i=OH.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Fd(r).slice(1)}`}async function LH(t){const e=await IH(t),n=Yi().gapi;return Ue(n,t,"internal-error"),e.open({where:document.body,url:kH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DH,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=ji(t,"network-request-failed"),u=Yi().setTimeout(()=>{o(a)},PH.get());function f(){Yi().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VH=500,BH=600,qH="_blank",FH="http://localhost";class vR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $H(t,e,n,r=VH,i=BH){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...UH,width:r.toString(),height:i.toString(),top:o,left:a},c=jn().toLowerCase();n&&(u=Pk(c)?qH:n),Rk(c)&&(e=e||FH,f.scrollbars="yes");const h=Object.entries(f).reduce((v,[E,w])=>`${v}${E}=${w},`,"");if(a$(c)&&u!=="_self")return HH(e||"",u),new vR(null);const y=window.open(e||"",u,h);Ue(y,t,"popup-blocked");try{y.focus()}catch{}return new vR(y)}function HH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH="__/auth/handler",GH="emulator/auth/handler",KH=encodeURIComponent("fac");async function _R(t,e,n,r,i,o){Ue(t.config.authDomain,t,"auth-domain-config-required"),Ue(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:bl,eventId:i};if(e instanceof qk){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",x5(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,y]of Object.entries({}))a[h]=y}if(e instanceof Hd){const h=e.getScopes().filter(y=>y!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const f=await t._getAppCheckToken(),c=f?`#${KH}=${encodeURIComponent(f)}`:"";return`${jH(t)}?${Fd(u).slice(1)}${c}`}function jH({config:t}){return t.emulator?qS(t,GH):`https://${t.authDomain}/${zH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="webStorageSupport";class YH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kk,this._completeRedirectFn=vH,this._overrideRedirectResult=mH}async _openPopup(e,n,r,i){var a;Go((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await _R(e,n,r,eE(),i);return $H(e,o,GS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await _R(e,n,r,eE(),i);return X$(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Go(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await LH(e),r=new TH(e);return n.register("authEvent",i=>(Ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(X0,{type:X0},i=>{var a;const o=(a=i==null?void 0:i[0])==null?void 0:a[X0];o!==void 0&&n(!!o),vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kk()||Ik()||$S()}}const WH=YH;var TR="@firebase/auth",ER="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QH(t){pl(new ea("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;Ue(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lk(t)},c=new h$(r,i,o,f);return w$(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pl(new ea("auth-internal",e=>{const n=dc(e.getProvider("auth").getImmediate());return(r=>new JH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ki(TR,ER,XH(t)),Ki(TR,ER,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZH=300,ez=hk("authIdTokenMaxAge")||ZH;let SR=null;const tz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ez)return;const i=n==null?void 0:n.token;SR!==i&&(SR=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function nz(t=VS()){const e=Lg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=S$(t,{popupRedirectResolver:WH,persistence:[sH,Y$,Kk]}),r=hk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=tz(o.toString());H$(n,a,()=>a(n.currentUser)),$$(n,u=>a(u))}}const i=ck("auth");return i&&A$(n,`http://${i}`),n}function rz(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}p$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=ji("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",rz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QH("Browser");var wR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Js,Zk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,k){function D(){}D.prototype=k.prototype,O.D=k.prototype,O.prototype=new D,O.prototype.constructor=O,O.C=function($,F,z){for(var H=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)H[Me-2]=arguments[Me];return k.prototype[F].apply($,H)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,k,D){D||(D=0);var $=Array(16);if(typeof k=="string")for(var F=0;16>F;++F)$[F]=k.charCodeAt(D++)|k.charCodeAt(D++)<<8|k.charCodeAt(D++)<<16|k.charCodeAt(D++)<<24;else for(F=0;16>F;++F)$[F]=k[D++]|k[D++]<<8|k[D++]<<16|k[D++]<<24;k=O.g[0],D=O.g[1],F=O.g[2];var z=O.g[3],H=k+(z^D&(F^z))+$[0]+3614090360&4294967295;k=D+(H<<7&4294967295|H>>>25),H=z+(F^k&(D^F))+$[1]+3905402710&4294967295,z=k+(H<<12&4294967295|H>>>20),H=F+(D^z&(k^D))+$[2]+606105819&4294967295,F=z+(H<<17&4294967295|H>>>15),H=D+(k^F&(z^k))+$[3]+3250441966&4294967295,D=F+(H<<22&4294967295|H>>>10),H=k+(z^D&(F^z))+$[4]+4118548399&4294967295,k=D+(H<<7&4294967295|H>>>25),H=z+(F^k&(D^F))+$[5]+1200080426&4294967295,z=k+(H<<12&4294967295|H>>>20),H=F+(D^z&(k^D))+$[6]+2821735955&4294967295,F=z+(H<<17&4294967295|H>>>15),H=D+(k^F&(z^k))+$[7]+4249261313&4294967295,D=F+(H<<22&4294967295|H>>>10),H=k+(z^D&(F^z))+$[8]+1770035416&4294967295,k=D+(H<<7&4294967295|H>>>25),H=z+(F^k&(D^F))+$[9]+2336552879&4294967295,z=k+(H<<12&4294967295|H>>>20),H=F+(D^z&(k^D))+$[10]+4294925233&4294967295,F=z+(H<<17&4294967295|H>>>15),H=D+(k^F&(z^k))+$[11]+2304563134&4294967295,D=F+(H<<22&4294967295|H>>>10),H=k+(z^D&(F^z))+$[12]+1804603682&4294967295,k=D+(H<<7&4294967295|H>>>25),H=z+(F^k&(D^F))+$[13]+4254626195&4294967295,z=k+(H<<12&4294967295|H>>>20),H=F+(D^z&(k^D))+$[14]+2792965006&4294967295,F=z+(H<<17&4294967295|H>>>15),H=D+(k^F&(z^k))+$[15]+1236535329&4294967295,D=F+(H<<22&4294967295|H>>>10),H=k+(F^z&(D^F))+$[1]+4129170786&4294967295,k=D+(H<<5&4294967295|H>>>27),H=z+(D^F&(k^D))+$[6]+3225465664&4294967295,z=k+(H<<9&4294967295|H>>>23),H=F+(k^D&(z^k))+$[11]+643717713&4294967295,F=z+(H<<14&4294967295|H>>>18),H=D+(z^k&(F^z))+$[0]+3921069994&4294967295,D=F+(H<<20&4294967295|H>>>12),H=k+(F^z&(D^F))+$[5]+3593408605&4294967295,k=D+(H<<5&4294967295|H>>>27),H=z+(D^F&(k^D))+$[10]+38016083&4294967295,z=k+(H<<9&4294967295|H>>>23),H=F+(k^D&(z^k))+$[15]+3634488961&4294967295,F=z+(H<<14&4294967295|H>>>18),H=D+(z^k&(F^z))+$[4]+3889429448&4294967295,D=F+(H<<20&4294967295|H>>>12),H=k+(F^z&(D^F))+$[9]+568446438&4294967295,k=D+(H<<5&4294967295|H>>>27),H=z+(D^F&(k^D))+$[14]+3275163606&4294967295,z=k+(H<<9&4294967295|H>>>23),H=F+(k^D&(z^k))+$[3]+4107603335&4294967295,F=z+(H<<14&4294967295|H>>>18),H=D+(z^k&(F^z))+$[8]+1163531501&4294967295,D=F+(H<<20&4294967295|H>>>12),H=k+(F^z&(D^F))+$[13]+2850285829&4294967295,k=D+(H<<5&4294967295|H>>>27),H=z+(D^F&(k^D))+$[2]+4243563512&4294967295,z=k+(H<<9&4294967295|H>>>23),H=F+(k^D&(z^k))+$[7]+1735328473&4294967295,F=z+(H<<14&4294967295|H>>>18),H=D+(z^k&(F^z))+$[12]+2368359562&4294967295,D=F+(H<<20&4294967295|H>>>12),H=k+(D^F^z)+$[5]+4294588738&4294967295,k=D+(H<<4&4294967295|H>>>28),H=z+(k^D^F)+$[8]+2272392833&4294967295,z=k+(H<<11&4294967295|H>>>21),H=F+(z^k^D)+$[11]+1839030562&4294967295,F=z+(H<<16&4294967295|H>>>16),H=D+(F^z^k)+$[14]+4259657740&4294967295,D=F+(H<<23&4294967295|H>>>9),H=k+(D^F^z)+$[1]+2763975236&4294967295,k=D+(H<<4&4294967295|H>>>28),H=z+(k^D^F)+$[4]+1272893353&4294967295,z=k+(H<<11&4294967295|H>>>21),H=F+(z^k^D)+$[7]+4139469664&4294967295,F=z+(H<<16&4294967295|H>>>16),H=D+(F^z^k)+$[10]+3200236656&4294967295,D=F+(H<<23&4294967295|H>>>9),H=k+(D^F^z)+$[13]+681279174&4294967295,k=D+(H<<4&4294967295|H>>>28),H=z+(k^D^F)+$[0]+3936430074&4294967295,z=k+(H<<11&4294967295|H>>>21),H=F+(z^k^D)+$[3]+3572445317&4294967295,F=z+(H<<16&4294967295|H>>>16),H=D+(F^z^k)+$[6]+76029189&4294967295,D=F+(H<<23&4294967295|H>>>9),H=k+(D^F^z)+$[9]+3654602809&4294967295,k=D+(H<<4&4294967295|H>>>28),H=z+(k^D^F)+$[12]+3873151461&4294967295,z=k+(H<<11&4294967295|H>>>21),H=F+(z^k^D)+$[15]+530742520&4294967295,F=z+(H<<16&4294967295|H>>>16),H=D+(F^z^k)+$[2]+3299628645&4294967295,D=F+(H<<23&4294967295|H>>>9),H=k+(F^(D|~z))+$[0]+4096336452&4294967295,k=D+(H<<6&4294967295|H>>>26),H=z+(D^(k|~F))+$[7]+1126891415&4294967295,z=k+(H<<10&4294967295|H>>>22),H=F+(k^(z|~D))+$[14]+2878612391&4294967295,F=z+(H<<15&4294967295|H>>>17),H=D+(z^(F|~k))+$[5]+4237533241&4294967295,D=F+(H<<21&4294967295|H>>>11),H=k+(F^(D|~z))+$[12]+1700485571&4294967295,k=D+(H<<6&4294967295|H>>>26),H=z+(D^(k|~F))+$[3]+2399980690&4294967295,z=k+(H<<10&4294967295|H>>>22),H=F+(k^(z|~D))+$[10]+4293915773&4294967295,F=z+(H<<15&4294967295|H>>>17),H=D+(z^(F|~k))+$[1]+2240044497&4294967295,D=F+(H<<21&4294967295|H>>>11),H=k+(F^(D|~z))+$[8]+1873313359&4294967295,k=D+(H<<6&4294967295|H>>>26),H=z+(D^(k|~F))+$[15]+4264355552&4294967295,z=k+(H<<10&4294967295|H>>>22),H=F+(k^(z|~D))+$[6]+2734768916&4294967295,F=z+(H<<15&4294967295|H>>>17),H=D+(z^(F|~k))+$[13]+1309151649&4294967295,D=F+(H<<21&4294967295|H>>>11),H=k+(F^(D|~z))+$[4]+4149444226&4294967295,k=D+(H<<6&4294967295|H>>>26),H=z+(D^(k|~F))+$[11]+3174756917&4294967295,z=k+(H<<10&4294967295|H>>>22),H=F+(k^(z|~D))+$[2]+718787259&4294967295,F=z+(H<<15&4294967295|H>>>17),H=D+(z^(F|~k))+$[9]+3951481745&4294967295,O.g[0]=O.g[0]+k&4294967295,O.g[1]=O.g[1]+(F+(H<<21&4294967295|H>>>11))&4294967295,O.g[2]=O.g[2]+F&4294967295,O.g[3]=O.g[3]+z&4294967295}r.prototype.u=function(O,k){k===void 0&&(k=O.length);for(var D=k-this.blockSize,$=this.B,F=this.h,z=0;z<k;){if(F==0)for(;z<=D;)i(this,O,z),z+=this.blockSize;if(typeof O=="string"){for(;z<k;)if($[F++]=O.charCodeAt(z++),F==this.blockSize){i(this,$),F=0;break}}else for(;z<k;)if($[F++]=O[z++],F==this.blockSize){i(this,$),F=0;break}}this.h=F,this.o+=k},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var k=1;k<O.length-8;++k)O[k]=0;var D=8*this.o;for(k=O.length-8;k<O.length;++k)O[k]=D&255,D/=256;for(this.u(O),O=Array(16),k=D=0;4>k;++k)for(var $=0;32>$;$+=8)O[D++]=this.g[k]>>>$&255;return O};function o(O,k){var D=u;return Object.prototype.hasOwnProperty.call(D,O)?D[O]:D[O]=k(O)}function a(O,k){this.h=k;for(var D=[],$=!0,F=O.length-1;0<=F;F--){var z=O[F]|0;$&&z==k||(D[F]=z,$=!1)}this.g=D}var u={};function f(O){return-128<=O&&128>O?o(O,function(k){return new a([k|0],0>k?-1:0)}):new a([O|0],0>O?-1:0)}function c(O){if(isNaN(O)||!isFinite(O))return y;if(0>O)return C(c(-O));for(var k=[],D=1,$=0;O>=D;$++)k[$]=O/D|0,D*=4294967296;return new a(k,0)}function h(O,k){if(O.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(O.charAt(0)=="-")return C(h(O.substring(1),k));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=c(Math.pow(k,8)),$=y,F=0;F<O.length;F+=8){var z=Math.min(8,O.length-F),H=parseInt(O.substring(F,F+z),k);8>z?(z=c(Math.pow(k,z)),$=$.j(z).add(c(H))):($=$.j(D),$=$.add(c(H)))}return $}var y=f(0),v=f(1),E=f(16777216);t=a.prototype,t.m=function(){if(A(this))return-C(this).m();for(var O=0,k=1,D=0;D<this.g.length;D++){var $=this.i(D);O+=(0<=$?$:4294967296+$)*k,k*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(w(this))return"0";if(A(this))return"-"+C(this).toString(O);for(var k=c(Math.pow(O,6)),D=this,$="";;){var F=U(D,k).g;D=R(D,F.j(k));var z=((0<D.g.length?D.g[0]:D.h)>>>0).toString(O);if(D=F,w(D))return z+$;for(;6>z.length;)z="0"+z;$=z+$}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function w(O){if(O.h!=0)return!1;for(var k=0;k<O.g.length;k++)if(O.g[k]!=0)return!1;return!0}function A(O){return O.h==-1}t.l=function(O){return O=R(this,O),A(O)?-1:w(O)?0:1};function C(O){for(var k=O.g.length,D=[],$=0;$<k;$++)D[$]=~O.g[$];return new a(D,~O.h).add(v)}t.abs=function(){return A(this)?C(this):this},t.add=function(O){for(var k=Math.max(this.g.length,O.g.length),D=[],$=0,F=0;F<=k;F++){var z=$+(this.i(F)&65535)+(O.i(F)&65535),H=(z>>>16)+(this.i(F)>>>16)+(O.i(F)>>>16);$=H>>>16,z&=65535,H&=65535,D[F]=H<<16|z}return new a(D,D[D.length-1]&-2147483648?-1:0)};function R(O,k){return O.add(C(k))}t.j=function(O){if(w(this)||w(O))return y;if(A(this))return A(O)?C(this).j(C(O)):C(C(this).j(O));if(A(O))return C(this.j(C(O)));if(0>this.l(E)&&0>O.l(E))return c(this.m()*O.m());for(var k=this.g.length+O.g.length,D=[],$=0;$<2*k;$++)D[$]=0;for($=0;$<this.g.length;$++)for(var F=0;F<O.g.length;F++){var z=this.i($)>>>16,H=this.i($)&65535,Me=O.i(F)>>>16,be=O.i(F)&65535;D[2*$+2*F]+=H*be,N(D,2*$+2*F),D[2*$+2*F+1]+=z*be,N(D,2*$+2*F+1),D[2*$+2*F+1]+=H*Me,N(D,2*$+2*F+1),D[2*$+2*F+2]+=z*Me,N(D,2*$+2*F+2)}for($=0;$<k;$++)D[$]=D[2*$+1]<<16|D[2*$];for($=k;$<2*k;$++)D[$]=0;return new a(D,0)};function N(O,k){for(;(O[k]&65535)!=O[k];)O[k+1]+=O[k]>>>16,O[k]&=65535,k++}function M(O,k){this.g=O,this.h=k}function U(O,k){if(w(k))throw Error("division by zero");if(w(O))return new M(y,y);if(A(O))return k=U(C(O),k),new M(C(k.g),C(k.h));if(A(k))return k=U(O,C(k)),new M(C(k.g),k.h);if(30<O.g.length){if(A(O)||A(k))throw Error("slowDivide_ only works with positive integers.");for(var D=v,$=k;0>=$.l(O);)D=V(D),$=V($);var F=G(D,1),z=G($,1);for($=G($,2),D=G(D,2);!w($);){var H=z.add($);0>=H.l(O)&&(F=F.add(D),z=H),$=G($,1),D=G(D,1)}return k=R(O,F.j(k)),new M(F,k)}for(F=y;0<=O.l(k);){for(D=Math.max(1,Math.floor(O.m()/k.m())),$=Math.ceil(Math.log(D)/Math.LN2),$=48>=$?1:Math.pow(2,$-48),z=c(D),H=z.j(k);A(H)||0<H.l(O);)D-=$,z=c(D),H=z.j(k);w(z)&&(z=v),F=F.add(z),O=R(O,H)}return new M(F,O)}t.A=function(O){return U(this,O).h},t.and=function(O){for(var k=Math.max(this.g.length,O.g.length),D=[],$=0;$<k;$++)D[$]=this.i($)&O.i($);return new a(D,this.h&O.h)},t.or=function(O){for(var k=Math.max(this.g.length,O.g.length),D=[],$=0;$<k;$++)D[$]=this.i($)|O.i($);return new a(D,this.h|O.h)},t.xor=function(O){for(var k=Math.max(this.g.length,O.g.length),D=[],$=0;$<k;$++)D[$]=this.i($)^O.i($);return new a(D,this.h^O.h)};function V(O){for(var k=O.g.length+1,D=[],$=0;$<k;$++)D[$]=O.i($)<<1|O.i($-1)>>>31;return new a(D,O.h)}function G(O,k){var D=k>>5;k%=32;for(var $=O.g.length-D,F=[],z=0;z<$;z++)F[z]=0<k?O.i(z+D)>>>k|O.i(z+D+1)<<32-k:O.i(z+D);return new a(F,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Zk=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=h,Js=a}).apply(typeof wR<"u"?wR:typeof self<"u"?self:typeof window<"u"?window:{});var Fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e2,Zf,t2,ym,rE,n2,r2,i2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,b,x){return _==Array.prototype||_==Object.prototype||(_[b]=x.value),_};function n(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fp=="object"&&Fp];for(var b=0;b<_.length;++b){var x=_[b];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(_,b){if(b)e:{var x=r;_=_.split(".");for(var B=0;B<_.length-1;B++){var J=_[B];if(!(J in x))break e;x=x[J]}_=_[_.length-1],B=x[_],b=b(B),b!=B&&b!=null&&e(x,_,{configurable:!0,writable:!0,value:b})}}function o(_,b){_ instanceof String&&(_+="");var x=0,B=!1,J={next:function(){if(!B&&x<_.length){var ie=x++;return{value:b(ie,_[ie]),done:!1}}return B=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(_){return _||function(){return o(this,function(b,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function f(_){var b=typeof _;return b=b!="object"?b:_?Array.isArray(_)?"array":b:"null",b=="array"||b=="object"&&typeof _.length=="number"}function c(_){var b=typeof _;return b=="object"&&_!=null||b=="function"}function h(_,b,x){return _.call.apply(_.bind,arguments)}function y(_,b,x){if(!_)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,B),_.apply(b,J)}}return function(){return _.apply(b,arguments)}}function v(_,b,x){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:y,v.apply(null,arguments)}function E(_,b){var x=Array.prototype.slice.call(arguments,1);return function(){var B=x.slice();return B.push.apply(B,arguments),_.apply(this,B)}}function w(_,b){function x(){}x.prototype=b.prototype,_.aa=b.prototype,_.prototype=new x,_.prototype.constructor=_,_.Qb=function(B,J,ie){for(var ye=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)ye[Xe-2]=arguments[Xe];return b.prototype[J].apply(B,ye)}}function A(_){const b=_.length;if(0<b){const x=Array(b);for(let B=0;B<b;B++)x[B]=_[B];return x}return[]}function C(_,b){for(let x=1;x<arguments.length;x++){const B=arguments[x];if(f(B)){const J=_.length||0,ie=B.length||0;_.length=J+ie;for(let ye=0;ye<ie;ye++)_[J+ye]=B[ye]}else _.push(B)}}class R{constructor(b,x){this.i=b,this.j=x,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function N(_){return/^[\s\xa0]*$/.test(_)}function M(){var _=u.navigator;return _&&(_=_.userAgent)?_:""}function U(_){return U[" "](_),_}U[" "]=function(){};var V=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function G(_,b,x){for(const B in _)b.call(x,_[B],B,_)}function O(_,b){for(const x in _)b.call(void 0,_[x],x,_)}function k(_){const b={};for(const x in _)b[x]=_[x];return b}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(_,b){let x,B;for(let J=1;J<arguments.length;J++){B=arguments[J];for(x in B)_[x]=B[x];for(let ie=0;ie<D.length;ie++)x=D[ie],Object.prototype.hasOwnProperty.call(B,x)&&(_[x]=B[x])}}function F(_){var b=1;_=_.split(":");const x=[];for(;0<b&&_.length;)x.push(_.shift()),b--;return _.length&&x.push(_.join(":")),x}function z(_){u.setTimeout(()=>{throw _},0)}function H(){var _=Le;let b=null;return _.g&&(b=_.g,_.g=_.g.next,_.g||(_.h=null),b.next=null),b}class Me{constructor(){this.h=this.g=null}add(b,x){const B=be.get();B.set(b,x),this.h?this.h.next=B:this.g=B,this.h=B}}var be=new R(()=>new ne,_=>_.reset());class ne{constructor(){this.next=this.g=this.h=null}set(b,x){this.h=b,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,_e=!1,Le=new Me,j=()=>{const _=u.Promise.resolve(void 0);pe=()=>{_.then(ce)}};var ce=()=>{for(var _;_=H();){try{_.h.call(_.g)}catch(x){z(x)}var b=be;b.j(_),100>b.h&&(b.h++,_.next=b.g,b.g=_)}_e=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(_,b){this.type=_,this.g=this.target=b,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Ae=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var _=!1,b=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const x=()=>{};u.addEventListener("test",x,b),u.removeEventListener("test",x,b)}catch{}return _})();function Ie(_,b){if(me.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var x=this.type=_.type,B=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=b,b=_.relatedTarget){if(V){e:{try{U(b.nodeName);var J=!0;break e}catch{}J=!1}J||(b=null)}}else x=="mouseover"?b=_.fromElement:x=="mouseout"&&(b=_.toElement);this.relatedTarget=b,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:Ne[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&Ie.aa.h.call(this)}}w(Ie,me);var Ne={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var Ot="closure_listenable_"+(1e6*Math.random()|0),rt=0;function Z(_,b,x,B,J){this.listener=_,this.proxy=null,this.src=b,this.type=x,this.capture=!!B,this.ha=J,this.key=++rt,this.da=this.fa=!1}function he(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function ge(_){this.src=_,this.g={},this.h=0}ge.prototype.add=function(_,b,x,B,J){var ie=_.toString();_=this.g[ie],_||(_=this.g[ie]=[],this.h++);var ye=Pe(_,b,B,J);return-1<ye?(b=_[ye],x||(b.fa=!1)):(b=new Z(b,this.src,ie,!!B,J),b.fa=x,_.push(b)),b};function re(_,b){var x=b.type;if(x in _.g){var B=_.g[x],J=Array.prototype.indexOf.call(B,b,void 0),ie;(ie=0<=J)&&Array.prototype.splice.call(B,J,1),ie&&(he(b),_.g[x].length==0&&(delete _.g[x],_.h--))}}function Pe(_,b,x,B){for(var J=0;J<_.length;++J){var ie=_[J];if(!ie.da&&ie.listener==b&&ie.capture==!!x&&ie.ha==B)return J}return-1}var Fe="closure_lm_"+(1e6*Math.random()|0),ht={};function kt(_,b,x,B,J){if(Array.isArray(b)){for(var ie=0;ie<b.length;ie++)kt(_,b[ie],x,B,J);return null}return x=gh(x),_&&_[Ot]?_.K(b,x,c(B)?!!B.capture:!1,J):bt(_,b,x,!1,B,J)}function bt(_,b,x,B,J,ie){if(!b)throw Error("Invalid event type");var ye=c(J)?!!J.capture:!!J,Xe=xi(_);if(Xe||(_[Fe]=Xe=new ge(_)),x=Xe.add(b,x,B,ye,ie),x.proxy)return x;if(B=Yn(),x.proxy=B,B.src=_,B.listener=x,_.addEventListener)Ae||(J=ye),J===void 0&&(J=!1),_.addEventListener(b.toString(),B,J);else if(_.attachEvent)_.attachEvent(Wn(b.toString()),B);else if(_.addListener&&_.removeListener)_.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Yn(){function _(x){return b.call(_.src,_.listener,x)}const b=Jn;return _}function Ci(_,b,x,B,J){if(Array.isArray(b))for(var ie=0;ie<b.length;ie++)Ci(_,b[ie],x,B,J);else B=c(B)?!!B.capture:!!B,x=gh(x),_&&_[Ot]?(_=_.i,b=String(b).toString(),b in _.g&&(ie=_.g[b],x=Pe(ie,x,B,J),-1<x&&(he(ie[x]),Array.prototype.splice.call(ie,x,1),ie.length==0&&(delete _.g[b],_.h--)))):_&&(_=xi(_))&&(b=_.g[b.toString()],_=-1,b&&(_=Pe(b,x,B,J)),(x=-1<_?b[_]:null)&&so(x))}function so(_){if(typeof _!="number"&&_&&!_.da){var b=_.src;if(b&&b[Ot])re(b.i,_);else{var x=_.type,B=_.proxy;b.removeEventListener?b.removeEventListener(x,B,_.capture):b.detachEvent?b.detachEvent(Wn(x),B):b.addListener&&b.removeListener&&b.removeListener(B),(x=xi(b))?(re(x,_),x.h==0&&(x.src=null,b[Fe]=null)):he(_)}}}function Wn(_){return _ in ht?ht[_]:ht[_]="on"+_}function Jn(_,b){if(_.da)_=!0;else{b=new Ie(b,this);var x=_.listener,B=_.ha||_.src;_.fa&&so(_),_=x.call(B,b)}return _}function xi(_){return _=_[Fe],_ instanceof ge?_:null}var ss="__closure_events_fn_"+(1e9*Math.random()>>>0);function gh(_){return typeof _=="function"?_:(_[ss]||(_[ss]=function(b){return _.handleEvent(b)}),_[ss])}function Vt(){se.call(this),this.i=new ge(this),this.M=this,this.F=null}w(Vt,se),Vt.prototype[Ot]=!0,Vt.prototype.removeEventListener=function(_,b,x,B){Ci(this,_,b,x,B)};function lt(_,b){var x,B=_.F;if(B)for(x=[];B;B=B.F)x.push(B);if(_=_.M,B=b.type||b,typeof b=="string")b=new me(b,_);else if(b instanceof me)b.target=b.target||_;else{var J=b;b=new me(B,_),$(b,J)}if(J=!0,x)for(var ie=x.length-1;0<=ie;ie--){var ye=b.g=x[ie];J=pr(ye,B,!0,b)&&J}if(ye=b.g=_,J=pr(ye,B,!0,b)&&J,J=pr(ye,B,!1,b)&&J,x)for(ie=0;ie<x.length;ie++)ye=b.g=x[ie],J=pr(ye,B,!1,b)&&J}Vt.prototype.N=function(){if(Vt.aa.N.call(this),this.i){var _=this.i,b;for(b in _.g){for(var x=_.g[b],B=0;B<x.length;B++)he(x[B]);delete _.g[b],_.h--}}this.F=null},Vt.prototype.K=function(_,b,x,B){return this.i.add(String(_),b,!1,x,B)},Vt.prototype.L=function(_,b,x,B){return this.i.add(String(_),b,!0,x,B)};function pr(_,b,x,B){if(b=_.i.g[String(b)],!b)return!0;b=b.concat();for(var J=!0,ie=0;ie<b.length;++ie){var ye=b[ie];if(ye&&!ye.da&&ye.capture==x){var Xe=ye.listener,sn=ye.ha||ye.src;ye.fa&&re(_.i,ye),J=Xe.call(sn,B)!==!1&&J}}return J&&!B.defaultPrevented}function Vn(_,b,x){if(typeof _=="function")x&&(_=v(_,x));else if(_&&typeof _.handleEvent=="function")_=v(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:u.setTimeout(_,b||0)}function yh(_){_.g=Vn(()=>{_.g=null,_.i&&(_.i=!1,yh(_))},_.l);const b=_.h;_.h=null,_.m.apply(null,b)}class Vy extends se{constructor(b,x){super(),this.m=b,this.l=x,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:yh(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ga(_){se.call(this),this.h=_,this.g={}}w(ga,se);var ya=[];function va(_){G(_.g,function(b,x){this.g.hasOwnProperty(x)&&so(b)},_),_.g={}}ga.prototype.N=function(){ga.aa.N.call(this),va(this)},ga.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var li=u.JSON.stringify,Ll=u.JSON.parse,_a=class{stringify(_){return u.JSON.stringify(_,void 0)}parse(_){return u.JSON.parse(_,void 0)}};function Nc(){}Nc.prototype.h=null;function Dc(_){return _.h||(_.h=_.i())}function Oc(){}var ao={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lo(){me.call(this,"d")}w(lo,me);function kc(){me.call(this,"c")}w(kc,me);var Ri={},Lc=null;function as(){return Lc=Lc||new Vt}Ri.La="serverreachability";function Ul(_){me.call(this,Ri.La,_)}w(Ul,me);function ls(_){const b=as();lt(b,new Ul(b))}Ri.STAT_EVENT="statevent";function vh(_,b){me.call(this,Ri.STAT_EVENT,_),this.stat=b}w(vh,me);function Pt(_){const b=as();lt(b,new vh(b,_))}Ri.Ma="timingevent";function on(_,b){me.call(this,Ri.Ma,_),this.size=b}w(on,me);function Wt(_,b){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){_()},b)}function Ur(){this.g=!0}Ur.prototype.xa=function(){this.g=!1};function Uc(_,b,x,B,J,ie){_.info(function(){if(_.g)if(ie)for(var ye="",Xe=ie.split("&"),sn=0;sn<Xe.length;sn++){var Qe=Xe[sn].split("=");if(1<Qe.length){var yn=Qe[0];Qe=Qe[1];var an=yn.split("_");ye=2<=an.length&&an[1]=="type"?ye+(yn+"="+Qe+"&"):ye+(yn+"=redacted&")}}else ye=null;else ye=ie;return"XMLHTTP REQ ("+B+") [attempt "+J+"]: "+b+`
`+x+`
`+ye})}function By(_,b,x,B,J,ie,ye){_.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+J+"]: "+b+`
`+x+`
`+ie+" "+ye})}function us(_,b,x,B){_.info(function(){return"XMLHTTP TEXT ("+b+"): "+Ta(_,x)+(B?" "+B:"")})}function _h(_,b){_.info(function(){return"TIMEOUT: "+b})}Ur.prototype.info=function(){};function Ta(_,b){if(!_.g)return b;if(!b)return null;try{var x=JSON.parse(b);if(x){for(_=0;_<x.length;_++)if(Array.isArray(x[_])){var B=x[_];if(!(2>B.length)){var J=B[1];if(Array.isArray(J)&&!(1>J.length)){var ie=J[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ye=1;ye<J.length;ye++)J[ye]=""}}}}return li(x)}catch{return b}}var cs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ii;function Pi(){}w(Pi,Nc),Pi.prototype.g=function(){return new XMLHttpRequest},Pi.prototype.i=function(){return{}},Ii=new Pi;function Xn(_,b,x,B){this.j=_,this.i=b,this.l=x,this.R=B||1,this.U=new ga(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zt}function zt(){this.i=null,this.g="",this.h=!1}var Vc={},Vl={};function ui(_,b,x){_.L=1,_.v=ba(mr(b)),_.m=x,_.P=!0,co(_,null)}function co(_,b){_.F=Date.now(),Ea(_),_.A=mr(_.v);var x=_.A,B=_.R;Array.isArray(B)||(B=[String(B)]),zc(x.i,"t",B),_.C=0,x=_.j.J,_.h=new zt,_.g=kh(_.j,x?b:null,!_.m),0<_.O&&(_.M=new Vy(v(_.Y,_,_.g),_.O)),b=_.U,x=_.g,B=_.ca;var J="readystatechange";Array.isArray(J)||(J&&(ya[0]=J.toString()),J=ya);for(var ie=0;ie<J.length;ie++){var ye=kt(x,J[ie],B||b.handleEvent,!1,b.h||b);if(!ye)break;b.g[ye.key]=ye}b=_.H?k(_.H):{},_.m?(_.u||(_.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,b)):(_.u="GET",_.g.ea(_.A,_.u,null,b)),ls(),Uc(_.i,_.u,_.A,_.l,_.R,_.m)}Xn.prototype.ca=function(_){_=_.target;const b=this.M;b&&Fr(_)==3?b.j():this.Y(_)},Xn.prototype.Y=function(_){try{if(_==this.g)e:{const an=Fr(this.g);var b=this.g.Ba();const _o=this.g.Z();if(!(3>an)&&(an!=3||this.g&&(this.h.h||this.g.oa()||xh(this.g)))){this.J||an!=4||b==7||(b==8||0>=_o?ls(3):ls(2)),fs(this);var x=this.g.Z();this.X=x;t:if(Th(this)){var B=xh(this.g);_="";var J=B.length,ie=Fr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xn(this),Mi(this);var ye="";break t}this.h.i=new u.TextDecoder}for(b=0;b<J;b++)this.h.h=!0,_+=this.h.i.decode(B[b],{stream:!(ie&&b==J-1)});B.length=0,this.h.g+=_,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=x==200,By(this.i,this.u,this.A,this.l,this.R,an,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,sn=this.g;if((Xe=sn.g?sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(Xe)){var Qe=Xe;break t}}Qe=null}if(x=Qe)us(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sa(this,x);else{this.o=!1,this.s=3,Pt(12),xn(this),Mi(this);break e}}if(this.P){x=!0;let Rn;for(;!this.J&&this.C<ye.length;)if(Rn=Eh(this,ye),Rn==Vl){an==4&&(this.s=4,Pt(14),x=!1),us(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==Vc){this.s=4,Pt(15),us(this.i,this.l,ye,"[Invalid Chunk]"),x=!1;break}else us(this.i,this.l,Rn,null),Sa(this,Rn);if(Th(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),an!=4||ye.length!=0||this.h.h||(this.s=1,Pt(16),x=!1),this.o=this.o&&x,!x)us(this.i,this.l,ye,"[Invalid Chunked Response]"),xn(this),Mi(this);else if(0<ye.length&&!this.W){this.W=!0;var yn=this.j;yn.g==this&&yn.ba&&!yn.M&&(yn.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),Da(yn),yn.M=!0,Pt(11))}}else us(this.i,this.l,ye,null),Sa(this,ye);an==4&&xn(this),this.o&&!this.J&&(an==4?Nh(this.j,this):(this.o=!1,Ea(this)))}else zy(this.g),x==400&&0<ye.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),xn(this),Mi(this)}}}catch{}finally{}};function Th(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function Eh(_,b){var x=_.C,B=b.indexOf(`
`,x);return B==-1?Vl:(x=Number(b.substring(x,B)),isNaN(x)?Vc:(B+=1,B+x>b.length?Vl:(b=b.slice(B,B+x),_.C=B+x,b)))}Xn.prototype.cancel=function(){this.J=!0,xn(this)};function Ea(_){_.S=Date.now()+_.I,Sh(_,_.I)}function Sh(_,b){if(_.B!=null)throw Error("WatchDog timer not null");_.B=Wt(v(_.ba,_),b)}function fs(_){_.B&&(u.clearTimeout(_.B),_.B=null)}Xn.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(_h(this.i,this.A),this.L!=2&&(ls(),Pt(17)),xn(this),this.s=2,Mi(this)):Sh(this,this.S-_)};function Mi(_){_.j.G==0||_.J||Nh(_.j,_)}function xn(_){fs(_);var b=_.M;b&&typeof b.ma=="function"&&b.ma(),_.M=null,va(_.U),_.g&&(b=_.g,_.g=null,b.abort(),b.ma())}function Sa(_,b){try{var x=_.j;if(x.G!=0&&(x.g==_||Bc(x.h,_))){if(!_.K&&Bc(x.h,_)&&x.G==3){try{var B=x.Da.g.parse(b)}catch{B=null}if(Array.isArray(B)&&B.length==3){var J=B;if(J[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<_.F)Jl(x),Yl(x);else break e;Wc(x),Pt(18)}}else x.za=J[1],0<x.za-x.T&&37500>J[2]&&x.F&&x.v==0&&!x.C&&(x.C=Wt(v(x.Za,x),6e3));if(1>=ql(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else vo(x,11)}else if((_.K||x.g==_)&&Jl(x),!N(b))for(J=x.Da.g.parse(b),b=0;b<J.length;b++){let Qe=J[b];if(x.T=Qe[0],Qe=Qe[1],x.G==2)if(Qe[0]=="c"){x.K=Qe[1],x.ia=Qe[2];const yn=Qe[3];yn!=null&&(x.la=yn,x.j.info("VER="+x.la));const an=Qe[4];an!=null&&(x.Aa=an,x.j.info("SVER="+x.Aa));const _o=Qe[5];_o!=null&&typeof _o=="number"&&0<_o&&(B=1.5*_o,x.L=B,x.j.info("backChannelRequestTimeoutMs_="+B)),B=x;const Rn=_.g;if(Rn){const Vi=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vi){var ie=B.h;ie.g||Vi.indexOf("spdy")==-1&&Vi.indexOf("quic")==-1&&Vi.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Fl(ie,ie.h),ie.h=null))}if(B.D){const Xc=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xc&&(B.ya=Xc,pt(B.I,B.D,Xc))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-_.F,x.j.info("Handshake RTT: "+x.R+"ms")),B=x;var ye=_;if(B.qa=Oh(B,B.J?B.ia:null,B.W),ye.K){Qn(B.h,ye);var Xe=ye,sn=B.L;sn&&(Xe.I=sn),Xe.B&&(fs(Xe),Ea(Xe)),B.g=ye}else Ph(B);0<x.i.length&&Wl(x)}else Qe[0]!="stop"&&Qe[0]!="close"||vo(x,7);else x.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?vo(x,7):jc(x):Qe[0]!="noop"&&x.l&&x.l.ta(Qe),x.v=0)}}ls(4)}catch{}}var wh=class{constructor(_,b){this.g=_,this.map=b}};function fo(_){this.l=_||10,u.PerformanceNavigationTiming?(_=u.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bl(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function ql(_){return _.h?1:_.g?_.g.size:0}function Bc(_,b){return _.h?_.h==b:_.g?_.g.has(b):!1}function Fl(_,b){_.g?_.g.add(b):_.h=b}function Qn(_,b){_.h&&_.h==b?_.h=null:_.g&&_.g.has(b)&&_.g.delete(b)}fo.prototype.cancel=function(){if(this.i=qc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function qc(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let b=_.i;for(const x of _.g.values())b=b.concat(x.D);return b}return A(_.i)}function qy(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(f(_)){for(var b=[],x=_.length,B=0;B<x;B++)b.push(_[B]);return b}b=[],x=0;for(B in _)b[x++]=_[B];return b}function $l(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(f(_)||typeof _=="string"){var b=[];_=_.length;for(var x=0;x<_;x++)b.push(x);return b}b=[],x=0;for(const B in _)b[x++]=B;return b}}}function Fc(_,b){if(_.forEach&&typeof _.forEach=="function")_.forEach(b,void 0);else if(f(_)||typeof _=="string")Array.prototype.forEach.call(_,b,void 0);else for(var x=$l(_),B=qy(_),J=B.length,ie=0;ie<J;ie++)b.call(void 0,B[ie],x&&x[ie],_)}var wa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fy(_,b){if(_){_=_.split("&");for(var x=0;x<_.length;x++){var B=_[x].indexOf("="),J=null;if(0<=B){var ie=_[x].substring(0,B);J=_[x].substring(B+1)}else ie=_[x];b(ie,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Jt(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof Jt){this.h=_.h,Aa(this,_.j),this.o=_.o,this.g=_.g,ds(this,_.s),this.l=_.l;var b=_.i,x=new po;x.i=b.i,b.g&&(x.g=new Map(b.g),x.h=b.h),ho(this,x),this.m=_.m}else _&&(b=String(_).match(wa))?(this.h=!1,Aa(this,b[1]||"",!0),this.o=Vr(b[2]||""),this.g=Vr(b[3]||"",!0),ds(this,b[4]),this.l=Vr(b[5]||"",!0),ho(this,b[6]||"",!0),this.m=Vr(b[7]||"")):(this.h=!1,this.i=new po(null,this.h))}Jt.prototype.toString=function(){var _=[],b=this.j;b&&_.push(Ca(b,$c,!0),":");var x=this.g;return(x||b=="file")&&(_.push("//"),(b=this.o)&&_.push(Ca(b,$c,!0),"@"),_.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&_.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&_.push("/"),_.push(Ca(x,x.charAt(0)=="/"?$y:Hc,!0))),(x=this.i.toString())&&_.push("?",x),(x=this.m)&&_.push("#",Ca(x,Hl)),_.join("")};function mr(_){return new Jt(_)}function Aa(_,b,x){_.j=x?Vr(b,!0):b,_.j&&(_.j=_.j.replace(/:$/,""))}function ds(_,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);_.s=b}else _.s=null}function ho(_,b,x){b instanceof po?(_.i=b,bh(_.i,_.h)):(x||(b=Ca(b,Hy)),_.i=new po(b,_.h))}function pt(_,b,x){_.i.set(b,x)}function ba(_){return pt(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function Vr(_,b){return _?b?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function Ca(_,b,x){return typeof _=="string"?(_=encodeURI(_).replace(b,Ah),x&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function Ah(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var $c=/[#\/\?@]/g,Hc=/[#\?:]/g,$y=/[#\?]/g,Hy=/[#\?@]/g,Hl=/#/g;function po(_,b){this.h=this.g=null,this.i=_||null,this.j=!!b}function Br(_){_.g||(_.g=new Map,_.h=0,_.i&&Fy(_.i,function(b,x){_.add(decodeURIComponent(b.replace(/\+/g," ")),x)}))}t=po.prototype,t.add=function(_,b){Br(this),this.i=null,_=Ni(this,_);var x=this.g.get(_);return x||this.g.set(_,x=[]),x.push(b),this.h+=1,this};function mo(_,b){Br(_),b=Ni(_,b),_.g.has(b)&&(_.i=null,_.h-=_.g.get(b).length,_.g.delete(b))}function go(_,b){return Br(_),b=Ni(_,b),_.g.has(b)}t.forEach=function(_,b){Br(this),this.g.forEach(function(x,B){x.forEach(function(J){_.call(b,J,B,this)},this)},this)},t.na=function(){Br(this);const _=Array.from(this.g.values()),b=Array.from(this.g.keys()),x=[];for(let B=0;B<b.length;B++){const J=_[B];for(let ie=0;ie<J.length;ie++)x.push(b[B])}return x},t.V=function(_){Br(this);let b=[];if(typeof _=="string")go(this,_)&&(b=b.concat(this.g.get(Ni(this,_))));else{_=Array.from(this.g.values());for(let x=0;x<_.length;x++)b=b.concat(_[x])}return b},t.set=function(_,b){return Br(this),this.i=null,_=Ni(this,_),go(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[b]),this.h+=1,this},t.get=function(_,b){return _?(_=this.V(_),0<_.length?String(_[0]):b):b};function zc(_,b,x){mo(_,b),0<x.length&&(_.i=null,_.g.set(Ni(_,b),A(x)),_.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],b=Array.from(this.g.keys());for(var x=0;x<b.length;x++){var B=b[x];const ie=encodeURIComponent(String(B)),ye=this.V(B);for(B=0;B<ye.length;B++){var J=ie;ye[B]!==""&&(J+="="+encodeURIComponent(String(ye[B]))),_.push(J)}}return this.i=_.join("&")};function Ni(_,b){return b=String(b),_.j&&(b=b.toLowerCase()),b}function bh(_,b){b&&!_.j&&(Br(_),_.i=null,_.g.forEach(function(x,B){var J=B.toLowerCase();B!=J&&(mo(this,B),zc(this,J,x))},_)),_.j=b}function xa(_,b){const x=new Ur;if(u.Image){const B=new Image;B.onload=E(qr,x,"TestLoadImage: loaded",!0,b,B),B.onerror=E(qr,x,"TestLoadImage: error",!1,b,B),B.onabort=E(qr,x,"TestLoadImage: abort",!1,b,B),B.ontimeout=E(qr,x,"TestLoadImage: timeout",!1,b,B),u.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=_}else b(!1)}function ci(_,b){const x=new Ur,B=new AbortController,J=setTimeout(()=>{B.abort(),qr(x,"TestPingServer: timeout",!1,b)},1e4);fetch(_,{signal:B.signal}).then(ie=>{clearTimeout(J),ie.ok?qr(x,"TestPingServer: ok",!0,b):qr(x,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(J),qr(x,"TestPingServer: error",!1,b)})}function qr(_,b,x,B,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),B(x)}catch{}}function Ra(){this.g=new _a}function Di(_,b,x){const B=x||"";try{Fc(_,function(J,ie){let ye=J;c(J)&&(ye=li(J)),b.push(B+ie+"="+encodeURIComponent(ye))})}catch(J){throw b.push(B+"type="+encodeURIComponent("_badmap")),J}}function hs(_){this.l=_.Ub||null,this.j=_.eb||!1}w(hs,Nc),hs.prototype.g=function(){return new yo(this.l,this.j)},hs.prototype.i=(function(_){return function(){return _}})({});function yo(_,b){Vt.call(this),this.D=_,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(yo,Vt),t=yo.prototype,t.open=function(_,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=b,this.readyState=1,ki(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(b.body=_),(this.D||u).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Oi(this)),this.readyState=0},t.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,ki(this)),this.g&&(this.readyState=3,ki(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gc(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gc(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}t.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var b=_.value?_.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!_.done}))&&(this.response=this.responseText+=b)}_.done?Oi(this):ki(this),this.readyState==3&&Gc(this)}},t.Ra=function(_){this.g&&(this.response=this.responseText=_,Oi(this))},t.Qa=function(_){this.g&&(this.response=_,Oi(this))},t.ga=function(){this.g&&Oi(this)};function Oi(_){_.readyState=4,_.l=null,_.j=null,_.v=null,ki(_)}t.setRequestHeader=function(_,b){this.u.append(_,b)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],b=this.h.entries();for(var x=b.next();!x.done;)x=x.value,_.push(x[0]+": "+x[1]),x=b.next();return _.join(`\r
`)};function ki(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(yo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function Kc(_){let b="";return G(_,function(x,B){b+=B,b+=":",b+=x,b+=`\r
`}),b}function gn(_,b,x){e:{for(B in x){var B=!1;break e}B=!0}B||(x=Kc(x),typeof _=="string"?x!=null&&encodeURIComponent(String(x)):pt(_,b,x))}function st(_){Vt.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(st,Vt);var zl=/^https?$/i,Ia=["POST","PUT"];t=st.prototype,t.Ha=function(_){this.J=_},t.ea=function(_,b,x,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);b=b?b.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ii.g(),this.v=this.o?Dc(this.o):Dc(Ii),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(b,String(_),!0),this.B=!1}catch(ie){Ch(this,ie);return}if(_=x||"",x=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var J in B)x.set(J,B[J]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const ie of B.keys())x.set(ie,B.get(ie));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(x.keys()).find(ie=>ie.toLowerCase()=="content-type"),J=u.FormData&&_ instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Ia,b,void 0))||B||J||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ye]of x)this.g.setRequestHeader(ie,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pa(this),this.u=!0,this.g.send(_),this.u=!1}catch(ie){Ch(this,ie)}};function Ch(_,b){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=b,_.m=5,Gl(_),Li(_)}function Gl(_){_.A||(_.A=!0,lt(_,"complete"),lt(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,lt(this,"complete"),lt(this,"abort"),Li(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),st.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Kl(this):this.bb())},t.bb=function(){Kl(this)};function Kl(_){if(_.h&&typeof a<"u"&&(!_.v[1]||Fr(_)!=4||_.Z()!=2)){if(_.u&&Fr(_)==4)Vn(_.Ea,0,_);else if(lt(_,"readystatechange"),Fr(_)==4){_.h=!1;try{const ye=_.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var x;if(!(x=b)){var B;if(B=ye===0){var J=String(_.D).match(wa)[1]||null;!J&&u.self&&u.self.location&&(J=u.self.location.protocol.slice(0,-1)),B=!zl.test(J?J.toLowerCase():"")}x=B}if(x)lt(_,"complete"),lt(_,"success");else{_.m=6;try{var ie=2<Fr(_)?_.g.statusText:""}catch{ie=""}_.l=ie+" ["+_.Z()+"]",Gl(_)}}finally{Li(_)}}}}function Li(_,b){if(_.g){Pa(_);const x=_.g,B=_.v[0]?()=>{}:null;_.g=null,_.v=null,b||lt(_,"ready");try{x.onreadystatechange=B}catch{}}}function Pa(_){_.I&&(u.clearTimeout(_.I),_.I=null)}t.isActive=function(){return!!this.g};function Fr(_){return _.g?_.g.readyState:0}t.Z=function(){try{return 2<Fr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(_){if(this.g){var b=this.g.responseText;return _&&b.indexOf(_)==0&&(b=b.substring(_.length)),Ll(b)}};function xh(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function zy(_){const b={};_=(_.g&&2<=Fr(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<_.length;B++){if(N(_[B]))continue;var x=F(_[B]);const J=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const ie=b[J]||[];b[J]=ie,ie.push(x)}O(b,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ma(_,b,x){return x&&x.internalChannelParams&&x.internalChannelParams[_]||b}function jl(_){this.Aa=0,this.i=[],this.j=new Ur,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ma("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ma("baseRetryDelayMs",5e3,_),this.cb=Ma("retryDelaySeedMs",1e4,_),this.Wa=Ma("forwardChannelMaxRetries",2,_),this.wa=Ma("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new fo(_&&_.concurrentRequestLimit),this.Da=new Ra,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=jl.prototype,t.la=8,t.G=1,t.connect=function(_,b,x,B){Pt(0),this.W=_,this.H=b||{},x&&B!==void 0&&(this.H.OSID=x,this.H.OAID=B),this.F=this.X,this.I=Oh(this,null,this.W),Wl(this)};function jc(_){if(Rh(_),_.G==3){var b=_.U++,x=mr(_.I);if(pt(x,"SID",_.K),pt(x,"RID",b),pt(x,"TYPE","terminate"),Na(_,x),b=new Xn(_,_.j,b),b.L=2,b.v=ba(mr(x)),x=!1,u.navigator&&u.navigator.sendBeacon)try{x=u.navigator.sendBeacon(b.v.toString(),"")}catch{}!x&&u.Image&&(new Image().src=b.v,x=!0),x||(b.g=kh(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Ea(b)}Dh(_)}function Yl(_){_.g&&(Da(_),_.g.cancel(),_.g=null)}function Rh(_){Yl(_),_.u&&(u.clearTimeout(_.u),_.u=null),Jl(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&u.clearTimeout(_.s),_.s=null)}function Wl(_){if(!Bl(_.h)&&!_.s){_.s=!0;var b=_.Ga;pe||j(),_e||(pe(),_e=!0),Le.add(b,_),_.B=0}}function Gy(_,b){return ql(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=b.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=Wt(v(_.Ga,_,b),Jc(_,_.B)),_.B++,!0)}t.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const J=new Xn(this,this.j,_);let ie=this.o;if(this.S&&(ie?(ie=k(ie),$(ie,this.S)):ie=this.S),this.m!==null||this.O||(J.H=ie,ie=null),this.P)e:{for(var b=0,x=0;x<this.i.length;x++){t:{var B=this.i[x];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(b+=B,4096<b){b=x;break e}if(b===4096||x===this.i.length-1){b=x+1;break e}}b=1e3}else b=1e3;b=Ih(this,J,b),x=mr(this.I),pt(x,"RID",_),pt(x,"CVER",22),this.D&&pt(x,"X-HTTP-Session-Id",this.D),Na(this,x),ie&&(this.O?b="headers="+encodeURIComponent(String(Kc(ie)))+"&"+b:this.m&&gn(x,this.m,ie)),Fl(this.h,J),this.Ua&&pt(x,"TYPE","init"),this.P?(pt(x,"$req",b),pt(x,"SID","null"),J.T=!0,ui(J,x,null)):ui(J,x,b),this.G=2}}else this.G==3&&(_?Yc(this,_):this.i.length==0||Bl(this.h)||Yc(this))};function Yc(_,b){var x;b?x=b.l:x=_.U++;const B=mr(_.I);pt(B,"SID",_.K),pt(B,"RID",x),pt(B,"AID",_.T),Na(_,B),_.m&&_.o&&gn(B,_.m,_.o),x=new Xn(_,_.j,x,_.B+1),_.m===null&&(x.H=_.o),b&&(_.i=b.D.concat(_.i)),b=Ih(_,x,1e3),x.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),Fl(_.h,x),ui(x,B,b)}function Na(_,b){_.H&&G(_.H,function(x,B){pt(b,B,x)}),_.l&&Fc({},function(x,B){pt(b,B,x)})}function Ih(_,b,x){x=Math.min(_.i.length,x);var B=_.l?v(_.l.Na,_.l,_):null;e:{var J=_.i;let ie=-1;for(;;){const ye=["count="+x];ie==-1?0<x?(ie=J[0].g,ye.push("ofs="+ie)):ie=0:ye.push("ofs="+ie);let Xe=!0;for(let sn=0;sn<x;sn++){let Qe=J[sn].g;const yn=J[sn].map;if(Qe-=ie,0>Qe)ie=Math.max(0,J[sn].g-100),Xe=!1;else try{Di(yn,ye,"req"+Qe+"_")}catch{B&&B(yn)}}if(Xe){B=ye.join("&");break e}}}return _=_.i.splice(0,x),b.D=_,B}function Ph(_){if(!_.g&&!_.u){_.Y=1;var b=_.Fa;pe||j(),_e||(pe(),_e=!0),Le.add(b,_),_.v=0}}function Wc(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=Wt(v(_.Fa,_),Jc(_,_.v)),_.v++,!0)}t.Fa=function(){if(this.u=null,Mh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=Wt(v(this.ab,this),_)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),Yl(this),Mh(this))};function Da(_){_.A!=null&&(u.clearTimeout(_.A),_.A=null)}function Mh(_){_.g=new Xn(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var b=mr(_.qa);pt(b,"RID","rpc"),pt(b,"SID",_.K),pt(b,"AID",_.T),pt(b,"CI",_.F?"0":"1"),!_.F&&_.ja&&pt(b,"TO",_.ja),pt(b,"TYPE","xmlhttp"),Na(_,b),_.m&&_.o&&gn(b,_.m,_.o),_.L&&(_.g.I=_.L);var x=_.g;_=_.ia,x.L=1,x.v=ba(mr(b)),x.m=null,x.P=!0,co(x,_)}t.Za=function(){this.C!=null&&(this.C=null,Yl(this),Wc(this),Pt(19))};function Jl(_){_.C!=null&&(u.clearTimeout(_.C),_.C=null)}function Nh(_,b){var x=null;if(_.g==b){Jl(_),Da(_),_.g=null;var B=2}else if(Bc(_.h,b))x=b.D,Qn(_.h,b),B=1;else return;if(_.G!=0){if(b.o)if(B==1){x=b.m?b.m.length:0,b=Date.now()-b.F;var J=_.B;B=as(),lt(B,new on(B,x)),Wl(_)}else Ph(_);else if(J=b.s,J==3||J==0&&0<b.X||!(B==1&&Gy(_,b)||B==2&&Wc(_)))switch(x&&0<x.length&&(b=_.h,b.i=b.i.concat(x)),J){case 1:vo(_,5);break;case 4:vo(_,10);break;case 3:vo(_,6);break;default:vo(_,2)}}}function Jc(_,b){let x=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(x*=2),x*b}function vo(_,b){if(_.j.info("Error code "+b),b==2){var x=v(_.fb,_),B=_.Xa;const J=!B;B=new Jt(B||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Aa(B,"https"),ba(B),J?xa(B.toString(),x):ci(B.toString(),x)}else Pt(2);_.G=0,_.l&&_.l.sa(b),Dh(_),Rh(_)}t.fb=function(_){_?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function Dh(_){if(_.G=0,_.ka=[],_.l){const b=qc(_.h);(b.length!=0||_.i.length!=0)&&(C(_.ka,b),C(_.ka,_.i),_.h.i.length=0,A(_.i),_.i.length=0),_.l.ra()}}function Oh(_,b,x){var B=x instanceof Jt?mr(x):new Jt(x);if(B.g!="")b&&(B.g=b+"."+B.g),ds(B,B.s);else{var J=u.location;B=J.protocol,b=b?b+"."+J.hostname:J.hostname,J=+J.port;var ie=new Jt(null);B&&Aa(ie,B),b&&(ie.g=b),J&&ds(ie,J),x&&(ie.l=x),B=ie}return x=_.D,b=_.ya,x&&b&&pt(B,x,b),pt(B,"VER",_.la),Na(_,B),B}function kh(_,b,x){if(b&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=_.Ca&&!_.pa?new st(new hs({eb:x})):new st(_.pa),b.Ha(_.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lh(){}t=Lh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Xl(){}Xl.prototype.g=function(_,b){return new Zn(_,b)};function Zn(_,b){Vt.call(this),this.g=new jl(b),this.l=_,this.h=b&&b.messageUrlParams||null,_=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(_?_["X-WebChannel-Content-Type"]=b.messageContentType:_={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(_?_["X-WebChannel-Client-Profile"]=b.va:_={"X-WebChannel-Client-Profile":b.va}),this.g.S=_,(_=b&&b.Sb)&&!N(_)&&(this.g.m=_),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!N(b)&&(this.g.D=b,_=this.h,_!==null&&b in _&&(_=this.h,b in _&&delete _[b])),this.j=new Ui(this)}w(Zn,Vt),Zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zn.prototype.close=function(){jc(this.g)},Zn.prototype.o=function(_){var b=this.g;if(typeof _=="string"){var x={};x.__data__=_,_=x}else this.u&&(x={},x.__data__=li(_),_=x);b.i.push(new wh(b.Ya++,_)),b.G==3&&Wl(b)},Zn.prototype.N=function(){this.g.l=null,delete this.j,jc(this.g),delete this.g,Zn.aa.N.call(this)};function Uh(_){lo.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var b=_.__sm__;if(b){e:{for(const x in b){_=x;break e}_=void 0}(this.i=_)&&(_=this.i,b=b!==null&&_ in b?b[_]:void 0),this.data=b}else this.data=_}w(Uh,lo);function Vh(){kc.call(this),this.status=1}w(Vh,kc);function Ui(_){this.g=_}w(Ui,Lh),Ui.prototype.ua=function(){lt(this.g,"a")},Ui.prototype.ta=function(_){lt(this.g,new Uh(_))},Ui.prototype.sa=function(_){lt(this.g,new Vh)},Ui.prototype.ra=function(){lt(this.g,"b")},Xl.prototype.createWebChannel=Xl.prototype.g,Zn.prototype.send=Zn.prototype.o,Zn.prototype.open=Zn.prototype.m,Zn.prototype.close=Zn.prototype.close,i2=function(){return new Xl},r2=function(){return as()},n2=Ri,rE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cs.NO_ERROR=0,cs.TIMEOUT=8,cs.HTTP_ERROR=6,ym=cs,uo.COMPLETE="complete",t2=uo,Oc.EventType=ao,ao.OPEN="a",ao.CLOSE="b",ao.ERROR="c",ao.MESSAGE="d",Vt.prototype.listen=Vt.prototype.K,Zf=Oc,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,e2=st}).apply(typeof Fp<"u"?Fp:typeof self<"u"?self:typeof window<"u"?window:{});const AR="@firebase/firestore",bR="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=new LS("@firebase/firestore");function Ru(){return gl.logLevel}function Te(t,...e){if(gl.logLevel<=Ye.DEBUG){const n=e.map(jS);gl.debug(`Firestore (${pc}): ${t}`,...n)}}function Ko(t,...e){if(gl.logLevel<=Ye.ERROR){const n=e.map(jS);gl.error(`Firestore (${pc}): ${t}`,...n)}}function ju(t,...e){if(gl.logLevel<=Ye.WARN){const n=e.map(jS);gl.warn(`Firestore (${pc}): ${t}`,...n)}}function jS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,o2(t,r,n)}function o2(t,e,n){let r=`FIRESTORE (${pc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ko(r),new Error(r)}function at(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||o2(e,i,r)}function $e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends io{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Hn.UNAUTHENTICATED)))}shutdown(){}}class oz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class sz{constructor(e){this.t=e,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new qo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new qo,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new qo)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string",31837,{l:r}),new s2(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new Hn(e)}}class az{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lz{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new az(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class CR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uz{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){at(this.o===void 0,3512);const r=o=>{o.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,Te("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new CR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(at(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new CR(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=cz(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function iE(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return Q0(i)===Q0(o)?We(i,o):Q0(i)?1:-1}return We(t.length,e.length)}const fz=55296,dz=57343;function Q0(t){const e=t.charCodeAt(0);return e>=fz&&e<=dz}function Yu(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="__name__";class zi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ve(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=zi.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return We(e.length,n.length)}static compareSegments(e,n){const r=zi.isNumericId(e),i=zi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?zi.extractNumericId(e).compare(zi.extractNumericId(n)):iE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Js.fromString(e.substring(4,e.length-2))}}class wt extends zi{construct(e,n,r){return new wt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new wt(n)}static emptyPath(){return new wt([])}}const hz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends zi{construct(e,n,r){return new kn(e,n,r)}static isValidIdentifier(e){return hz.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xR}static keyField(){return new kn([xR])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ve(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ve(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ve(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(r+=u,i++):(o(),i++)}if(o(),a)throw new ve(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kn(n)}static emptyPath(){return new kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(wt.fromString(e))}static fromName(e){return new Re(wt.fromString(e).popFirst(5))}static empty(){return new Re(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t,e,n){if(!n)throw new ve(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pz(t,e,n,r){if(e===!0&&r===!0)throw new ve(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function RR(t){if(!Re.isDocumentKey(t))throw new ve(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function IR(t){if(Re.isDocumentKey(t))throw new ve(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function l2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Fg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve(12329,{type:typeof t})}function Nr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fg(t);throw new ve(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Gd(t,e){if(!l2(t))throw new ve(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ve(le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=-62135596800,MR=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*MR);return new Rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<PR)throw new ve(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/MR}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gd(e,Rt._jsonSchema))return new Rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-PR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:tn("string",Rt._jsonSchemaVersion),seconds:tn("number"),nanoseconds:tn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new Rt(0,0))}static max(){return new qe(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=-1;function mz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=qe.fromTimestamp(r===1e9?new Rt(n+1,0):new Rt(n,r));return new ta(i,Re.empty(),e)}function gz(t){return new ta(t.readTime,t.key,_d)}class ta{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ta(qe.min(),Re.empty(),_d)}static max(){return new ta(qe.max(),Re.empty(),_d)}}function yz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _z{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==vz)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):de.reject(n)}static resolve(e){return new de(((n,r)=>{n(e)}))}static reject(e){return new de(((n,r)=>{r(e)}))}static waitFor(e){return new de(((n,r)=>{let i=0,o=0,a=!1;e.forEach((u=>{++i,u.next((()=>{++o,a&&o===i&&n()}),(f=>r(f)))})),a=!0,o===i&&n()}))}static or(e){let n=de.resolve(!1);for(const r of e)n=n.next((i=>i?de.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new de(((r,i)=>{const o=e.length,a=new Array(o);let u=0;for(let f=0;f<o;f++){const c=f;n(e[c]).next((h=>{a[c]=h,++u,u===o&&r(a)}),(h=>i(h)))}}))}static doWhile(e,n){return new de(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function Tz(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$g.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=-1;function Hg(t){return t==null}function Um(t){return t===0&&1/t==-1/0}function Ez(t){return typeof t=="number"&&Number.isInteger(t)&&!Um(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="";function Sz(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=NR(e)),e=wz(t.get(n),e);return NR(e)}function wz(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case u2:n+="";break;default:n+=o}}return n}function NR(t){return t+u2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ua(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function c2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){this.comparator=e,this.root=n||Dn.EMPTY}insert(e,n){return new Ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $p(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $p(this.root,e,this.comparator,!1)}getReverseIterator(){return new $p(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $p(this.root,e,this.comparator,!0)}}class $p{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Dn.RED,this.left=i??Dn.EMPTY,this.right=o??Dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Dn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Dn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new OR(this.data.getIterator())}getIteratorFrom(e){return new OR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new fn(this.comparator);return n.data=e,n}}class OR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new Ir([])}unionWith(e){let n=new fn(kn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ir(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new f2("Invalid base64 string: "+o):o}})(e);return new Un(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o})(e);return new Un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Un.EMPTY_BYTE_STRING=new Un("");const Az=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function na(t){if(at(!!t,39018),typeof t=="string"){let e=0;const n=Az.exec(t);if(at(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jt(t.seconds),nanos:jt(t.nanos)}}function jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ra(t){return typeof t=="string"?Un.fromBase64String(t):Un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="server_timestamp",h2="__type__",p2="__previous_value__",m2="__local_write_time__";function JS(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[h2])==null?void 0:r.stringValue)===d2}function zg(t){const e=t.mapValue.fields[p2];return JS(e)?zg(e):e}function Td(t){const e=na(t.mapValue.fields[m2].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e,n,r,i,o,a,u,f,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=c,this.isUsingEmulator=h}}const Vm="(default)";class Ed{constructor(e,n){this.projectId=e,this.database=n||Vm}static empty(){return new Ed("","")}get isDefaultDatabase(){return this.database===Vm}isEqual(e){return e instanceof Ed&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="__type__",Cz="__max__",Hp={mapValue:{}},y2="__vector__",Bm="value";function ia(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?JS(t)?4:Rz(t)?9007199254740991:xz(t)?10:11:Ve(28295,{value:t})}function eo(t,e){if(t===e)return!0;const n=ia(t);if(n!==ia(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Td(t).isEqual(Td(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=na(i.timestampValue),u=na(o.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return ra(i.bytesValue).isEqual(ra(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return jt(i.geoPointValue.latitude)===jt(o.geoPointValue.latitude)&&jt(i.geoPointValue.longitude)===jt(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return jt(i.integerValue)===jt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=jt(i.doubleValue),u=jt(o.doubleValue);return a===u?Um(a)===Um(u):isNaN(a)&&isNaN(u)}return!1})(t,e);case 9:return Yu(t.arrayValue.values||[],e.arrayValue.values||[],eo);case 10:case 11:return(function(i,o){const a=i.mapValue.fields||{},u=o.mapValue.fields||{};if(DR(a)!==DR(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(u[f]===void 0||!eo(a[f],u[f])))return!1;return!0})(t,e);default:return Ve(52216,{left:t})}}function Sd(t,e){return(t.values||[]).find((n=>eo(n,e)))!==void 0}function Wu(t,e){if(t===e)return 0;const n=ia(t),r=ia(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return(function(o,a){const u=jt(o.integerValue||o.doubleValue),f=jt(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return kR(t.timestampValue,e.timestampValue);case 4:return kR(Td(t),Td(e));case 5:return iE(t.stringValue,e.stringValue);case 6:return(function(o,a){const u=ra(o),f=ra(a);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(o,a){const u=o.split("/"),f=a.split("/");for(let c=0;c<u.length&&c<f.length;c++){const h=We(u[c],f[c]);if(h!==0)return h}return We(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,a){const u=We(jt(o.latitude),jt(a.latitude));return u!==0?u:We(jt(o.longitude),jt(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return LR(t.arrayValue,e.arrayValue);case 10:return(function(o,a){var v,E,w,A;const u=o.fields||{},f=a.fields||{},c=(v=u[Bm])==null?void 0:v.arrayValue,h=(E=f[Bm])==null?void 0:E.arrayValue,y=We(((w=c==null?void 0:c.values)==null?void 0:w.length)||0,((A=h==null?void 0:h.values)==null?void 0:A.length)||0);return y!==0?y:LR(c,h)})(t.mapValue,e.mapValue);case 11:return(function(o,a){if(o===Hp.mapValue&&a===Hp.mapValue)return 0;if(o===Hp.mapValue)return 1;if(a===Hp.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),c=a.fields||{},h=Object.keys(c);f.sort(),h.sort();for(let y=0;y<f.length&&y<h.length;++y){const v=iE(f[y],h[y]);if(v!==0)return v;const E=Wu(u[f[y]],c[h[y]]);if(E!==0)return E}return We(f.length,h.length)})(t.mapValue,e.mapValue);default:throw Ve(23264,{he:n})}}function kR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=na(t),r=na(e),i=We(n.seconds,r.seconds);return i!==0?i:We(n.nanos,r.nanos)}function LR(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Wu(n[i],r[i]);if(o)return o}return We(n.length,r.length)}function Ju(t){return oE(t)}function oE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=na(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ra(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Re.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=oE(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${oE(n.fields[a])}`;return i+"}"})(t.mapValue):Ve(61005,{value:t})}function vm(t){switch(ia(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zg(t);return e?16+vm(e):16;case 5:return 2*t.stringValue.length;case 6:return ra(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+vm(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return ua(r.fields,((o,a)=>{i+=o.length+vm(a)})),i})(t.mapValue);default:throw Ve(13486,{value:t})}}function UR(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sE(t){return!!t&&"integerValue"in t}function XS(t){return!!t&&"arrayValue"in t}function VR(t){return!!t&&"nullValue"in t}function BR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _m(t){return!!t&&"mapValue"in t}function xz(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[g2])==null?void 0:r.stringValue)===y2}function ad(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ua(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ad(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ad(t.arrayValue.values[n]);return e}return{...t}}function Rz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Cz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.value=e}static empty(){return new cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_m(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ad(n)}setAll(e){let n=kn.emptyPath(),r={},i=[];e.forEach(((a,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=u.popLast()}a?r[u.lastSegment()]=ad(a):i.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());_m(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return eo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_m(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ua(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new cr(ad(this.value))}}function v2(t){const e=[];return ua(t.fields,((n,r)=>{const i=new kn([n]);if(_m(r)){const o=v2(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)})),new Ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,n,r,i,o,a,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=u}static newInvalidDocument(e){return new zn(e,0,qe.min(),qe.min(),qe.min(),cr.empty(),0)}static newFoundDocument(e,n,r,i){return new zn(e,1,n,qe.min(),r,i,0)}static newNoDocument(e,n){return new zn(e,2,n,qe.min(),qe.min(),cr.empty(),0)}static newUnknownDocument(e,n){return new zn(e,3,n,qe.min(),qe.min(),cr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this.position=e,this.inclusive=n}}function qR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=Re.comparator(Re.fromName(a.referenceValue),n.key):r=Wu(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function FR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!eo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n="asc"){this.field=e,this.dir=n}}function Iz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{}class en extends _2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Mz(e,n,r):n==="array-contains"?new Oz(e,r):n==="in"?new kz(e,r):n==="not-in"?new Lz(e,r):n==="array-contains-any"?new Uz(e,r):new en(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Nz(e,r):new Dz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wu(n,this.value)):n!==null&&ia(this.value)===ia(n)&&this.matchesComparison(Wu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends _2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new _i(e,n)}matches(e){return T2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function T2(t){return t.op==="and"}function E2(t){return Pz(t)&&T2(t)}function Pz(t){for(const e of t.filters)if(e instanceof _i)return!1;return!0}function aE(t){if(t instanceof en)return t.field.canonicalString()+t.op.toString()+Ju(t.value);if(E2(t))return t.filters.map((e=>aE(e))).join(",");{const e=t.filters.map((n=>aE(n))).join(",");return`${t.op}(${e})`}}function S2(t,e){return t instanceof en?(function(r,i){return i instanceof en&&r.op===i.op&&r.field.isEqual(i.field)&&eo(r.value,i.value)})(t,e):t instanceof _i?(function(r,i){return i instanceof _i&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,a,u)=>o&&S2(a,i.filters[u])),!0):!1})(t,e):void Ve(19439)}function w2(t){return t instanceof en?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ju(n.value)}`})(t):t instanceof _i?(function(n){return n.op.toString()+" {"+n.getFilters().map(w2).join(" ,")+"}"})(t):"Filter"}class Mz extends en{constructor(e,n,r){super(e,n,r),this.key=Re.fromName(r.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class Nz extends en{constructor(e,n){super(e,"in",n),this.keys=A2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Dz extends en{constructor(e,n){super(e,"not-in",n),this.keys=A2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function A2(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Re.fromName(r.referenceValue)))}class Oz extends en{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return XS(n)&&Sd(n.arrayValue,this.value)}}class kz extends en{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sd(this.value.arrayValue,n)}}class Lz extends en{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Sd(this.value.arrayValue,n)}}class Uz extends en{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!XS(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Sd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e,n=null,r=[],i=[],o=null,a=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=u,this.Te=null}}function $R(t,e=null,n=[],r=[],i=null,o=null,a=null){return new Vz(t,e,n,r,i,o,a)}function QS(t){const e=$e(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>aE(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Hg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ju(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ju(r))).join(",")),e.Te=n}return e.Te}function ZS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Iz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!S2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!FR(t.startAt,e.startAt)&&FR(t.endAt,e.endAt)}function lE(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n=null,r=[],i=[],o=null,a="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Bz(t,e,n,r,i,o,a,u){return new yc(t,e,n,r,i,o,a,u)}function Gg(t){return new yc(t)}function HR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function b2(t){return t.collectionGroup!==null}function ld(t){const e=$e(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new fn(kn.comparator);return a.filters.forEach((f=>{f.getFlattenedFilters().forEach((c=>{c.isInequality()&&(u=u.add(c.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new wd(o,r))})),n.has(kn.keyField().canonicalString())||e.Ie.push(new wd(kn.keyField(),r))}return e.Ie}function Wi(t){const e=$e(t);return e.Ee||(e.Ee=qz(e,ld(t))),e.Ee}function qz(t,e){if(t.limitType==="F")return $R(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new wd(i.field,o)}));const n=t.endAt?new qm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qm(t.startAt.position,t.startAt.inclusive):null;return $R(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function uE(t,e){const n=t.filters.concat([e]);return new yc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function cE(t,e,n){return new yc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kg(t,e){return ZS(Wi(t),Wi(e))&&t.limitType===e.limitType}function C2(t){return`${QS(Wi(t))}|lt:${t.limitType}`}function Iu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>w2(i))).join(", ")}]`),Hg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Ju(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Ju(i))).join(",")),`Target(${r})`})(Wi(t))}; limitType=${t.limitType})`}function jg(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of ld(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,u,f){const c=qR(a,u,f);return a.inclusive?c<=0:c<0})(r.startAt,ld(r),i)||r.endAt&&!(function(a,u,f){const c=qR(a,u,f);return a.inclusive?c>=0:c>0})(r.endAt,ld(r),i))})(t,e)}function Fz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function x2(t){return(e,n)=>{let r=!1;for(const i of ld(t)){const o=$z(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function $z(t,e,n){const r=t.field.isKeyField()?Re.comparator(e.key,n.key):(function(o,a,u){const f=a.data.field(o),c=u.data.field(o);return f!==null&&c!==null?Wu(f,c):Ve(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ve(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ua(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return c2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz=new Ut(Re.comparator);function jo(){return Hz}const R2=new Ut(Re.comparator);function ed(...t){let e=R2;for(const n of t)e=e.insert(n.key,n);return e}function I2(t){let e=R2;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function el(){return ud()}function P2(){return ud()}function ud(){return new xl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const zz=new Ut(Re.comparator),Gz=new fn(Re.comparator);function Je(...t){let e=Gz;for(const n of t)e=e.add(n);return e}const Kz=new fn(We);function jz(){return Kz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Um(e)?"-0":e}}function M2(t){return{integerValue:""+t}}function N2(t,e){return Ez(e)?M2(e):ew(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(){this._=void 0}}function Yz(t,e,n){return t instanceof Ad?(function(i,o){const a={fields:{[h2]:{stringValue:d2},[m2]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&JS(o)&&(o=zg(o)),o&&(a.fields[p2]=o),{mapValue:a}})(n,e):t instanceof bd?O2(t,e):t instanceof Cd?k2(t,e):(function(i,o){const a=D2(i,o),u=zR(a)+zR(i.Ae);return sE(a)&&sE(i.Ae)?M2(u):ew(i.serializer,u)})(t,e)}function Wz(t,e,n){return t instanceof bd?O2(t,e):t instanceof Cd?k2(t,e):n}function D2(t,e){return t instanceof xd?(function(r){return sE(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Ad extends Yg{}class bd extends Yg{constructor(e){super(),this.elements=e}}function O2(t,e){const n=L2(e);for(const r of t.elements)n.some((i=>eo(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Cd extends Yg{constructor(e){super(),this.elements=e}}function k2(t,e){let n=L2(e);for(const r of t.elements)n=n.filter((i=>!eo(i,r)));return{arrayValue:{values:n}}}class xd extends Yg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function zR(t){return jt(t.integerValue||t.doubleValue)}function L2(t){return XS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n){this.field=e,this.transform=n}}function Jz(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof bd&&i instanceof bd||r instanceof Cd&&i instanceof Cd?Yu(r.elements,i.elements,eo):r instanceof xd&&i instanceof xd?eo(r.Ae,i.Ae):r instanceof Ad&&i instanceof Ad})(t.transform,e.transform)}class Xz{constructor(e,n){this.version=e,this.transformResults=n}}class dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wg{}function V2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jg(t.key,dr.none()):new Kd(t.key,t.data,dr.none());{const n=t.data,r=cr.empty();let i=new fn(kn.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new ca(t.key,r,new Ir(i.toArray()),dr.none())}}function Qz(t,e,n){t instanceof Kd?(function(i,o,a){const u=i.value.clone(),f=KR(i.fieldTransforms,o,a.transformResults);u.setAll(f),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(t,e,n):t instanceof ca?(function(i,o,a){if(!Tm(i.precondition,o))return void o.convertToUnknownDocument(a.version);const u=KR(i.fieldTransforms,o,a.transformResults),f=o.data;f.setAll(B2(i)),f.setAll(u),o.convertToFoundDocument(a.version,f).setHasCommittedMutations()})(t,e,n):(function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function cd(t,e,n,r){return t instanceof Kd?(function(o,a,u,f){if(!Tm(o.precondition,a))return u;const c=o.value.clone(),h=jR(o.fieldTransforms,f,a);return c.setAll(h),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null})(t,e,n,r):t instanceof ca?(function(o,a,u,f){if(!Tm(o.precondition,a))return u;const c=jR(o.fieldTransforms,f,a),h=a.data;return h.setAll(B2(o)),h.setAll(c),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(t,e,n,r):(function(o,a,u){return Tm(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u})(t,e,n)}function Zz(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=D2(r.transform,i||null);o!=null&&(n===null&&(n=cr.empty()),n.set(r.field,o))}return n||null}function GR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Yu(r,i,((o,a)=>Jz(o,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kd extends Wg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ca extends Wg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function B2(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function KR(t,e,n){const r=new Map;at(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,u=e.data.field(o.field);r.set(o.field,Wz(a,u,n[i]))}return r}function jR(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,Yz(o,a,e))}return r}class Jg extends Wg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e8 extends Wg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Qz(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=cd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=cd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=P2();return this.mutations.forEach((i=>{const o=e.get(i.key),a=o.overlayedDocument;let u=this.applyToLocalView(a,o.mutatedFields);u=n.has(i.key)?null:u;const f=V2(a,u);f!==null&&r.set(i.key,f),a.isValidDocument()||a.convertToNoDocument(qe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Je())}isEqual(e){return this.batchId===e.batchId&&Yu(this.mutations,e.mutations,((n,r)=>GR(n,r)))&&Yu(this.baseMutations,e.baseMutations,((n,r)=>GR(n,r)))}}class tw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){at(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return zz})();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new tw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,et;function i8(t){switch(t){case le.OK:return Ve(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Ve(15467,{code:t})}}function q2(t){if(t===void 0)return Ko("GRPC error has no .code"),le.UNKNOWN;switch(t){case Zt.OK:return le.OK;case Zt.CANCELLED:return le.CANCELLED;case Zt.UNKNOWN:return le.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return le.INTERNAL;case Zt.UNAVAILABLE:return le.UNAVAILABLE;case Zt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Zt.NOT_FOUND:return le.NOT_FOUND;case Zt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Zt.ABORTED:return le.ABORTED;case Zt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Zt.DATA_LOSS:return le.DATA_LOSS;default:return Ve(39323,{code:t})}}(et=Zt||(Zt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8=new Js([4294967295,4294967295],0);function YR(t){const e=o8().encode(t),n=new Zk;return n.update(e),new Uint8Array(n.digest())}function WR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Js([n,r],0),new Js([i,o],0)]}class nw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new td(`Invalid padding: ${n}`);if(r<0)throw new td(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new td(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new td(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Js.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Js.fromNumber(r)));return i.compare(s8)===1&&(i=new Js([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=YR(e),[r,i]=WR(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new nw(o,i,n);return r.forEach((u=>a.insert(u))),a}insert(e){if(this.ge===0)return;const n=YR(e),[r,i]=WR(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class td extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,jd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xg(qe.min(),i,new Ut(We),jo(),Je())}}class jd{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new jd(r,n,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class F2{constructor(e,n){this.targetId=e,this.Ce=n}}class $2{constructor(e,n,r=Un.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class JR{constructor(){this.ve=0,this.Fe=XR(),this.Me=Un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),n=Je(),r=Je();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ve(38017,{changeType:o})}})),new jd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=XR()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class a8{constructor(e){this.Ge=e,this.ze=new Map,this.je=jo(),this.Je=zp(),this.He=zp(),this.Ye=new Ut(We)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(lE(o))if(r===0){const a=new Re(o.path);this.et(n,a,zn.newNoDocument(a,qe.min()))}else at(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const u=this.ut(e),f=u?this.ct(u,e,a):1;if(f!==0){this.it(n);const c=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,u;try{a=ra(r).toUint8Array()}catch(f){if(f instanceof f2)return ju("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new nw(a,i,o)}catch(f){return ju(f instanceof td?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const a=this.Ge.ht(),u=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,a)=>{const u=this.ot(a);if(u){if(o.current&&lE(u.target)){const f=new Re(u.target.path);this.It(f).has(a)||this.Et(a,f)||this.et(a,f,zn.newNoDocument(f,e))}o.Be&&(n.set(a,o.ke()),o.qe())}}));let r=Je();this.He.forEach(((o,a)=>{let u=!0;a.forEachWhile((f=>{const c=this.ot(f);return!c||c.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,a)=>a.setReadTime(e)));const i=new Xg(e,n,this.Ye,this.je,r);return this.je=jo(),this.Je=zp(),this.He=zp(),this.Ye=new Ut(We),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new JR,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new fn(We),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new fn(We),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new JR),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function zp(){return new Ut(Re.comparator)}function XR(){return new Ut(Re.comparator)}const l8={asc:"ASCENDING",desc:"DESCENDING"},u8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c8={and:"AND",or:"OR"};class f8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fE(t,e){return t.useProto3Json||Hg(e)?e:{value:e}}function Fm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function H2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function d8(t,e){return Fm(t,e.toTimestamp())}function Ji(t){return at(!!t,49232),qe.fromTimestamp((function(n){const r=na(n);return new Rt(r.seconds,r.nanos)})(t))}function rw(t,e){return dE(t,e).canonicalString()}function dE(t,e){const n=(function(i){return new wt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function z2(t){const e=wt.fromString(t);return at(W2(e),10190,{key:e.toString()}),e}function hE(t,e){return rw(t.databaseId,e.path)}function Z0(t,e){const n=z2(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(K2(n))}function G2(t,e){return rw(t.databaseId,e)}function h8(t){const e=z2(t);return e.length===4?wt.emptyPath():K2(e)}function pE(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function K2(t){return at(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function QR(t,e,n){return{name:hE(t,e),fields:n.value.mapValue.fields}}function p8(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ve(39313,{state:c})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(c,h){return c.useProto3Json?(at(h===void 0||typeof h=="string",58123),Un.fromBase64String(h||"")):(at(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Un.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&(function(c){const h=c.code===void 0?le.UNKNOWN:q2(c.code);return new ve(h,c.message||"")})(a);n=new $2(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Z0(t,r.document.name),o=Ji(r.document.updateTime),a=r.document.createTime?Ji(r.document.createTime):qe.min(),u=new cr({mapValue:{fields:r.document.fields}}),f=zn.newFoundDocument(i,o,a,u),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Em(c,h,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Z0(t,r.document),o=r.readTime?Ji(r.readTime):qe.min(),a=zn.newNoDocument(i,o),u=r.removedTargetIds||[];n=new Em([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Z0(t,r.document),o=r.removedTargetIds||[];n=new Em([],o,i,null)}else{if(!("filter"in e))return Ve(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new r8(i,o),u=r.targetId;n=new F2(u,a)}}return n}function m8(t,e){let n;if(e instanceof Kd)n={update:QR(t,e.key,e.value)};else if(e instanceof Jg)n={delete:hE(t,e.key)};else if(e instanceof ca)n={update:QR(t,e.key,e.data),updateMask:A8(e.fieldMask)};else{if(!(e instanceof e8))return Ve(16599,{Vt:e.type});n={verify:hE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,a){const u=a.transform;if(u instanceof Ad)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof bd)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Cd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof xd)return{fieldPath:a.field.canonicalString(),increment:u.Ae};throw Ve(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:d8(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ve(27497)})(t,e.precondition)),n}function g8(t,e){return t&&t.length>0?(at(e!==void 0,14353),t.map((n=>(function(i,o){let a=i.updateTime?Ji(i.updateTime):Ji(o);return a.isEqual(qe.min())&&(a=Ji(o)),new Xz(a,i.transformResults||[])})(n,e)))):[]}function y8(t,e){return{documents:[G2(t,e.path)]}}function v8(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=G2(t,i);const o=(function(c){if(c.length!==0)return Y2(_i.create(c,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const a=(function(c){if(c.length!==0)return c.map((h=>(function(v){return{field:Pu(v.field),direction:E8(v.dir)}})(h)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const u=fE(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{ft:n,parent:i}}function _8(t){let e=h8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){at(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(y){const v=j2(y);return v instanceof _i&&E2(v)?v.getFilters():[v]})(n.where));let a=[];n.orderBy&&(a=(function(y){return y.map((v=>(function(w){return new wd(Mu(w.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(v)))})(n.orderBy));let u=null;n.limit&&(u=(function(y){let v;return v=typeof y=="object"?y.value:y,Hg(v)?null:v})(n.limit));let f=null;n.startAt&&(f=(function(y){const v=!!y.before,E=y.values||[];return new qm(E,v)})(n.startAt));let c=null;return n.endAt&&(c=(function(y){const v=!y.before,E=y.values||[];return new qm(E,v)})(n.endAt)),Bz(e,i,a,o,u,"F",f,c)}function T8(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function j2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Mu(n.unaryFilter.field);return en.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Mu(n.unaryFilter.field);return en.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Mu(n.unaryFilter.field);return en.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Mu(n.unaryFilter.field);return en.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}})(t):t.fieldFilter!==void 0?(function(n){return en.create(Mu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return _i.create(n.compositeFilter.filters.map((r=>j2(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}})(n.compositeFilter.op))})(t):Ve(30097,{filter:t})}function E8(t){return l8[t]}function S8(t){return u8[t]}function w8(t){return c8[t]}function Pu(t){return{fieldPath:t.canonicalString()}}function Mu(t){return kn.fromServerFormat(t.fieldPath)}function Y2(t){return t instanceof en?(function(n){if(n.op==="=="){if(BR(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NAN"}};if(VR(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(BR(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NOT_NAN"}};if(VR(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pu(n.field),op:S8(n.op),value:n.value}}})(t):t instanceof _i?(function(n){const r=n.getFilters().map((i=>Y2(i)));return r.length===1?r[0]:{compositeFilter:{op:w8(n.op),filters:r}}})(t):Ve(54877,{filter:t})}function A8(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function W2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n,r,i,o=qe.min(),a=qe.min(),u=Un.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e){this.yt=e}}function C8(t){const e=_8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(){this.Cn=new R8}addToCollectionParentIndex(e,n){return this.Cn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(ta.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(ta.min())}updateCollectionGroup(e,n,r){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class R8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new fn(wt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new fn(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},J2=41943040;class ur{static withCacheSize(e){return new ur(e,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur.DEFAULT_COLLECTION_PERCENTILE=10,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ur.DEFAULT=new ur(J2,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ur.DISABLED=new ur(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xu(0)}static cr(){return new Xu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="LruGarbageCollector",I8=1048576;function tI([t,e],[n,r]){const i=We(t,n);return i===0?We(e,r):i}class P8{constructor(e){this.Ir=e,this.buffer=new fn(tI),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();tI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class M8{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Te(eI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gc(n)?Te(eI,"Ignoring IndexedDB error during garbage collection: ",n):await mc(n)}await this.Vr(3e5)}))}}class N8{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return de.resolve($g.ce);const r=new P8(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(ZR)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZR):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,a,u,f,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,a=Date.now(),this.nthSequenceNumber(e,i)))).next((y=>(r=y,u=Date.now(),this.removeTargets(e,r,n)))).next((y=>(o=y,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(c=Date.now(),Ru()<=Ye.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${i} in `+(u-a)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${y} documents in `+(c-f)+`ms
Total Duration: ${c-h}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y}))))}}function D8(t,e){return new N8(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(){this.changes=new xl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?de.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&cd(r.mutation,i,Ir.empty(),Rt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Je()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Je()){const i=el();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let a=ed();return o.forEach(((u,f)=>{a=a.insert(u,f.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=el();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Je())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((a,u)=>{n.set(a,u)}))}))}computeViews(e,n,r,i){let o=jo();const a=ud(),u=(function(){return ud()})();return n.forEach(((f,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof ca)?o=o.insert(c.key,c):h!==void 0?(a.set(c.key,h.mutation.getFieldMask()),cd(h.mutation,c,h.mutation.getFieldMask(),Rt.now())):a.set(c.key,Ir.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((c,h)=>a.set(c,h))),n.forEach(((c,h)=>u.set(c,new k8(h,a.get(c)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=ud();let i=new Ut(((a,u)=>a-u)),o=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const u of a)u.keys().forEach((f=>{const c=n.get(f);if(c===null)return;let h=r.get(f)||Ir.empty();h=u.applyToLocalView(c,h),r.set(f,h);const y=(i.get(u.batchId)||Je()).add(f);i=i.insert(u.batchId,y)}))})).next((()=>{const a=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),c=f.key,h=f.value,y=P2();h.forEach((v=>{if(!o.has(v)){const E=V2(n.get(v),r.get(v));E!==null&&y.set(v,E),o=o.add(v)}})),a.push(this.documentOverlayCache.saveOverlays(e,c,y))}return de.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(a){return Re.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):b2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):de.resolve(el());let u=_d,f=o;return a.next((c=>de.forEach(c,((h,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),o.get(h)?de.resolve():this.remoteDocumentCache.getEntry(e,h).next((v=>{f=f.insert(h,v)}))))).next((()=>this.populateOverlays(e,c,o))).next((()=>this.computeViews(e,f,c,Je()))).next((h=>({batchId:u,changes:I2(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next((r=>{let i=ed();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=ed();return this.indexManager.getCollectionParents(e,o).next((u=>de.forEach(u,(f=>{const c=(function(y,v){return new yc(v,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next((h=>{h.forEach(((y,v)=>{a=a.insert(y,v)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((a=>{o.forEach(((f,c)=>{const h=c.getKey();a.get(h)===null&&(a=a.insert(h,zn.newInvalidDocument(h)))}));let u=ed();return a.forEach(((f,c)=>{const h=o.get(f);h!==void 0&&cd(h.mutation,c,Ir.empty(),Rt.now()),jg(n,c)&&(u=u.insert(f,c))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return de.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ji(i.createTime)}})(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:C8(i.bundledQuery),readTime:Ji(i.readTime)}})(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(){this.overlays=new Ut(Re.comparator),this.qr=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const r=el();return de.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.St(e,n,o)})),de.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),de.resolve()}getOverlaysForCollection(e,n,r){const i=el(),o=n.length+1,a=new Re(n.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const f=u.getNext().value,c=f.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return de.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ut(((c,h)=>c-h));const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=o.get(c.largestBatchId);h===null&&(h=el(),o=o.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const u=el(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((c,h)=>u.set(c,h))),!(u.size()>=i)););return de.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new n8(n,r));let o=this.qr.get(n);o===void 0&&(o=Je(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(){this.sessionToken=Un.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(){this.Qr=new fn(En.$r),this.Ur=new fn(En.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new En(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new En(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Re(new wt([])),r=new En(n,e),i=new En(n,e+1),o=[];return this.Ur.forEachInRange([r,i],(a=>{this.Gr(a),o.push(a.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Re(new wt([])),r=new En(n,e),i=new En(n,e+1);let o=Je();return this.Ur.forEachInRange([r,i],(a=>{o=o.add(a.key)})),o}containsKey(e){const n=new En(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class En{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Re.comparator(e.key,n.key)||We(e.Yr,n.Yr)}static Kr(e,n){return We(e.Yr,n.Yr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new fn(En.$r)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new t8(o,n,r,i);this.mutationQueue.push(a);for(const u of i)this.Zr=this.Zr.add(new En(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return de.resolve(a)}lookupMutationBatch(e,n){return de.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return de.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?WS:this.tr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new En(n,0),i=new En(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(a=>{const u=this.Xr(a.Yr);o.push(u)})),de.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new fn(We);return n.forEach((i=>{const o=new En(i,0),a=new En(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,a],(u=>{r=r.add(u.Yr)}))})),de.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Re.isDocumentKey(o)||(o=o.child(""));const a=new En(new Re(o),0);let u=new fn(We);return this.Zr.forEachWhile((f=>{const c=f.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(u=u.add(f.Yr)),!0)}),a),de.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){at(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return de.forEach(n.mutations,(i=>{const o=new En(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new En(n,0),i=this.Zr.firstAfterOrEqual(r);return de.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(e){this.ri=e,this.docs=(function(){return new Ut(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return de.resolve(r?r.document.mutableCopy():zn.newInvalidDocument(n))}getEntries(e,n){let r=jo();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():zn.newInvalidDocument(i))})),de.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=jo();const a=n.path,u=new Re(a.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:c,value:{document:h}}=f.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||yz(gz(h),r)<=0||(i.has(h.key)||jg(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return de.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ve(9500)}ii(e,n){return de.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new $8(this)}getSize(e){return de.resolve(this.size)}}class $8 extends O8{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),de.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(e){this.persistence=e,this.si=new xl((n=>QS(n)),ZS),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.oi=0,this._i=new iw,this.targetCount=0,this.ai=Xu.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),de.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Xu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Pr(n),de.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach(((a,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(a),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),de.waitFor(o).next((()=>i))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return de.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),de.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((a=>{o.push(i.markPotentiallyOrphaned(e,a))})),de.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return de.resolve(r)}containsKey(e,n){return de.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n){this.ui={},this.overlays={},this.ci=new $g(0),this.li=!1,this.li=!0,this.hi=new B8,this.referenceDelegate=e(this),this.Pi=new H8(this),this.indexManager=new x8,this.remoteDocumentCache=(function(i){return new F8(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new b8(n),this.Ii=new U8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new V8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new q8(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const i=new z8(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,n){return de.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class z8 extends _z{constructor(e){super(),this.currentSequenceNumber=e}}class ow{constructor(e){this.persistence=e,this.Ri=new iw,this.Vi=null}static mi(e){return new ow(e)}get fi(){if(this.Vi)return this.Vi;throw Ve(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),de.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),de.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.fi,(r=>{const i=Re.fromPath(r);return this.gi(e,i).next((o=>{o||n.removeEntry(i,qe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return de.or([()=>de.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class $m{constructor(e,n){this.persistence=e,this.pi=new xl((r=>Sz(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=D8(this,n)}static mi(e,n){return new $m(e,n)}Ei(){}di(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return de.forEach(this.pi,((r,i)=>this.br(e,r,i).next((o=>o?de.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,n).next((u=>{u||(r++,o.removeEntry(a,qe.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),de.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),de.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vm(e.data.value)),n}br(e,n,r){return de.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return de.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Je(),i=Je();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new sw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return E5()?8:Tz(jn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next((a=>{o.result=a})).next((()=>{if(!o.result)return this.ws(e,n,i,r).next((a=>{o.result=a}))})).next((()=>{if(o.result)return;const a=new G8;return this.Ss(e,n,a).next((u=>{if(o.result=u,this.Vs)return this.bs(e,n,a,u.size)}))})).next((()=>o.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Ru()<=Ye.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Iu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),de.resolve()):(Ru()<=Ye.DEBUG&&Te("QueryEngine","Query:",Iu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ru()<=Ye.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Iu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wi(n))):de.resolve())}ys(e,n){if(HR(n))return de.resolve(null);let r=Wi(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=cE(n,null,"F"),r=Wi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const a=Je(...o);return this.ps.getDocuments(e,a).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const c=this.Ds(n,u);return this.Cs(n,c,a,f.readTime)?this.ys(e,cE(n,null,"F")):this.vs(e,c,n,f)}))))})))))}ws(e,n,r,i){return HR(n)||i.isEqual(qe.min())?de.resolve(null):this.ps.getDocuments(e,r).next((o=>{const a=this.Ds(n,o);return this.Cs(n,a,r,i)?de.resolve(null):(Ru()<=Ye.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Iu(n)),this.vs(e,a,n,mz(i,_d)).next((u=>u)))}))}Ds(e,n){let r=new fn(x2(e));return n.forEach(((i,o)=>{jg(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Ru()<=Ye.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Iu(n)),this.ps.getDocumentsMatchingQuery(e,n,ta.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((a=>{o=o.insert(a.key,a)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="LocalStore",j8=3e8;class Y8{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Ut(We),this.xs=new xl((o=>QS(o)),ZS),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new L8(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function W8(t,e,n,r){return new Y8(t,e,n,r)}async function Q2(t,e){const n=$e(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const a=[],u=[];let f=Je();for(const c of i){a.push(c.batchId);for(const h of c.mutations)f=f.add(h.key)}for(const c of o){u.push(c.batchId);for(const h of c.mutations)f=f.add(h.key)}return n.localDocuments.getDocuments(r,f).next((c=>({Ls:c,removedBatchIds:a,addedBatchIds:u})))}))}))}function J8(t,e){const n=$e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,c,h){const y=c.batch,v=y.keys();let E=de.resolve();return v.forEach((w=>{E=E.next((()=>h.getEntry(f,w))).next((A=>{const C=c.docVersions.get(w);at(C!==null,48541),A.version.compareTo(C)<0&&(y.applyToRemoteDocument(A,c),A.isValidDocument()&&(A.setReadTime(c.commitVersion),h.addEntry(A)))}))})),E.next((()=>u.mutationQueue.removeMutationBatch(f,y)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=Je();for(let c=0;c<u.mutationResults.length;++c)u.mutationResults[c].transformResults.length>0&&(f=f.add(u.batch.mutations[c].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function Z2(t){const e=$e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function X8(t,e){const n=$e(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((h,y)=>{const v=i.get(y);if(!v)return;u.push(n.Pi.removeMatchingKeys(o,h.removedDocuments,y).next((()=>n.Pi.addMatchingKeys(o,h.addedDocuments,y))));let E=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?E=E.withResumeToken(Un.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):h.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(h.resumeToken,r)),i=i.insert(y,E),(function(A,C,R){return A.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=j8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0})(v,E,h)&&u.push(n.Pi.updateTargetData(o,E))}));let f=jo(),c=Je();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))})),u.push(Q8(o,a,e.documentUpdates).next((h=>{f=h.ks,c=h.qs}))),!r.isEqual(qe.min())){const h=n.Pi.getLastRemoteSnapshotVersion(o).next((y=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(h)}return de.waitFor(u).next((()=>a.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,f,c))).next((()=>f))})).then((o=>(n.Ms=i,o)))}function Q8(t,e,n){let r=Je(),i=Je();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let a=jo();return n.forEach(((u,f)=>{const c=o.get(u);f.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(qe.min())?(e.removeEntry(u,f.readTime),a=a.insert(u,f)):!c.isValidDocument()||f.version.compareTo(c.version)>0||f.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(f),a=a.insert(u,f)):Te(aw,"Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",f.version)})),{ks:a,qs:i}}))}function Z8(t,e){const n=$e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=WS),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function eG(t,e){const n=$e(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((o=>o?(i=o,de.resolve(i)):n.Pi.allocateTargetId(r).next((a=>(i=new Gs(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function mE(t,e,n){const r=$e(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!gc(a))throw a;Te(aw,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function nI(t,e,n){const r=$e(t);let i=qe.min(),o=Je();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(f,c,h){const y=$e(f),v=y.xs.get(h);return v!==void 0?de.resolve(y.Ms.get(v)):y.Pi.getTargetData(c,h)})(r,a,Wi(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,u.targetId).next((f=>{o=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:qe.min(),n?o:Je()))).next((u=>(tG(r,Fz(e),u),{documents:u,Qs:o})))))}function tG(t,e,n){let r=t.Os.get(e)||qe.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class rI{constructor(){this.activeTargetIds=jz()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nG{constructor(){this.Mo=new rI,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new rI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="ConnectivityMonitor";class oI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Te(iI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Te(iI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gp=null;function gE(){return Gp===null?Gp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gp++,"0x"+Gp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="RestConnection",iG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oG{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Vm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const a=gE(),u=this.zo(e,n.toUriEncodedString());Te(e_,`Sending RPC '${e}' ${a}:`,u,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,o);const{host:c}=new URL(u),h=la(c);return this.Jo(e,u,f,r,h).then((y=>(Te(e_,`Received RPC '${e}' ${a}: `,y),y)),(y=>{throw ju(e_,`RPC '${e}' ${a} failed with error: `,y,"url: ",u,"request:",r),y}))}Ho(e,n,r,i,o,a){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,n){const r=iG[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn="WebChannelConnection";class aG extends oG{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const a=gE();return new Promise(((u,f)=>{const c=new e2;c.setWithCredentials(!0),c.listenOnce(t2.COMPLETE,(()=>{try{switch(c.getLastErrorCode()){case ym.NO_ERROR:const y=c.getResponseJson();Te(Fn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),u(y);break;case ym.TIMEOUT:Te(Fn,`RPC '${e}' ${a} timed out`),f(new ve(le.DEADLINE_EXCEEDED,"Request time out"));break;case ym.HTTP_ERROR:const v=c.getStatus();if(Te(Fn,`RPC '${e}' ${a} failed with status:`,v,"response text:",c.getResponseText()),v>0){let E=c.getResponseJson();Array.isArray(E)&&(E=E[0]);const w=E==null?void 0:E.error;if(w&&w.status&&w.message){const A=(function(R){const N=R.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(N)>=0?N:le.UNKNOWN})(w.status);f(new ve(A,w.message))}else f(new ve(le.UNKNOWN,"Server responded with status "+c.getStatus()))}else f(new ve(le.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Te(Fn,`RPC '${e}' ${a} completed.`)}}));const h=JSON.stringify(i);Te(Fn,`RPC '${e}' ${a} sending request:`,i),c.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=gE(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=i2(),u=r2(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(f.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const h=o.join("");Te(Fn,`Creating RPC '${e}' stream ${i}: ${h}`,f);const y=a.createWebChannel(h,f);this.I_(y);let v=!1,E=!1;const w=new sG({Yo:C=>{E?Te(Fn,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(v||(Te(Fn,`Opening RPC '${e}' stream ${i} transport.`),y.open(),v=!0),Te(Fn,`RPC '${e}' stream ${i} sending:`,C),y.send(C))},Zo:()=>y.close()}),A=(C,R,N)=>{C.listen(R,(M=>{try{N(M)}catch(U){setTimeout((()=>{throw U}),0)}}))};return A(y,Zf.EventType.OPEN,(()=>{E||(Te(Fn,`RPC '${e}' stream ${i} transport opened.`),w.o_())})),A(y,Zf.EventType.CLOSE,(()=>{E||(E=!0,Te(Fn,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(y))})),A(y,Zf.EventType.ERROR,(C=>{E||(E=!0,ju(Fn,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),w.a_(new ve(le.UNAVAILABLE,"The operation could not be completed")))})),A(y,Zf.EventType.MESSAGE,(C=>{var R;if(!E){const N=C.data[0];at(!!N,16349);const M=N,U=(M==null?void 0:M.error)||((R=M[0])==null?void 0:R.error);if(U){Te(Fn,`RPC '${e}' stream ${i} received error:`,U);const V=U.status;let G=(function(D){const $=Zt[D];if($!==void 0)return q2($)})(V),O=U.message;G===void 0&&(G=le.INTERNAL,O="Unknown error status: "+V+" with message "+U.message),E=!0,w.a_(new ve(G,O)),y.close()}else Te(Fn,`RPC '${e}' stream ${i} received:`,N),w.u_(N)}})),A(u,n2.STAT_EVENT,(C=>{C.stat===rE.PROXY?Te(Fn,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===rE.NOPROXY&&Te(Fn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function t_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t){return new f8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="PersistentStream";class tL{constructor(e,n,r,i,o,a,u,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eL(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(Ko(n.toString()),Ko("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ve(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(sI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Te(sI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lG extends tL{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=p8(this.serializer,e),r=(function(o){if(!("targetChange"in o))return qe.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?qe.min():a.readTime?Ji(a.readTime):qe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=pE(this.serializer),n.addTarget=(function(o,a){let u;const f=a.target;if(u=lE(f)?{documents:y8(o,f)}:{query:v8(o,f).ft},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=H2(o,a.resumeToken);const c=fE(o,a.expectedCount);c!==null&&(u.expectedCount=c)}else if(a.snapshotVersion.compareTo(qe.min())>0){u.readTime=Fm(o,a.snapshotVersion.toTimestamp());const c=fE(o,a.expectedCount);c!==null&&(u.expectedCount=c)}return u})(this.serializer,e);const r=T8(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=pE(this.serializer),n.removeTarget=e,this.q_(n)}}class uG extends tL{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=g8(e.writeResults,e.commitTime),r=Ji(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=pE(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>m8(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{}class fG extends cG{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ve(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Go(e,dE(n,r),i,o,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(le.UNKNOWN,o.toString())}))}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Ho(e,dE(n,r),i,a,u,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(le.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class dG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ko(n),this.aa=!1):Te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="RemoteStore";class hG{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{Rl(this)&&(Te(yl,"Restarting streams for network reachability change."),await(async function(f){const c=$e(f);c.Ea.add(4),await Yd(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Zg(c)})(this))}))})),this.Ra=new dG(r,i)}}async function Zg(t){if(Rl(t))for(const e of t.da)await e(!0)}async function Yd(t){for(const e of t.da)await e(!1)}function nL(t,e){const n=$e(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),fw(n)?cw(n):vc(n).O_()&&uw(n,e))}function lw(t,e){const n=$e(t),r=vc(n);n.Ia.delete(e),r.O_()&&rL(n,e),n.Ia.size===0&&(r.O_()?r.L_():Rl(n)&&n.Ra.set("Unknown"))}function uw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vc(t).Y_(e)}function rL(t,e){t.Va.Ue(e),vc(t).Z_(e)}function cw(t){t.Va=new a8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),vc(t).start(),t.Ra.ua()}function fw(t){return Rl(t)&&!vc(t).x_()&&t.Ia.size>0}function Rl(t){return $e(t).Ea.size===0}function iL(t){t.Va=void 0}async function pG(t){t.Ra.set("Online")}async function mG(t){t.Ia.forEach(((e,n)=>{uw(t,e)}))}async function gG(t,e){iL(t),fw(t)?(t.Ra.ha(e),cw(t)):t.Ra.set("Unknown")}async function yG(t,e,n){if(t.Ra.set("Online"),e instanceof $2&&e.state===2&&e.cause)try{await(async function(i,o){const a=o.cause;for(const u of o.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,a),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){Te(yl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hm(t,r)}else if(e instanceof Em?t.Va.Ze(e):e instanceof F2?t.Va.st(e):t.Va.tt(e),!n.isEqual(qe.min()))try{const r=await Z2(t.localStore);n.compareTo(r)>=0&&await(function(o,a){const u=o.Va.Tt(a);return u.targetChanges.forEach(((f,c)=>{if(f.resumeToken.approximateByteSize()>0){const h=o.Ia.get(c);h&&o.Ia.set(c,h.withResumeToken(f.resumeToken,a))}})),u.targetMismatches.forEach(((f,c)=>{const h=o.Ia.get(f);if(!h)return;o.Ia.set(f,h.withResumeToken(Un.EMPTY_BYTE_STRING,h.snapshotVersion)),rL(o,f);const y=new Gs(h.target,f,c,h.sequenceNumber);uw(o,y)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Te(yl,"Failed to raise snapshot:",r),await Hm(t,r)}}async function Hm(t,e,n){if(!gc(e))throw e;t.Ea.add(1),await Yd(t),t.Ra.set("Offline"),n||(n=()=>Z2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te(yl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Zg(t)}))}function oL(t,e){return e().catch((n=>Hm(t,n,e)))}async function ey(t){const e=$e(t),n=oa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:WS;for(;vG(e);)try{const i=await Z8(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,_G(e,i)}catch(i){await Hm(e,i)}sL(e)&&aL(e)}function vG(t){return Rl(t)&&t.Ta.length<10}function _G(t,e){t.Ta.push(e);const n=oa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function sL(t){return Rl(t)&&!oa(t).x_()&&t.Ta.length>0}function aL(t){oa(t).start()}async function TG(t){oa(t).ra()}async function EG(t){const e=oa(t);for(const n of t.Ta)e.ea(n.mutations)}async function SG(t,e,n){const r=t.Ta.shift(),i=tw.from(r,e,n);await oL(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await ey(t)}async function wG(t,e){e&&oa(t).X_&&await(async function(r,i){if((function(a){return i8(a)&&a!==le.ABORTED})(i.code)){const o=r.Ta.shift();oa(r).B_(),await oL(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await ey(r)}})(t,e),sL(t)&&aL(t)}async function aI(t,e){const n=$e(t);n.asyncQueue.verifyOperationInProgress(),Te(yl,"RemoteStore received new credentials");const r=Rl(n);n.Ea.add(3),await Yd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Zg(n)}async function AG(t,e){const n=$e(t);e?(n.Ea.delete(2),await Zg(n)):e||(n.Ea.add(2),await Yd(n),n.Ra.set("Unknown"))}function vc(t){return t.ma||(t.ma=(function(n,r,i){const o=$e(n);return o.sa(),new lG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:pG.bind(null,t),t_:mG.bind(null,t),r_:gG.bind(null,t),H_:yG.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),fw(t)?cw(t):t.Ra.set("Unknown")):(await t.ma.stop(),iL(t))}))),t.ma}function oa(t){return t.fa||(t.fa=(function(n,r,i){const o=$e(n);return o.sa(),new uG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:TG.bind(null,t),r_:wG.bind(null,t),ta:EG.bind(null,t),na:SG.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await ey(t)):(await t.fa.stop(),t.Ta.length>0&&(Te(yl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new qo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,u=new dw(e,n,a,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hw(t,e){if(Ko("AsyncQueue",`${e}: ${t}`),gc(t))return new ve(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{static emptySet(e){return new Bu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Re.comparator(n.key,r.key):(n,r)=>Re.comparator(n.key,r.key),this.keyedMap=ed(),this.sortedSet=new Ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Bu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.ga=new Ut(Re.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ve(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Qu{constructor(e,n,r,i,o,a,u,f,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach((u=>{a.push({type:0,doc:u})})),new Qu(e,n,Bu.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class CG{constructor(){this.queries=uI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=$e(n),o=i.queries;i.queries=uI(),o.forEach(((a,u)=>{for(const f of u.Sa)f.onError(r)}))})(this,new ve(le.ABORTED,"Firestore shutting down"))}}function uI(){return new xl((t=>C2(t)),Kg)}async function pw(t,e){const n=$e(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new bG,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const u=hw(a,`Initialization of query '${Iu(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&gw(n)}async function mw(t,e){const n=$e(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.Sa.indexOf(e);a>=0&&(o.Sa.splice(a,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xG(t,e){const n=$e(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const u of a.Sa)u.Fa(i)&&(r=!0);a.wa=i}}r&&gw(n)}function RG(t,e,n){const r=$e(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function gw(t){t.Ca.forEach((e=>{e.next()}))}var yE,cI;(cI=yE||(yE={})).Ma="default",cI.Cache="cache";class yw{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Qu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Qu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.key=e}}class uL{constructor(e){this.key=e}}class IG{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Je(),this.mutatedKeys=Je(),this.eu=x2(e),this.tu=new Bu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new lI,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,y)=>{const v=i.get(h),E=jg(this.query,y)?y:null,w=!!v&&this.mutatedKeys.has(v.key),A=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let C=!1;v&&E?v.data.isEqual(E.data)?w!==A&&(r.track({type:3,doc:E}),C=!0):this.su(v,E)||(r.track({type:2,doc:E}),C=!0,(f&&this.eu(E,f)>0||c&&this.eu(E,c)<0)&&(u=!0)):!v&&E?(r.track({type:0,doc:E}),C=!0):v&&!E&&(r.track({type:1,doc:v}),C=!0,(f||c)&&(u=!0)),C&&(E?(a=a.add(E),o=A?o.add(h):o.delete(h)):(a=a.delete(h),o=o.delete(h)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{tu:a,iu:r,Cs:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((h,y)=>(function(E,w){const A=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Rt:C})}};return A(E)-A(w)})(h.type,y.type)||this.eu(h.doc,y.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,c=f!==this.Za;return this.Za=f,a.length!==0||c?{snapshot:new Qu(this.query,e.tu,o,a,e.mutatedKeys,f===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new uL(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new lL(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Qu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vw="SyncEngine";class PG{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class MG{constructor(e){this.key=e,this.hu=!1}}class NG{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new xl((u=>C2(u)),Kg),this.Iu=new Map,this.Eu=new Set,this.du=new Ut(Re.comparator),this.Au=new Map,this.Ru=new iw,this.Vu={},this.mu=new Map,this.fu=Xu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function DG(t,e,n=!0){const r=mL(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await cL(r,e,n,!0),i}async function OG(t,e){const n=mL(t);await cL(n,e,!0,!1)}async function cL(t,e,n,r){const i=await eG(t.localStore,Wi(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await kG(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&nL(t.remoteStore,i),u}async function kG(t,e,n,r,i){t.pu=(y,v,E)=>(async function(A,C,R,N){let M=C.view.ru(R);M.Cs&&(M=await nI(A.localStore,C.query,!1).then((({documents:O})=>C.view.ru(O,M))));const U=N&&N.targetChanges.get(C.targetId),V=N&&N.targetMismatches.get(C.targetId)!=null,G=C.view.applyChanges(M,A.isPrimaryClient,U,V);return dI(A,C.targetId,G.au),G.snapshot})(t,y,v,E);const o=await nI(t.localStore,e,!0),a=new IG(e,o.Qs),u=a.ru(o.documents),f=jd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=a.applyChanges(u,t.isPrimaryClient,f);dI(t,n,c.au);const h=new PG(e,n,a);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function LG(t,e,n){const r=$e(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((a=>!Kg(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await mE(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&lw(r.remoteStore,i.targetId),vE(r,i.targetId)})).catch(mc)):(vE(r,i.targetId),await mE(r.localStore,i.targetId,!0))}async function UG(t,e){const n=$e(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),lw(n.remoteStore,r.targetId))}async function VG(t,e,n){const r=GG(t);try{const i=await(function(a,u){const f=$e(a),c=Rt.now(),h=u.reduce(((E,w)=>E.add(w.key)),Je());let y,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let w=jo(),A=Je();return f.Ns.getEntries(E,h).next((C=>{w=C,w.forEach(((R,N)=>{N.isValidDocument()||(A=A.add(R))}))})).next((()=>f.localDocuments.getOverlayedDocuments(E,w))).next((C=>{y=C;const R=[];for(const N of u){const M=Zz(N,y.get(N.key).overlayedDocument);M!=null&&R.push(new ca(N.key,M,v2(M.value.mapValue),dr.exists(!0)))}return f.mutationQueue.addMutationBatch(E,c,R,u)})).next((C=>{v=C;const R=C.applyToLocalDocumentSet(y,A);return f.documentOverlayCache.saveOverlays(E,C.batchId,R)}))})).then((()=>({batchId:v.batchId,changes:I2(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,u,f){let c=a.Vu[a.currentUser.toKey()];c||(c=new Ut(We)),c=c.insert(u,f),a.Vu[a.currentUser.toKey()]=c})(r,i.batchId,n),await Wd(r,i.changes),await ey(r.remoteStore)}catch(i){const o=hw(i,"Failed to persist write");n.reject(o)}}async function fL(t,e){const n=$e(t);try{const r=await X8(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const a=n.Au.get(o);a&&(at(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?at(a.hu,14607):i.removedDocuments.size>0&&(at(a.hu,42227),a.hu=!1))})),await Wd(n,r,e)}catch(r){await mc(r)}}function fI(t,e,n){const r=$e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,a)=>{const u=a.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(a,u){const f=$e(a);f.onlineState=u;let c=!1;f.queries.forEach(((h,y)=>{for(const v of y.Sa)v.va(u)&&(c=!0)})),c&&gw(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BG(t,e,n){const r=$e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let a=new Ut(Re.comparator);a=a.insert(o,zn.newNoDocument(o,qe.min()));const u=Je().add(o),f=new Xg(qe.min(),new Map,new Ut(We),a,u);await fL(r,f),r.du=r.du.remove(o),r.Au.delete(e),_w(r)}else await mE(r.localStore,e,!1).then((()=>vE(r,e,n))).catch(mc)}async function qG(t,e){const n=$e(t),r=e.batch.batchId;try{const i=await J8(n.localStore,e);hL(n,r,null),dL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wd(n,i)}catch(i){await mc(i)}}async function FG(t,e,n){const r=$e(t);try{const i=await(function(a,u){const f=$e(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let h;return f.mutationQueue.lookupMutationBatch(c,u).next((y=>(at(y!==null,37113),h=y.keys(),f.mutationQueue.removeMutationBatch(c,y)))).next((()=>f.mutationQueue.performConsistencyCheck(c))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(c,h,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h))).next((()=>f.localDocuments.getDocuments(c,h)))}))})(r.localStore,e);hL(r,e,n),dL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wd(r,i)}catch(i){await mc(i)}}function dL(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function hL(t,e,n){const r=$e(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function vE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||pL(t,r)}))}function pL(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(lw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),_w(t))}function dI(t,e,n){for(const r of n)r instanceof lL?(t.Ru.addReference(r.key,e),$G(t,r)):r instanceof uL?(Te(vw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||pL(t,r.key)):Ve(19791,{wu:r})}function $G(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Te(vw,"New document in limbo: "+n),t.Eu.add(r),_w(t))}function _w(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Re(wt.fromString(e)),r=t.fu.next();t.Au.set(r,new MG(n)),t.du=t.du.insert(n,r),nL(t.remoteStore,new Gs(Wi(Gg(n.path)),r,"TargetPurposeLimboResolution",$g.ce))}}async function Wd(t,e,n){const r=$e(t),i=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{a.push(r.pu(f,e,n).then((c=>{var h;if((c||n)&&r.isPrimaryClient){const y=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(c){i.push(c);const y=sw.As(f.targetId,c);o.push(y)}})))})),await Promise.all(a),r.Pu.H_(i),await(async function(f,c){const h=$e(f);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>de.forEach(c,(v=>de.forEach(v.Es,(E=>h.persistence.referenceDelegate.addReference(y,v.targetId,E))).next((()=>de.forEach(v.ds,(E=>h.persistence.referenceDelegate.removeReference(y,v.targetId,E)))))))))}catch(y){if(!gc(y))throw y;Te(aw,"Failed to update sequence numbers: "+y)}for(const y of c){const v=y.targetId;if(!y.fromCache){const E=h.Ms.get(v),w=E.snapshotVersion,A=E.withLastLimboFreeSnapshotVersion(w);h.Ms=h.Ms.insert(v,A)}}})(r.localStore,o))}async function HG(t,e){const n=$e(t);if(!n.currentUser.isEqual(e)){Te(vw,"User change. New user:",e.toKey());const r=await Q2(n.localStore,e);n.currentUser=e,(function(o,a){o.mu.forEach((u=>{u.forEach((f=>{f.reject(new ve(le.CANCELLED,a))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wd(n,r.Ls)}}function zG(t,e){const n=$e(t),r=n.Au.get(e);if(r&&r.hu)return Je().add(r.key);{let i=Je();const o=n.Iu.get(e);if(!o)return i;for(const a of o){const u=n.Tu.get(a);i=i.unionWith(u.view.nu)}return i}}function mL(t){const e=$e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BG.bind(null,e),e.Pu.H_=xG.bind(null,e.eventManager),e.Pu.yu=RG.bind(null,e.eventManager),e}function GG(t){const e=$e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FG.bind(null,e),e}class zm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return W8(this.persistence,new K8,e.initialUser,this.serializer)}Cu(e){return new X2(ow.mi,this.serializer)}Du(e){return new nG}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zm.provider={build:()=>new zm};class KG extends zm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){at(this.persistence.referenceDelegate instanceof $m,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new M8(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ur.withCacheSize(this.cacheSizeBytes):ur.DEFAULT;return new X2((r=>$m.mi(r,n)),this.serializer)}}class _E{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HG.bind(null,this.syncEngine),await AG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new CG})()}createDatastore(e){const n=Qg(e.databaseInfo.databaseId),r=(function(o){return new aG(o)})(e.databaseInfo);return(function(o,a,u,f){return new fG(o,a,u,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,a,u){return new hG(r,i,o,a,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>fI(this.syncEngine,n,0)),(function(){return oI.v()?new oI:new rG})())}createSyncEngine(e,n){return(function(i,o,a,u,f,c,h){const y=new NG(i,o,a,u,f,c);return h&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=$e(i);Te(yl,"RemoteStore shutting down."),o.Ea.add(5),await Yd(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}_E.provider={build:()=>new _E};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ko("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="FirestoreClient";class jG{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Hn.UNAUTHENTICATED,this.clientId=YS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async a=>{Te(sa,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(Te(sa,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function n_(t,e){t.asyncQueue.verifyOperationInProgress(),Te(sa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Q2(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function hI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await YG(t);Te(sa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>aI(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>aI(e.remoteStore,i))),t._onlineComponents=e}async function YG(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(sa,"Using user provided OfflineComponentProvider");try{await n_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===le.FAILED_PRECONDITION||i.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ju("Error using user provided cache. Falling back to memory cache: "+n),await n_(t,new zm)}}else Te(sa,"Using default OfflineComponentProvider"),await n_(t,new KG(void 0));return t._offlineComponents}async function gL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(sa,"Using user provided OnlineComponentProvider"),await hI(t,t._uninitializedComponentsProvider._online)):(Te(sa,"Using default OnlineComponentProvider"),await hI(t,new _E))),t._onlineComponents}function WG(t){return gL(t).then((e=>e.syncEngine))}async function Gm(t){const e=await gL(t),n=e.eventManager;return n.onListen=DG.bind(null,e.syncEngine),n.onUnlisten=LG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=OG.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=UG.bind(null,e.syncEngine),n}function JG(t,e,n={}){const r=new qo;return t.asyncQueue.enqueueAndForget((async()=>(function(o,a,u,f,c){const h=new Tw({next:v=>{h.Nu(),a.enqueueAndForget((()=>mw(o,y)));const E=v.docs.has(u);!E&&v.fromCache?c.reject(new ve(le.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&v.fromCache&&f&&f.source==="server"?c.reject(new ve(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(v)},error:v=>c.reject(v)}),y=new yw(Gg(u.path),h,{includeMetadataChanges:!0,qa:!0});return pw(o,y)})(await Gm(t),t.asyncQueue,e,n,r))),r.promise}function XG(t,e,n={}){const r=new qo;return t.asyncQueue.enqueueAndForget((async()=>(function(o,a,u,f,c){const h=new Tw({next:v=>{h.Nu(),a.enqueueAndForget((()=>mw(o,y))),v.fromCache&&f.source==="server"?c.reject(new ve(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(v)},error:v=>c.reject(v)}),y=new yw(u,h,{includeMetadataChanges:!0,qa:!0});return pw(o,y)})(await Gm(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL="firestore.googleapis.com",mI=!0;class gI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vL,this.ssl=mI}else this.host=e.host,this.ssl=e.ssl??mI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=J2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<I8)throw new ve(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yL(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ty{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new iz;switch(r.type){case"firstParty":return new lz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=pI.get(n);r&&(Te("ComponentProvider","Removing Datastore"),pI.delete(n),r.terminate())})(this),Promise.resolve()}}function QG(t,e,n,r={}){var c;t=Nr(t,ty);const i=la(e),o=t._getSettings(),a={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(OS(`https://${u}`),kS("Firestore",!0)),o.host!==vL&&o.host!==u&&ju("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:u,ssl:i,emulatorOptions:r};if(!hl(f,a)&&(t._setSettings(f),r.mockUserToken)){let h,y;if(typeof r.mockUserToken=="string")h=r.mockUserToken,y=Hn.MOCK_USER;else{h=pk(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ve(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Hn(v)}t._authCredentials=new oz(new s2(h,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fa(this.firestore,e,this._query)}}class Yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Gd(n,Yt._jsonSchema))return new Yt(e,r||null,new Re(wt.fromString(n.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:tn("string",Yt._jsonSchemaVersion),referencePath:tn("string")};class Xs extends fa{constructor(e,n,r){super(e,n,Gg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new Re(e))}withConverter(e){return new Xs(this.firestore,e,this._path)}}function Za(t,e,...n){if(t=At(t),a2("collection","path",e),t instanceof ty){const r=wt.fromString(e,...n);return IR(r),new Xs(t,null,r)}{if(!(t instanceof Yt||t instanceof Xs))throw new ve(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return IR(r),new Xs(t.firestore,null,r)}}function Qs(t,e,...n){if(t=At(t),arguments.length===1&&(e=YS.newId()),a2("doc","path",e),t instanceof ty){const r=wt.fromString(e,...n);return RR(r),new Yt(t,null,new Re(r))}{if(!(t instanceof Yt||t instanceof Xs))throw new ve(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return RR(r),new Yt(t.firestore,t instanceof Xs?t.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="AsyncQueue";class vI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eL(this,"async_queue_retry"),this._c=()=>{const r=t_();r&&Te(yI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=t_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=t_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new qo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!gc(e))throw e;Te(yI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ko("INTERNAL UNHANDLED ERROR: ",_I(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=dw.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Ve(47125,{Pc:_I(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function _I(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}class Yo extends ty{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vI(e),this._firestoreClient=void 0,await e}}}function ZG(t,e){const n=typeof t=="object"?t:VS(),r=typeof t=="string"?t:Vm,i=Lg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=fk("firestore");o&&QG(i,...o)}return i}function Jd(t){if(t._terminated)throw new ve(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||e7(t),t._firestoreClient}function e7(t){var r,i,o;const e=t._freezeSettings(),n=(function(u,f,c,h){return new bz(u,f,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,yL(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new jG(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(u){const f=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ei(Un.fromBase64String(e))}catch(n){throw new ve(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ei(Un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gd(e,ei._jsonSchema))return ei.fromBase64String(e.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:tn("string",ei._jsonSchemaVersion),bytes:tn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(Gd(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:tn("string",Xi._jsonSchemaVersion),latitude:tn("number"),longitude:tn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gd(e,Qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Qi(e.vectorValues);throw new ve(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qi._jsonSchemaVersion="firestore/vectorValue/1.0",Qi._jsonSchema={type:tn("string",Qi._jsonSchemaVersion),vectorValues:tn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7=/^__.*__$/;class n7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ca(e,this.data,this.fieldMask,n,this.fieldTransforms):new Kd(e,this.data,n,this.fieldTransforms)}}class _L{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ca(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function TL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ac:t})}}class Ew{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ew({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Km(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(TL(this.Ac)&&t7.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class r7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qg(e)}Cc(e,n,r,i=!1){return new Ew({Ac:e,methodName:n,Dc:r,path:kn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ny(t){const e=t._freezeSettings(),n=Qg(t._databaseId);return new r7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function EL(t,e,n,r,i,o={}){const a=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);Aw("Data must be an object, but it was:",a,r);const u=AL(r,a);let f,c;if(o.merge)f=new Ir(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const h=[];for(const y of o.mergeFields){const v=TE(e,y,n);if(!a.contains(v))throw new ve(le.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);CL(h,v)||h.push(v)}f=new Ir(h),c=a.fieldTransforms.filter((y=>f.covers(y.field)))}else f=null,c=a.fieldTransforms;return new n7(new cr(u),f,c)}class ry extends Qd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ry}}class Sw extends Qd{_toFieldTransform(e){return new U2(e.path,new Ad)}isEqual(e){return e instanceof Sw}}class ww extends Qd{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new xd(e.serializer,N2(e.serializer,this.Fc));return new U2(e.path,n)}isEqual(e){return e instanceof ww&&this.Fc===e.Fc}}function SL(t,e,n,r){const i=t.Cc(1,e,n);Aw("Data must be an object, but it was:",i,r);const o=[],a=cr.empty();ua(r,((f,c)=>{const h=bw(e,f,n);c=At(c);const y=i.yc(h);if(c instanceof ry)o.push(h);else{const v=Zd(c,y);v!=null&&(o.push(h),a.set(h,v))}}));const u=new Ir(o);return new _L(a,u,i.fieldTransforms)}function wL(t,e,n,r,i,o){const a=t.Cc(1,e,n),u=[TE(e,r,n)],f=[i];if(o.length%2!=0)throw new ve(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)u.push(TE(e,o[v])),f.push(o[v+1]);const c=[],h=cr.empty();for(let v=u.length-1;v>=0;--v)if(!CL(c,u[v])){const E=u[v];let w=f[v];w=At(w);const A=a.yc(E);if(w instanceof ry)c.push(E);else{const C=Zd(w,A);C!=null&&(c.push(E),h.set(E,C))}}const y=new Ir(c);return new _L(h,y,a.fieldTransforms)}function i7(t,e,n,r=!1){return Zd(n,t.Cc(r?4:3,e))}function Zd(t,e){if(bL(t=At(t)))return Aw("Unsupported field value:",e,t),AL(t,e);if(t instanceof Qd)return(function(r,i){if(!TL(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let a=0;for(const u of r){let f=Zd(u,i.wc(a));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),a++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=At(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return N2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Rt.fromDate(r);return{timestampValue:Fm(i.serializer,o)}}if(r instanceof Rt){const o=new Rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fm(i.serializer,o)}}if(r instanceof Xi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ei)return{bytesValue:H2(i.serializer,r._byteString)};if(r instanceof Yt){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:rw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Qi)return(function(a,u){return{mapValue:{fields:{[g2]:{stringValue:y2},[Bm]:{arrayValue:{values:a.toArray().map((c=>{if(typeof c!="number")throw u.Sc("VectorValues must only contain numeric values.");return ew(u.serializer,c)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Fg(r)}`)})(t,e)}function AL(t,e){const n={};return c2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ua(t,((r,i)=>{const o=Zd(i,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function bL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rt||t instanceof Xi||t instanceof ei||t instanceof Yt||t instanceof Qd||t instanceof Qi)}function Aw(t,e,n){if(!bL(n)||!l2(n)){const r=Fg(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function TE(t,e,n){if((e=At(e))instanceof Xd)return e._internalPath;if(typeof e=="string")return bw(t,e);throw Km("Field path arguments must be of type string or ",t,!1,void 0,n)}const o7=new RegExp("[~\\*/\\[\\]]");function bw(t,e,n){if(e.search(o7)>=0)throw Km(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xd(...e.split("."))._internalPath}catch{throw Km(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Km(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||a)&&(f+=" (found",o&&(f+=` in field ${r}`),a&&(f+=` in document ${i}`),f+=")"),new ve(le.INVALID_ARGUMENT,u+t+f)}function CL(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class s7 extends xL{data(){return super.data()}}function Cw(t,e){return typeof e=="string"?bw(t,e):e instanceof Xd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xw{}class IL extends xw{}function Sm(t,e,...n){let r=[];e instanceof xw&&r.push(e),r=r.concat(n),(function(o){const a=o.filter((f=>f instanceof Iw)).length,u=o.filter((f=>f instanceof Rw)).length;if(a>1||a>0&&u>0)throw new ve(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Rw extends IL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Rw(e,n,r)}_apply(e){const n=this._parse(e);return PL(e._query,n),new fa(e.firestore,e.converter,uE(e._query,n))}_parse(e){const n=ny(e.firestore);return(function(o,a,u,f,c,h,y){let v;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ve(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){SI(y,h);const w=[];for(const A of y)w.push(EI(f,o,A));v={arrayValue:{values:w}}}else v=EI(f,o,y)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||SI(y,h),v=i7(u,a,y,h==="in"||h==="not-in");return en.create(c,h,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Iw extends xw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Iw(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:_i.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let a=i;const u=o.getFlattenedFilters();for(const f of u)PL(a,f),a=uE(a,f)})(e._query,n),new fa(e.firestore,e.converter,uE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pw extends IL{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Pw(e,n)}_apply(e){const n=(function(i,o,a){if(i.startAt!==null)throw new ve(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ve(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wd(o,a)})(e._query,this._field,this._direction);return new fa(e.firestore,e.converter,(function(i,o){const a=i.explicitOrderBy.concat([o]);return new yc(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function EE(t,e="asc"){const n=e,r=Cw("orderBy",t);return Pw._create(r,n)}function EI(t,e,n){if(typeof(n=At(n))=="string"){if(n==="")throw new ve(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!b2(e)&&n.indexOf("/")!==-1)throw new ve(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(wt.fromString(n));if(!Re.isDocumentKey(r))throw new ve(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return UR(t,new Re(r))}if(n instanceof Yt)return UR(t,n._key);throw new ve(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fg(n)}.`)}function SI(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PL(t,e){const n=(function(i,o){for(const a of i)for(const u of a.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class a7{convertValue(e,n="none"){switch(ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ua(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Bm].arrayValue)==null?void 0:i.values)==null?void 0:o.map((a=>jt(a.doubleValue)));return new Qi(n)}convertGeoPoint(e){return new Xi(jt(e.latitude),jt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Td(e));default:return null}}convertTimestamp(e){const n=na(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=wt.fromString(e);at(W2(r),9688,{name:e});const i=new Ed(r.get(1),r.get(3)),o=new Re(r.popFirst(5));return i.isEqual(n)||Ko(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class nd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ol extends xL{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Cw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ol._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ol._jsonSchemaVersion="firestore/documentSnapshot/1.0",ol._jsonSchema={type:tn("string",ol._jsonSchemaVersion),bundleSource:tn("string","DocumentSnapshot"),bundleName:tn("string"),bundle:tn("string")};class wm extends ol{data(e={}){return super.data(e)}}class sl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new nd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new wm(this._firestore,this._userDataWriter,r.key,r,new nd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((u=>{const f=new wm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new nd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const f=new wm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new nd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return u.type!==0&&(c=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),h=a.indexOf(u.doc.key)),{type:l7(u.type),doc:f,oldIndex:c,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=YS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function l7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){t=Nr(t,Yt);const e=Nr(t.firestore,Yo);return JG(Jd(e),t._key).then((n=>OL(e,t,n)))}sl._jsonSchemaVersion="firestore/querySnapshot/1.0",sl._jsonSchema={type:tn("string",sl._jsonSchemaVersion),bundleSource:tn("string","QuerySnapshot"),bundleName:tn("string"),bundle:tn("string")};class Mw extends a7{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function DL(t){t=Nr(t,fa);const e=Nr(t.firestore,Yo),n=Jd(e),r=new Mw(e);return RL(t._query),XG(n,t._query).then((i=>new sl(e,r,t,i)))}function Nw(t,e,n,...r){t=Nr(t,Yt);const i=Nr(t.firestore,Yo),o=ny(i);let a;return a=typeof(e=At(e))=="string"||e instanceof Xd?wL(o,"updateDoc",t._key,e,n,r):SL(o,"updateDoc",t._key,e),iy(i,[a.toMutation(t._key,dr.exists(!0))])}function wI(t){return iy(Nr(t.firestore,Yo),[new Jg(t._key,dr.none())])}function SE(t,e){const n=Nr(t.firestore,Yo),r=Qs(t),i=ML(t.converter,e);return iy(n,[EL(ny(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,dr.exists(!1))]).then((()=>r))}function wE(t,...e){var f,c,h;t=At(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||TI(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(TI(e[r])){const y=e[r];e[r]=(f=y.next)==null?void 0:f.bind(y),e[r+1]=(c=y.error)==null?void 0:c.bind(y),e[r+2]=(h=y.complete)==null?void 0:h.bind(y)}let o,a,u;if(t instanceof Yt)a=Nr(t.firestore,Yo),u=Gg(t._key.path),o={next:y=>{e[r]&&e[r](OL(a,t,y))},error:e[r+1],complete:e[r+2]};else{const y=Nr(t,fa);a=Nr(y.firestore,Yo),u=y._query;const v=new Mw(a);o={next:E=>{e[r]&&e[r](new sl(a,v,y,E))},error:e[r+1],complete:e[r+2]},RL(t._query)}return(function(v,E,w,A){const C=new Tw(A),R=new yw(E,C,w);return v.asyncQueue.enqueueAndForget((async()=>pw(await Gm(v),R))),()=>{C.Nu(),v.asyncQueue.enqueueAndForget((async()=>mw(await Gm(v),R)))}})(Jd(a),u,i,o)}function iy(t,e){return(function(r,i){const o=new qo;return r.asyncQueue.enqueueAndForget((async()=>VG(await WG(r),i,o))),o.promise})(Jd(t),e)}function OL(t,e,n){const r=n.docs.get(e._key),i=new Mw(t);return new ol(t,i,e._key,r,new nd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ny(e)}set(e,n,r){this._verifyNotCommitted();const i=r_(e,this._firestore),o=ML(i.converter,n,r),a=EL(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,dr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=r_(e,this._firestore);let a;return a=typeof(n=At(n))=="string"||n instanceof Xd?wL(this._dataReader,"WriteBatch.update",o._key,n,r,i):SL(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(a.toMutation(o._key,dr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=r_(e,this._firestore);return this._mutations=this._mutations.concat(new Jg(n._key,dr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ve(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function r_(t,e){if((t=At(t)).firestore!==e)throw new ve(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function fd(){return new Sw("serverTimestamp")}function c7(t){return new ww("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f7(t){return Jd(t=Nr(t,Yo)),new u7(t,(e=>iy(t,e)))}(function(e,n=!0){(function(i){pc=i})(bl),pl(new ea("firestore",((r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),u=new Yo(new sz(r.getProvider("auth-internal")),new uz(a,r.getProvider("app-check-internal")),(function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ve(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ed(c.options.projectId,h)})(a,i),a);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Ki(AR,bR,e),Ki(AR,bR,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL="firebasestorage.googleapis.com",LL="storageBucket",d7=120*1e3,h7=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht extends io{constructor(e,n,r=0){super(i_(e),`Firebase Storage: ${n} (${i_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ht.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return i_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $t;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($t||($t={}));function i_(t){return"storage/"+t}function Dw(){const t="An unknown error occurred, please check the error payload for server response.";return new Ht($t.UNKNOWN,t)}function p7(t){return new Ht($t.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function m7(t){return new Ht($t.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function g7(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ht($t.UNAUTHENTICATED,t)}function y7(){return new Ht($t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function v7(t){return new Ht($t.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function _7(){return new Ht($t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function T7(){return new Ht($t.CANCELED,"User canceled the upload/download.")}function E7(t){return new Ht($t.INVALID_URL,"Invalid URL '"+t+"'.")}function S7(t){return new Ht($t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function w7(){return new Ht($t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+LL+"' property when initializing the app?")}function A7(){return new Ht($t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function b7(){return new Ht($t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function C7(t){return new Ht($t.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function AE(t){return new Ht($t.INVALID_ARGUMENT,t)}function UL(){return new Ht($t.APP_DELETED,"The Firebase app was deleted.")}function x7(t){return new Ht($t.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function dd(t,e){return new Ht($t.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ff(t){throw new Ht($t.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Pr.makeFromUrl(e,n)}catch{return new Pr(e,"")}if(r.path==="")return r;throw S7(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(U){U.path.charAt(U.path.length-1)==="/"&&(U.path_=U.path_.slice(0,-1))}const a="(/(.*))?$",u=new RegExp("^gs://"+i+a,"i"),f={bucket:1,path:3};function c(U){U.path_=decodeURIComponent(U.path)}const h="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",E=new RegExp(`^https?://${y}/${h}/b/${i}/o${v}`,"i"),w={bucket:1,path:3},A=n===kL?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",R=new RegExp(`^https?://${A}/${i}/${C}`,"i"),M=[{regex:u,indices:f,postModify:o},{regex:E,indices:w,postModify:c},{regex:R,indices:{bucket:1,path:2},postModify:c}];for(let U=0;U<M.length;U++){const V=M[U],G=V.regex.exec(e);if(G){const O=G[V.indices.bucket];let k=G[V.indices.path];k||(k=""),r=new Pr(O,k),V.postModify(r);break}}if(r==null)throw E7(e);return r}}class R7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I7(t,e,n){let r=1,i=null,o=null,a=!1,u=0;function f(){return u===2}let c=!1;function h(...C){c||(c=!0,e.apply(null,C))}function y(C){i=setTimeout(()=>{i=null,t(E,f())},C)}function v(){o&&clearTimeout(o)}function E(C,...R){if(c){v();return}if(C){v(),h.call(null,C,...R);return}if(f()||a){v(),h.call(null,C,...R);return}r<64&&(r*=2);let M;u===1?(u=2,M=0):M=(r+Math.random())*1e3,y(M)}let w=!1;function A(C){w||(w=!0,v(),!c&&(i!==null?(C||(u=2),clearTimeout(i),y(0)):C||(u=1)))}return y(0),o=setTimeout(()=>{a=!0,A(!0)},n),A}function P7(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M7(t){return t!==void 0}function N7(t){return typeof t=="object"&&!Array.isArray(t)}function Ow(t){return typeof t=="string"||t instanceof String}function AI(t){return kw()&&t instanceof Blob}function kw(){return typeof Blob<"u"}function bI(t,e,n,r){if(r<e)throw AE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw AE(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function VL(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var al;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(al||(al={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D7(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e,n,r,i,o,a,u,f,c,h,y,v=!0,E=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=f,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=y,this.retry=v,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,A)=>{this.resolve_=w,this.reject_=A,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Kp(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=u=>{const f=u.loaded,c=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,c)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const u=o.getErrorCode()===al.NO_ERROR,f=o.getStatus();if(!u||D7(f,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===al.ABORT;r(!1,new Kp(!1,null,h));return}const c=this.successCodes_.indexOf(f)!==-1;r(!0,new Kp(c,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(u,u.getResponse());M7(f)?o(f):o()}catch(f){a(f)}else if(u!==null){const f=Dw();f.serverResponse=u.getErrorText(),this.errorCallback_?a(this.errorCallback_(u,f)):a(f)}else if(i.canceled){const f=this.appDelete_?UL():T7();a(f)}else{const f=_7();a(f)}};this.canceled_?n(!1,new Kp(!1,null,!0)):this.backoffId_=I7(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&P7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Kp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function k7(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function L7(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function U7(t,e){e&&(t["X-Firebase-GMPID"]=e)}function V7(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function B7(t,e,n,r,i,o,a=!0,u=!1){const f=VL(t.urlParams),c=t.url+f,h=Object.assign({},t.headers);return U7(h,e),k7(h,n),L7(h,o),V7(h,r),new O7(c,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function F7(...t){const e=q7();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(kw())return new Blob(t);throw new Ht($t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function $7(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H7(t){if(typeof atob>"u")throw C7("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class o_{constructor(e,n){this.data=e,this.contentType=n||null}}function BL(t,e){switch(t){case yi.RAW:return new o_(qL(e));case yi.BASE64:case yi.BASE64URL:return new o_(FL(t,e));case yi.DATA_URL:return new o_(G7(e),K7(e))}throw Dw()}function qL(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,a=t.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function z7(t){let e;try{e=decodeURIComponent(t)}catch{throw dd(yi.DATA_URL,"Malformed data URL.")}return qL(e)}function FL(t,e){switch(t){case yi.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw dd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case yi.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw dd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=H7(e)}catch(i){throw i.message.includes("polyfill")?i:dd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class $L{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw dd(yi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=j7(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function G7(t){const e=new $L(t);return e.base64?FL(yi.BASE64,e.rest):z7(e.rest)}function K7(t){return new $L(t).contentType}function j7(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n){let r=0,i="";AI(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(AI(this.data_)){const r=this.data_,i=$7(r,e,n);return i===null?null:new Hs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Hs(r,!0)}}static getBlob(...e){if(kw()){const n=e.map(r=>r instanceof Hs?r.data_:r);return new Hs(F7.apply(null,n))}else{const n=e.map(a=>Ow(a)?BL(yi.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(a=>{for(let u=0;u<a.length;u++)i[o++]=a[u]}),new Hs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t){let e;try{e=JSON.parse(t)}catch{return null}return N7(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y7(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function W7(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function zL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J7(t,e){return e}class tr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||J7}}let jp=null;function X7(t){return!Ow(t)||t.length<2?t:zL(t)}function GL(){if(jp)return jp;const t=[];t.push(new tr("bucket")),t.push(new tr("generation")),t.push(new tr("metageneration")),t.push(new tr("name","fullPath",!0));function e(o,a){return X7(a)}const n=new tr("name");n.xform=e,t.push(n);function r(o,a){return a!==void 0?Number(a):a}const i=new tr("size");return i.xform=r,t.push(i),t.push(new tr("timeCreated")),t.push(new tr("updated")),t.push(new tr("md5Hash",null,!0)),t.push(new tr("cacheControl",null,!0)),t.push(new tr("contentDisposition",null,!0)),t.push(new tr("contentEncoding",null,!0)),t.push(new tr("contentLanguage",null,!0)),t.push(new tr("contentType",null,!0)),t.push(new tr("metadata","customMetadata",!0)),jp=t,jp}function Q7(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Pr(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function Z7(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const a=n[o];r[a.local]=a.xform(r,e[a.server])}return Q7(r,t),r}function KL(t,e,n){const r=HL(e);return r===null?null:Z7(t,r,n)}function eK(t,e,n,r){const i=HL(e);if(i===null||!Ow(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(c=>{const h=t.bucket,y=t.fullPath,v="/b/"+a(h)+"/o/"+a(y),E=Lw(v,n,r),w=VL({alt:"media",token:c});return E+w})[0]}function tK(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class jL{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(t){if(!t)throw Dw()}function nK(t,e){function n(r,i){const o=KL(t,i,e);return YL(o!==null),o}return n}function rK(t,e){function n(r,i){const o=KL(t,i,e);return YL(o!==null),eK(o,i,t.host,t._protocol)}return n}function WL(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=y7():i=g7():n.getStatus()===402?i=m7(t.bucket):n.getStatus()===403?i=v7(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function iK(t){const e=WL(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=p7(t.path)),o.serverResponse=i.serverResponse,o}return n}function oK(t,e,n){const r=e.fullServerUrl(),i=Lw(r,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,u=new jL(i,o,rK(t,n),a);return u.errorHandler=iK(e),u}function sK(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function aK(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=sK(null,e)),r}function lK(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function u(){let M="";for(let U=0;U<2;U++)M=M+Math.random().toString().slice(2);return M}const f=u();a["Content-Type"]="multipart/related; boundary="+f;const c=aK(e,r,i),h=tK(c,n),y="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+f+`\r
Content-Type: `+c.contentType+`\r
\r
`,v=`\r
--`+f+"--",E=Hs.getBlob(y,r,v);if(E===null)throw A7();const w={name:c.fullPath},A=Lw(o,t.host,t._protocol),C="POST",R=t.maxUploadRetryTime,N=new jL(A,C,nK(t,n),R);return N.urlParams=w,N.headers=a,N.body=E.uploadData(),N.errorHandler=WL(e),N}class uK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=al.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=al.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=al.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw Ff("cannot .send() more than once");if(la(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const a in o)o.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,o[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ff("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ff("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ff("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ff("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class cK extends uK{initXhr(){this.xhr_.responseType="text"}}function JL(){return new cK}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n){this._service=e,n instanceof Pr?this._location=n:this._location=Pr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new vl(e,n)}get root(){const e=new Pr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zL(this._location.path)}get storage(){return this._service}get parent(){const e=Y7(this._location.path);if(e===null)return null;const n=new Pr(this._location.bucket,e);return new vl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw x7(e)}}function fK(t,e,n){t._throwIfRoot("uploadBytes");const r=lK(t.storage,t._location,GL(),new Hs(e,!0),n);return t.storage.makeRequestWithTokens(r,JL).then(i=>({metadata:i,ref:t}))}function dK(t,e,n=yi.RAW,r){t._throwIfRoot("uploadString");const i=BL(n,e),o={...r};return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),fK(t,i.data,o)}function hK(t){t._throwIfRoot("getDownloadURL");const e=oK(t.storage,t._location,GL());return t.storage.makeRequestWithTokens(e,JL).then(n=>{if(n===null)throw b7();return n})}function pK(t,e){const n=W7(t._location.path,e),r=new Pr(t._location.bucket,n);return new vl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mK(t){return/^[A-Za-z]+:\/\//.test(t)}function gK(t,e){return new vl(t,e)}function XL(t,e){if(t instanceof Uw){const n=t;if(n._bucket==null)throw w7();const r=new vl(n,n._bucket);return e!=null?XL(r,e):r}else return e!==void 0?pK(t,e):t}function yK(t,e){if(e&&mK(e)){if(t instanceof Uw)return gK(t,e);throw AE("To use ref(service, url), the first argument must be a Storage instance.")}else return XL(t,e)}function CI(t,e){const n=e==null?void 0:e[LL];return n==null?null:Pr.makeFromBucketSpec(n,t)}function vK(t,e,n,r={}){t.host=`${e}:${n}`;const i=la(e);i&&(OS(`https://${t.host}/b`),kS("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:pk(o,t.app.options.projectId))}class Uw{constructor(e,n,r,i,o,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=a,this._bucket=null,this._host=kL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=d7,this._maxUploadRetryTime=h7,this._requests=new Set,i!=null?this._bucket=Pr.makeFromBucketSpec(i,this._host):this._bucket=CI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Pr.makeFromBucketSpec(this._url,e):this._bucket=CI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new vl(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new R7(UL());{const a=B7(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const xI="@firebase/storage",RI="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL="storage";function _K(t,e,n,r){return t=At(t),dK(t,e,n,r)}function TK(t){return t=At(t),hK(t)}function EK(t,e){return t=At(t),yK(t,e)}function SK(t=VS(),e){t=At(t);const r=Lg(t,QL).getImmediate({identifier:e}),i=fk("storage");return i&&wK(r,...i),r}function wK(t,e,n,r={}){vK(t,e,n,r)}function AK(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Uw(n,r,i,e,bl)}function bK(){pl(new ea(QL,AK,"PUBLIC").setMultipleInstances(!0)),Ki(xI,RI,""),Ki(xI,RI,"esm2020")}bK();const CK={apiKey:"AIzaSyCZh_PwX7LZfXujZiHGH9T-8uA17hNQGBY",authDomain:"bkomhate-site.firebaseapp.com",projectId:"bkomhate-site",storageBucket:"bkomhate-site.appspot.com",messagingSenderId:"37549082348",appId:"1:37549082348:web:cf0c6c4f504b40192887c9"},Vw=yk(CK),hd=nz(Vw),ar=ZG(Vw),xK=SK(Vw),ZL=P.createContext({currentUser:null,loading:!0}),RK=()=>P.useContext(ZL),IK=({children:t})=>{const[e,n]=P.useState(null),[r,i]=P.useState(!0);P.useEffect(()=>z$(hd,u=>{n(u),i(!1)}),[]);const o={currentUser:e,loading:r};return q.jsx(ZL.Provider,{value:o,children:t})};function eU(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=eU(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function It(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=eU(t))&&(r&&(r+=" "),r+=e);return r}var s_={},a_={},II;function PK(){return II||(II=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(a_)),a_}var l_={},PI;function tU(){return PI||(PI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(l_)),l_}var u_={},MI;function nU(){return MI||(MI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(u_)),u_}var c_={},NI;function Bw(){return NI||(NI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let o=0,a="",u="",f=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<i;){const c=n[o];u?c==="\\"&&o+1<i?(o++,a+=n[o]):c===u?u="":a+=c:f?c==='"'||c==="'"?u=c:c==="]"?(f=!1,r.push(a),a=""):a+=c:c==="["?(f=!0,a&&(r.push(a),a="")):c==="."?a&&(r.push(a),a=""):a+=c,o++}return a&&r.push(a),r}t.toPath=e})(c_)),c_}var DI;function qw(){return DI||(DI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PK(),n=tU(),r=nU(),i=Bw();function o(u,f,c){if(u==null)return c;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return c;const h=u[f];return h===void 0?n.isDeepKey(f)?o(u,i.toPath(f),c):c:h}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const h=u[f];return h===void 0?c:h}default:{if(Array.isArray(f))return a(u,f,c);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return c;const h=u[f];return h===void 0?c:h}}}function a(u,f,c){if(f.length===0)return c;let h=u;for(let y=0;y<f.length;y++){if(h==null||e.isUnsafeProperty(f[y]))return c;h=h[f[y]]}return h===void 0?c:h}t.get=o})(s_)),s_}var f_,OI;function MK(){return OI||(OI=1,f_=qw().get),f_}var NK=MK();const _l=Ei(NK);var d_={exports:{}},vt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kI;function DK(){if(kI)return vt;kI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),E=Symbol.for("react.client.reference");function w(A){if(typeof A=="object"&&A!==null){var C=A.$$typeof;switch(C){case t:switch(A=A.type,A){case n:case i:case r:case f:case c:case v:return A;default:switch(A=A&&A.$$typeof,A){case a:case u:case y:case h:return A;case o:return A;default:return C}}case e:return C}}}return vt.ContextConsumer=o,vt.ContextProvider=a,vt.Element=t,vt.ForwardRef=u,vt.Fragment=n,vt.Lazy=y,vt.Memo=h,vt.Portal=e,vt.Profiler=i,vt.StrictMode=r,vt.Suspense=f,vt.SuspenseList=c,vt.isContextConsumer=function(A){return w(A)===o},vt.isContextProvider=function(A){return w(A)===a},vt.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===t},vt.isForwardRef=function(A){return w(A)===u},vt.isFragment=function(A){return w(A)===n},vt.isLazy=function(A){return w(A)===y},vt.isMemo=function(A){return w(A)===h},vt.isPortal=function(A){return w(A)===e},vt.isProfiler=function(A){return w(A)===i},vt.isStrictMode=function(A){return w(A)===r},vt.isSuspense=function(A){return w(A)===f},vt.isSuspenseList=function(A){return w(A)===c},vt.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===i||A===r||A===f||A===c||typeof A=="object"&&A!==null&&(A.$$typeof===y||A.$$typeof===h||A.$$typeof===a||A.$$typeof===o||A.$$typeof===u||A.$$typeof===E||A.getModuleId!==void 0)},vt.typeOf=w,vt}var LI;function OK(){return LI||(LI=1,d_.exports=DK()),d_.exports}var kK=OK(),Mr=t=>t===0?0:t>0?1:-1,ii=t=>typeof t=="number"&&t!=+t,tl=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,xe=t=>(typeof t=="number"||t instanceof Number)&&!ii(t),to=t=>xe(t)||typeof t=="string",LK=0,Rd=t=>{var e=++LK;return"".concat(t||"").concat(e)},Ti=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xe(e)&&typeof e!="string")return r;var o;if(tl(e)){if(n==null)return r;var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return ii(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},rU=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Cu(t,e,n){return xe(t)&&xe(e)?t+n*(e-t):e}function UK(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):_l(r,e))===n)}var dn=t=>t===null||typeof t>"u",eh=t=>dn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),VK=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Fw(t){if(typeof t!="string")return!1;var e=VK;return e.includes(t)}var BK=["viewBox","children"],UI=["points","pathLength"],h_={svg:BK,polygon:UI,polyline:UI},qK=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(P.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Fw(i)&&(r[i]=(o=>n[i](n,o)))}),r},FK=(t,e,n)=>r=>(t(e,n,r),null),$w=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];Fw(i)&&typeof o=="function"&&(r||(r={}),r[i]=FK(o,e,n))}),r},$K=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function iU(t){if(typeof t!="string")return!1;var e=$K;return e.includes(t)}function oy(t){var e=Object.entries(t).filter(n=>{var[r]=n;return iU(r)});return Object.fromEntries(e)}var VI=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",BI=null,p_=null,oU=t=>{if(t===BI&&Array.isArray(p_))return p_;var e=[];return P.Children.forEach(t,n=>{dn(n)||(kK.isFragment(n)?e=e.concat(oU(n.props.children)):e.push(n))}),p_=e,BI=t,e};function Hw(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>VI(i)):r=[VI(e)],oU(t).forEach(i=>{var o=_l(i,"type.displayName")||_l(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}var HK=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var o=(i=r&&(h_==null?void 0:h_[r]))!==null&&i!==void 0?i:[],a=e.startsWith("data-"),u=typeof t!="function"&&(!!r&&o.includes(e)||iU(e)),f=!!n&&Fw(e);return a||u||f},wn=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(P.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(o=>{var a;HK((a=r)===null||a===void 0?void 0:a[o],o,e,n)&&(i[o]=r[o])}),i},zK=["children","width","height","viewBox","className","style","title","desc"];function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bE.apply(null,arguments)}function GK(t,e){if(t==null)return{};var n,r,i=KK(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function KK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sU=P.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:a,style:u,title:f,desc:c}=t,h=GK(t,zK),y=o||{width:r,height:i,x:0,y:0},v=It("recharts-surface",a);return P.createElement("svg",bE({},wn(h,!0,"svg"),{className:v,width:r,height:i,style:u,viewBox:"".concat(y.x," ").concat(y.y," ").concat(y.width," ").concat(y.height),ref:e}),P.createElement("title",null,f),P.createElement("desc",null,c),n)}),jK=["children","className"];function CE(){return CE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CE.apply(null,arguments)}function YK(t,e){if(t==null)return{};var n,r,i=WK(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function WK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var aa=P.forwardRef((t,e)=>{var{children:n,className:r}=t,i=YK(t,jK),o=It("recharts-layer",r);return P.createElement("g",CE({className:o},wn(i,!0),{ref:e}),n)}),JK=P.createContext(null);function St(t){return function(){return t}}const aU=Math.cos,jm=Math.sin,Ai=Math.sqrt,Ym=Math.PI,sy=2*Ym,xE=Math.PI,RE=2*xE,Ja=1e-6,XK=RE-Ja;function lU(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function QK(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return lU;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class ZK{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?lU:QK(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,u=this._y1,f=r-e,c=i-n,h=a-e,y=u-n,v=h*h+y*y;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>Ja)if(!(Math.abs(y*f-c*h)>Ja)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let E=r-a,w=i-u,A=f*f+c*c,C=E*E+w*w,R=Math.sqrt(A),N=Math.sqrt(v),M=o*Math.tan((xE-Math.acos((A+v-C)/(2*R*N)))/2),U=M/N,V=M/R;Math.abs(U-1)>Ja&&this._append`L${e+U*h},${n+U*y}`,this._append`A${o},${o},0,0,${+(y*E>h*w)},${this._x1=e+V*f},${this._y1=n+V*c}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),c=e+u,h=n+f,y=1^a,v=a?i-o:o-i;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>Ja||Math.abs(this._y1-h)>Ja)&&this._append`L${c},${h}`,r&&(v<0&&(v=v%RE+RE),v>XK?this._append`A${r},${r},0,1,${y},${e-u},${n-f}A${r},${r},0,1,${y},${this._x1=c},${this._y1=h}`:v>Ja&&this._append`A${r},${r},0,${+(v>=xE)},${y},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function zw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new ZK(e)}function Gw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function uU(t){this._context=t}uU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ay(t){return new uU(t)}function cU(t){return t[0]}function fU(t){return t[1]}function dU(t,e){var n=St(!0),r=null,i=ay,o=null,a=zw(u);t=typeof t=="function"?t:t===void 0?cU:St(t),e=typeof e=="function"?e:e===void 0?fU:St(e);function u(f){var c,h=(f=Gw(f)).length,y,v=!1,E;for(r==null&&(o=i(E=a())),c=0;c<=h;++c)!(c<h&&n(y=f[c],c,f))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+t(y,c,f),+e(y,c,f));if(E)return o=null,E+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:St(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:St(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:St(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),u):r},u}function Yp(t,e,n){var r=null,i=St(!0),o=null,a=ay,u=null,f=zw(c);t=typeof t=="function"?t:t===void 0?cU:St(+t),e=typeof e=="function"?e:St(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?fU:St(+n);function c(y){var v,E,w,A=(y=Gw(y)).length,C,R=!1,N,M=new Array(A),U=new Array(A);for(o==null&&(u=a(N=f())),v=0;v<=A;++v){if(!(v<A&&i(C=y[v],v,y))===R)if(R=!R)E=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=v-1;w>=E;--w)u.point(M[w],U[w]);u.lineEnd(),u.areaEnd()}R&&(M[v]=+t(C,v,y),U[v]=+e(C,v,y),u.point(r?+r(C,v,y):M[v],n?+n(C,v,y):U[v]))}if(N)return u=null,N+""||null}function h(){return dU().defined(i).curve(a).context(o)}return c.x=function(y){return arguments.length?(t=typeof y=="function"?y:St(+y),r=null,c):t},c.x0=function(y){return arguments.length?(t=typeof y=="function"?y:St(+y),c):t},c.x1=function(y){return arguments.length?(r=y==null?null:typeof y=="function"?y:St(+y),c):r},c.y=function(y){return arguments.length?(e=typeof y=="function"?y:St(+y),n=null,c):e},c.y0=function(y){return arguments.length?(e=typeof y=="function"?y:St(+y),c):e},c.y1=function(y){return arguments.length?(n=y==null?null:typeof y=="function"?y:St(+y),c):n},c.lineX0=c.lineY0=function(){return h().x(t).y(e)},c.lineY1=function(){return h().x(t).y(n)},c.lineX1=function(){return h().x(r).y(e)},c.defined=function(y){return arguments.length?(i=typeof y=="function"?y:St(!!y),c):i},c.curve=function(y){return arguments.length?(a=y,o!=null&&(u=a(o)),c):a},c.context=function(y){return arguments.length?(y==null?o=u=null:u=a(o=y),c):o},c}class hU{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function ej(t){return new hU(t,!0)}function tj(t){return new hU(t,!1)}const Kw={draw(t,e){const n=Ai(e/Ym);t.moveTo(n,0),t.arc(0,0,n,0,sy)}},nj={draw(t,e){const n=Ai(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},pU=Ai(1/3),rj=pU*2,ij={draw(t,e){const n=Ai(e/rj),r=n*pU;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},oj={draw(t,e){const n=Ai(e),r=-n/2;t.rect(r,r,n,n)}},sj=.8908130915292852,mU=jm(Ym/10)/jm(7*Ym/10),aj=jm(sy/10)*mU,lj=-aU(sy/10)*mU,uj={draw(t,e){const n=Ai(e*sj),r=aj*n,i=lj*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=sy*o/5,u=aU(a),f=jm(a);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},m_=Ai(3),cj={draw(t,e){const n=-Ai(e/(m_*3));t.moveTo(0,n*2),t.lineTo(-m_*n,-n),t.lineTo(m_*n,-n),t.closePath()}},Wr=-.5,Jr=Ai(3)/2,IE=1/Ai(12),fj=(IE/2+1)*3,dj={draw(t,e){const n=Ai(e/fj),r=n/2,i=n*IE,o=r,a=n*IE+n,u=-o,f=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,f),t.lineTo(Wr*r-Jr*i,Jr*r+Wr*i),t.lineTo(Wr*o-Jr*a,Jr*o+Wr*a),t.lineTo(Wr*u-Jr*f,Jr*u+Wr*f),t.lineTo(Wr*r+Jr*i,Wr*i-Jr*r),t.lineTo(Wr*o+Jr*a,Wr*a-Jr*o),t.lineTo(Wr*u+Jr*f,Wr*f-Jr*u),t.closePath()}};function hj(t,e){let n=null,r=zw(i);t=typeof t=="function"?t:St(t||Kw),e=typeof e=="function"?e:St(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:St(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:St(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Wm(){}function Jm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function gU(t){this._context=t}gU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pj(t){return new gU(t)}function yU(t){this._context=t}yU.prototype={areaStart:Wm,areaEnd:Wm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Jm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mj(t){return new yU(t)}function vU(t){this._context=t}vU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Jm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function gj(t){return new vU(t)}function _U(t){this._context=t}_U.prototype={areaStart:Wm,areaEnd:Wm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function yj(t){return new _U(t)}function qI(t){return t<0?-1:1}function FI(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(qI(o)+qI(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function $I(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function g_(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,a-u*n,o,a)}function Xm(t){this._context=t}Xm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:g_(this,this._t0,$I(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,g_(this,$I(this,n=FI(this,t,e)),n);break;default:g_(this,this._t0,n=FI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function TU(t){this._context=new EU(t)}(TU.prototype=Object.create(Xm.prototype)).point=function(t,e){Xm.prototype.point.call(this,e,t)};function EU(t){this._context=t}EU.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function vj(t){return new Xm(t)}function _j(t){return new TU(t)}function SU(t){this._context=t}SU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=HI(t),i=HI(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function HI(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Tj(t){return new SU(t)}function ly(t,e){this._context=t,this._t=e}ly.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Ej(t){return new ly(t,.5)}function Sj(t){return new ly(t,0)}function wj(t){return new ly(t,1)}function Zu(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,u=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function PE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Aj(t,e){return t[e]}function bj(t){const e=[];return e.key=t,e}function Cj(){var t=St([]),e=PE,n=Zu,r=Aj;function i(o){var a=Array.from(t.apply(this,arguments),bj),u,f=a.length,c=-1,h;for(const y of o)for(u=0,++c;u<f;++u)(a[u][c]=[0,+r(y,a[u].key,c,o)]).data=y;for(u=0,h=Gw(e(a));u<f;++u)a[h[u]].index=u;return n(a,h),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:St(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:St(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?PE:typeof o=="function"?o:St(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Zu,i):n},i}function xj(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Zu(t,e)}}function Rj(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,u=0;a<i;++a)u+=t[a][n][1]||0;r[n][1]+=r[n][0]=-u/2}Zu(t,e)}}function Ij(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var u=0,f=0,c=0;u<a;++u){for(var h=t[e[u]],y=h[r][1]||0,v=h[r-1][1]||0,E=(y-v)/2,w=0;w<u;++w){var A=t[e[w]],C=A[r][1]||0,R=A[r-1][1]||0;E+=C-R}f+=y,c+=E*y}i[r-1][1]+=i[r-1][0]=n,f&&(n-=c/f)}i[r-1][1]+=i[r-1][0]=n,Zu(t,e)}}var Pj=["type","size","sizeType"];function ME(){return ME=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ME.apply(null,arguments)}function zI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(n),!0).forEach(function(r){Mj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mj(t,e,n){return(e=Nj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nj(t){var e=Dj(t,"string");return typeof e=="symbol"?e:e+""}function Dj(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oj(t,e){if(t==null)return{};var n,r,i=kj(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kj(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wU={symbolCircle:Kw,symbolCross:nj,symbolDiamond:ij,symbolSquare:oj,symbolStar:uj,symbolTriangle:cj,symbolWye:dj},Lj=Math.PI/180,Uj=t=>{var e="symbol".concat(eh(t));return wU[e]||Kw},Vj=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Lj;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Bj=(t,e)=>{wU["symbol".concat(eh(t))]=e},AU=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Oj(t,Pj),o=GI(GI({},i),{},{type:e,size:n,sizeType:r}),a=()=>{var y=Uj(e),v=hj().type(y).size(Vj(n,r,e));return v()},{className:u,cx:f,cy:c}=o,h=wn(o,!0);return f===+f&&c===+c&&n===+n?P.createElement("path",ME({},h,{className:It("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(c,")"),d:a()})):null};AU.registerSymbol=Bj;var y_={},v_={},KI;function qj(){return KI||(KI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const a=n[o],u=r(a);i.has(u)||i.set(u,a)}return Array.from(i.values())}t.uniqBy=e})(v_)),v_}var __={},jI;function bU(){return jI||(jI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(__)),__}var T_={},E_={},S_={},YI;function Fj(){return YI||(YI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(S_)),S_}var WI;function jw(){return WI||(WI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fj();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(E_)),E_}var w_={},JI;function $j(){return JI||(JI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(w_)),w_}var XI;function Hj(){return XI||(XI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jw(),n=$j();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(T_)),T_}var A_={},b_={},QI;function zj(){return QI||(QI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qw();function n(r){return function(i){return e.get(i,r)}}t.property=n})(b_)),b_}var C_={},x_={},R_={},I_={},ZI;function CU(){return ZI||(ZI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(I_)),I_}var P_={},eP;function xU(){return eP||(eP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(P_)),P_}var M_={},tP;function Yw(){return tP||(tP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(M_)),M_}var nP;function Gj(){return nP||(nP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ww(),n=CU(),r=xU(),i=Yw();function o(y,v,E){return typeof E!="function"?e.isMatch(y,v):a(y,v,function w(A,C,R,N,M,U){const V=E(A,C,R,N,M,U);return V!==void 0?!!V:a(A,C,w,U)},new Map)}function a(y,v,E,w){if(v===y)return!0;switch(typeof v){case"object":return u(y,v,E,w);case"function":return Object.keys(v).length>0?a(y,{...v},E,w):i.eq(y,v);default:return n.isObject(y)?typeof v=="string"?v==="":!0:i.eq(y,v)}}function u(y,v,E,w){if(v==null)return!0;if(Array.isArray(v))return c(y,v,E,w);if(v instanceof Map)return f(y,v,E,w);if(v instanceof Set)return h(y,v,E,w);const A=Object.keys(v);if(y==null)return A.length===0;if(A.length===0)return!0;if(w&&w.has(v))return w.get(v)===y;w&&w.set(v,y);try{for(let C=0;C<A.length;C++){const R=A[C];if(!r.isPrimitive(y)&&!(R in y)||v[R]===void 0&&y[R]!==void 0||v[R]===null&&y[R]!==null||!E(y[R],v[R],R,y,v,w))return!1}return!0}finally{w&&w.delete(v)}}function f(y,v,E,w){if(v.size===0)return!0;if(!(y instanceof Map))return!1;for(const[A,C]of v.entries()){const R=y.get(A);if(E(R,C,A,y,v,w)===!1)return!1}return!0}function c(y,v,E,w){if(v.length===0)return!0;if(!Array.isArray(y))return!1;const A=new Set;for(let C=0;C<v.length;C++){const R=v[C];let N=!1;for(let M=0;M<y.length;M++){if(A.has(M))continue;const U=y[M];let V=!1;if(E(U,R,C,y,v,w)&&(V=!0),V){A.add(M),N=!0;break}}if(!N)return!1}return!0}function h(y,v,E,w){return v.size===0?!0:y instanceof Set?c([...y],[...v],E,w):!1}t.isMatchWith=o,t.isSetMatch=h})(R_)),R_}var rP;function Ww(){return rP||(rP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gj();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(x_)),x_}var N_={},D_={},O_={},iP;function RU(){return iP||(iP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(O_)),O_}var k_={},oP;function Jw(){return oP||(oP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(k_)),k_}var L_={},sP;function Xw(){return sP||(sP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",a="[object Symbol]",u="[object Date]",f="[object Map]",c="[object Set]",h="[object Array]",y="[object Function]",v="[object ArrayBuffer]",E="[object Object]",w="[object Error]",A="[object DataView]",C="[object Uint8Array]",R="[object Uint8ClampedArray]",N="[object Uint16Array]",M="[object Uint32Array]",U="[object BigUint64Array]",V="[object Int8Array]",G="[object Int16Array]",O="[object Int32Array]",k="[object BigInt64Array]",D="[object Float32Array]",$="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=v,t.arrayTag=h,t.bigInt64ArrayTag=k,t.bigUint64ArrayTag=U,t.booleanTag=i,t.dataViewTag=A,t.dateTag=u,t.errorTag=w,t.float32ArrayTag=D,t.float64ArrayTag=$,t.functionTag=y,t.int16ArrayTag=G,t.int32ArrayTag=O,t.int8ArrayTag=V,t.mapTag=f,t.numberTag=r,t.objectTag=E,t.regexpTag=e,t.setTag=c,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=N,t.uint32ArrayTag=M,t.uint8ArrayTag=C,t.uint8ClampedArrayTag=R})(L_)),L_}var U_={},aP;function Kj(){return aP||(aP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(U_)),U_}var lP;function IU(){return lP||(lP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RU(),n=Jw(),r=Xw(),i=xU(),o=Kj();function a(h,y){return u(h,void 0,h,new Map,y)}function u(h,y,v,E=new Map,w=void 0){const A=w==null?void 0:w(h,y,v,E);if(A!==void 0)return A;if(i.isPrimitive(h))return h;if(E.has(h))return E.get(h);if(Array.isArray(h)){const C=new Array(h.length);E.set(h,C);for(let R=0;R<h.length;R++)C[R]=u(h[R],R,v,E,w);return Object.hasOwn(h,"index")&&(C.index=h.index),Object.hasOwn(h,"input")&&(C.input=h.input),C}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const C=new RegExp(h.source,h.flags);return C.lastIndex=h.lastIndex,C}if(h instanceof Map){const C=new Map;E.set(h,C);for(const[R,N]of h)C.set(R,u(N,R,v,E,w));return C}if(h instanceof Set){const C=new Set;E.set(h,C);for(const R of h)C.add(u(R,void 0,v,E,w));return C}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const C=new(Object.getPrototypeOf(h)).constructor(h.length);E.set(h,C);for(let R=0;R<h.length;R++)C[R]=u(h[R],R,v,E,w);return C}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const C=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return E.set(h,C),f(C,h,v,E,w),C}if(typeof File<"u"&&h instanceof File){const C=new File([h],h.name,{type:h.type});return E.set(h,C),f(C,h,v,E,w),C}if(h instanceof Blob){const C=new Blob([h],{type:h.type});return E.set(h,C),f(C,h,v,E,w),C}if(h instanceof Error){const C=new h.constructor;return E.set(h,C),C.message=h.message,C.name=h.name,C.stack=h.stack,C.cause=h.cause,f(C,h,v,E,w),C}if(typeof h=="object"&&c(h)){const C=Object.create(Object.getPrototypeOf(h));return E.set(h,C),f(C,h,v,E,w),C}return h}function f(h,y,v=h,E,w){const A=[...Object.keys(y),...e.getSymbols(y)];for(let C=0;C<A.length;C++){const R=A[C],N=Object.getOwnPropertyDescriptor(h,R);(N==null||N.writable)&&(h[R]=u(y[R],R,v,E,w))}}function c(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=u,t.copyProperties=f})(D_)),D_}var uP;function jj(){return uP||(uP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IU();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(N_)),N_}var cP;function Yj(){return cP||(cP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ww(),n=jj();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(C_)),C_}var V_={},B_={},q_={},fP;function Wj(){return fP||(fP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IU(),n=Xw();function r(i,o){return e.cloneDeepWith(i,(a,u,f,c)=>{const h=o==null?void 0:o(a,u,f,c);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const y=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(y,i),y}case n.argumentsTag:{const y={};return e.copyProperties(y,i),y.length=i.length,y[Symbol.iterator]=i[Symbol.iterator],y}default:return}})}t.cloneDeepWith=r})(q_)),q_}var dP;function Jj(){return dP||(dP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Wj();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(B_)),B_}var F_={},$_={},hP;function PU(){return hP||(hP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})($_)),$_}var H_={},pP;function Xj(){return pP||(pP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Jw();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(H_)),H_}var mP;function Qj(){return mP||(mP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tU(),n=PU(),r=Xj(),i=Bw();function o(a,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&e.isDeepKey(u)&&(a==null?void 0:a[u])==null?f=i.toPath(u):f=[u],f.length===0)return!1;let c=a;for(let h=0;h<f.length;h++){const y=f[h];if((c==null||!Object.hasOwn(c,y))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(y)&&y<c.length))return!1;c=c[y]}return!0}t.has=o})(F_)),F_}var gP;function Zj(){return gP||(gP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ww(),n=nU(),r=Jj(),i=qw(),o=Qj();function a(u,f){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(c){const h=i.get(c,u);return h===void 0?o.has(c,u):f===void 0?h===void 0:e.isMatch(h,f)}}t.matchesProperty=a})(V_)),V_}var yP;function eY(){return yP||(yP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bU(),n=zj(),r=Yj(),i=Zj();function o(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=o})(A_)),A_}var vP;function tY(){return vP||(vP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qj(),n=bU(),r=Hj(),i=eY();function o(a,u=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(u)):[]}t.uniqBy=o})(y_)),y_}var z_,_P;function nY(){return _P||(_P=1,z_=tY().uniqBy),z_}var rY=nY();const TP=Ei(rY);function iY(t,e,n){return e===!0?TP(t,n):typeof e=="function"?TP(t,e):t}var G_={exports:{}},K_={},j_={exports:{}},Y_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EP;function oY(){if(EP)return Y_;EP=1;var t=uc();function e(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,a=t.useDebugValue;function u(y,v){var E=v(),w=r({inst:{value:E,getSnapshot:v}}),A=w[0].inst,C=w[1];return o(function(){A.value=E,A.getSnapshot=v,f(A)&&C({inst:A})},[y,E,v]),i(function(){return f(A)&&C({inst:A}),y(function(){f(A)&&C({inst:A})})},[y]),a(E),E}function f(y){var v=y.getSnapshot;y=y.value;try{var E=v();return!n(y,E)}catch{return!0}}function c(y,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:u;return Y_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,Y_}var SP;function sY(){return SP||(SP=1,j_.exports=oY()),j_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wP;function aY(){if(wP)return K_;wP=1;var t=uc(),e=sY();function n(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,a=t.useEffect,u=t.useMemo,f=t.useDebugValue;return K_.useSyncExternalStoreWithSelector=function(c,h,y,v,E){var w=o(null);if(w.current===null){var A={hasValue:!1,value:null};w.current=A}else A=w.current;w=u(function(){function R(G){if(!N){if(N=!0,M=G,G=v(G),E!==void 0&&A.hasValue){var O=A.value;if(E(O,G))return U=O}return U=G}if(O=U,r(M,G))return O;var k=v(G);return E!==void 0&&E(O,k)?(M=G,O):(M=G,U=k)}var N=!1,M,U,V=y===void 0?null:y;return[function(){return R(h())},V===null?void 0:function(){return R(V())}]},[h,y,v,E]);var C=i(c,w[0],w[1]);return a(function(){A.hasValue=!0,A.value=C},[C]),f(C),C},K_}var AP;function lY(){return AP||(AP=1,G_.exports=aY()),G_.exports}var uY=lY(),Qw=P.createContext(null),cY=t=>t,An=()=>{var t=P.useContext(Qw);return t?t.store.dispatch:cY},Am=()=>{},fY=()=>Am,dY=(t,e)=>t===e;function ke(t){var e=P.useContext(Qw);return uY.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:fY,e?e.store.getState:Am,e?e.store.getState:Am,e?t:Am,dY)}function hY(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function pY(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function mY(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var bP=t=>Array.isArray(t)?t:[t];function gY(t){const e=Array.isArray(t[0])?t[0]:t;return mY(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function yY(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var vY=class{constructor(t){this.value=t}deref(){return this.value}},_Y=typeof WeakRef<"u"?WeakRef:vY,TY=0,CP=1;function Wp(){return{s:TY,v:void 0,o:null,p:null}}function MU(t,e={}){let n=Wp();const{resultEqualityCheck:r}=e;let i,o=0;function a(){var y;let u=n;const{length:f}=arguments;for(let v=0,E=f;v<E;v++){const w=arguments[v];if(typeof w=="function"||typeof w=="object"&&w!==null){let A=u.o;A===null&&(u.o=A=new WeakMap);const C=A.get(w);C===void 0?(u=Wp(),A.set(w,u)):u=C}else{let A=u.p;A===null&&(u.p=A=new Map);const C=A.get(w);C===void 0?(u=Wp(),A.set(w,u)):u=C}}const c=u;let h;if(u.s===CP)h=u.v;else if(h=t.apply(null,arguments),o++,r){const v=((y=i==null?void 0:i.deref)==null?void 0:y.call(i))??i;v!=null&&r(v,h)&&(h=v,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new _Y(h):h}return c.s=CP,c.v=h,h}return a.clearCache=()=>{n=Wp(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function EY(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,a=0,u,f={},c=i.pop();typeof c=="object"&&(f=c,c=i.pop()),hY(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const h={...n,...f},{memoize:y,memoizeOptions:v=[],argsMemoize:E=MU,argsMemoizeOptions:w=[]}=h,A=bP(v),C=bP(w),R=gY(i),N=y(function(){return o++,c.apply(null,arguments)},...A),M=E(function(){a++;const V=yY(R,arguments);return u=N.apply(null,V),u},...C);return Object.assign(M,{resultFunc:c,memoizedResultFunc:N,dependencies:R,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:y,argsMemoize:E})};return Object.assign(r,{withTypes:()=>r}),r}var oe=EY(MU),SY=Object.assign((t,e=oe)=>{pY(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((a,u,f)=>(a[n[f]]=u,a),{}))},{withTypes:()=>SY}),W_={},J_={},X_={},xP;function wY(){return xP||(xP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const a=e(r),u=e(i);if(a===u&&a===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-a:a-u}return 0};t.compareValues=n})(X_)),X_}var Q_={},Z_={},RP;function NU(){return RP||(RP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Z_)),Z_}var IP;function AY(){return IP||(IP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NU(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||a!=null&&Object.hasOwn(a,o)}t.isKey=i})(Q_)),Q_}var PP;function bY(){return PP||(PP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wY(),n=AY(),r=Bw();function i(o,a,u,f){if(o==null)return[];u=f?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(E=>String(E));const c=(E,w)=>{let A=E;for(let C=0;C<w.length&&A!=null;++C)A=A[w[C]];return A},h=(E,w)=>w==null||E==null?w:typeof E=="object"&&"key"in E?Object.hasOwn(w,E.key)?w[E.key]:c(w,E.path):typeof E=="function"?E(w):Array.isArray(E)?c(w,E):typeof w=="object"?w[E]:w,y=a.map(E=>(Array.isArray(E)&&E.length===1&&(E=E[0]),E==null||typeof E=="function"||Array.isArray(E)||n.isKey(E)?E:{key:E,path:r.toPath(E)}));return o.map(E=>({original:E,criteria:y.map(w=>h(w,E))})).slice().sort((E,w)=>{for(let A=0;A<y.length;A++){const C=e.compareValues(E.criteria[A],w.criteria[A],u[A]);if(C!==0)return C}return 0}).map(E=>E.original)}t.orderBy=i})(J_)),J_}var eT={},MP;function CY(){return MP||(MP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),a=(u,f)=>{for(let c=0;c<u.length;c++){const h=u[c];Array.isArray(h)&&f<o?a(h,f+1):i.push(h)}};return a(n,0),i}t.flatten=e})(eT)),eT}var tT={},NP;function DU(){return NP||(NP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PU(),n=jw(),r=CU(),i=Yw();function o(a,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&e.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.eq(f[u],a):!1}t.isIterateeCall=o})(tT)),tT}var DP;function xY(){return DP||(DP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bY(),n=CY(),r=DU();function i(o,...a){const u=a.length;return u>1&&r.isIterateeCall(o,a[0],a[1])?a=[]:u>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(o,n.flatten(a),["asc"])}t.sortBy=i})(W_)),W_}var nT,OP;function RY(){return OP||(OP=1,nT=xY().sortBy),nT}var IY=RY();const uy=Ei(IY);var OU=t=>t.legend.settings,PY=t=>t.legend.size,MY=t=>t.legend.payload;oe([MY,OU],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?uy(r,n):r});var Jp=1;function NY(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=P.useState({height:0,left:0,top:0,width:0}),r=P.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),a={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(a.height-e.height)>Jp||Math.abs(a.left-e.left)>Jp||Math.abs(a.top-e.top)>Jp||Math.abs(a.width-e.width)>Jp)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Nn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var DY=typeof Symbol=="function"&&Symbol.observable||"@@observable",kP=DY,rT=()=>Math.random().toString(36).substring(7).split("").join("."),OY={INIT:`@@redux/INIT${rT()}`,REPLACE:`@@redux/REPLACE${rT()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${rT()}`},Qm=OY;function Zw(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function kU(t,e,n){if(typeof t!="function")throw new Error(Nn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Nn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Nn(1));return n(kU)(t,e)}let r=t,i=e,o=new Map,a=o,u=0,f=!1;function c(){a===o&&(a=new Map,o.forEach((C,R)=>{a.set(R,C)}))}function h(){if(f)throw new Error(Nn(3));return i}function y(C){if(typeof C!="function")throw new Error(Nn(4));if(f)throw new Error(Nn(5));let R=!0;c();const N=u++;return a.set(N,C),function(){if(R){if(f)throw new Error(Nn(6));R=!1,c(),a.delete(N),o=null}}}function v(C){if(!Zw(C))throw new Error(Nn(7));if(typeof C.type>"u")throw new Error(Nn(8));if(typeof C.type!="string")throw new Error(Nn(17));if(f)throw new Error(Nn(9));try{f=!0,i=r(i,C)}finally{f=!1}return(o=a).forEach(N=>{N()}),C}function E(C){if(typeof C!="function")throw new Error(Nn(10));r=C,v({type:Qm.REPLACE})}function w(){const C=y;return{subscribe(R){if(typeof R!="object"||R===null)throw new Error(Nn(11));function N(){const U=R;U.next&&U.next(h())}return N(),{unsubscribe:C(N)}},[kP](){return this}}}return v({type:Qm.INIT}),{dispatch:v,subscribe:y,getState:h,replaceReducer:E,[kP]:w}}function kY(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Qm.INIT})>"u")throw new Error(Nn(12));if(typeof n(void 0,{type:Qm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Nn(13))})}function LU(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const a=e[o];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{kY(n)}catch(o){i=o}return function(a={},u){if(i)throw i;let f=!1;const c={};for(let h=0;h<r.length;h++){const y=r[h],v=n[y],E=a[y],w=v(E,u);if(typeof w>"u")throw u&&u.type,new Error(Nn(14));c[y]=w,f=f||w!==E}return f=f||r.length!==Object.keys(a).length,f?c:a}}function Zm(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function LY(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(Nn(15))};const a={getState:i.getState,dispatch:(f,...c)=>o(f,...c)},u=t.map(f=>f(a));return o=Zm(...u)(i.dispatch),{...i,dispatch:o}}}function UU(t){return Zw(t)&&"type"in t&&typeof t.type=="string"}var VU=Symbol.for("immer-nothing"),LP=Symbol.for("immer-draftable"),Or=Symbol.for("immer-state");function pi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ec=Object.getPrototypeOf;function Tl(t){return!!t&&!!t[Or]}function Wo(t){var e;return t?BU(t)||Array.isArray(t)||!!t[LP]||!!((e=t.constructor)!=null&&e[LP])||th(t)||fy(t):!1}var UY=Object.prototype.constructor.toString();function BU(t){if(!t||typeof t!="object")return!1;const e=ec(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===UY}function eg(t,e){cy(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function cy(t){const e=t[Or];return e?e.type_:Array.isArray(t)?1:th(t)?2:fy(t)?3:0}function NE(t,e){return cy(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function qU(t,e,n){const r=cy(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function VY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function th(t){return t instanceof Map}function fy(t){return t instanceof Set}function Xa(t){return t.copy_||t.base_}function DE(t,e){if(th(t))return new Map(t);if(fy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=BU(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Or];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],u=r[a];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[a]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[a]})}return Object.create(ec(t),r)}else{const r=ec(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function eA(t,e=!1){return dy(t)||Tl(t)||!Wo(t)||(cy(t)>1&&Object.defineProperties(t,{set:{value:Xp},add:{value:Xp},clear:{value:Xp},delete:{value:Xp}}),Object.freeze(t),e&&Object.values(t).forEach(n=>eA(n,!0))),t}function Xp(){pi(2)}function dy(t){return Object.isFrozen(t)}var BY={};function El(t){const e=BY[t];return e||pi(0,t),e}var Id;function FU(){return Id}function qY(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function UP(t,e){e&&(El("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function OE(t){kE(t),t.drafts_.forEach(FY),t.drafts_=null}function kE(t){t===Id&&(Id=t.parent_)}function VP(t){return Id=qY(Id,t)}function FY(t){const e=t[Or];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function BP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Or].modified_&&(OE(e),pi(4)),Wo(t)&&(t=tg(e,t),e.parent_||ng(e,t)),e.patches_&&El("Patches").generateReplacementPatches_(n[Or].base_,t,e.patches_,e.inversePatches_)):t=tg(e,n,[]),OE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==VU?t:void 0}function tg(t,e,n){if(dy(e))return e;const r=e[Or];if(!r)return eg(e,(i,o)=>qP(t,r,e,i,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return ng(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,a=!1;r.type_===3&&(o=new Set(i),i.clear(),a=!0),eg(o,(u,f)=>qP(t,r,i,u,f,n,a)),ng(t,i,!1),n&&t.patches_&&El("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function qP(t,e,n,r,i,o,a){if(Tl(i)){const u=o&&e&&e.type_!==3&&!NE(e.assigned_,r)?o.concat(r):void 0,f=tg(t,i,u);if(qU(n,r,f),Tl(f))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Wo(i)&&!dy(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;tg(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(th(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&ng(t,i)}}function ng(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&eA(e,n)}function $Y(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:FU(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=tA;n&&(i=[r],o=Pd);const{revoke:a,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=a,u}var tA={get(t,e){if(e===Or)return t;const n=Xa(t);if(!NE(n,e))return HY(t,n,e);const r=n[e];return t.finalized_||!Wo(r)?r:r===iT(t.base_,e)?(oT(t),t.copy_[e]=UE(r,t)):r},has(t,e){return e in Xa(t)},ownKeys(t){return Reflect.ownKeys(Xa(t))},set(t,e,n){const r=$U(Xa(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=iT(Xa(t),e),o=i==null?void 0:i[Or];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(VY(n,i)&&(n!==void 0||NE(t.base_,e)))return!0;oT(t),LE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return iT(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,oT(t),LE(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Xa(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){pi(11)},getPrototypeOf(t){return ec(t.base_)},setPrototypeOf(){pi(12)}},Pd={};eg(tA,(t,e)=>{Pd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Pd.deleteProperty=function(t,e){return Pd.set.call(this,t,e,void 0)};Pd.set=function(t,e,n){return tA.set.call(this,t[0],e,n,t[0])};function iT(t,e){const n=t[Or];return(n?Xa(n):t)[e]}function HY(t,e,n){var i;const r=$U(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function $U(t,e){if(!(e in t))return;let n=ec(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=ec(n)}}function LE(t){t.modified_||(t.modified_=!0,t.parent_&&LE(t.parent_))}function oT(t){t.copy_||(t.copy_=DE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var zY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const a=this;return function(f=o,...c){return a.produce(f,h=>n.call(this,h,...c))}}typeof n!="function"&&pi(6),r!==void 0&&typeof r!="function"&&pi(7);let i;if(Wo(e)){const o=VP(this),a=UE(e,void 0);let u=!0;try{i=n(a),u=!1}finally{u?OE(o):kE(o)}return UP(o,r),BP(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===VU&&(i=void 0),this.autoFreeze_&&eA(i,!0),r){const o=[],a=[];El("Patches").generateReplacementPatches_(e,i,o,a),r(o,a)}return i}else pi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...u)=>this.produceWithPatches(a,f=>e(f,...u));let r,i;return[this.produce(e,n,(a,u)=>{r=a,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Wo(t)||pi(8),Tl(t)&&(t=Fo(t));const e=VP(this),n=UE(t,void 0);return n[Or].isManual_=!0,kE(e),n}finishDraft(t,e){const n=t&&t[Or];(!n||!n.isManual_)&&pi(9);const{scope_:r}=n;return UP(r,e),BP(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=El("Patches").applyPatches_;return Tl(t)?r(t,e):this.produce(t,i=>r(i,e))}};function UE(t,e){const n=th(t)?El("MapSet").proxyMap_(t,e):fy(t)?El("MapSet").proxySet_(t,e):$Y(t,e);return(e?e.scope_:FU()).drafts_.push(n),n}function Fo(t){return Tl(t)||pi(10,t),HU(t)}function HU(t){if(!Wo(t)||dy(t))return t;const e=t[Or];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=DE(t,e.scope_.immer_.useStrictShallowCopy_)}else n=DE(t,!0);return eg(n,(r,i)=>{qU(n,r,HU(i))}),e&&(e.finalized_=!1),n}var GY=new zY,zU=GY.produce;function GU(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var KY=GU(),jY=GU,YY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Zm:Zm.apply(null,arguments)};function oi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Dr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>UU(r)&&r.type===t,n}var KU=class rd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,rd.prototype)}static get[Symbol.species](){return rd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new rd(...e[0].concat(this)):new rd(...e.concat(this))}};function FP(t){return Wo(t)?zU(t,()=>{}):t}function Qp(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function WY(t){return typeof t=="boolean"}var JY=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let a=new KU;return n&&(WY(n)?a.push(KY):a.push(jY(n.extraArgument))),a},XY="RTK_autoBatch",$P=t=>e=>{setTimeout(e,t)},QY=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,a=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:$P(10):t.type==="callback"?t.queueNotification:$P(t.timeout),c=()=>{a=!1,o&&(o=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const y=()=>i&&h(),v=r.subscribe(y);return u.add(h),()=>{v(),u.delete(h)}},dispatch(h){var y;try{return i=!((y=h==null?void 0:h.meta)!=null&&y[XY]),o=!i,o&&(a||(a=!0,f(c))),r.dispatch(h)}finally{i=!0}}})},ZY=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new KU(t);return r&&i.push(QY(typeof r=="object"?r:void 0)),i};function eW(t){const e=JY(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:a=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(Zw(n))u=LU(n);else throw new Error(Dr(1));let f;typeof r=="function"?f=r(e):f=e();let c=Zm;i&&(c=YY({trace:!1,...typeof i=="object"&&i}));const h=LY(...f),y=ZY(h);let v=typeof a=="function"?a(y):y();const E=c(...v);return kU(u,o,E)}function jU(t){const e={},n=[];let r;const i={addCase(o,a){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Dr(28));if(u in e)throw new Error(Dr(29));return e[u]=a,i},addAsyncThunk(o,a){return a.pending&&(e[o.pending.type]=a.pending),a.rejected&&(e[o.rejected.type]=a.rejected),a.fulfilled&&(e[o.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:o.settled,reducer:a.settled}),i},addMatcher(o,a){return n.push({matcher:o,reducer:a}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function tW(t){return typeof t=="function"}function nW(t,e){let[n,r,i]=jU(e),o;if(tW(t))o=()=>FP(t());else{const u=FP(t);o=()=>u}function a(u=o(),f){let c=[n[f.type],...r.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return c.filter(h=>!!h).length===0&&(c=[i]),c.reduce((h,y)=>{if(y)if(Tl(h)){const E=y(h,f);return E===void 0?h:E}else{if(Wo(h))return zU(h,v=>y(v,f));{const v=y(h,f);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},u)}return a.getInitialState=o,a}var rW="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",iW=(t=21)=>{let e="",n=t;for(;n--;)e+=rW[Math.random()*64|0];return e},oW=Symbol.for("rtk-slice-createasyncthunk");function sW(t,e){return`${t}/${e}`}function aW({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[oW];return function(i){const{name:o,reducerPath:a=o}=i;if(!o)throw new Error(Dr(11));const u=(typeof i.reducers=="function"?i.reducers(uW()):i.reducers)||{},f=Object.keys(u),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(U,V){const G=typeof U=="string"?U:U.type;if(!G)throw new Error(Dr(12));if(G in c.sliceCaseReducersByType)throw new Error(Dr(13));return c.sliceCaseReducersByType[G]=V,h},addMatcher(U,V){return c.sliceMatchers.push({matcher:U,reducer:V}),h},exposeAction(U,V){return c.actionCreators[U]=V,h},exposeCaseReducer(U,V){return c.sliceCaseReducersByName[U]=V,h}};f.forEach(U=>{const V=u[U],G={reducerName:U,type:sW(o,U),createNotation:typeof i.reducers=="function"};fW(V)?hW(G,V,h,e):cW(G,V,h)});function y(){const[U={},V=[],G=void 0]=typeof i.extraReducers=="function"?jU(i.extraReducers):[i.extraReducers],O={...U,...c.sliceCaseReducersByType};return nW(i.initialState,k=>{for(let D in O)k.addCase(D,O[D]);for(let D of c.sliceMatchers)k.addMatcher(D.matcher,D.reducer);for(let D of V)k.addMatcher(D.matcher,D.reducer);G&&k.addDefaultCase(G)})}const v=U=>U,E=new Map,w=new WeakMap;let A;function C(U,V){return A||(A=y()),A(U,V)}function R(){return A||(A=y()),A.getInitialState()}function N(U,V=!1){function G(k){let D=k[U];return typeof D>"u"&&V&&(D=Qp(w,G,R)),D}function O(k=v){const D=Qp(E,V,()=>new WeakMap);return Qp(D,k,()=>{const $={};for(const[F,z]of Object.entries(i.selectors??{}))$[F]=lW(z,k,()=>Qp(w,k,R),V);return $})}return{reducerPath:U,getSelectors:O,get selectors(){return O(G)},selectSlice:G}}const M={name:o,reducer:C,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:R,...N(a),injectInto(U,{reducerPath:V,...G}={}){const O=V??a;return U.inject({reducerPath:O,reducer:C},G),{...M,...N(O,!0)}}};return M}}function lW(t,e,n,r){function i(o,...a){let u=e(o);return typeof u>"u"&&r&&(u=n()),t(u,...a)}return i.unwrapped=t,i}var Lr=aW();function uW(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function cW({type:t,reducerName:e,createNotation:n},r,i){let o,a;if("reducer"in r){if(n&&!dW(r))throw new Error(Dr(17));o=r.reducer,a=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,a?oi(t,a):oi(t))}function fW(t){return t._reducerDefinitionType==="asyncThunk"}function dW(t){return t._reducerDefinitionType==="reducerWithPrepare"}function hW({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Dr(18));const{payloadCreator:o,fulfilled:a,pending:u,rejected:f,settled:c,options:h}=n,y=i(t,o,h);r.exposeAction(e,y),a&&r.addCase(y.fulfilled,a),u&&r.addCase(y.pending,u),f&&r.addCase(y.rejected,f),c&&r.addMatcher(y.settled,c),r.exposeCaseReducer(e,{fulfilled:a||Zp,pending:u||Zp,rejected:f||Zp,settled:c||Zp})}function Zp(){}var pW="task",YU="listener",WU="completed",nA="cancelled",mW=`task-${nA}`,gW=`task-${WU}`,VE=`${YU}-${nA}`,yW=`${YU}-${WU}`,hy=class{constructor(t){L0(this,"name","TaskAbortError");L0(this,"message");this.code=t,this.message=`${pW} ${nA} (reason: ${t})`}},rA=(t,e)=>{if(typeof t!="function")throw new TypeError(Dr(32))},rg=()=>{},JU=(t,e=rg)=>(t.catch(e),t),XU=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),ll=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},ul=t=>{if(t.aborted){const{reason:e}=t;throw new hy(e)}};function QU(t,e){let n=rg;return new Promise((r,i)=>{const o=()=>i(new hy(t.reason));if(t.aborted){o();return}n=XU(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=rg})}var vW=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof hy?"cancelled":"rejected",error:n}}finally{e==null||e()}},ig=t=>e=>JU(QU(t,e).then(n=>(ul(t),n))),ZU=t=>{const e=ig(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:qu}=Object,HP={},py="listenerMiddleware",_W=(t,e)=>{const n=r=>XU(t,()=>ll(r,t.reason));return(r,i)=>{rA(r);const o=new AbortController;n(o);const a=vW(async()=>{ul(t),ul(o.signal);const u=await r({pause:ig(o.signal),delay:ZU(o.signal),signal:o.signal});return ul(o.signal),u},()=>ll(o,gW));return i!=null&&i.autoJoin&&e.push(a.catch(rg)),{result:ig(t)(a),cancel(){ll(o,mW)}}}},TW=(t,e)=>{const n=async(r,i)=>{ul(e);let o=()=>{};const u=[new Promise((f,c)=>{let h=t({predicate:r,effect:(y,v)=>{v.unsubscribe(),f([y,v.getState(),v.getOriginalState()])}});o=()=>{h(),c()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await QU(e,Promise.race(u));return ul(e),f}finally{o()}};return(r,i)=>JU(n(r,i))},eV=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=oi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Dr(21));return rA(o),{predicate:i,type:e,effect:o}},tV=qu(t=>{const{type:e,predicate:n,effect:r}=eV(t);return{id:iW(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Dr(22))}}},{withTypes:()=>tV}),zP=(t,e)=>{const{type:n,effect:r,predicate:i}=eV(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},BE=t=>{t.pending.forEach(e=>{ll(e,VE)})},EW=t=>()=>{t.forEach(BE),t.clear()},GP=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},nV=qu(oi(`${py}/add`),{withTypes:()=>nV}),SW=oi(`${py}/removeAll`),rV=qu(oi(`${py}/remove`),{withTypes:()=>rV}),wW=(...t)=>{console.error(`${py}/error`,...t)},nh=(t={})=>{const e=new Map,{extra:n,onError:r=wW}=t;rA(r);const i=h=>(h.unsubscribe=()=>e.delete(h.id),e.set(h.id,h),y=>{h.unsubscribe(),y!=null&&y.cancelActive&&BE(h)}),o=h=>{const y=zP(e,h)??tV(h);return i(y)};qu(o,{withTypes:()=>o});const a=h=>{const y=zP(e,h);return y&&(y.unsubscribe(),h.cancelActive&&BE(y)),!!y};qu(a,{withTypes:()=>a});const u=async(h,y,v,E)=>{const w=new AbortController,A=TW(o,w.signal),C=[];try{h.pending.add(w),await Promise.resolve(h.effect(y,qu({},v,{getOriginalState:E,condition:(R,N)=>A(R,N).then(Boolean),take:A,delay:ZU(w.signal),pause:ig(w.signal),extra:n,signal:w.signal,fork:_W(w.signal,C),unsubscribe:h.unsubscribe,subscribe:()=>{e.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((R,N,M)=>{R!==w&&(ll(R,VE),M.delete(R))})},cancel:()=>{ll(w,VE),h.pending.delete(w)},throwIfCancelled:()=>{ul(w.signal)}})))}catch(R){R instanceof hy||GP(r,R,{raisedBy:"effect"})}finally{await Promise.all(C),ll(w,yW),h.pending.delete(w)}},f=EW(e);return{middleware:h=>y=>v=>{if(!UU(v))return y(v);if(nV.match(v))return o(v.payload);if(SW.match(v)){f();return}if(rV.match(v))return a(v.payload);let E=h.getState();const w=()=>{if(E===HP)throw new Error(Dr(23));return E};let A;try{if(A=y(v),e.size>0){const C=h.getState(),R=Array.from(e.values());for(const N of R){let M=!1;try{M=N.predicate(v,C,E)}catch(U){M=!1,GP(r,U,{raisedBy:"predicate"})}M&&u(N,v,h,w)}}}finally{E=HP}return A},startListening:o,stopListening:a,clearListeners:f}};function Dr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var AW={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},iV=Lr({name:"chartLayout",initialState:AW,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:bW,setLayout:CW,setChartSize:xW,setScale:RW}=iV.actions,IW=iV.reducer;function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){PW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PW(t,e,n){return(e=MW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MW(t){var e=NW(t,"string");return typeof e=="symbol"?e:e+""}function NW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var og=Math.PI/180,DW=t=>t*180/Math.PI,Ln=(t,e,n,r)=>({x:t+Math.cos(-og*r)*n,y:e+Math.sin(-og*r)*n}),OW=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},kW=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},LW=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,a=kW({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a,angle:0};var u=(n-i)/a,f=Math.acos(u);return r>o&&(f=2*Math.PI-f),{radius:a,angle:DW(f),angleInRadian:f}},UW=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},VW=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return t+a*360},BW=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:o}=LW({x:n,y:r},e),{innerRadius:a,outerRadius:u}=e;if(i<a||i>u||i===0)return null;var{startAngle:f,endAngle:c}=UW(e),h=o,y;if(f<=c){for(;h>c;)h-=360;for(;h<f;)h+=360;y=h>=f&&h<=c}else{for(;h>f;)h-=360;for(;h<c;)h+=360;y=h>=c&&h<=f}return y?jP(jP({},e),{},{radius:i,angle:VW(h,e)}):null};function oV(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function YP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(n),!0).forEach(function(r){qW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qW(t,e,n){return(e=FW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FW(t){var e=$W(t,"string");return typeof e=="symbol"?e:e+""}function $W(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rr(t,e,n){return dn(t)||dn(e)?n:to(e)?_l(t,e,n):typeof e=="function"?e(t):n}var HW=(t,e,n,r,i)=>{var o,a=-1,u=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<u;f++){var c=f>0?n[f-1].coordinate:n[u-1].coordinate,h=n[f].coordinate,y=f>=u-1?n[0].coordinate:n[f+1].coordinate,v=void 0;if(Mr(h-c)!==Mr(y-h)){var E=[];if(Mr(y-h)===Mr(i[1]-i[0])){v=y;var w=h+i[1]-i[0];E[0]=Math.min(w,(w+c)/2),E[1]=Math.max(w,(w+c)/2)}else{v=c;var A=y+i[1]-i[0];E[0]=Math.min(h,(A+h)/2),E[1]=Math.max(h,(A+h)/2)}var C=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(t>C[0]&&t<=C[1]||t>=E[0]&&t<=E[1]){({index:a}=n[f]);break}}else{var R=Math.min(c,y),N=Math.max(c,y);if(t>(R+h)/2&&t<=(N+h)/2){({index:a}=n[f]);break}}}else if(e){for(var M=0;M<u;M++)if(M===0&&t<=(e[M].coordinate+e[M+1].coordinate)/2||M>0&&M<u-1&&t>(e[M].coordinate+e[M-1].coordinate)/2&&t<=(e[M].coordinate+e[M+1].coordinate)/2||M===u-1&&t>(e[M].coordinate+e[M-1].coordinate)/2){({index:a}=e[M]);break}}return a},zW=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:a,layout:u}=e;if((u==="vertical"||u==="horizontal"&&a==="middle")&&o!=="center"&&xe(t[o]))return Qr(Qr({},t),{},{[o]:t[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&a!=="middle"&&xe(t[a]))return Qr(Qr({},t),{},{[a]:t[a]+(i||0)})}return t},Il=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",WP=1e-4,GW=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-WP,o=Math.max(r[0],r[1])+WP,a=t(e[0]),u=t(e[n-1]);(a<i||a>o||u<i||u>o)&&t.domain([e[0],e[n-1]])}},KW=(t,e)=>{if(!e||e.length!==2||!xe(e[0])||!xe(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!xe(t[0])||t[0]<n)&&(i[0]=n),(!xe(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},jW=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,a=0;a<e;++a){var u=ii(t[a][n][1])?t[a][n][0]:t[a][n][1];u>=0?(t[a][n][0]=i,t[a][n][1]=i+u,i=t[a][n][1]):(t[a][n][0]=o,t[a][n][1]=o+u,o=t[a][n][1])}},YW=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var a=ii(t[o][n][1])?t[o][n][0]:t[o][n][1];a>=0?(t[o][n][0]=i,t[o][n][1]=i+a,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},WW={sign:jW,expand:xj,none:Zu,silhouette:Rj,wiggle:Ij,positive:YW},JW=(t,e,n)=>{var r=WW[n],i=Cj().keys(e).value((o,a)=>+rr(o,a,0)).order(PE).offset(r);return i(t)};function XW(t){return t==null?void 0:String(t)}var JP=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:o,index:a}=t;if(e.type==="category")return n[a]?n[a].coordinate+r:null;var u=rr(o,e.dataKey,e.scale.domain()[a]);return dn(u)?null:e.scale(u)-i/2+r},QW=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},ZW=t=>{var e=t.flat(2).filter(xe);return[Math.min(...e),Math.max(...e)]},eJ=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],tJ=(t,e,n)=>{if(t!=null)return eJ(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:a}=o,u=a.reduce((f,c)=>{var h=oV(c,e,n),y=ZW(h);return[Math.min(f[0],y[0]),Math.max(f[1],y[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},XP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iA=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=uy(e,h=>h.coordinate),o=1/0,a=1,u=i.length;a<u;a++){var f=i[a],c=i[a-1];o=Math.min((f.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function ZP(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return Qr(Qr({},e),{},{dataKey:n,payload:r,value:i,name:o})}function sV(t,e){if(t)return String(t);if(typeof e=="string")return e}function nJ(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var o=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return o?{x:t,y:e}:null}return r?BW({x:t,y:e},r):null}var rJ=(t,e,n,r)=>{var i=e.find(c=>c&&c.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,{radius:a}=r;return Qr(Qr(Qr({},r),Ln(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var u=i.coordinate,{angle:f}=r;return Qr(Qr(Qr({},r),Ln(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{x:0,y:0}},iJ=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,es=t=>t.layout.width,ts=t=>t.layout.height,oJ=t=>t.layout.scale,aV=t=>t.layout.margin,oA=oe(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),sA=oe(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),sJ="data-recharts-item-index",aJ="data-recharts-item-data-key",my=60;function eM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ls(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eM(Object(n),!0).forEach(function(r){lJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lJ(t,e,n){return(e=uJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uJ(t){var e=cJ(t,"string");return typeof e=="symbol"?e:e+""}function cJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fJ=t=>t.brush.height,bn=oe([es,ts,aV,fJ,oA,sA,OU,PY],(t,e,n,r,i,o,a,u)=>{var f=o.reduce((w,A)=>{var{orientation:C}=A;if(!A.mirror&&!A.hide){var R=typeof A.width=="number"?A.width:my;return Ls(Ls({},w),{},{[C]:w[C]+R})}return w},{left:n.left||0,right:n.right||0}),c=i.reduce((w,A)=>{var{orientation:C}=A;return!A.mirror&&!A.hide?Ls(Ls({},w),{},{[C]:_l(w,"".concat(C))+A.height}):w},{top:n.top||0,bottom:n.bottom||0}),h=Ls(Ls({},c),f),y=h.bottom;h.bottom+=r,h=zW(h,a,u);var v=t-h.left-h.right,E=e-h.top-h.bottom;return Ls(Ls({brushBottom:y},h),{},{width:Math.max(v,0),height:Math.max(E,0)})}),dJ=oe(bn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),lV=oe(es,ts,(t,e)=>({x:0,y:0,width:t,height:e})),hJ=P.createContext(null),bi=()=>P.useContext(hJ)!=null,gy=t=>t.brush,yy=oe([gy,bn,aV],(t,e,n)=>({height:t.height,x:xe(t.x)?t.x:e.left,y:xe(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:xe(t.width)?t.width:e.width})),aA=()=>{var t,e=bi(),n=ke(dJ),r=ke(yy),i=(t=ke(gy))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},pJ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},mJ=()=>{var t;return(t=ke(bn))!==null&&t!==void 0?t:pJ},gJ=()=>ke(es),yJ=()=>ke(ts),dt=t=>t.layout.layoutType,lA=()=>ke(dt),vJ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},uV=Lr({name:"legend",initialState:vJ,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Fo(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:sve,setLegendSettings:ave,addLegendPayload:_J,removeLegendPayload:TJ}=uV.actions,EJ=uV.reducer;function qE(){return qE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qE.apply(null,arguments)}function tM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(n),!0).forEach(function(r){SJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SJ(t,e,n){return(e=wJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wJ(t){var e=AJ(t,"string");return typeof e=="symbol"?e:e+""}function AJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bJ(t){return Array.isArray(t)&&to(t[0])&&to(t[1])?t.join(" ~ "):t}var CJ=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:a,itemSorter:u,wrapperClassName:f,labelClassName:c,label:h,labelFormatter:y,accessibilityLayer:v=!1}=t,E=()=>{if(o&&o.length){var V={padding:0,margin:0},G=(u?uy(o,u):o).map((O,k)=>{if(O.type==="none")return null;var D=O.formatter||a||bJ,{value:$,name:F}=O,z=$,H=F;if(D){var Me=D($,F,O,k,o);if(Array.isArray(Me))[z,H]=Me;else if(Me!=null)z=Me;else return null}var be=sT({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},r);return P.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:be},to(H)?P.createElement("span",{className:"recharts-tooltip-item-name"},H):null,to(H)?P.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,P.createElement("span",{className:"recharts-tooltip-item-value"},z),P.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return P.createElement("ul",{className:"recharts-tooltip-item-list",style:V},G)}return null},w=sT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),A=sT({margin:0},i),C=!dn(h),R=C?h:"",N=It("recharts-default-tooltip",f),M=It("recharts-tooltip-label",c);C&&y&&o!==void 0&&o!==null&&(R=y(h,o));var U=v?{role:"status","aria-live":"assertive"}:{};return P.createElement("div",qE({className:N,style:w},U),P.createElement("p",{className:M,style:A},P.isValidElement(R)?R:"".concat(R)),E())},$f="recharts-tooltip-wrapper",xJ={visibility:"hidden"};function RJ(t){var{coordinate:e,translateX:n,translateY:r}=t;return It($f,{["".concat($f,"-right")]:xe(n)&&e&&xe(e.x)&&n>=e.x,["".concat($f,"-left")]:xe(n)&&e&&xe(e.x)&&n<e.x,["".concat($f,"-bottom")]:xe(r)&&e&&xe(e.y)&&r>=e.y,["".concat($f,"-top")]:xe(r)&&e&&xe(e.y)&&r<e.y})}function nM(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:a,tooltipDimension:u,viewBox:f,viewBoxDimension:c}=t;if(o&&xe(o[r]))return o[r];var h=n[r]-u-(i>0?i:0),y=n[r]+i;if(e[r])return a[r]?h:y;var v=f[r];if(v==null)return 0;if(a[r]){var E=h,w=v;return E<w?Math.max(y,v):Math.max(h,v)}if(c==null)return 0;var A=y+u,C=v+c;return A>C?Math.max(h,v):Math.max(y,v)}function IJ(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function PJ(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:a,useTranslate3d:u,viewBox:f}=t,c,h,y;return a.height>0&&a.width>0&&n?(h=nM({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:f,viewBoxDimension:f.width}),y=nM({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:f,viewBoxDimension:f.height}),c=IJ({translateX:h,translateY:y,useTranslate3d:u})):c=xJ,{cssProperties:c,cssClasses:RJ({translateX:h,translateY:y,coordinate:n})}}function rM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function em(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(n),!0).forEach(function(r){FE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FE(t,e,n){return(e=MJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MJ(t){var e=NJ(t,"string");return typeof e=="symbol"?e:e+""}function NJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class DJ extends P.PureComponent{constructor(){super(...arguments),FE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),FE(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:a,hasPayload:u,isAnimationActive:f,offset:c,position:h,reverseDirection:y,useTranslate3d:v,viewBox:E,wrapperStyle:w,lastBoundingBox:A,innerRef:C,hasPortalFromProps:R}=this.props,{cssClasses:N,cssProperties:M}=PJ({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:c,position:h,reverseDirection:y,tooltipBox:{height:A.height,width:A.width},useTranslate3d:v,viewBox:E}),U=R?{}:em(em({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),V=em(em({},U),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},w);return P.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:V,ref:C},o)}}var OJ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),rh={isSsr:OJ()},cV=()=>ke(t=>t.rootProps.accessibilityLayer);function kr(t){return Number.isFinite(t)}function sg(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function $E(){return $E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$E.apply(null,arguments)}function iM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(n),!0).forEach(function(r){kJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kJ(t,e,n){return(e=LJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LJ(t){var e=UJ(t,"string");return typeof e=="symbol"?e:e+""}function UJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sM={curveBasisClosed:mj,curveBasisOpen:gj,curveBasis:pj,curveBumpX:ej,curveBumpY:tj,curveLinearClosed:yj,curveLinear:ay,curveMonotoneX:vj,curveMonotoneY:_j,curveNatural:Tj,curveStep:Ej,curveStepAfter:wj,curveStepBefore:Sj},tm=t=>kr(t.x)&&kr(t.y),Hf=t=>t.x,zf=t=>t.y,VJ=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(eh(t));return(n==="curveMonotone"||n==="curveBump")&&e?sM["".concat(n).concat(e==="vertical"?"Y":"X")]:sM[n]||ay},BJ=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,a=VJ(e,i),u=o?n.filter(tm):n,f;if(Array.isArray(r)){var c=o?r.filter(y=>tm(y)):r,h=u.map((y,v)=>oM(oM({},y),{},{base:c[v]}));return i==="vertical"?f=Yp().y(zf).x1(Hf).x0(y=>y.base.x):f=Yp().x(Hf).y1(zf).y0(y=>y.base.y),f.defined(tm).curve(a),f(h)}return i==="vertical"&&xe(r)?f=Yp().y(zf).x1(Hf).x0(r):xe(r)?f=Yp().x(Hf).y1(zf).y0(r):f=dU().x(Hf).y(zf),f.defined(tm).curve(a),f(u)},qJ=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?BJ(t):r;return P.createElement("path",$E({},oy(t),qK(t),{className:It("recharts-curve",e),d:o===null?void 0:o,ref:i}))},FJ=["x","y","top","left","width","height","className"];function HE(){return HE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HE.apply(null,arguments)}function aM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $J(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aM(Object(n),!0).forEach(function(r){HJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HJ(t,e,n){return(e=zJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zJ(t){var e=GJ(t,"string");return typeof e=="symbol"?e:e+""}function GJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KJ(t,e){if(t==null)return{};var n,r,i=jJ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var YJ=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),WJ=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:a=0,className:u}=t,f=KJ(t,FJ),c=$J({x:e,y:n,top:r,left:i,width:o,height:a},f);return!xe(e)||!xe(n)||!xe(o)||!xe(a)||!xe(r)||!xe(i)?null:P.createElement("path",HE({},wn(c,!0),{className:It("recharts-cross",u),d:YJ(e,n,o,a,r,i)}))};function JJ(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function lM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lM(Object(n),!0).forEach(function(r){QJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QJ(t,e,n){return(e=ZJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZJ(t){var e=eX(t,"string");return typeof e=="symbol"?e:e+""}function eX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pl(t,e){var n=XJ({},t),r=e,i=Object.keys(e),o=i.reduce((a,u)=>(a[u]===void 0&&r[u]!==void 0&&(a[u]=r[u]),a),n);return o}var aT={},lT={},uT={},uM;function tX(){return uM||(uM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e})(uT)),uT}var cM;function nX(){return cM||(cM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tX(),n=RU(),r=Jw(),i=Xw(),o=Yw();function a(c,h,y){return u(c,h,void 0,void 0,void 0,void 0,y)}function u(c,h,y,v,E,w,A){const C=A(c,h,y,v,E,w);if(C!==void 0)return C;if(typeof c==typeof h)switch(typeof c){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return c===h;case"number":return c===h||Object.is(c,h);case"function":return c===h;case"object":return f(c,h,w,A)}return f(c,h,w,A)}function f(c,h,y,v){if(Object.is(c,h))return!0;let E=r.getTag(c),w=r.getTag(h);if(E===i.argumentsTag&&(E=i.objectTag),w===i.argumentsTag&&(w=i.objectTag),E!==w)return!1;switch(E){case i.stringTag:return c.toString()===h.toString();case i.numberTag:{const R=c.valueOf(),N=h.valueOf();return o.eq(R,N)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(c.valueOf(),h.valueOf());case i.regexpTag:return c.source===h.source&&c.flags===h.flags;case i.functionTag:return c===h}y=y??new Map;const A=y.get(c),C=y.get(h);if(A!=null&&C!=null)return A===h;y.set(c,h),y.set(h,c);try{switch(E){case i.mapTag:{if(c.size!==h.size)return!1;for(const[R,N]of c.entries())if(!h.has(R)||!u(N,h.get(R),R,c,h,y,v))return!1;return!0}case i.setTag:{if(c.size!==h.size)return!1;const R=Array.from(c.values()),N=Array.from(h.values());for(let M=0;M<R.length;M++){const U=R[M],V=N.findIndex(G=>u(U,G,void 0,c,h,y,v));if(V===-1)return!1;N.splice(V,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(c)!==Buffer.isBuffer(h)||c.length!==h.length)return!1;for(let R=0;R<c.length;R++)if(!u(c[R],h[R],R,c,h,y,v))return!1;return!0}case i.arrayBufferTag:return c.byteLength!==h.byteLength?!1:f(new Uint8Array(c),new Uint8Array(h),y,v);case i.dataViewTag:return c.byteLength!==h.byteLength||c.byteOffset!==h.byteOffset?!1:f(new Uint8Array(c),new Uint8Array(h),y,v);case i.errorTag:return c.name===h.name&&c.message===h.message;case i.objectTag:{if(!(f(c.constructor,h.constructor,y,v)||e.isPlainObject(c)&&e.isPlainObject(h)))return!1;const N=[...Object.keys(c),...n.getSymbols(c)],M=[...Object.keys(h),...n.getSymbols(h)];if(N.length!==M.length)return!1;for(let U=0;U<N.length;U++){const V=N[U],G=c[V];if(!Object.hasOwn(h,V))return!1;const O=h[V];if(!u(G,O,V,c,h,y,v))return!1}return!0}default:return!1}}finally{y.delete(c),y.delete(h)}}t.isEqualWith=a})(lT)),lT}var cT={},fM;function rX(){return fM||(fM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(cT)),cT}var dM;function iX(){return dM||(dM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nX(),n=rX();function r(i,o){return e.isEqualWith(i,o,n.noop)}t.isEqual=r})(aT)),aT}var fT,hM;function oX(){return hM||(hM=1,fT=iX().isEqual),fT}var sX=oX();const aX=Ei(sX);var ag=1e-4,fV=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],dV=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),pM=(t,e)=>n=>{var r=fV(t,e);return dV(r,n)},lX=(t,e)=>n=>{var r=fV(t,e),i=[...r.map((o,a)=>o*a).slice(1),0];return dV(i,n)},mM=function(){for(var e,n,r,i,o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];if(a.length===1)switch(a[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var f=a[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([e,r,n,i]=f[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else a.length===4&&([e,r,n,i]=a);var c=pM(e,n),h=pM(r,i),y=lX(e,n),v=w=>w>1?1:w<0?0:w,E=w=>{for(var A=w>1?1:w,C=A,R=0;R<8;++R){var N=c(C)-A,M=y(C);if(Math.abs(N-A)<ag||M<ag)return h(C);C=v(C-N/M)}return h(C)};return E.isStepper=!1,E},uX=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(a,u,f)=>{var c=-(a-u)*n,h=f*r,y=f+(c-h)*i/1e3,v=f*i/1e3+a;return Math.abs(v-u)<ag&&Math.abs(y)<ag?[u,0]:[v,y]};return o.isStepper=!0,o.dt=i,o},hV=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return mM(t);case"spring":return uX();default:if(t.split("(")[0]==="cubic-bezier")return mM(t)}return typeof t=="function"?t:null};function gM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gM(Object(n),!0).forEach(function(r){cX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cX(t,e,n){return(e=fX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fX(t){var e=dX(t,"string");return typeof e=="symbol"?e:e+""}function dX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hX=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),pX=(t,e,n)=>t.map(r=>"".concat(hX(r)," ").concat(e,"ms ").concat(n)).join(","),mX=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Md=(t,e)=>Object.keys(e).reduce((n,r)=>yM(yM({},n),{},{[r]:t(r,e[r])}),{});function vM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(n),!0).forEach(function(r){gX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gX(t,e,n){return(e=yX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yX(t){var e=vX(t,"string");return typeof e=="symbol"?e:e+""}function vX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lg=(t,e,n)=>t+(e-t)*n,zE=t=>{var{from:e,to:n}=t;return e!==n},pV=(t,e,n)=>{var r=Md((i,o)=>{if(zE(o)){var[a,u]=t(o.from,o.to,o.velocity);return On(On({},o),{},{from:a,velocity:u})}return o},e);return n<1?Md((i,o)=>zE(o)?On(On({},o),{},{velocity:lg(o.velocity,r[i].velocity,n),from:lg(o.from,r[i].from,n)}):o,e):pV(t,r,n-1)};function _X(t,e,n,r,i,o){var a,u=r.reduce((v,E)=>On(On({},v),{},{[E]:{from:t[E],velocity:0,to:e[E]}}),{}),f=()=>Md((v,E)=>E.from,u),c=()=>!Object.values(u).filter(zE).length,h=null,y=v=>{a||(a=v);var E=v-a,w=E/n.dt;u=pV(n,u,w),i(On(On(On({},t),e),f())),a=v,c()||(h=o.setTimeout(y))};return()=>(h=o.setTimeout(y),()=>{h()})}function TX(t,e,n,r,i,o,a){var u=null,f=i.reduce((y,v)=>On(On({},y),{},{[v]:[t[v],e[v]]}),{}),c,h=y=>{c||(c=y);var v=(y-c)/r,E=Md((A,C)=>lg(...C,n(v)),f);if(o(On(On(On({},t),e),E)),v<1)u=a.setTimeout(h);else{var w=Md((A,C)=>lg(...C,n(1)),f);o(On(On(On({},t),e),w))}};return()=>(u=a.setTimeout(h),()=>{u()})}const mV=(t,e,n,r,i,o)=>{var a=mX(t,e);return n.isStepper===!0?_X(t,e,n,a,i,o):TX(t,e,n,r,a,i,o)};function EX(t){var e,n=()=>null,r=!1,i=null,o=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var u=a,[f,...c]=u;if(typeof f=="number"){i=t.setTimeout(o.bind(null,c),f);return}o(f),i=t.setTimeout(o.bind(null,c));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),o(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class SX{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}function wX(){return EX(new SX)}var AX=P.createContext(wX);function gV(t,e){var n=P.useContext(AX);return P.useMemo(()=>e??n(t),[t,e,n])}var bX=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function GE(){return GE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GE.apply(null,arguments)}function CX(t,e){if(t==null)return{};var n,r,i=xX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Us(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_M(Object(n),!0).forEach(function(r){nl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nl(t,e,n){return(e=RX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RX(t){var e=IX(t,"string");return typeof e=="symbol"?e:e+""}function IX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class uA extends P.PureComponent{constructor(e,n){super(e,n),nl(this,"mounted",!1),nl(this,"manager",void 0),nl(this,"stopJSAnimation",null),nl(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:o,to:a,children:u,duration:f,animationManager:c}=this.props;if(this.manager=c,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||f<=0){this.state={style:{}},typeof u=="function"&&(this.state={style:a});return}if(o){if(typeof u=="function"){this.state={style:o};return}this.state={style:i?{[i]:o}:o}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:o,to:a,from:u}=this.props,{style:f}=this.state;if(r){if(!n){var c={style:i?{[i]:a}:a};this.state&&f&&(i&&f[i]!==a||!i&&f!==a)&&this.setState(c);return}if(!(aX(e.to,a)&&e.canBegin&&e.isActive)){var h=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=h||o?u:e.to;if(this.state&&f){var v={style:i?{[i]:y}:y};(i&&f[i]!==y||!i&&f!==y)&&this.setState(v)}this.runAnimation(Us(Us({},this.props),{},{from:y,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:o,begin:a,onAnimationEnd:u,onAnimationStart:f}=e,c=mV(n,r,hV(o),i,this.changeStyle,this.manager.getTimeoutController()),h=()=>{this.stopJSAnimation=c()};this.manager.start([f,a,h,i,u])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:o,easing:a,onAnimationStart:u,onAnimationEnd:f,children:c}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof c=="function"||a==="spring"){this.runJSAnimation(e);return}var h=i?{[i]:o}:o,y=pX(Object.keys(h),r,a);this.manager.start([u,n,Us(Us({},h),{},{transition:y}),r,f])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:o,easing:a,isActive:u,from:f,to:c,canBegin:h,onAnimationEnd:y,shouldReAnimate:v,onAnimationReStart:E,animationManager:w}=e,A=CX(e,bX),C=P.Children.count(n),R=this.state.style;if(typeof n=="function")return n(R);if(!u||C===0||i<=0)return n;var N=M=>{var{style:U={},className:V}=M.props,G=P.cloneElement(M,Us(Us({},A),{},{style:Us(Us({},U),R),className:V}));return G};return C===1?N(P.Children.only(n)):P.createElement("div",null,P.Children.map(n,M=>N(M)))}}nl(uA,"displayName","Animate");nl(uA,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function ug(t){var e,n=gV((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return P.createElement(uA,GE({},t,{animationManager:n}))}function cg(){return cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cg.apply(null,arguments)}var TM=(t,e,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,u=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,c;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],y=0,v=4;y<v;y++)h[y]=i[y]>o?o:i[y];c="M".concat(t,",").concat(e+a*h[0]),h[0]>0&&(c+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(t+u*h[0],",").concat(e)),c+="L ".concat(t+n-u*h[1],",").concat(e),h[1]>0&&(c+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+a*h[1])),c+="L ".concat(t+n,",").concat(e+r-a*h[2]),h[2]>0&&(c+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(t+n-u*h[2],",").concat(e+r)),c+="L ".concat(t+u*h[3],",").concat(e+r),h[3]>0&&(c+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-a*h[3])),c+="Z"}else if(o>0&&i===+i&&i>0){var E=Math.min(o,i);c="M ".concat(t,",").concat(e+a*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(t+u*E,",").concat(e,`
            L `).concat(t+n-u*E,",").concat(e,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(t+n,",").concat(e+a*E,`
            L `).concat(t+n,",").concat(e+r-a*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(t+n-u*E,",").concat(e+r,`
            L `).concat(t+u*E,",").concat(e+r,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(t,",").concat(e+r-a*E," Z")}else c="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return c},PX={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yV=t=>{var e=Pl(t,PX),n=P.useRef(null),[r,i]=P.useState(-1);P.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var R=n.current.getTotalLength();R&&i(R)}catch{}},[]);var{x:o,y:a,width:u,height:f,radius:c,className:h}=e,{animationEasing:y,animationDuration:v,animationBegin:E,isAnimationActive:w,isUpdateAnimationActive:A}=e;if(o!==+o||a!==+a||u!==+u||f!==+f||u===0||f===0)return null;var C=It("recharts-rectangle",h);return A?P.createElement(ug,{canBegin:r>0,from:{width:u,height:f,x:o,y:a},to:{width:u,height:f,x:o,y:a},duration:v,animationEasing:y,isActive:A},R=>{var{width:N,height:M,x:U,y:V}=R;return P.createElement(ug,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:E,duration:v,isActive:w,easing:y},P.createElement("path",cg({},wn(e,!0),{className:C,d:TM(U,V,N,M,c),ref:n})))}):P.createElement("path",cg({},wn(e,!0),{className:C,d:TM(o,a,u,f,c)}))};function vV(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,a=Ln(e,n,r,i),u=Ln(e,n,r,o);return{points:[a,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function KE(){return KE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KE.apply(null,arguments)}var MX=(t,e)=>{var n=Mr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},nm=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:a,cornerRadius:u,cornerIsExternal:f}=t,c=u*(a?1:-1)+r,h=Math.asin(u/c)/og,y=f?i:i+o*h,v=Ln(e,n,c,y),E=Ln(e,n,r,y),w=f?i-o*h:i,A=Ln(e,n,c*Math.cos(h*og),w);return{center:v,circleTangency:E,lineTangency:A,theta:h}},_V=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:a}=t,u=MX(o,a),f=o+u,c=Ln(e,n,i,o),h=Ln(e,n,i,f),y="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var v=Ln(e,n,r,o),E=Ln(e,n,r,f);y+="L ".concat(E.x,",").concat(E.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else y+="L ".concat(e,",").concat(n," Z");return y},NX=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:u,startAngle:f,endAngle:c}=t,h=Mr(c-f),{circleTangency:y,lineTangency:v,theta:E}=nm({cx:e,cy:n,radius:i,angle:f,sign:h,cornerRadius:o,cornerIsExternal:u}),{circleTangency:w,lineTangency:A,theta:C}=nm({cx:e,cy:n,radius:i,angle:c,sign:-h,cornerRadius:o,cornerIsExternal:u}),R=u?Math.abs(f-c):Math.abs(f-c)-E-C;if(R<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):_V({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:c});var N="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,`
  `);if(r>0){var{circleTangency:M,lineTangency:U,theta:V}=nm({cx:e,cy:n,radius:r,angle:f,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:G,lineTangency:O,theta:k}=nm({cx:e,cy:n,radius:r,angle:c,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),D=u?Math.abs(f-c):Math.abs(f-c)-V-k;if(D<0&&o===0)return"".concat(N,"L").concat(e,",").concat(n,"Z");N+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(G.x,",").concat(G.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(D>180),",").concat(+(h>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(U.x,",").concat(U.y,"Z")}else N+="L".concat(e,",").concat(n,"Z");return N},DX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},TV=t=>{var e=Pl(t,DX),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:a,forceCornerRadius:u,cornerIsExternal:f,startAngle:c,endAngle:h,className:y}=e;if(o<i||c===h)return null;var v=It("recharts-sector",y),E=o-i,w=Ti(a,E,0,!0),A;return w>0&&Math.abs(c-h)<360?A=NX({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(w,E/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:c,endAngle:h}):A=_V({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:h}),P.createElement("path",KE({},wn(e,!0),{className:v,d:A}))};function OX(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:u,cy:f,innerRadius:c,outerRadius:h,angle:y}=e,v=Ln(u,f,c,y),E=Ln(u,f,h,y);r=v.x,i=v.y,o=E.x,a=E.y}else return vV(e);return[{x:r,y:i},{x:o,y:a}]}var dT={},hT={},pT={},EM;function kX(){return EM||(EM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NU();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(pT)),pT}var SM;function LX(){return SM||(SM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kX();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(hT)),hT}var wM;function UX(){return wM||(wM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DU(),n=LX();function r(i,o,a){a&&typeof a!="number"&&e.isIterateeCall(i,o,a)&&(o=a=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),a=a===void 0?i<o?1:-1:n.toFinite(a);const u=Math.max(Math.ceil((o-i)/(a||1)),0),f=new Array(u);for(let c=0;c<u;c++)f[c]=i,i+=a;return f}t.range=r})(dT)),dT}var mT,AM;function VX(){return AM||(AM=1,mT=UX().range),mT}var BX=VX();const EV=Ei(BX);function Zs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qX(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cA(t){let e,n,r;t.length!==2?(e=Zs,n=(u,f)=>Zs(t(u),f),r=(u,f)=>t(u)-f):(e=t===Zs||t===qX?t:FX,n=t,r=t);function i(u,f,c=0,h=u.length){if(c<h){if(e(f,f)!==0)return h;do{const y=c+h>>>1;n(u[y],f)<0?c=y+1:h=y}while(c<h)}return c}function o(u,f,c=0,h=u.length){if(c<h){if(e(f,f)!==0)return h;do{const y=c+h>>>1;n(u[y],f)<=0?c=y+1:h=y}while(c<h)}return c}function a(u,f,c=0,h=u.length){const y=i(u,f,c,h-1);return y>c&&r(u[y-1],f)>-r(u[y],f)?y-1:y}return{left:i,center:a,right:o}}function FX(){return 0}function SV(t){return t===null?NaN:+t}function*$X(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const HX=cA(Zs),ih=HX.right;cA(SV).center;class bM extends Map{constructor(e,n=KX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(CM(this,e))}has(e){return super.has(CM(this,e))}set(e,n){return super.set(zX(this,e),n)}delete(e){return super.delete(GX(this,e))}}function CM({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function zX({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function GX({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function KX(t){return t!==null&&typeof t=="object"?t.valueOf():t}function jX(t=Zs){if(t===Zs)return wV;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function wV(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const YX=Math.sqrt(50),WX=Math.sqrt(10),JX=Math.sqrt(2);function fg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=YX?10:o>=WX?5:o>=JX?2:1;let u,f,c;return i<0?(c=Math.pow(10,-i)/a,u=Math.round(t*c),f=Math.round(e*c),u/c<t&&++u,f/c>e&&--f,c=-c):(c=Math.pow(10,i)*a,u=Math.round(t/c),f=Math.round(e/c),u*c<t&&++u,f*c>e&&--f),f<u&&.5<=n&&n<2?fg(t,e,n*2):[u,f,c]}function jE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?fg(e,t,n):fg(t,e,n);if(!(o>=i))return[];const u=o-i+1,f=new Array(u);if(r)if(a<0)for(let c=0;c<u;++c)f[c]=(o-c)/-a;else for(let c=0;c<u;++c)f[c]=(o-c)*a;else if(a<0)for(let c=0;c<u;++c)f[c]=(i+c)/-a;else for(let c=0;c<u;++c)f[c]=(i+c)*a;return f}function YE(t,e,n){return e=+e,t=+t,n=+n,fg(t,e,n)[2]}function WE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?YE(e,t,n):YE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function xM(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function RM(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function AV(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?wV:jX(i);r>n;){if(r-n>600){const f=r-n+1,c=e-n+1,h=Math.log(f),y=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*y*(f-y)/f)*(c-f/2<0?-1:1),E=Math.max(n,Math.floor(e-c*y/f+v)),w=Math.min(r,Math.floor(e+(f-c)*y/f+v));AV(t,e,E,w,i)}const o=t[e];let a=n,u=r;for(Gf(t,n,e),i(t[r],o)>0&&Gf(t,n,r);a<u;){for(Gf(t,a,u),++a,--u;i(t[a],o)<0;)++a;for(;i(t[u],o)>0;)--u}i(t[n],o)===0?Gf(t,n,u):(++u,Gf(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Gf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function XX(t,e,n){if(t=Float64Array.from($X(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return RM(t);if(e>=1)return xM(t);var r,i=(r-1)*e,o=Math.floor(i),a=xM(AV(t,o).subarray(0,o+1)),u=RM(t.subarray(o+1));return a+(u-a)*(i-o)}}function QX(t,e,n=SV){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return a+(u-a)*(i-o)}}function ZX(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ai(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ns(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const JE=Symbol("implicit");function fA(){var t=new bM,e=[],n=[],r=JE;function i(o){let a=t.get(o);if(a===void 0){if(r!==JE)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new bM;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return fA(e,n).unknown(r)},ai.apply(i,arguments),i}function dA(){var t=fA().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,u=!1,f=0,c=0,h=.5;delete t.unknown;function y(){var v=e().length,E=i<r,w=E?i:r,A=E?r:i;o=(A-w)/Math.max(1,v-f+c*2),u&&(o=Math.floor(o)),w+=(A-w-o*(v-f))*h,a=o*(1-f),u&&(w=Math.round(w),a=Math.round(a));var C=ZX(v).map(function(R){return w+o*R});return n(E?C.reverse():C)}return t.domain=function(v){return arguments.length?(e(v),y()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,y()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,u=!0,y()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(v){return arguments.length?(u=!!v,y()):u},t.padding=function(v){return arguments.length?(f=Math.min(1,c=+v),y()):f},t.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),y()):f},t.paddingOuter=function(v){return arguments.length?(c=+v,y()):c},t.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),y()):h},t.copy=function(){return dA(e(),[r,i]).round(u).paddingInner(f).paddingOuter(c).align(h)},ai.apply(y(),arguments)}function bV(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return bV(e())},t}function eQ(){return bV(dA.apply(null,arguments).paddingInner(1))}function hA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function CV(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function oh(){}var Nd=.7,dg=1/Nd,Fu="\\s*([+-]?\\d+)\\s*",Dd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tQ=/^#([0-9a-f]{3,8})$/,nQ=new RegExp(`^rgb\\(${Fu},${Fu},${Fu}\\)$`),rQ=new RegExp(`^rgb\\(${Zi},${Zi},${Zi}\\)$`),iQ=new RegExp(`^rgba\\(${Fu},${Fu},${Fu},${Dd}\\)$`),oQ=new RegExp(`^rgba\\(${Zi},${Zi},${Zi},${Dd}\\)$`),sQ=new RegExp(`^hsl\\(${Dd},${Zi},${Zi}\\)$`),aQ=new RegExp(`^hsla\\(${Dd},${Zi},${Zi},${Dd}\\)$`),IM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hA(oh,Od,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:PM,formatHex:PM,formatHex8:lQ,formatHsl:uQ,formatRgb:MM,toString:MM});function PM(){return this.rgb().formatHex()}function lQ(){return this.rgb().formatHex8()}function uQ(){return xV(this).formatHsl()}function MM(){return this.rgb().formatRgb()}function Od(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=tQ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?NM(e):n===3?new fr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?rm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?rm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=nQ.exec(t))?new fr(e[1],e[2],e[3],1):(e=rQ.exec(t))?new fr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=iQ.exec(t))?rm(e[1],e[2],e[3],e[4]):(e=oQ.exec(t))?rm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=sQ.exec(t))?kM(e[1],e[2]/100,e[3]/100,1):(e=aQ.exec(t))?kM(e[1],e[2]/100,e[3]/100,e[4]):IM.hasOwnProperty(t)?NM(IM[t]):t==="transparent"?new fr(NaN,NaN,NaN,0):null}function NM(t){return new fr(t>>16&255,t>>8&255,t&255,1)}function rm(t,e,n,r){return r<=0&&(t=e=n=NaN),new fr(t,e,n,r)}function cQ(t){return t instanceof oh||(t=Od(t)),t?(t=t.rgb(),new fr(t.r,t.g,t.b,t.opacity)):new fr}function XE(t,e,n,r){return arguments.length===1?cQ(t):new fr(t,e,n,r??1)}function fr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}hA(fr,XE,CV(oh,{brighter(t){return t=t==null?dg:Math.pow(dg,t),new fr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Nd:Math.pow(Nd,t),new fr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new fr(cl(this.r),cl(this.g),cl(this.b),hg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:DM,formatHex:DM,formatHex8:fQ,formatRgb:OM,toString:OM}));function DM(){return`#${rl(this.r)}${rl(this.g)}${rl(this.b)}`}function fQ(){return`#${rl(this.r)}${rl(this.g)}${rl(this.b)}${rl((isNaN(this.opacity)?1:this.opacity)*255)}`}function OM(){const t=hg(this.opacity);return`${t===1?"rgb(":"rgba("}${cl(this.r)}, ${cl(this.g)}, ${cl(this.b)}${t===1?")":`, ${t})`}`}function hg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function cl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function rl(t){return t=cl(t),(t<16?"0":"")+t.toString(16)}function kM(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new mi(t,e,n,r)}function xV(t){if(t instanceof mi)return new mi(t.h,t.s,t.l,t.opacity);if(t instanceof oh||(t=Od(t)),!t)return new mi;if(t instanceof mi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,f=(o+i)/2;return u?(e===o?a=(n-r)/u+(n<r)*6:n===o?a=(r-e)/u+2:a=(e-n)/u+4,u/=f<.5?o+i:2-o-i,a*=60):u=f>0&&f<1?0:a,new mi(a,u,f,t.opacity)}function dQ(t,e,n,r){return arguments.length===1?xV(t):new mi(t,e,n,r??1)}function mi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}hA(mi,dQ,CV(oh,{brighter(t){return t=t==null?dg:Math.pow(dg,t),new mi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Nd:Math.pow(Nd,t),new mi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new fr(gT(t>=240?t-240:t+120,i,r),gT(t,i,r),gT(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new mi(LM(this.h),im(this.s),im(this.l),hg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=hg(this.opacity);return`${t===1?"hsl(":"hsla("}${LM(this.h)}, ${im(this.s)*100}%, ${im(this.l)*100}%${t===1?")":`, ${t})`}`}}));function LM(t){return t=(t||0)%360,t<0?t+360:t}function im(t){return Math.max(0,Math.min(1,t||0))}function gT(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const pA=t=>()=>t;function hQ(t,e){return function(n){return t+n*e}}function pQ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function mQ(t){return(t=+t)==1?RV:function(e,n){return n-e?pQ(e,n,t):pA(isNaN(e)?n:e)}}function RV(t,e){var n=e-t;return n?hQ(t,n):pA(isNaN(t)?e:t)}const UM=(function t(e){var n=mQ(e);function r(i,o){var a=n((i=XE(i)).r,(o=XE(o)).r),u=n(i.g,o.g),f=n(i.b,o.b),c=RV(i.opacity,o.opacity);return function(h){return i.r=a(h),i.g=u(h),i.b=f(h),i.opacity=c(h),i+""}}return r.gamma=t,r})(1);function gQ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function yQ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function vQ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=_c(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(u){for(a=0;a<r;++a)o[a]=i[a](u);return o}}function _Q(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function pg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function TQ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=_c(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var QE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yT=new RegExp(QE.source,"g");function EQ(t){return function(){return t}}function SQ(t){return function(e){return t(e)+""}}function wQ(t,e){var n=QE.lastIndex=yT.lastIndex=0,r,i,o,a=-1,u=[],f=[];for(t=t+"",e=e+"";(r=QE.exec(t))&&(i=yT.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[a]?u[a]+=o:u[++a]=o),(r=r[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,f.push({i:a,x:pg(r,i)})),n=yT.lastIndex;return n<e.length&&(o=e.slice(n),u[a]?u[a]+=o:u[++a]=o),u.length<2?f[0]?SQ(f[0].x):EQ(e):(e=f.length,function(c){for(var h=0,y;h<e;++h)u[(y=f[h]).i]=y.x(c);return u.join("")})}function _c(t,e){var n=typeof e,r;return e==null||n==="boolean"?pA(e):(n==="number"?pg:n==="string"?(r=Od(e))?(e=r,UM):wQ:e instanceof Od?UM:e instanceof Date?_Q:yQ(e)?gQ:Array.isArray(e)?vQ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?TQ:pg)(t,e)}function mA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function AQ(t,e){e===void 0&&(e=t,t=_c);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var u=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[u](a-u)}}function bQ(t){return function(){return t}}function mg(t){return+t}var VM=[0,1];function nr(t){return t}function ZE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:bQ(isNaN(e)?NaN:.5)}function CQ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function xQ(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=ZE(i,r),o=n(a,o)):(r=ZE(r,i),o=n(o,a)),function(u){return o(r(u))}}function RQ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=ZE(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(u){var f=ih(t,u,1,r)-1;return o[f](i[f](u))}}function sh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function vy(){var t=VM,e=VM,n=_c,r,i,o,a=nr,u,f,c;function h(){var v=Math.min(t.length,e.length);return a!==nr&&(a=CQ(t[0],t[v-1])),u=v>2?RQ:xQ,f=c=null,y}function y(v){return v==null||isNaN(v=+v)?o:(f||(f=u(t.map(r),e,n)))(r(a(v)))}return y.invert=function(v){return a(i((c||(c=u(e,t.map(r),pg)))(v)))},y.domain=function(v){return arguments.length?(t=Array.from(v,mg),h()):t.slice()},y.range=function(v){return arguments.length?(e=Array.from(v),h()):e.slice()},y.rangeRound=function(v){return e=Array.from(v),n=mA,h()},y.clamp=function(v){return arguments.length?(a=v?!0:nr,h()):a!==nr},y.interpolate=function(v){return arguments.length?(n=v,h()):n},y.unknown=function(v){return arguments.length?(o=v,y):o},function(v,E){return r=v,i=E,h()}}function gA(){return vy()(nr,nr)}function IQ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function gg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function tc(t){return t=gg(Math.abs(t)),t?t[1]:NaN}function PQ(t,e){return function(n,r){for(var i=n.length,o=[],a=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),o.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[a=(a+1)%t.length];return o.reverse().join(e)}}function MQ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var NQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kd(t){if(!(e=NQ.exec(t)))throw new Error("invalid format: "+t);var e;return new yA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}kd.prototype=yA.prototype;function yA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}yA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function DQ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var IV;function OQ(t,e){var n=gg(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(IV=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+gg(t,Math.max(0,e+o-1))[0]}function BM(t,e){var n=gg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const qM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:IQ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>BM(t*100,e),r:BM,s:OQ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function FM(t){return t}var $M=Array.prototype.map,HM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function kQ(t){var e=t.grouping===void 0||t.thousands===void 0?FM:PQ($M.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?FM:MQ($M.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function c(y){y=kd(y);var v=y.fill,E=y.align,w=y.sign,A=y.symbol,C=y.zero,R=y.width,N=y.comma,M=y.precision,U=y.trim,V=y.type;V==="n"?(N=!0,V="g"):qM[V]||(M===void 0&&(M=12),U=!0,V="g"),(C||v==="0"&&E==="=")&&(C=!0,v="0",E="=");var G=A==="$"?n:A==="#"&&/[boxX]/.test(V)?"0"+V.toLowerCase():"",O=A==="$"?r:/[%p]/.test(V)?a:"",k=qM[V],D=/[defgprs%]/.test(V);M=M===void 0?6:/[gprs]/.test(V)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function $(F){var z=G,H=O,Me,be,ne;if(V==="c")H=k(F)+H,F="";else{F=+F;var pe=F<0||1/F<0;if(F=isNaN(F)?f:k(Math.abs(F),M),U&&(F=DQ(F)),pe&&+F==0&&w!=="+"&&(pe=!1),z=(pe?w==="("?w:u:w==="-"||w==="("?"":w)+z,H=(V==="s"?HM[8+IV/3]:"")+H+(pe&&w==="("?")":""),D){for(Me=-1,be=F.length;++Me<be;)if(ne=F.charCodeAt(Me),48>ne||ne>57){H=(ne===46?i+F.slice(Me+1):F.slice(Me))+H,F=F.slice(0,Me);break}}}N&&!C&&(F=e(F,1/0));var _e=z.length+F.length+H.length,Le=_e<R?new Array(R-_e+1).join(v):"";switch(N&&C&&(F=e(Le+F,Le.length?R-H.length:1/0),Le=""),E){case"<":F=z+F+H+Le;break;case"=":F=z+Le+F+H;break;case"^":F=Le.slice(0,_e=Le.length>>1)+z+F+H+Le.slice(_e);break;default:F=Le+z+F+H;break}return o(F)}return $.toString=function(){return y+""},$}function h(y,v){var E=c((y=kd(y),y.type="f",y)),w=Math.max(-8,Math.min(8,Math.floor(tc(v)/3)))*3,A=Math.pow(10,-w),C=HM[8+w/3];return function(R){return E(A*R)+C}}return{format:c,formatPrefix:h}}var om,vA,PV;LQ({thousands:",",grouping:[3],currency:["$",""]});function LQ(t){return om=kQ(t),vA=om.format,PV=om.formatPrefix,om}function UQ(t){return Math.max(0,-tc(Math.abs(t)))}function VQ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(tc(e)/3)))*3-tc(Math.abs(t)))}function BQ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,tc(e)-tc(t))+1}function MV(t,e,n,r){var i=WE(t,e,n),o;switch(r=kd(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=VQ(i,a))&&(r.precision=o),PV(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=BQ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=UQ(i))&&(r.precision=o-(r.type==="%")*2);break}}return vA(r)}function da(t){var e=t.domain;return t.ticks=function(n){var r=e();return jE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return MV(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],u=r[o],f,c,h=10;for(u<a&&(c=a,a=u,u=c,c=i,i=o,o=c);h-- >0;){if(c=YE(a,u,n),c===f)return r[i]=a,r[o]=u,e(r);if(c>0)a=Math.floor(a/c)*c,u=Math.ceil(u/c)*c;else if(c<0)a=Math.ceil(a*c)/c,u=Math.floor(u*c)/c;else break;f=c}return t},t}function NV(){var t=gA();return t.copy=function(){return sh(t,NV())},ai.apply(t,arguments),da(t)}function DV(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,mg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return DV(t).unknown(e)},t=arguments.length?Array.from(t,mg):[0,1],da(n)}function OV(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function zM(t){return Math.log(t)}function GM(t){return Math.exp(t)}function qQ(t){return-Math.log(-t)}function FQ(t){return-Math.exp(-t)}function $Q(t){return isFinite(t)?+("1e"+t):t<0?0:t}function HQ(t){return t===10?$Q:t===Math.E?Math.exp:e=>Math.pow(t,e)}function zQ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function KM(t){return(e,n)=>-t(-e,n)}function _A(t){const e=t(zM,GM),n=e.domain;let r=10,i,o;function a(){return i=zQ(r),o=HQ(r),n()[0]<0?(i=KM(i),o=KM(o),t(qQ,FQ)):t(zM,GM),e}return e.base=function(u){return arguments.length?(r=+u,a()):r},e.domain=function(u){return arguments.length?(n(u),a()):n()},e.ticks=u=>{const f=n();let c=f[0],h=f[f.length-1];const y=h<c;y&&([c,h]=[h,c]);let v=i(c),E=i(h),w,A;const C=u==null?10:+u;let R=[];if(!(r%1)&&E-v<C){if(v=Math.floor(v),E=Math.ceil(E),c>0){for(;v<=E;++v)for(w=1;w<r;++w)if(A=v<0?w/o(-v):w*o(v),!(A<c)){if(A>h)break;R.push(A)}}else for(;v<=E;++v)for(w=r-1;w>=1;--w)if(A=v>0?w/o(-v):w*o(v),!(A<c)){if(A>h)break;R.push(A)}R.length*2<C&&(R=jE(c,h,C))}else R=jE(v,E,Math.min(E-v,C)).map(o);return y?R.reverse():R},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=kd(f)).precision==null&&(f.trim=!0),f=vA(f)),u===1/0)return f;const c=Math.max(1,r*u/e.ticks().length);return h=>{let y=h/o(Math.round(i(h)));return y*r<r-.5&&(y*=r),y<=c?f(h):""}},e.nice=()=>n(OV(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function kV(){const t=_A(vy()).domain([1,10]);return t.copy=()=>sh(t,kV()).base(t.base()),ai.apply(t,arguments),t}function jM(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function YM(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function TA(t){var e=1,n=t(jM(e),YM(e));return n.constant=function(r){return arguments.length?t(jM(e=+r),YM(e)):e},da(n)}function LV(){var t=TA(vy());return t.copy=function(){return sh(t,LV()).constant(t.constant())},ai.apply(t,arguments)}function WM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function GQ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function KQ(t){return t<0?-t*t:t*t}function EA(t){var e=t(nr,nr),n=1;function r(){return n===1?t(nr,nr):n===.5?t(GQ,KQ):t(WM(n),WM(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},da(e)}function SA(){var t=EA(vy());return t.copy=function(){return sh(t,SA()).exponent(t.exponent())},ai.apply(t,arguments),t}function jQ(){return SA.apply(null,arguments).exponent(.5)}function JM(t){return Math.sign(t)*t*t}function YQ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function UV(){var t=gA(),e=[0,1],n=!1,r;function i(o){var a=YQ(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(JM(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,mg)).map(JM)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return UV(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ai.apply(i,arguments),da(i)}function VV(){var t=[],e=[],n=[],r;function i(){var a=0,u=Math.max(1,e.length);for(n=new Array(u-1);++a<u;)n[a-1]=QX(t,a/u);return o}function o(a){return a==null||isNaN(a=+a)?r:e[ih(n,a)]}return o.invertExtent=function(a){var u=e.indexOf(a);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let u of a)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Zs),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return VV().domain(t).range(e).unknown(r)},ai.apply(o,arguments)}function BV(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(f){return f!=null&&f<=f?i[ih(r,f,0,n)]:o}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return a}return a.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},a.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},a.invertExtent=function(f){var c=i.indexOf(f);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(f){return arguments.length&&(o=f),a},a.thresholds=function(){return r.slice()},a.copy=function(){return BV().domain([t,e]).range(i).unknown(o)},ai.apply(da(a),arguments)}function qV(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[ih(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return qV().domain(t).range(e).unknown(n)},ai.apply(i,arguments)}const vT=new Date,_T=new Date;function hn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),u=i.ceil(o);return o-a<u-o?a:u},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,u)=>{const f=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<a)||!(u>0))return f;let c;do f.push(c=new Date(+o)),e(o,u),t(o);while(c<o&&o<a);return f},i.filter=o=>hn(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,u)=>{if(a>=a)if(u<0)for(;++u<=0;)for(;e(a,-1),!o(a););else for(;--u>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(vT.setTime(+o),_T.setTime(+a),t(vT),t(_T),Math.floor(n(vT,_T))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const yg=hn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);yg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?hn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):yg);yg.range;const Uo=1e3,ti=Uo*60,Vo=ti*60,Jo=Vo*24,wA=Jo*7,XM=Jo*30,TT=Jo*365,il=hn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Uo)},(t,e)=>(e-t)/Uo,t=>t.getUTCSeconds());il.range;const AA=hn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Uo)},(t,e)=>{t.setTime(+t+e*ti)},(t,e)=>(e-t)/ti,t=>t.getMinutes());AA.range;const bA=hn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ti)},(t,e)=>(e-t)/ti,t=>t.getUTCMinutes());bA.range;const CA=hn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Uo-t.getMinutes()*ti)},(t,e)=>{t.setTime(+t+e*Vo)},(t,e)=>(e-t)/Vo,t=>t.getHours());CA.range;const xA=hn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Vo)},(t,e)=>(e-t)/Vo,t=>t.getUTCHours());xA.range;const ah=hn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ti)/Jo,t=>t.getDate()-1);ah.range;const _y=hn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Jo,t=>t.getUTCDate()-1);_y.range;const FV=hn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Jo,t=>Math.floor(t/Jo));FV.range;function Ml(t){return hn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ti)/wA)}const Ty=Ml(0),vg=Ml(1),WQ=Ml(2),JQ=Ml(3),nc=Ml(4),XQ=Ml(5),QQ=Ml(6);Ty.range;vg.range;WQ.range;JQ.range;nc.range;XQ.range;QQ.range;function Nl(t){return hn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/wA)}const Ey=Nl(0),_g=Nl(1),ZQ=Nl(2),eZ=Nl(3),rc=Nl(4),tZ=Nl(5),nZ=Nl(6);Ey.range;_g.range;ZQ.range;eZ.range;rc.range;tZ.range;nZ.range;const RA=hn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());RA.range;const IA=hn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());IA.range;const Xo=hn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Xo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:hn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Xo.range;const Qo=hn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Qo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:hn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Qo.range;function $V(t,e,n,r,i,o){const a=[[il,1,Uo],[il,5,5*Uo],[il,15,15*Uo],[il,30,30*Uo],[o,1,ti],[o,5,5*ti],[o,15,15*ti],[o,30,30*ti],[i,1,Vo],[i,3,3*Vo],[i,6,6*Vo],[i,12,12*Vo],[r,1,Jo],[r,2,2*Jo],[n,1,wA],[e,1,XM],[e,3,3*XM],[t,1,TT]];function u(c,h,y){const v=h<c;v&&([c,h]=[h,c]);const E=y&&typeof y.range=="function"?y:f(c,h,y),w=E?E.range(c,+h+1):[];return v?w.reverse():w}function f(c,h,y){const v=Math.abs(h-c)/y,E=cA(([,,C])=>C).right(a,v);if(E===a.length)return t.every(WE(c/TT,h/TT,y));if(E===0)return yg.every(Math.max(WE(c,h,y),1));const[w,A]=a[v/a[E-1][2]<a[E][2]/v?E-1:E];return w.every(A)}return[u,f]}const[rZ,iZ]=$V(Qo,IA,Ey,FV,xA,bA),[oZ,sZ]=$V(Xo,RA,Ty,ah,CA,AA);function ET(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ST(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Kf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function aZ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,f=t.shortMonths,c=jf(i),h=Yf(i),y=jf(o),v=Yf(o),E=jf(a),w=Yf(a),A=jf(u),C=Yf(u),R=jf(f),N=Yf(f),M={a:pe,A:_e,b:Le,B:j,c:null,d:rN,e:rN,f:PZ,g:qZ,G:$Z,H:xZ,I:RZ,j:IZ,L:HV,m:MZ,M:NZ,p:ce,q:se,Q:sN,s:aN,S:DZ,u:OZ,U:kZ,V:LZ,w:UZ,W:VZ,x:null,X:null,y:BZ,Y:FZ,Z:HZ,"%":oN},U={a:me,A:Ae,b:Ie,B:Ne,c:null,d:iN,e:iN,f:jZ,g:ree,G:oee,H:zZ,I:GZ,j:KZ,L:GV,m:YZ,M:WZ,p:Ot,q:rt,Q:sN,s:aN,S:JZ,u:XZ,U:QZ,V:ZZ,w:eee,W:tee,x:null,X:null,y:nee,Y:iee,Z:see,"%":oN},V={a:$,A:F,b:z,B:H,c:Me,d:tN,e:tN,f:wZ,g:eN,G:ZM,H:nN,I:nN,j:_Z,L:SZ,m:vZ,M:TZ,p:D,q:yZ,Q:bZ,s:CZ,S:EZ,u:dZ,U:hZ,V:pZ,w:fZ,W:mZ,x:be,X:ne,y:eN,Y:ZM,Z:gZ,"%":AZ};M.x=G(n,M),M.X=G(r,M),M.c=G(e,M),U.x=G(n,U),U.X=G(r,U),U.c=G(e,U);function G(Z,he){return function(ge){var re=[],Pe=-1,Fe=0,ht=Z.length,kt,bt,Yn;for(ge instanceof Date||(ge=new Date(+ge));++Pe<ht;)Z.charCodeAt(Pe)===37&&(re.push(Z.slice(Fe,Pe)),(bt=QM[kt=Z.charAt(++Pe)])!=null?kt=Z.charAt(++Pe):bt=kt==="e"?" ":"0",(Yn=he[kt])&&(kt=Yn(ge,bt)),re.push(kt),Fe=Pe+1);return re.push(Z.slice(Fe,Pe)),re.join("")}}function O(Z,he){return function(ge){var re=Kf(1900,void 0,1),Pe=k(re,Z,ge+="",0),Fe,ht;if(Pe!=ge.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(he&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Fe=ST(Kf(re.y,0,1)),ht=Fe.getUTCDay(),Fe=ht>4||ht===0?_g.ceil(Fe):_g(Fe),Fe=_y.offset(Fe,(re.V-1)*7),re.y=Fe.getUTCFullYear(),re.m=Fe.getUTCMonth(),re.d=Fe.getUTCDate()+(re.w+6)%7):(Fe=ET(Kf(re.y,0,1)),ht=Fe.getDay(),Fe=ht>4||ht===0?vg.ceil(Fe):vg(Fe),Fe=ah.offset(Fe,(re.V-1)*7),re.y=Fe.getFullYear(),re.m=Fe.getMonth(),re.d=Fe.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),ht="Z"in re?ST(Kf(re.y,0,1)).getUTCDay():ET(Kf(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(ht+5)%7:re.w+re.U*7-(ht+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,ST(re)):ET(re)}}function k(Z,he,ge,re){for(var Pe=0,Fe=he.length,ht=ge.length,kt,bt;Pe<Fe;){if(re>=ht)return-1;if(kt=he.charCodeAt(Pe++),kt===37){if(kt=he.charAt(Pe++),bt=V[kt in QM?he.charAt(Pe++):kt],!bt||(re=bt(Z,ge,re))<0)return-1}else if(kt!=ge.charCodeAt(re++))return-1}return re}function D(Z,he,ge){var re=c.exec(he.slice(ge));return re?(Z.p=h.get(re[0].toLowerCase()),ge+re[0].length):-1}function $(Z,he,ge){var re=E.exec(he.slice(ge));return re?(Z.w=w.get(re[0].toLowerCase()),ge+re[0].length):-1}function F(Z,he,ge){var re=y.exec(he.slice(ge));return re?(Z.w=v.get(re[0].toLowerCase()),ge+re[0].length):-1}function z(Z,he,ge){var re=R.exec(he.slice(ge));return re?(Z.m=N.get(re[0].toLowerCase()),ge+re[0].length):-1}function H(Z,he,ge){var re=A.exec(he.slice(ge));return re?(Z.m=C.get(re[0].toLowerCase()),ge+re[0].length):-1}function Me(Z,he,ge){return k(Z,e,he,ge)}function be(Z,he,ge){return k(Z,n,he,ge)}function ne(Z,he,ge){return k(Z,r,he,ge)}function pe(Z){return a[Z.getDay()]}function _e(Z){return o[Z.getDay()]}function Le(Z){return f[Z.getMonth()]}function j(Z){return u[Z.getMonth()]}function ce(Z){return i[+(Z.getHours()>=12)]}function se(Z){return 1+~~(Z.getMonth()/3)}function me(Z){return a[Z.getUTCDay()]}function Ae(Z){return o[Z.getUTCDay()]}function Ie(Z){return f[Z.getUTCMonth()]}function Ne(Z){return u[Z.getUTCMonth()]}function Ot(Z){return i[+(Z.getUTCHours()>=12)]}function rt(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var he=G(Z+="",M);return he.toString=function(){return Z},he},parse:function(Z){var he=O(Z+="",!1);return he.toString=function(){return Z},he},utcFormat:function(Z){var he=G(Z+="",U);return he.toString=function(){return Z},he},utcParse:function(Z){var he=O(Z+="",!0);return he.toString=function(){return Z},he}}}var QM={"-":"",_:" ",0:"0"},Cn=/^\s*\d+/,lZ=/^%/,uZ=/[\\^$*+?|[\]().{}]/g;function nt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function cZ(t){return t.replace(uZ,"\\$&")}function jf(t){return new RegExp("^(?:"+t.map(cZ).join("|")+")","i")}function Yf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function fZ(t,e,n){var r=Cn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function dZ(t,e,n){var r=Cn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function hZ(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function pZ(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function mZ(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ZM(t,e,n){var r=Cn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function eN(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function gZ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function yZ(t,e,n){var r=Cn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function vZ(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function tN(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function _Z(t,e,n){var r=Cn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function nN(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function TZ(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function EZ(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function SZ(t,e,n){var r=Cn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function wZ(t,e,n){var r=Cn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function AZ(t,e,n){var r=lZ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function bZ(t,e,n){var r=Cn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function CZ(t,e,n){var r=Cn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function rN(t,e){return nt(t.getDate(),e,2)}function xZ(t,e){return nt(t.getHours(),e,2)}function RZ(t,e){return nt(t.getHours()%12||12,e,2)}function IZ(t,e){return nt(1+ah.count(Xo(t),t),e,3)}function HV(t,e){return nt(t.getMilliseconds(),e,3)}function PZ(t,e){return HV(t,e)+"000"}function MZ(t,e){return nt(t.getMonth()+1,e,2)}function NZ(t,e){return nt(t.getMinutes(),e,2)}function DZ(t,e){return nt(t.getSeconds(),e,2)}function OZ(t){var e=t.getDay();return e===0?7:e}function kZ(t,e){return nt(Ty.count(Xo(t)-1,t),e,2)}function zV(t){var e=t.getDay();return e>=4||e===0?nc(t):nc.ceil(t)}function LZ(t,e){return t=zV(t),nt(nc.count(Xo(t),t)+(Xo(t).getDay()===4),e,2)}function UZ(t){return t.getDay()}function VZ(t,e){return nt(vg.count(Xo(t)-1,t),e,2)}function BZ(t,e){return nt(t.getFullYear()%100,e,2)}function qZ(t,e){return t=zV(t),nt(t.getFullYear()%100,e,2)}function FZ(t,e){return nt(t.getFullYear()%1e4,e,4)}function $Z(t,e){var n=t.getDay();return t=n>=4||n===0?nc(t):nc.ceil(t),nt(t.getFullYear()%1e4,e,4)}function HZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+nt(e/60|0,"0",2)+nt(e%60,"0",2)}function iN(t,e){return nt(t.getUTCDate(),e,2)}function zZ(t,e){return nt(t.getUTCHours(),e,2)}function GZ(t,e){return nt(t.getUTCHours()%12||12,e,2)}function KZ(t,e){return nt(1+_y.count(Qo(t),t),e,3)}function GV(t,e){return nt(t.getUTCMilliseconds(),e,3)}function jZ(t,e){return GV(t,e)+"000"}function YZ(t,e){return nt(t.getUTCMonth()+1,e,2)}function WZ(t,e){return nt(t.getUTCMinutes(),e,2)}function JZ(t,e){return nt(t.getUTCSeconds(),e,2)}function XZ(t){var e=t.getUTCDay();return e===0?7:e}function QZ(t,e){return nt(Ey.count(Qo(t)-1,t),e,2)}function KV(t){var e=t.getUTCDay();return e>=4||e===0?rc(t):rc.ceil(t)}function ZZ(t,e){return t=KV(t),nt(rc.count(Qo(t),t)+(Qo(t).getUTCDay()===4),e,2)}function eee(t){return t.getUTCDay()}function tee(t,e){return nt(_g.count(Qo(t)-1,t),e,2)}function nee(t,e){return nt(t.getUTCFullYear()%100,e,2)}function ree(t,e){return t=KV(t),nt(t.getUTCFullYear()%100,e,2)}function iee(t,e){return nt(t.getUTCFullYear()%1e4,e,4)}function oee(t,e){var n=t.getUTCDay();return t=n>=4||n===0?rc(t):rc.ceil(t),nt(t.getUTCFullYear()%1e4,e,4)}function see(){return"+0000"}function oN(){return"%"}function sN(t){return+t}function aN(t){return Math.floor(+t/1e3)}var xu,jV,YV;aee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function aee(t){return xu=aZ(t),jV=xu.format,xu.parse,YV=xu.utcFormat,xu.utcParse,xu}function lee(t){return new Date(t)}function uee(t){return t instanceof Date?+t:+new Date(+t)}function PA(t,e,n,r,i,o,a,u,f,c){var h=gA(),y=h.invert,v=h.domain,E=c(".%L"),w=c(":%S"),A=c("%I:%M"),C=c("%I %p"),R=c("%a %d"),N=c("%b %d"),M=c("%B"),U=c("%Y");function V(G){return(f(G)<G?E:u(G)<G?w:a(G)<G?A:o(G)<G?C:r(G)<G?i(G)<G?R:N:n(G)<G?M:U)(G)}return h.invert=function(G){return new Date(y(G))},h.domain=function(G){return arguments.length?v(Array.from(G,uee)):v().map(lee)},h.ticks=function(G){var O=v();return t(O[0],O[O.length-1],G??10)},h.tickFormat=function(G,O){return O==null?V:c(O)},h.nice=function(G){var O=v();return(!G||typeof G.range!="function")&&(G=e(O[0],O[O.length-1],G??10)),G?v(OV(O,G)):h},h.copy=function(){return sh(h,PA(t,e,n,r,i,o,a,u,f,c))},h}function cee(){return ai.apply(PA(oZ,sZ,Xo,RA,Ty,ah,CA,AA,il,jV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fee(){return ai.apply(PA(rZ,iZ,Qo,IA,Ey,_y,xA,bA,il,YV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Sy(){var t=0,e=1,n,r,i,o,a=nr,u=!1,f;function c(y){return y==null||isNaN(y=+y)?f:a(i===0?.5:(y=(o(y)-n)*i,u?Math.max(0,Math.min(1,y)):y))}c.domain=function(y){return arguments.length?([t,e]=y,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(y){return arguments.length?(u=!!y,c):u},c.interpolator=function(y){return arguments.length?(a=y,c):a};function h(y){return function(v){var E,w;return arguments.length?([E,w]=v,a=y(E,w),c):[a(0),a(1)]}}return c.range=h(_c),c.rangeRound=h(mA),c.unknown=function(y){return arguments.length?(f=y,c):f},function(y){return o=y,n=y(t),r=y(e),i=n===r?0:1/(r-n),c}}function ha(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function WV(){var t=da(Sy()(nr));return t.copy=function(){return ha(t,WV())},ns.apply(t,arguments)}function JV(){var t=_A(Sy()).domain([1,10]);return t.copy=function(){return ha(t,JV()).base(t.base())},ns.apply(t,arguments)}function XV(){var t=TA(Sy());return t.copy=function(){return ha(t,XV()).constant(t.constant())},ns.apply(t,arguments)}function MA(){var t=EA(Sy());return t.copy=function(){return ha(t,MA()).exponent(t.exponent())},ns.apply(t,arguments)}function dee(){return MA.apply(null,arguments).exponent(.5)}function QV(){var t=[],e=nr;function n(r){if(r!=null&&!isNaN(r=+r))return e((ih(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Zs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>XX(t,o/r))},n.copy=function(){return QV(e).domain(t)},ns.apply(n,arguments)}function wy(){var t=0,e=.5,n=1,r=1,i,o,a,u,f,c=nr,h,y=!1,v;function E(A){return isNaN(A=+A)?v:(A=.5+((A=+h(A))-o)*(r*A<r*o?u:f),c(y?Math.max(0,Math.min(1,A)):A))}E.domain=function(A){return arguments.length?([t,e,n]=A,i=h(t=+t),o=h(e=+e),a=h(n=+n),u=i===o?0:.5/(o-i),f=o===a?0:.5/(a-o),r=o<i?-1:1,E):[t,e,n]},E.clamp=function(A){return arguments.length?(y=!!A,E):y},E.interpolator=function(A){return arguments.length?(c=A,E):c};function w(A){return function(C){var R,N,M;return arguments.length?([R,N,M]=C,c=AQ(A,[R,N,M]),E):[c(0),c(.5),c(1)]}}return E.range=w(_c),E.rangeRound=w(mA),E.unknown=function(A){return arguments.length?(v=A,E):v},function(A){return h=A,i=A(t),o=A(e),a=A(n),u=i===o?0:.5/(o-i),f=o===a?0:.5/(a-o),r=o<i?-1:1,E}}function ZV(){var t=da(wy()(nr));return t.copy=function(){return ha(t,ZV())},ns.apply(t,arguments)}function e4(){var t=_A(wy()).domain([.1,1,10]);return t.copy=function(){return ha(t,e4()).base(t.base())},ns.apply(t,arguments)}function t4(){var t=TA(wy());return t.copy=function(){return ha(t,t4()).constant(t.constant())},ns.apply(t,arguments)}function NA(){var t=EA(wy());return t.copy=function(){return ha(t,NA()).exponent(t.exponent())},ns.apply(t,arguments)}function hee(){return NA.apply(null,arguments).exponent(.5)}const id=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:dA,scaleDiverging:ZV,scaleDivergingLog:e4,scaleDivergingPow:NA,scaleDivergingSqrt:hee,scaleDivergingSymlog:t4,scaleIdentity:DV,scaleImplicit:JE,scaleLinear:NV,scaleLog:kV,scaleOrdinal:fA,scalePoint:eQ,scalePow:SA,scaleQuantile:VV,scaleQuantize:BV,scaleRadial:UV,scaleSequential:WV,scaleSequentialLog:JV,scaleSequentialPow:MA,scaleSequentialQuantile:QV,scaleSequentialSqrt:dee,scaleSequentialSymlog:XV,scaleSqrt:jQ,scaleSymlog:LV,scaleThreshold:qV,scaleTime:cee,scaleUtc:fee,tickFormat:MV},Symbol.toStringTag,{value:"Module"}));var pa=t=>t.chartData,pee=oe([pa],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),DA=(t,e,n,r)=>r?pee(t):pa(t);function ic(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(kr(e)&&kr(n))return!0}return!1}function lN(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function mee(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(kr(n))i=n;else if(typeof n=="function")return;if(kr(r))o=r;else if(typeof r=="function")return;var a=[i,o];if(ic(a))return a}}function gee(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(ic(r))return lN(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,a,u;if(i==="auto")e!=null&&(a=Math.min(...e));else if(xe(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&XP.test(i)){var f=XP.exec(i);if(f==null||e==null)a=void 0;else{var c=+f[1];a=e[0]-c}}else a=e==null?void 0:e[0];if(o==="auto")e!=null&&(u=Math.max(...e));else if(xe(o))u=o;else if(typeof o=="function")try{e!=null&&(u=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&QP.test(o)){var h=QP.exec(o);if(h==null||e==null)u=void 0;else{var y=+h[1];u=e[1]+y}}else u=e==null?void 0:e[1];var v=[a,u];if(ic(v))return e==null?v:lN(v,e,n)}}}var Tc=1e9,yee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},kA,Nt=!0,si="[DecimalError] ",fl=si+"Invalid argument: ",OA=si+"Exponent out of range: ",Ec=Math.floor,Qa=Math.pow,vee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Rr,Sn=1e7,xt=7,n4=9007199254740991,Tg=Ec(n4/xt),Ee={};Ee.absoluteValue=Ee.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ee.comparedTo=Ee.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*xt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ee.dividedBy=Ee.div=function(t){return $o(this,new this.constructor(t))};Ee.dividedToIntegerBy=Ee.idiv=function(t){var e=this,n=e.constructor;return Tt($o(e,new n(t),0,1),n.precision)};Ee.equals=Ee.eq=function(t){return!this.cmp(t)};Ee.exponent=function(){return nn(this)};Ee.greaterThan=Ee.gt=function(t){return this.cmp(t)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(t){return this.cmp(t)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(t){return this.cmp(t)<0};Ee.lessThanOrEqualTo=Ee.lte=function(t){return this.cmp(t)<1};Ee.logarithm=Ee.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Rr))throw Error(si+"NaN");if(n.s<1)throw Error(si+(n.s?"NaN":"-Infinity"));return n.eq(Rr)?new r(0):(Nt=!1,e=$o(Ld(n,o),Ld(t,o),o),Nt=!0,Tt(e,i))};Ee.minus=Ee.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?o4(e,t):r4(e,(t.s=-t.s,t))};Ee.modulo=Ee.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(si+"NaN");return n.s?(Nt=!1,e=$o(n,t,0,1).times(t),Nt=!0,n.minus(e)):Tt(new r(n),i)};Ee.naturalExponential=Ee.exp=function(){return i4(this)};Ee.naturalLogarithm=Ee.ln=function(){return Ld(this)};Ee.negated=Ee.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ee.plus=Ee.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?r4(e,t):o4(e,(t.s=-t.s,t))};Ee.precision=Ee.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(fl+t);if(e=nn(i)+1,r=i.d.length-1,n=r*xt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ee.squareRoot=Ee.sqrt=function(){var t,e,n,r,i,o,a,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(si+"NaN")}for(t=nn(u),Nt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Gi(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ec((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=a=n+3;;)if(o=r,r=o.plus($o(u,o,a+2)).times(.5),Gi(o.d).slice(0,a)===(e=Gi(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Tt(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(e!="9999")break;a+=4}return Nt=!0,Tt(r,n)};Ee.times=Ee.mul=function(t){var e,n,r,i,o,a,u,f,c,h=this,y=h.constructor,v=h.d,E=(t=new y(t)).d;if(!h.s||!t.s)return new y(0);for(t.s*=h.s,n=h.e+t.e,f=v.length,c=E.length,f<c&&(o=v,v=E,E=o,a=f,f=c,c=a),o=[],a=f+c,r=a;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=f+r;i>r;)u=o[i]+E[r]*v[i-r-1]+e,o[i--]=u%Sn|0,e=u/Sn|0;o[i]=(o[i]+e)%Sn|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Nt?Tt(t,y.precision):t};Ee.toDecimalPlaces=Ee.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(no(t,0,Tc),e===void 0?e=r.rounding:no(e,0,8),Tt(n,t+nn(n)+1,e))};Ee.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Sl(r,!0):(no(t,0,Tc),e===void 0?e=i.rounding:no(e,0,8),r=Tt(new i(r),t+1,e),n=Sl(r,!0,t+1)),n};Ee.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Sl(i):(no(t,0,Tc),e===void 0?e=o.rounding:no(e,0,8),r=Tt(new o(i),t+nn(i)+1,e),n=Sl(r.abs(),!1,t+nn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ee.toInteger=Ee.toint=function(){var t=this,e=t.constructor;return Tt(new e(t),nn(t)+1,e.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(t){var e,n,r,i,o,a,u=this,f=u.constructor,c=12,h=+(t=new f(t));if(!t.s)return new f(Rr);if(u=new f(u),!u.s){if(t.s<1)throw Error(si+"Infinity");return u}if(u.eq(Rr))return u;if(r=f.precision,t.eq(Rr))return Tt(u,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=u.s,a){if((n=h<0?-h:h)<=n4){for(i=new f(Rr),e=Math.ceil(r/xt+4),Nt=!1;n%2&&(i=i.times(u),cN(i.d,e)),n=Ec(n/2),n!==0;)u=u.times(u),cN(u.d,e);return Nt=!0,t.s<0?new f(Rr).div(i):Tt(i,r)}}else if(o<0)throw Error(si+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Nt=!1,i=t.times(Ld(u,r+c)),Nt=!0,i=i4(i),i.s=o,i};Ee.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=nn(i),r=Sl(i,n<=o.toExpNeg||n>=o.toExpPos)):(no(t,1,Tc),e===void 0?e=o.rounding:no(e,0,8),i=Tt(new o(i),t,e),n=nn(i),r=Sl(i,t<=n||n<=o.toExpNeg,t)),r};Ee.toSignificantDigits=Ee.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(no(t,1,Tc),e===void 0?e=r.rounding:no(e,0,8)),Tt(new r(n),t,e)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=nn(t),n=t.constructor;return Sl(t,e<=n.toExpNeg||e>=n.toExpPos)};function r4(t,e){var n,r,i,o,a,u,f,c,h=t.constructor,y=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Nt?Tt(e,y):e;if(f=t.d,c=e.d,a=t.e,i=e.e,f=f.slice(),o=a-i,o){for(o<0?(r=f,o=-o,u=c.length):(r=c,i=a,u=f.length),a=Math.ceil(y/xt),u=a>u?a+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=f.length,o=c.length,u-o<0&&(o=u,r=c,c=f,f=r),n=0;o;)n=(f[--o]=f[o]+c[o]+n)/Sn|0,f[o]%=Sn;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,Nt?Tt(e,y):e}function no(t,e,n){if(t!==~~t||t<e||t>n)throw Error(fl+t)}function Gi(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=xt-r.length,n&&(o+=Vs(n)),o+=r;a=t[e],r=a+"",n=xt-r.length,n&&(o+=Vs(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var $o=(function(){function t(r,i){var o,a=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+a,r[u]=o%Sn|0,a=o/Sn|0;return a&&r.unshift(a),r}function e(r,i,o,a){var u,f;if(o!=a)f=o>a?1:-1;else for(u=f=0;u<o;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Sn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var u,f,c,h,y,v,E,w,A,C,R,N,M,U,V,G,O,k,D=r.constructor,$=r.s==i.s?1:-1,F=r.d,z=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(si+"Division by zero");for(f=r.e-i.e,O=z.length,V=F.length,E=new D($),w=E.d=[],c=0;z[c]==(F[c]||0);)++c;if(z[c]>(F[c]||0)&&--f,o==null?N=o=D.precision:a?N=o+(nn(r)-nn(i))+1:N=o,N<0)return new D(0);if(N=N/xt+2|0,c=0,O==1)for(h=0,z=z[0],N++;(c<V||h)&&N--;c++)M=h*Sn+(F[c]||0),w[c]=M/z|0,h=M%z|0;else{for(h=Sn/(z[0]+1)|0,h>1&&(z=t(z,h),F=t(F,h),O=z.length,V=F.length),U=O,A=F.slice(0,O),C=A.length;C<O;)A[C++]=0;k=z.slice(),k.unshift(0),G=z[0],z[1]>=Sn/2&&++G;do h=0,u=e(z,A,O,C),u<0?(R=A[0],O!=C&&(R=R*Sn+(A[1]||0)),h=R/G|0,h>1?(h>=Sn&&(h=Sn-1),y=t(z,h),v=y.length,C=A.length,u=e(y,A,v,C),u==1&&(h--,n(y,O<v?k:z,v))):(h==0&&(u=h=1),y=z.slice()),v=y.length,v<C&&y.unshift(0),n(A,y,C),u==-1&&(C=A.length,u=e(z,A,O,C),u<1&&(h++,n(A,O<C?k:z,C))),C=A.length):u===0&&(h++,A=[0]),w[c++]=h,u&&A[0]?A[C++]=F[U]||0:(A=[F[U]],C=1);while((U++<V||A[0]!==void 0)&&N--)}return w[0]||w.shift(),E.e=f,Tt(E,a?o+nn(E)+1:o)}})();function i4(t,e){var n,r,i,o,a,u,f=0,c=0,h=t.constructor,y=h.precision;if(nn(t)>16)throw Error(OA+nn(t));if(!t.s)return new h(Rr);for(Nt=!1,u=y,a=new h(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(Qa(2,c))/Math.LN10*2+5|0,u+=r,n=i=o=new h(Rr),h.precision=u;;){if(i=Tt(i.times(t),u),n=n.times(++f),a=o.plus($o(i,n,u)),Gi(a.d).slice(0,u)===Gi(o.d).slice(0,u)){for(;c--;)o=Tt(o.times(o),u);return h.precision=y,e==null?(Nt=!0,Tt(o,y)):o}o=a}}function nn(t){for(var e=t.e*xt,n=t.d[0];n>=10;n/=10)e++;return e}function wT(t,e,n){if(e>t.LN10.sd())throw Nt=!0,n&&(t.precision=n),Error(si+"LN10 precision limit exceeded");return Tt(new t(t.LN10),e)}function Vs(t){for(var e="";t--;)e+="0";return e}function Ld(t,e){var n,r,i,o,a,u,f,c,h,y=1,v=10,E=t,w=E.d,A=E.constructor,C=A.precision;if(E.s<1)throw Error(si+(E.s?"NaN":"-Infinity"));if(E.eq(Rr))return new A(0);if(e==null?(Nt=!1,c=C):c=e,E.eq(10))return e==null&&(Nt=!0),wT(A,c);if(c+=v,A.precision=c,n=Gi(w),r=n.charAt(0),o=nn(E),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)E=E.times(t),n=Gi(E.d),r=n.charAt(0),y++;o=nn(E),r>1?(E=new A("0."+n),o++):E=new A(r+"."+n.slice(1))}else return f=wT(A,c+2,C).times(o+""),E=Ld(new A(r+"."+n.slice(1)),c-v).plus(f),A.precision=C,e==null?(Nt=!0,Tt(E,C)):E;for(u=a=E=$o(E.minus(Rr),E.plus(Rr),c),h=Tt(E.times(E),c),i=3;;){if(a=Tt(a.times(h),c),f=u.plus($o(a,new A(i),c)),Gi(f.d).slice(0,c)===Gi(u.d).slice(0,c))return u=u.times(2),o!==0&&(u=u.plus(wT(A,c+2,C).times(o+""))),u=$o(u,new A(y),c),A.precision=C,e==null?(Nt=!0,Tt(u,C)):u;u=f,i+=2}}function uN(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ec(n/xt),t.d=[],r=(n+1)%xt,n<0&&(r+=xt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=xt;r<i;)t.d.push(+e.slice(r,r+=xt));e=e.slice(r),r=xt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Nt&&(t.e>Tg||t.e<-Tg))throw Error(OA+n)}else t.s=0,t.e=0,t.d=[0];return t}function Tt(t,e,n){var r,i,o,a,u,f,c,h,y=t.d;for(a=1,o=y[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=xt,i=e,c=y[h=0];else{if(h=Math.ceil((r+1)/xt),o=y.length,h>=o)return t;for(c=o=y[h],a=1;o>=10;o/=10)a++;r%=xt,i=r-xt+a}if(n!==void 0&&(o=Qa(10,a-i-1),u=c/o%10|0,f=e<0||y[h+1]!==void 0||c%o,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?c/Qa(10,a-i):0:y[h-1])%10&1||n==(t.s<0?8:7))),e<1||!y[0])return f?(o=nn(t),y.length=1,e=e-o-1,y[0]=Qa(10,(xt-e%xt)%xt),t.e=Ec(-e/xt)||0):(y.length=1,y[0]=t.e=t.s=0),t;if(r==0?(y.length=h,o=1,h--):(y.length=h+1,o=Qa(10,xt-r),y[h]=i>0?(c/Qa(10,a-i)%Qa(10,i)|0)*o:0),f)for(;;)if(h==0){(y[0]+=o)==Sn&&(y[0]=1,++t.e);break}else{if(y[h]+=o,y[h]!=Sn)break;y[h--]=0,o=1}for(r=y.length;y[--r]===0;)y.pop();if(Nt&&(t.e>Tg||t.e<-Tg))throw Error(OA+nn(t));return t}function o4(t,e){var n,r,i,o,a,u,f,c,h,y,v=t.constructor,E=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Nt?Tt(e,E):e;if(f=t.d,y=e.d,r=e.e,c=t.e,f=f.slice(),a=c-r,a){for(h=a<0,h?(n=f,a=-a,u=y.length):(n=y,r=c,u=f.length),i=Math.max(Math.ceil(E/xt),u)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=y.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(f[i]!=y[i]){h=f[i]<y[i];break}a=0}for(h&&(n=f,f=y,y=n,e.s=-e.s),u=f.length,i=y.length-u;i>0;--i)f[u++]=0;for(i=y.length;i>a;){if(f[--i]<y[i]){for(o=i;o&&f[--o]===0;)f[o]=Sn-1;--f[o],f[i]+=Sn}f[i]-=y[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Nt?Tt(e,E):e):new v(0)}function Sl(t,e,n){var r,i=nn(t),o=Gi(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Vs(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Vs(-i-1)+o,n&&(r=n-a)>0&&(o+=Vs(r))):i>=a?(o+=Vs(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Vs(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Vs(r))),t.s<0?"-"+o:o}function cN(t,e){if(t.length>e)return t.length=e,!0}function s4(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(fl+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return uN(a,o.toString())}else if(typeof o!="string")throw Error(fl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,vee.test(o))uN(a,o);else throw Error(fl+o)}if(i.prototype=Ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=s4,i.config=i.set=_ee,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function _ee(t){if(!t||typeof t!="object")throw Error(si+"Object expected");var e,n,r,i=["precision",1,Tc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ec(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(fl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(fl+n+": "+r);return this}var kA=s4(yee);Rr=new kA(1);const ft=kA;var Tee=t=>t,a4={},l4=t=>t===a4,fN=t=>function e(){return arguments.length===0||arguments.length===1&&l4(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},u4=(t,e)=>t===1?e:fN(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(a=>a!==a4).length;return o>=t?e(...r):u4(t-o,fN(function(){for(var a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];var c=r.map(h=>l4(h)?u.shift():h);return e(...c,...u)}))}),Ay=t=>u4(t.length,t),eS=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Eee=Ay((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),See=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Tee;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce((u,f)=>f(u),o(...arguments))}},tS=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),c4=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e&&i.every((a,u)=>{var f;return a===((f=e)===null||f===void 0?void 0:f[u])})||(e=i,n=t(...i)),n}};function f4(t){var e;return t===0?e=1:e=Math.floor(new ft(t).abs().log(10).toNumber())+1,e}function d4(t,e,n){for(var r=new ft(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}Ay((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});Ay((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});Ay((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var h4=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},p4=(t,e,n)=>{if(t.lte(0))return new ft(0);var r=f4(t.toNumber()),i=new ft(10).pow(r),o=t.div(i),a=r!==1?.05:.1,u=new ft(Math.ceil(o.div(a).toNumber())).add(n).mul(a),f=u.mul(i);return e?new ft(f.toNumber()):new ft(Math.ceil(f.toNumber()))},wee=(t,e,n)=>{var r=new ft(1),i=new ft(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new ft(10).pow(f4(t)-1),i=new ft(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new ft(Math.floor(t)))}else t===0?i=new ft(Math.floor((e-1)/2)):n||(i=new ft(Math.floor(t)));var a=Math.floor((e-1)/2),u=See(Eee(f=>i.add(new ft(f-a).mul(r)).toNumber()),eS);return u(0,e)},m4=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new ft(0),tickMin:new ft(0),tickMax:new ft(0)};var a=p4(new ft(n).sub(e).div(r-1),i,o),u;e<=0&&n>=0?u=new ft(0):(u=new ft(e).add(n).div(2),u=u.sub(new ft(u).mod(a)));var f=Math.ceil(u.sub(e).div(a).toNumber()),c=Math.ceil(new ft(n).sub(u).div(a).toNumber()),h=f+c+1;return h>r?m4(e,n,r,i,o+1):(h<r&&(c=n>0?c+(r-h):c,f=n>0?f:f+(r-h)),{step:a,tickMin:u.sub(new ft(f).mul(a)),tickMax:u.add(new ft(c).mul(a))})};function Aee(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[a,u]=h4([e,n]);if(a===-1/0||u===1/0){var f=u===1/0?[a,...eS(0,r-1).map(()=>1/0)]:[...eS(0,r-1).map(()=>-1/0),u];return e>n?tS(f):f}if(a===u)return wee(a,r,i);var{step:c,tickMin:h,tickMax:y}=m4(a,u,o,i,0),v=d4(h,y.add(new ft(.1).mul(c)),c);return e>n?tS(v):v}function bee(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,a]=h4([n,r]);if(o===-1/0||a===1/0)return[n,r];if(o===a)return[o];var u=Math.max(e,2),f=p4(new ft(a).sub(o).div(u-1),i,0),c=[...d4(new ft(o),new ft(a),f),a];return i===!1&&(c=c.map(h=>Math.round(h))),n>r?tS(c):c}var Cee=c4(Aee),xee=c4(bee),g4=t=>t.rootProps.maxBarSize,Ree=t=>t.rootProps.barGap,y4=t=>t.rootProps.barCategoryGap,Iee=t=>t.rootProps.barSize,by=t=>t.rootProps.stackOffset,LA=t=>t.options.chartName,UA=t=>t.rootProps.syncId,v4=t=>t.rootProps.syncMethod,VA=t=>t.options.eventEmitter,Do={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Cr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Cy=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Pee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Do.angleAxisId,includeHidden:!1,name:void 0,reversed:Do.reversed,scale:Do.scale,tick:Do.tick,tickCount:void 0,ticks:void 0,type:Do.type,unit:void 0},Mee={allowDataOverflow:Cr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Cr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Cr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Cr.scale,tick:Cr.tick,tickCount:Cr.tickCount,ticks:void 0,type:Cr.type,unit:void 0},Nee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Do.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Do.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Do.scale,tick:Do.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Dee={allowDataOverflow:Cr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Cr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Cr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Cr.scale,tick:Cr.tick,tickCount:Cr.tickCount,ticks:void 0,type:"category",unit:void 0},BA=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Nee:Pee,qA=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Dee:Mee,xy=t=>t.polarOptions,FA=oe([es,ts,bn],OW),_4=oe([xy,FA],(t,e)=>{if(t!=null)return Ti(t.innerRadius,e,0)}),T4=oe([xy,FA],(t,e)=>{if(t!=null)return Ti(t.outerRadius,e,e*.8)}),Oee=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},E4=oe([xy],Oee);oe([BA,E4],Cy);var S4=oe([FA,_4,T4],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});oe([qA,S4],Cy);var w4=oe([dt,xy,_4,T4,es,ts],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:u,startAngle:f,endAngle:c}=e;return{cx:Ti(a,i,i/2),cy:Ti(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:c,clockWise:!1}}}),rn=(t,e)=>e,Ry=(t,e,n)=>n;function $A(t){return t==null?void 0:t.id}var pn=t=>{var e=dt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Sc=t=>t.tooltip.settings.axisId,mn=t=>{var e=pn(t),n=Sc(t);return lh(t,e,n)};function A4(t,e,n){var{chartData:r=[]}=e,i=n==null?void 0:n.dataKey,o=new Map;return t.forEach(a=>{var u,f=(u=a.data)!==null&&u!==void 0?u:r;if(!(f==null||f.length===0)){var c=$A(a);f.forEach((h,y)=>{var v=i==null?y:String(rr(h,i,null)),E=rr(h,a.dataKey,0),w;o.has(v)?w=o.get(v):w={},Object.assign(w,{[c]:E}),o.set(v,w)})}}),Array.from(o.values())}function Iy(t){return t.stackId!=null&&t.dataKey!=null}function dN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dN(Object(n),!0).forEach(function(r){kee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kee(t,e,n){return(e=Lee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lee(t){var e=Uee(t,"string");return typeof e=="symbol"?e:e+""}function Uee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nS=[0,"auto"],Ar={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},rs=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??Ar},br={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:nS,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:my},ma=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??br},Vee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},HA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Vee},hr=(t,e,n)=>{switch(e){case"xAxis":return rs(t,n);case"yAxis":return ma(t,n);case"zAxis":return HA(t,n);case"angleAxis":return BA(t,n);case"radiusAxis":return qA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Bee=(t,e,n)=>{switch(e){case"xAxis":return rs(t,n);case"yAxis":return ma(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},lh=(t,e,n)=>{switch(e){case"xAxis":return rs(t,n);case"yAxis":return ma(t,n);case"angleAxis":return BA(t,n);case"radiusAxis":return qA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},b4=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function C4(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var zA=t=>t.graphicalItems.cartesianItems,qee=oe([rn,Ry],C4),x4=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),uh=oe([zA,hr,qee],x4),R4=oe([uh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Iy)),I4=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),P4=oe([uh],I4),M4=t=>t.map(e=>e.data).filter(Boolean).flat(1),Fee=oe([uh],M4),N4=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},GA=oe([Fee,DA],N4),D4=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:rr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:rr(i,r)}))):t.map(r=>({value:r})),Py=oe([GA,hr,uh],D4);function O4(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Dl(t){return t.filter(e=>to(e)||e instanceof Date).map(Number).filter(e=>ii(e)===!1)}function $ee(t,e,n){return!n||typeof e!="number"||ii(e)?[]:n.length?Dl(n.flatMap(r=>{var i=rr(t,r.dataKey),o,a;if(Array.isArray(i)?[o,a]=i:o=a=i,!(!kr(o)||!kr(a)))return[e-o,e+a]})):[]}var Hee=oe([R4,DA,mn],A4),k4=(t,e,n)=>{var r={},i=e.reduce((o,a)=>(a.stackId==null||(o[a.stackId]==null&&(o[a.stackId]=[]),o[a.stackId].push(a)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[a,u]=o,f=u.map($A);return[a,{stackedData:JW(t,f,n),graphicalItems:u}]}))},rS=oe([Hee,R4,by],k4),L4=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var o=tJ(t,r,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},zee=oe([rS,pa,rn],L4),U4=(t,e,n,r,i)=>n.length>0?t.flatMap(o=>n.flatMap(a=>{var u,f,c=(u=r[a.id])===null||u===void 0?void 0:u.filter(y=>O4(i,y)),h=rr(o,(f=e.dataKey)!==null&&f!==void 0?f:a.dataKey);return{value:h,errorDomain:$ee(o,h,c)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(o=>({value:rr(o,e.dataKey),errorDomain:[]})):t.map(o=>({value:o,errorDomain:[]})),My=t=>t.errorBars,V4=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>O4(n,r));oe([P4,My,rn],V4);var Gee=oe([GA,hr,P4,My,rn],U4);function Kee(t){var{value:e}=t;if(to(e)||e instanceof Date)return e}var hN=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Dl(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},jee=(t,e,n)=>{var r=t.map(Kee).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&rU(r))?EV(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},KA=t=>{var e;if(t==null||!("domain"in t))return nS;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Dl(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:nS},Sg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),a=Math.min(...o),u=Math.max(...o);return[a,u]}},B4=t=>t.referenceElements.dots,wc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Yee=oe([B4,rn,Ry],wc),q4=t=>t.referenceElements.areas,Wee=oe([q4,rn,Ry],wc),F4=t=>t.referenceElements.lines,Jee=oe([F4,rn,Ry],wc),$4=(t,e)=>{var n=Dl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Xee=oe(Yee,rn,$4),H4=(t,e)=>{var n=Dl(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Qee=oe([Wee,rn],H4),z4=(t,e)=>{var n=Dl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Zee=oe(Jee,rn,z4),ete=oe(Xee,Zee,Qee,(t,e,n)=>Sg(t,n,e)),tte=oe([hr],KA),G4=(t,e,n,r,i,o,a)=>{var u=mee(e,t.allowDataOverflow);if(u!=null)return u;var f=o==="vertical"&&a==="xAxis"||o==="horizontal"&&a==="yAxis",c=f?Sg(n,i,hN(r)):Sg(i,hN(r));return gee(e,c,t.allowDataOverflow)},nte=oe([hr,tte,zee,Gee,ete,dt,rn],G4),rte=[0,1],K4=(t,e,n,r,i,o,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:u,type:f}=t,c=Il(e,o);return c&&u==null?EV(0,n.length):f==="category"?jee(r,t,c):i==="expand"?rte:a}},jA=oe([hr,dt,GA,Py,by,rn,nte],K4),j4=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:a}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(eh(o));return u in id?u:"point"}}},ch=oe([hr,dt,b4,LA,rn],j4);function ite(t){if(t!=null){if(t in id)return id[t]();var e="scale".concat(eh(t));if(e in id)return id[e]()}}function YA(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=ite(e);if(i!=null){var o=i.domain(n).range(r);return GW(o),o}}}var Y4=(t,e,n)=>{var r=KA(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ic(t))return Cee(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ic(t))return xee(t,e.tickCount,e.allowDecimals)}},WA=oe([jA,lh,ch],Y4),W4=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&ic(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],a=e[1],u=n[n.length-1];return[Math.min(i,o),Math.max(a,u)]}return e},ote=oe([hr,jA,WA,rn],W4),ste=oe(Py,hr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Dl(t.map(u=>u.value))).sort((u,f)=>u-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var a=r[o+1]-r[o];n=Math.min(n,a)}return n/i}}),J4=oe(ste,dt,y4,bn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!kr(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var a=Ti(n,t*o),u=t*o/2;return u-a-(u-a)/o*a}return 0}),ate=(t,e)=>{var n=rs(t,e);return n==null||typeof n.padding!="string"?0:J4(t,"xAxis",e,n.padding)},lte=(t,e)=>{var n=ma(t,e);return n==null||typeof n.padding!="string"?0:J4(t,"yAxis",e,n.padding)},ute=oe(rs,ate,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),cte=oe(ma,lte,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),fte=oe([bn,ute,yy,gy,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),dte=oe([bn,dt,cte,yy,gy,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:a}=i;return o?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),fh=(t,e,n,r)=>{var i;switch(e){case"xAxis":return fte(t,n,r);case"yAxis":return dte(t,n,r);case"zAxis":return(i=HA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return E4(t);case"radiusAxis":return S4(t,n);default:return}},X4=oe([hr,fh],Cy),Ac=oe([hr,ch,ote,X4],YA);oe([uh,My,rn],V4);function Q4(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Ny=(t,e)=>e,Dy=(t,e,n)=>n,hte=oe(oA,Ny,Dy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Q4)),pte=oe(sA,Ny,Dy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Q4)),Z4=(t,e)=>({width:t.width,height:e.height}),mte=(t,e)=>{var n=typeof e.width=="number"?e.width:my;return{width:n,height:t.height}},eB=oe(bn,rs,Z4),gte=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},yte=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},vte=oe(ts,bn,hte,Ny,Dy,(t,e,n,r,i)=>{var o={},a;return n.forEach(u=>{var f=Z4(e,u);a==null&&(a=gte(e,r,t));var c=r==="top"&&!i||r==="bottom"&&i;o[u.id]=a-Number(c)*f.height,a+=(c?-1:1)*f.height}),o}),_te=oe(es,bn,pte,Ny,Dy,(t,e,n,r,i)=>{var o={},a;return n.forEach(u=>{var f=mte(e,u);a==null&&(a=yte(e,r,t));var c=r==="left"&&!i||r==="right"&&i;o[u.id]=a-Number(c)*f.width,a+=(c?-1:1)*f.width}),o}),Tte=(t,e)=>{var n=bn(t),r=rs(t,e);if(r!=null){var i=vte(t,r.orientation,r.mirror),o=i[e];return o==null?{x:n.left,y:0}:{x:n.left,y:o}}},Ete=(t,e)=>{var n=bn(t),r=ma(t,e);if(r!=null){var i=_te(t,r.orientation,r.mirror),o=i[e];return o==null?{x:0,y:n.top}:{x:o,y:n.top}}},tB=oe(bn,ma,(t,e)=>{var n=typeof e.width=="number"?e.width:my;return{width:n,height:t.height}}),pN=(t,e,n)=>{switch(e){case"xAxis":return eB(t,n).width;case"yAxis":return tB(t,n).height;default:return}},nB=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:a}=n,u=Il(t,r),f=e.map(c=>c.value);if(a&&u&&o==="category"&&i&&rU(f))return f}},JA=oe([dt,Py,hr,rn],nB),rB=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,a=Il(t,r);if(a&&(i==="number"||o!=="auto"))return e.map(u=>u.value)}},XA=oe([dt,Py,lh,rn],rB);oe([dt,Bee,ch,Ac,JA,XA,fh,WA,rn],(t,e,n,r,i,o,a,u,f)=>{if(e==null)return null;var c=Il(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:o,duplicateDomain:i,isCategorical:c,niceTicks:u,range:a,realScaleType:n,scale:r}});var Ste=(t,e,n,r,i,o,a,u,f)=>{if(!(e==null||r==null)){var c=Il(t,f),{type:h,ticks:y,tickCount:v}=e,E=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=h==="category"&&r.bandwidth?r.bandwidth()/E:0;w=f==="angleAxis"&&o!=null&&o.length>=2?Mr(o[0]-o[1])*2*w:w;var A=y||i;if(A){var C=A.map((R,N)=>{var M=a?a.indexOf(R):R;return{index:N,coordinate:r(M)+w,value:R,offset:w}});return C.filter(R=>!ii(R.coordinate))}return c&&u?u.map((R,N)=>({coordinate:r(R)+w,value:R,index:N,offset:w})):r.ticks?r.ticks(v).map(R=>({coordinate:r(R)+w,value:R,offset:w})):r.domain().map((R,N)=>({coordinate:r(R)+w,value:a?a[R]:R,index:N,offset:w}))}},iB=oe([dt,lh,ch,Ac,WA,fh,JA,XA,rn],Ste),wte=(t,e,n,r,i,o,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Il(t,a),{tickCount:f}=e,c=0;return c=a==="angleAxis"&&(r==null?void 0:r.length)>=2?Mr(r[0]-r[1])*2*c:c,u&&o?o.map((h,y)=>({coordinate:n(h)+c,value:h,index:y,offset:c})):n.ticks?n.ticks(f).map(h=>({coordinate:n(h)+c,value:h,offset:c})):n.domain().map((h,y)=>({coordinate:n(h)+c,value:i?i[h]:h,index:y,offset:c}))}},oc=oe([dt,lh,Ac,fh,JA,XA,rn],wte),sc=oe(hr,Ac,(t,e)=>{if(!(t==null||e==null))return Eg(Eg({},t),{},{scale:e})}),Ate=oe([hr,ch,jA,X4],YA);oe((t,e,n)=>HA(t,n),Ate,(t,e)=>{if(!(t==null||e==null))return Eg(Eg({},t),{},{scale:e})});var bte=oe([dt,oA,sA],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),oB=t=>t.options.defaultTooltipEventType,sB=t=>t.options.validateTooltipEventTypes;function aB(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function QA(t,e){var n=oB(t),r=sB(t);return aB(e,n,r)}function Cte(t){return ke(e=>QA(e,t))}var lB=(t,e)=>{var n,r=Number(e);if(!(ii(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},xte=t=>t.tooltip.settings,zs={active:!1,index:null,dataKey:void 0,coordinate:void 0},Rte={itemInteraction:{click:zs,hover:zs},axisInteraction:{click:zs,hover:zs},keyboardInteraction:zs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},uB=Lr({name:"tooltip",initialState:Rte,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Fo(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Ite,removeTooltipEntrySettings:Pte,setTooltipSettingsState:Mte,setActiveMouseOverItemIndex:cB,mouseLeaveItem:Nte,mouseLeaveChart:fB,setActiveClickItemIndex:Dte,setMouseOverAxisIndex:dB,setMouseClickAxisIndex:Ote,setSyncInteraction:iS,setKeyboardInteraction:oS}=uB.actions,kte=uB.reducer;function mN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mN(Object(n),!0).forEach(function(r){Lte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lte(t,e,n){return(e=Ute(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ute(t){var e=Vte(t,"string");return typeof e=="symbol"?e:e+""}function Vte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bte(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function qte(t){return t.index!=null}var hB=(t,e,n,r)=>{if(e==null)return zs;var i=Bte(t,e,n);if(i==null)return zs;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(qte(i)){if(o)return sm(sm({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return sm(sm({},zs),{},{coordinate:i.coordinate})},ZA=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!kr(r))return n;var i=0,o=1/0;return e.length>0&&(o=e.length-1),String(Math.max(i,Math.min(r,o)))},pB=(t,e,n,r,i,o,a,u)=>{if(!(o==null||u==null)){var f=a[0],c=f==null?void 0:u(f.positions,o);if(c!=null)return c;var h=i==null?void 0:i[Number(o)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},mB=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var a;return((a=o.settings)===null||a===void 0?void 0:a.dataKey)===i})},dh=t=>t.options.tooltipPayloadSearcher,bc=t=>t.tooltip;function gN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gN(Object(n),!0).forEach(function(r){Fte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fte(t,e,n){return(e=$te(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $te(t){var e=Hte(t,"string");return typeof e=="symbol"?e:e+""}function Hte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zte(t,e){return t??e}var gB=(t,e,n,r,i,o,a)=>{if(!(e==null||o==null)){var{chartData:u,computedData:f,dataStartIndex:c,dataEndIndex:h}=n,y=[];return t.reduce((v,E)=>{var w,{dataDefinedOnItem:A,settings:C}=E,R=zte(A,u),N=Array.isArray(R)?oV(R,c,h):R,M=(w=C==null?void 0:C.dataKey)!==null&&w!==void 0?w:r==null?void 0:r.dataKey,U=C==null?void 0:C.nameKey,V;if(r!=null&&r.dataKey&&Array.isArray(N)&&!Array.isArray(N[0])&&a==="axis"?V=UK(N,r.dataKey,i):V=o(N,e,f,U),Array.isArray(V))V.forEach(O=>{var k=yN(yN({},C),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});v.push(ZP({tooltipEntrySettings:k,dataKey:O.dataKey,payload:O.payload,value:rr(O.payload,O.dataKey),name:O.name}))});else{var G;v.push(ZP({tooltipEntrySettings:C,dataKey:M,payload:V,value:rr(V,M),name:(G=rr(V,U))!==null&&G!==void 0?G:C==null?void 0:C.name}))}return v},y)}},eb=oe([mn,dt,b4,LA,pn],j4),Gte=oe([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Kte=oe([pn,Sc],C4),hh=oe([Gte,mn,Kte],x4),jte=oe([hh],t=>t.filter(Iy)),Yte=oe([hh],M4),Cc=oe([Yte,pa],N4),Wte=oe([jte,pa,mn],A4),tb=oe([Cc,mn,hh],D4),Jte=oe([mn],KA),Xte=oe([hh],t=>t.filter(Iy)),Qte=oe([Wte,Xte,by],k4),Zte=oe([Qte,pa,pn],L4),ene=oe([hh],I4),tne=oe([Cc,mn,ene,My,pn],U4),nne=oe([B4,pn,Sc],wc),rne=oe([nne,pn],$4),ine=oe([q4,pn,Sc],wc),one=oe([ine,pn],H4),sne=oe([F4,pn,Sc],wc),ane=oe([sne,pn],z4),lne=oe([rne,ane,one],Sg),une=oe([mn,Jte,Zte,tne,lne,dt,pn],G4),yB=oe([mn,dt,Cc,tb,by,pn,une],K4),cne=oe([yB,mn,eb],Y4),fne=oe([mn,yB,cne,pn],W4),vB=t=>{var e=pn(t),n=Sc(t),r=!1;return fh(t,e,n,r)},_B=oe([mn,vB],Cy),TB=oe([mn,eb,fne,_B],YA),dne=oe([dt,tb,mn,pn],nB),hne=oe([dt,tb,mn,pn],rB),pne=(t,e,n,r,i,o,a,u)=>{if(e){var{type:f}=e,c=Il(t,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,y=f==="category"&&r.bandwidth?r.bandwidth()/h:0;return y=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Mr(i[0]-i[1])*2*y:y,c&&a?a.map((v,E)=>({coordinate:r(v)+y,value:v,index:E,offset:y})):r.domain().map((v,E)=>({coordinate:r(v)+y,value:o?o[v]:v,index:E,offset:y}))}}},is=oe([dt,mn,eb,TB,vB,dne,hne,pn],pne),nb=oe([oB,sB,xte],(t,e,n)=>aB(n.shared,t,e)),EB=t=>t.tooltip.settings.trigger,rb=t=>t.tooltip.settings.defaultIndex,Oy=oe([bc,nb,EB,rb],hB),ac=oe([Oy,Cc],ZA),SB=oe([is,ac],lB),wB=oe([Oy],t=>{if(t)return t.dataKey}),AB=oe([bc,nb,EB,rb],mB),mne=oe([es,ts,dt,bn,is,rb,AB,dh],pB),gne=oe([Oy,mne],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),yne=oe([Oy],t=>t.active),vne=oe([AB,ac,pa,mn,SB,dh,nb],gB);oe([vne],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function vN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _N(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vN(Object(n),!0).forEach(function(r){_ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ne(t,e,n){return(e=Tne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tne(t){var e=Ene(t,"string");return typeof e=="symbol"?e:e+""}function Ene(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sne=()=>ke(mn),wne=()=>{var t=Sne(),e=ke(is),n=ke(TB);return iA(_N(_N({},t),{},{scale:n}),e)},Ane=()=>ke(LA),ib=(t,e)=>e,bB=(t,e,n)=>n,ob=(t,e,n,r)=>r,bne=oe(is,t=>uy(t,e=>e.coordinate)),sb=oe([bc,ib,bB,ob],hB),CB=oe([sb,Cc],ZA),Cne=(t,e,n)=>{if(e!=null){var r=bc(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},xB=oe([bc,ib,bB,ob],mB),wg=oe([es,ts,dt,bn,is,ob,xB,dh],pB),xne=oe([sb,wg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),RB=oe(is,CB,lB),Rne=oe([xB,CB,pa,mn,RB,dh,ib],gB),Ine=oe([sb],t=>({isActive:t.active,activeIndex:t.index})),Pne=(t,e,n,r,i,o,a,u)=>{if(!(!t||!e||!r||!i||!o)){var f=nJ(t.chartX,t.chartY,e,n,u);if(f){var c=iJ(f,e),h=HW(c,a,o,r,i),y=rJ(e,o,h,f);return{activeIndex:String(h),activeCoordinate:y}}}};function sS(){return sS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sS.apply(null,arguments)}function TN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function am(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(n),!0).forEach(function(r){Mne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mne(t,e,n){return(e=Nne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nne(t){var e=Dne(t,"string");return typeof e=="symbol"?e:e+""}function Dne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function One(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:a,cursor:u,tooltipEventType:f,chartName:c}=t,h=e,y=n,v=r;if(!u||!h||c!=="ScatterChart"&&f!=="axis")return null;var E,w;if(c==="ScatterChart")E=h,w=WJ;else if(c==="BarChart")E=JJ(a,h,i,o),w=yV;else if(a==="radial"){var{cx:A,cy:C,radius:R,startAngle:N,endAngle:M}=vV(h);E={cx:A,cy:C,startAngle:N,endAngle:M,innerRadius:R,outerRadius:R},w=TV}else E={points:OX(a,h,i)},w=qJ;var U=typeof u=="object"&&"className"in u?u.className:void 0,V=am(am(am(am({stroke:"#ccc",pointerEvents:"none"},i),E),wn(u,!1)),{},{payload:y,payloadIndex:v,className:It("recharts-tooltip-cursor",U)});return P.isValidElement(u)?P.cloneElement(u,V):P.createElement(w,V)}function kne(t){var e=wne(),n=mJ(),r=lA(),i=Ane();return P.createElement(One,sS({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var IB=P.createContext(null),Lne=()=>P.useContext(IB),AT={exports:{}},EN;function Une(){return EN||(EN=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,c,h){this.fn=f,this.context=c,this.once=h||!1}function o(f,c,h,y,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var E=new i(h,y||f,v),w=n?n+c:c;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],E]:f._events[w].push(E):(f._events[w]=E,f._eventsCount++),f}function a(f,c){--f._eventsCount===0?f._events=new r:delete f._events[c]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var c=[],h,y;if(this._eventsCount===0)return c;for(y in h=this._events)e.call(h,y)&&c.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},u.prototype.listeners=function(c){var h=n?n+c:c,y=this._events[h];if(!y)return[];if(y.fn)return[y.fn];for(var v=0,E=y.length,w=new Array(E);v<E;v++)w[v]=y[v].fn;return w},u.prototype.listenerCount=function(c){var h=n?n+c:c,y=this._events[h];return y?y.fn?1:y.length:0},u.prototype.emit=function(c,h,y,v,E,w){var A=n?n+c:c;if(!this._events[A])return!1;var C=this._events[A],R=arguments.length,N,M;if(C.fn){switch(C.once&&this.removeListener(c,C.fn,void 0,!0),R){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,h),!0;case 3:return C.fn.call(C.context,h,y),!0;case 4:return C.fn.call(C.context,h,y,v),!0;case 5:return C.fn.call(C.context,h,y,v,E),!0;case 6:return C.fn.call(C.context,h,y,v,E,w),!0}for(M=1,N=new Array(R-1);M<R;M++)N[M-1]=arguments[M];C.fn.apply(C.context,N)}else{var U=C.length,V;for(M=0;M<U;M++)switch(C[M].once&&this.removeListener(c,C[M].fn,void 0,!0),R){case 1:C[M].fn.call(C[M].context);break;case 2:C[M].fn.call(C[M].context,h);break;case 3:C[M].fn.call(C[M].context,h,y);break;case 4:C[M].fn.call(C[M].context,h,y,v);break;default:if(!N)for(V=1,N=new Array(R-1);V<R;V++)N[V-1]=arguments[V];C[M].fn.apply(C[M].context,N)}}return!0},u.prototype.on=function(c,h,y){return o(this,c,h,y,!1)},u.prototype.once=function(c,h,y){return o(this,c,h,y,!0)},u.prototype.removeListener=function(c,h,y,v){var E=n?n+c:c;if(!this._events[E])return this;if(!h)return a(this,E),this;var w=this._events[E];if(w.fn)w.fn===h&&(!v||w.once)&&(!y||w.context===y)&&a(this,E);else{for(var A=0,C=[],R=w.length;A<R;A++)(w[A].fn!==h||v&&!w[A].once||y&&w[A].context!==y)&&C.push(w[A]);C.length?this._events[E]=C.length===1?C[0]:C:a(this,E)}return this},u.prototype.removeAllListeners=function(c){var h;return c?(h=n?n+c:c,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(AT)),AT.exports}var Vne=Une();const Bne=Ei(Vne);var Ud=new Bne,aS="recharts.syncEvent.tooltip",SN="recharts.syncEvent.brush";function qne(t,e){if(e){var n=Number.parseInt(e,10);if(!ii(n))return t==null?void 0:t[n]}}var Fne={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},PB=Lr({name:"options",initialState:Fne,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),$ne=PB.reducer,{createEventEmitter:Hne}=PB.actions;function zne(t){return t.tooltip.syncInteraction}var Gne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},MB=Lr({name:"chartData",initialState:Gne,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:wN,setDataStartEndIndexes:Kne,setComputedData:lve}=MB.actions,jne=MB.reducer,NB=()=>{};function Yne(){var t=ke(UA),e=ke(VA),n=An(),r=ke(v4),i=ke(is),o=lA(),a=aA(),u=ke(f=>f.rootProps.className);P.useEffect(()=>{if(t==null)return NB;var f=(c,h,y)=>{if(e!==y&&t===c){if(r==="index"){n(h);return}if(i!=null){var v;if(typeof r=="function"){var E={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},w=r(i,E);v=i[w]}else r==="value"&&(v=i.find(G=>String(G.value)===h.payload.label));var{coordinate:A}=h.payload;if(v==null||h.payload.active===!1||A==null||a==null){n(iS({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:C,y:R}=A,N=Math.min(C,a.x+a.width),M=Math.min(R,a.y+a.height),U={x:o==="horizontal"?v.coordinate:N,y:o==="horizontal"?M:v.coordinate},V=iS({active:h.payload.active,coordinate:U,dataKey:h.payload.dataKey,index:String(v.index),label:h.payload.label});n(V)}}};return Ud.on(aS,f),()=>{Ud.off(aS,f)}},[u,n,e,t,r,i,o,a])}function Wne(){var t=ke(UA),e=ke(VA),n=An();P.useEffect(()=>{if(t==null)return NB;var r=(i,o,a)=>{e!==a&&t===i&&n(Kne(o))};return Ud.on(SN,r),()=>{Ud.off(SN,r)}},[n,e,t])}function Jne(){var t=An();P.useEffect(()=>{t(Hne())},[t]),Yne(),Wne()}function Xne(t,e,n,r,i,o){var a=ke(v=>Cne(v,t,e)),u=ke(VA),f=ke(UA),c=ke(v4),h=ke(zne),y=h==null?void 0:h.active;P.useEffect(()=>{if(!y&&f!=null&&u!=null){var v=iS({active:o,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r});Ud.emit(aS,f,v,u)}},[y,n,a,i,r,u,f,c,o])}function AN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(n),!0).forEach(function(r){Qne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qne(t,e,n){return(e=Zne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zne(t){var e=ere(t,"string");return typeof e=="symbol"?e:e+""}function ere(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tre(t){return t.dataKey}function nre(t,e){return P.isValidElement(t)?P.cloneElement(t,e):typeof t=="function"?P.createElement(t,e):P.createElement(CJ,e)}var CN=[],rre={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!rh.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ire(t){var e=Pl(t,rre),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:a,filterNull:u,isAnimationActive:f,offset:c,payloadUniqBy:h,position:y,reverseDirection:v,useTranslate3d:E,wrapperStyle:w,cursor:A,shared:C,trigger:R,defaultIndex:N,portal:M,axisId:U}=e,V=An(),G=typeof N=="number"?String(N):N;P.useEffect(()=>{V(Mte({shared:C,trigger:R,axisId:U,active:n,defaultIndex:G}))},[V,C,R,U,n,G]);var O=aA(),k=cV(),D=Cte(C),{activeIndex:$,isActive:F}=ke(Ie=>Ine(Ie,D,R,G)),z=ke(Ie=>Rne(Ie,D,R,G)),H=ke(Ie=>RB(Ie,D,R,G)),Me=ke(Ie=>xne(Ie,D,R,G)),be=z,ne=Lne(),pe=n??F,[_e,Le]=NY([be,pe]),j=D==="axis"?H:void 0;Xne(D,R,Me,j,$,pe);var ce=M??ne;if(ce==null)return null;var se=be??CN;pe||(se=CN),u&&se.length&&(se=iY(be.filter(Ie=>Ie.value!=null&&(Ie.hide!==!0||e.includeHidden)),h,tre));var me=se.length>0,Ae=P.createElement(DJ,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:f,active:pe,coordinate:Me,hasPayload:me,offset:c,position:y,reverseDirection:v,useTranslate3d:E,viewBox:O,wrapperStyle:w,lastBoundingBox:_e,innerRef:Le,hasPortalFromProps:!!M},nre(a,bN(bN({},e),{},{payload:se,label:j,active:pe,coordinate:Me,accessibilityLayer:k})));return P.createElement(P.Fragment,null,r5.createPortal(Ae,ce),pe&&P.createElement(kne,{cursor:A,tooltipEventType:D,coordinate:Me,payload:be,index:$}))}var bT={},CT={},xT={},xN;function ore(){return xN||(xN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let a,u=null;const f=o!=null&&o.includes("leading"),c=o==null||o.includes("trailing"),h=()=>{u!==null&&(n.apply(a,u),a=void 0,u=null)},y=()=>{c&&h(),A()};let v=null;const E=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,y()},r)},w=()=>{v!==null&&(clearTimeout(v),v=null)},A=()=>{w(),a=void 0,u=null},C=()=>{h()},R=function(...N){if(i!=null&&i.aborted)return;a=this,u=N;const M=v==null;E(),f&&M&&h()};return R.schedule=E,R.cancel=A,R.flush=C,i==null||i.addEventListener("abort",A,{once:!0}),R}t.debounce=e})(xT)),xT}var RN;function sre(){return RN||(RN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ore();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:a=!1,trailing:u=!0,maxWait:f}=o,c=Array(2);a&&(c[0]="leading"),u&&(c[1]="trailing");let h,y=null;const v=e.debounce(function(...A){h=r.apply(this,A),y=null},i,{edges:c}),E=function(...A){return f!=null&&(y===null&&(y=Date.now()),Date.now()-y>=f)?(h=r.apply(this,A),y=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,A),h)},w=()=>(v.flush(),h);return E.cancel=v.cancel,E.flush=w,E}t.debounce=n})(CT)),CT}var IN;function are(){return IN||(IN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sre();function n(r,i=0,o={}){const{leading:a=!0,trailing:u=!0}=o;return e.debounce(r,i,{leading:a,maxWait:i,trailing:u})}t.throttle=n})(bT)),bT}var RT,PN;function lre(){return PN||(PN=1,RT=are().throttle),RT}var ure=lre();const cre=Ei(ure);var IT=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function MN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MN(Object(n),!0).forEach(function(r){fre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fre(t,e,n){return(e=dre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dre(t){var e=hre(t,"string");return typeof e=="symbol"?e:e+""}function hre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pre=P.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:a=0,minHeight:u,maxHeight:f,children:c,debounce:h=0,id:y,className:v,onResize:E,style:w={}}=t,A=P.useRef(null),C=P.useRef();C.current=E,P.useImperativeHandle(e,()=>A.current);var[R,N]=P.useState({containerWidth:r.width,containerHeight:r.height}),M=P.useCallback((V,G)=>{N(O=>{var k=Math.round(V),D=Math.round(G);return O.containerWidth===k&&O.containerHeight===D?O:{containerWidth:k,containerHeight:D}})},[]);P.useEffect(()=>{var V=D=>{var $,{width:F,height:z}=D[0].contentRect;M(F,z),($=C.current)===null||$===void 0||$.call(C,F,z)};h>0&&(V=cre(V,h,{trailing:!0,leading:!1}));var G=new ResizeObserver(V),{width:O,height:k}=A.current.getBoundingClientRect();return M(O,k),G.observe(A.current),()=>{G.disconnect()}},[M,h]);var U=P.useMemo(()=>{var{containerWidth:V,containerHeight:G}=R;if(V<0||G<0)return null;IT(tl(i)||tl(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),IT(!n||n>0,"The aspect(%s) must be greater than zero.",n);var O=tl(i)?V:i,k=tl(o)?G:o;return n&&n>0&&(O?k=O/n:k&&(O=k*n),f&&k>f&&(k=f)),IT(O>0||k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,k,i,o,a,u,n),P.Children.map(c,D=>P.cloneElement(D,{width:O,height:k,style:PT({width:O,height:k},D.props.style)}))},[n,c,o,f,u,a,R,i]);return P.createElement("div",{id:y?"".concat(y):void 0,className:It("recharts-responsive-container",v),style:PT(PT({},w),{},{width:i,height:o,minWidth:a,minHeight:u,maxHeight:f}),ref:A},P.createElement("div",{style:{width:0,height:0,overflow:"visible"}},U))}),DB=t=>null;DB.displayName="Cell";function mre(t,e,n){return(e=gre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gre(t){var e=yre(t,"string");return typeof e=="symbol"?e:e+""}function yre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class vre{constructor(e){mre(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function NN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NN(Object(n),!0).forEach(function(r){Tre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tre(t,e,n){return(e=Ere(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ere(t){var e=Sre(t,"string");return typeof e=="symbol"?e:e+""}function Sre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wre={cacheSize:2e3,enableCache:!0},OB=_re({},wre),DN=new vre(OB.cacheSize),Are={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ON="recharts_measurement_span";function bre(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",a=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(a,"|").concat(u)}var kN=(t,e)=>{try{var n=document.getElementById(ON);n||(n=document.createElement("span"),n.setAttribute("id",ON),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Are,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},pd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||rh.isSsr)return{width:0,height:0};if(!OB.enableCache)return kN(e,n);var r=bre(e,n),i=DN.get(r);if(i)return i;var o=kN(e,n);return DN.set(r,o),o},LN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Cre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Rre=Object.keys(kB),Du="NaN";function Ire(t,e){return t*kB[e]}class lr{static parse(e){var n,[,r,i]=(n=xre.exec(e))!==null&&n!==void 0?n:[];return new lr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ii(e)&&(this.unit=""),n!==""&&!Cre.test(n)&&(this.num=NaN,this.unit=""),Rre.includes(n)&&(this.num=Ire(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new lr(NaN,""):new lr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new lr(NaN,""):new lr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new lr(NaN,""):new lr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new lr(NaN,""):new lr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ii(this.num)}}function LB(t){if(t.includes(Du))return Du;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=LN.exec(e))!==null&&n!==void 0?n:[],a=lr.parse(r??""),u=lr.parse(o??""),f=i==="*"?a.multiply(u):a.divide(u);if(f.isNaN())return Du;e=e.replace(LN,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,h,y,v]=(c=UN.exec(e))!==null&&c!==void 0?c:[],E=lr.parse(h??""),w=lr.parse(v??""),A=y==="+"?E.add(w):E.subtract(w);if(A.isNaN())return Du;e=e.replace(UN,A.toString())}return e}var VN=/\(([^()]*)\)/;function Pre(t){for(var e=t,n;(n=VN.exec(e))!=null;){var[,r]=n;e=e.replace(VN,LB(r))}return e}function Mre(t){var e=t.replace(/\s+/g,"");return e=Pre(e),e=LB(e),e}function Nre(t){try{return Mre(t)}catch{return Du}}function MT(t){var e=Nre(t.slice(5,-1));return e===Du?"":e}var Dre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ore=["dx","dy","angle","className","breakAll"];function lS(){return lS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lS.apply(null,arguments)}function BN(t,e){if(t==null)return{};var n,r,i=kre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var UB=/[ \f\n\r\t\v\u2028\u2029]+/,VB=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];dn(e)||(n?i=e.toString().split(""):i=e.toString().split(UB));var o=i.map(u=>({word:u,width:pd(u,r).width})),a=n?0:pd("",r).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},Lre=(t,e,n,r,i)=>{var{maxLines:o,children:a,style:u,breakAll:f}=t,c=xe(o),h=a,y=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce((z,H)=>{var{word:Me,width:be}=H,ne=z[z.length-1];if(ne&&(r==null||i||ne.width+be+n<Number(r)))ne.words.push(Me),ne.width+=be+n;else{var pe={words:[Me],width:be};z.push(pe)}return z},[])},v=y(e),E=$=>$.reduce((F,z)=>F.width>z.width?F:z);if(!c||i)return v;var w=v.length>o||E(v).width>Number(r);if(!w)return v;for(var A="",C=$=>{var F=h.slice(0,$),z=VB({breakAll:f,style:u,children:F+A}).wordsWithComputedWidth,H=y(z),Me=H.length>o||E(H).width>Number(r);return[Me,H]},R=0,N=h.length-1,M=0,U;R<=N&&M<=h.length-1;){var V=Math.floor((R+N)/2),G=V-1,[O,k]=C(G),[D]=C(V);if(!O&&!D&&(R=V+1),O&&D&&(N=V-1),!O&&D){U=k;break}M++}return U||v},qN=t=>{var e=dn(t)?[]:t.toString().split(UB);return[{words:e}]},Ure=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:a}=t;if((e||n)&&!rh.isSsr){var u,f,c=VB({breakAll:o,children:r,style:i});if(c){var{wordsWithComputedWidth:h,spaceWidth:y}=c;u=h,f=y}else return qN(r);return Lre({breakAll:o,children:r,maxLines:a,style:i},u,f,e,n)}return qN(r)},FN="#808080",ab=P.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:a=!1,textAnchor:u="start",verticalAnchor:f="end",fill:c=FN}=t,h=BN(t,Dre),y=P.useMemo(()=>Ure({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:a,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,a,h.style,h.width]),{dx:v,dy:E,angle:w,className:A,breakAll:C}=h,R=BN(h,Ore);if(!to(n)||!to(r))return null;var N=n+(xe(v)?v:0),M=r+(xe(E)?E:0),U;switch(f){case"start":U=MT("calc(".concat(o,")"));break;case"middle":U=MT("calc(".concat((y.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:U=MT("calc(".concat(y.length-1," * -").concat(i,")"));break}var V=[];if(a){var G=y[0].width,{width:O}=h;V.push("scale(".concat(xe(O)?O/G:1,")"))}return w&&V.push("rotate(".concat(w,", ").concat(N,", ").concat(M,")")),V.length&&(R.transform=V.join(" ")),P.createElement("text",lS({},wn(R,!0),{ref:e,x:N,y:M,className:It("recharts-text",A),textAnchor:u,fill:c.includes("url")?FN:c}),y.map((k,D)=>{var $=k.words.join(C?"":" ");return P.createElement("tspan",{x:N,dy:D===0?U:i,key:"".concat($,"-").concat(D)},$)}))});ab.displayName="Text";var Vre=["offset"],Bre=["labelRef"];function $N(t,e){if(t==null)return{};var n,r,i=qre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function HN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HN(Object(n),!0).forEach(function(r){Fre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fre(t,e,n){return(e=$re(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $re(t){var e=Hre(t,"string");return typeof e=="symbol"?e:e+""}function Hre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oo(){return Oo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oo.apply(null,arguments)}var zre=t=>{var{value:e,formatter:n}=t,r=dn(t.children)?e:t.children;return typeof n=="function"?n(r):r},lb=t=>t!=null&&typeof t=="function",Gre=(t,e)=>{var n=Mr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Kre=(t,e,n,r)=>{var{position:i,offset:o,className:a}=t,{cx:u,cy:f,innerRadius:c,outerRadius:h,startAngle:y,endAngle:v,clockWise:E}=r,w=(c+h)/2,A=Gre(y,v),C=A>=0?1:-1,R,N;i==="insideStart"?(R=y+C*o,N=E):i==="insideEnd"?(R=v-C*o,N=!E):i==="end"&&(R=v+C*o,N=E),N=A<=0?N:!N;var M=Ln(u,f,w,R),U=Ln(u,f,w,R+(N?1:-1)*359),V="M".concat(M.x,",").concat(M.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(N?0:1,`,
    `).concat(U.x,",").concat(U.y),G=dn(t.id)?Rd("recharts-radial-line-"):t.id;return P.createElement("text",Oo({},n,{dominantBaseline:"central",className:It("recharts-radial-bar-label",a)}),P.createElement("defs",null,P.createElement("path",{id:G,d:V})),P.createElement("textPath",{xlinkHref:"#".concat(G)},e))},jre=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:u,endAngle:f}=t,c=(u+f)/2;if(n==="outside"){var{x:h,y}=Ln(r,i,a+e,c);return{x:h,y,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(o+a)/2,{x:E,y:w}=Ln(r,i,v,c);return{x:E,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Yre=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:o,y:a,width:u,height:f}=e,c=f>=0?1:-1,h=c*r,y=c>0?"end":"start",v=c>0?"start":"end",E=u>=0?1:-1,w=E*r,A=E>0?"end":"start",C=E>0?"start":"end";if(i==="top"){var R={x:o+u/2,y:a-c*r,textAnchor:"middle",verticalAnchor:y};return Ft(Ft({},R),n?{height:Math.max(a-n.y,0),width:u}:{})}if(i==="bottom"){var N={x:o+u/2,y:a+f+h,textAnchor:"middle",verticalAnchor:v};return Ft(Ft({},N),n?{height:Math.max(n.y+n.height-(a+f),0),width:u}:{})}if(i==="left"){var M={x:o-w,y:a+f/2,textAnchor:A,verticalAnchor:"middle"};return Ft(Ft({},M),n?{width:Math.max(M.x-n.x,0),height:f}:{})}if(i==="right"){var U={x:o+u+w,y:a+f/2,textAnchor:C,verticalAnchor:"middle"};return Ft(Ft({},U),n?{width:Math.max(n.x+n.width-U.x,0),height:f}:{})}var V=n?{width:u,height:f}:{};return i==="insideLeft"?Ft({x:o+w,y:a+f/2,textAnchor:C,verticalAnchor:"middle"},V):i==="insideRight"?Ft({x:o+u-w,y:a+f/2,textAnchor:A,verticalAnchor:"middle"},V):i==="insideTop"?Ft({x:o+u/2,y:a+h,textAnchor:"middle",verticalAnchor:v},V):i==="insideBottom"?Ft({x:o+u/2,y:a+f-h,textAnchor:"middle",verticalAnchor:y},V):i==="insideTopLeft"?Ft({x:o+w,y:a+h,textAnchor:C,verticalAnchor:v},V):i==="insideTopRight"?Ft({x:o+u-w,y:a+h,textAnchor:A,verticalAnchor:v},V):i==="insideBottomLeft"?Ft({x:o+w,y:a+f-h,textAnchor:C,verticalAnchor:y},V):i==="insideBottomRight"?Ft({x:o+u-w,y:a+f-h,textAnchor:A,verticalAnchor:y},V):i&&typeof i=="object"&&(xe(i.x)||tl(i.x))&&(xe(i.y)||tl(i.y))?Ft({x:o+Ti(i.x,u),y:a+Ti(i.y,f),textAnchor:"end",verticalAnchor:"end"},V):Ft({x:o+u/2,y:a+f/2,textAnchor:"middle",verticalAnchor:"middle"},V)},Wre=t=>"cx"in t&&xe(t.cx);function xr(t){var{offset:e=5}=t,n=$N(t,Vre),r=Ft({offset:e},n),{viewBox:i,position:o,value:a,children:u,content:f,className:c="",textBreakAll:h,labelRef:y}=r,v=ke(w4),E=aA(),w=o==="center"?E:v??E,A=i||w;if(!A||dn(a)&&dn(u)&&!P.isValidElement(f)&&typeof f!="function")return null;var C=Ft(Ft({},r),{},{viewBox:A});if(P.isValidElement(f)){var{labelRef:R}=C,N=$N(C,Bre);return P.cloneElement(f,N)}var M;if(typeof f=="function"){if(M=P.createElement(f,C),P.isValidElement(M))return M}else M=zre(r);var U=Wre(A),V=wn(r,!0);if(U&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Kre(r,M,V,A);var G=U?jre(A,r.offset,r.position):Yre(r,A);return P.createElement(ab,Oo({ref:y,className:It("recharts-label",c)},V,G,{breakAll:h}),M)}xr.displayName="Label";var BB=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:o,r:a,radius:u,innerRadius:f,outerRadius:c,x:h,y,top:v,left:E,width:w,height:A,clockWise:C,labelViewBox:R}=t;if(R)return R;if(xe(w)&&xe(A)){if(xe(h)&&xe(y))return{x:h,y,width:w,height:A};if(xe(v)&&xe(E))return{x:v,y:E,width:w,height:A}}if(xe(h)&&xe(y))return{x:h,y,width:0,height:0};if(xe(e)&&xe(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:f||0,outerRadius:c||u||a||0,clockWise:C};if(t.viewBox)return t.viewBox},Jre=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?P.createElement(xr,Oo({key:"label-implicit"},r)):to(t)?P.createElement(xr,Oo({key:"label-implicit",value:t},r)):P.isValidElement(t)?t.type===xr?P.cloneElement(t,Ft({key:"label-implicit"},r)):P.createElement(xr,Oo({key:"label-implicit",content:t},r)):lb(t)?P.createElement(xr,Oo({key:"label-implicit",content:t},r)):t&&typeof t=="object"?P.createElement(xr,Oo({},t,{key:"label-implicit"},r)):null},Xre=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:o}=e,a=BB(e),u=Hw(i,xr).map((c,h)=>P.cloneElement(c,{viewBox:n||a,key:"label-".concat(h)}));if(!r)return u;var f=Jre(e.label,n||a,o);return[f,...u]};xr.parseViewBox=BB;xr.renderCallByParent=Xre;var NT={},DT={},zN;function Qre(){return zN||(zN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(DT)),DT}var OT={},GN;function Zre(){return GN||(GN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(OT)),OT}var KN;function eie(){return KN||(KN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Qre(),n=Zre(),r=jw();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(NT)),NT}var kT,jN;function tie(){return jN||(jN=1,kT=eie().last),kT}var nie=tie();const rie=Ei(nie);var iie=["valueAccessor"],oie=["data","dataKey","clockWise","id","textBreakAll"];function Ag(){return Ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ag.apply(null,arguments)}function YN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YN(Object(n),!0).forEach(function(r){sie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sie(t,e,n){return(e=aie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aie(t){var e=lie(t,"string");return typeof e=="symbol"?e:e+""}function lie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JN(t,e){if(t==null)return{};var n,r,i=uie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cie=t=>Array.isArray(t.value)?rie(t.value):t.value;function dl(t){var{valueAccessor:e=cie}=t,n=JN(t,iie),{data:r,dataKey:i,clockWise:o,id:a,textBreakAll:u}=n,f=JN(n,oie);return!r||!r.length?null:P.createElement(aa,{className:"recharts-label-list"},r.map((c,h)=>{var y=dn(i)?e(c,h):rr(c&&c.payload,i),v=dn(a)?{}:{id:"".concat(a,"-").concat(h)};return P.createElement(xr,Ag({},wn(c,!0),f,v,{parentViewBox:c.parentViewBox,value:y,textBreakAll:u,viewBox:xr.parseViewBox(dn(o)?c:WN(WN({},c),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}dl.displayName="LabelList";function fie(t,e){return t?t===!0?P.createElement(dl,{key:"labelList-implicit",data:e}):P.isValidElement(t)||lb(t)?P.createElement(dl,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?P.createElement(dl,Ag({data:e},t,{key:"labelList-implicit"})):null:null}function die(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=Hw(r,dl).map((a,u)=>P.cloneElement(a,{data:e,key:"labelList-".concat(u)}));if(!n)return i;var o=fie(t.label,e);return[o,...i]}dl.renderCallByParent=die;var hie={radiusAxis:{},angleAxis:{}},qB=Lr({name:"polarAxis",initialState:hie,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:uve,removeRadiusAxis:cve,addAngleAxis:fve,removeAngleAxis:dve}=qB.actions,pie=qB.reducer,LT={},XN;function mie(){return XN||(XN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(LT)),LT}var UT,QN;function gie(){return QN||(QN=1,UT=mie().isPlainObject),UT}var yie=gie();const vie=Ei(yie);function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bg.apply(null,arguments)}var ZN=(t,e,n,r,i)=>{var o=n-r,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+n,",").concat(e),a+="L ".concat(t+n-o/2,",").concat(e+i),a+="L ".concat(t+n-o/2-r,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},_ie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Tie=t=>{var e=Pl(t,_ie),n=P.useRef(),[r,i]=P.useState(-1);P.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&i(C)}catch{}},[]);var{x:o,y:a,upperWidth:u,lowerWidth:f,height:c,className:h}=e,{animationEasing:y,animationDuration:v,animationBegin:E,isUpdateAnimationActive:w}=e;if(o!==+o||a!==+a||u!==+u||f!==+f||c!==+c||u===0&&f===0||c===0)return null;var A=It("recharts-trapezoid",h);return w?P.createElement(ug,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:c,x:o,y:a},to:{upperWidth:u,lowerWidth:f,height:c,x:o,y:a},duration:v,animationEasing:y,isActive:w},C=>{var{upperWidth:R,lowerWidth:N,height:M,x:U,y:V}=C;return P.createElement(ug,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:E,duration:v,easing:y},P.createElement("path",bg({},wn(e,!0),{className:A,d:ZN(U,V,R,N,M),ref:n})))}):P.createElement("g",null,P.createElement("path",bg({},wn(e,!0),{className:A,d:ZN(o,a,u,f,c)})))},Eie=["option","shapeType","propTransformer","activeClassName","isActive"];function Sie(t,e){if(t==null)return{};var n,r,i=wie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function eD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eD(Object(n),!0).forEach(function(r){Aie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aie(t,e,n){return(e=bie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bie(t){var e=Cie(t,"string");return typeof e=="symbol"?e:e+""}function Cie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xie(t,e){return Cg(Cg({},e),t)}function Rie(t,e){return t==="symbols"}function tD(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return P.createElement(yV,n);case"trapezoid":return P.createElement(Tie,n);case"sector":return P.createElement(TV,n);case"symbols":if(Rie(e))return P.createElement(AU,n);break;default:return null}}function Iie(t){return P.isValidElement(t)?t.props:t}function Pie(t){var{option:e,shapeType:n,propTransformer:r=xie,activeClassName:i="recharts-active-shape",isActive:o}=t,a=Sie(t,Eie),u;if(P.isValidElement(e))u=P.cloneElement(e,Cg(Cg({},a),Iie(e)));else if(typeof e=="function")u=e(a);else if(vie(e)&&typeof e!="boolean"){var f=r(e,a);u=P.createElement(tD,{shapeType:n,elementProps:f})}else{var c=a;u=P.createElement(tD,{shapeType:n,elementProps:c})}return o?P.createElement(aa,{className:i},u):u}var FB=(t,e)=>{var n=An();return(r,i)=>o=>{t==null||t(r,i,o),n(cB({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},$B=t=>{var e=An();return(n,r)=>i=>{t==null||t(n,r,i),e(Nte())}},HB=(t,e)=>{var n=An();return(r,i)=>o=>{t==null||t(r,i,o),n(Dte({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function Mie(t){var{fn:e,args:n}=t,r=An(),i=bi();return P.useEffect(()=>{if(!i){var o=e(n);return r(Ite(o)),()=>{r(Pte(o))}}},[e,n,r,i]),null}var Nie=()=>{};function Die(t){var{legendPayload:e}=t,n=An(),r=bi();return P.useEffect(()=>r?Nie:(n(_J(e)),()=>{n(TJ(e))}),[n,r,e]),null}function Oie(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=P.useRef(Rd(e)),r=P.useRef(t);return r.current!==t&&(n.current=Rd(e),r.current=t),n.current}var VT,kie=()=>{var[t]=P.useState(()=>Rd("uid-"));return t},Lie=(VT=xq.useId)!==null&&VT!==void 0?VT:kie;function Uie(t,e){var n=Lie();return e||(t?"".concat(t,"-").concat(n):n)}var Vie=P.createContext(void 0),Bie=t=>{var{id:e,type:n,children:r}=t,i=Uie("recharts-".concat(n),e);return P.createElement(Vie.Provider,{value:i},r(i))},qie={cartesianItems:[],polarItems:[]},zB=Lr({name:"graphicalItems",initialState:qie,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=Fo(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=Fo(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Fo(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Fie,replaceCartesianGraphicalItem:$ie,removeCartesianGraphicalItem:Hie,addPolarGraphicalItem:hve,removePolarGraphicalItem:pve}=zB.actions,zie=zB.reducer;function Gie(t){var e=An(),n=P.useRef(null);return P.useEffect(()=>{n.current===null?e(Fie(t)):n.current!==t&&e($ie({prev:n.current,next:t})),n.current=t},[e,t]),P.useEffect(()=>()=>{n.current&&(e(Hie(n.current)),n.current=null)},[e]),null}function Kie(){}var jie={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},nD={t:0},BT={t:1};function Yie(t){var e=Pl(t,jie),{isActive:n,canBegin:r,duration:i,easing:o,begin:a,onAnimationEnd:u,onAnimationStart:f,children:c}=e,h=gV("JavascriptAnimate",e.animationManager),[y,v]=P.useState(n?nD:BT),E=P.useRef(null);return P.useEffect(()=>{n||v(BT)},[n]),P.useEffect(()=>{if(!n||!r)return Kie;var w=mV(nD,BT,hV(o),i,v,h.getTimeoutController()),A=()=>{E.current=w()};return h.start([f,a,A,i,u]),()=>{h.stop(),E.current&&E.current(),u()}},[n,r,i,o,a,f,u,h]),c(y.t)}var Wie=oe([bn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Jie=oe([Wie,es,ts],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),GB=()=>ke(Jie),Xie="Invariant failed";function Qie(t,e){throw new Error(Xie)}var Zie=["x","y"];function uS(){return uS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uS.apply(null,arguments)}function rD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(n),!0).forEach(function(r){eoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eoe(t,e,n){return(e=toe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function toe(t){var e=noe(t,"string");return typeof e=="symbol"?e:e+""}function noe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function roe(t,e){if(t==null)return{};var n,r,i=ioe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ioe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ooe(t,e){var{x:n,y:r}=t,i=roe(t,Zie),o="".concat(n),a=parseInt(o,10),u="".concat(r),f=parseInt(u,10),c="".concat(e.height||i.height),h=parseInt(c,10),y="".concat(e.width||i.width),v=parseInt(y,10);return Wf(Wf(Wf(Wf(Wf({},e),i),a?{x:a}:{}),f?{y:f}:{}),{},{height:h,width:v,name:e.name,radius:e.radius})}function KB(t){return P.createElement(Pie,uS({shapeType:"rectangle",propTransformer:ooe,activeClassName:"recharts-active-bar"},t))}var soe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(xe(e))return e;var o=xe(r)||dn(r);return o?e(r,i):(o||Qie(),n)}},aoe={},jB=Lr({name:"errorBars",initialState:aoe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:mve,removeErrorBar:gve}=jB.actions,loe=jB.reducer,uoe=["children"];function coe(t,e){if(t==null)return{};var n,r,i=foe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function foe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var doe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},hoe=P.createContext(doe);function poe(t){var{children:e}=t,n=coe(t,uoe);return P.createElement(hoe.Provider,{value:n},e)}function YB(t,e){var n,r,i=ke(c=>rs(c,t)),o=ke(c=>ma(c,e)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Ar.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:br.allowDataOverflow,f=a||u;return{needClip:f,needClipX:a,needClipY:u}}function moe(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=GB(),{needClipX:o,needClipY:a,needClip:u}=YB(e,n);if(!u)return null;var{x:f,y:c,width:h,height:y}=i;return P.createElement("clipPath",{id:"clipPath-".concat(r)},P.createElement("rect",{x:o?f:f-h/2,y:a?c:c-y/2,width:o?h:h*2,height:a?y:y*2}))}var goe=["onMouseEnter","onMouseLeave","onClick"],yoe=["value","background","tooltipPosition"],voe=["id"],_oe=["onMouseEnter","onClick","onMouseLeave"];function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lc.apply(null,arguments)}function iD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iD(Object(n),!0).forEach(function(r){Toe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Toe(t,e,n){return(e=Eoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eoe(t){var e=Soe(t,"string");return typeof e=="symbol"?e:e+""}function Soe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xg(t,e){if(t==null)return{};var n,r,i=woe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function woe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Aoe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:sV(n,e),payload:t}]};function boe(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:o,hide:a,unit:u}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:sV(o,e),hide:a,type:t.tooltipType,color:t.fill,unit:u}}}function Coe(t){var e=ke(ac),{data:n,dataKey:r,background:i,allOtherBarProps:o}=t,{onMouseEnter:a,onMouseLeave:u,onClick:f}=o,c=xg(o,goe),h=FB(a,r),y=$B(u),v=HB(f,r);if(!i||n==null)return null;var E=wn(i,!1);return P.createElement(P.Fragment,null,n.map((w,A)=>{var{value:C,background:R,tooltipPosition:N}=w,M=xg(w,yoe);if(!R)return null;var U=h(w,A),V=y(w,A),G=v(w,A),O=Gn(Gn(Gn(Gn(Gn({option:i,isActive:String(A)===e},M),{},{fill:"#eee"},R),E),$w(c,w,A)),{},{onMouseEnter:U,onMouseLeave:V,onClick:G,dataKey:r,index:A,className:"recharts-bar-background-rectangle"});return P.createElement(KB,lc({key:"background-bar-".concat(A)},O))}))}function WB(t){var{data:e,props:n,showLabels:r}=t,i=oy(n),{id:o}=i,a=xg(i,voe),{shape:u,dataKey:f,activeBar:c}=n,h=ke(ac),y=ke(wB),{onMouseEnter:v,onClick:E,onMouseLeave:w}=n,A=xg(n,_oe),C=FB(v,f),R=$B(w),N=HB(E,f);return e?P.createElement(P.Fragment,null,e.map((M,U)=>{var V=c&&String(U)===h&&(y==null||f===y),G=V?c:u,O=Gn(Gn(Gn({},a),M),{},{isActive:V,option:G,index:U,dataKey:f});return P.createElement(aa,lc({className:"recharts-bar-rectangle"},$w(A,M,U),{onMouseEnter:C(M,U),onMouseLeave:R(M,U),onClick:N(M,U),key:"rectangle-".concat(M==null?void 0:M.x,"-").concat(M==null?void 0:M.y,"-").concat(M==null?void 0:M.value,"-").concat(U)}),P.createElement(KB,O))}),r&&dl.renderCallByParent(n,e)):null}function xoe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:o,animationBegin:a,animationDuration:u,animationEasing:f,onAnimationEnd:c,onAnimationStart:h}=e,y=n.current,v=Oie(e,"recharts-bar-"),[E,w]=P.useState(!1),A=P.useCallback(()=>{typeof c=="function"&&c(),w(!1)},[c]),C=P.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return P.createElement(Yie,{begin:a,duration:u,isActive:o,easing:f,onAnimationEnd:A,onAnimationStart:C,key:v},R=>{var N=R===1?r:r==null?void 0:r.map((M,U)=>{var V=y&&y[U];if(V)return Gn(Gn({},M),{},{x:Cu(V.x,M.x,R),y:Cu(V.y,M.y,R),width:Cu(V.width,M.width,R),height:Cu(V.height,M.height,R)});if(i==="horizontal"){var G=Cu(0,M.height,R);return Gn(Gn({},M),{},{y:M.y+M.height-G,height:G})}var O=Cu(0,M.width,R);return Gn(Gn({},M),{},{width:O})});return R>0&&(n.current=N??null),N==null?null:P.createElement(aa,null,P.createElement(WB,{props:e,data:N,showLabels:!E}))})}function Roe(t){var{data:e,isAnimationActive:n}=t,r=P.useRef(null);return n&&e&&e.length&&(r.current==null||r.current!==e)?P.createElement(xoe,{previousRectanglesRef:r,props:t}):P.createElement(WB,{props:t,data:e,showLabels:!0})}var JB=0,Ioe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:rr(t,e)}};class Poe extends P.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:a,needClip:u,background:f,id:c}=this.props;if(e)return null;var h=It("recharts-bar",i),y=c;return P.createElement(aa,{className:h,id:c},u&&P.createElement("defs",null,P.createElement(moe,{clipPathId:y,xAxisId:o,yAxisId:a})),P.createElement(aa,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(y,")"):void 0},P.createElement(Coe,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),P.createElement(Roe,this.props)),this.props.children)}}var Moe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!rh.isSsr,legendType:"rect",minPointSize:JB,xAxisId:0,yAxisId:0};function Noe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:a,animationBegin:u,animationDuration:f,animationEasing:c,isAnimationActive:h}=t,{needClip:y}=YB(e,n),v=lA(),E=bi(),w=Hw(t.children,DB),A=ke(N=>ose(N,e,n,E,t.id,w));if(v!=="vertical"&&v!=="horizontal")return null;var C,R=A==null?void 0:A[0];return R==null||R.height==null||R.width==null?C=0:C=v==="vertical"?R.height/2:R.width/2,P.createElement(poe,{xAxisId:e,yAxisId:n,data:A,dataPointFormatter:Ioe,errorBarOffset:C},P.createElement(Poe,lc({},t,{layout:v,needClip:y,data:A,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:a,animationBegin:u,animationDuration:f,animationEasing:c,isAnimationActive:h})))}function Doe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:a,yAxis:u,xAxisTicks:f,yAxisTicks:c,stackedData:h,displayedData:y,offset:v,cells:E}=t,w=e==="horizontal"?u:a,A=h?w.scale.domain():null,C=QW({numericAxis:w});return y.map((R,N)=>{var M,U,V,G,O,k;h?M=KW(h[N],A):(M=rr(R,n),Array.isArray(M)||(M=[C,M]));var D=soe(r,JB)(M[1],N);if(e==="horizontal"){var $,[F,z]=[u.scale(M[0]),u.scale(M[1])];U=JP({axis:a,ticks:f,bandSize:o,offset:i.offset,entry:R,index:N}),V=($=z??F)!==null&&$!==void 0?$:void 0,G=i.size;var H=F-z;if(O=ii(H)?0:H,k={x:U,y:v.top,width:G,height:v.height},Math.abs(D)>0&&Math.abs(O)<Math.abs(D)){var Me=Mr(O||D)*(Math.abs(D)-Math.abs(O));V-=Me,O+=Me}}else{var[be,ne]=[a.scale(M[0]),a.scale(M[1])];if(U=be,V=JP({axis:u,ticks:c,bandSize:o,offset:i.offset,entry:R,index:N}),G=ne-be,O=i.size,k={x:v.left,y:V,width:v.width,height:O},Math.abs(D)>0&&Math.abs(G)<Math.abs(D)){var pe=Mr(G||D)*(Math.abs(D)-Math.abs(G));G+=pe}}if(U==null||V==null||G==null||O==null)return null;var _e=Gn(Gn({},R),{},{x:U,y:V,width:G,height:O,value:h?M:M[1],payload:R,background:k,tooltipPosition:{x:U+G/2,y:V+O/2}},E&&E[N]&&E[N].props);return _e}).filter(Boolean)}function XB(t){var e=Pl(t,Moe),n=bi();return P.createElement(Bie,{id:e.id,type:"bar"},r=>P.createElement(P.Fragment,null,P.createElement(Die,{legendPayload:Aoe(e)}),P.createElement(Mie,{fn:boe,args:e}),P.createElement(Gie,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:XW(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),P.createElement(Noe,lc({},e,{id:r}))))}XB.displayName="Bar";function oD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oD(Object(n),!0).forEach(function(r){Ooe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ooe(t,e,n){return(e=koe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function koe(t){var e=Loe(t,"string");return typeof e=="symbol"?e:e+""}function Loe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uoe=(t,e)=>e,Voe=(t,e,n)=>n,Boe=(t,e,n,r)=>r,qoe=(t,e,n,r,i)=>i,ph=oe([zA,qoe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Foe=oe([ph],t=>t==null?void 0:t.maxBarSize),$oe=(t,e,n,r,i,o)=>o,sD=(t,e,n)=>{var r=n??t;if(!dn(r))return Ti(r,e,0)},Hoe=oe([dt,zA,Uoe,Voe,Boe],(t,e,n,r,i)=>e.filter(o=>t==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),zoe=(t,e,n,r)=>{var i=dt(t);return i==="horizontal"?rS(t,"yAxis",n,r):rS(t,"xAxis",e,r)},Goe=(t,e,n)=>{var r=dt(t);return r==="horizontal"?pN(t,"xAxis",e):pN(t,"yAxis",n)},Koe=(t,e,n)=>{var r={},i=t.filter(Iy),o=t.filter(c=>c.stackId==null),a=i.reduce((c,h)=>(c[h.stackId]||(c[h.stackId]=[]),c[h.stackId].push(h),c),r),u=Object.entries(a).map(c=>{var[h,y]=c,v=y.map(w=>w.dataKey),E=sD(e,n,y[0].barSize);return{stackId:h,dataKeys:v,barSize:E}}),f=o.map(c=>{var h=[c.dataKey].filter(v=>v!=null),y=sD(e,n,c.barSize);return{stackId:void 0,dataKeys:h,barSize:y}});return[...u,...f]},joe=oe([Hoe,Iee,Goe],Koe),Yoe=(t,e,n,r,i)=>{var o,a,u=ph(t,e,n,r,i);if(u!=null){var f=dt(t),c=g4(t),{maxBarSize:h}=u,y=dn(h)?c:h,v,E;return f==="horizontal"?(v=sc(t,"xAxis",e,r),E=oc(t,"xAxis",e,r)):(v=sc(t,"yAxis",n,r),E=oc(t,"yAxis",n,r)),(o=(a=iA(v,E,!0))!==null&&a!==void 0?a:y)!==null&&o!==void 0?o:0}},QB=(t,e,n,r)=>{var i=dt(t),o,a;return i==="horizontal"?(o=sc(t,"xAxis",e,r),a=oc(t,"xAxis",e,r)):(o=sc(t,"yAxis",n,r),a=oc(t,"yAxis",n,r)),iA(o,a)};function Woe(t,e,n,r,i){var o=r.length;if(!(o<1)){var a=Ti(t,n,0,!0),u,f=[];if(kr(r[0].barSize)){var c=!1,h=n/o,y=r.reduce((R,N)=>R+(N.barSize||0),0);y+=(o-1)*a,y>=n&&(y-=(o-1)*a,a=0),y>=n&&h>0&&(c=!0,h*=.9,y=o*h);var v=(n-y)/2>>0,E={offset:v-a,size:0};u=r.reduce((R,N)=>{var M,U={stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:E.offset+E.size+a,size:c?h:(M=N.barSize)!==null&&M!==void 0?M:0}},V=[...R,U];return E=V[V.length-1].position,V},f)}else{var w=Ti(e,n,0,!0);n-2*w-(o-1)*a<=0&&(a=0);var A=(n-2*w-(o-1)*a)/o;A>1&&(A>>=0);var C=kr(i)?Math.min(A,i):A;u=r.reduce((R,N,M)=>[...R,{stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:w+(A+a)*M+(A-C)/2,size:C}}],f)}return u}}var Joe=(t,e,n,r,i,o,a)=>{var u=dn(a)?e:a,f=Woe(n,r,i!==o?i:o,t,u);return i!==o&&f!=null&&(f=f.map(c=>lm(lm({},c),{},{position:lm(lm({},c.position),{},{offset:c.position.offset-i/2})}))),f},Xoe=oe([joe,g4,Ree,y4,Yoe,QB,Foe],Joe),Qoe=(t,e,n,r)=>sc(t,"xAxis",e,r),Zoe=(t,e,n,r)=>sc(t,"yAxis",n,r),ese=(t,e,n,r)=>oc(t,"xAxis",e,r),tse=(t,e,n,r)=>oc(t,"yAxis",n,r),nse=oe([Xoe,ph],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),rse=(t,e)=>{var n=$A(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:o}=i;if(o)return o.find(a=>a.key===n)}}}},ise=oe([zoe,ph],rse),ose=oe([bn,Qoe,Zoe,ese,tse,nse,dt,DA,QB,ise,ph,$oe],(t,e,n,r,i,o,a,u,f,c,h,y)=>{var{chartData:v,dataStartIndex:E,dataEndIndex:w}=u;if(!(h==null||o==null||a!=="horizontal"&&a!=="vertical"||e==null||n==null||r==null||i==null||f==null)){var{data:A}=h,C;if(A!=null&&A.length>0?C=A:C=v==null?void 0:v.slice(E,w+1),C!=null)return Doe({layout:a,barSettings:h,pos:o,bandSize:f,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:c,displayedData:C,offset:t,cells:y})}}),sse=t=>{var{chartData:e}=t,n=An(),r=bi();return P.useEffect(()=>r?()=>{}:(n(wN(e)),()=>{n(wN(void 0))}),[e,n,r]),null},aD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},ZB=Lr({name:"brush",initialState:aD,reducers:{setBrushSettings(t,e){return e.payload==null?aD:e.payload}}}),{setBrushSettings:yve}=ZB.actions,ase=ZB.reducer;function lse(t,e,n){return(e=use(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function use(t){var e=cse(t,"string");return typeof e=="symbol"?e:e+""}function cse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ub{static create(e){return new ub(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}lse(ub,"EPS",1e-4);function fse(t){return(t%180+180)%180}var dse=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=fse(i),a=o*Math.PI/180,u=Math.atan(r/n),f=a>u&&a<Math.PI-u?r/Math.sin(a):n/Math.cos(a);return Math.abs(f)},hse={dots:[],areas:[],lines:[]},e3=Lr({name:"referenceElements",initialState:hse,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Fo(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Fo(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Fo(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:vve,removeDot:_ve,addArea:Tve,removeArea:Eve,addLine:Sve,removeLine:wve}=e3.actions,pse=e3.reducer,mse=P.createContext(void 0),gse=t=>{var{children:e}=t,[n]=P.useState("".concat(Rd("recharts"),"-clip")),r=GB();if(r==null)return null;var{x:i,y:o,width:a,height:u}=r;return P.createElement(mse.Provider,{value:n},P.createElement("defs",null,P.createElement("clipPath",{id:n},P.createElement("rect",{x:i,y:o,height:u,width:a}))),e)};function qT(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function t3(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function yse(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return dse(r,n)}function vse(t,e,n){var r=n==="width",{x:i,y:o,width:a,height:u}=t;return e===1?{start:r?i:o,end:r?i+a:o+u}:{start:r?i+a:o+u,end:r?i:o}}function Rg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function _se(t,e){return t3(t,e+1)}function Tse(t,e,n,r,i){for(var o=(r||[]).slice(),{start:a,end:u}=e,f=0,c=1,h=a,y=function(){var w=r==null?void 0:r[f];if(w===void 0)return{v:t3(r,c)};var A=f,C,R=()=>(C===void 0&&(C=n(w,A)),C),N=w.coordinate,M=f===0||Rg(t,N,R,h,u);M||(f=0,h=a,c+=1),M&&(h=N+t*(R()/2+i),f+=c)},v;c<=o.length;)if(v=y(),v)return v.v;return[]}function lD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lD(Object(n),!0).forEach(function(r){Ese(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ese(t,e,n){return(e=Sse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sse(t){var e=wse(t,"string");return typeof e=="symbol"?e:e+""}function wse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ase(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,{start:u}=e,{end:f}=e,c=function(v){var E=o[v],w,A=()=>(w===void 0&&(w=n(E,v)),w);if(v===a-1){var C=t*(E.coordinate+t*A()/2-f);o[v]=E=$n($n({},E),{},{tickCoord:C>0?E.coordinate-C*t:E.coordinate})}else o[v]=E=$n($n({},E),{},{tickCoord:E.coordinate});var R=Rg(t,E.tickCoord,A,u,f);R&&(f=E.tickCoord-t*(A()/2+i),o[v]=$n($n({},E),{},{isShow:!0}))},h=a-1;h>=0;h--)c(h);return o}function bse(t,e,n,r,i,o){var a=(r||[]).slice(),u=a.length,{start:f,end:c}=e;if(o){var h=r[u-1],y=n(h,u-1),v=t*(h.coordinate+t*y/2-c);a[u-1]=h=$n($n({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate});var E=Rg(t,h.tickCoord,()=>y,f,c);E&&(c=h.tickCoord-t*(y/2+i),a[u-1]=$n($n({},h),{},{isShow:!0}))}for(var w=o?u-1:u,A=function(N){var M=a[N],U,V=()=>(U===void 0&&(U=n(M,N)),U);if(N===0){var G=t*(M.coordinate-t*V()/2-f);a[N]=M=$n($n({},M),{},{tickCoord:G<0?M.coordinate-G*t:M.coordinate})}else a[N]=M=$n($n({},M),{},{tickCoord:M.coordinate});var O=Rg(t,M.tickCoord,V,f,c);O&&(f=M.tickCoord+t*(V()/2+i),a[N]=$n($n({},M),{},{isShow:!0}))},C=0;C<w;C++)A(C);return a}function Cse(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:a,orientation:u,interval:f,tickFormatter:c,unit:h,angle:y}=t;if(!i||!i.length||!r)return[];if(xe(f)||rh.isSsr){var v;return(v=_se(i,xe(f)?f:0))!==null&&v!==void 0?v:[]}var E=[],w=u==="top"||u==="bottom"?"width":"height",A=h&&w==="width"?pd(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},C=(M,U)=>{var V=typeof c=="function"?c(M.value,U):M.value;return w==="width"?yse(pd(V,{fontSize:e,letterSpacing:n}),A,y):pd(V,{fontSize:e,letterSpacing:n})[w]},R=i.length>=2?Mr(i[1].coordinate-i[0].coordinate):1,N=vse(o,R,w);return f==="equidistantPreserveStart"?Tse(R,N,C,i,a):(f==="preserveStart"||f==="preserveStartEnd"?E=bse(R,N,C,i,a,f==="preserveStartEnd"):E=Ase(R,N,C,i,a),E.filter(M=>M.isShow))}var xse=["viewBox"],Rse=["viewBox"];function Ou(){return Ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ou.apply(null,arguments)}function uD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uD(Object(n),!0).forEach(function(r){cb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cD(t,e){if(t==null)return{};var n,r,i=Ise(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ise(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cb(t,e,n){return(e=Pse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pse(t){var e=Mse(t,"string");return typeof e=="symbol"?e:e+""}function Mse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class xc extends P.Component{constructor(e){super(e),this.tickRefs=P.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=cD(e,xse),o=this.props,{viewBox:a}=o,u=cD(o,Rse);return!qT(r,a)||!qT(i,u)||!qT(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:o,orientation:a,tickSize:u,mirror:f,tickMargin:c}=this.props,h,y,v,E,w,A,C=f?-1:1,R=e.tickSize||u,N=xe(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":h=y=e.coordinate,E=r+ +!f*o,v=E-C*R,A=v-C*c,w=N;break;case"left":v=E=e.coordinate,y=n+ +!f*i,h=y-C*R,w=h-C*c,A=N;break;case"right":v=E=e.coordinate,y=n+ +f*i,h=y+C*R,w=h+C*c,A=N;break;default:h=y=e.coordinate,E=r+ +f*o,v=E+C*R,A=v+C*c,w=N;break}return{line:{x1:h,y1:v,x2:y,y2:E},tick:{x:w,y:A}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:o,mirror:a,axisLine:u}=this.props,f=cn(cn(cn({},wn(this.props,!1)),wn(u,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var c=+(o==="top"&&!a||o==="bottom"&&a);f=cn(cn({},f),{},{x1:e,y1:n+c*i,x2:e+r,y2:n+c*i})}else{var h=+(o==="left"&&!a||o==="right"&&a);f=cn(cn({},f),{},{x1:e+h*r,y1:n,x2:e+h*r,y2:n+i})}return P.createElement("line",Ou({},f,{className:It("recharts-cartesian-axis-line",_l(u,"className"))}))}static renderTickItem(e,n,r){var i,o=It(n.className,"recharts-cartesian-axis-tick-value");if(P.isValidElement(e))i=P.cloneElement(e,cn(cn({},n),{},{className:o}));else if(typeof e=="function")i=e(cn(cn({},n),{},{className:o}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=It(a,e.className)),i=P.createElement(ab,Ou({},n,{className:a}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:o,tick:a,tickFormatter:u,unit:f,padding:c}=this.props,h=Cse(cn(cn({},this.props),{},{ticks:r}),e,n),y=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),E=oy(this.props),w=wn(a,!1),A=cn(cn({},E),{},{fill:"none"},wn(i,!1)),C=h.map((R,N)=>{var{line:M,tick:U}=this.getTickLineCoord(R),V=cn(cn(cn(cn({textAnchor:y,verticalAnchor:v},E),{},{stroke:"none",fill:o},w),U),{},{index:N,payload:R,visibleTicksCount:h.length,tickFormatter:u,padding:c});return P.createElement(aa,Ou({className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},$w(this.props,R,N)),i&&P.createElement("line",Ou({},A,M,{className:It("recharts-cartesian-axis-tick-line",_l(i,"className"))})),a&&xc.renderTickItem(a,V,"".concat(typeof u=="function"?u(R.value,N):R.value).concat(f||"")))});return C.length>0?P.createElement("g",{className:"recharts-cartesian-axis-ticks"},C):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:o}=this.props;if(o)return null;var{ticks:a}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:P.createElement(aa,{className:It("recharts-cartesian-axis",i),ref:u=>{if(u){var f=u.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(f);var c=f[0];if(c){var h=window.getComputedStyle(c).fontSize,y=window.getComputedStyle(c).letterSpacing;(h!==this.state.fontSize||y!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(c).fontSize,letterSpacing:window.getComputedStyle(c).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),xr.renderCallByParent(this.props))}}cb(xc,"displayName","CartesianAxis");cb(xc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function fD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fD(Object(n),!0).forEach(function(r){Nse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nse(t,e,n){return(e=Dse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dse(t){var e=Ose(t,"string");return typeof e=="symbol"?e:e+""}function Ose(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kse={xAxis:{},yAxis:{},zAxis:{}},n3=Lr({name:"cartesianAxis",initialState:kse,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=dD(dD({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:Lse,removeXAxis:Use,addYAxis:Vse,removeYAxis:Bse,addZAxis:Ave,removeZAxis:bve,updateYAxisWidth:qse}=n3.actions,Fse=n3.reducer,$se=["children"],Hse=["dangerouslySetInnerHTML","ticks"];function r3(t,e,n){return(e=zse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zse(t){var e=Gse(t,"string");return typeof e=="symbol"?e:e+""}function Gse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cS(){return cS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cS.apply(null,arguments)}function i3(t,e){if(t==null)return{};var n,r,i=Kse(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jse(t){var e=An(),n=P.useMemo(()=>{var{children:o}=t,a=i3(t,$se);return a},[t]),r=ke(o=>rs(o,n.id)),i=n===r;return P.useEffect(()=>(e(Lse(n)),()=>{e(Use(n))}),[n,e]),i?t.children:null}var Yse=t=>{var{xAxisId:e,className:n}=t,r=ke(lV),i=bi(),o="xAxis",a=ke(E=>Ac(E,o,e,i)),u=ke(E=>iB(E,o,e,i)),f=ke(E=>eB(E,e)),c=ke(E=>Tte(E,e));if(f==null||c==null)return null;var{dangerouslySetInnerHTML:h,ticks:y}=t,v=i3(t,Hse);return P.createElement(xc,cS({},v,{scale:a,x:c.x,y:c.y,width:f.width,height:f.height,className:It("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:u}))},Wse=t=>{var e,n,r,i,o;return P.createElement(jse,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter},P.createElement(Yse,t))};class fb extends P.Component{render(){return P.createElement(Wse,this.props)}}r3(fb,"displayName","XAxis");r3(fb,"defaultProps",{allowDataOverflow:Ar.allowDataOverflow,allowDecimals:Ar.allowDecimals,allowDuplicatedCategory:Ar.allowDuplicatedCategory,height:Ar.height,hide:!1,mirror:Ar.mirror,orientation:Ar.orientation,padding:Ar.padding,reversed:Ar.reversed,scale:Ar.scale,tickCount:Ar.tickCount,type:Ar.type,xAxisId:0});var Jse=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,a=0;if(e){e.forEach(h=>{if(h){var y=h.getBoundingClientRect();y.width>a&&(a=y.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+o,c=a+f+u+(n?r:0);return Math.round(c)}return 0},Xse=["dangerouslySetInnerHTML","ticks"];function o3(t,e,n){return(e=Qse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qse(t){var e=Zse(t,"string");return typeof e=="symbol"?e:e+""}function Zse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fS(){return fS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fS.apply(null,arguments)}function eae(t,e){if(t==null)return{};var n,r,i=tae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nae(t){var e=An();return P.useEffect(()=>(e(Vse(t)),()=>{e(Bse(t))}),[t,e]),null}var rae=t=>{var e,{yAxisId:n,className:r,width:i,label:o}=t,a=P.useRef(null),u=P.useRef(null),f=ke(lV),c=bi(),h=An(),y="yAxis",v=ke(M=>Ac(M,y,n,c)),E=ke(M=>tB(M,n)),w=ke(M=>Ete(M,n)),A=ke(M=>iB(M,y,n,c));if(P.useLayoutEffect(()=>{var M;if(!(i!=="auto"||!E||lb(o)||P.isValidElement(o))){var U=a.current,V=U==null||(M=U.tickRefs)===null||M===void 0?void 0:M.current,{tickSize:G,tickMargin:O}=U.props,k=Jse({ticks:V,label:u.current,labelGapWithTick:5,tickSize:G,tickMargin:O});Math.round(E.width)!==Math.round(k)&&h(qse({id:n,width:k}))}},[a,a==null||(e=a.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,E==null?void 0:E.width,E,h,o,n,i]),E==null||w==null)return null;var{dangerouslySetInnerHTML:C,ticks:R}=t,N=eae(t,Xse);return P.createElement(xc,fS({},N,{ref:a,labelRef:u,scale:v,x:w.x,y:w.y,width:E.width,height:E.height,className:It("recharts-".concat(y," ").concat(y),r),viewBox:f,ticks:A}))},iae=t=>{var e,n,r,i,o;return P.createElement(P.Fragment,null,P.createElement(nae,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter}),P.createElement(rae,t))},oae={allowDataOverflow:br.allowDataOverflow,allowDecimals:br.allowDecimals,allowDuplicatedCategory:br.allowDuplicatedCategory,hide:!1,mirror:br.mirror,orientation:br.orientation,padding:br.padding,reversed:br.reversed,scale:br.scale,tickCount:br.tickCount,type:br.type,width:br.width,yAxisId:0};class db extends P.Component{render(){return P.createElement(iae,this.props)}}o3(db,"displayName","YAxis");o3(db,"defaultProps",oae);var FT={exports:{}},$T={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hD;function sae(){if(hD)return $T;hD=1;var t=uc();function e(f,c){return f===c&&(f!==0||1/f===1/c)||f!==f&&c!==c}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,a=t.useMemo,u=t.useDebugValue;return $T.useSyncExternalStoreWithSelector=function(f,c,h,y,v){var E=i(null);if(E.current===null){var w={hasValue:!1,value:null};E.current=w}else w=E.current;E=a(function(){function C(V){if(!R){if(R=!0,N=V,V=y(V),v!==void 0&&w.hasValue){var G=w.value;if(v(G,V))return M=G}return M=V}if(G=M,n(N,V))return G;var O=y(V);return v!==void 0&&v(G,O)?(N=V,G):(N=V,M=O)}var R=!1,N,M,U=h===void 0?null:h;return[function(){return C(c())},U===null?void 0:function(){return C(U())}]},[c,h,y,v]);var A=r(f,E[0],E[1]);return o(function(){w.hasValue=!0,w.value=A},[A]),u(A),A},$T}var pD;function aae(){return pD||(pD=1,FT.exports=sae()),FT.exports}aae();function lae(t){t()}function uae(){let t=null,e=null;return{clear(){t=null,e=null},notify(){lae(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var mD={notify(){},get:()=>[]};function cae(t,e){let n,r=mD,i=0,o=!1;function a(A){h();const C=r.subscribe(A);let R=!1;return()=>{R||(R=!0,C(),y())}}function u(){r.notify()}function f(){w.onStateChange&&w.onStateChange()}function c(){return o}function h(){i++,n||(n=t.subscribe(f),r=uae())}function y(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=mD)}function v(){o||(o=!0,h())}function E(){o&&(o=!1,y())}const w={addNestedSub:a,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:c,trySubscribe:v,tryUnsubscribe:E,getListeners:()=>r};return w}var fae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dae=fae(),hae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",pae=hae(),mae=()=>dae||pae?P.useLayoutEffect:P.useEffect,gae=mae(),HT=Symbol.for("react-redux-context"),zT=typeof globalThis<"u"?globalThis:{};function yae(){if(!P.createContext)return{};const t=zT[HT]??(zT[HT]=new Map);let e=t.get(P.createContext);return e||(e=P.createContext(null),t.set(P.createContext,e)),e}var vae=yae();function _ae(t){const{children:e,context:n,serverState:r,store:i}=t,o=P.useMemo(()=>{const f=cae(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),a=P.useMemo(()=>i.getState(),[i]);gae(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),a!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,a]);const u=n||vae;return P.createElement(u.Provider,{value:o},e)}var Tae=_ae,Eae=(t,e)=>e,hb=oe([Eae,dt,w4,pn,_B,is,bne,bn],Pne),pb=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},s3=oi("mouseClick"),a3=nh();a3.startListening({actionCreator:s3,effect:(t,e)=>{var n=t.payload,r=hb(e.getState(),pb(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(Ote({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var dS=oi("mouseMove"),l3=nh();l3.startListening({actionCreator:dS,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=QA(r,r.tooltip.settings.shared),o=hb(r,pb(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?e.dispatch(dB({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(fB()))}});function Sae(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var gD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},u3=Lr({name:"rootProps",initialState:gD,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:gD.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),wae=u3.reducer,{updateOptions:Aae}=u3.actions,c3=Lr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Cve}=c3.actions,bae=c3.reducer,f3=oi("keyDown"),d3=oi("focus"),mb=nh();mb.startListening({actionCreator:f3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var a=Number(ZA(i,Cc(n))),u=is(n);if(o==="Enter"){var f=wg(n,"axis","hover",String(i.index));e.dispatch(oS({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var c=bte(n),h=c==="left-to-right"?1:-1,y=o==="ArrowRight"?1:-1,v=a+y*h;if(!(u==null||v>=u.length||v<0)){var E=wg(n,"axis","hover",String(v));e.dispatch(oS({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:E}))}}}}});mb.startListening({actionCreator:d3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",a=wg(n,"axis","hover",String(o));e.dispatch(oS({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:a}))}}}});var Xr=oi("externalEvent"),h3=nh();h3.startListening({actionCreator:Xr,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:gne(n),activeDataKey:wB(n),activeIndex:ac(n),activeLabel:SB(n),activeTooltipIndex:ac(n),isTooltipActive:yne(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Cae=oe([bc],t=>t.tooltipItemPayloads),xae=oe([Cae,dh,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var a=e(o,n);return a}}}),p3=oi("touchMove"),m3=nh();m3.startListening({actionCreator:p3,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=QA(r,r.tooltip.settings.shared);if(i==="axis"){var o=hb(r,pb({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(dB({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var a,u=n.touches[0],f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var c=f.getAttribute(sJ),h=(a=f.getAttribute(aJ))!==null&&a!==void 0?a:void 0,y=xae(e.getState(),c,h);e.dispatch(cB({activeDataKey:h,activeIndex:c,activeCoordinate:y}))}}});var Rae=LU({brush:ase,cartesianAxis:Fse,chartData:jne,errorBars:loe,graphicalItems:zie,layout:IW,legend:EJ,options:$ne,polarAxis:pie,polarOptions:bae,referenceElements:pse,rootProps:wae,tooltip:kte}),Iae=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return eW({reducer:Rae,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([a3.middleware,l3.middleware,mb.middleware,h3.middleware,m3.middleware]),devTools:{serialize:{replacer:Sae},name:"recharts-".concat(n)}})};function Pae(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=bi(),o=P.useRef(null);if(i)return n;o.current==null&&(o.current=Iae(e,r));var a=Qw;return P.createElement(Tae,{context:a,store:o.current},n)}function Mae(t){var{layout:e,width:n,height:r,margin:i}=t,o=An(),a=bi();return P.useEffect(()=>{a||(o(CW(e)),o(xW({width:n,height:r})),o(bW(i)))},[o,a,e,n,r,i]),null}function Nae(t){var e=An();return P.useEffect(()=>{e(Aae(t))},[e,t]),null}var Dae=["children"];function Oae(t,e){if(t==null)return{};var n,r,i=kae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ig(){return Ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ig.apply(null,arguments)}var Lae={width:"100%",height:"100%"},Uae=P.forwardRef((t,e)=>{var n=gJ(),r=yJ(),i=cV();if(!sg(n)||!sg(r))return null;var{children:o,otherAttributes:a,title:u,desc:f}=t,c,h;return typeof a.tabIndex=="number"?c=a.tabIndex:c=i?0:void 0,typeof a.role=="string"?h=a.role:h=i?"application":void 0,P.createElement(sU,Ig({},a,{title:u,desc:f,role:h,tabIndex:c,width:n,height:r,style:Lae,ref:e}),o)}),Vae=t=>{var{children:e}=t,n=ke(yy);if(!n)return null;var{width:r,height:i,y:o,x:a}=n;return P.createElement(sU,{width:r,height:i,x:a,y:o},e)},yD=P.forwardRef((t,e)=>{var{children:n}=t,r=Oae(t,Dae),i=bi();return i?P.createElement(Vae,null,n):P.createElement(Uae,Ig({ref:e},r),n)});function Bae(){var t=An(),[e,n]=P.useState(null),r=ke(oJ);return P.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;kr(o)&&o!==r&&t(RW(o))}},[e,t,r]),n}function vD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(n),!0).forEach(function(r){Fae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fae(t,e,n){return(e=$ae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ae(t){var e=Hae(t,"string");return typeof e=="symbol"?e:e+""}function Hae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zae=P.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:a,onDoubleClick:u,onMouseDown:f,onMouseEnter:c,onMouseLeave:h,onMouseMove:y,onMouseUp:v,onTouchEnd:E,onTouchMove:w,onTouchStart:A,style:C,width:R}=t,N=An(),[M,U]=P.useState(null),[V,G]=P.useState(null);Jne();var O=Bae(),k=P.useCallback(se=>{O(se),typeof e=="function"&&e(se),U(se),G(se)},[O,e,U,G]),D=P.useCallback(se=>{N(s3(se)),N(Xr({handler:o,reactEvent:se}))},[N,o]),$=P.useCallback(se=>{N(dS(se)),N(Xr({handler:c,reactEvent:se}))},[N,c]),F=P.useCallback(se=>{N(fB()),N(Xr({handler:h,reactEvent:se}))},[N,h]),z=P.useCallback(se=>{N(dS(se)),N(Xr({handler:y,reactEvent:se}))},[N,y]),H=P.useCallback(()=>{N(d3())},[N]),Me=P.useCallback(se=>{N(f3(se.key))},[N]),be=P.useCallback(se=>{N(Xr({handler:a,reactEvent:se}))},[N,a]),ne=P.useCallback(se=>{N(Xr({handler:u,reactEvent:se}))},[N,u]),pe=P.useCallback(se=>{N(Xr({handler:f,reactEvent:se}))},[N,f]),_e=P.useCallback(se=>{N(Xr({handler:v,reactEvent:se}))},[N,v]),Le=P.useCallback(se=>{N(Xr({handler:A,reactEvent:se}))},[N,A]),j=P.useCallback(se=>{N(p3(se)),N(Xr({handler:w,reactEvent:se}))},[N,w]),ce=P.useCallback(se=>{N(Xr({handler:E,reactEvent:se}))},[N,E]);return P.createElement(IB.Provider,{value:M},P.createElement(JK.Provider,{value:V},P.createElement("div",{className:It("recharts-wrapper",r),style:qae({position:"relative",cursor:"default",width:R,height:i},C),onClick:D,onContextMenu:be,onDoubleClick:ne,onFocus:H,onKeyDown:Me,onMouseDown:pe,onMouseEnter:$,onMouseLeave:F,onMouseMove:z,onMouseUp:_e,onTouchEnd:ce,onTouchMove:j,onTouchStart:Le,ref:k},n)))}),Gae=["children","className","width","height","style","compact","title","desc"];function Kae(t,e){if(t==null)return{};var n,r,i=jae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Yae=P.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:o,style:a,compact:u,title:f,desc:c}=t,h=Kae(t,Gae),y=oy(h);return u?P.createElement(yD,{otherAttributes:y,title:f,desc:c},n):P.createElement(zae,{className:r,style:a,width:i,height:o,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},P.createElement(yD,{otherAttributes:y,title:f,desc:c,ref:e},P.createElement(gse,null,n)))}),Wae=["width","height"];function hS(){return hS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hS.apply(null,arguments)}function Jae(t,e){if(t==null)return{};var n,r,i=Xae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Qae={top:5,right:5,bottom:5,left:5},Zae={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Qae,reverseStackOrder:!1,syncMethod:"index"},ele=P.forwardRef(function(e,n){var r,i=Pl(e.categoricalChartProps,Zae),{width:o,height:a}=i,u=Jae(i,Wae);if(!sg(o)||!sg(a))return null;var{chartName:f,defaultTooltipEventType:c,validateTooltipEventTypes:h,tooltipPayloadSearcher:y,categoricalChartProps:v}=e,E={chartName:f,defaultTooltipEventType:c,validateTooltipEventTypes:h,tooltipPayloadSearcher:y,eventEmitter:void 0};return P.createElement(Pae,{preloadedState:{options:E},reduxStoreName:(r=v.id)!==null&&r!==void 0?r:f},P.createElement(sse,{chartData:v.data}),P.createElement(Mae,{width:o,height:a,layout:i.layout,margin:i.margin}),P.createElement(Nae,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),P.createElement(Yae,hS({},u,{width:o,height:a,ref:n})))}),tle=["axis","item"],nle=P.forwardRef((t,e)=>P.createElement(ele,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:tle,tooltipPayloadSearcher:qne,categoricalChartProps:t,ref:e}));const rle=()=>q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:q.jsx("path",{d:"M2 11h3v7H2v-7zM6 3h3v15H6V3zm5 8h3v7h-3v-7zm4-4h3v11h-3V7z"})}),ile=()=>q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:q.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),ole=()=>q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:q.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),sle=()=>q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),ale=({data:t})=>!t||t.length===0?q.jsx("p",{className:"text-stone-400 text-center py-8",children:"   ."}):q.jsx(pre,{width:"100%",height:300,children:q.jsxs(nle,{data:t,margin:{top:5,right:20,left:-10,bottom:5},children:[q.jsx(fb,{dataKey:"label",stroke:"#a8a29e",fontSize:12,tickLine:!1,axisLine:!1}),q.jsx(db,{stroke:"#a8a29e",fontSize:12,tickLine:!1,axisLine:!1,allowDecimals:!1}),q.jsx(ire,{contentStyle:{backgroundColor:"#292524",border:"1px solid #57534e",borderRadius:"0.375rem"},labelStyle:{color:"#f59e0b"},itemStyle:{color:"#d6d3d1"},formatter:e=>[e,""]}),q.jsx(XB,{dataKey:"value",fill:"#f59e0b",radius:[4,4,0,0]})]})}),lle=({codeword:t,onUpdate:e,onDelete:n})=>{const[r,i]=P.useState(t.usedMessage),[o,a]=P.useState(t.introText||"  :"),[u,f]=P.useState(t.note||""),[c,h]=P.useState(!1),[y,v]=P.useState([]),[E,w]=P.useState(!1),[A,C]=P.useState(""),[R,N]=P.useState("day"),M=`${window.location.origin}${window.location.pathname}#/view?c=${t.id}`,U=`https://api.qrserver.com/v1/create-qr-code/?size=256x256&data=${encodeURIComponent(M)}`,V=async()=>{w(!0),C(""),v([]);try{const O=Sm(Za(ar,"codewords",t.id,"viewEvents"),EE("viewedAt","asc")),D=(await DL(O)).docs.map(z=>z.data().viewedAt.toDate());if(D.length===0){w(!1);return}const $={};D.forEach(z=>{let H="";R==="day"?H=z.toLocaleDateString("ru-RU",{year:"2-digit",month:"2-digit",day:"2-digit"}):H=z.toLocaleDateString("ru-RU",{year:"2-digit",month:"2-digit",day:"2-digit"})+` ${z.getHours()}:00`,$[H]=($[H]||0)+1});const F=Object.keys($).map(z=>({label:z,value:$[z]}));v(F)}catch(O){console.error("Error fetching stats:",O),C("   .")}finally{w(!1)}};P.useEffect(()=>{c&&V()},[c,R]);const G=async()=>{try{const O=await fetch(U);if(!O.ok)throw new Error("QR code fetch failed");const k=await O.blob(),D=window.URL.createObjectURL(k),$=document.createElement("a");$.href=D;const F=t.word.replace(/[^a-z0-9-]/gi,"_").toLowerCase();$.setAttribute("download",`qr_${F}.png`),document.body.appendChild($),$.click(),$.parentNode&&$.parentNode.removeChild($),window.URL.revokeObjectURL(D)}catch(O){console.error("Failed to download QR code",O),alert("   QR-.")}};return q.jsxs(q.Fragment,{children:[q.jsxs("div",{className:"bg-stone-800/70 border border-stone-700 p-4 rounded-md grid grid-cols-1 md:grid-cols-3 gap-4 items-start",children:[q.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[q.jsx("img",{src:U,alt:"QR Code",className:"w-36 h-36 border-2 border-stone-600 rounded-md"}),q.jsxs("button",{onClick:G,className:"flex items-center justify-center gap-2 w-full bg-stone-600 hover:bg-stone-500 text-stone-200 px-3 py-2 rounded-md text-sm transition-colors",children:[q.jsx(sle,{})," QR"]}),q.jsx("a",{href:M,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-amber-400 hover:text-amber-300 break-all text-center pt-1",children:M})]}),q.jsxs("div",{className:"md:col-span-2 space-y-3",children:[q.jsxs("div",{children:[q.jsx("label",{htmlFor:`introText_${t.id}`,className:"text-sm font-bold text-stone-400 block",children:" :"}),q.jsx("input",{id:`introText_${t.id}`,type:"text",value:o,onChange:O=>a(O.target.value),onBlur:()=>e(t.id,{introText:o}),className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-3 py-1 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"})]}),q.jsxs("div",{children:[q.jsx("label",{className:"text-sm font-bold text-stone-400 block",children:" :"}),q.jsx("p",{className:"text-lg bg-stone-900 p-2 rounded-md font-bold text-stone-100 break-words",children:t.word})]}),q.jsxs("div",{children:[q.jsx("label",{htmlFor:`usedMsg_${t.id}`,className:"text-sm font-bold text-stone-400 block",children:" ( ):"}),q.jsx("input",{id:`usedMsg_${t.id}`,type:"text",value:r,onChange:O=>i(O.target.value),onBlur:()=>e(t.id,{usedMessage:r}),className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-3 py-1 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"})]}),q.jsxs("div",{children:[q.jsx("label",{htmlFor:`note_${t.id}`,className:"text-sm font-bold text-stone-400 block",children:" (  ):"}),q.jsx("textarea",{id:`note_${t.id}`,value:u,onChange:O=>f(O.target.value),onBlur:()=>e(t.id,{note:u}),className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-3 py-1 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all h-20 resize-y",placeholder:"    ..."})]}),q.jsxs("div",{className:"flex items-center justify-between pt-2",children:[q.jsxs("label",{htmlFor:`toggle_${t.id}`,className:"flex items-center cursor-pointer",children:[q.jsxs("div",{className:"relative",children:[q.jsx("input",{type:"checkbox",id:`toggle_${t.id}`,className:"sr-only",checked:t.isUsed,onChange:()=>e(t.id,{isUsed:!t.isUsed})}),q.jsx("div",{className:`block ${t.isUsed?"bg-amber-500":"bg-stone-600"} w-14 h-8 rounded-full transition-colors`}),q.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-transform ${t.isUsed?"transform translate-x-6":""}`})]}),q.jsx("div",{className:"ml-3 text-stone-300 font-semibold",children:t.isUsed?"":""})]}),q.jsxs("div",{className:"flex items-center gap-2 text-stone-400",children:[q.jsxs("div",{className:"flex items-center gap-1",title:"",children:[q.jsx(ile,{}),q.jsx("span",{children:t.views||0})]}),q.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-1 bg-sky-800 hover:bg-sky-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[q.jsx(rle,{}),""]}),q.jsxs("button",{onClick:()=>n(t.id),className:"flex items-center gap-1 bg-red-800 hover:bg-red-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[q.jsx(ole,{}),""]})]})]})]})]}),c&&q.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",onClick:()=>h(!1),role:"dialog","aria-modal":"true","aria-labelledby":"stats-modal-title",children:q.jsxs("div",{className:"bg-stone-800 border border-stone-700 rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col",onClick:O=>O.stopPropagation(),children:[q.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-stone-700",children:[q.jsx("h3",{id:"stats-modal-title",className:"font-display text-2xl text-amber-400",children:" "}),q.jsx("button",{onClick:()=>h(!1),className:"text-stone-400 hover:text-white text-3xl leading-none","aria-label":"Close",children:""})]}),q.jsxs("div",{className:"p-4 flex-grow overflow-y-auto",children:[q.jsxs("div",{className:"flex gap-2 mb-4",children:[q.jsx("button",{onClick:()=>N("day"),className:`px-4 py-2 rounded-md font-semibold ${R==="day"?"bg-amber-500 text-stone-900":"bg-stone-700 text-stone-300 hover:bg-stone-600"}`,children:" "}),q.jsx("button",{onClick:()=>N("hour"),className:`px-4 py-2 rounded-md font-semibold ${R==="hour"?"bg-amber-500 text-stone-900":"bg-stone-700 text-stone-300 hover:bg-stone-600"}`,children:" "})]}),E&&q.jsx("p",{className:"animate-pulse text-center py-8 font-display text-xl text-stone-400",children:" ..."}),A&&q.jsx("p",{className:"text-red-500 text-center py-8",children:A}),!E&&!A&&q.jsx(ale,{data:y})]})]})})]})},ule=()=>q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:q.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),cle=()=>q.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[q.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),q.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),fle=()=>q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:q.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),dle=({game:t,onDelete:e})=>{var o;const n=(o=t.createdAt)==null?void 0:o.toDate().toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}),r=()=>{window.location.hash=`#/admin/quest/${t.id}`},i=()=>{window.location.hash=`#/play/${t.id}`};return q.jsxs("div",{className:"bg-stone-800/70 border border-stone-700 p-4 rounded-md flex justify-between items-center",children:[q.jsxs("div",{children:[q.jsx("h4",{className:"text-xl font-bold text-stone-100",children:t.title}),q.jsxs("div",{className:"text-sm text-stone-400 mt-1",children:[q.jsx("span",{className:`inline-block px-2 py-0.5 rounded-md mr-2 text-xs font-semibold ${t.status==="published"?"bg-green-900/50 text-green-300":"bg-sky-900/50 text-sky-300"}`,children:t.status==="published"?"":""}),q.jsxs("span",{children:[": ",n||"N/A"]})]})]}),q.jsxs("div",{className:"flex items-center gap-2",children:[q.jsxs("button",{onClick:i,className:"flex items-center gap-1 bg-green-800 hover:bg-green-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[q.jsx(ule,{})," "]}),q.jsxs("button",{onClick:r,className:"flex items-center gap-1 bg-blue-800 hover:bg-blue-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[q.jsx(cle,{})," "]}),q.jsxs("button",{onClick:()=>e(t.id),className:"flex items-center gap-1 bg-red-800 hover:bg-red-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[q.jsx(fle,{})," "]})]})]})},hle=()=>q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H5v-2H3v-2H1v-4a6 6 0 017.743-5.743z"})}),ple=()=>q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),mle=()=>q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:q.jsx("path",{d:"M17 3H5a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2zm-3 12H8v-4h6v4zm2-6H5V5h12v4z"})}),gle=()=>{const[t,e]=P.useState("codewords"),[n,r]=P.useState([]),[i,o]=P.useState(""),[a,u]=P.useState("    ."),[f,c]=P.useState("  :"),[h,y]=P.useState([]),[v,E]=P.useState(""),[w,A]=P.useState(""),[C,R]=P.useState({type:"",text:""});P.useEffect(()=>{let D;if(t==="codewords"){const $=Sm(Za(ar,"codewords"),EE("createdAt","desc"));D=wE($,F=>{const z=F.docs.map(H=>({...H.data(),id:H.id}));r(z)},F=>{console.error("Error fetching codewords:",F),alert("    .")})}else if(t==="quests"){const $=Sm(Za(ar,"games"),EE("createdAt","desc"));D=wE($,F=>{const z=F.docs.map(H=>({...H.data(),id:H.id}));y(z)},F=>{console.error("Error fetching games:",F),alert("   .")})}return()=>D&&D()},[t]);const N=async D=>{if(D.preventDefault(),i.trim()!=="")try{await SE(Za(ar,"codewords"),{word:i.trim(),isUsed:!1,usedMessage:a.trim()||"    .",introText:f.trim()||"  :",note:"",createdAt:fd(),views:0}),o(""),c("  :"),u("    .")}catch($){console.error("Error adding codeword: ",$),alert("   .")}},M=async(D,$)=>{try{await Nw(Qs(ar,"codewords",D),$)}catch(F){console.error("Error updating codeword: ",F),alert("   .")}},U=async D=>{if(window.confirm(" ,     ?   ."))try{const $=Sm(Za(ar,"codewords",D,"viewEvents")),F=await DL($),z=f7(ar);F.docs.forEach(H=>z.delete(H.ref)),await z.commit(),await wI(Qs(ar,"codewords",D))}catch($){console.error("Error deleting codeword:",$),alert("   .")}},V=async D=>{if(D.preventDefault(),v.trim()!=="")try{const $=`quest_${Date.now()}`;await SE(Za(ar,"games"),{title:v.trim(),status:"draft",createdAt:fd(),updatedAt:fd(),dsl:{format:"bk-quest@1",meta:{id:$,title:v.trim(),version:1,defaultLocale:"ru"},assets:{images:{},audio:{}},state:{vars:{},inventory:[]},nodes:{start:{text:"This is the beginning."}}}}),E("")}catch($){console.error("Error adding quest: ",$),alert("   .")}},G=async D=>{if(window.confirm(" ,     ?      ."))try{await wI(Qs(ar,"games",D))}catch($){console.error("Error deleting quest:",$),alert("   .")}},O=async D=>{if(D.preventDefault(),R({type:"",text:""}),window.confirm(" ,    ?"))try{if(!hd.currentUser)throw new Error("  .");if(!w||w.length<6)throw new Error("     6 .");await q$(hd.currentUser,w),R({type:"success",text:"  !"}),A("")}catch($){R({type:"error",text:`: ${$.message}`})}},k=({tabName:D,label:$,children:F})=>q.jsxs("button",{onClick:()=>e(D),className:`flex items-center justify-center w-full px-4 py-3 font-display text-xl rounded-t-md transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-500
            ${t===D?"bg-stone-800/50 text-amber-400 border-b-2 border-amber-400":"bg-stone-900/50 text-stone-400 hover:bg-stone-800/50"}`,children:[F,$]});return q.jsxs("div",{className:"container mx-auto py-8 px-4",children:[q.jsxs("div",{className:"flex justify-between items-center mb-6",children:[q.jsx("h2",{className:"font-display text-4xl text-stone-200",children:" "}),q.jsx("button",{onClick:()=>G$(hd),className:"bg-stone-700 hover:bg-stone-600 text-stone-200 font-semibold py-2 px-4 rounded-md transition-colors",children:""})]}),q.jsxs("div",{className:"bg-stone-800/50 border border-stone-700 p-6 rounded-md mb-8",children:[q.jsx("h3",{className:"font-display text-2xl text-amber-400 mb-4",children:" "}),q.jsxs("form",{onSubmit:O,className:"space-y-4",children:[q.jsx("input",{type:"password",value:w,onChange:D=>A(D.target.value),placeholder:"  ( 6 )",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),q.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center font-display text-xl bg-amber-500 text-stone-900 py-2 rounded-md hover:bg-amber-400 transition-colors",children:[q.jsx(mle,{}),"  "]}),C.text&&q.jsx("p",{className:C.type==="success"?"text-green-400":"text-red-500",children:C.text})]})]}),q.jsxs("div",{className:"flex mb-[-1px]",children:[q.jsx(k,{tabName:"codewords",label:" ",children:q.jsx(hle,{})}),q.jsx(k,{tabName:"quests",label:"",children:q.jsx(ple,{})})]}),q.jsxs("div",{className:"bg-stone-800/50 border border-stone-700 p-6 rounded-b-md rounded-tr-md",children:[t==="codewords"&&q.jsxs(q.Fragment,{children:[q.jsxs("div",{className:"mb-8",children:[q.jsx("h3",{className:"font-display text-2xl text-amber-400 mb-4",children:"  "}),q.jsxs("form",{onSubmit:N,className:"space-y-4",children:[q.jsx("input",{type:"text",value:f,onChange:D=>c(D.target.value),placeholder:"  ()",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),q.jsx("input",{type:"text",value:i,onChange:D=>o(D.target.value),placeholder:"  ",required:!0,className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),q.jsx("input",{type:"text",value:a,onChange:D=>u(D.target.value),placeholder:"   ",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),q.jsx("button",{type:"submit",className:"w-full font-display text-xl bg-amber-500 text-stone-900 py-2 rounded-md hover:bg-amber-400 transition-colors",children:" QR-"})]})]}),q.jsx("div",{className:"space-y-4",children:n.map(D=>q.jsx(lle,{codeword:D,onUpdate:M,onDelete:U},D.id))})]}),t==="quests"&&q.jsxs(q.Fragment,{children:[q.jsxs("div",{className:"mb-8",children:[q.jsx("h3",{className:"font-display text-2xl text-amber-400 mb-4",children:"  "}),q.jsxs("form",{onSubmit:V,className:"flex gap-4",children:[q.jsx("input",{type:"text",value:v,onChange:D=>E(D.target.value),placeholder:" ",required:!0,className:"flex-grow bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),q.jsx("button",{type:"submit",className:"font-display text-xl bg-amber-500 text-stone-900 py-2 px-6 rounded-md hover:bg-amber-400 transition-colors",children:""})]})]}),q.jsx("div",{className:"space-y-4",children:h.length>0?h.map(D=>q.jsx(dle,{game:D,onDelete:G},D.id)):q.jsx("p",{className:"text-stone-400 text-center py-4",children:"   ."})})]})]})]})},yle=()=>q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),vle=()=>q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),_D=({codeId:t})=>{const[e,n]=P.useState(null),[r,i]=P.useState("loading"),[o,a]=P.useState(!1),u=ro();P.useEffect(()=>{const c=new URLSearchParams(u.search||u.hash.split("?")[1]),h=t||c.get("c");if(h){const y=Qs(ar,"codewords",h);(async()=>{try{const E=await NL(y);if(E.exists()){const w={id:E.id,...E.data()};n(w),i("found");const A=`viewed-${h}`;sessionStorage.getItem(A)||(await Nw(y,{views:c7(1)}),await SE(Za(y,"viewEvents"),{viewedAt:fd()}),sessionStorage.setItem(A,"true"))}else i("not-found")}catch(E){console.error("Failed to fetch codeword from Firestore:",E),i("error")}})()}else i("not-found")},[u,t]);const f=()=>{e&&!e.isUsed&&(navigator.clipboard.writeText(e.word),a(!0),setTimeout(()=>a(!1),2e3))};return r==="loading"?q.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:q.jsx("p",{className:"font-display text-2xl text-stone-400 animate-pulse",children:" ..."})}):r==="not-found"||r==="error"?q.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center p-4",children:[q.jsx("h2",{className:"font-display text-6xl text-red-500",children:"404"}),q.jsx("p",{className:"text-stone-300 text-xl mt-2",children:"  ."}),q.jsx("p",{className:"text-stone-500",children:",      ."})]}):e!=null&&e.isUsed?q.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center p-4",children:[q.jsx("h2",{className:"font-display text-5xl text-amber-500",children:" "}),q.jsx("p",{className:"text-stone-300 text-xl mt-4 max-w-lg",children:e.usedMessage})]}):q.jsx("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center p-4",children:q.jsxs("div",{className:"w-full max-w-2xl bg-stone-800/50 border-2 border-stone-700 p-8 rounded-lg shadow-2xl shadow-black/50",children:[q.jsx("p",{className:"text-stone-400 font-display text-2xl tracking-wide",children:(e==null?void 0:e.introText)||"  :"}),q.jsx("p",{className:"text-amber-400 font-bold text-3xl md:text-5xl my-4 break-words select-all tracking-widest",children:e==null?void 0:e.word}),q.jsxs("button",{onClick:f,className:"w-full flex items-center justify-center gap-3 mt-6 bg-stone-700 hover:bg-amber-500 hover:text-stone-900 text-stone-200 font-display text-2xl py-3 rounded-md transition-all duration-300",children:[o?q.jsx(vle,{}):q.jsx(yle,{}),o?"!":" "]})]})})},_le=()=>q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:q.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 110 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),TD=()=>{var M;const{questId:t}=QO(),[e,n]=P.useState(null),[r,i]=P.useState(null),[o,a]=P.useState("start"),[u,f]=P.useState(!0),[c,h]=P.useState(""),y=U=>U?typeof U=="string"?U:U[(e==null?void 0:e.dsl.meta.defaultLocale)||"ru"]||Object.values(U)[0]||"":"",v=P.useCallback((U,V)=>{if(U.all)return U.all.every(k=>v(k,V));if(U.any)return U.any.some(k=>v(k,V));if(U.not)return!v(U.not,V);const{vars:G,inventory:O}=V;return U.hp_eq!==void 0?G.hp===U.hp_eq:U.hp_gt!==void 0?G.hp>U.hp_gt:U.hp_gte!==void 0?G.hp>=U.hp_gte:U.hp_lt!==void 0?G.hp<U.hp_lt:U.hp_lte!==void 0?G.hp<=U.hp_lte:U.has_item?O.includes(U.has_item):U.missing_item?!O.includes(U.missing_item):U.var_eq?Object.entries(U.var_eq).every(([k,D])=>G[k]===D):U.var_neq?Object.entries(U.var_neq).every(([k,D])=>G[k]!==D):!0},[]),E=P.useCallback((U,V)=>{if(!U)return V;const G=JSON.parse(JSON.stringify(V));return U.forEach(O=>{O.add&&Object.entries(O.add).forEach(([k,D])=>{G.vars[k]=(G.vars[k]||0)+D}),O.set&&Object.entries(O.set).forEach(([k,D])=>{G.vars[k]=D}),O.inv_add&&!G.inventory.includes(O.inv_add)&&G.inventory.push(O.inv_add),O.inv_remove&&(G.inventory=G.inventory.filter(k=>k!==O.inv_remove))}),G},[]);P.useEffect(()=>{if(!t){h("  ."),f(!1);return}f(!0),h("");const U=Qs(ar,"games",t);NL(U).then(V=>{if(V.exists()){const G={id:V.id,...V.data()};n(G);const O=localStorage.getItem(`quest-save-${t}`);if(O){const{playerState:k,currentNodeId:D}=JSON.parse(O);i(k),a(D)}else i(G.dsl.state),a("start")}else h("  .");f(!1)}).catch(V=>{console.error("Error fetching quest:",V),h("   ."),f(!1)})},[t]),P.useEffect(()=>{if(e&&r){const U={questId:t,playerState:r,currentNodeId:o};localStorage.setItem(`quest-save-${t}`,JSON.stringify(U))}},[r,o,t,e]);const w=e==null?void 0:e.dsl.nodes[o];P.useEffect(()=>{if(!w||!r)return;const U=E(w.effects,r);if(JSON.stringify(U)!==JSON.stringify(r)){i(U);return}if(w.branch){for(const V of w.branch)if(v(V.when,r)){a(V.to);return}}w.fallback&&a(w.fallback)},[o,e,r,E,v]);const A=U=>{if(!r)return;const V=E(U.effects,r);i(V),a(U.to)},C=P.useCallback(()=>{!t||!e||window.confirm(" ,     ?    .")&&(localStorage.removeItem(`quest-save-${t}`),i(e.dsl.state),a("start"))},[t,e]);if(u)return q.jsx("div",{className:"text-center p-8 font-display text-4xl text-stone-400 animate-pulse",children:" ..."});if(c)return q.jsx("div",{className:"text-center p-8 text-2xl text-red-500",children:c});if(!e||!r||!w)return q.jsx("div",{className:"text-center p-8 text-2xl text-stone-400",children:"..."});const R=w.bg&&e.dsl.assets.images[w.bg]?e.dsl.assets.images[w.bg]:void 0,N=((M=w.choices)==null?void 0:M.filter(U=>U.when?v(U.when,r):!0))||[];return q.jsx("div",{className:"min-h-screen w-full flex items-center justify-center p-4 md:p-8",children:q.jsx("div",{className:"w-full max-w-4xl bg-cover bg-center rounded-lg shadow-2xl shadow-black/50 overflow-hidden border-2 border-stone-800",style:{backgroundImage:R?`url(${R})`:"none",backgroundColor:"#1c1917",minHeight:"70vh"},children:q.jsxs("div",{className:"bg-stone-900/80 backdrop-blur-sm p-6 md:p-8 flex flex-col h-full text-stone-200",children:[q.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6 border-b border-stone-700 pb-4 text-sm",children:[q.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1",children:[Object.keys(r.vars).length>0&&Object.keys(r.vars).map(U=>q.jsxs("span",{className:"font-bold text-amber-400",children:[U.toUpperCase(),": ",q.jsx("span",{className:"font-normal text-stone-200",children:r.vars[U]??0})]},U)),r.inventory.length>0&&q.jsxs("div",{className:"flex items-center gap-2",children:[q.jsx("span",{className:"font-bold text-amber-400",children:":"}),q.jsx("span",{className:"text-stone-200",children:r.inventory.join(", ")})]})]}),q.jsxs("button",{onClick:C,className:"flex items-center justify-center font-display text-lg bg-stone-700 text-stone-200 py-2 px-4 rounded-md hover:bg-stone-600 transition-colors flex-shrink-0",children:[q.jsx(_le,{}),""]})]}),q.jsxs("div",{className:"flex-grow",children:[q.jsx("h2",{className:"font-display text-3xl md:text-4xl text-amber-400 mb-4",children:y(w.title)}),q.jsx("p",{className:"text-stone-300 whitespace-pre-wrap leading-relaxed mb-6",children:y(w.text)}),w.end&&q.jsxs("div",{className:"text-center py-4 border-t border-stone-700 mt-6",children:[q.jsx("h3",{className:`font-display text-4xl ${w.end.type==="win"?"text-lime-400":"text-red-500"}`,children:w.end.type==="win"?"!":" "}),q.jsx("p",{className:"mt-4 text-stone-300",children:y(w.end.message)})]}),!w.end&&q.jsx("div",{className:"flex flex-col space-y-3",children:N.map((U,V)=>q.jsx("button",{onClick:()=>A(U),className:"text-left w-full p-4 bg-stone-800/70 border border-stone-600 rounded-md hover:bg-amber-500 hover:border-amber-400 hover:text-stone-900 transition-all text-stone-200 font-semibold",children:y(U.label)},V))})]})]})})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Tle,Ele;function Sle(){return{geminiUrl:Tle,vertexUrl:Ele}}function wle(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=Sle();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ol{}function we(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function m(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const u=a.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[u])){const f=t[u];if(Array.isArray(n))for(let c=0;c<f.length;c++){const h=f[c];m(h,e.slice(o+1),n[c])}else for(const c of f)m(c,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const u=a.slice(0,-3);u in t||(t[u]=[{}]);const f=t[u];m(f[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function p(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const o=t[i];return Array.isArray(o)?o.map(a=>p(a,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pS(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ED;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(ED||(ED={}));var SD;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(SD||(SD={}));var Ks;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ks||(Ks={}));var wD;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(wD||(wD={}));var AD;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(AD||(AD={}));var bD;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(bD||(bD={}));var CD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(CD||(CD={}));var xD;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(xD||(xD={}));var RD;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(RD||(RD={}));var ID;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ID||(ID={}));var PD;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(PD||(PD={}));var MD;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(MD||(MD={}));var ND;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ND||(ND={}));var DD;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(DD||(DD={}));var OD;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(OD||(OD={}));var Pg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Pg||(Pg={}));var kD;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(kD||(kD={}));var mS;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(mS||(mS={}));var LD;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(LD||(LD={}));var UD;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(UD||(UD={}));var VD;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(VD||(VD={}));var BD;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(BD||(BD={}));var qD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(qD||(qD={}));var FD;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(FD||(FD={}));var $D;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})($D||($D={}));var HD;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(HD||(HD={}));var zD;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(zD||(zD={}));var GD;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(GD||(GD={}));var KD;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(KD||(KD={}));var jD;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(jD||(jD={}));var YD;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(YD||(YD={}));var WD;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(WD||(WD={}));var JD;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(JD||(JD={}));var XD;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(XD||(XD={}));var QD;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(QD||(QD={}));var ZD;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(ZD||(ZD={}));var eO;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(eO||(eO={}));var tO;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(tO||(tO={}));var nO;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(nO||(nO={}));var rO;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(rO||(rO={}));var iO;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(iO||(iO={}));var oO;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(oO||(oO={}));var sO;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(sO||(sO={}));var aO;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(aO||(aO={}));var lO;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(lO||(lO={}));var ku;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ku||(ku={}));class gS{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Jf{get text(){var e,n,r,i,o,a,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",h=!1;const y=[];for(const v of(f=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[E,w]of Object.entries(v))E!=="text"&&E!=="thought"&&(w!==null||w!==void 0)&&y.push(E);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;h=!0,c+=v.text}}return y.length>0&&console.warn(`there are non-text parts ${y} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?c:void 0}get data(){var e,n,r,i,o,a,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const h=[];for(const y of(f=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[v,E]of Object.entries(y))v!=="inlineData"&&(E!==null||E!==void 0)&&h.push(v);y.inlineData&&typeof y.inlineData.data=="string"&&(c+=atob(y.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,i,o,a,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(f=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,i,o,a,u,f,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(f=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(y=>y.executableCode).map(y=>y.executableCode).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return(c=h==null?void 0:h[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,i,o,a,u,f,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(f=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(y=>y.codeExecutionResult).map(y=>y.codeExecutionResult).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return(c=h==null?void 0:h[0])===null||c===void 0?void 0:c.output}}class uO{}class cO{}class Ale{}class ble{}class Cle{}class xle{}class fO{}class dO{}class hO{}class Rle{}class pO{}class Mg{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new Mg;if(r.name=e.name,r.metadata=e.metadata,r.done=e.done,r.error=e.error,n){const i=e.response;if(i){const o=new pO,a=i.videos;o.generatedVideos=a==null?void 0:a.map(u=>({video:{uri:u.gcsUri,videoBytes:u.bytesBase64Encoded?pS(u.bytesBase64Encoded):void 0,mimeType:u.mimeType}})),o.raiMediaFilteredCount=i.raiMediaFilteredCount,o.raiMediaFilteredReasons=i.raiMediaFilteredReasons,r.response=o}}else{const i=e.response;if(i){const o=new pO,a=i.generateVideoResponse,u=a==null?void 0:a.generatedSamples;o.generatedVideos=u==null?void 0:u.map(f=>{const c=f.video;return{video:{uri:c==null?void 0:c.uri,videoBytes:c!=null&&c.encodedVideo?pS(c==null?void 0:c.encodedVideo):void 0,mimeType:f.encoding}}}),o.raiMediaFilteredCount=a==null?void 0:a.raiMediaFilteredCount,o.raiMediaFilteredReasons=a==null?void 0:a.raiMediaFilteredReasons,r.response=o}}return r}}class mO{}class gO{}class yO{}class Ile{}class Ple{}class Mle{}class vO{}class Nle{get text(){var e,n,r;let i="",o=!1;const a=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,c]of Object.entries(u))f!=="text"&&f!=="thought"&&c!==null&&a.push(f);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,f]of Object.entries(a))u!=="inlineData"&&f!==null&&o.push(u);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Dle{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ot(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function g3(t,e){const n=ot(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function y3(t){return Array.isArray(t)?t.map(e=>Ng(e)):[Ng(t)]}function Ng(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function v3(t){const e=Ng(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function _3(t){const e=Ng(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function _O(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function T3(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>_O(e)):[_O(t)]}function yS(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function TO(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function EO(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Kn(t){if(t==null)throw new Error("ContentUnion is required");return yS(t)?t:{role:"user",parts:T3(t)}}function E3(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Kn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Kn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Kn(n)):[Kn(e)]}function ni(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(TO(t)||EO(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Kn(t)]}const e=[],n=[],r=yS(t[0]);for(const i of t){const o=yS(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(TO(i)||EO(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:T3(n)}),e}function Ole(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Ks).includes(n[0].toUpperCase())?n[0].toUpperCase():Ks.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Ks).includes(r.toUpperCase())?r.toUpperCase():Ks.TYPE_UNSPECIFIED})}}function $u(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&Ole(t.type,e);for(const[a,u]of Object.entries(t))if(u!=null)if(a=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Ks).includes(u.toUpperCase())?u.toUpperCase():Ks.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=$u(u);else if(r.includes(a)){const f=[];for(const c of u){if(c.type=="null"){e.nullable=!0;continue}f.push($u(c))}e[a]=f}else if(i.includes(a)){const f={};for(const[c,h]of Object.entries(u))f[c]=$u(h);e[a]=f}else{if(a==="additionalProperties")continue;e[a]=u}return e}function gb(t){return $u(t)}function yb(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function vb(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Rc(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=$u(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=$u(e.response));return t}function Ic(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function kle(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function os(t,e){if(typeof e!="string")throw new Error("name must be a string");return kle(t,e,"cachedContents")}function S3(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function kl(t){return pS(t)}function Lle(t){return t!=null&&typeof t=="object"&&"name"in t}function Ule(t){return t!=null&&typeof t=="object"&&"video"in t}function Vle(t){return t!=null&&typeof t=="object"&&"uri"in t}function w3(t){var e;let n;if(Lle(t)&&(n=t.name),!(Vle(t)&&(n=t.uri,n===void 0))&&!(Ule(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function A3(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function b3(t){for(const e of["models","tunedModels","publisherModels"])if(Ble(t,e))return t[e];return[]}function Ble(t,e){return t!==null&&typeof t=="object"&&e in t}function qle(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Fle(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=qle(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function C3(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function $le(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Pc(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function x3(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hle(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function zle(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Gle(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Kle(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Hle(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],zle(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Gle(o));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function R3(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Kle(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function jle(t){const e={},n=p(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const r=p(t,["default"]);r!=null&&m(e,["default"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["enum"]);o!=null&&m(e,["enum"],o);const a=p(t,["example"]);a!=null&&m(e,["example"],a);const u=p(t,["format"]);u!=null&&m(e,["format"],u);const f=p(t,["items"]);f!=null&&m(e,["items"],f);const c=p(t,["maxItems"]);c!=null&&m(e,["maxItems"],c);const h=p(t,["maxLength"]);h!=null&&m(e,["maxLength"],h);const y=p(t,["maxProperties"]);y!=null&&m(e,["maxProperties"],y);const v=p(t,["maximum"]);v!=null&&m(e,["maximum"],v);const E=p(t,["minItems"]);E!=null&&m(e,["minItems"],E);const w=p(t,["minLength"]);w!=null&&m(e,["minLength"],w);const A=p(t,["minProperties"]);A!=null&&m(e,["minProperties"],A);const C=p(t,["minimum"]);C!=null&&m(e,["minimum"],C);const R=p(t,["nullable"]);R!=null&&m(e,["nullable"],R);const N=p(t,["pattern"]);N!=null&&m(e,["pattern"],N);const M=p(t,["properties"]);M!=null&&m(e,["properties"],M);const U=p(t,["propertyOrdering"]);U!=null&&m(e,["propertyOrdering"],U);const V=p(t,["required"]);V!=null&&m(e,["required"],V);const G=p(t,["title"]);G!=null&&m(e,["title"],G);const O=p(t,["type"]);return O!=null&&m(e,["type"],O),e}function Yle(t){const e={};if(p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["category"]);n!=null&&m(e,["category"],n);const r=p(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function Wle(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const o=p(t,["parameters"]);o!=null&&m(e,["parameters"],o);const a=p(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const f=p(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function Jle(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function Xle(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],Jle(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Qle(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function Zle(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],Qle(n)),e}function eue(){return{}}function tue(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function nue(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>Wle(c))),m(e,["functionDeclarations"],f)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],Xle(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],Zle(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],eue());const a=p(t,["computerUse"]);a!=null&&m(e,["computerUse"],tue(a));const u=p(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function rue(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function iue(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function oue(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],iue(n));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function sue(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],rue(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],oue(r)),e}function aue(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function I3(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],aue(n)),e}function lue(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],I3(r)),e}function uue(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>lue(i))),m(e,["speakerVoiceConfigs"],r)}return e}function cue(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],I3(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],uue(r));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function fue(t){const e={},n=p(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=p(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function due(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],R3(Kn(i)));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&m(r,["topP"],a);const u=p(e,["topK"]);u!=null&&m(r,["topK"],u);const f=p(e,["candidateCount"]);f!=null&&m(r,["candidateCount"],f);const c=p(e,["maxOutputTokens"]);c!=null&&m(r,["maxOutputTokens"],c);const h=p(e,["stopSequences"]);h!=null&&m(r,["stopSequences"],h);const y=p(e,["responseLogprobs"]);y!=null&&m(r,["responseLogprobs"],y);const v=p(e,["logprobs"]);v!=null&&m(r,["logprobs"],v);const E=p(e,["presencePenalty"]);E!=null&&m(r,["presencePenalty"],E);const w=p(e,["frequencyPenalty"]);w!=null&&m(r,["frequencyPenalty"],w);const A=p(e,["seed"]);A!=null&&m(r,["seed"],A);const C=p(e,["responseMimeType"]);C!=null&&m(r,["responseMimeType"],C);const R=p(e,["responseSchema"]);R!=null&&m(r,["responseSchema"],jle(gb(R)));const N=p(e,["responseJsonSchema"]);if(N!=null&&m(r,["responseJsonSchema"],N),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=p(e,["safetySettings"]);if(n!==void 0&&M!=null){let F=M;Array.isArray(F)&&(F=F.map(z=>Yle(z))),m(n,["safetySettings"],F)}const U=p(e,["tools"]);if(n!==void 0&&U!=null){let F=Ic(U);Array.isArray(F)&&(F=F.map(z=>nue(Rc(z)))),m(n,["tools"],F)}const V=p(e,["toolConfig"]);if(n!==void 0&&V!=null&&m(n,["toolConfig"],sue(V)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=p(e,["cachedContent"]);n!==void 0&&G!=null&&m(n,["cachedContent"],os(t,G));const O=p(e,["responseModalities"]);O!=null&&m(r,["responseModalities"],O);const k=p(e,["mediaResolution"]);k!=null&&m(r,["mediaResolution"],k);const D=p(e,["speechConfig"]);if(D!=null&&m(r,["speechConfig"],cue(yb(D))),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=p(e,["thinkingConfig"]);return $!=null&&m(r,["thinkingConfig"],fue($)),r}function hue(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["request","model"],ot(t,r));const i=p(e,["contents"]);if(i!=null){let a=ni(i);Array.isArray(a)&&(a=a.map(u=>R3(u))),m(n,["request","contents"],a)}const o=p(e,["config"]);return o!=null&&m(n,["request","generationConfig"],due(t,o,n)),n}function pue(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&m(n,["fileName"],r);const i=p(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>hue(t,a))),m(n,["requests","requests"],o)}return n}function mue(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&m(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function SO(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["src"]);i!=null&&m(n,["batch","inputConfig"],pue(t,C3(t,i)));const o=p(e,["config"]);return o!=null&&m(n,["config"],mue(o,n)),n}function gue(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Pc(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function yue(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Pc(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function vue(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function _ue(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],vue(n,e)),e}function Tue(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Pc(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function Eue(t){const e={},n=p(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&m(e,["gcsSource","uris"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Sue(t){const e={},n=p(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&m(e,["gcsDestination","outputUriPrefix"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function wue(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["dest"]);return e!==void 0&&i!=null&&m(e,["outputConfig"],Sue($le(i))),n}function Aue(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],ot(t,r));const i=p(e,["src"]);i!=null&&m(n,["inputConfig"],Eue(C3(t,i)));const o=p(e,["config"]);return o!=null&&m(n,["config"],wue(o,n)),n}function bue(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Pc(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function Cue(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Pc(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function xue(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function Rue(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],xue(n,e)),e}function Iue(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Pc(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function Pue(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Mue(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Nue(t){const e={},n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Due(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Pue(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],Mue(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Nue(o));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function Oue(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Due(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function kue(t){const e={},n=p(t,["citationSources"]);return n!=null&&m(e,["citations"],n),e}function Lue(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function Uue(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Lue(i))),m(e,["urlMetadata"],r)}return e}function Vue(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],Oue(n));const r=p(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],kue(r));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const a=p(t,["urlContextMetadata"]);a!=null&&m(e,["urlContextMetadata"],Uue(a));const u=p(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const f=p(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const c=p(t,["index"]);c!=null&&m(e,["index"],c);const h=p(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const y=p(t,["safetyRatings"]);return y!=null&&m(e,["safetyRatings"],y),e}function Bue(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(c=>Vue(c))),m(e,["candidates"],f)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const a=p(t,["responseId"]);a!=null&&m(e,["responseId"],a);const u=p(t,["usageMetadata"]);return u!=null&&m(e,["usageMetadata"],u),e}function P3(t){const e={},n=p(t,["details"]);n!=null&&m(e,["details"],n);const r=p(t,["code"]);r!=null&&m(e,["code"],r);const i=p(t,["message"]);return i!=null&&m(e,["message"],i),e}function que(t){const e={},n=p(t,["response"]);n!=null&&m(e,["response"],Bue(n));const r=p(t,["error"]);return r!=null&&m(e,["error"],P3(r)),e}function Fue(t){const e={},n=p(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>que(o))),m(e,["inlinedResponses"],i)}return e}function bm(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["metadata","state"]);i!=null&&m(e,["state"],x3(i));const o=p(t,["metadata","createTime"]);o!=null&&m(e,["createTime"],o);const a=p(t,["metadata","endTime"]);a!=null&&m(e,["endTime"],a);const u=p(t,["metadata","updateTime"]);u!=null&&m(e,["updateTime"],u);const f=p(t,["metadata","model"]);f!=null&&m(e,["model"],f);const c=p(t,["metadata","output"]);return c!=null&&m(e,["dest"],Fue(c)),e}function $ue(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>bm(a))),m(e,["batchJobs"],o)}return e}function Hue(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);return o!=null&&m(e,["error"],P3(o)),e}function M3(t){const e={},n=p(t,["details"]);n!=null&&m(e,["details"],n);const r=p(t,["code"]);r!=null&&m(e,["code"],r);const i=p(t,["message"]);return i!=null&&m(e,["message"],i),e}function zue(t){const e={},n=p(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&m(e,["gcsUri"],r);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function Gue(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&m(e,["gcsUri"],r);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function vS(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["state"]);i!=null&&m(e,["state"],x3(i));const o=p(t,["error"]);o!=null&&m(e,["error"],M3(o));const a=p(t,["createTime"]);a!=null&&m(e,["createTime"],a);const u=p(t,["startTime"]);u!=null&&m(e,["startTime"],u);const f=p(t,["endTime"]);f!=null&&m(e,["endTime"],f);const c=p(t,["updateTime"]);c!=null&&m(e,["updateTime"],c);const h=p(t,["model"]);h!=null&&m(e,["model"],h);const y=p(t,["inputConfig"]);y!=null&&m(e,["src"],zue(y));const v=p(t,["outputConfig"]);return v!=null&&m(e,["dest"],Gue(v)),e}function Kue(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>vS(a))),m(e,["batchJobs"],o)}return e}function jue(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);return o!=null&&m(e,["error"],M3(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wl;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(wl||(wl={}));class mh{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yue extends Ol{constructor(e){super(),this.apiClient=e,this.create=async n=>{var r,i;if(this.apiClient.isVertexAI()){const a=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${a}`;else throw new Error("Unsupported source:"+n.src)}else if(Array.isArray(n.src)||typeof n.src!="string"&&n.src.inlinedRequests){let o="",a={};const u=SO(this.apiClient,n);o=we("{model}:batchGenerateContent",u._url),a=u._query;const h=u.batch.inputConfig.requests,y=h.requests,v=[];for(const w of y){const A=w;if(A.systemInstruction){const C=A.systemInstruction;delete A.systemInstruction;const R=A.request;R.systemInstruction=C,A.request=R}v.push(A)}return h.requests=v,delete u.config,delete u._url,delete u._query,this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(w=>w.json()).then(w=>bm(w))}return await this.createInternal(n)},this.list=async(n={})=>new mh(wl.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}async createInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=Aue(this.apiClient,e);return u=we("batchPredictionJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>vS(h))}else{const c=SO(this.apiClient,e);return u=we("{model}:batchGenerateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>bm(h))}}async get(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=bue(this.apiClient,e);return u=we("batchPredictionJobs/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>vS(h))}else{const c=gue(this.apiClient,e);return u=we("batches/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>bm(h))}}async cancel(e){var n,r,i,o;let a="",u={};if(this.apiClient.isVertexAI()){const f=Cue(this.apiClient,e);a=we("batchPredictionJobs/{name}:cancel",f._url),u=f._query,delete f.config,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=yue(this.apiClient,e);a=we("batches/{name}:cancel",f._url),u=f._query,delete f.config,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=Rue(e);return u=we("batchPredictionJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),a.then(h=>{const y=Kue(h),v=new vO;return Object.assign(v,y),v})}else{const c=_ue(e);return u=we("batches",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),a.then(h=>{const y=$ue(h),v=new vO;return Object.assign(v,y),v})}}async delete(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=Iue(this.apiClient,e);return u=we("batchPredictionJobs/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),a.then(h=>jue(h))}else{const c=Tue(this.apiClient,e);return u=we("batches/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),a.then(h=>Hue(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wue(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Jue(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Xue(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Que(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Wue(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],Jue(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Xue(o));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function wO(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Que(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Zue(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const o=p(t,["parameters"]);o!=null&&m(e,["parameters"],o);const a=p(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const f=p(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function ece(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function tce(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],ece(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function nce(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function rce(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],nce(n)),e}function ice(){return{}}function oce(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function sce(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>Zue(c))),m(e,["functionDeclarations"],f)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],tce(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],rce(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],ice());const a=p(t,["computerUse"]);a!=null&&m(e,["computerUse"],oce(a));const u=p(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function ace(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function lce(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function uce(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],lce(n));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function cce(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],ace(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],uce(r)),e}function fce(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=p(t,["contents"]);if(e!==void 0&&a!=null){let h=ni(a);Array.isArray(h)&&(h=h.map(y=>wO(y))),m(e,["contents"],h)}const u=p(t,["systemInstruction"]);e!==void 0&&u!=null&&m(e,["systemInstruction"],wO(Kn(u)));const f=p(t,["tools"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>sce(y))),m(e,["tools"],h)}const c=p(t,["toolConfig"]);if(e!==void 0&&c!=null&&m(e,["toolConfig"],cce(c)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function dce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],g3(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],fce(i,n)),n}function hce(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],os(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function pce(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],os(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function mce(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function gce(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],os(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],mce(i,n)),n}function yce(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function vce(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],yce(n,e)),e}function _ce(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Tce(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["data"]);r!=null&&m(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Ece(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Sce(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],_ce(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],Tce(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Ece(o));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function AO(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Sce(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function wce(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const u=p(t,["responseJsonSchema"]);return u!=null&&m(e,["responseJsonSchema"],u),e}function Ace(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function bce(t){const e={},n=p(t,["timeRangeFilter"]);n!=null&&m(e,["timeRangeFilter"],Ace(n));const r=p(t,["excludeDomains"]);return r!=null&&m(e,["excludeDomains"],r),e}function Cce(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function xce(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],Cce(n)),e}function Rce(t){const e={},n=p(t,["excludeDomains"]);return n!=null&&m(e,["excludeDomains"],n),e}function Ice(t){const e={},n=p(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function Pce(t){const e={},n=p(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],Ice(n));const r=p(t,["authType"]);r!=null&&m(e,["authType"],r);const i=p(t,["googleServiceAccountConfig"]);i!=null&&m(e,["googleServiceAccountConfig"],i);const o=p(t,["httpBasicAuthConfig"]);o!=null&&m(e,["httpBasicAuthConfig"],o);const a=p(t,["oauthConfig"]);a!=null&&m(e,["oauthConfig"],a);const u=p(t,["oidcConfig"]);return u!=null&&m(e,["oidcConfig"],u),e}function Mce(t){const e={},n=p(t,["authConfig"]);return n!=null&&m(e,["authConfig"],Pce(n)),e}function Nce(){return{}}function Dce(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function Oce(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(v=>wce(v))),m(e,["functionDeclarations"],y)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],bce(i));const o=p(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],xce(o));const a=p(t,["enterpriseWebSearch"]);a!=null&&m(e,["enterpriseWebSearch"],Rce(a));const u=p(t,["googleMaps"]);u!=null&&m(e,["googleMaps"],Mce(u)),p(t,["urlContext"])!=null&&m(e,["urlContext"],Nce());const c=p(t,["computerUse"]);c!=null&&m(e,["computerUse"],Dce(c));const h=p(t,["codeExecution"]);return h!=null&&m(e,["codeExecution"],h),e}function kce(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function Lce(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function Uce(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],Lce(n));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function Vce(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],kce(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],Uce(r)),e}function Bce(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=p(t,["contents"]);if(e!==void 0&&a!=null){let y=ni(a);Array.isArray(y)&&(y=y.map(v=>AO(v))),m(e,["contents"],y)}const u=p(t,["systemInstruction"]);e!==void 0&&u!=null&&m(e,["systemInstruction"],AO(Kn(u)));const f=p(t,["tools"]);if(e!==void 0&&f!=null){let y=f;Array.isArray(y)&&(y=y.map(v=>Oce(v))),m(e,["tools"],y)}const c=p(t,["toolConfig"]);e!==void 0&&c!=null&&m(e,["toolConfig"],Vce(c));const h=p(t,["kmsKeyName"]);return e!==void 0&&h!=null&&m(e,["encryption_spec","kmsKeyName"],h),n}function qce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],g3(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Bce(i,n)),n}function Fce(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],os(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function $ce(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],os(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function Hce(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function zce(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],os(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Hce(i,n)),n}function Gce(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Kce(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],Gce(n,e)),e}function Cm(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["model"]);i!=null&&m(e,["model"],i);const o=p(t,["createTime"]);o!=null&&m(e,["createTime"],o);const a=p(t,["updateTime"]);a!=null&&m(e,["updateTime"],a);const u=p(t,["expireTime"]);u!=null&&m(e,["expireTime"],u);const f=p(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function jce(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Yce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Cm(a))),m(e,["cachedContents"],o)}return e}function xm(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["model"]);i!=null&&m(e,["model"],i);const o=p(t,["createTime"]);o!=null&&m(e,["createTime"],o);const a=p(t,["updateTime"]);a!=null&&m(e,["updateTime"],a);const u=p(t,["expireTime"]);u!=null&&m(e,["expireTime"],u);const f=p(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function Wce(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Jce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>xm(a))),m(e,["cachedContents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xce extends Ol{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new mh(wl.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=qce(this.apiClient,e);return u=we("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>xm(h))}else{const c=dce(this.apiClient,e);return u=we("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>Cm(h))}}async get(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=Fce(this.apiClient,e);return u=we("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>xm(h))}else{const c=hce(this.apiClient,e);return u=we("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>Cm(h))}}async delete(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=$ce(this.apiClient,e);return u=we("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),a.then(h=>{const y=Wce(h),v=new gO;return Object.assign(v,y),v})}else{const c=pce(this.apiClient,e);return u=we("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),a.then(h=>{const y=jce(h),v=new gO;return Object.assign(v,y),v})}}async update(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=zce(this.apiClient,e);return u=we("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>xm(h))}else{const c=gce(this.apiClient,e);return u=we("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>Cm(h))}}async listInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=Kce(e);return u=we("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),a.then(h=>{const y=Jce(h),v=new yO;return Object.assign(v,y),v})}else{const c=vce(e);return u=we("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),a.then(h=>{const y=Yce(h),v=new yO;return Object.assign(v,y),v})}}}function bO(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ct(t){return this instanceof Ct?(this.v=t,this):new Ct(t)}function Hu(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(E){return function(w){return Promise.resolve(w).then(E,y)}}function u(E,w){r[E]&&(i[E]=function(A){return new Promise(function(C,R){o.push([E,A,C,R])>1||f(E,A)})},w&&(i[E]=w(i[E])))}function f(E,w){try{c(r[E](w))}catch(A){v(o[0][3],A)}}function c(E){E.value instanceof Ct?Promise.resolve(E.value.v).then(h,y):v(o[0][2],E)}function h(E){f("next",E)}function y(E){f("throw",E)}function v(E,w){E(w),o.shift(),o.length&&f(o[0][0],o[0][1])}}function md(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof bO=="function"?bO(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(u,f){a=t[o](a),i(u,f,a.done,a.value)})}}function i(o,a,u,f){Promise.resolve(f).then(function(c){o({value:c,done:u})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qce(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:N3(n)}function N3(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Zce(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function CO(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!N3(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class efe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new tfe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class tfe{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),Zce(o)}async sendMessage(e){var n;await this.sendPromise;const r=Kn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,u;const f=await i,c=(a=(o=f.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,h=f.automaticFunctionCallingHistory,y=this.getHistory(!0).length;let v=[];h!=null&&(v=(u=h.slice(y))!==null&&u!==void 0?u:[]);const E=c?[c]:[];this.recordHistory(r,E,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Kn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?CO(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Hu(this,arguments,function*(){var a,u,f,c;const h=[];try{for(var y=!0,v=md(e),E;E=yield Ct(v.next()),a=E.done,!a;y=!0){c=E.value,y=!1;const w=c;if(Qce(w)){const A=(i=(r=w.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;A!==void 0&&h.push(A)}yield yield Ct(w)}}catch(w){u={error:w}}finally{try{!y&&!a&&(f=v.return)&&(yield Ct(f.call(v)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...CO(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ky extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ky.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nfe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function rfe(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],nfe(n,e)),e}function ife(t){const e={},n=p(t,["details"]);n!=null&&m(e,["details"],n);const r=p(t,["message"]);r!=null&&m(e,["message"],r);const i=p(t,["code"]);return i!=null&&m(e,["code"],i),e}function ofe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["mimeType"]);i!=null&&m(e,["mimeType"],i);const o=p(t,["sizeBytes"]);o!=null&&m(e,["sizeBytes"],o);const a=p(t,["createTime"]);a!=null&&m(e,["createTime"],a);const u=p(t,["expirationTime"]);u!=null&&m(e,["expirationTime"],u);const f=p(t,["updateTime"]);f!=null&&m(e,["updateTime"],f);const c=p(t,["sha256Hash"]);c!=null&&m(e,["sha256Hash"],c);const h=p(t,["uri"]);h!=null&&m(e,["uri"],h);const y=p(t,["downloadUri"]);y!=null&&m(e,["downloadUri"],y);const v=p(t,["state"]);v!=null&&m(e,["state"],v);const E=p(t,["source"]);E!=null&&m(e,["source"],E);const w=p(t,["videoMetadata"]);w!=null&&m(e,["videoMetadata"],w);const A=p(t,["error"]);return A!=null&&m(e,["error"],ife(A)),e}function sfe(t){const e={},n=p(t,["file"]);n!=null&&m(e,["file"],ofe(n));const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function afe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","file"],w3(n));const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function lfe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","file"],w3(n));const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function ufe(t){const e={},n=p(t,["details"]);n!=null&&m(e,["details"],n);const r=p(t,["message"]);r!=null&&m(e,["message"],r);const i=p(t,["code"]);return i!=null&&m(e,["code"],i),e}function _S(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["mimeType"]);i!=null&&m(e,["mimeType"],i);const o=p(t,["sizeBytes"]);o!=null&&m(e,["sizeBytes"],o);const a=p(t,["createTime"]);a!=null&&m(e,["createTime"],a);const u=p(t,["expirationTime"]);u!=null&&m(e,["expirationTime"],u);const f=p(t,["updateTime"]);f!=null&&m(e,["updateTime"],f);const c=p(t,["sha256Hash"]);c!=null&&m(e,["sha256Hash"],c);const h=p(t,["uri"]);h!=null&&m(e,["uri"],h);const y=p(t,["downloadUri"]);y!=null&&m(e,["downloadUri"],y);const v=p(t,["state"]);v!=null&&m(e,["state"],v);const E=p(t,["source"]);E!=null&&m(e,["source"],E);const w=p(t,["videoMetadata"]);w!=null&&m(e,["videoMetadata"],w);const A=p(t,["error"]);return A!=null&&m(e,["error"],ufe(A)),e}function cfe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>_S(a))),m(e,["files"],o)}return e}function ffe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function dfe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hfe extends Ol{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new mh(wl.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>_S(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=rfe(e);return o=we("files",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const c=cfe(f),h=new Ile;return Object.assign(h,c),h})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=sfe(e);return o=we("upload/v1beta/files",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const c=ffe(f),h=new Ple;return Object.assign(h,c),h})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=afe(e);return o=we("files/{file}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>_S(f))}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=lfe(e);return o=we("files/{file}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const c=dfe(f),h=new Mle;return Object.assign(h,c),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pfe(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function D3(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],pfe(n)),e}function mfe(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],D3(r)),e}function gfe(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>mfe(i))),m(e,["speakerVoiceConfigs"],r)}return e}function yfe(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],D3(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],gfe(r));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function vfe(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function _fe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Tfe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Efe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],vfe(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],_fe(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Tfe(o));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function Sfe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Efe(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function wfe(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const o=p(t,["parameters"]);o!=null&&m(e,["parameters"],o);const a=p(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const f=p(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function Afe(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function bfe(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],Afe(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Cfe(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function xfe(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],Cfe(n)),e}function Rfe(){return{}}function Ife(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function Pfe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>wfe(c))),m(e,["functionDeclarations"],f)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],bfe(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],xfe(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],Rfe());const a=p(t,["computerUse"]);a!=null&&m(e,["computerUse"],Ife(a));const u=p(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function Mfe(t){const e={},n=p(t,["handle"]);if(n!=null&&m(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function xO(){return{}}function Nfe(t){const e={},n=p(t,["disabled"]);n!=null&&m(e,["disabled"],n);const r=p(t,["startOfSpeechSensitivity"]);r!=null&&m(e,["startOfSpeechSensitivity"],r);const i=p(t,["endOfSpeechSensitivity"]);i!=null&&m(e,["endOfSpeechSensitivity"],i);const o=p(t,["prefixPaddingMs"]);o!=null&&m(e,["prefixPaddingMs"],o);const a=p(t,["silenceDurationMs"]);return a!=null&&m(e,["silenceDurationMs"],a),e}function Dfe(t){const e={},n=p(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],Nfe(n));const r=p(t,["activityHandling"]);r!=null&&m(e,["activityHandling"],r);const i=p(t,["turnCoverage"]);return i!=null&&m(e,["turnCoverage"],i),e}function Ofe(t){const e={},n=p(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function kfe(t){const e={},n=p(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const r=p(t,["slidingWindow"]);return r!=null&&m(e,["slidingWindow"],Ofe(r)),e}function Lfe(t){const e={},n=p(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function Ufe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const u=p(t,["topK"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topK"],u);const f=p(t,["maxOutputTokens"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","maxOutputTokens"],f);const c=p(t,["mediaResolution"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","mediaResolution"],c);const h=p(t,["seed"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","seed"],h);const y=p(t,["speechConfig"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","speechConfig"],yfe(vb(y)));const v=p(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],v);const E=p(t,["systemInstruction"]);e!==void 0&&E!=null&&m(e,["setup","systemInstruction"],Sfe(Kn(E)));const w=p(t,["tools"]);if(e!==void 0&&w!=null){let V=Ic(w);Array.isArray(V)&&(V=V.map(G=>Pfe(Rc(G)))),m(e,["setup","tools"],V)}const A=p(t,["sessionResumption"]);e!==void 0&&A!=null&&m(e,["setup","sessionResumption"],Mfe(A));const C=p(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&m(e,["setup","inputAudioTranscription"],xO());const R=p(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&m(e,["setup","outputAudioTranscription"],xO());const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&m(e,["setup","realtimeInputConfig"],Dfe(N));const M=p(t,["contextWindowCompression"]);e!==void 0&&M!=null&&m(e,["setup","contextWindowCompression"],kfe(M));const U=p(t,["proactivity"]);return e!==void 0&&U!=null&&m(e,["setup","proactivity"],Lfe(U)),n}function Vfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],ot(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Ufe(i,n)),n}function Bfe(){return{}}function qfe(){return{}}function Ffe(t){const e={},n=p(t,["media"]);n!=null&&m(e,["mediaChunks"],y3(n));const r=p(t,["audio"]);r!=null&&m(e,["audio"],_3(r));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&m(e,["video"],v3(o));const a=p(t,["text"]);return a!=null&&m(e,["text"],a),p(t,["activityStart"])!=null&&m(e,["activityStart"],Bfe()),p(t,["activityEnd"])!=null&&m(e,["activityEnd"],qfe()),e}function O3(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const r=p(t,["weight"]);return r!=null&&m(e,["weight"],r),e}function $fe(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>O3(i))),m(e,["weightedPrompts"],r)}return e}function k3(t){const e={},n=p(t,["temperature"]);n!=null&&m(e,["temperature"],n);const r=p(t,["topK"]);r!=null&&m(e,["topK"],r);const i=p(t,["seed"]);i!=null&&m(e,["seed"],i);const o=p(t,["guidance"]);o!=null&&m(e,["guidance"],o);const a=p(t,["bpm"]);a!=null&&m(e,["bpm"],a);const u=p(t,["density"]);u!=null&&m(e,["density"],u);const f=p(t,["brightness"]);f!=null&&m(e,["brightness"],f);const c=p(t,["scale"]);c!=null&&m(e,["scale"],c);const h=p(t,["muteBass"]);h!=null&&m(e,["muteBass"],h);const y=p(t,["muteDrums"]);y!=null&&m(e,["muteDrums"],y);const v=p(t,["onlyBassAndDrums"]);v!=null&&m(e,["onlyBassAndDrums"],v);const E=p(t,["musicGenerationMode"]);return E!=null&&m(e,["musicGenerationMode"],E),e}function Hfe(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],k3(n)),e}function L3(t){const e={},n=p(t,["model"]);return n!=null&&m(e,["model"],n),e}function U3(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>O3(i))),m(e,["weightedPrompts"],r)}return e}function TS(t){const e={},n=p(t,["setup"]);n!=null&&m(e,["setup"],L3(n));const r=p(t,["clientContent"]);r!=null&&m(e,["clientContent"],U3(r));const i=p(t,["musicGenerationConfig"]);i!=null&&m(e,["musicGenerationConfig"],k3(i));const o=p(t,["playbackControl"]);return o!=null&&m(e,["playbackControl"],o),e}function zfe(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function Gfe(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],zfe(n)),e}function Kfe(t){const e={},n=p(t,["voiceConfig"]);if(n!=null&&m(e,["voiceConfig"],Gfe(n)),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function jfe(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Yfe(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["data"]);r!=null&&m(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Wfe(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Jfe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],jfe(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],Yfe(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Wfe(o));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function Xfe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Jfe(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Qfe(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const u=p(t,["responseJsonSchema"]);return u!=null&&m(e,["responseJsonSchema"],u),e}function Zfe(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function ede(t){const e={},n=p(t,["timeRangeFilter"]);n!=null&&m(e,["timeRangeFilter"],Zfe(n));const r=p(t,["excludeDomains"]);return r!=null&&m(e,["excludeDomains"],r),e}function tde(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function nde(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],tde(n)),e}function rde(t){const e={},n=p(t,["excludeDomains"]);return n!=null&&m(e,["excludeDomains"],n),e}function ide(t){const e={},n=p(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function ode(t){const e={},n=p(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],ide(n));const r=p(t,["authType"]);r!=null&&m(e,["authType"],r);const i=p(t,["googleServiceAccountConfig"]);i!=null&&m(e,["googleServiceAccountConfig"],i);const o=p(t,["httpBasicAuthConfig"]);o!=null&&m(e,["httpBasicAuthConfig"],o);const a=p(t,["oauthConfig"]);a!=null&&m(e,["oauthConfig"],a);const u=p(t,["oidcConfig"]);return u!=null&&m(e,["oidcConfig"],u),e}function sde(t){const e={},n=p(t,["authConfig"]);return n!=null&&m(e,["authConfig"],ode(n)),e}function ade(){return{}}function lde(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function ude(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(v=>Qfe(v))),m(e,["functionDeclarations"],y)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],ede(i));const o=p(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],nde(o));const a=p(t,["enterpriseWebSearch"]);a!=null&&m(e,["enterpriseWebSearch"],rde(a));const u=p(t,["googleMaps"]);u!=null&&m(e,["googleMaps"],sde(u)),p(t,["urlContext"])!=null&&m(e,["urlContext"],ade());const c=p(t,["computerUse"]);c!=null&&m(e,["computerUse"],lde(c));const h=p(t,["codeExecution"]);return h!=null&&m(e,["codeExecution"],h),e}function cde(t){const e={},n=p(t,["handle"]);n!=null&&m(e,["handle"],n);const r=p(t,["transparent"]);return r!=null&&m(e,["transparent"],r),e}function RO(){return{}}function fde(t){const e={},n=p(t,["disabled"]);n!=null&&m(e,["disabled"],n);const r=p(t,["startOfSpeechSensitivity"]);r!=null&&m(e,["startOfSpeechSensitivity"],r);const i=p(t,["endOfSpeechSensitivity"]);i!=null&&m(e,["endOfSpeechSensitivity"],i);const o=p(t,["prefixPaddingMs"]);o!=null&&m(e,["prefixPaddingMs"],o);const a=p(t,["silenceDurationMs"]);return a!=null&&m(e,["silenceDurationMs"],a),e}function dde(t){const e={},n=p(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],fde(n));const r=p(t,["activityHandling"]);r!=null&&m(e,["activityHandling"],r);const i=p(t,["turnCoverage"]);return i!=null&&m(e,["turnCoverage"],i),e}function hde(t){const e={},n=p(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function pde(t){const e={},n=p(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const r=p(t,["slidingWindow"]);return r!=null&&m(e,["slidingWindow"],hde(r)),e}function mde(t){const e={},n=p(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function gde(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const u=p(t,["topK"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topK"],u);const f=p(t,["maxOutputTokens"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","maxOutputTokens"],f);const c=p(t,["mediaResolution"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","mediaResolution"],c);const h=p(t,["seed"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","seed"],h);const y=p(t,["speechConfig"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","speechConfig"],Kfe(vb(y)));const v=p(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],v);const E=p(t,["systemInstruction"]);e!==void 0&&E!=null&&m(e,["setup","systemInstruction"],Xfe(Kn(E)));const w=p(t,["tools"]);if(e!==void 0&&w!=null){let V=Ic(w);Array.isArray(V)&&(V=V.map(G=>ude(Rc(G)))),m(e,["setup","tools"],V)}const A=p(t,["sessionResumption"]);e!==void 0&&A!=null&&m(e,["setup","sessionResumption"],cde(A));const C=p(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&m(e,["setup","inputAudioTranscription"],RO());const R=p(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&m(e,["setup","outputAudioTranscription"],RO());const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&m(e,["setup","realtimeInputConfig"],dde(N));const M=p(t,["contextWindowCompression"]);e!==void 0&&M!=null&&m(e,["setup","contextWindowCompression"],pde(M));const U=p(t,["proactivity"]);return e!==void 0&&U!=null&&m(e,["setup","proactivity"],mde(U)),n}function yde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],ot(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],gde(i,n)),n}function vde(){return{}}function _de(){return{}}function Tde(t){const e={},n=p(t,["media"]);n!=null&&m(e,["mediaChunks"],y3(n));const r=p(t,["audio"]);r!=null&&m(e,["audio"],_3(r));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&m(e,["video"],v3(o));const a=p(t,["text"]);return a!=null&&m(e,["text"],a),p(t,["activityStart"])!=null&&m(e,["activityStart"],vde()),p(t,["activityEnd"])!=null&&m(e,["activityEnd"],_de()),e}function Ede(){return{}}function Sde(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function wde(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Ade(t){const e={},n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function bde(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Sde(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],wde(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Ade(o));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function Cde(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>bde(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function IO(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const r=p(t,["finished"]);return r!=null&&m(e,["finished"],r),e}function xde(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function Rde(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>xde(i))),m(e,["urlMetadata"],r)}return e}function Ide(t){const e={},n=p(t,["modelTurn"]);n!=null&&m(e,["modelTurn"],Cde(n));const r=p(t,["turnComplete"]);r!=null&&m(e,["turnComplete"],r);const i=p(t,["interrupted"]);i!=null&&m(e,["interrupted"],i);const o=p(t,["groundingMetadata"]);o!=null&&m(e,["groundingMetadata"],o);const a=p(t,["generationComplete"]);a!=null&&m(e,["generationComplete"],a);const u=p(t,["inputTranscription"]);u!=null&&m(e,["inputTranscription"],IO(u));const f=p(t,["outputTranscription"]);f!=null&&m(e,["outputTranscription"],IO(f));const c=p(t,["urlContextMetadata"]);return c!=null&&m(e,["urlContextMetadata"],Rde(c)),e}function Pde(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);return i!=null&&m(e,["name"],i),e}function Mde(t){const e={},n=p(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Pde(i))),m(e,["functionCalls"],r)}return e}function Nde(t){const e={},n=p(t,["ids"]);return n!=null&&m(e,["ids"],n),e}function um(t){const e={},n=p(t,["modality"]);n!=null&&m(e,["modality"],n);const r=p(t,["tokenCount"]);return r!=null&&m(e,["tokenCount"],r),e}function Dde(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const i=p(t,["responseTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&m(e,["toolUsePromptTokenCount"],o);const a=p(t,["thoughtsTokenCount"]);a!=null&&m(e,["thoughtsTokenCount"],a);const u=p(t,["totalTokenCount"]);u!=null&&m(e,["totalTokenCount"],u);const f=p(t,["promptTokensDetails"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(E=>um(E))),m(e,["promptTokensDetails"],v)}const c=p(t,["cacheTokensDetails"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(E=>um(E))),m(e,["cacheTokensDetails"],v)}const h=p(t,["responseTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(E=>um(E))),m(e,["responseTokensDetails"],v)}const y=p(t,["toolUsePromptTokensDetails"]);if(y!=null){let v=y;Array.isArray(v)&&(v=v.map(E=>um(E))),m(e,["toolUsePromptTokensDetails"],v)}return e}function Ode(t){const e={},n=p(t,["timeLeft"]);return n!=null&&m(e,["timeLeft"],n),e}function kde(t){const e={},n=p(t,["newHandle"]);n!=null&&m(e,["newHandle"],n);const r=p(t,["resumable"]);r!=null&&m(e,["resumable"],r);const i=p(t,["lastConsumedClientMessageIndex"]);return i!=null&&m(e,["lastConsumedClientMessageIndex"],i),e}function Lde(t){const e={};p(t,["setupComplete"])!=null&&m(e,["setupComplete"],Ede());const r=p(t,["serverContent"]);r!=null&&m(e,["serverContent"],Ide(r));const i=p(t,["toolCall"]);i!=null&&m(e,["toolCall"],Mde(i));const o=p(t,["toolCallCancellation"]);o!=null&&m(e,["toolCallCancellation"],Nde(o));const a=p(t,["usageMetadata"]);a!=null&&m(e,["usageMetadata"],Dde(a));const u=p(t,["goAway"]);u!=null&&m(e,["goAway"],Ode(u));const f=p(t,["sessionResumptionUpdate"]);return f!=null&&m(e,["sessionResumptionUpdate"],kde(f)),e}function Ude(){return{}}function Vde(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const r=p(t,["weight"]);return r!=null&&m(e,["weight"],r),e}function Bde(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Vde(i))),m(e,["weightedPrompts"],r)}return e}function qde(t){const e={},n=p(t,["temperature"]);n!=null&&m(e,["temperature"],n);const r=p(t,["topK"]);r!=null&&m(e,["topK"],r);const i=p(t,["seed"]);i!=null&&m(e,["seed"],i);const o=p(t,["guidance"]);o!=null&&m(e,["guidance"],o);const a=p(t,["bpm"]);a!=null&&m(e,["bpm"],a);const u=p(t,["density"]);u!=null&&m(e,["density"],u);const f=p(t,["brightness"]);f!=null&&m(e,["brightness"],f);const c=p(t,["scale"]);c!=null&&m(e,["scale"],c);const h=p(t,["muteBass"]);h!=null&&m(e,["muteBass"],h);const y=p(t,["muteDrums"]);y!=null&&m(e,["muteDrums"],y);const v=p(t,["onlyBassAndDrums"]);v!=null&&m(e,["onlyBassAndDrums"],v);const E=p(t,["musicGenerationMode"]);return E!=null&&m(e,["musicGenerationMode"],E),e}function Fde(t){const e={},n=p(t,["clientContent"]);n!=null&&m(e,["clientContent"],Bde(n));const r=p(t,["musicGenerationConfig"]);return r!=null&&m(e,["musicGenerationConfig"],qde(r)),e}function $de(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);r!=null&&m(e,["mimeType"],r);const i=p(t,["sourceMetadata"]);return i!=null&&m(e,["sourceMetadata"],Fde(i)),e}function Hde(t){const e={},n=p(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>$de(i))),m(e,["audioChunks"],r)}return e}function zde(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const r=p(t,["filteredReason"]);return r!=null&&m(e,["filteredReason"],r),e}function Gde(t){const e={};p(t,["setupComplete"])!=null&&m(e,["setupComplete"],Ude());const r=p(t,["serverContent"]);r!=null&&m(e,["serverContent"],Hde(r));const i=p(t,["filteredPrompt"]);return i!=null&&m(e,["filteredPrompt"],zde(i)),e}function Kde(t){const e={},n=p(t,["sessionId"]);return n!=null&&m(e,["sessionId"],n),e}function jde(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Yde(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["data"]);r!=null&&m(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Wde(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Jde(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],jde(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],Yde(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Wde(o));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function Xde(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Jde(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function PO(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const r=p(t,["finished"]);return r!=null&&m(e,["finished"],r),e}function Qde(t){const e={},n=p(t,["modelTurn"]);n!=null&&m(e,["modelTurn"],Xde(n));const r=p(t,["turnComplete"]);r!=null&&m(e,["turnComplete"],r);const i=p(t,["interrupted"]);i!=null&&m(e,["interrupted"],i);const o=p(t,["groundingMetadata"]);o!=null&&m(e,["groundingMetadata"],o);const a=p(t,["generationComplete"]);a!=null&&m(e,["generationComplete"],a);const u=p(t,["inputTranscription"]);u!=null&&m(e,["inputTranscription"],PO(u));const f=p(t,["outputTranscription"]);return f!=null&&m(e,["outputTranscription"],PO(f)),e}function Zde(t){const e={},n=p(t,["args"]);n!=null&&m(e,["args"],n);const r=p(t,["name"]);return r!=null&&m(e,["name"],r),e}function ehe(t){const e={},n=p(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Zde(i))),m(e,["functionCalls"],r)}return e}function the(t){const e={},n=p(t,["ids"]);return n!=null&&m(e,["ids"],n),e}function cm(t){const e={},n=p(t,["modality"]);n!=null&&m(e,["modality"],n);const r=p(t,["tokenCount"]);return r!=null&&m(e,["tokenCount"],r),e}function nhe(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const i=p(t,["candidatesTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&m(e,["toolUsePromptTokenCount"],o);const a=p(t,["thoughtsTokenCount"]);a!=null&&m(e,["thoughtsTokenCount"],a);const u=p(t,["totalTokenCount"]);u!=null&&m(e,["totalTokenCount"],u);const f=p(t,["promptTokensDetails"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(w=>cm(w))),m(e,["promptTokensDetails"],E)}const c=p(t,["cacheTokensDetails"]);if(c!=null){let E=c;Array.isArray(E)&&(E=E.map(w=>cm(w))),m(e,["cacheTokensDetails"],E)}const h=p(t,["candidatesTokensDetails"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(w=>cm(w))),m(e,["responseTokensDetails"],E)}const y=p(t,["toolUsePromptTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(w=>cm(w))),m(e,["toolUsePromptTokensDetails"],E)}const v=p(t,["trafficType"]);return v!=null&&m(e,["trafficType"],v),e}function rhe(t){const e={},n=p(t,["timeLeft"]);return n!=null&&m(e,["timeLeft"],n),e}function ihe(t){const e={},n=p(t,["newHandle"]);n!=null&&m(e,["newHandle"],n);const r=p(t,["resumable"]);r!=null&&m(e,["resumable"],r);const i=p(t,["lastConsumedClientMessageIndex"]);return i!=null&&m(e,["lastConsumedClientMessageIndex"],i),e}function ohe(t){const e={},n=p(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],Kde(n));const r=p(t,["serverContent"]);r!=null&&m(e,["serverContent"],Qde(r));const i=p(t,["toolCall"]);i!=null&&m(e,["toolCall"],ehe(i));const o=p(t,["toolCallCancellation"]);o!=null&&m(e,["toolCallCancellation"],the(o));const a=p(t,["usageMetadata"]);a!=null&&m(e,["usageMetadata"],nhe(a));const u=p(t,["goAway"]);u!=null&&m(e,["goAway"],rhe(u));const f=p(t,["sessionResumptionUpdate"]);return f!=null&&m(e,["sessionResumptionUpdate"],ihe(f)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function she(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function ahe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function lhe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function uhe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],she(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],ahe(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],lhe(o));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function Ly(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>uhe(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function che(t){const e={},n=p(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const r=p(t,["default"]);r!=null&&m(e,["default"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["enum"]);o!=null&&m(e,["enum"],o);const a=p(t,["example"]);a!=null&&m(e,["example"],a);const u=p(t,["format"]);u!=null&&m(e,["format"],u);const f=p(t,["items"]);f!=null&&m(e,["items"],f);const c=p(t,["maxItems"]);c!=null&&m(e,["maxItems"],c);const h=p(t,["maxLength"]);h!=null&&m(e,["maxLength"],h);const y=p(t,["maxProperties"]);y!=null&&m(e,["maxProperties"],y);const v=p(t,["maximum"]);v!=null&&m(e,["maximum"],v);const E=p(t,["minItems"]);E!=null&&m(e,["minItems"],E);const w=p(t,["minLength"]);w!=null&&m(e,["minLength"],w);const A=p(t,["minProperties"]);A!=null&&m(e,["minProperties"],A);const C=p(t,["minimum"]);C!=null&&m(e,["minimum"],C);const R=p(t,["nullable"]);R!=null&&m(e,["nullable"],R);const N=p(t,["pattern"]);N!=null&&m(e,["pattern"],N);const M=p(t,["properties"]);M!=null&&m(e,["properties"],M);const U=p(t,["propertyOrdering"]);U!=null&&m(e,["propertyOrdering"],U);const V=p(t,["required"]);V!=null&&m(e,["required"],V);const G=p(t,["title"]);G!=null&&m(e,["title"],G);const O=p(t,["type"]);return O!=null&&m(e,["type"],O),e}function fhe(t){const e={};if(p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["category"]);n!=null&&m(e,["category"],n);const r=p(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function dhe(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const o=p(t,["parameters"]);o!=null&&m(e,["parameters"],o);const a=p(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const f=p(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function hhe(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function phe(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],hhe(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function mhe(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function ghe(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],mhe(n)),e}function yhe(){return{}}function vhe(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function _he(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>dhe(c))),m(e,["functionDeclarations"],f)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],phe(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],ghe(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],yhe());const a=p(t,["computerUse"]);a!=null&&m(e,["computerUse"],vhe(a));const u=p(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function The(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function Ehe(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function She(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],Ehe(n));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function whe(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],The(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],She(r)),e}function Ahe(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function V3(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],Ahe(n)),e}function bhe(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],V3(r)),e}function Che(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>bhe(i))),m(e,["speakerVoiceConfigs"],r)}return e}function xhe(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],V3(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],Che(r));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function Rhe(t){const e={},n=p(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=p(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function Ihe(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],Ly(Kn(i)));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&m(r,["topP"],a);const u=p(e,["topK"]);u!=null&&m(r,["topK"],u);const f=p(e,["candidateCount"]);f!=null&&m(r,["candidateCount"],f);const c=p(e,["maxOutputTokens"]);c!=null&&m(r,["maxOutputTokens"],c);const h=p(e,["stopSequences"]);h!=null&&m(r,["stopSequences"],h);const y=p(e,["responseLogprobs"]);y!=null&&m(r,["responseLogprobs"],y);const v=p(e,["logprobs"]);v!=null&&m(r,["logprobs"],v);const E=p(e,["presencePenalty"]);E!=null&&m(r,["presencePenalty"],E);const w=p(e,["frequencyPenalty"]);w!=null&&m(r,["frequencyPenalty"],w);const A=p(e,["seed"]);A!=null&&m(r,["seed"],A);const C=p(e,["responseMimeType"]);C!=null&&m(r,["responseMimeType"],C);const R=p(e,["responseSchema"]);R!=null&&m(r,["responseSchema"],che(gb(R)));const N=p(e,["responseJsonSchema"]);if(N!=null&&m(r,["responseJsonSchema"],N),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=p(e,["safetySettings"]);if(n!==void 0&&M!=null){let F=M;Array.isArray(F)&&(F=F.map(z=>fhe(z))),m(n,["safetySettings"],F)}const U=p(e,["tools"]);if(n!==void 0&&U!=null){let F=Ic(U);Array.isArray(F)&&(F=F.map(z=>_he(Rc(z)))),m(n,["tools"],F)}const V=p(e,["toolConfig"]);if(n!==void 0&&V!=null&&m(n,["toolConfig"],whe(V)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=p(e,["cachedContent"]);n!==void 0&&G!=null&&m(n,["cachedContent"],os(t,G));const O=p(e,["responseModalities"]);O!=null&&m(r,["responseModalities"],O);const k=p(e,["mediaResolution"]);k!=null&&m(r,["mediaResolution"],k);const D=p(e,["speechConfig"]);if(D!=null&&m(r,["speechConfig"],xhe(yb(D))),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=p(e,["thinkingConfig"]);return $!=null&&m(r,["thinkingConfig"],Rhe($)),r}function MO(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["contents"]);if(i!=null){let a=ni(i);Array.isArray(a)&&(a=a.map(u=>Ly(u))),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&m(n,["generationConfig"],Ihe(t,o,n)),n}function Phe(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Mhe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["contents"]);i!=null&&m(n,["requests[]","content"],E3(t,i));const o=p(e,["config"]);o!=null&&m(n,["config"],Phe(o,n));const a=p(e,["model"]);return a!==void 0&&m(n,["requests[]","model"],ot(t,a)),n}function Nhe(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&m(e,["parameters","aspectRatio"],i);const o=p(t,["guidanceScale"]);if(e!==void 0&&o!=null&&m(e,["parameters","guidanceScale"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&m(e,["parameters","safetySetting"],a);const u=p(t,["personGeneration"]);e!==void 0&&u!=null&&m(e,["parameters","personGeneration"],u);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&m(e,["parameters","includeSafetyAttributes"],f);const c=p(t,["includeRaiReason"]);e!==void 0&&c!=null&&m(e,["parameters","includeRaiReason"],c);const h=p(t,["language"]);e!==void 0&&h!=null&&m(e,["parameters","language"],h);const y=p(t,["outputMimeType"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","mimeType"],y);const v=p(t,["outputCompressionQuality"]);if(e!==void 0&&v!=null&&m(e,["parameters","outputOptions","compressionQuality"],v),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const E=p(t,["imageSize"]);if(e!==void 0&&E!=null&&m(e,["parameters","sampleImageSize"],E),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Dhe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&m(n,["config"],Nhe(o,n)),n}function Ohe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],ot(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function khe(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const a=p(e,["filter"]);n!==void 0&&a!=null&&m(n,["_query","filter"],a);const u=p(e,["queryBase"]);return n!==void 0&&u!=null&&m(n,["_url","models_url"],A3(t,u)),r}function Lhe(t,e){const n={},r=p(e,["config"]);return r!=null&&m(n,["config"],khe(t,r,n)),n}function Uhe(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function Vhe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],ot(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Uhe(i,n)),n}function Bhe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],ot(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function qhe(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Fhe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["contents"]);if(i!=null){let a=ni(i);Array.isArray(a)&&(a=a.map(u=>Ly(u))),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&m(n,["config"],qhe(o)),n}function B3(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],kl(n));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function $he(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);if(e!==void 0&&i!=null&&m(e,["instances[0]","image"],B3(i)),p(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return n}function Hhe(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&m(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const a=p(t,["resolution"]);e!==void 0&&a!=null&&m(e,["parameters","resolution"],a);const u=p(t,["personGeneration"]);if(e!==void 0&&u!=null&&m(e,["parameters","personGeneration"],u),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=p(t,["negativePrompt"]);e!==void 0&&f!=null&&m(e,["parameters","negativePrompt"],f);const c=p(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&m(e,["parameters","enhancePrompt"],c),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(p(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(p(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function zhe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["image"]);if(o!=null&&m(n,["instances[0]","image"],B3(o)),p(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const a=p(e,["source"]);a!=null&&m(n,["config"],$he(a,n));const u=p(e,["config"]);return u!=null&&m(n,["config"],Hhe(u,n)),n}function Ghe(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Khe(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["data"]);r!=null&&m(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function jhe(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Yhe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Ghe(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],Khe(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],jhe(o));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function Mc(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Yhe(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Whe(t){const e={},n=p(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const r=p(t,["default"]);r!=null&&m(e,["default"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["enum"]);o!=null&&m(e,["enum"],o);const a=p(t,["example"]);a!=null&&m(e,["example"],a);const u=p(t,["format"]);u!=null&&m(e,["format"],u);const f=p(t,["items"]);f!=null&&m(e,["items"],f);const c=p(t,["maxItems"]);c!=null&&m(e,["maxItems"],c);const h=p(t,["maxLength"]);h!=null&&m(e,["maxLength"],h);const y=p(t,["maxProperties"]);y!=null&&m(e,["maxProperties"],y);const v=p(t,["maximum"]);v!=null&&m(e,["maximum"],v);const E=p(t,["minItems"]);E!=null&&m(e,["minItems"],E);const w=p(t,["minLength"]);w!=null&&m(e,["minLength"],w);const A=p(t,["minProperties"]);A!=null&&m(e,["minProperties"],A);const C=p(t,["minimum"]);C!=null&&m(e,["minimum"],C);const R=p(t,["nullable"]);R!=null&&m(e,["nullable"],R);const N=p(t,["pattern"]);N!=null&&m(e,["pattern"],N);const M=p(t,["properties"]);M!=null&&m(e,["properties"],M);const U=p(t,["propertyOrdering"]);U!=null&&m(e,["propertyOrdering"],U);const V=p(t,["required"]);V!=null&&m(e,["required"],V);const G=p(t,["title"]);G!=null&&m(e,["title"],G);const O=p(t,["type"]);return O!=null&&m(e,["type"],O),e}function Jhe(t){const e={},n=p(t,["featureSelectionPreference"]);return n!=null&&m(e,["featureSelectionPreference"],n),e}function Xhe(t){const e={},n=p(t,["method"]);n!=null&&m(e,["method"],n);const r=p(t,["category"]);r!=null&&m(e,["category"],r);const i=p(t,["threshold"]);return i!=null&&m(e,["threshold"],i),e}function Qhe(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const u=p(t,["responseJsonSchema"]);return u!=null&&m(e,["responseJsonSchema"],u),e}function Zhe(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function epe(t){const e={},n=p(t,["timeRangeFilter"]);n!=null&&m(e,["timeRangeFilter"],Zhe(n));const r=p(t,["excludeDomains"]);return r!=null&&m(e,["excludeDomains"],r),e}function tpe(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function npe(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],tpe(n)),e}function rpe(t){const e={},n=p(t,["excludeDomains"]);return n!=null&&m(e,["excludeDomains"],n),e}function ipe(t){const e={},n=p(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function ope(t){const e={},n=p(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],ipe(n));const r=p(t,["authType"]);r!=null&&m(e,["authType"],r);const i=p(t,["googleServiceAccountConfig"]);i!=null&&m(e,["googleServiceAccountConfig"],i);const o=p(t,["httpBasicAuthConfig"]);o!=null&&m(e,["httpBasicAuthConfig"],o);const a=p(t,["oauthConfig"]);a!=null&&m(e,["oauthConfig"],a);const u=p(t,["oidcConfig"]);return u!=null&&m(e,["oidcConfig"],u),e}function spe(t){const e={},n=p(t,["authConfig"]);return n!=null&&m(e,["authConfig"],ope(n)),e}function ape(){return{}}function lpe(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function q3(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(v=>Qhe(v))),m(e,["functionDeclarations"],y)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],epe(i));const o=p(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],npe(o));const a=p(t,["enterpriseWebSearch"]);a!=null&&m(e,["enterpriseWebSearch"],rpe(a));const u=p(t,["googleMaps"]);u!=null&&m(e,["googleMaps"],spe(u)),p(t,["urlContext"])!=null&&m(e,["urlContext"],ape());const c=p(t,["computerUse"]);c!=null&&m(e,["computerUse"],lpe(c));const h=p(t,["codeExecution"]);return h!=null&&m(e,["codeExecution"],h),e}function upe(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function cpe(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function fpe(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],cpe(n));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function dpe(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],upe(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],fpe(r)),e}function hpe(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function ppe(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],hpe(n)),e}function mpe(t){const e={},n=p(t,["voiceConfig"]);if(n!=null&&m(e,["voiceConfig"],ppe(n)),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function gpe(t){const e={},n=p(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=p(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function ype(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],Mc(Kn(i)));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&m(r,["topP"],a);const u=p(e,["topK"]);u!=null&&m(r,["topK"],u);const f=p(e,["candidateCount"]);f!=null&&m(r,["candidateCount"],f);const c=p(e,["maxOutputTokens"]);c!=null&&m(r,["maxOutputTokens"],c);const h=p(e,["stopSequences"]);h!=null&&m(r,["stopSequences"],h);const y=p(e,["responseLogprobs"]);y!=null&&m(r,["responseLogprobs"],y);const v=p(e,["logprobs"]);v!=null&&m(r,["logprobs"],v);const E=p(e,["presencePenalty"]);E!=null&&m(r,["presencePenalty"],E);const w=p(e,["frequencyPenalty"]);w!=null&&m(r,["frequencyPenalty"],w);const A=p(e,["seed"]);A!=null&&m(r,["seed"],A);const C=p(e,["responseMimeType"]);C!=null&&m(r,["responseMimeType"],C);const R=p(e,["responseSchema"]);R!=null&&m(r,["responseSchema"],Whe(gb(R)));const N=p(e,["responseJsonSchema"]);N!=null&&m(r,["responseJsonSchema"],N);const M=p(e,["routingConfig"]);M!=null&&m(r,["routingConfig"],M);const U=p(e,["modelSelectionConfig"]);U!=null&&m(r,["modelConfig"],Jhe(U));const V=p(e,["safetySettings"]);if(n!==void 0&&V!=null){let be=V;Array.isArray(be)&&(be=be.map(ne=>Xhe(ne))),m(n,["safetySettings"],be)}const G=p(e,["tools"]);if(n!==void 0&&G!=null){let be=Ic(G);Array.isArray(be)&&(be=be.map(ne=>q3(Rc(ne)))),m(n,["tools"],be)}const O=p(e,["toolConfig"]);n!==void 0&&O!=null&&m(n,["toolConfig"],dpe(O));const k=p(e,["labels"]);n!==void 0&&k!=null&&m(n,["labels"],k);const D=p(e,["cachedContent"]);n!==void 0&&D!=null&&m(n,["cachedContent"],os(t,D));const $=p(e,["responseModalities"]);$!=null&&m(r,["responseModalities"],$);const F=p(e,["mediaResolution"]);F!=null&&m(r,["mediaResolution"],F);const z=p(e,["speechConfig"]);z!=null&&m(r,["speechConfig"],mpe(yb(z)));const H=p(e,["audioTimestamp"]);H!=null&&m(r,["audioTimestamp"],H);const Me=p(e,["thinkingConfig"]);return Me!=null&&m(r,["thinkingConfig"],gpe(Me)),r}function NO(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["contents"]);if(i!=null){let a=ni(i);Array.isArray(a)&&(a=a.map(u=>Mc(u))),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&m(n,["generationConfig"],ype(t,o,n)),n}function vpe(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["instances[]","task_type"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["instances[]","title"],i);const o=p(t,["outputDimensionality"]);e!==void 0&&o!=null&&m(e,["parameters","outputDimensionality"],o);const a=p(t,["mimeType"]);e!==void 0&&a!=null&&m(e,["instances[]","mimeType"],a);const u=p(t,["autoTruncate"]);return e!==void 0&&u!=null&&m(e,["parameters","autoTruncate"],u),n}function _pe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["contents"]);i!=null&&m(n,["instances[]","content"],E3(t,i));const o=p(e,["config"]);return o!=null&&m(n,["config"],vpe(o,n)),n}function Tpe(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const u=p(t,["guidanceScale"]);e!==void 0&&u!=null&&m(e,["parameters","guidanceScale"],u);const f=p(t,["seed"]);e!==void 0&&f!=null&&m(e,["parameters","seed"],f);const c=p(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&m(e,["parameters","safetySetting"],c);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&m(e,["parameters","personGeneration"],h);const y=p(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&m(e,["parameters","includeSafetyAttributes"],y);const v=p(t,["includeRaiReason"]);e!==void 0&&v!=null&&m(e,["parameters","includeRaiReason"],v);const E=p(t,["language"]);e!==void 0&&E!=null&&m(e,["parameters","language"],E);const w=p(t,["outputMimeType"]);e!==void 0&&w!=null&&m(e,["parameters","outputOptions","mimeType"],w);const A=p(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&m(e,["parameters","outputOptions","compressionQuality"],A);const C=p(t,["addWatermark"]);e!==void 0&&C!=null&&m(e,["parameters","addWatermark"],C);const R=p(t,["imageSize"]);e!==void 0&&R!=null&&m(e,["parameters","sampleImageSize"],R);const N=p(t,["enhancePrompt"]);return e!==void 0&&N!=null&&m(e,["parameters","enhancePrompt"],N),n}function Epe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&m(n,["config"],Tpe(o,n)),n}function oo(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&m(e,["bytesBase64Encoded"],kl(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Spe(t){const e={},n=p(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&m(e,["maskClasses"],r);const i=p(t,["maskDilation"]);return i!=null&&m(e,["dilation"],i),e}function wpe(t){const e={},n=p(t,["controlType"]);n!=null&&m(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&m(e,["computeControl"],r),e}function Ape(t){const e={},n=p(t,["styleDescription"]);return n!=null&&m(e,["styleDescription"],n),e}function bpe(t){const e={},n=p(t,["subjectType"]);n!=null&&m(e,["subjectType"],n);const r=p(t,["subjectDescription"]);return r!=null&&m(e,["subjectDescription"],r),e}function Cpe(t){const e={},n=p(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],oo(n));const r=p(t,["referenceId"]);r!=null&&m(e,["referenceId"],r);const i=p(t,["referenceType"]);i!=null&&m(e,["referenceType"],i);const o=p(t,["maskImageConfig"]);o!=null&&m(e,["maskImageConfig"],Spe(o));const a=p(t,["controlImageConfig"]);a!=null&&m(e,["controlImageConfig"],wpe(a));const u=p(t,["styleImageConfig"]);u!=null&&m(e,["styleImageConfig"],Ape(u));const f=p(t,["subjectImageConfig"]);return f!=null&&m(e,["subjectImageConfig"],bpe(f)),e}function xpe(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const u=p(t,["guidanceScale"]);e!==void 0&&u!=null&&m(e,["parameters","guidanceScale"],u);const f=p(t,["seed"]);e!==void 0&&f!=null&&m(e,["parameters","seed"],f);const c=p(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&m(e,["parameters","safetySetting"],c);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&m(e,["parameters","personGeneration"],h);const y=p(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&m(e,["parameters","includeSafetyAttributes"],y);const v=p(t,["includeRaiReason"]);e!==void 0&&v!=null&&m(e,["parameters","includeRaiReason"],v);const E=p(t,["language"]);e!==void 0&&E!=null&&m(e,["parameters","language"],E);const w=p(t,["outputMimeType"]);e!==void 0&&w!=null&&m(e,["parameters","outputOptions","mimeType"],w);const A=p(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&m(e,["parameters","outputOptions","compressionQuality"],A);const C=p(t,["addWatermark"]);e!==void 0&&C!=null&&m(e,["parameters","addWatermark"],C);const R=p(t,["editMode"]);e!==void 0&&R!=null&&m(e,["parameters","editMode"],R);const N=p(t,["baseSteps"]);return e!==void 0&&N!=null&&m(e,["parameters","editConfig","baseSteps"],N),n}function Rpe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>Cpe(f))),m(n,["instances[0]","referenceImages"],u)}const a=p(e,["config"]);return a!=null&&m(n,["config"],xpe(a,n)),n}function Ipe(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["includeRaiReason"]);e!==void 0&&i!=null&&m(e,["parameters","includeRaiReason"],i);const o=p(t,["outputMimeType"]);e!==void 0&&o!=null&&m(e,["parameters","outputOptions","mimeType"],o);const a=p(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&m(e,["parameters","outputOptions","compressionQuality"],a);const u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],u);const f=p(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const c=p(t,["numberOfImages"]);e!==void 0&&c!=null&&m(e,["parameters","sampleCount"],c);const h=p(t,["mode"]);return e!==void 0&&h!=null&&m(e,["parameters","mode"],h),n}function Ppe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["image"]);i!=null&&m(n,["instances[0]","image"],oo(i));const o=p(e,["upscaleFactor"]);o!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=p(e,["config"]);return a!=null&&m(n,["config"],Ipe(a,n)),n}function Mpe(t){const e={},n=p(t,["productImage"]);return n!=null&&m(e,["image"],oo(n)),e}function Npe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["personImage"]);e!==void 0&&i!=null&&m(e,["instances[0]","personImage","image"],oo(i));const o=p(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>Mpe(u))),m(e,["instances[0]","productImages"],a)}return n}function Dpe(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&m(e,["parameters","editConfig","baseSteps"],i);const o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const a=p(t,["seed"]);e!==void 0&&a!=null&&m(e,["parameters","seed"],a);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const f=p(t,["personGeneration"]);e!==void 0&&f!=null&&m(e,["parameters","personGeneration"],f);const c=p(t,["addWatermark"]);e!==void 0&&c!=null&&m(e,["parameters","addWatermark"],c);const h=p(t,["outputMimeType"]);e!==void 0&&h!=null&&m(e,["parameters","outputOptions","mimeType"],h);const y=p(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","compressionQuality"],y);const v=p(t,["enhancePrompt"]);return e!==void 0&&v!=null&&m(e,["parameters","enhancePrompt"],v),n}function Ope(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["source"]);i!=null&&m(n,["config"],Npe(i,n));const o=p(e,["config"]);return o!=null&&m(n,["config"],Dpe(o,n)),n}function kpe(t){const e={},n=p(t,["image"]);return n!=null&&m(e,["image"],oo(n)),e}function Lpe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],oo(i));const o=p(t,["scribbleImage"]);return e!==void 0&&o!=null&&m(e,["instances[0]","scribble"],kpe(o)),n}function Upe(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&m(e,["parameters","mode"],r);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&m(e,["parameters","maxPredictions"],i);const o=p(t,["confidenceThreshold"]);e!==void 0&&o!=null&&m(e,["parameters","confidenceThreshold"],o);const a=p(t,["maskDilation"]);e!==void 0&&a!=null&&m(e,["parameters","maskDilation"],a);const u=p(t,["binaryColorThreshold"]);return e!==void 0&&u!=null&&m(e,["parameters","binaryColorThreshold"],u),n}function Vpe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["source"]);i!=null&&m(n,["config"],Lpe(i,n));const o=p(e,["config"]);return o!=null&&m(n,["config"],Upe(o,n)),n}function Bpe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],ot(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function qpe(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const a=p(e,["filter"]);n!==void 0&&a!=null&&m(n,["_query","filter"],a);const u=p(e,["queryBase"]);return n!==void 0&&u!=null&&m(n,["_url","models_url"],A3(t,u)),r}function Fpe(t,e){const n={},r=p(e,["config"]);return r!=null&&m(n,["config"],qpe(t,r,n)),n}function $pe(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function Hpe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],$pe(i,n)),n}function zpe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],ot(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function Gpe(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&m(e,["systemInstruction"],Mc(Kn(r)));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>q3(u))),m(e,["tools"],a)}const o=p(t,["generationConfig"]);return e!==void 0&&o!=null&&m(e,["generationConfig"],o),n}function Kpe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["contents"]);if(i!=null){let a=ni(i);Array.isArray(a)&&(a=a.map(u=>Mc(u))),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&m(n,["config"],Gpe(o,n)),n}function jpe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["contents"]);if(i!=null){let a=ni(i);Array.isArray(a)&&(a=a.map(u=>Mc(u))),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&m(n,["config"],o),n}function F3(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&m(e,["bytesBase64Encoded"],kl(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Ype(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],oo(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],F3(o)),n}function Wpe(t){const e={},n=p(t,["image"]);n!=null&&m(e,["image"],oo(n));const r=p(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function Jpe(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=p(t,["fps"]);e!==void 0&&o!=null&&m(e,["parameters","fps"],o);const a=p(t,["durationSeconds"]);e!==void 0&&a!=null&&m(e,["parameters","durationSeconds"],a);const u=p(t,["seed"]);e!==void 0&&u!=null&&m(e,["parameters","seed"],u);const f=p(t,["aspectRatio"]);e!==void 0&&f!=null&&m(e,["parameters","aspectRatio"],f);const c=p(t,["resolution"]);e!==void 0&&c!=null&&m(e,["parameters","resolution"],c);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&m(e,["parameters","personGeneration"],h);const y=p(t,["pubsubTopic"]);e!==void 0&&y!=null&&m(e,["parameters","pubsubTopic"],y);const v=p(t,["negativePrompt"]);e!==void 0&&v!=null&&m(e,["parameters","negativePrompt"],v);const E=p(t,["enhancePrompt"]);e!==void 0&&E!=null&&m(e,["parameters","enhancePrompt"],E);const w=p(t,["generateAudio"]);e!==void 0&&w!=null&&m(e,["parameters","generateAudio"],w);const A=p(t,["lastFrame"]);e!==void 0&&A!=null&&m(e,["instances[0]","lastFrame"],oo(A));const C=p(t,["referenceImages"]);if(e!==void 0&&C!=null){let N=C;Array.isArray(N)&&(N=N.map(M=>Wpe(M))),m(e,["instances[0]","referenceImages"],N)}const R=p(t,["compressionQuality"]);return e!==void 0&&R!=null&&m(e,["parameters","compressionQuality"],R),n}function Xpe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&m(n,["instances[0]","image"],oo(o));const a=p(e,["video"]);a!=null&&m(n,["instances[0]","video"],F3(a));const u=p(e,["source"]);u!=null&&m(n,["config"],Ype(u,n));const f=p(e,["config"]);return f!=null&&m(n,["config"],Jpe(f,n)),n}function Qpe(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Zpe(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function eme(t){const e={},n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function tme(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Qpe(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],Zpe(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],eme(o));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function nme(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>tme(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function rme(t){const e={},n=p(t,["citationSources"]);return n!=null&&m(e,["citations"],n),e}function ime(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function ome(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ime(i))),m(e,["urlMetadata"],r)}return e}function sme(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],nme(n));const r=p(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],rme(r));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const a=p(t,["urlContextMetadata"]);a!=null&&m(e,["urlContextMetadata"],ome(a));const u=p(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const f=p(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const c=p(t,["index"]);c!=null&&m(e,["index"],c);const h=p(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const y=p(t,["safetyRatings"]);return y!=null&&m(e,["safetyRatings"],y),e}function DO(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(c=>sme(c))),m(e,["candidates"],f)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const a=p(t,["responseId"]);a!=null&&m(e,["responseId"],a);const u=p(t,["usageMetadata"]);return u!=null&&m(e,["usageMetadata"],u),e}function ame(t){const e={},n=p(t,["values"]);return n!=null&&m(e,["values"],n),e}function lme(){return{}}function ume(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>ame(a))),m(e,["embeddings"],o)}return p(t,["metadata"])!=null&&m(e,["metadata"],lme()),e}function cme(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],kl(n));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function $3(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function fme(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["image"],cme(n));const r=p(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=p(t,["_self"]);return i!=null&&m(e,["safetyAttributes"],$3(i)),e}function dme(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>fme(a))),m(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],$3(i)),e}function hme(t){const e={},n=p(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function ES(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["version"]);o!=null&&m(e,["version"],o);const a=p(t,["_self"]);a!=null&&m(e,["tunedModelInfo"],hme(a));const u=p(t,["inputTokenLimit"]);u!=null&&m(e,["inputTokenLimit"],u);const f=p(t,["outputTokenLimit"]);f!=null&&m(e,["outputTokenLimit"],f);const c=p(t,["supportedGenerationMethods"]);return c!=null&&m(e,["supportedActions"],c),e}function pme(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=b3(i);Array.isArray(o)&&(o=o.map(a=>ES(a))),m(e,["models"],o)}return e}function mme(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function gme(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&m(e,["totalTokens"],r);const i=p(t,["cachedContentTokenCount"]);return i!=null&&m(e,["cachedContentTokenCount"],i),e}function yme(t){const e={},n=p(t,["video","uri"]);n!=null&&m(e,["uri"],n);const r=p(t,["video","encodedVideo"]);r!=null&&m(e,["videoBytes"],kl(r));const i=p(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function vme(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],yme(n)),e}function _me(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>vme(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Tme(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response","generateVideoResponse"]);return a!=null&&m(e,["response"],_me(a)),e}function Eme(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Sme(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["data"]);r!=null&&m(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function wme(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Ame(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Eme(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],Sme(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],wme(o));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function bme(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ame(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Cme(t){const e={},n=p(t,["citations"]);return n!=null&&m(e,["citations"],n),e}function xme(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function Rme(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>xme(i))),m(e,["urlMetadata"],r)}return e}function Ime(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],bme(n));const r=p(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],Cme(r));const i=p(t,["finishMessage"]);i!=null&&m(e,["finishMessage"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const a=p(t,["urlContextMetadata"]);a!=null&&m(e,["urlContextMetadata"],Rme(a));const u=p(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const f=p(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const c=p(t,["index"]);c!=null&&m(e,["index"],c);const h=p(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const y=p(t,["safetyRatings"]);return y!=null&&m(e,["safetyRatings"],y),e}function OO(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>Ime(h))),m(e,["candidates"],c)}const i=p(t,["createTime"]);i!=null&&m(e,["createTime"],i);const o=p(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const a=p(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const u=p(t,["responseId"]);u!=null&&m(e,["responseId"],u);const f=p(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function Pme(t){const e={},n=p(t,["truncated"]);n!=null&&m(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&m(e,["tokenCount"],r),e}function Mme(t){const e={},n=p(t,["values"]);n!=null&&m(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&m(e,["statistics"],Pme(r)),e}function Nme(t){const e={},n=p(t,["billableCharacterCount"]);return n!=null&&m(e,["billableCharacterCount"],n),e}function Dme(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Mme(a))),m(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&m(e,["metadata"],Nme(i)),e}function H3(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["imageBytes"],kl(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function z3(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function Uy(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["image"],H3(n));const r=p(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=p(t,["_self"]);i!=null&&m(e,["safetyAttributes"],z3(i));const o=p(t,["prompt"]);return o!=null&&m(e,["enhancedPrompt"],o),e}function Ome(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Uy(a))),m(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],z3(i)),e}function kme(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Uy(o))),m(e,["generatedImages"],i)}return e}function Lme(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Uy(o))),m(e,["generatedImages"],i)}return e}function Ume(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Uy(i))),m(e,["generatedImages"],r)}return e}function Vme(t){const e={},n=p(t,["label"]);n!=null&&m(e,["label"],n);const r=p(t,["score"]);return r!=null&&m(e,["score"],r),e}function Bme(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["mask"],H3(n));const r=p(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Vme(o))),m(e,["labels"],i)}return e}function qme(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Bme(i))),m(e,["generatedMasks"],r)}return e}function Fme(t){const e={},n=p(t,["endpoint"]);n!=null&&m(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&m(e,["deployedModelId"],r),e}function $me(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function Hme(t){const e={},n=p(t,["checkpointId"]);n!=null&&m(e,["checkpointId"],n);const r=p(t,["epoch"]);r!=null&&m(e,["epoch"],r);const i=p(t,["step"]);return i!=null&&m(e,["step"],i),e}function SS(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["versionId"]);o!=null&&m(e,["version"],o);const a=p(t,["deployedModels"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(v=>Fme(v))),m(e,["endpoints"],y)}const u=p(t,["labels"]);u!=null&&m(e,["labels"],u);const f=p(t,["_self"]);f!=null&&m(e,["tunedModelInfo"],$me(f));const c=p(t,["defaultCheckpointId"]);c!=null&&m(e,["defaultCheckpointId"],c);const h=p(t,["checkpoints"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(v=>Hme(v))),m(e,["checkpoints"],y)}return e}function zme(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=b3(i);Array.isArray(o)&&(o=o.map(a=>SS(a))),m(e,["models"],o)}return e}function Gme(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Kme(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&m(e,["totalTokens"],r),e}function jme(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);return r!=null&&m(e,["tokensInfo"],r),e}function Yme(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],kl(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Wme(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],Yme(n)),e}function Jme(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Wme(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Xme(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],Jme(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qme="Content-Type",Zme="X-Server-Timeout",ege="User-Agent",wS="x-goog-api-client",tge="1.17.0",nge=`google-genai-sdk/${tge}`,rge="v1beta1",ige="v1beta",kO=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class oge{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:rge,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:ige,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,u]of Object.entries(e.queryParams))i.searchParams.append(a,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,o=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>i.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=o}return n&&n.extraBody!==null&&sge(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await LO(i),new gS(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await LO(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Hu(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:u,value:f}=yield Ct(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=o.decode(f,{stream:!0});try{const y=JSON.parse(c);if("error"in y){const v=JSON.parse(JSON.stringify(y.error)),E=v.status,w=v.code,A=`got status: ${E}. ${JSON.stringify(y)}`;if(w>=400&&w<600)throw new ky({message:A,status:w})}}catch(y){if(y.name==="ApiError")throw y}a+=c;let h=a.match(kO);for(;h;){const y=h[1];try{const v=new Response(y,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ct(new gS(v)),a=a.slice(h[0].length),h=a.match(kO)}catch(v){throw new Error(`exception parsing stream chunk ${y}. ${v}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=nge+" "+this.clientOptions.userAgentExtra;return e[ege]=n,e[wS]=n,e[Qme]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(Zme,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const f=await this.fetchUploadUrl(i,n);return o.upload(e,f,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},a=await this.request({path:we("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:i});if(!a||!(a!=null&&a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(r=a==null?void 0:a.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function LO(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new ky({message:i,status:n}):new Error(i)}}function sge(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const u=Object.assign({},o);for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const c=a[f],h=u[f];c&&typeof c=="object"&&!Array.isArray(c)&&h&&typeof h=="object"&&!Array.isArray(h)?u[f]=r(h,c):(h&&c&&typeof h!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof h}, New type: ${typeof c}. Overwriting.`),u[f]=c)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const age="mcp_used/unknown";let lge=!1;function G3(t){for(const e of t)if(uge(e)||typeof e=="object"&&"inputSchema"in e)return!0;return lge}function K3(t){var e;const n=(e=t[wS])!==null&&e!==void 0?e:"";t[wS]=(n+` ${age}`).trimStart()}function uge(t){return t!==null&&typeof t=="object"&&t instanceof _b}function cge(t,e=100){return Hu(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield Ct(t.listTools({cursor:r}));for(const a of o.tools)yield yield Ct(a),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class _b{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new _b(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const h of this.mcpClients)try{for(var u=!0,f=(n=void 0,md(cge(h))),c;c=await f.next(),e=c.done,!e;u=!0){i=c.value,u=!1;const y=i;a.push(y);const v=y.name;if(o[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);o[v]=h}}catch(y){n={error:y}}finally{try{!u&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Fle(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function fge(t,e,n){const r=new Dle;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const o=Gde(i);Object.assign(r,o),e(r)}class dge{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=mge(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let c=()=>{};const h=new Promise(M=>{c=M}),y=e.callbacks,v=function(){c({})},E=this.apiClient,w={onopen:v,onmessage:M=>{fge(E,y.onmessage,M)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(M){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(M){}},A=this.webSocketFactory.create(f,pge(a),w);A.connect(),await h;const C=ot(this.apiClient,e.model),R=L3({model:C}),N=TS({setup:R});return A.send(JSON.stringify(N)),new hge(A,this.apiClient)}}class hge{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=$fe(e),r=U3(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Hfe(e),r=TS(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=TS({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ku.PLAY)}pause(){this.sendPlaybackControl(ku.PAUSE)}stop(){this.sendPlaybackControl(ku.STOP)}resetContext(){this.sendPlaybackControl(ku.RESET_CONTEXT)}close(){this.conn.close()}}function pge(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function mge(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gge="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function yge(t,e,n){const r=new Nle;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=ohe(o);Object.assign(r,a)}else{const a=Lde(o);Object.assign(r,a)}e(r)}class vge{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new dge(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let h;const y=this.apiClient.getHeaders();e.config&&e.config.tools&&G3(e.config.tools)&&K3(y);const v=Sge(y);if(this.apiClient.isVertexAI())h=`${f}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v);else{const D=this.apiClient.getApiKey();let $="BidiGenerateContent",F="key";D!=null&&D.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),$="BidiGenerateContentConstrained",F="access_token"),h=`${f}/ws/google.ai.generativelanguage.${c}.GenerativeService.${$}?${F}=${D}`}let E=()=>{};const w=new Promise(D=>{E=D}),A=e.callbacks,C=function(){var D;(D=A==null?void 0:A.onopen)===null||D===void 0||D.call(A),E({})},R=this.apiClient,N={onopen:C,onmessage:D=>{yge(R,A.onmessage,D)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(D){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(D){}},M=this.webSocketFactory.create(h,Ege(v),N);M.connect(),await w;let U=ot(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&U.startsWith("publishers/")){const D=this.apiClient.getProject(),$=this.apiClient.getLocation();U=`projects/${D}/locations/${$}/`+U}let V={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Pg.AUDIO]}:e.config.responseModalities=[Pg.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const G=(u=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[],O=[];for(const D of G)if(this.isCallableTool(D)){const $=D;O.push(await $.tool())}else O.push(D);O.length>0&&(e.config.tools=O);const k={model:U,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?V=yde(this.apiClient,k):V=Vfe(this.apiClient,k),delete V.config,M.send(JSON.stringify(V)),new Tge(M,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const _ge={turnComplete:!0};class Tge{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=ni(n.turns),e.isVertexAI()?r=r.map(i=>Mc(i)):r=r.map(i=>Ly(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(gge)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},_ge),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Tde(e)}:n={realtimeInput:Ffe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Ege(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Sge(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UO=10;function VO(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(zu(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function zu(t){return"callTool"in t&&typeof t.callTool=="function"}function wge(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>zu(i)))!==null&&r!==void 0?r:!1}function Age(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!zu(i)))!==null&&r!==void 0?r:!1}function BO(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bge extends Ol{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,u;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!wge(n)||VO(n.config))return await this.generateContentInternal(f);if(Age(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,h;const y=ni(f.contents),v=(o=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:UO;let E=0;for(;E<v&&(c=await this.generateContentInternal(f),!(!c.functionCalls||c.functionCalls.length===0));){const w=c.candidates[0].content,A=[];for(const C of(u=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[])if(zu(C)){const N=await C.callTool(c.functionCalls);A.push(...N)}E++,h={role:"user",parts:A},f.contents=ni(f.contents),f.contents.push(w),f.contents.push(h),BO(f.config)&&(y.push(w),y.push(h))}return BO(f.config)&&(c.automaticFunctionCallingHistory=y),c},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),VO(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=f==null?void 0:f.safetyAttributes:a.push(f);let u;return o?u={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new mh(wl.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async f=>zu(f)?await f.tool():f)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(u.config.tools=a,e.config&&e.config.tools&&G3(e.config.tools)){const f=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},f);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),K3(c),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return u}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(zu(a)){const u=a,f=await u.tool();for(const c of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(o.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);o.set(c.name,u)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:UO;let a=!1,u=0;const f=await this.initAfcToolsMap(e);return(function(c,h,y){var v,E;return Hu(this,arguments,function*(){for(var w,A,C,R;u<o;){a&&(u++,a=!1);const V=yield Ct(c.processParamsMaybeAddMcpUsage(y)),G=yield Ct(c.generateContentStreamInternal(V)),O=[],k=[];try{for(var N=!0,M=(A=void 0,md(G)),U;U=yield Ct(M.next()),w=U.done,!w;N=!0){R=U.value,N=!1;const D=R;if(yield yield Ct(D),D.candidates&&(!((v=D.candidates[0])===null||v===void 0)&&v.content)){k.push(D.candidates[0].content);for(const $ of(E=D.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(u<o&&$.functionCall){if(!$.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has($.functionCall.name)){const F=yield Ct(h.get($.functionCall.name).callTool([$.functionCall]));O.push(...F)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${$.functionCall.name}`)}}}}catch(D){A={error:D}}finally{try{!N&&!w&&(C=M.return)&&(yield Ct(C.call(M)))}finally{if(A)throw A.error}}if(O.length>0){a=!0;const D=new Jf;D.candidates=[{content:{role:"user",parts:O}}],yield yield Ct(D);const $=[];$.push(...k),$.push({role:"user",parts:O});const F=ni(y.contents).concat($);y.contents=F}else break}})})(this,f,e)}async generateContentInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=NO(this.apiClient,e);return u=we("{model}:generateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),a.then(h=>{const y=OO(h),v=new Jf;return Object.assign(v,y),v})}else{const c=MO(this.apiClient,e);return u=we("{model}:generateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),a.then(h=>{const y=DO(h),v=new Jf;return Object.assign(v,y),v})}}async generateContentStreamInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=NO(this.apiClient,e);return u=we("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(y){return Hu(this,arguments,function*(){var v,E,w,A;try{for(var C=!0,R=md(y),N;N=yield Ct(R.next()),v=N.done,!v;C=!0){A=N.value,C=!1;const M=A,U=OO(yield Ct(M.json()));U.sdkHttpResponse={headers:M.headers};const V=new Jf;Object.assign(V,U),yield yield Ct(V)}}catch(M){E={error:M}}finally{try{!C&&!v&&(w=R.return)&&(yield Ct(w.call(R)))}finally{if(E)throw E.error}}})})}else{const c=MO(this.apiClient,e);return u=we("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(y){return Hu(this,arguments,function*(){var v,E,w,A;try{for(var C=!0,R=md(y),N;N=yield Ct(R.next()),v=N.done,!v;C=!0){A=N.value,C=!1;const M=A,U=DO(yield Ct(M.json()));U.sdkHttpResponse={headers:M.headers};const V=new Jf;Object.assign(V,U),yield yield Ct(V)}}catch(M){E={error:M}}finally{try{!C&&!v&&(w=R.return)&&(yield Ct(w.call(R)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=_pe(this.apiClient,e);return u=we("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),a.then(h=>{const y=Dme(h),v=new uO;return Object.assign(v,y),v})}else{const c=Mhe(this.apiClient,e);return u=we("{model}:batchEmbedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),a.then(h=>{const y=ume(h),v=new uO;return Object.assign(v,y),v})}}async generateImagesInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=Epe(this.apiClient,e);return u=we("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),a.then(h=>{const y=Ome(h),v=new cO;return Object.assign(v,y),v})}else{const c=Dhe(this.apiClient,e);return u=we("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),a.then(h=>{const y=dme(h),v=new cO;return Object.assign(v,y),v})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=Rpe(this.apiClient,e);return o=we("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const c=kme(f),h=new Ale;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=Ppe(this.apiClient,e);return o=we("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const c=Lme(f),h=new ble;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=Ope(this.apiClient,e);return o=we("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const c=Ume(f),h=new Cle;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=Vpe(this.apiClient,e);return o=we("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const c=qme(f),h=new xle;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=Bpe(this.apiClient,e);return u=we("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>SS(h))}else{const c=Ohe(this.apiClient,e);return u=we("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>ES(h))}}async listInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=Fpe(this.apiClient,e);return u=we("{models_url}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),a.then(h=>{const y=zme(h),v=new fO;return Object.assign(v,y),v})}else{const c=Lhe(this.apiClient,e);return u=we("{models_url}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),a.then(h=>{const y=pme(h),v=new fO;return Object.assign(v,y),v})}}async update(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=Hpe(this.apiClient,e);return u=we("{model}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>SS(h))}else{const c=Vhe(this.apiClient,e);return u=we("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>ES(h))}}async delete(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=zpe(this.apiClient,e);return u=we("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),a.then(h=>{const y=Gme(h),v=new dO;return Object.assign(v,y),v})}else{const c=Bhe(this.apiClient,e);return u=we("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),a.then(h=>{const y=mme(h),v=new dO;return Object.assign(v,y),v})}}async countTokens(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=Kpe(this.apiClient,e);return u=we("{model}:countTokens",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),a.then(h=>{const y=Kme(h),v=new hO;return Object.assign(v,y),v})}else{const c=Fhe(this.apiClient,e);return u=we("{model}:countTokens",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),a.then(h=>{const y=gme(h),v=new hO;return Object.assign(v,y),v})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=jpe(this.apiClient,e);return o=we("{model}:computeTokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const c=jme(f),h=new Rle;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=Xpe(this.apiClient,e);return u=we("{model}:predictLongRunning",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>{const y=Xme(h),v=new Mg;return Object.assign(v,y),v})}else{const c=zhe(this.apiClient,e);return u=we("{model}:predictLongRunning",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const y=Tme(h),v=new Mg;return Object.assign(v,y),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cge(t){const e={},n=p(t,["operationName"]);n!=null&&m(e,["_url","operationName"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function xge(t){const e={},n=p(t,["operationName"]);n!=null&&m(e,["operationName"],n);const r=p(t,["resourceName"]);r!=null&&m(e,["_url","resourceName"],r);const i=p(t,["config"]);return i!=null&&m(e,["config"],i),e}function Rge(t){const e={},n=p(t,["operationName"]);n!=null&&m(e,["_url","operationName"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ige extends Ol{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=Rge(e);return u=we("{operationName}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a}else{const c=Cge(e);return u=we("{operationName}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=xge(e);return o=we("{resourceName}:fetchPredictOperation",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pge(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function j3(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],Pge(n)),e}function Mge(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],j3(r)),e}function Nge(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Mge(i))),m(e,["speakerVoiceConfigs"],r)}return e}function Dge(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],j3(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],Nge(r));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function Oge(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function kge(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Lge(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Uge(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Oge(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],kge(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Lge(o));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function Vge(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Uge(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Bge(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const o=p(t,["parameters"]);o!=null&&m(e,["parameters"],o);const a=p(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const f=p(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function qge(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function Fge(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],qge(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function $ge(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function Hge(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],$ge(n)),e}function zge(){return{}}function Gge(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function Kge(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>Bge(c))),m(e,["functionDeclarations"],f)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],Fge(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],Hge(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],zge());const a=p(t,["computerUse"]);a!=null&&m(e,["computerUse"],Gge(a));const u=p(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function jge(t){const e={},n=p(t,["handle"]);if(n!=null&&m(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function qO(){return{}}function Yge(t){const e={},n=p(t,["disabled"]);n!=null&&m(e,["disabled"],n);const r=p(t,["startOfSpeechSensitivity"]);r!=null&&m(e,["startOfSpeechSensitivity"],r);const i=p(t,["endOfSpeechSensitivity"]);i!=null&&m(e,["endOfSpeechSensitivity"],i);const o=p(t,["prefixPaddingMs"]);o!=null&&m(e,["prefixPaddingMs"],o);const a=p(t,["silenceDurationMs"]);return a!=null&&m(e,["silenceDurationMs"],a),e}function Wge(t){const e={},n=p(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],Yge(n));const r=p(t,["activityHandling"]);r!=null&&m(e,["activityHandling"],r);const i=p(t,["turnCoverage"]);return i!=null&&m(e,["turnCoverage"],i),e}function Jge(t){const e={},n=p(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function Xge(t){const e={},n=p(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const r=p(t,["slidingWindow"]);return r!=null&&m(e,["slidingWindow"],Jge(r)),e}function Qge(t){const e={},n=p(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function Zge(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const u=p(t,["topK"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topK"],u);const f=p(t,["maxOutputTokens"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","maxOutputTokens"],f);const c=p(t,["mediaResolution"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","mediaResolution"],c);const h=p(t,["seed"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","seed"],h);const y=p(t,["speechConfig"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","speechConfig"],Dge(vb(y)));const v=p(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],v);const E=p(t,["systemInstruction"]);e!==void 0&&E!=null&&m(e,["setup","systemInstruction"],Vge(Kn(E)));const w=p(t,["tools"]);if(e!==void 0&&w!=null){let V=Ic(w);Array.isArray(V)&&(V=V.map(G=>Kge(Rc(G)))),m(e,["setup","tools"],V)}const A=p(t,["sessionResumption"]);e!==void 0&&A!=null&&m(e,["setup","sessionResumption"],jge(A));const C=p(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&m(e,["setup","inputAudioTranscription"],qO());const R=p(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&m(e,["setup","outputAudioTranscription"],qO());const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&m(e,["setup","realtimeInputConfig"],Wge(N));const M=p(t,["contextWindowCompression"]);e!==void 0&&M!=null&&m(e,["setup","contextWindowCompression"],Xge(M));const U=p(t,["proactivity"]);return e!==void 0&&U!=null&&m(e,["setup","proactivity"],Qge(U)),n}function eye(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],ot(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Zge(i,n)),n}function tye(t,e,n){const r={},i=p(e,["expireTime"]);n!==void 0&&i!=null&&m(n,["expireTime"],i);const o=p(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&m(n,["newSessionExpireTime"],o);const a=p(e,["uses"]);n!==void 0&&a!=null&&m(n,["uses"],a);const u=p(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&m(n,["bidiGenerateContentSetup"],eye(t,u));const f=p(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&m(n,["fieldMask"],f),r}function nye(t,e){const n={},r=p(e,["config"]);return r!=null&&m(n,["config"],tye(t,r,n)),n}function rye(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iye(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function oye(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=iye(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(c=>a.includes(c)?`generationConfig.${c}`:c));const f=[];o&&f.push(o),u.length>0&&f.push(...u),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class sye extends Ol{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=nye(this.apiClient,e);o=we("auth_tokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query;const f=oye(u,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>rye(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aye(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function lye(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function uye(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],lye(n,e)),e}function cye(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function fye(t){const e={},n=p(t,["textInput"]);n!=null&&m(e,["textInput"],n);const r=p(t,["output"]);return r!=null&&m(e,["output"],r),e}function dye(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=p(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>fye(i))),m(e,["examples","examples"],r)}return e}function hye(t,e){const n={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=p(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&m(e,["displayName"],r),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=p(t,["epochCount"]);e!==void 0&&i!=null&&m(e,["tuningTask","hyperparameters","epochCount"],i);const o=p(t,["learningRateMultiplier"]);if(o!=null&&m(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=p(t,["batchSize"]);e!==void 0&&a!=null&&m(e,["tuningTask","hyperparameters","batchSize"],a);const u=p(t,["learningRate"]);return e!==void 0&&u!=null&&m(e,["tuningTask","hyperparameters","learningRate"],u),n}function pye(t){const e={},n=p(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["preTunedModel"]);r!=null&&m(e,["preTunedModel"],r);const i=p(t,["trainingDataset"]);i!=null&&m(e,["tuningTask","trainingData"],dye(i));const o=p(t,["config"]);return o!=null&&m(e,["config"],hye(o,e)),e}function mye(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function gye(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function yye(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],gye(n,e)),e}function vye(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function _ye(t,e){const n={},r=p(t,["gcsUri"]);e!==void 0&&r!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],i),p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function Tye(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&m(n,["validationDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}function Eye(t,e){const n={},r=p(t,["validationDataset"]);e!==void 0&&r!=null&&m(e,["supervisedTuningSpec"],Tye(r,n));const i=p(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&m(e,["tunedModelDisplayName"],i);const o=p(t,["description"]);e!==void 0&&o!=null&&m(e,["description"],o);const a=p(t,["epochCount"]);e!==void 0&&a!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],a);const u=p(t,["learningRateMultiplier"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const f=p(t,["exportLastCheckpointOnly"]);e!==void 0&&f!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const c=p(t,["preTunedModelCheckpointId"]);c!=null&&m(n,["preTunedModel","checkpointId"],c);const h=p(t,["adapterSize"]);if(e!==void 0&&h!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],h),p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function Sye(t){const e={},n=p(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["preTunedModel"]);r!=null&&m(e,["preTunedModel"],r);const i=p(t,["trainingDataset"]);i!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],_ye(i,e));const o=p(t,["config"]);return o!=null&&m(e,["config"],Eye(o,e)),e}function wye(t){const e={},n=p(t,["name"]);n!=null&&m(e,["model"],n);const r=p(t,["name"]);return r!=null&&m(e,["endpoint"],r),e}function Y3(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["state"]);i!=null&&m(e,["state"],S3(i));const o=p(t,["createTime"]);o!=null&&m(e,["createTime"],o);const a=p(t,["tuningTask","startTime"]);a!=null&&m(e,["startTime"],a);const u=p(t,["tuningTask","completeTime"]);u!=null&&m(e,["endTime"],u);const f=p(t,["updateTime"]);f!=null&&m(e,["updateTime"],f);const c=p(t,["description"]);c!=null&&m(e,["description"],c);const h=p(t,["baseModel"]);h!=null&&m(e,["baseModel"],h);const y=p(t,["_self"]);y!=null&&m(e,["tunedModel"],wye(y));const v=p(t,["customBaseModel"]);v!=null&&m(e,["customBaseModel"],v);const E=p(t,["experiment"]);E!=null&&m(e,["experiment"],E);const w=p(t,["labels"]);w!=null&&m(e,["labels"],w);const A=p(t,["outputUri"]);A!=null&&m(e,["outputUri"],A);const C=p(t,["pipelineJob"]);C!=null&&m(e,["pipelineJob"],C);const R=p(t,["serviceAccount"]);R!=null&&m(e,["serviceAccount"],R);const N=p(t,["tunedModelDisplayName"]);return N!=null&&m(e,["tunedModelDisplayName"],N),e}function Aye(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Y3(a))),m(e,["tuningJobs"],o)}return e}function bye(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=p(t,["done"]);o!=null&&m(e,["done"],o);const a=p(t,["error"]);return a!=null&&m(e,["error"],a),e}function Cye(t){const e={},n=p(t,["checkpointId"]);n!=null&&m(e,["checkpointId"],n);const r=p(t,["epoch"]);r!=null&&m(e,["epoch"],r);const i=p(t,["step"]);i!=null&&m(e,["step"],i);const o=p(t,["endpoint"]);return o!=null&&m(e,["endpoint"],o),e}function xye(t){const e={},n=p(t,["model"]);n!=null&&m(e,["model"],n);const r=p(t,["endpoint"]);r!=null&&m(e,["endpoint"],r);const i=p(t,["checkpoints"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Cye(a))),m(e,["checkpoints"],o)}return e}function AS(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["state"]);i!=null&&m(e,["state"],S3(i));const o=p(t,["createTime"]);o!=null&&m(e,["createTime"],o);const a=p(t,["startTime"]);a!=null&&m(e,["startTime"],a);const u=p(t,["endTime"]);u!=null&&m(e,["endTime"],u);const f=p(t,["updateTime"]);f!=null&&m(e,["updateTime"],f);const c=p(t,["error"]);c!=null&&m(e,["error"],c);const h=p(t,["description"]);h!=null&&m(e,["description"],h);const y=p(t,["baseModel"]);y!=null&&m(e,["baseModel"],y);const v=p(t,["tunedModel"]);v!=null&&m(e,["tunedModel"],xye(v));const E=p(t,["preTunedModel"]);E!=null&&m(e,["preTunedModel"],E);const w=p(t,["supervisedTuningSpec"]);w!=null&&m(e,["supervisedTuningSpec"],w);const A=p(t,["tuningDataStats"]);A!=null&&m(e,["tuningDataStats"],A);const C=p(t,["encryptionSpec"]);C!=null&&m(e,["encryptionSpec"],C);const R=p(t,["partnerModelTuningSpec"]);R!=null&&m(e,["partnerModelTuningSpec"],R);const N=p(t,["customBaseModel"]);N!=null&&m(e,["customBaseModel"],N);const M=p(t,["experiment"]);M!=null&&m(e,["experiment"],M);const U=p(t,["labels"]);U!=null&&m(e,["labels"],U);const V=p(t,["outputUri"]);V!=null&&m(e,["outputUri"],V);const G=p(t,["pipelineJob"]);G!=null&&m(e,["pipelineJob"],G);const O=p(t,["serviceAccount"]);O!=null&&m(e,["serviceAccount"],O);const k=p(t,["tunedModelDisplayName"]);return k!=null&&m(e,["tunedModelDisplayName"],k),e}function Rye(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>AS(a))),m(e,["tuningJobs"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Iye extends Ol{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new mh(wl.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel},i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:mS.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=mye(e);return u=we("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),a.then(h=>AS(h))}else{const c=aye(e);return u=we("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),a.then(h=>Y3(h))}}async listInternal(e){var n,r,i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const c=yye(e);return u=we("tuningJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),a.then(h=>{const y=Rye(h),v=new mO;return Object.assign(v,y),v})}else{const c=uye(e);return u=we("tunedModels",c._url),f=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),a.then(h=>{const y=Aye(h),v=new mO;return Object.assign(v,y),v})}}async cancel(e){var n,r,i,o;let a="",u={};if(this.apiClient.isVertexAI()){const f=vye(e);a=we("{name}:cancel",f._url),u=f._query,delete f.config,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=cye(e);a=we("{name}:cancel",f._url),u=f._query,delete f.config,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=Sye(e);return o=we("tuningJobs",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>AS(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=pye(e);return o=we("tunedModels",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>bye(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pye{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Mye=1024*1024*8,Nye=3,Dye=1e3,Oye=2,GT="x-goog-upload-status";async function kye(t,e,n){var r,i,o;let a=0,u=0,f=new gS(new Response),c="upload";for(a=t.size;u<a;){const y=Math.min(Mye,a-u),v=t.slice(u,u+y);u+y>=a&&(c+=", finalize");let E=0,w=Dye;for(;E<Nye&&(f=await n.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(u),"Content-Length":String(y)}}}),!(!((r=f==null?void 0:f.headers)===null||r===void 0)&&r[GT]));)E++,await Uye(w),w=w*Oye;if(u+=y,((i=f==null?void 0:f.headers)===null||i===void 0?void 0:i[GT])!=="active")break;if(a<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(f==null?void 0:f.json());if(((o=f==null?void 0:f.headers)===null||o===void 0?void 0:o[GT])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function Lye(t){return{size:t.size,type:t.type}}function Uye(t){return new Promise(e=>setTimeout(e,t))}class Vye{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kye(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Lye(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bye{create(e,n,r){return new qye(e,n,r)}}class qye{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FO="x-goog-api-key";class Fye{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(FO)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(FO,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $ye="gl-node/";class Hye{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=wle(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new Fye(this.apiKey);this.apiClient=new oge({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:$ye+"web",uploader:new Vye,downloader:new Pye}),this.models=new bge(this.apiClient),this.live=new vge(this.apiClient,i,new Bye),this.batches=new Yue(this.apiClient),this.chats=new efe(this.models,this.apiClient),this.caches=new Xce(this.apiClient),this.files=new hfe(this.apiClient),this.operations=new Ige(this.apiClient),this.authTokens=new sye(this.apiClient),this.tunings=new Iye(this.apiClient)}}const zye="PLACEHOLDER_API_KEY",Gye=new Hye({apiKey:zye}),Kye=async t=>{try{const e=await Gye.models.generateImages({model:"imagen-4.0-generate-001",prompt:`Futuristic, dark, dystopian, gritty, mysterious, quest item. ${t}`,config:{numberOfImages:1,outputMimeType:"image/jpeg",aspectRatio:"16:9"}});if(e.generatedImages&&e.generatedImages.length>0)return`data:image/jpeg;base64,${e.generatedImages[0].image.imageBytes}`;throw new Error("No image was generated by the API.")}catch(e){throw console.error("Error generating image with Gemini API:",e),e instanceof Error?new Error(`Failed to generate image: ${e.message}`):new Error("An unknown error occurred while generating the image.")}},jye=()=>q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:q.jsx("path",{d:"M17 3H5a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2zm-3 12H8v-4h6v4zm2-6H5V5h12v4z"})}),Yye=()=>q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),W3=()=>q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-stone-400 hover:text-red-500 transition-colors",viewBox:"0 0 20 20",fill:"currentColor",children:q.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),Wye=()=>q.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-stone-400 hover:text-amber-400 transition-colors",viewBox:"0 0 20 20",fill:"currentColor",children:[q.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),q.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),Jye=()=>q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:q.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),bS=({nodeId:t,dsl:e,selectedNodeId:n,renamingNodeId:r,renamingValue:i,setRenamingValue:o,onSelectNode:a,onStartRename:u,onFinishRename:f,onDeleteNode:c,level:h=0,visited:y})=>{const v=e.nodes[t];if(!v||y.has(t))return null;y.add(t);const E=()=>{f(t,i)},w=(v.choices||[]).map(A=>A.to).concat((v.branch||[]).map(A=>A.to)).concat(v.fallback?[v.fallback]:[]).filter((A,C,R)=>A&&e.nodes[A]&&R.indexOf(A)===C);return q.jsxs("div",{className:"relative",children:[h>0&&q.jsx("div",{className:"absolute top-0 left-[-11px] h-full w-px bg-stone-600"}),h>0&&q.jsx("div",{className:"absolute top-4 left-[-11px] w-3 h-px bg-stone-600"}),q.jsx("div",{className:`pl-${h*4}`,children:q.jsxs("div",{className:`flex items-center justify-between p-2 rounded-md transition-colors group ${n===t?"bg-amber-500":"bg-stone-700 hover:bg-stone-600"}`,children:[r===t?q.jsx("input",{type:"text",value:i,onChange:A=>o(A.target.value),onBlur:E,onKeyDown:A=>A.key==="Enter"&&E(),className:"bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-2 py-1 text-sm w-full",autoFocus:!0}):q.jsx("button",{onClick:()=>a(t),className:`w-full text-left font-mono text-sm ${n===t?"text-stone-900 font-bold":""}`,children:t}),t!=="start"&&r!==t&&q.jsxs("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity",children:[q.jsx("button",{onClick:()=>u(t),className:"p-1",children:q.jsx(Wye,{})}),q.jsx("button",{onClick:()=>c(t),className:"p-1",children:q.jsx(W3,{})})]})]})}),q.jsx("div",{className:"mt-1",children:w.map(A=>q.jsx(bS,{nodeId:A,dsl:e,selectedNodeId:n,renamingNodeId:r,renamingValue:i,setRenamingValue:o,onSelectNode:a,onStartRename:u,onFinishRename:f,onDeleteNode:c,level:h+1,visited:y},A))})]})},Xye=()=>{var Ae,Ie,Ne,Ot,rt;const{questId:t}=QO(),e=IS(),[n,r]=P.useState(null),[i,o]=P.useState(null),[a,u]=P.useState("start"),[f,c]=P.useState(!0),[h,y]=P.useState(!1),[v,E]=P.useState(""),[w,A]=P.useState(null),[C,R]=P.useState({}),[N,M]=P.useState(null),[U,V]=P.useState(""),G=P.useRef(!1),O=P.useCallback((Z,he=!1)=>{o(Z),he||(G.current=!0)},[]);P.useEffect(()=>{if(!t){E("  ."),c(!1);return}c(!0);const Z=Qs(ar,"games",t),he=wE(Z,ge=>{if(ge.exists()){const re={id:ge.id,...ge.data()};r(re),G.current||O(JSON.parse(JSON.stringify(re.dsl)),!0)}else E("  .");c(!1)},ge=>{console.error(ge),E("  ."),c(!1)});return()=>he()},[t,O]);const k=async()=>{if(!(!t||!i)){y(!0);try{await Nw(Qs(ar,"games",t),{title:i.meta.title,dsl:i,updatedAt:fd()}),A(new Date),G.current=!1}catch(Z){console.error(Z),alert("   .")}finally{y(!1)}}},D=(Z,he,ge)=>{if(!i)return;const re={...i,nodes:{...i.nodes}};re.nodes[Z]={...re.nodes[Z],[he]:ge},O(re)},$=(Z,he,ge,re)=>{if(!i)return;const Pe={...i,nodes:{...i.nodes}},Fe=[...Pe.nodes[Z].choices||[]];Fe[he]={...Fe[he],[ge]:re},Pe.nodes[Z]={...Pe.nodes[Z],choices:Fe},O(Pe)},F=(Z,he,ge)=>{var re,Pe,Fe,ht,kt,bt,Yn,Ci,so;if(i)if(ge==="__CREATE_NEW__"){const Wn=prompt(" ID   (,  ):");if(Wn&&/^[a-zA-Z0-9_]+$/.test(Wn)){if(i.nodes[Wn]){alert("   ID  .");const ss=document.getElementById(`choice-to-${he}`);ss&&(ss.value=((Fe=(Pe=(re=i.nodes[Z])==null?void 0:re.choices)==null?void 0:Pe[he])==null?void 0:Fe.to)||"");return}const Jn={...i,nodes:{...i.nodes}};Jn.nodes[Wn]={text:" ..."};const xi=[...Jn.nodes[Z].choices||[]];xi[he]={...xi[he],to:Wn},Jn.nodes[Z]={...Jn.nodes[Z],choices:xi},O(Jn),u(Wn)}else if(Wn){alert("  ID.    ,   .");const Jn=document.getElementById(`choice-to-${he}`);Jn&&(Jn.value=((bt=(kt=(ht=i.nodes[Z])==null?void 0:ht.choices)==null?void 0:kt[he])==null?void 0:bt.to)||"")}else{const Jn=document.getElementById(`choice-to-${he}`);Jn&&(Jn.value=((so=(Ci=(Yn=i.nodes[Z])==null?void 0:Yn.choices)==null?void 0:Ci[he])==null?void 0:so.to)||"")}}else $(Z,he,"to",ge)},z=Z=>{if(!i)return;const he={...i,nodes:{...i.nodes}},ge=[...he.nodes[Z].choices||[]];ge.push({label:"",to:""}),he.nodes[Z]={...he.nodes[Z],choices:ge},O(he)},H=(Z,he)=>{if(!i||!window.confirm(" ,     ?"))return;const ge={...i,nodes:{...i.nodes}},re=[...ge.nodes[Z].choices||[]];re.splice(he,1),ge.nodes[Z]={...ge.nodes[Z],choices:re},O(ge)},Me=()=>{if(!i)return;const Z=prompt(" ID   (,  ):");if(Z&&/^[a-zA-Z0-9_]+$/.test(Z)){if(i.nodes[Z]){alert("   ID  .");return}const he={...i,nodes:{...i.nodes}};he.nodes[Z]={text:" ..."},O(he),u(Z)}else Z&&alert("  ID.    ,   .")},be=(Z,he)=>{if(!i||!he||he===Z||Z==="start")return;if(!/^[a-zA-Z0-9_]+$/.test(he)){alert("  ID.    ,   .");return}if(i.nodes[he]){alert("   ID  .");return}const ge=JSON.parse(JSON.stringify(i));ge.nodes[he]=ge.nodes[Z],delete ge.nodes[Z],Object.values(ge.nodes).forEach(re=>{re.choices&&re.choices.forEach(Pe=>{Pe.to===Z&&(Pe.to=he)}),re.branch&&re.branch.forEach(Pe=>{Pe.to===Z&&(Pe.to=he)}),re.fallback===Z&&(re.fallback=he)}),O(ge),a===Z&&u(he)},ne=Z=>{M(Z),V(Z)},pe=(Z,he)=>{he.trim()&&he.trim()!==Z&&be(Z,he.trim()),M(null),V("")},_e=Z=>{if(!i||Z==="start"||!window.confirm(` ,     "${Z}"?   .`))return;const he=[];if(Object.entries(i.nodes).forEach(([re,Pe])=>{if(re===Z)return;((Pe.choices||[]).some(ht=>ht.to===Z)||(Pe.branch||[]).some(ht=>ht.to===Z)||Pe.fallback===Z)&&he.push(re)}),he.length>0&&!window.confirm(`!      : ${he.join(", ")}.    . ?`))return;const ge=JSON.parse(JSON.stringify(i));delete ge.nodes[Z],Object.values(ge.nodes).forEach(re=>{re.choices&&(re.choices=re.choices.map(Pe=>Pe.to===Z?{...Pe,to:""}:Pe)),re.branch&&(re.branch=re.branch.filter(Pe=>Pe.to!==Z)),re.fallback===Z&&(re.fallback=void 0)}),a===Z&&u("start"),O(ge)},Le=async Z=>{var ge;if(!i||!t)return;const he=(ge=document.getElementById(`image-prompt-${Z}`))==null?void 0:ge.value;if(!he){alert(",     .");return}R(re=>({...re,[Z]:{loading:!0,error:""}}));try{const re=await Kye(he),Pe=`${Z}_${Date.now()}`,Fe=EK(xK,`quests/${t}/images/${Pe}.jpeg`),ht=re.split(",")[1],kt=await _K(Fe,ht,"base64",{contentType:"image/jpeg"}),bt=await TK(kt.ref),Yn=JSON.parse(JSON.stringify(i));Yn.assets.images||(Yn.assets.images={}),Yn.assets.images[Pe]=bt,Yn.nodes[Z].bg=Pe,O(Yn),R(Ci=>({...Ci,[Z]:{loading:!1,error:""}}))}catch(re){R(Pe=>({...Pe,[Z]:{loading:!1,error:re.message||"   "}}))}};if(f)return q.jsx("div",{className:"text-center p-8 font-display text-2xl text-stone-400 animate-pulse",children:" ..."});if(v)return q.jsx("div",{className:"text-center p-8 text-2xl text-red-500",children:v});if(!n||!i)return null;const j=i.nodes[a],ce=new Set,se=Object.keys(i.nodes),me=se.includes("start")?"start":se[0]||null;return q.jsxs("div",{className:"container mx-auto py-8 px-4",children:[q.jsxs("div",{className:"flex justify-between items-center mb-6",children:[q.jsxs("div",{className:"flex items-center gap-4 flex-grow min-w-0",children:[q.jsx("button",{onClick:()=>e("/admin"),className:"bg-stone-700 hover:bg-stone-600 text-stone-200 font-semibold py-2 px-4 rounded-md transition-colors flex-shrink-0",children:" "}),q.jsx("input",{type:"text",value:i.meta.title,onChange:Z=>O({...i,meta:{...i.meta,title:Z.target.value}}),className:"font-display text-4xl text-stone-200 bg-transparent border-0 focus:ring-2 focus:ring-amber-500 rounded-md p-1 truncate"})]}),q.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[w&&q.jsxs("span",{className:"text-sm text-stone-400",children:[": ",w.toLocaleTimeString()]}),q.jsxs("button",{onClick:k,disabled:h,className:"flex items-center justify-center font-display text-xl bg-amber-500 text-stone-900 py-2 px-6 rounded-md hover:bg-amber-400 transition-colors disabled:bg-stone-600 disabled:cursor-not-allowed",children:[q.jsx(jye,{})," ",h?"...":""]})]})]}),q.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[q.jsxs("div",{className:"md:col-span-1 bg-stone-800/50 border border-stone-700 p-4 rounded-md flex flex-col h-full max-h-[75vh]",children:[q.jsx("h3",{className:"font-display text-2xl text-amber-400 mb-4 flex-shrink-0",children:" "}),q.jsxs("div",{className:"flex-grow overflow-y-auto space-y-1 pr-2",children:[me&&i.nodes[me]&&q.jsx(bS,{nodeId:me,dsl:i,selectedNodeId:a,onSelectNode:u,onStartRename:ne,onFinishRename:pe,onDeleteNode:_e,renamingNodeId:N,renamingValue:U,setRenamingValue:V,visited:ce}),se.filter(Z=>!ce.has(Z)).map(Z=>q.jsx(bS,{nodeId:Z,dsl:i,selectedNodeId:a,onSelectNode:u,onStartRename:ne,onFinishRename:pe,onDeleteNode:_e,renamingNodeId:N,renamingValue:U,setRenamingValue:V,visited:ce},Z))]}),q.jsxs("button",{onClick:Me,className:"mt-4 w-full flex items-center justify-center bg-stone-600 hover:bg-stone-500 text-stone-200 font-semibold py-2 px-4 rounded-md transition-colors flex-shrink-0",children:[q.jsx(Jye,{}),"  "]})]}),q.jsx("div",{className:"md:col-span-3 bg-stone-800/50 border border-stone-700 p-6 rounded-md space-y-6 max-h-[75vh] overflow-y-auto",children:j?q.jsxs("div",{children:[q.jsxs("h3",{className:"font-display text-3xl text-stone-100 mb-4 border-b-2 border-amber-500 pb-2",children:[": ",q.jsx("span",{className:"text-amber-400",children:a})]}),q.jsxs("div",{children:[q.jsx("label",{htmlFor:"nodeText",className:"text-sm font-bold text-stone-400 block mb-1",children:" :"}),q.jsx("textarea",{id:"nodeText",value:j.text,onChange:Z=>D(a,"text",Z.target.value),className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all h-40 resize-y"})]}),q.jsxs("div",{className:"space-y-2",children:[q.jsx("label",{className:"text-sm font-bold text-stone-400 block",children:"  (AI):"}),q.jsxs("div",{className:"aspect-video bg-stone-900 rounded-md overflow-hidden relative flex items-center justify-center",children:[i.assets.images[j.bg||""]?q.jsx("img",{src:i.assets.images[j.bg||""],alt:"Generated background",className:"w-full h-full object-cover"}):q.jsx("span",{className:"text-stone-500",children:" "}),((Ae=C[a])==null?void 0:Ae.loading)&&q.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:q.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-500"})})]}),q.jsxs("div",{className:"flex gap-2",children:[q.jsx("input",{id:`image-prompt-${a}`,type:"text",placeholder:" ... ( )",className:"flex-grow bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),q.jsxs("button",{onClick:()=>Le(a),disabled:(Ie=C[a])==null?void 0:Ie.loading,className:"flex items-center justify-center font-display text-lg bg-sky-600 text-white py-2 px-4 rounded-md hover:bg-sky-500 transition-colors disabled:bg-stone-600",children:[q.jsx(Yye,{})," ",(Ne=C[a])!=null&&Ne.loading?"...":""]})]}),((Ot=C[a])==null?void 0:Ot.error)&&q.jsx("p",{className:"text-red-500 text-sm mt-1",children:(rt=C[a])==null?void 0:rt.error})]}),q.jsxs("div",{children:[q.jsx("h4",{className:"text-lg font-bold text-stone-300 mt-6 mb-2",children:":"}),q.jsxs("div",{className:"space-y-2",children:[(j.choices||[]).map((Z,he)=>q.jsxs("div",{className:"flex gap-2 items-center bg-stone-900/50 p-2 rounded",children:[q.jsx("input",{type:"text",value:Z.label,onChange:ge=>$(a,he,"label",ge.target.value),placeholder:" ",className:"flex-grow bg-stone-700 text-stone-200 border border-stone-600 rounded px-2 py-1 focus:ring-1 focus:ring-amber-500 outline-none"}),q.jsx("span",{className:"text-stone-400",children:""}),q.jsxs("select",{id:`choice-to-${he}`,value:Z.to||"",onChange:ge=>F(a,he,ge.target.value),className:"w-48 bg-stone-700 text-stone-200 border border-stone-600 rounded px-2 py-1 focus:ring-1 focus:ring-amber-500 outline-none",children:[q.jsx("option",{value:"",disabled:!0,children:" ..."}),q.jsx("option",{value:"__CREATE_NEW__",className:"text-sky-400 font-semibold",children:"[   ... ]"}),se.map(ge=>q.jsx("option",{value:ge,children:ge},ge))]}),q.jsx("button",{onClick:()=>H(a,he),title:" ",children:q.jsx(W3,{})})]},he)),q.jsx("button",{onClick:()=>z(a),className:"w-full text-stone-300 hover:bg-stone-700 p-2 rounded-md transition-colors text-sm font-semibold",children:"+  "})]})]})]}):q.jsx("p",{className:"text-stone-400",children:"   "})})]})]})},Qye=()=>q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:q.jsx("path",{fillRule:"evenodd",d:"M10 2a4 4 0 00-4 4v4H4a2 2 0 00-2 2v6a2 2 0 002 2h12a2 2 0 002-2v-6a2 2 0 00-2-2h-2V6a4 4 0 00-4-4zm-2 6V6a2 2 0 114 0v4H8z",clipRule:"evenodd"})}),KT=()=>{const[t,e]=P.useState(""),[n,r]=P.useState(""),[i,o]=P.useState(""),a=async u=>{u.preventDefault(),o("");try{await B$(hd,t,n)}catch(f){o(" .    ."),console.error(f)}};return q.jsx("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:q.jsxs("div",{className:"w-full max-w-sm p-8 bg-stone-800/50 border border-stone-700 rounded-md shadow-lg",children:[q.jsx("h2",{className:"font-display text-3xl text-center text-stone-200 mb-6 tracking-wider",children:"  "}),q.jsxs("form",{onSubmit:a,className:"space-y-4",children:[q.jsx("input",{type:"email",value:t,onChange:u=>e(u.target.value),placeholder:"Email",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all","aria-label":"Email",required:!0}),q.jsx("input",{type:"password",value:n,onChange:u=>r(u.target.value),placeholder:"",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all","aria-label":"Password",required:!0}),q.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center font-display text-xl bg-amber-500 text-stone-900 py-2 rounded-md hover:bg-amber-400 transition-colors",children:[q.jsx(Qye,{}),""]}),i&&q.jsx("p",{className:"text-red-500 text-center text-sm mt-4",children:i})]})]})})},Zye=()=>q.jsx("header",{className:"bg-black/50 border-b-2 border-amber-500/50 p-4 sticky top-0 z-20 backdrop-blur-sm",children:q.jsxs("div",{className:"container mx-auto text-center",children:[q.jsx("a",{href:"/#",className:"font-display text-4xl md:text-5xl text-amber-400 tracking-widest no-underline",children:"B_KOMHATE"}),q.jsx("p",{className:"text-stone-400 text-sm tracking-wider",children:"QUEST & CODEWORD PLATFORM"})]})}),$O=()=>q.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center p-4",children:[q.jsx("h2",{className:"font-display text-6xl text-red-500",children:"404"}),q.jsx("p",{className:"text-stone-300 text-xl mt-2",children:"  ."}),q.jsx("a",{href:"/#/admin",className:"text-amber-400 hover:text-amber-300 mt-4",children:"   "})]}),eve=()=>{const{currentUser:t,loading:e}=RK();return ro(),e?q.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:q.jsx("p",{className:"font-display text-2xl text-stone-400 animate-pulse",children:" ..."})}):t?q.jsxs(z1,{children:[q.jsx(wr,{path:"/admin",element:q.jsx(gle,{})}),q.jsx(wr,{path:"/admin/quest/:questId",element:q.jsx(Xye,{})}),q.jsx(wr,{path:"/",element:q.jsx(wF,{to:"/admin",replace:!0})}),q.jsx(wr,{path:"/view",element:q.jsx(_D,{})}),q.jsx(wr,{path:"/play/:questId",element:q.jsx(TD,{})}),q.jsx(wr,{path:"*",element:q.jsx($O,{})})]}):q.jsxs(z1,{children:[q.jsx(wr,{path:"/view",element:q.jsx(_D,{})}),q.jsx(wr,{path:"/play/:questId",element:q.jsx(TD,{})}),q.jsx(wr,{path:"/admin",element:q.jsx(KT,{})}),q.jsx(wr,{path:"/admin/*",element:q.jsx(KT,{})}),q.jsx(wr,{path:"/",element:q.jsx(KT,{})}),q.jsx(wr,{path:"*",element:q.jsx($O,{})})]})},tve=()=>q.jsx("div",{className:"min-h-screen",children:q.jsx(IK,{children:q.jsxs(jF,{children:[q.jsx(Zye,{}),q.jsx("main",{children:q.jsx(eve,{})})]})})}),J3=document.getElementById("root");if(!J3)throw new Error("Could not find root element to mount to");const nve=Oq.createRoot(J3);nve.render(q.jsx(HO.StrictMode,{children:q.jsx(tve,{})}));
