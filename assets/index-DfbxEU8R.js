var pF=Object.defineProperty;var mF=(t,e,n)=>e in t?pF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var L0=(t,e,n)=>mF(t,typeof e!="symbol"?e+"":e,n);function gF(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function co(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var V0={exports:{}},Uf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1;function yF(){if(S1)return Uf;S1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var a=null;if(o!==void 0&&(a=""+o),i.key!==void 0&&(a=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:o}}return Uf.Fragment=e,Uf.jsx=n,Uf.jsxs=n,Uf}var w1;function vF(){return w1||(w1=1,V0.exports=yF()),V0.exports}var L=vF(),U0={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b1;function _F(){if(b1)return Ye;b1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function _(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function C(j,ue,ie){this.props=j,this.context=ue,this.refs=b,this.updater=ie||E}C.prototype.isReactComponent={},C.prototype.setState=function(j,ue){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ue,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function P(){}P.prototype=C.prototype;function N(j,ue,ie){this.props=j,this.context=ue,this.refs=b,this.updater=ie||E}var D=N.prototype=new P;D.constructor=N,w(D,C.prototype),D.isPureReactComponent=!0;var U=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function k(j,ue,ie,pe,Ne,ke){return ie=ke.ref,{$$typeof:t,type:j,key:ue,ref:ie!==void 0?ie:null,props:ke}}function O(j,ue){return k(j.type,ue,void 0,void 0,void 0,j.props)}function M(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function q(j){var ue={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ie){return ue[ie]})}var F=/\/+/g;function z(j,ue){return typeof j=="object"&&j!==null&&j.key!=null?q(""+j.key):ue.toString(36)}function H(){}function Ee(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(H,H):(j.status="pending",j.then(function(ue){j.status==="pending"&&(j.status="fulfilled",j.value=ue)},function(ue){j.status==="pending"&&(j.status="rejected",j.reason=ue)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function xe(j,ue,ie,pe,Ne){var ke=typeof j;(ke==="undefined"||ke==="boolean")&&(j=null);var Ue=!1;if(j===null)Ue=!0;else switch(ke){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(j.$$typeof){case t:case e:Ue=!0;break;case p:return Ue=j._init,xe(Ue(j._payload),ue,ie,pe,Ne)}}if(Ue)return Ne=Ne(j),Ue=pe===""?"."+z(j,0):pe,U(Ne)?(ie="",Ue!=null&&(ie=Ue.replace(F,"$&/")+"/"),xe(Ne,ue,ie,"",function(ve){return ve})):Ne!=null&&(M(Ne)&&(Ne=O(Ne,ie+(Ne.key==null||j&&j.key===Ne.key?"":(""+Ne.key).replace(F,"$&/")+"/")+Ue)),ue.push(Ne)),1;Ue=0;var Gt=pe===""?".":pe+":";if(U(j))for(var ut=0;ut<j.length;ut++)pe=j[ut],ke=Gt+z(pe,ut),Ue+=xe(pe,ue,ie,ke,Ne);else if(ut=_(j),typeof ut=="function")for(j=ut.call(j),ut=0;!(pe=j.next()).done;)pe=pe.value,ke=Gt+z(pe,ut++),Ue+=xe(pe,ue,ie,ke,Ne);else if(ke==="object"){if(typeof j.then=="function")return xe(Ee(j),ue,ie,pe,Ne);throw ue=String(j),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function Z(j,ue,ie){if(j==null)return j;var pe=[],Ne=0;return xe(j,pe,"","",function(ke){return ue.call(ie,ke,Ne++)}),pe}function de(j){if(j._status===-1){var ue=j._result;ue=ue(),ue.then(function(ie){(j._status===0||j._status===-1)&&(j._status=1,j._result=ie)},function(ie){(j._status===0||j._status===-1)&&(j._status=2,j._result=ie)}),j._status===-1&&(j._status=0,j._result=ue)}if(j._status===1)return j._result.default;throw j._result}var ye=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function Me(){}return Ye.Children={map:Z,forEach:function(j,ue,ie){Z(j,function(){ue.apply(this,arguments)},ie)},count:function(j){var ue=0;return Z(j,function(){ue++}),ue},toArray:function(j){return Z(j,function(ue){return ue})||[]},only:function(j){if(!M(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ye.Component=C,Ye.Fragment=n,Ye.Profiler=i,Ye.PureComponent=N,Ye.StrictMode=r,Ye.Suspense=c,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(j){return $.H.useMemoCache(j)}},Ye.cache=function(j){return function(){return j.apply(null,arguments)}},Ye.cloneElement=function(j,ue,ie){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var pe=w({},j.props),Ne=j.key,ke=void 0;if(ue!=null)for(Ue in ue.ref!==void 0&&(ke=void 0),ue.key!==void 0&&(Ne=""+ue.key),ue)!G.call(ue,Ue)||Ue==="key"||Ue==="__self"||Ue==="__source"||Ue==="ref"&&ue.ref===void 0||(pe[Ue]=ue[Ue]);var Ue=arguments.length-2;if(Ue===1)pe.children=ie;else if(1<Ue){for(var Gt=Array(Ue),ut=0;ut<Ue;ut++)Gt[ut]=arguments[ut+2];pe.children=Gt}return k(j.type,Ne,void 0,void 0,ke,pe)},Ye.createContext=function(j){return j={$$typeof:a,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},Ye.createElement=function(j,ue,ie){var pe,Ne={},ke=null;if(ue!=null)for(pe in ue.key!==void 0&&(ke=""+ue.key),ue)G.call(ue,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(Ne[pe]=ue[pe]);var Ue=arguments.length-2;if(Ue===1)Ne.children=ie;else if(1<Ue){for(var Gt=Array(Ue),ut=0;ut<Ue;ut++)Gt[ut]=arguments[ut+2];Ne.children=Gt}if(j&&j.defaultProps)for(pe in Ue=j.defaultProps,Ue)Ne[pe]===void 0&&(Ne[pe]=Ue[pe]);return k(j,ke,void 0,void 0,null,Ne)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(j){return{$$typeof:u,render:j}},Ye.isValidElement=M,Ye.lazy=function(j){return{$$typeof:p,_payload:{_status:-1,_result:j},_init:de}},Ye.memo=function(j,ue){return{$$typeof:d,type:j,compare:ue===void 0?null:ue}},Ye.startTransition=function(j){var ue=$.T,ie={};$.T=ie;try{var pe=j(),Ne=$.S;Ne!==null&&Ne(ie,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(Me,ye)}catch(ke){ye(ke)}finally{$.T=ue}},Ye.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Ye.use=function(j){return $.H.use(j)},Ye.useActionState=function(j,ue,ie){return $.H.useActionState(j,ue,ie)},Ye.useCallback=function(j,ue){return $.H.useCallback(j,ue)},Ye.useContext=function(j){return $.H.useContext(j)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(j,ue){return $.H.useDeferredValue(j,ue)},Ye.useEffect=function(j,ue,ie){var pe=$.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return pe.useEffect(j,ue)},Ye.useId=function(){return $.H.useId()},Ye.useImperativeHandle=function(j,ue,ie){return $.H.useImperativeHandle(j,ue,ie)},Ye.useInsertionEffect=function(j,ue){return $.H.useInsertionEffect(j,ue)},Ye.useLayoutEffect=function(j,ue){return $.H.useLayoutEffect(j,ue)},Ye.useMemo=function(j,ue){return $.H.useMemo(j,ue)},Ye.useOptimistic=function(j,ue){return $.H.useOptimistic(j,ue)},Ye.useReducer=function(j,ue,ie){return $.H.useReducer(j,ue,ie)},Ye.useRef=function(j){return $.H.useRef(j)},Ye.useState=function(j){return $.H.useState(j)},Ye.useSyncExternalStore=function(j,ue,ie){return $.H.useSyncExternalStore(j,ue,ie)},Ye.useTransition=function(){return $.H.useTransition()},Ye.version="19.1.1",Ye}var A1;function uc(){return A1||(A1=1,U0.exports=_F()),U0.exports}var R=uc();const D2=co(R),TF=gF({__proto__:null,default:D2},[R]);var B0={exports:{}},Bf={},F0={exports:{}},q0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C1;function EF(){return C1||(C1=1,(function(t){function e(Z,de){var ye=Z.length;Z.push(de);e:for(;0<ye;){var Me=ye-1>>>1,j=Z[Me];if(0<i(j,de))Z[Me]=de,Z[ye]=j,ye=Me;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var de=Z[0],ye=Z.pop();if(ye!==de){Z[0]=ye;e:for(var Me=0,j=Z.length,ue=j>>>1;Me<ue;){var ie=2*(Me+1)-1,pe=Z[ie],Ne=ie+1,ke=Z[Ne];if(0>i(pe,ye))Ne<j&&0>i(ke,pe)?(Z[Me]=ke,Z[Ne]=ye,Me=Ne):(Z[Me]=pe,Z[ie]=ye,Me=ie);else if(Ne<j&&0>i(ke,ye))Z[Me]=ke,Z[Ne]=ye,Me=Ne;else break e}}return de}function i(Z,de){var ye=Z.sortIndex-de.sortIndex;return ye!==0?ye:Z.id-de.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],d=[],p=1,y=null,_=3,E=!1,w=!1,b=!1,C=!1,P=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function U(Z){for(var de=n(d);de!==null;){if(de.callback===null)r(d);else if(de.startTime<=Z)r(d),de.sortIndex=de.expirationTime,e(c,de);else break;de=n(d)}}function $(Z){if(b=!1,U(Z),!w)if(n(c)!==null)w=!0,G||(G=!0,z());else{var de=n(d);de!==null&&xe($,de.startTime-Z)}}var G=!1,k=-1,O=5,M=-1;function q(){return C?!0:!(t.unstable_now()-M<O)}function F(){if(C=!1,G){var Z=t.unstable_now();M=Z;var de=!0;try{e:{w=!1,b&&(b=!1,N(k),k=-1),E=!0;var ye=_;try{t:{for(U(Z),y=n(c);y!==null&&!(y.expirationTime>Z&&q());){var Me=y.callback;if(typeof Me=="function"){y.callback=null,_=y.priorityLevel;var j=Me(y.expirationTime<=Z);if(Z=t.unstable_now(),typeof j=="function"){y.callback=j,U(Z),de=!0;break t}y===n(c)&&r(c),U(Z)}else r(c);y=n(c)}if(y!==null)de=!0;else{var ue=n(d);ue!==null&&xe($,ue.startTime-Z),de=!1}}break e}finally{y=null,_=ye,E=!1}de=void 0}}finally{de?z():G=!1}}}var z;if(typeof D=="function")z=function(){D(F)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Ee=H.port2;H.port1.onmessage=F,z=function(){Ee.postMessage(null)}}else z=function(){P(F,0)};function xe(Z,de){k=P(function(){Z(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(Z){switch(_){case 1:case 2:case 3:var de=3;break;default:de=_}var ye=_;_=de;try{return Z()}finally{_=ye}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(Z,de){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ye=_;_=Z;try{return de()}finally{_=ye}},t.unstable_scheduleCallback=function(Z,de,ye){var Me=t.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Me+ye:Me):ye=Me,Z){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ye+j,Z={id:p++,callback:de,priorityLevel:Z,startTime:ye,expirationTime:j,sortIndex:-1},ye>Me?(Z.sortIndex=ye,e(d,Z),n(c)===null&&Z===n(d)&&(b?(N(k),k=-1):b=!0,xe($,ye-Me))):(Z.sortIndex=j,e(c,Z),w||E||(w=!0,G||(G=!0,z()))),Z},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(Z){var de=_;return function(){var ye=_;_=de;try{return Z.apply(this,arguments)}finally{_=ye}}}})(q0)),q0}var x1;function SF(){return x1||(x1=1,F0.exports=EF()),F0.exports}var $0={exports:{}},Wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R1;function wF(){if(R1)return Wn;R1=1;var t=uc();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(c,d,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:c,containerInfo:d,implementation:p}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wn.createPortal=function(c,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(c,d,null,p)},Wn.flushSync=function(c){var d=a.T,p=r.p;try{if(a.T=null,r.p=2,c)return c()}finally{a.T=d,r.p=p,r.d.f()}},Wn.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},Wn.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Wn.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var p=d.as,y=u(p,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:E}):p==="script"&&r.d.X(c,{crossOrigin:y,integrity:_,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Wn.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=u(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},Wn.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,y=u(p,d.crossOrigin);r.d.L(c,p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Wn.preloadModule=function(c,d){if(typeof c=="string")if(d){var p=u(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},Wn.requestFormReset=function(c){r.d.r(c)},Wn.unstable_batchedUpdates=function(c,d){return c(d)},Wn.useFormState=function(c,d,p){return a.H.useFormState(c,d,p)},Wn.useFormStatus=function(){return a.H.useHostTransitionStatus()},Wn.version="19.1.1",Wn}var I1;function k2(){if(I1)return $0.exports;I1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$0.exports=wF(),$0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1;function bF(){if(P1)return Bf;P1=1;var t=SF(),e=uc(),n=k2();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var l=s,f=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(f=l.return),s=l.return;while(s)}return l.tag===3?f:null}function a(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(o(s)!==s)throw Error(r(188))}function c(s){var l=s.alternate;if(!l){if(l=o(s),l===null)throw Error(r(188));return l!==s?null:s}for(var f=s,g=l;;){var T=f.return;if(T===null)break;var S=T.alternate;if(S===null){if(g=T.return,g!==null){f=g;continue}break}if(T.child===S.child){for(S=T.child;S;){if(S===f)return u(T),s;if(S===g)return u(T),l;S=S.sibling}throw Error(r(188))}if(f.return!==g.return)f=T,g=S;else{for(var I=!1,V=T.child;V;){if(V===f){I=!0,f=T,g=S;break}if(V===g){I=!0,g=T,f=S;break}V=V.sibling}if(!I){for(V=S.child;V;){if(V===f){I=!0,f=S,g=T;break}if(V===g){I=!0,g=S,f=T;break}V=V.sibling}if(!I)throw Error(r(189))}}if(f.alternate!==g)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?s:l}function d(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=d(s),l!==null)return l;s=s.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),D=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var H=Symbol.for("react.client.reference");function Ee(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===H?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case C:return"Profiler";case b:return"StrictMode";case $:return"Suspense";case G:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case D:return(s.displayName||"Context")+".Provider";case N:return(s._context.displayName||"Context")+".Consumer";case U:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case k:return l=s.displayName||null,l!==null?l:Ee(s.type)||"Memo";case O:l=s._payload,s=s._init;try{return Ee(s(l))}catch{}}return null}var xe=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Me=[],j=-1;function ue(s){return{current:s}}function ie(s){0>j||(s.current=Me[j],Me[j]=null,j--)}function pe(s,l){j++,Me[j]=s.current,s.current=l}var Ne=ue(null),ke=ue(null),Ue=ue(null),Gt=ue(null);function ut(s,l){switch(pe(Ue,l),pe(ke,s),pe(Ne,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?Jx(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=Jx(l),s=Xx(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ie(Ne),pe(Ne,s)}function ve(){ie(Ne),ie(ke),ie(Ue)}function Se(s){s.memoizedState!==null&&pe(Gt,s);var l=Ne.current,f=Xx(l,s.type);l!==f&&(pe(ke,s),pe(Ne,f))}function He(s){ke.current===s&&(ie(Ne),ie(ke)),Gt.current===s&&(ie(Gt),Df._currentValue=ye)}var he=Object.prototype.hasOwnProperty,It=t.unstable_scheduleCallback,Ze=t.unstable_cancelCallback,Kt=t.unstable_shouldYield,Xt=t.unstable_requestPaint,$t=t.unstable_now,po=t.unstable_getCurrentPriorityLevel,oe=t.unstable_ImmediatePriority,me=t.unstable_UserBlockingPriority,we=t.unstable_NormalPriority,Te=t.unstable_LowPriority,be=t.unstable_IdlePriority,ze=t.log,gt=t.unstable_setDisableYieldValue,We=null,Re=null;function Xe(s){if(typeof ze=="function"&&gt(s),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(We,s)}catch{}}var Ct=Math.clz32?Math.clz32:pn,pi=Math.log,nr=Math.LN2;function pn(s){return s>>>=0,s===0?32:31-(pi(s)/nr|0)|0}var mi=256,ki=4194304;function gi(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Vl(s,l,f){var g=s.pendingLanes;if(g===0)return 0;var T=0,S=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var V=g&134217727;return V!==0?(g=V&~S,g!==0?T=gi(g):(I&=V,I!==0?T=gi(I):f||(f=V&~s,f!==0&&(T=gi(f))))):(V=g&~S,V!==0?T=gi(V):I!==0?T=gi(I):f||(f=g&~s,f!==0&&(T=gi(f)))),T===0?0:l!==0&&l!==T&&(l&S)===0&&(S=T&-T,f=l&-l,S>=f||S===32&&(f&4194048)!==0)?l:T}function wa(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Nc(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dc(){var s=mi;return mi<<=1,(mi&4194048)===0&&(mi=256),s}function kc(){var s=ki;return ki<<=1,(ki&62914560)===0&&(ki=4194304),s}function mo(s){for(var l=[],f=0;31>f;f++)l.push(s);return l}function go(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Oc(s,l,f,g,T,S){var I=s.pendingLanes;s.pendingLanes=f,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=f,s.entangledLanes&=f,s.errorRecoveryDisabledLanes&=f,s.shellSuspendCounter=0;var V=s.entanglements,K=s.expirationTimes,Q=s.hiddenUpdates;for(f=I&~f;0<f;){var se=31-Ct(f),ce=1<<se;V[se]=0,K[se]=-1;var ee=Q[se];if(ee!==null)for(Q[se]=null,se=0;se<ee.length;se++){var te=ee[se];te!==null&&(te.lane&=-536870913)}f&=~ce}g!==0&&Oi(s,g,0),S!==0&&T===0&&s.tag!==0&&(s.suspendedLanes|=S&~(I&~l))}function Oi(s,l,f){s.pendingLanes|=l,s.suspendedLanes&=~l;var g=31-Ct(l);s.entangledLanes|=l,s.entanglements[g]=s.entanglements[g]|1073741824|f&4194090}function Lc(s,l){var f=s.entangledLanes|=l;for(s=s.entanglements;f;){var g=31-Ct(f),T=1<<g;T&l|s[g]&l&&(s[g]|=l),f&=~T}}function ds(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ul(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function hs(){var s=de.p;return s!==0?s:(s=window.event,s===void 0?32:g1(s.type))}function yh(s,l){var f=de.p;try{return de.p=s,l()}finally{de.p=f}}var Ut=Math.random().toString(36).slice(2),mn="__reactFiber$"+Ut,on="__reactProps$"+Ut,Hr="__reactContainer$"+Ut,Vc="__reactEvents$"+Ut,By="__reactListeners$"+Ut,ps="__reactHandles$"+Ut,vh="__reactResources$"+Ut,ba="__reactMarker$"+Ut;function ms(s){delete s[mn],delete s[on],delete s[Vc],delete s[By],delete s[ps]}function yo(s){var l=s[mn];if(l)return l;for(var f=s.parentNode;f;){if(l=f[Hr]||f[mn]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(s=t1(s);s!==null;){if(f=s[mn])return f;s=t1(s)}return l}s=f,f=s.parentNode}return null}function Li(s){if(s=s[mn]||s[Hr]){var l=s.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return s}return null}function Vi(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function rr(s){var l=s[vh];return l||(l=s[vh]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Qt(s){s[ba]=!0}var Uc=new Set,Bl={};function yi(s,l){vo(s,l),vo(s+"Capture",l)}function vo(s,l){for(Bl[s]=l,s=0;s<l.length;s++)Uc.add(l[s])}var _h=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Th={},Aa={};function Eh(s){return he.call(Aa,s)?!0:he.call(Th,s)?!1:_h.test(s)?Aa[s]=!0:(Th[s]=!0,!1)}function gs(s,l,f){if(Eh(l))if(f===null)s.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+f)}}function Ui(s,l,f){if(f===null)s.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+f)}}function Vn(s,l,f,g){if(g===null)s.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(f);return}s.setAttributeNS(l,f,""+g)}}var Ca,Sh;function _o(s){if(Ca===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);Ca=l&&l[1]||"",Sh=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ca+s+Sh}var Fl=!1;function ql(s,l){if(!s||Fl)return"";Fl=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(te){var ee=te}Reflect.construct(s,[],ce)}else{try{ce.call()}catch(te){ee=te}s.call(ce.prototype)}}else{try{throw Error()}catch(te){ee=te}(ce=s())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=g.DetermineComponentFrameRoot(),I=S[0],V=S[1];if(I&&V){var K=I.split(`
`),Q=V.split(`
`);for(T=g=0;g<K.length&&!K[g].includes("DetermineComponentFrameRoot");)g++;for(;T<Q.length&&!Q[T].includes("DetermineComponentFrameRoot");)T++;if(g===K.length||T===Q.length)for(g=K.length-1,T=Q.length-1;1<=g&&0<=T&&K[g]!==Q[T];)T--;for(;1<=g&&0<=T;g--,T--)if(K[g]!==Q[T]){if(g!==1||T!==1)do if(g--,T--,0>T||K[g]!==Q[T]){var se=`
`+K[g].replace(" at new "," at ");return s.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",s.displayName)),se}while(1<=g&&0<=T);break}}}finally{Fl=!1,Error.prepareStackTrace=f}return(f=s?s.displayName||s.name:"")?_o(f):""}function Bc(s){switch(s.tag){case 26:case 27:case 5:return _o(s.type);case 16:return _o("Lazy");case 13:return _o("Suspense");case 19:return _o("SuspenseList");case 0:case 15:return ql(s.type,!1);case 11:return ql(s.type.render,!1);case 1:return ql(s.type,!0);case 31:return _o("Activity");default:return""}}function $l(s){try{var l="";do l+=Bc(s),s=s.return;while(s);return l}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function ir(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Fc(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Fy(s){var l=Fc(s)?"checked":"value",f=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),g=""+s[l];if(!s.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var T=f.get,S=f.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return T.call(this)},set:function(I){g=""+I,S.call(this,I)}}),Object.defineProperty(s,l,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(I){g=""+I},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Hl(s){s._valueTracker||(s._valueTracker=Fy(s))}function qc(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var f=l.getValue(),g="";return s&&(g=Fc(s)?s.checked?"true":"false":s.value),s=g,s!==f?(l.setValue(s),!0):!1}function xa(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var qy=/[\n"\\]/g;function sn(s){return s.replace(qy,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Sr(s,l,f,g,T,S,I,V){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),l!=null?I==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+ir(l)):s.value!==""+ir(l)&&(s.value=""+ir(l)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),l!=null?ys(s,I,ir(l)):f!=null?ys(s,I,ir(f)):g!=null&&s.removeAttribute("value"),T==null&&S!=null&&(s.defaultChecked=!!S),T!=null&&(s.checked=T&&typeof T!="function"&&typeof T!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?s.name=""+ir(V):s.removeAttribute("name")}function Ra(s,l,f,g,T,S,I,V){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.type=S),l!=null||f!=null){if(!(S!=="submit"&&S!=="reset"||l!=null))return;f=f!=null?""+ir(f):"",l=l!=null?""+ir(l):f,V||l===s.value||(s.value=l),s.defaultValue=l}g=g??T,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=V?s.checked:!!g,s.defaultChecked=!!g,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I)}function ys(s,l,f){l==="number"&&xa(s.ownerDocument)===s||s.defaultValue===""+f||(s.defaultValue=""+f)}function To(s,l,f,g){if(s=s.options,l){l={};for(var T=0;T<f.length;T++)l["$"+f[T]]=!0;for(f=0;f<s.length;f++)T=l.hasOwnProperty("$"+s[f].value),s[f].selected!==T&&(s[f].selected=T),T&&g&&(s[f].defaultSelected=!0)}else{for(f=""+ir(f),l=null,T=0;T<s.length;T++){if(s[T].value===f){s[T].selected=!0,g&&(s[T].defaultSelected=!0);return}l!==null||s[T].disabled||(l=s[T])}l!==null&&(l.selected=!0)}}function Et(s,l,f){if(l!=null&&(l=""+ir(l),l!==s.value&&(s.value=l),f==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=f!=null?""+ir(f):""}function Ia(s,l,f,g){if(l==null){if(g!=null){if(f!=null)throw Error(r(92));if(xe(g)){if(1<g.length)throw Error(r(93));g=g[0]}f=g}f==null&&(f=""),l=f}f=ir(l),s.defaultValue=f,g=s.textContent,g===f&&g!==""&&g!==null&&(s.value=g)}function zr(s,l){if(l){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=l;return}}s.textContent=l}var Pa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wh(s,l,f){var g=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?g?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":g?s.setProperty(l,f):typeof f!="number"||f===0||Pa.has(l)?l==="float"?s.cssFloat=f:s[l]=(""+f).trim():s[l]=f+"px"}function $c(s,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,f!=null){for(var g in f)!f.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var T in l)g=l[T],l.hasOwnProperty(T)&&f[T]!==g&&wh(s,T,g)}else for(var S in l)l.hasOwnProperty(S)&&wh(s,S,l[S])}function Hc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $y=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zl(s){return Hy.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Eo=null;function Gr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var So=null,wo=null;function zc(s){var l=Li(s);if(l&&(s=l.stateNode)){var f=s[on]||null;e:switch(s=l.stateNode,l.type){case"input":if(Sr(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+sn(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var g=f[l];if(g!==s&&g.form===s.form){var T=g[on]||null;if(!T)throw Error(r(90));Sr(g,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(l=0;l<f.length;l++)g=f[l],g.form===s.form&&qc(g)}break e;case"textarea":Et(s,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&To(s,!!f.multiple,l,!1)}}}var Bi=!1;function bh(s,l,f){if(Bi)return s(l,f);Bi=!0;try{var g=s(l);return g}finally{if(Bi=!1,(So!==null||wo!==null)&&(yp(),So&&(l=So,s=wo,wo=So=null,zc(l),s)))for(l=0;l<s.length;l++)zc(s[l])}}function Ma(s,l){var f=s.stateNode;if(f===null)return null;var g=f[on]||null;if(g===null)return null;f=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kr=!1;if(vi)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){Kr=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch{Kr=!1}var Fi=null,vs=null,bo=null;function Gc(){if(bo)return bo;var s,l=vs,f=l.length,g,T="value"in Fi?Fi.value:Fi.textContent,S=T.length;for(s=0;s<f&&l[s]===T[s];s++);var I=f-s;for(g=1;g<=I&&l[f-g]===T[S-g];g++);return bo=T.slice(s,1<g?1-g:void 0)}function qi(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function $i(){return!0}function Kc(){return!1}function bn(s){function l(f,g,T,S,I){this._reactName=f,this._targetInst=T,this.type=g,this.nativeEvent=S,this.target=I,this.currentTarget=null;for(var V in s)s.hasOwnProperty(V)&&(f=s[V],this[V]=f?f(S):S[V]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?$i:Kc,this.isPropagationStopped=Kc,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),l}var pt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=bn(pt),Da=p({},pt,{view:0,detail:0}),Ah=bn(Da),Kl,jl,Hi,ka=p({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Va,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Hi&&(Hi&&s.type==="mousemove"?(Kl=s.screenX-Hi.screenX,jl=s.screenY-Hi.screenY):jl=Kl=0,Hi=s),Kl)},movementY:function(s){return"movementY"in s?s.movementY:jl}}),jr=bn(ka),Ch=p({},ka,{dataTransfer:0}),zy=bn(Ch),Oa=p({},Da,{relatedTarget:0}),Yl=bn(Oa),jc=p({},pt,{animationName:0,elapsedTime:0,pseudoElement:0}),Wl=bn(jc),xh=p({},pt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Jl=bn(xh),Gy=p({},pt,{data:0}),Yc=bn(Gy),La={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ih={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wc(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Ih[s])?!!l[s]:!1}function Va(){return Wc}var Ph=p({},Da,{key:function(s){if(s.key){var l=La[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=qi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Rh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Va,charCode:function(s){return s.type==="keypress"?qi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?qi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Xl=bn(Ph),Mh=p({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jc=bn(Mh),Ao=p({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Va}),Nh=bn(Ao),Dh=p({},pt,{propertyName:0,elapsedTime:0,pseudoElement:0}),kh=bn(Dh),Oh=p({},ka,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ql=bn(Oh),or=p({},pt,{newState:0,oldState:0}),Lh=bn(or),Vh=[9,13,27,32],zi=vi&&"CompositionEvent"in window,v=null;vi&&"documentMode"in document&&(v=document.documentMode);var A=vi&&"TextEvent"in window&&!v,x=vi&&(!zi||v&&8<v&&11>=v),B=" ",J=!1;function ne(s,l){switch(s){case"keyup":return Vh.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ot=!1;function gn(s,l){switch(s){case"compositionend":return ge(l);case"keypress":return l.which!==32?null:(J=!0,B);case"textInput":return s=l.data,s===B&&J?null:s;default:return null}}function st(s,l){if(ot)return s==="compositionend"||!zi&&ne(s,l)?(s=Gc(),bo=vs=Fi=null,ot=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return x&&l.locale!=="ko"?null:l.data;default:return null}}var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yn(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!An[s.type]:l==="textarea"}function Co(s,l,f,g){So?wo?wo.push(g):wo=[g]:So=g,l=wp(l,"onChange"),0<l.length&&(f=new Gl("onChange","change",null,f,g),s.push({event:f,listeners:l}))}var Un=null,Gi=null;function Xc(s){Gx(s,0)}function Uh(s){var l=Vi(s);if(qc(l))return s}function dA(s,l){if(s==="change")return l}var hA=!1;if(vi){var Ky;if(vi){var jy="oninput"in document;if(!jy){var pA=document.createElement("div");pA.setAttribute("oninput","return;"),jy=typeof pA.oninput=="function"}Ky=jy}else Ky=!1;hA=Ky&&(!document.documentMode||9<document.documentMode)}function mA(){Un&&(Un.detachEvent("onpropertychange",gA),Gi=Un=null)}function gA(s){if(s.propertyName==="value"&&Uh(Gi)){var l=[];Co(l,Gi,s,Gr(s)),bh(Xc,l)}}function z6(s,l,f){s==="focusin"?(mA(),Un=l,Gi=f,Un.attachEvent("onpropertychange",gA)):s==="focusout"&&mA()}function G6(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Uh(Gi)}function K6(s,l){if(s==="click")return Uh(l)}function j6(s,l){if(s==="input"||s==="change")return Uh(l)}function Y6(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var wr=typeof Object.is=="function"?Object.is:Y6;function Qc(s,l){if(wr(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var f=Object.keys(s),g=Object.keys(l);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var T=f[g];if(!he.call(l,T)||!wr(s[T],l[T]))return!1}return!0}function yA(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function vA(s,l){var f=yA(s);s=0;for(var g;f;){if(f.nodeType===3){if(g=s+f.textContent.length,s<=l&&g>=l)return{node:f,offset:l-s};s=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=yA(f)}}function _A(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?_A(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function TA(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=xa(s.document);l instanceof s.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)s=l.contentWindow;else break;l=xa(s.document)}return l}function Yy(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var W6=vi&&"documentMode"in document&&11>=document.documentMode,Zl=null,Wy=null,Zc=null,Jy=!1;function EA(s,l,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Jy||Zl==null||Zl!==xa(g)||(g=Zl,"selectionStart"in g&&Yy(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Zc&&Qc(Zc,g)||(Zc=g,g=wp(Wy,"onSelect"),0<g.length&&(l=new Gl("onSelect","select",null,l,f),s.push({event:l,listeners:g}),l.target=Zl)))}function Ua(s,l){var f={};return f[s.toLowerCase()]=l.toLowerCase(),f["Webkit"+s]="webkit"+l,f["Moz"+s]="moz"+l,f}var eu={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionrun:Ua("Transition","TransitionRun"),transitionstart:Ua("Transition","TransitionStart"),transitioncancel:Ua("Transition","TransitionCancel"),transitionend:Ua("Transition","TransitionEnd")},Xy={},SA={};vi&&(SA=document.createElement("div").style,"AnimationEvent"in window||(delete eu.animationend.animation,delete eu.animationiteration.animation,delete eu.animationstart.animation),"TransitionEvent"in window||delete eu.transitionend.transition);function Ba(s){if(Xy[s])return Xy[s];if(!eu[s])return s;var l=eu[s],f;for(f in l)if(l.hasOwnProperty(f)&&f in SA)return Xy[s]=l[f];return s}var wA=Ba("animationend"),bA=Ba("animationiteration"),AA=Ba("animationstart"),J6=Ba("transitionrun"),X6=Ba("transitionstart"),Q6=Ba("transitioncancel"),CA=Ba("transitionend"),xA=new Map,Qy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qy.push("scrollEnd");function _i(s,l){xA.set(s,l),yi(l,[s])}var RA=new WeakMap;function Yr(s,l){if(typeof s=="object"&&s!==null){var f=RA.get(s);return f!==void 0?f:(l={value:s,source:l,stack:$l(l)},RA.set(s,l),l)}return{value:s,source:l,stack:$l(l)}}var Wr=[],tu=0,Zy=0;function Bh(){for(var s=tu,l=Zy=tu=0;l<s;){var f=Wr[l];Wr[l++]=null;var g=Wr[l];Wr[l++]=null;var T=Wr[l];Wr[l++]=null;var S=Wr[l];if(Wr[l++]=null,g!==null&&T!==null){var I=g.pending;I===null?T.next=T:(T.next=I.next,I.next=T),g.pending=T}S!==0&&IA(f,T,S)}}function Fh(s,l,f,g){Wr[tu++]=s,Wr[tu++]=l,Wr[tu++]=f,Wr[tu++]=g,Zy|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function ev(s,l,f,g){return Fh(s,l,f,g),qh(s)}function nu(s,l){return Fh(s,null,null,l),qh(s)}function IA(s,l,f){s.lanes|=f;var g=s.alternate;g!==null&&(g.lanes|=f);for(var T=!1,S=s.return;S!==null;)S.childLanes|=f,g=S.alternate,g!==null&&(g.childLanes|=f),S.tag===22&&(s=S.stateNode,s===null||s._visibility&1||(T=!0)),s=S,S=S.return;return s.tag===3?(S=s.stateNode,T&&l!==null&&(T=31-Ct(f),s=S.hiddenUpdates,g=s[T],g===null?s[T]=[l]:g.push(l),l.lane=f|536870912),S):null}function qh(s){if(50<Af)throw Af=0,s0=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var ru={};function Z6(s,l,f,g){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(s,l,f,g){return new Z6(s,l,f,g)}function tv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function xo(s,l){var f=s.alternate;return f===null?(f=br(s.tag,l,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=l,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&65011712,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,l=s.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f.refCleanup=s.refCleanup,f}function PA(s,l){s.flags&=65011714;var f=s.alternate;return f===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=f.childLanes,s.lanes=f.lanes,s.child=f.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=f.memoizedProps,s.memoizedState=f.memoizedState,s.updateQueue=f.updateQueue,s.type=f.type,l=f.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function $h(s,l,f,g,T,S){var I=0;if(g=s,typeof s=="function")tv(s)&&(I=1);else if(typeof s=="string")I=tF(s,f,Ne.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case M:return s=br(31,f,l,T),s.elementType=M,s.lanes=S,s;case w:return Fa(f.children,T,S,l);case b:I=8,T|=24;break;case C:return s=br(12,f,l,T|2),s.elementType=C,s.lanes=S,s;case $:return s=br(13,f,l,T),s.elementType=$,s.lanes=S,s;case G:return s=br(19,f,l,T),s.elementType=G,s.lanes=S,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case P:case D:I=10;break e;case N:I=9;break e;case U:I=11;break e;case k:I=14;break e;case O:I=16,g=null;break e}I=29,f=Error(r(130,s===null?"null":typeof s,"")),g=null}return l=br(I,f,l,T),l.elementType=s,l.type=g,l.lanes=S,l}function Fa(s,l,f,g){return s=br(7,s,g,l),s.lanes=f,s}function nv(s,l,f){return s=br(6,s,null,l),s.lanes=f,s}function rv(s,l,f){return l=br(4,s.children!==null?s.children:[],s.key,l),l.lanes=f,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var iu=[],ou=0,Hh=null,zh=0,Jr=[],Xr=0,qa=null,Ro=1,Io="";function $a(s,l){iu[ou++]=zh,iu[ou++]=Hh,Hh=s,zh=l}function MA(s,l,f){Jr[Xr++]=Ro,Jr[Xr++]=Io,Jr[Xr++]=qa,qa=s;var g=Ro;s=Io;var T=32-Ct(g)-1;g&=~(1<<T),f+=1;var S=32-Ct(l)+T;if(30<S){var I=T-T%5;S=(g&(1<<I)-1).toString(32),g>>=I,T-=I,Ro=1<<32-Ct(l)+T|f<<T|g,Io=S+s}else Ro=1<<S|f<<T|g,Io=s}function iv(s){s.return!==null&&($a(s,1),MA(s,1,0))}function ov(s){for(;s===Hh;)Hh=iu[--ou],iu[ou]=null,zh=iu[--ou],iu[ou]=null;for(;s===qa;)qa=Jr[--Xr],Jr[Xr]=null,Io=Jr[--Xr],Jr[Xr]=null,Ro=Jr[--Xr],Jr[Xr]=null}var sr=null,jt=null,dt=!1,Ha=null,Ki=!1,sv=Error(r(519));function za(s){var l=Error(r(418,""));throw nf(Yr(l,s)),sv}function NA(s){var l=s.stateNode,f=s.type,g=s.memoizedProps;switch(l[mn]=s,l[on]=g,f){case"dialog":tt("cancel",l),tt("close",l);break;case"iframe":case"object":case"embed":tt("load",l);break;case"video":case"audio":for(f=0;f<xf.length;f++)tt(xf[f],l);break;case"source":tt("error",l);break;case"img":case"image":case"link":tt("error",l),tt("load",l);break;case"details":tt("toggle",l);break;case"input":tt("invalid",l),Ra(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),Hl(l);break;case"select":tt("invalid",l);break;case"textarea":tt("invalid",l),Ia(l,g.value,g.defaultValue,g.children),Hl(l)}f=g.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||g.suppressHydrationWarning===!0||Wx(l.textContent,f)?(g.popover!=null&&(tt("beforetoggle",l),tt("toggle",l)),g.onScroll!=null&&tt("scroll",l),g.onScrollEnd!=null&&tt("scrollend",l),g.onClick!=null&&(l.onclick=bp),l=!0):l=!1,l||za(s)}function DA(s){for(sr=s.return;sr;)switch(sr.tag){case 5:case 13:Ki=!1;return;case 27:case 3:Ki=!0;return;default:sr=sr.return}}function ef(s){if(s!==sr)return!1;if(!dt)return DA(s),dt=!0,!1;var l=s.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=s.type,f=!(f!=="form"&&f!=="button")||S0(s.type,s.memoizedProps)),f=!f),f&&jt&&za(s),DA(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8)if(f=s.data,f==="/$"){if(l===0){jt=Ei(s.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++;s=s.nextSibling}jt=null}}else l===27?(l=jt,ks(s.type)?(s=C0,C0=null,jt=s):jt=l):jt=sr?Ei(s.stateNode.nextSibling):null;return!0}function tf(){jt=sr=null,dt=!1}function kA(){var s=Ha;return s!==null&&(pr===null?pr=s:pr.push.apply(pr,s),Ha=null),s}function nf(s){Ha===null?Ha=[s]:Ha.push(s)}var av=ue(null),Ga=null,Po=null;function _s(s,l,f){pe(av,l._currentValue),l._currentValue=f}function Mo(s){s._currentValue=av.current,ie(av)}function lv(s,l,f){for(;s!==null;){var g=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),s===f)break;s=s.return}}function uv(s,l,f,g){var T=s.child;for(T!==null&&(T.return=s);T!==null;){var S=T.dependencies;if(S!==null){var I=T.child;S=S.firstContext;e:for(;S!==null;){var V=S;S=T;for(var K=0;K<l.length;K++)if(V.context===l[K]){S.lanes|=f,V=S.alternate,V!==null&&(V.lanes|=f),lv(S.return,f,s),g||(I=null);break e}S=V.next}}else if(T.tag===18){if(I=T.return,I===null)throw Error(r(341));I.lanes|=f,S=I.alternate,S!==null&&(S.lanes|=f),lv(I,f,s),I=null}else I=T.child;if(I!==null)I.return=T;else for(I=T;I!==null;){if(I===s){I=null;break}if(T=I.sibling,T!==null){T.return=I.return,I=T;break}I=I.return}T=I}}function rf(s,l,f,g){s=null;for(var T=l,S=!1;T!==null;){if(!S){if((T.flags&524288)!==0)S=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var I=T.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var V=T.type;wr(T.pendingProps.value,I.value)||(s!==null?s.push(V):s=[V])}}else if(T===Gt.current){if(I=T.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(s!==null?s.push(Df):s=[Df])}T=T.return}s!==null&&uv(l,s,f,g),l.flags|=262144}function Gh(s){for(s=s.firstContext;s!==null;){if(!wr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ka(s){Ga=s,Po=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Yn(s){return OA(Ga,s)}function Kh(s,l){return Ga===null&&Ka(s),OA(s,l)}function OA(s,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},Po===null){if(s===null)throw Error(r(308));Po=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Po=Po.next=l;return f}var eB=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(f,g){s.push(g)}};this.abort=function(){l.aborted=!0,s.forEach(function(f){return f()})}},tB=t.unstable_scheduleCallback,nB=t.unstable_NormalPriority,vn={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cv(){return{controller:new eB,data:new Map,refCount:0}}function of(s){s.refCount--,s.refCount===0&&tB(nB,function(){s.controller.abort()})}var sf=null,fv=0,su=0,au=null;function rB(s,l){if(sf===null){var f=sf=[];fv=0,su=h0(),au={status:"pending",value:void 0,then:function(g){f.push(g)}}}return fv++,l.then(LA,LA),l}function LA(){if(--fv===0&&sf!==null){au!==null&&(au.status="fulfilled");var s=sf;sf=null,su=0,au=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function iB(s,l){var f=[],g={status:"pending",value:null,reason:null,then:function(T){f.push(T)}};return s.then(function(){g.status="fulfilled",g.value=l;for(var T=0;T<f.length;T++)(0,f[T])(l)},function(T){for(g.status="rejected",g.reason=T,T=0;T<f.length;T++)(0,f[T])(void 0)}),g}var VA=Z.S;Z.S=function(s,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&rB(s,l),VA!==null&&VA(s,l)};var ja=ue(null);function dv(){var s=ja.current;return s!==null?s:Pt.pooledCache}function jh(s,l){l===null?pe(ja,ja.current):pe(ja,l.pool)}function UA(){var s=dv();return s===null?null:{parent:vn._currentValue,pool:s}}var af=Error(r(460)),BA=Error(r(474)),Yh=Error(r(542)),hv={then:function(){}};function FA(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Wh(){}function qA(s,l,f){switch(f=s[f],f===void 0?s.push(l):f!==l&&(l.then(Wh,Wh),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,HA(s),s;default:if(typeof l.status=="string")l.then(Wh,Wh);else{if(s=Pt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(g){if(l.status==="pending"){var T=l;T.status="fulfilled",T.value=g}},function(g){if(l.status==="pending"){var T=l;T.status="rejected",T.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,HA(s),s}throw lf=l,af}}var lf=null;function $A(){if(lf===null)throw Error(r(459));var s=lf;return lf=null,s}function HA(s){if(s===af||s===Yh)throw Error(r(483))}var Ts=!1;function pv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mv(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Es(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ss(s,l,f){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(yt&2)!==0){var T=g.pending;return T===null?l.next=l:(l.next=T.next,T.next=l),g.pending=l,l=qh(s),IA(s,null,f),l}return Fh(s,g,l,f),qh(s)}function uf(s,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var g=l.lanes;g&=s.pendingLanes,f|=g,l.lanes=f,Lc(s,f)}}function gv(s,l){var f=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var T=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var I={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};S===null?T=S=I:S=S.next=I,f=f.next}while(f!==null);S===null?T=S=l:S=S.next=l}else T=S=l;f={baseState:g.baseState,firstBaseUpdate:T,lastBaseUpdate:S,shared:g.shared,callbacks:g.callbacks},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=l:s.next=l,f.lastBaseUpdate=l}var yv=!1;function cf(){if(yv){var s=au;if(s!==null)throw s}}function ff(s,l,f,g){yv=!1;var T=s.updateQueue;Ts=!1;var S=T.firstBaseUpdate,I=T.lastBaseUpdate,V=T.shared.pending;if(V!==null){T.shared.pending=null;var K=V,Q=K.next;K.next=null,I===null?S=Q:I.next=Q,I=K;var se=s.alternate;se!==null&&(se=se.updateQueue,V=se.lastBaseUpdate,V!==I&&(V===null?se.firstBaseUpdate=Q:V.next=Q,se.lastBaseUpdate=K))}if(S!==null){var ce=T.baseState;I=0,se=Q=K=null,V=S;do{var ee=V.lane&-536870913,te=ee!==V.lane;if(te?(at&ee)===ee:(g&ee)===ee){ee!==0&&ee===su&&(yv=!0),se!==null&&(se=se.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var $e=s,Le=V;ee=l;var bt=f;switch(Le.tag){case 1:if($e=Le.payload,typeof $e=="function"){ce=$e.call(bt,ce,ee);break e}ce=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=Le.payload,ee=typeof $e=="function"?$e.call(bt,ce,ee):$e,ee==null)break e;ce=p({},ce,ee);break e;case 2:Ts=!0}}ee=V.callback,ee!==null&&(s.flags|=64,te&&(s.flags|=8192),te=T.callbacks,te===null?T.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:V.tag,payload:V.payload,callback:V.callback,next:null},se===null?(Q=se=te,K=ce):se=se.next=te,I|=ee;if(V=V.next,V===null){if(V=T.shared.pending,V===null)break;te=V,V=te.next,te.next=null,T.lastBaseUpdate=te,T.shared.pending=null}}while(!0);se===null&&(K=ce),T.baseState=K,T.firstBaseUpdate=Q,T.lastBaseUpdate=se,S===null&&(T.shared.lanes=0),Ps|=I,s.lanes=I,s.memoizedState=ce}}function zA(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function GA(s,l){var f=s.callbacks;if(f!==null)for(s.callbacks=null,s=0;s<f.length;s++)zA(f[s],l)}var lu=ue(null),Jh=ue(0);function KA(s,l){s=Uo,pe(Jh,s),pe(lu,l),Uo=s|l.baseLanes}function vv(){pe(Jh,Uo),pe(lu,lu.current)}function _v(){Uo=Jh.current,ie(lu),ie(Jh)}var ws=0,Je=null,St=null,an=null,Xh=!1,uu=!1,Ya=!1,Qh=0,df=0,cu=null,oB=0;function Zt(){throw Error(r(321))}function Tv(s,l){if(l===null)return!1;for(var f=0;f<l.length&&f<s.length;f++)if(!wr(s[f],l[f]))return!1;return!0}function Ev(s,l,f,g,T,S){return ws=S,Je=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Z.H=s===null||s.memoizedState===null?IC:PC,Ya=!1,S=f(g,T),Ya=!1,uu&&(S=YA(l,f,g,T)),jA(s),S}function jA(s){Z.H=ip;var l=St!==null&&St.next!==null;if(ws=0,an=St=Je=null,Xh=!1,df=0,cu=null,l)throw Error(r(300));s===null||Cn||(s=s.dependencies,s!==null&&Gh(s)&&(Cn=!0))}function YA(s,l,f,g){Je=s;var T=0;do{if(uu&&(cu=null),df=0,uu=!1,25<=T)throw Error(r(301));if(T+=1,an=St=null,s.updateQueue!=null){var S=s.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}Z.H=dB,S=l(f,g)}while(uu);return S}function sB(){var s=Z.H,l=s.useState()[0];return l=typeof l.then=="function"?hf(l):l,s=s.useState()[0],(St!==null?St.memoizedState:null)!==s&&(Je.flags|=1024),l}function Sv(){var s=Qh!==0;return Qh=0,s}function wv(s,l,f){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~f}function bv(s){if(Xh){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Xh=!1}ws=0,an=St=Je=null,uu=!1,df=Qh=0,cu=null}function dr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Je.memoizedState=an=s:an=an.next=s,an}function ln(){if(St===null){var s=Je.alternate;s=s!==null?s.memoizedState:null}else s=St.next;var l=an===null?Je.memoizedState:an.next;if(l!==null)an=l,St=s;else{if(s===null)throw Je.alternate===null?Error(r(467)):Error(r(310));St=s,s={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},an===null?Je.memoizedState=an=s:an=an.next=s}return an}function Av(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hf(s){var l=df;return df+=1,cu===null&&(cu=[]),s=qA(cu,s,l),l=Je,(an===null?l.memoizedState:an.next)===null&&(l=l.alternate,Z.H=l===null||l.memoizedState===null?IC:PC),s}function Zh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return hf(s);if(s.$$typeof===D)return Yn(s)}throw Error(r(438,String(s)))}function Cv(s){var l=null,f=Je.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var g=Je.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(T){return T.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=Av(),Je.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(s),g=0;g<s;g++)f[g]=q;return l.index++,f}function No(s,l){return typeof l=="function"?l(s):l}function ep(s){var l=ln();return xv(l,St,s)}function xv(s,l,f){var g=s.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=f;var T=s.baseQueue,S=g.pending;if(S!==null){if(T!==null){var I=T.next;T.next=S.next,S.next=I}l.baseQueue=T=S,g.pending=null}if(S=s.baseState,T===null)s.memoizedState=S;else{l=T.next;var V=I=null,K=null,Q=l,se=!1;do{var ce=Q.lane&-536870913;if(ce!==Q.lane?(at&ce)===ce:(ws&ce)===ce){var ee=Q.revertLane;if(ee===0)K!==null&&(K=K.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ce===su&&(se=!0);else if((ws&ee)===ee){Q=Q.next,ee===su&&(se=!0);continue}else ce={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},K===null?(V=K=ce,I=S):K=K.next=ce,Je.lanes|=ee,Ps|=ee;ce=Q.action,Ya&&f(S,ce),S=Q.hasEagerState?Q.eagerState:f(S,ce)}else ee={lane:ce,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},K===null?(V=K=ee,I=S):K=K.next=ee,Je.lanes|=ce,Ps|=ce;Q=Q.next}while(Q!==null&&Q!==l);if(K===null?I=S:K.next=V,!wr(S,s.memoizedState)&&(Cn=!0,se&&(f=au,f!==null)))throw f;s.memoizedState=S,s.baseState=I,s.baseQueue=K,g.lastRenderedState=S}return T===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function Rv(s){var l=ln(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=s;var g=f.dispatch,T=f.pending,S=l.memoizedState;if(T!==null){f.pending=null;var I=T=T.next;do S=s(S,I.action),I=I.next;while(I!==T);wr(S,l.memoizedState)||(Cn=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),f.lastRenderedState=S}return[S,g]}function WA(s,l,f){var g=Je,T=ln(),S=dt;if(S){if(f===void 0)throw Error(r(407));f=f()}else f=l();var I=!wr((St||T).memoizedState,f);I&&(T.memoizedState=f,Cn=!0),T=T.queue;var V=QA.bind(null,g,T,s);if(pf(2048,8,V,[s]),T.getSnapshot!==l||I||an!==null&&an.memoizedState.tag&1){if(g.flags|=2048,fu(9,tp(),XA.bind(null,g,T,f,l),null),Pt===null)throw Error(r(349));S||(ws&124)!==0||JA(g,l,f)}return f}function JA(s,l,f){s.flags|=16384,s={getSnapshot:l,value:f},l=Je.updateQueue,l===null?(l=Av(),Je.updateQueue=l,l.stores=[s]):(f=l.stores,f===null?l.stores=[s]:f.push(s))}function XA(s,l,f,g){l.value=f,l.getSnapshot=g,ZA(l)&&eC(s)}function QA(s,l,f){return f(function(){ZA(l)&&eC(s)})}function ZA(s){var l=s.getSnapshot;s=s.value;try{var f=l();return!wr(s,f)}catch{return!0}}function eC(s){var l=nu(s,2);l!==null&&Ir(l,s,2)}function Iv(s){var l=dr();if(typeof s=="function"){var f=s;if(s=f(),Ya){Xe(!0);try{f()}finally{Xe(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:s},l}function tC(s,l,f,g){return s.baseState=f,xv(s,St,typeof g=="function"?g:No)}function aB(s,l,f,g,T){if(rp(s))throw Error(r(485));if(s=l.action,s!==null){var S={payload:T,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){S.listeners.push(I)}};Z.T!==null?f(!0):S.isTransition=!1,g(S),f=l.pending,f===null?(S.next=l.pending=S,nC(l,S)):(S.next=f.next,l.pending=f.next=S)}}function nC(s,l){var f=l.action,g=l.payload,T=s.state;if(l.isTransition){var S=Z.T,I={};Z.T=I;try{var V=f(T,g),K=Z.S;K!==null&&K(I,V),rC(s,l,V)}catch(Q){Pv(s,l,Q)}finally{Z.T=S}}else try{S=f(T,g),rC(s,l,S)}catch(Q){Pv(s,l,Q)}}function rC(s,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(g){iC(s,l,g)},function(g){return Pv(s,l,g)}):iC(s,l,f)}function iC(s,l,f){l.status="fulfilled",l.value=f,oC(l),s.state=f,l=s.pending,l!==null&&(f=l.next,f===l?s.pending=null:(f=f.next,l.next=f,nC(s,f)))}function Pv(s,l,f){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=f,oC(l),l=l.next;while(l!==g)}s.action=null}function oC(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function sC(s,l){return l}function aC(s,l){if(dt){var f=Pt.formState;if(f!==null){e:{var g=Je;if(dt){if(jt){t:{for(var T=jt,S=Ki;T.nodeType!==8;){if(!S){T=null;break t}if(T=Ei(T.nextSibling),T===null){T=null;break t}}S=T.data,T=S==="F!"||S==="F"?T:null}if(T){jt=Ei(T.nextSibling),g=T.data==="F!";break e}}za(g)}g=!1}g&&(l=f[0])}}return f=dr(),f.memoizedState=f.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sC,lastRenderedState:l},f.queue=g,f=CC.bind(null,Je,g),g.dispatch=f,g=Iv(!1),S=Ov.bind(null,Je,!1,g.queue),g=dr(),T={state:l,dispatch:null,action:s,pending:null},g.queue=T,f=aB.bind(null,Je,T,S,f),T.dispatch=f,g.memoizedState=s,[l,f,!1]}function lC(s){var l=ln();return uC(l,St,s)}function uC(s,l,f){if(l=xv(s,l,sC)[0],s=ep(No)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=hf(l)}catch(I){throw I===af?Yh:I}else g=l;l=ln();var T=l.queue,S=T.dispatch;return f!==l.memoizedState&&(Je.flags|=2048,fu(9,tp(),lB.bind(null,T,f),null)),[g,S,s]}function lB(s,l){s.action=l}function cC(s){var l=ln(),f=St;if(f!==null)return uC(l,f,s);ln(),l=l.memoizedState,f=ln();var g=f.queue.dispatch;return f.memoizedState=s,[l,g,!1]}function fu(s,l,f,g){return s={tag:s,create:f,deps:g,inst:l,next:null},l=Je.updateQueue,l===null&&(l=Av(),Je.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=s.next=s:(g=f.next,f.next=s,s.next=g,l.lastEffect=s),s}function tp(){return{destroy:void 0,resource:void 0}}function fC(){return ln().memoizedState}function np(s,l,f,g){var T=dr();g=g===void 0?null:g,Je.flags|=s,T.memoizedState=fu(1|l,tp(),f,g)}function pf(s,l,f,g){var T=ln();g=g===void 0?null:g;var S=T.memoizedState.inst;St!==null&&g!==null&&Tv(g,St.memoizedState.deps)?T.memoizedState=fu(l,S,f,g):(Je.flags|=s,T.memoizedState=fu(1|l,S,f,g))}function dC(s,l){np(8390656,8,s,l)}function hC(s,l){pf(2048,8,s,l)}function pC(s,l){return pf(4,2,s,l)}function mC(s,l){return pf(4,4,s,l)}function gC(s,l){if(typeof l=="function"){s=s();var f=l(s);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function yC(s,l,f){f=f!=null?f.concat([s]):null,pf(4,4,gC.bind(null,l,s),f)}function Mv(){}function vC(s,l){var f=ln();l=l===void 0?null:l;var g=f.memoizedState;return l!==null&&Tv(l,g[1])?g[0]:(f.memoizedState=[s,l],s)}function _C(s,l){var f=ln();l=l===void 0?null:l;var g=f.memoizedState;if(l!==null&&Tv(l,g[1]))return g[0];if(g=s(),Ya){Xe(!0);try{s()}finally{Xe(!1)}}return f.memoizedState=[g,l],g}function Nv(s,l,f){return f===void 0||(ws&1073741824)!==0?s.memoizedState=l:(s.memoizedState=f,s=Sx(),Je.lanes|=s,Ps|=s,f)}function TC(s,l,f,g){return wr(f,l)?f:lu.current!==null?(s=Nv(s,f,g),wr(s,l)||(Cn=!0),s):(ws&42)===0?(Cn=!0,s.memoizedState=f):(s=Sx(),Je.lanes|=s,Ps|=s,l)}function EC(s,l,f,g,T){var S=de.p;de.p=S!==0&&8>S?S:8;var I=Z.T,V={};Z.T=V,Ov(s,!1,l,f);try{var K=T(),Q=Z.S;if(Q!==null&&Q(V,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var se=iB(K,g);mf(s,l,se,Rr(s))}else mf(s,l,g,Rr(s))}catch(ce){mf(s,l,{then:function(){},status:"rejected",reason:ce},Rr())}finally{de.p=S,Z.T=I}}function uB(){}function Dv(s,l,f,g){if(s.tag!==5)throw Error(r(476));var T=SC(s).queue;EC(s,T,l,ye,f===null?uB:function(){return wC(s),f(g)})}function SC(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:ye},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:f},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function wC(s){var l=SC(s).next.queue;mf(s,l,{},Rr())}function kv(){return Yn(Df)}function bC(){return ln().memoizedState}function AC(){return ln().memoizedState}function cB(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var f=Rr();s=Es(f);var g=Ss(l,s,f);g!==null&&(Ir(g,l,f),uf(g,l,f)),l={cache:cv()},s.payload=l;return}l=l.return}}function fB(s,l,f){var g=Rr();f={lane:g,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},rp(s)?xC(l,f):(f=ev(s,l,f,g),f!==null&&(Ir(f,s,g),RC(f,l,g)))}function CC(s,l,f){var g=Rr();mf(s,l,f,g)}function mf(s,l,f,g){var T={lane:g,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(rp(s))xC(l,T);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var I=l.lastRenderedState,V=S(I,f);if(T.hasEagerState=!0,T.eagerState=V,wr(V,I))return Fh(s,l,T,0),Pt===null&&Bh(),!1}catch{}finally{}if(f=ev(s,l,T,g),f!==null)return Ir(f,s,g),RC(f,l,g),!0}return!1}function Ov(s,l,f,g){if(g={lane:2,revertLane:h0(),action:g,hasEagerState:!1,eagerState:null,next:null},rp(s)){if(l)throw Error(r(479))}else l=ev(s,f,g,2),l!==null&&Ir(l,s,2)}function rp(s){var l=s.alternate;return s===Je||l!==null&&l===Je}function xC(s,l){uu=Xh=!0;var f=s.pending;f===null?l.next=l:(l.next=f.next,f.next=l),s.pending=l}function RC(s,l,f){if((f&4194048)!==0){var g=l.lanes;g&=s.pendingLanes,f|=g,l.lanes=f,Lc(s,f)}}var ip={readContext:Yn,use:Zh,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useLayoutEffect:Zt,useInsertionEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useSyncExternalStore:Zt,useId:Zt,useHostTransitionStatus:Zt,useFormState:Zt,useActionState:Zt,useOptimistic:Zt,useMemoCache:Zt,useCacheRefresh:Zt},IC={readContext:Yn,use:Zh,useCallback:function(s,l){return dr().memoizedState=[s,l===void 0?null:l],s},useContext:Yn,useEffect:dC,useImperativeHandle:function(s,l,f){f=f!=null?f.concat([s]):null,np(4194308,4,gC.bind(null,l,s),f)},useLayoutEffect:function(s,l){return np(4194308,4,s,l)},useInsertionEffect:function(s,l){np(4,2,s,l)},useMemo:function(s,l){var f=dr();l=l===void 0?null:l;var g=s();if(Ya){Xe(!0);try{s()}finally{Xe(!1)}}return f.memoizedState=[g,l],g},useReducer:function(s,l,f){var g=dr();if(f!==void 0){var T=f(l);if(Ya){Xe(!0);try{f(l)}finally{Xe(!1)}}}else T=l;return g.memoizedState=g.baseState=T,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:T},g.queue=s,s=s.dispatch=fB.bind(null,Je,s),[g.memoizedState,s]},useRef:function(s){var l=dr();return s={current:s},l.memoizedState=s},useState:function(s){s=Iv(s);var l=s.queue,f=CC.bind(null,Je,l);return l.dispatch=f,[s.memoizedState,f]},useDebugValue:Mv,useDeferredValue:function(s,l){var f=dr();return Nv(f,s,l)},useTransition:function(){var s=Iv(!1);return s=EC.bind(null,Je,s.queue,!0,!1),dr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,f){var g=Je,T=dr();if(dt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),Pt===null)throw Error(r(349));(at&124)!==0||JA(g,l,f)}T.memoizedState=f;var S={value:f,getSnapshot:l};return T.queue=S,dC(QA.bind(null,g,S,s),[s]),g.flags|=2048,fu(9,tp(),XA.bind(null,g,S,f,l),null),f},useId:function(){var s=dr(),l=Pt.identifierPrefix;if(dt){var f=Io,g=Ro;f=(g&~(1<<32-Ct(g)-1)).toString(32)+f,l="«"+l+"R"+f,f=Qh++,0<f&&(l+="H"+f.toString(32)),l+="»"}else f=oB++,l="«"+l+"r"+f.toString(32)+"»";return s.memoizedState=l},useHostTransitionStatus:kv,useFormState:aC,useActionState:aC,useOptimistic:function(s){var l=dr();l.memoizedState=l.baseState=s;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=Ov.bind(null,Je,!0,f),f.dispatch=l,[s,l]},useMemoCache:Cv,useCacheRefresh:function(){return dr().memoizedState=cB.bind(null,Je)}},PC={readContext:Yn,use:Zh,useCallback:vC,useContext:Yn,useEffect:hC,useImperativeHandle:yC,useInsertionEffect:pC,useLayoutEffect:mC,useMemo:_C,useReducer:ep,useRef:fC,useState:function(){return ep(No)},useDebugValue:Mv,useDeferredValue:function(s,l){var f=ln();return TC(f,St.memoizedState,s,l)},useTransition:function(){var s=ep(No)[0],l=ln().memoizedState;return[typeof s=="boolean"?s:hf(s),l]},useSyncExternalStore:WA,useId:bC,useHostTransitionStatus:kv,useFormState:lC,useActionState:lC,useOptimistic:function(s,l){var f=ln();return tC(f,St,s,l)},useMemoCache:Cv,useCacheRefresh:AC},dB={readContext:Yn,use:Zh,useCallback:vC,useContext:Yn,useEffect:hC,useImperativeHandle:yC,useInsertionEffect:pC,useLayoutEffect:mC,useMemo:_C,useReducer:Rv,useRef:fC,useState:function(){return Rv(No)},useDebugValue:Mv,useDeferredValue:function(s,l){var f=ln();return St===null?Nv(f,s,l):TC(f,St.memoizedState,s,l)},useTransition:function(){var s=Rv(No)[0],l=ln().memoizedState;return[typeof s=="boolean"?s:hf(s),l]},useSyncExternalStore:WA,useId:bC,useHostTransitionStatus:kv,useFormState:cC,useActionState:cC,useOptimistic:function(s,l){var f=ln();return St!==null?tC(f,St,s,l):(f.baseState=s,[s,f.queue.dispatch])},useMemoCache:Cv,useCacheRefresh:AC},du=null,gf=0;function op(s){var l=gf;return gf+=1,du===null&&(du=[]),qA(du,s,l)}function yf(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function sp(s,l){throw l.$$typeof===y?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function MC(s){var l=s._init;return l(s._payload)}function NC(s){function l(W,Y){if(s){var X=W.deletions;X===null?(W.deletions=[Y],W.flags|=16):X.push(Y)}}function f(W,Y){if(!s)return null;for(;Y!==null;)l(W,Y),Y=Y.sibling;return null}function g(W){for(var Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function T(W,Y){return W=xo(W,Y),W.index=0,W.sibling=null,W}function S(W,Y,X){return W.index=X,s?(X=W.alternate,X!==null?(X=X.index,X<Y?(W.flags|=67108866,Y):X):(W.flags|=67108866,Y)):(W.flags|=1048576,Y)}function I(W){return s&&W.alternate===null&&(W.flags|=67108866),W}function V(W,Y,X,le){return Y===null||Y.tag!==6?(Y=nv(X,W.mode,le),Y.return=W,Y):(Y=T(Y,X),Y.return=W,Y)}function K(W,Y,X,le){var Ie=X.type;return Ie===w?se(W,Y,X.props.children,le,X.key):Y!==null&&(Y.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===O&&MC(Ie)===Y.type)?(Y=T(Y,X.props),yf(Y,X),Y.return=W,Y):(Y=$h(X.type,X.key,X.props,null,W.mode,le),yf(Y,X),Y.return=W,Y)}function Q(W,Y,X,le){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==X.containerInfo||Y.stateNode.implementation!==X.implementation?(Y=rv(X,W.mode,le),Y.return=W,Y):(Y=T(Y,X.children||[]),Y.return=W,Y)}function se(W,Y,X,le,Ie){return Y===null||Y.tag!==7?(Y=Fa(X,W.mode,le,Ie),Y.return=W,Y):(Y=T(Y,X),Y.return=W,Y)}function ce(W,Y,X){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=nv(""+Y,W.mode,X),Y.return=W,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case _:return X=$h(Y.type,Y.key,Y.props,null,W.mode,X),yf(X,Y),X.return=W,X;case E:return Y=rv(Y,W.mode,X),Y.return=W,Y;case O:var le=Y._init;return Y=le(Y._payload),ce(W,Y,X)}if(xe(Y)||z(Y))return Y=Fa(Y,W.mode,X,null),Y.return=W,Y;if(typeof Y.then=="function")return ce(W,op(Y),X);if(Y.$$typeof===D)return ce(W,Kh(W,Y),X);sp(W,Y)}return null}function ee(W,Y,X,le){var Ie=Y!==null?Y.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ie!==null?null:V(W,Y,""+X,le);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case _:return X.key===Ie?K(W,Y,X,le):null;case E:return X.key===Ie?Q(W,Y,X,le):null;case O:return Ie=X._init,X=Ie(X._payload),ee(W,Y,X,le)}if(xe(X)||z(X))return Ie!==null?null:se(W,Y,X,le,null);if(typeof X.then=="function")return ee(W,Y,op(X),le);if(X.$$typeof===D)return ee(W,Y,Kh(W,X),le);sp(W,X)}return null}function te(W,Y,X,le,Ie){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return W=W.get(X)||null,V(Y,W,""+le,Ie);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case _:return W=W.get(le.key===null?X:le.key)||null,K(Y,W,le,Ie);case E:return W=W.get(le.key===null?X:le.key)||null,Q(Y,W,le,Ie);case O:var Qe=le._init;return le=Qe(le._payload),te(W,Y,X,le,Ie)}if(xe(le)||z(le))return W=W.get(X)||null,se(Y,W,le,Ie,null);if(typeof le.then=="function")return te(W,Y,X,op(le),Ie);if(le.$$typeof===D)return te(W,Y,X,Kh(Y,le),Ie);sp(Y,le)}return null}function $e(W,Y,X,le){for(var Ie=null,Qe=null,De=Y,Be=Y=0,Rn=null;De!==null&&Be<X.length;Be++){De.index>Be?(Rn=De,De=null):Rn=De.sibling;var ct=ee(W,De,X[Be],le);if(ct===null){De===null&&(De=Rn);break}s&&De&&ct.alternate===null&&l(W,De),Y=S(ct,Y,Be),Qe===null?Ie=ct:Qe.sibling=ct,Qe=ct,De=Rn}if(Be===X.length)return f(W,De),dt&&$a(W,Be),Ie;if(De===null){for(;Be<X.length;Be++)De=ce(W,X[Be],le),De!==null&&(Y=S(De,Y,Be),Qe===null?Ie=De:Qe.sibling=De,Qe=De);return dt&&$a(W,Be),Ie}for(De=g(De);Be<X.length;Be++)Rn=te(De,W,Be,X[Be],le),Rn!==null&&(s&&Rn.alternate!==null&&De.delete(Rn.key===null?Be:Rn.key),Y=S(Rn,Y,Be),Qe===null?Ie=Rn:Qe.sibling=Rn,Qe=Rn);return s&&De.forEach(function(Bs){return l(W,Bs)}),dt&&$a(W,Be),Ie}function Le(W,Y,X,le){if(X==null)throw Error(r(151));for(var Ie=null,Qe=null,De=Y,Be=Y=0,Rn=null,ct=X.next();De!==null&&!ct.done;Be++,ct=X.next()){De.index>Be?(Rn=De,De=null):Rn=De.sibling;var Bs=ee(W,De,ct.value,le);if(Bs===null){De===null&&(De=Rn);break}s&&De&&Bs.alternate===null&&l(W,De),Y=S(Bs,Y,Be),Qe===null?Ie=Bs:Qe.sibling=Bs,Qe=Bs,De=Rn}if(ct.done)return f(W,De),dt&&$a(W,Be),Ie;if(De===null){for(;!ct.done;Be++,ct=X.next())ct=ce(W,ct.value,le),ct!==null&&(Y=S(ct,Y,Be),Qe===null?Ie=ct:Qe.sibling=ct,Qe=ct);return dt&&$a(W,Be),Ie}for(De=g(De);!ct.done;Be++,ct=X.next())ct=te(De,W,Be,ct.value,le),ct!==null&&(s&&ct.alternate!==null&&De.delete(ct.key===null?Be:ct.key),Y=S(ct,Y,Be),Qe===null?Ie=ct:Qe.sibling=ct,Qe=ct);return s&&De.forEach(function(hF){return l(W,hF)}),dt&&$a(W,Be),Ie}function bt(W,Y,X,le){if(typeof X=="object"&&X!==null&&X.type===w&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case _:e:{for(var Ie=X.key;Y!==null;){if(Y.key===Ie){if(Ie=X.type,Ie===w){if(Y.tag===7){f(W,Y.sibling),le=T(Y,X.props.children),le.return=W,W=le;break e}}else if(Y.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===O&&MC(Ie)===Y.type){f(W,Y.sibling),le=T(Y,X.props),yf(le,X),le.return=W,W=le;break e}f(W,Y);break}else l(W,Y);Y=Y.sibling}X.type===w?(le=Fa(X.props.children,W.mode,le,X.key),le.return=W,W=le):(le=$h(X.type,X.key,X.props,null,W.mode,le),yf(le,X),le.return=W,W=le)}return I(W);case E:e:{for(Ie=X.key;Y!==null;){if(Y.key===Ie)if(Y.tag===4&&Y.stateNode.containerInfo===X.containerInfo&&Y.stateNode.implementation===X.implementation){f(W,Y.sibling),le=T(Y,X.children||[]),le.return=W,W=le;break e}else{f(W,Y);break}else l(W,Y);Y=Y.sibling}le=rv(X,W.mode,le),le.return=W,W=le}return I(W);case O:return Ie=X._init,X=Ie(X._payload),bt(W,Y,X,le)}if(xe(X))return $e(W,Y,X,le);if(z(X)){if(Ie=z(X),typeof Ie!="function")throw Error(r(150));return X=Ie.call(X),Le(W,Y,X,le)}if(typeof X.then=="function")return bt(W,Y,op(X),le);if(X.$$typeof===D)return bt(W,Y,Kh(W,X),le);sp(W,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,Y!==null&&Y.tag===6?(f(W,Y.sibling),le=T(Y,X),le.return=W,W=le):(f(W,Y),le=nv(X,W.mode,le),le.return=W,W=le),I(W)):f(W,Y)}return function(W,Y,X,le){try{gf=0;var Ie=bt(W,Y,X,le);return du=null,Ie}catch(De){if(De===af||De===Yh)throw De;var Qe=br(29,De,null,W.mode);return Qe.lanes=le,Qe.return=W,Qe}finally{}}}var hu=NC(!0),DC=NC(!1),Qr=ue(null),ji=null;function bs(s){var l=s.alternate;pe(_n,_n.current&1),pe(Qr,s),ji===null&&(l===null||lu.current!==null||l.memoizedState!==null)&&(ji=s)}function kC(s){if(s.tag===22){if(pe(_n,_n.current),pe(Qr,s),ji===null){var l=s.alternate;l!==null&&l.memoizedState!==null&&(ji=s)}}else As()}function As(){pe(_n,_n.current),pe(Qr,Qr.current)}function Do(s){ie(Qr),ji===s&&(ji=null),ie(_n)}var _n=ue(0);function ap(s){for(var l=s;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||A0(f)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Lv(s,l,f,g){l=s.memoizedState,f=f(g,l),f=f==null?l:p({},l,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var Vv={enqueueSetState:function(s,l,f){s=s._reactInternals;var g=Rr(),T=Es(g);T.payload=l,f!=null&&(T.callback=f),l=Ss(s,T,g),l!==null&&(Ir(l,s,g),uf(l,s,g))},enqueueReplaceState:function(s,l,f){s=s._reactInternals;var g=Rr(),T=Es(g);T.tag=1,T.payload=l,f!=null&&(T.callback=f),l=Ss(s,T,g),l!==null&&(Ir(l,s,g),uf(l,s,g))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var f=Rr(),g=Es(f);g.tag=2,l!=null&&(g.callback=l),l=Ss(s,g,f),l!==null&&(Ir(l,s,f),uf(l,s,f))}};function OC(s,l,f,g,T,S,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,S,I):l.prototype&&l.prototype.isPureReactComponent?!Qc(f,g)||!Qc(T,S):!0}function LC(s,l,f,g){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,g),l.state!==s&&Vv.enqueueReplaceState(l,l.state,null)}function Wa(s,l){var f=l;if("ref"in l){f={};for(var g in l)g!=="ref"&&(f[g]=l[g])}if(s=s.defaultProps){f===l&&(f=p({},f));for(var T in s)f[T]===void 0&&(f[T]=s[T])}return f}var lp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function VC(s){lp(s)}function UC(s){console.error(s)}function BC(s){lp(s)}function up(s,l){try{var f=s.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function FC(s,l,f){try{var g=s.onCaughtError;g(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Uv(s,l,f){return f=Es(f),f.tag=3,f.payload={element:null},f.callback=function(){up(s,l)},f}function qC(s){return s=Es(s),s.tag=3,s}function $C(s,l,f,g){var T=f.type.getDerivedStateFromError;if(typeof T=="function"){var S=g.value;s.payload=function(){return T(S)},s.callback=function(){FC(l,f,g)}}var I=f.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){FC(l,f,g),typeof T!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var V=g.stack;this.componentDidCatch(g.value,{componentStack:V!==null?V:""})})}function hB(s,l,f,g,T){if(f.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=f.alternate,l!==null&&rf(l,f,T,!0),f=Qr.current,f!==null){switch(f.tag){case 13:return ji===null?l0():f.alternate===null&&Yt===0&&(Yt=3),f.flags&=-257,f.flags|=65536,f.lanes=T,g===hv?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([g]):l.add(g),c0(s,g,T)),!1;case 22:return f.flags|=65536,g===hv?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([g]):f.add(g)),c0(s,g,T)),!1}throw Error(r(435,f.tag))}return c0(s,g,T),l0(),!1}if(dt)return l=Qr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=T,g!==sv&&(s=Error(r(422),{cause:g}),nf(Yr(s,f)))):(g!==sv&&(l=Error(r(423),{cause:g}),nf(Yr(l,f))),s=s.current.alternate,s.flags|=65536,T&=-T,s.lanes|=T,g=Yr(g,f),T=Uv(s.stateNode,g,T),gv(s,T),Yt!==4&&(Yt=2)),!1;var S=Error(r(520),{cause:g});if(S=Yr(S,f),bf===null?bf=[S]:bf.push(S),Yt!==4&&(Yt=2),l===null)return!0;g=Yr(g,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,s=T&-T,f.lanes|=s,s=Uv(f.stateNode,g,s),gv(f,s),!1;case 1:if(l=f.type,S=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ms===null||!Ms.has(S))))return f.flags|=65536,T&=-T,f.lanes|=T,T=qC(T),$C(T,s,f,g),gv(f,T),!1}f=f.return}while(f!==null);return!1}var HC=Error(r(461)),Cn=!1;function Bn(s,l,f,g){l.child=s===null?DC(l,null,f,g):hu(l,s.child,f,g)}function zC(s,l,f,g,T){f=f.render;var S=l.ref;if("ref"in g){var I={};for(var V in g)V!=="ref"&&(I[V]=g[V])}else I=g;return Ka(l),g=Ev(s,l,f,I,S,T),V=Sv(),s!==null&&!Cn?(wv(s,l,T),ko(s,l,T)):(dt&&V&&iv(l),l.flags|=1,Bn(s,l,g,T),l.child)}function GC(s,l,f,g,T){if(s===null){var S=f.type;return typeof S=="function"&&!tv(S)&&S.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=S,KC(s,l,S,g,T)):(s=$h(f.type,null,g,l,l.mode,T),s.ref=l.ref,s.return=l,l.child=s)}if(S=s.child,!Kv(s,T)){var I=S.memoizedProps;if(f=f.compare,f=f!==null?f:Qc,f(I,g)&&s.ref===l.ref)return ko(s,l,T)}return l.flags|=1,s=xo(S,g),s.ref=l.ref,s.return=l,l.child=s}function KC(s,l,f,g,T){if(s!==null){var S=s.memoizedProps;if(Qc(S,g)&&s.ref===l.ref)if(Cn=!1,l.pendingProps=g=S,Kv(s,T))(s.flags&131072)!==0&&(Cn=!0);else return l.lanes=s.lanes,ko(s,l,T)}return Bv(s,l,f,g,T)}function jC(s,l,f){var g=l.pendingProps,T=g.children,S=s!==null?s.memoizedState:null;if(g.mode==="hidden"){if((l.flags&128)!==0){if(g=S!==null?S.baseLanes|f:f,s!==null){for(T=l.child=s.child,S=0;T!==null;)S=S|T.lanes|T.childLanes,T=T.sibling;l.childLanes=S&~g}else l.childLanes=0,l.child=null;return YC(s,l,g,f)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&jh(l,S!==null?S.cachePool:null),S!==null?KA(l,S):vv(),kC(l);else return l.lanes=l.childLanes=536870912,YC(s,l,S!==null?S.baseLanes|f:f,f)}else S!==null?(jh(l,S.cachePool),KA(l,S),As(),l.memoizedState=null):(s!==null&&jh(l,null),vv(),As());return Bn(s,l,T,f),l.child}function YC(s,l,f,g){var T=dv();return T=T===null?null:{parent:vn._currentValue,pool:T},l.memoizedState={baseLanes:f,cachePool:T},s!==null&&jh(l,null),vv(),kC(l),s!==null&&rf(s,l,g,!0),null}function cp(s,l){var f=l.ref;if(f===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(s===null||s.ref!==f)&&(l.flags|=4194816)}}function Bv(s,l,f,g,T){return Ka(l),f=Ev(s,l,f,g,void 0,T),g=Sv(),s!==null&&!Cn?(wv(s,l,T),ko(s,l,T)):(dt&&g&&iv(l),l.flags|=1,Bn(s,l,f,T),l.child)}function WC(s,l,f,g,T,S){return Ka(l),l.updateQueue=null,f=YA(l,g,f,T),jA(s),g=Sv(),s!==null&&!Cn?(wv(s,l,S),ko(s,l,S)):(dt&&g&&iv(l),l.flags|=1,Bn(s,l,f,S),l.child)}function JC(s,l,f,g,T){if(Ka(l),l.stateNode===null){var S=ru,I=f.contextType;typeof I=="object"&&I!==null&&(S=Yn(I)),S=new f(g,S),l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Vv,l.stateNode=S,S._reactInternals=l,S=l.stateNode,S.props=g,S.state=l.memoizedState,S.refs={},pv(l),I=f.contextType,S.context=typeof I=="object"&&I!==null?Yn(I):ru,S.state=l.memoizedState,I=f.getDerivedStateFromProps,typeof I=="function"&&(Lv(l,f,I,g),S.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(I=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),I!==S.state&&Vv.enqueueReplaceState(S,S.state,null),ff(l,g,S,T),cf(),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(s===null){S=l.stateNode;var V=l.memoizedProps,K=Wa(f,V);S.props=K;var Q=S.context,se=f.contextType;I=ru,typeof se=="object"&&se!==null&&(I=Yn(se));var ce=f.getDerivedStateFromProps;se=typeof ce=="function"||typeof S.getSnapshotBeforeUpdate=="function",V=l.pendingProps!==V,se||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V||Q!==I)&&LC(l,S,g,I),Ts=!1;var ee=l.memoizedState;S.state=ee,ff(l,g,S,T),cf(),Q=l.memoizedState,V||ee!==Q||Ts?(typeof ce=="function"&&(Lv(l,f,ce,g),Q=l.memoizedState),(K=Ts||OC(l,f,K,g,ee,Q,I))?(se||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(l.flags|=4194308)):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=Q),S.props=g,S.state=Q,S.context=I,g=K):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{S=l.stateNode,mv(s,l),I=l.memoizedProps,se=Wa(f,I),S.props=se,ce=l.pendingProps,ee=S.context,Q=f.contextType,K=ru,typeof Q=="object"&&Q!==null&&(K=Yn(Q)),V=f.getDerivedStateFromProps,(Q=typeof V=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(I!==ce||ee!==K)&&LC(l,S,g,K),Ts=!1,ee=l.memoizedState,S.state=ee,ff(l,g,S,T),cf();var te=l.memoizedState;I!==ce||ee!==te||Ts||s!==null&&s.dependencies!==null&&Gh(s.dependencies)?(typeof V=="function"&&(Lv(l,f,V,g),te=l.memoizedState),(se=Ts||OC(l,f,se,g,ee,te,K)||s!==null&&s.dependencies!==null&&Gh(s.dependencies))?(Q||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(g,te,K),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(g,te,K)),typeof S.componentDidUpdate=="function"&&(l.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof S.componentDidUpdate!="function"||I===s.memoizedProps&&ee===s.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ee===s.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=te),S.props=g,S.state=te,S.context=K,g=se):(typeof S.componentDidUpdate!="function"||I===s.memoizedProps&&ee===s.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ee===s.memoizedState||(l.flags|=1024),g=!1)}return S=g,cp(s,l),g=(l.flags&128)!==0,S||g?(S=l.stateNode,f=g&&typeof f.getDerivedStateFromError!="function"?null:S.render(),l.flags|=1,s!==null&&g?(l.child=hu(l,s.child,null,T),l.child=hu(l,null,f,T)):Bn(s,l,f,T),l.memoizedState=S.state,s=l.child):s=ko(s,l,T),s}function XC(s,l,f,g){return tf(),l.flags|=256,Bn(s,l,f,g),l.child}var Fv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qv(s){return{baseLanes:s,cachePool:UA()}}function $v(s,l,f){return s=s!==null?s.childLanes&~f:0,l&&(s|=Zr),s}function QC(s,l,f){var g=l.pendingProps,T=!1,S=(l.flags&128)!==0,I;if((I=S)||(I=s!==null&&s.memoizedState===null?!1:(_n.current&2)!==0),I&&(T=!0,l.flags&=-129),I=(l.flags&32)!==0,l.flags&=-33,s===null){if(dt){if(T?bs(l):As(),dt){var V=jt,K;if(K=V){e:{for(K=V,V=Ki;K.nodeType!==8;){if(!V){V=null;break e}if(K=Ei(K.nextSibling),K===null){V=null;break e}}V=K}V!==null?(l.memoizedState={dehydrated:V,treeContext:qa!==null?{id:Ro,overflow:Io}:null,retryLane:536870912,hydrationErrors:null},K=br(18,null,null,0),K.stateNode=V,K.return=l,l.child=K,sr=l,jt=null,K=!0):K=!1}K||za(l)}if(V=l.memoizedState,V!==null&&(V=V.dehydrated,V!==null))return A0(V)?l.lanes=32:l.lanes=536870912,null;Do(l)}return V=g.children,g=g.fallback,T?(As(),T=l.mode,V=fp({mode:"hidden",children:V},T),g=Fa(g,T,f,null),V.return=l,g.return=l,V.sibling=g,l.child=V,T=l.child,T.memoizedState=qv(f),T.childLanes=$v(s,I,f),l.memoizedState=Fv,g):(bs(l),Hv(l,V))}if(K=s.memoizedState,K!==null&&(V=K.dehydrated,V!==null)){if(S)l.flags&256?(bs(l),l.flags&=-257,l=zv(s,l,f)):l.memoizedState!==null?(As(),l.child=s.child,l.flags|=128,l=null):(As(),T=g.fallback,V=l.mode,g=fp({mode:"visible",children:g.children},V),T=Fa(T,V,f,null),T.flags|=2,g.return=l,T.return=l,g.sibling=T,l.child=g,hu(l,s.child,null,f),g=l.child,g.memoizedState=qv(f),g.childLanes=$v(s,I,f),l.memoizedState=Fv,l=T);else if(bs(l),A0(V)){if(I=V.nextSibling&&V.nextSibling.dataset,I)var Q=I.dgst;I=Q,g=Error(r(419)),g.stack="",g.digest=I,nf({value:g,source:null,stack:null}),l=zv(s,l,f)}else if(Cn||rf(s,l,f,!1),I=(f&s.childLanes)!==0,Cn||I){if(I=Pt,I!==null&&(g=f&-f,g=(g&42)!==0?1:ds(g),g=(g&(I.suspendedLanes|f))!==0?0:g,g!==0&&g!==K.retryLane))throw K.retryLane=g,nu(s,g),Ir(I,s,g),HC;V.data==="$?"||l0(),l=zv(s,l,f)}else V.data==="$?"?(l.flags|=192,l.child=s.child,l=null):(s=K.treeContext,jt=Ei(V.nextSibling),sr=l,dt=!0,Ha=null,Ki=!1,s!==null&&(Jr[Xr++]=Ro,Jr[Xr++]=Io,Jr[Xr++]=qa,Ro=s.id,Io=s.overflow,qa=l),l=Hv(l,g.children),l.flags|=4096);return l}return T?(As(),T=g.fallback,V=l.mode,K=s.child,Q=K.sibling,g=xo(K,{mode:"hidden",children:g.children}),g.subtreeFlags=K.subtreeFlags&65011712,Q!==null?T=xo(Q,T):(T=Fa(T,V,f,null),T.flags|=2),T.return=l,g.return=l,g.sibling=T,l.child=g,g=T,T=l.child,V=s.child.memoizedState,V===null?V=qv(f):(K=V.cachePool,K!==null?(Q=vn._currentValue,K=K.parent!==Q?{parent:Q,pool:Q}:K):K=UA(),V={baseLanes:V.baseLanes|f,cachePool:K}),T.memoizedState=V,T.childLanes=$v(s,I,f),l.memoizedState=Fv,g):(bs(l),f=s.child,s=f.sibling,f=xo(f,{mode:"visible",children:g.children}),f.return=l,f.sibling=null,s!==null&&(I=l.deletions,I===null?(l.deletions=[s],l.flags|=16):I.push(s)),l.child=f,l.memoizedState=null,f)}function Hv(s,l){return l=fp({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function fp(s,l){return s=br(22,s,null,l),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function zv(s,l,f){return hu(l,s.child,null,f),s=Hv(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function ZC(s,l,f){s.lanes|=l;var g=s.alternate;g!==null&&(g.lanes|=l),lv(s.return,l,f)}function Gv(s,l,f,g,T){var S=s.memoizedState;S===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:T}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=f,S.tailMode=T)}function ex(s,l,f){var g=l.pendingProps,T=g.revealOrder,S=g.tail;if(Bn(s,l,g.children,f),g=_n.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&ZC(s,f,l);else if(s.tag===19)ZC(s,f,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}switch(pe(_n,g),T){case"forwards":for(f=l.child,T=null;f!==null;)s=f.alternate,s!==null&&ap(s)===null&&(T=f),f=f.sibling;f=T,f===null?(T=l.child,l.child=null):(T=f.sibling,f.sibling=null),Gv(l,!1,T,f,S);break;case"backwards":for(f=null,T=l.child,l.child=null;T!==null;){if(s=T.alternate,s!==null&&ap(s)===null){l.child=T;break}s=T.sibling,T.sibling=f,f=T,T=s}Gv(l,!0,f,null,S);break;case"together":Gv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ko(s,l,f){if(s!==null&&(l.dependencies=s.dependencies),Ps|=l.lanes,(f&l.childLanes)===0)if(s!==null){if(rf(s,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,f=xo(s,s.pendingProps),l.child=f,f.return=l;s.sibling!==null;)s=s.sibling,f=f.sibling=xo(s,s.pendingProps),f.return=l;f.sibling=null}return l.child}function Kv(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&Gh(s)))}function pB(s,l,f){switch(l.tag){case 3:ut(l,l.stateNode.containerInfo),_s(l,vn,s.memoizedState.cache),tf();break;case 27:case 5:Se(l);break;case 4:ut(l,l.stateNode.containerInfo);break;case 10:_s(l,l.type,l.memoizedProps.value);break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(bs(l),l.flags|=128,null):(f&l.child.childLanes)!==0?QC(s,l,f):(bs(l),s=ko(s,l,f),s!==null?s.sibling:null);bs(l);break;case 19:var T=(s.flags&128)!==0;if(g=(f&l.childLanes)!==0,g||(rf(s,l,f,!1),g=(f&l.childLanes)!==0),T){if(g)return ex(s,l,f);l.flags|=128}if(T=l.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),pe(_n,_n.current),g)break;return null;case 22:case 23:return l.lanes=0,jC(s,l,f);case 24:_s(l,vn,s.memoizedState.cache)}return ko(s,l,f)}function tx(s,l,f){if(s!==null)if(s.memoizedProps!==l.pendingProps)Cn=!0;else{if(!Kv(s,f)&&(l.flags&128)===0)return Cn=!1,pB(s,l,f);Cn=(s.flags&131072)!==0}else Cn=!1,dt&&(l.flags&1048576)!==0&&MA(l,zh,l.index);switch(l.lanes=0,l.tag){case 16:e:{s=l.pendingProps;var g=l.elementType,T=g._init;if(g=T(g._payload),l.type=g,typeof g=="function")tv(g)?(s=Wa(g,s),l.tag=1,l=JC(null,l,g,s,f)):(l.tag=0,l=Bv(null,l,g,s,f));else{if(g!=null){if(T=g.$$typeof,T===U){l.tag=11,l=zC(null,l,g,s,f);break e}else if(T===k){l.tag=14,l=GC(null,l,g,s,f);break e}}throw l=Ee(g)||g,Error(r(306,l,""))}}return l;case 0:return Bv(s,l,l.type,l.pendingProps,f);case 1:return g=l.type,T=Wa(g,l.pendingProps),JC(s,l,g,T,f);case 3:e:{if(ut(l,l.stateNode.containerInfo),s===null)throw Error(r(387));g=l.pendingProps;var S=l.memoizedState;T=S.element,mv(s,l),ff(l,g,null,f);var I=l.memoizedState;if(g=I.cache,_s(l,vn,g),g!==S.cache&&uv(l,[vn],f,!0),cf(),g=I.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:I.cache},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){l=XC(s,l,g,f);break e}else if(g!==T){T=Yr(Error(r(424)),l),nf(T),l=XC(s,l,g,f);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(jt=Ei(s.firstChild),sr=l,dt=!0,Ha=null,Ki=!0,f=DC(l,null,g,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(tf(),g===T){l=ko(s,l,f);break e}Bn(s,l,g,f)}l=l.child}return l;case 26:return cp(s,l),s===null?(f=o1(l.type,null,l.pendingProps,null))?l.memoizedState=f:dt||(f=l.type,s=l.pendingProps,g=Ap(Ue.current).createElement(f),g[mn]=l,g[on]=s,qn(g,f,s),Qt(g),l.stateNode=g):l.memoizedState=o1(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return Se(l),s===null&&dt&&(g=l.stateNode=n1(l.type,l.pendingProps,Ue.current),sr=l,Ki=!0,T=jt,ks(l.type)?(C0=T,jt=Ei(g.firstChild)):jt=T),Bn(s,l,l.pendingProps.children,f),cp(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&dt&&((T=g=jt)&&(g=$B(g,l.type,l.pendingProps,Ki),g!==null?(l.stateNode=g,sr=l,jt=Ei(g.firstChild),Ki=!1,T=!0):T=!1),T||za(l)),Se(l),T=l.type,S=l.pendingProps,I=s!==null?s.memoizedProps:null,g=S.children,S0(T,S)?g=null:I!==null&&S0(T,I)&&(l.flags|=32),l.memoizedState!==null&&(T=Ev(s,l,sB,null,null,f),Df._currentValue=T),cp(s,l),Bn(s,l,g,f),l.child;case 6:return s===null&&dt&&((s=f=jt)&&(f=HB(f,l.pendingProps,Ki),f!==null?(l.stateNode=f,sr=l,jt=null,s=!0):s=!1),s||za(l)),null;case 13:return QC(s,l,f);case 4:return ut(l,l.stateNode.containerInfo),g=l.pendingProps,s===null?l.child=hu(l,null,g,f):Bn(s,l,g,f),l.child;case 11:return zC(s,l,l.type,l.pendingProps,f);case 7:return Bn(s,l,l.pendingProps,f),l.child;case 8:return Bn(s,l,l.pendingProps.children,f),l.child;case 12:return Bn(s,l,l.pendingProps.children,f),l.child;case 10:return g=l.pendingProps,_s(l,l.type,g.value),Bn(s,l,g.children,f),l.child;case 9:return T=l.type._context,g=l.pendingProps.children,Ka(l),T=Yn(T),g=g(T),l.flags|=1,Bn(s,l,g,f),l.child;case 14:return GC(s,l,l.type,l.pendingProps,f);case 15:return KC(s,l,l.type,l.pendingProps,f);case 19:return ex(s,l,f);case 31:return g=l.pendingProps,f=l.mode,g={mode:g.mode,children:g.children},s===null?(f=fp(g,f),f.ref=l.ref,l.child=f,f.return=l,l=f):(f=xo(s.child,g),f.ref=l.ref,l.child=f,f.return=l,l=f),l;case 22:return jC(s,l,f);case 24:return Ka(l),g=Yn(vn),s===null?(T=dv(),T===null&&(T=Pt,S=cv(),T.pooledCache=S,S.refCount++,S!==null&&(T.pooledCacheLanes|=f),T=S),l.memoizedState={parent:g,cache:T},pv(l),_s(l,vn,T)):((s.lanes&f)!==0&&(mv(s,l),ff(l,null,null,f),cf()),T=s.memoizedState,S=l.memoizedState,T.parent!==g?(T={parent:g,cache:g},l.memoizedState=T,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=T),_s(l,vn,g)):(g=S.cache,_s(l,vn,g),g!==T.cache&&uv(l,[vn],f,!0))),Bn(s,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Oo(s){s.flags|=4}function nx(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!c1(l)){if(l=Qr.current,l!==null&&((at&4194048)===at?ji!==null:(at&62914560)!==at&&(at&536870912)===0||l!==ji))throw lf=hv,BA;s.flags|=8192}}function dp(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?kc():536870912,s.lanes|=l,yu|=l)}function vf(s,l){if(!dt)switch(s.tailMode){case"hidden":l=s.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Ht(s){var l=s.alternate!==null&&s.alternate.child===s.child,f=0,g=0;if(l)for(var T=s.child;T!==null;)f|=T.lanes|T.childLanes,g|=T.subtreeFlags&65011712,g|=T.flags&65011712,T.return=s,T=T.sibling;else for(T=s.child;T!==null;)f|=T.lanes|T.childLanes,g|=T.subtreeFlags,g|=T.flags,T.return=s,T=T.sibling;return s.subtreeFlags|=g,s.childLanes=f,l}function mB(s,l,f){var g=l.pendingProps;switch(ov(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(l),null;case 1:return Ht(l),null;case 3:return f=l.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),Mo(vn),ve(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(ef(l)?Oo(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,kA())),Ht(l),null;case 26:return f=l.memoizedState,s===null?(Oo(l),f!==null?(Ht(l),nx(l,f)):(Ht(l),l.flags&=-16777217)):f?f!==s.memoizedState?(Oo(l),Ht(l),nx(l,f)):(Ht(l),l.flags&=-16777217):(s.memoizedProps!==g&&Oo(l),Ht(l),l.flags&=-16777217),null;case 27:He(l),f=Ue.current;var T=l.type;if(s!==null&&l.stateNode!=null)s.memoizedProps!==g&&Oo(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Ht(l),null}s=Ne.current,ef(l)?NA(l):(s=n1(T,g,f),l.stateNode=s,Oo(l))}return Ht(l),null;case 5:if(He(l),f=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==g&&Oo(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Ht(l),null}if(s=Ne.current,ef(l))NA(l);else{switch(T=Ap(Ue.current),s){case 1:s=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:s=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":s=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":s=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof g.is=="string"?T.createElement("select",{is:g.is}):T.createElement("select"),g.multiple?s.multiple=!0:g.size&&(s.size=g.size);break;default:s=typeof g.is=="string"?T.createElement(f,{is:g.is}):T.createElement(f)}}s[mn]=l,s[on]=g;e:for(T=l.child;T!==null;){if(T.tag===5||T.tag===6)s.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===l)break e;for(;T.sibling===null;){if(T.return===null||T.return===l)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}l.stateNode=s;e:switch(qn(s,f,g),f){case"button":case"input":case"select":case"textarea":s=!!g.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Oo(l)}}return Ht(l),l.flags&=-16777217,null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==g&&Oo(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(s=Ue.current,ef(l)){if(s=l.stateNode,f=l.memoizedProps,g=null,T=sr,T!==null)switch(T.tag){case 27:case 5:g=T.memoizedProps}s[mn]=l,s=!!(s.nodeValue===f||g!==null&&g.suppressHydrationWarning===!0||Wx(s.nodeValue,f)),s||za(l)}else s=Ap(s).createTextNode(g),s[mn]=l,l.stateNode=s}return Ht(l),null;case 13:if(g=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(T=ef(l),g!==null&&g.dehydrated!==null){if(s===null){if(!T)throw Error(r(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[mn]=l}else tf(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ht(l),T=!1}else T=kA(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=T),T=!0;if(!T)return l.flags&256?(Do(l),l):(Do(l),null)}if(Do(l),(l.flags&128)!==0)return l.lanes=f,l;if(f=g!==null,s=s!==null&&s.memoizedState!==null,f){g=l.child,T=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(T=g.alternate.memoizedState.cachePool.pool);var S=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(S=g.memoizedState.cachePool.pool),S!==T&&(g.flags|=2048)}return f!==s&&f&&(l.child.flags|=8192),dp(l,l.updateQueue),Ht(l),null;case 4:return ve(),s===null&&y0(l.stateNode.containerInfo),Ht(l),null;case 10:return Mo(l.type),Ht(l),null;case 19:if(ie(_n),T=l.memoizedState,T===null)return Ht(l),null;if(g=(l.flags&128)!==0,S=T.rendering,S===null)if(g)vf(T,!1);else{if(Yt!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(S=ap(s),S!==null){for(l.flags|=128,vf(T,!1),s=S.updateQueue,l.updateQueue=s,dp(l,s),l.subtreeFlags=0,s=f,f=l.child;f!==null;)PA(f,s),f=f.sibling;return pe(_n,_n.current&1|2),l.child}s=s.sibling}T.tail!==null&&$t()>mp&&(l.flags|=128,g=!0,vf(T,!1),l.lanes=4194304)}else{if(!g)if(s=ap(S),s!==null){if(l.flags|=128,g=!0,s=s.updateQueue,l.updateQueue=s,dp(l,s),vf(T,!0),T.tail===null&&T.tailMode==="hidden"&&!S.alternate&&!dt)return Ht(l),null}else 2*$t()-T.renderingStartTime>mp&&f!==536870912&&(l.flags|=128,g=!0,vf(T,!1),l.lanes=4194304);T.isBackwards?(S.sibling=l.child,l.child=S):(s=T.last,s!==null?s.sibling=S:l.child=S,T.last=S)}return T.tail!==null?(l=T.tail,T.rendering=l,T.tail=l.sibling,T.renderingStartTime=$t(),l.sibling=null,s=_n.current,pe(_n,g?s&1|2:s&1),l):(Ht(l),null);case 22:case 23:return Do(l),_v(),g=l.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(f&536870912)!==0&&(l.flags&128)===0&&(Ht(l),l.subtreeFlags&6&&(l.flags|=8192)):Ht(l),f=l.updateQueue,f!==null&&dp(l,f.retryQueue),f=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==f&&(l.flags|=2048),s!==null&&ie(ja),null;case 24:return f=null,s!==null&&(f=s.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),Mo(vn),Ht(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function gB(s,l){switch(ov(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Mo(vn),ve(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return He(l),null;case 13:if(Do(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));tf()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return ie(_n),null;case 4:return ve(),null;case 10:return Mo(l.type),null;case 22:case 23:return Do(l),_v(),s!==null&&ie(ja),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return Mo(vn),null;case 25:return null;default:return null}}function rx(s,l){switch(ov(l),l.tag){case 3:Mo(vn),ve();break;case 26:case 27:case 5:He(l);break;case 4:ve();break;case 13:Do(l);break;case 19:ie(_n);break;case 10:Mo(l.type);break;case 22:case 23:Do(l),_v(),s!==null&&ie(ja);break;case 24:Mo(vn)}}function _f(s,l){try{var f=l.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var T=g.next;f=T;do{if((f.tag&s)===s){g=void 0;var S=f.create,I=f.inst;g=S(),I.destroy=g}f=f.next}while(f!==T)}}catch(V){xt(l,l.return,V)}}function Cs(s,l,f){try{var g=l.updateQueue,T=g!==null?g.lastEffect:null;if(T!==null){var S=T.next;g=S;do{if((g.tag&s)===s){var I=g.inst,V=I.destroy;if(V!==void 0){I.destroy=void 0,T=l;var K=f,Q=V;try{Q()}catch(se){xt(T,K,se)}}}g=g.next}while(g!==S)}}catch(se){xt(l,l.return,se)}}function ix(s){var l=s.updateQueue;if(l!==null){var f=s.stateNode;try{GA(l,f)}catch(g){xt(s,s.return,g)}}}function ox(s,l,f){f.props=Wa(s.type,s.memoizedProps),f.state=s.memoizedState;try{f.componentWillUnmount()}catch(g){xt(s,l,g)}}function Tf(s,l){try{var f=s.ref;if(f!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof f=="function"?s.refCleanup=f(g):f.current=g}}catch(T){xt(s,l,T)}}function Yi(s,l){var f=s.ref,g=s.refCleanup;if(f!==null)if(typeof g=="function")try{g()}catch(T){xt(s,l,T)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(T){xt(s,l,T)}else f.current=null}function sx(s){var l=s.type,f=s.memoizedProps,g=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&g.focus();break e;case"img":f.src?g.src=f.src:f.srcSet&&(g.srcset=f.srcSet)}}catch(T){xt(s,s.return,T)}}function jv(s,l,f){try{var g=s.stateNode;VB(g,s.type,f,l),g[on]=l}catch(T){xt(s,s.return,T)}}function ax(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ks(s.type)||s.tag===4}function Yv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||ax(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ks(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Wv(s,l,f){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(s,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(s),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=bp));else if(g!==4&&(g===27&&ks(s.type)&&(f=s.stateNode,l=null),s=s.child,s!==null))for(Wv(s,l,f),s=s.sibling;s!==null;)Wv(s,l,f),s=s.sibling}function hp(s,l,f){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?f.insertBefore(s,l):f.appendChild(s);else if(g!==4&&(g===27&&ks(s.type)&&(f=s.stateNode),s=s.child,s!==null))for(hp(s,l,f),s=s.sibling;s!==null;)hp(s,l,f),s=s.sibling}function lx(s){var l=s.stateNode,f=s.memoizedProps;try{for(var g=s.type,T=l.attributes;T.length;)l.removeAttributeNode(T[0]);qn(l,g,f),l[mn]=s,l[on]=f}catch(S){xt(s,s.return,S)}}var Lo=!1,en=!1,Jv=!1,ux=typeof WeakSet=="function"?WeakSet:Set,xn=null;function yB(s,l){if(s=s.containerInfo,T0=Mp,s=TA(s),Yy(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var T=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var I=0,V=-1,K=-1,Q=0,se=0,ce=s,ee=null;t:for(;;){for(var te;ce!==f||T!==0&&ce.nodeType!==3||(V=I+T),ce!==S||g!==0&&ce.nodeType!==3||(K=I+g),ce.nodeType===3&&(I+=ce.nodeValue.length),(te=ce.firstChild)!==null;)ee=ce,ce=te;for(;;){if(ce===s)break t;if(ee===f&&++Q===T&&(V=I),ee===S&&++se===g&&(K=I),(te=ce.nextSibling)!==null)break;ce=ee,ee=ce.parentNode}ce=te}f=V===-1||K===-1?null:{start:V,end:K}}else f=null}f=f||{start:0,end:0}}else f=null;for(E0={focusedElem:s,selectionRange:f},Mp=!1,xn=l;xn!==null;)if(l=xn,s=l.child,(l.subtreeFlags&1024)!==0&&s!==null)s.return=l,xn=s;else for(;xn!==null;){switch(l=xn,S=l.alternate,s=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&S!==null){s=void 0,f=l,T=S.memoizedProps,S=S.memoizedState,g=f.stateNode;try{var $e=Wa(f.type,T,f.elementType===f.type);s=g.getSnapshotBeforeUpdate($e,S),g.__reactInternalSnapshotBeforeUpdate=s}catch(Le){xt(f,f.return,Le)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,f=s.nodeType,f===9)b0(s);else if(f===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":b0(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,xn=s;break}xn=l.return}}function cx(s,l,f){var g=f.flags;switch(f.tag){case 0:case 11:case 15:xs(s,f),g&4&&_f(5,f);break;case 1:if(xs(s,f),g&4)if(s=f.stateNode,l===null)try{s.componentDidMount()}catch(I){xt(f,f.return,I)}else{var T=Wa(f.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(T,l,s.__reactInternalSnapshotBeforeUpdate)}catch(I){xt(f,f.return,I)}}g&64&&ix(f),g&512&&Tf(f,f.return);break;case 3:if(xs(s,f),g&64&&(s=f.updateQueue,s!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{GA(s,l)}catch(I){xt(f,f.return,I)}}break;case 27:l===null&&g&4&&lx(f);case 26:case 5:xs(s,f),l===null&&g&4&&sx(f),g&512&&Tf(f,f.return);break;case 12:xs(s,f);break;case 13:xs(s,f),g&4&&hx(s,f),g&64&&(s=f.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(f=CB.bind(null,f),zB(s,f))));break;case 22:if(g=f.memoizedState!==null||Lo,!g){l=l!==null&&l.memoizedState!==null||en,T=Lo;var S=en;Lo=g,(en=l)&&!S?Rs(s,f,(f.subtreeFlags&8772)!==0):xs(s,f),Lo=T,en=S}break;case 30:break;default:xs(s,f)}}function fx(s){var l=s.alternate;l!==null&&(s.alternate=null,fx(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&ms(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Bt=null,hr=!1;function Vo(s,l,f){for(f=f.child;f!==null;)dx(s,l,f),f=f.sibling}function dx(s,l,f){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(We,f)}catch{}switch(f.tag){case 26:en||Yi(f,l),Vo(s,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:en||Yi(f,l);var g=Bt,T=hr;ks(f.type)&&(Bt=f.stateNode,hr=!1),Vo(s,l,f),If(f.stateNode),Bt=g,hr=T;break;case 5:en||Yi(f,l);case 6:if(g=Bt,T=hr,Bt=null,Vo(s,l,f),Bt=g,hr=T,Bt!==null)if(hr)try{(Bt.nodeType===9?Bt.body:Bt.nodeName==="HTML"?Bt.ownerDocument.body:Bt).removeChild(f.stateNode)}catch(S){xt(f,l,S)}else try{Bt.removeChild(f.stateNode)}catch(S){xt(f,l,S)}break;case 18:Bt!==null&&(hr?(s=Bt,e1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,f.stateNode),Vf(s)):e1(Bt,f.stateNode));break;case 4:g=Bt,T=hr,Bt=f.stateNode.containerInfo,hr=!0,Vo(s,l,f),Bt=g,hr=T;break;case 0:case 11:case 14:case 15:en||Cs(2,f,l),en||Cs(4,f,l),Vo(s,l,f);break;case 1:en||(Yi(f,l),g=f.stateNode,typeof g.componentWillUnmount=="function"&&ox(f,l,g)),Vo(s,l,f);break;case 21:Vo(s,l,f);break;case 22:en=(g=en)||f.memoizedState!==null,Vo(s,l,f),en=g;break;default:Vo(s,l,f)}}function hx(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Vf(s)}catch(f){xt(l,l.return,f)}}function vB(s){switch(s.tag){case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new ux),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new ux),l;default:throw Error(r(435,s.tag))}}function Xv(s,l){var f=vB(s);l.forEach(function(g){var T=xB.bind(null,s,g);f.has(g)||(f.add(g),g.then(T,T))})}function Ar(s,l){var f=l.deletions;if(f!==null)for(var g=0;g<f.length;g++){var T=f[g],S=s,I=l,V=I;e:for(;V!==null;){switch(V.tag){case 27:if(ks(V.type)){Bt=V.stateNode,hr=!1;break e}break;case 5:Bt=V.stateNode,hr=!1;break e;case 3:case 4:Bt=V.stateNode.containerInfo,hr=!0;break e}V=V.return}if(Bt===null)throw Error(r(160));dx(S,I,T),Bt=null,hr=!1,S=T.alternate,S!==null&&(S.return=null),T.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)px(l,s),l=l.sibling}var Ti=null;function px(s,l){var f=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ar(l,s),Cr(s),g&4&&(Cs(3,s,s.return),_f(3,s),Cs(5,s,s.return));break;case 1:Ar(l,s),Cr(s),g&512&&(en||f===null||Yi(f,f.return)),g&64&&Lo&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(f=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=f===null?g:f.concat(g))));break;case 26:var T=Ti;if(Ar(l,s),Cr(s),g&512&&(en||f===null||Yi(f,f.return)),g&4){var S=f!==null?f.memoizedState:null;if(g=s.memoizedState,f===null)if(g===null)if(s.stateNode===null){e:{g=s.type,f=s.memoizedProps,T=T.ownerDocument||T;t:switch(g){case"title":S=T.getElementsByTagName("title")[0],(!S||S[ba]||S[mn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=T.createElement(g),T.head.insertBefore(S,T.querySelector("head > title"))),qn(S,g,f),S[mn]=s,Qt(S),g=S;break e;case"link":var I=l1("link","href",T).get(g+(f.href||""));if(I){for(var V=0;V<I.length;V++)if(S=I[V],S.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&S.getAttribute("rel")===(f.rel==null?null:f.rel)&&S.getAttribute("title")===(f.title==null?null:f.title)&&S.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){I.splice(V,1);break t}}S=T.createElement(g),qn(S,g,f),T.head.appendChild(S);break;case"meta":if(I=l1("meta","content",T).get(g+(f.content||""))){for(V=0;V<I.length;V++)if(S=I[V],S.getAttribute("content")===(f.content==null?null:""+f.content)&&S.getAttribute("name")===(f.name==null?null:f.name)&&S.getAttribute("property")===(f.property==null?null:f.property)&&S.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&S.getAttribute("charset")===(f.charSet==null?null:f.charSet)){I.splice(V,1);break t}}S=T.createElement(g),qn(S,g,f),T.head.appendChild(S);break;default:throw Error(r(468,g))}S[mn]=s,Qt(S),g=S}s.stateNode=g}else u1(T,s.type,s.stateNode);else s.stateNode=a1(T,g,s.memoizedProps);else S!==g?(S===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):S.count--,g===null?u1(T,s.type,s.stateNode):a1(T,g,s.memoizedProps)):g===null&&s.stateNode!==null&&jv(s,s.memoizedProps,f.memoizedProps)}break;case 27:Ar(l,s),Cr(s),g&512&&(en||f===null||Yi(f,f.return)),f!==null&&g&4&&jv(s,s.memoizedProps,f.memoizedProps);break;case 5:if(Ar(l,s),Cr(s),g&512&&(en||f===null||Yi(f,f.return)),s.flags&32){T=s.stateNode;try{zr(T,"")}catch(te){xt(s,s.return,te)}}g&4&&s.stateNode!=null&&(T=s.memoizedProps,jv(s,T,f!==null?f.memoizedProps:T)),g&1024&&(Jv=!0);break;case 6:if(Ar(l,s),Cr(s),g&4){if(s.stateNode===null)throw Error(r(162));g=s.memoizedProps,f=s.stateNode;try{f.nodeValue=g}catch(te){xt(s,s.return,te)}}break;case 3:if(Rp=null,T=Ti,Ti=Cp(l.containerInfo),Ar(l,s),Ti=T,Cr(s),g&4&&f!==null&&f.memoizedState.isDehydrated)try{Vf(l.containerInfo)}catch(te){xt(s,s.return,te)}Jv&&(Jv=!1,mx(s));break;case 4:g=Ti,Ti=Cp(s.stateNode.containerInfo),Ar(l,s),Cr(s),Ti=g;break;case 12:Ar(l,s),Cr(s);break;case 13:Ar(l,s),Cr(s),s.child.flags&8192&&s.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(r0=$t()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Xv(s,g)));break;case 22:T=s.memoizedState!==null;var K=f!==null&&f.memoizedState!==null,Q=Lo,se=en;if(Lo=Q||T,en=se||K,Ar(l,s),en=se,Lo=Q,Cr(s),g&8192)e:for(l=s.stateNode,l._visibility=T?l._visibility&-2:l._visibility|1,T&&(f===null||K||Lo||en||Ja(s)),f=null,l=s;;){if(l.tag===5||l.tag===26){if(f===null){K=f=l;try{if(S=K.stateNode,T)I=S.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{V=K.stateNode;var ce=K.memoizedProps.style,ee=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;V.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){xt(K,K.return,te)}}}else if(l.tag===6){if(f===null){K=l;try{K.stateNode.nodeValue=T?"":K.memoizedProps}catch(te){xt(K,K.return,te)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=s.updateQueue,g!==null&&(f=g.retryQueue,f!==null&&(g.retryQueue=null,Xv(s,f))));break;case 19:Ar(l,s),Cr(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Xv(s,g)));break;case 30:break;case 21:break;default:Ar(l,s),Cr(s)}}function Cr(s){var l=s.flags;if(l&2){try{for(var f,g=s.return;g!==null;){if(ax(g)){f=g;break}g=g.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var T=f.stateNode,S=Yv(s);hp(s,S,T);break;case 5:var I=f.stateNode;f.flags&32&&(zr(I,""),f.flags&=-33);var V=Yv(s);hp(s,V,I);break;case 3:case 4:var K=f.stateNode.containerInfo,Q=Yv(s);Wv(s,Q,K);break;default:throw Error(r(161))}}catch(se){xt(s,s.return,se)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function mx(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;mx(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function xs(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)cx(s,l.alternate,l),l=l.sibling}function Ja(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:Cs(4,l,l.return),Ja(l);break;case 1:Yi(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&ox(l,l.return,f),Ja(l);break;case 27:If(l.stateNode);case 26:case 5:Yi(l,l.return),Ja(l);break;case 22:l.memoizedState===null&&Ja(l);break;case 30:Ja(l);break;default:Ja(l)}s=s.sibling}}function Rs(s,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,T=s,S=l,I=S.flags;switch(S.tag){case 0:case 11:case 15:Rs(T,S,f),_f(4,S);break;case 1:if(Rs(T,S,f),g=S,T=g.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Q){xt(g,g.return,Q)}if(g=S,T=g.updateQueue,T!==null){var V=g.stateNode;try{var K=T.shared.hiddenCallbacks;if(K!==null)for(T.shared.hiddenCallbacks=null,T=0;T<K.length;T++)zA(K[T],V)}catch(Q){xt(g,g.return,Q)}}f&&I&64&&ix(S),Tf(S,S.return);break;case 27:lx(S);case 26:case 5:Rs(T,S,f),f&&g===null&&I&4&&sx(S),Tf(S,S.return);break;case 12:Rs(T,S,f);break;case 13:Rs(T,S,f),f&&I&4&&hx(T,S);break;case 22:S.memoizedState===null&&Rs(T,S,f),Tf(S,S.return);break;case 30:break;default:Rs(T,S,f)}l=l.sibling}}function Qv(s,l){var f=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==f&&(s!=null&&s.refCount++,f!=null&&of(f))}function Zv(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&of(s))}function Wi(s,l,f,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)gx(s,l,f,g),l=l.sibling}function gx(s,l,f,g){var T=l.flags;switch(l.tag){case 0:case 11:case 15:Wi(s,l,f,g),T&2048&&_f(9,l);break;case 1:Wi(s,l,f,g);break;case 3:Wi(s,l,f,g),T&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&of(s)));break;case 12:if(T&2048){Wi(s,l,f,g),s=l.stateNode;try{var S=l.memoizedProps,I=S.id,V=S.onPostCommit;typeof V=="function"&&V(I,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(K){xt(l,l.return,K)}}else Wi(s,l,f,g);break;case 13:Wi(s,l,f,g);break;case 23:break;case 22:S=l.stateNode,I=l.alternate,l.memoizedState!==null?S._visibility&2?Wi(s,l,f,g):Ef(s,l):S._visibility&2?Wi(s,l,f,g):(S._visibility|=2,pu(s,l,f,g,(l.subtreeFlags&10256)!==0)),T&2048&&Qv(I,l);break;case 24:Wi(s,l,f,g),T&2048&&Zv(l.alternate,l);break;default:Wi(s,l,f,g)}}function pu(s,l,f,g,T){for(T=T&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var S=s,I=l,V=f,K=g,Q=I.flags;switch(I.tag){case 0:case 11:case 15:pu(S,I,V,K,T),_f(8,I);break;case 23:break;case 22:var se=I.stateNode;I.memoizedState!==null?se._visibility&2?pu(S,I,V,K,T):Ef(S,I):(se._visibility|=2,pu(S,I,V,K,T)),T&&Q&2048&&Qv(I.alternate,I);break;case 24:pu(S,I,V,K,T),T&&Q&2048&&Zv(I.alternate,I);break;default:pu(S,I,V,K,T)}l=l.sibling}}function Ef(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=s,g=l,T=g.flags;switch(g.tag){case 22:Ef(f,g),T&2048&&Qv(g.alternate,g);break;case 24:Ef(f,g),T&2048&&Zv(g.alternate,g);break;default:Ef(f,g)}l=l.sibling}}var Sf=8192;function mu(s){if(s.subtreeFlags&Sf)for(s=s.child;s!==null;)yx(s),s=s.sibling}function yx(s){switch(s.tag){case 26:mu(s),s.flags&Sf&&s.memoizedState!==null&&rF(Ti,s.memoizedState,s.memoizedProps);break;case 5:mu(s);break;case 3:case 4:var l=Ti;Ti=Cp(s.stateNode.containerInfo),mu(s),Ti=l;break;case 22:s.memoizedState===null&&(l=s.alternate,l!==null&&l.memoizedState!==null?(l=Sf,Sf=16777216,mu(s),Sf=l):mu(s));break;default:mu(s)}}function vx(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function wf(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var g=l[f];xn=g,Tx(g,s)}vx(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)_x(s),s=s.sibling}function _x(s){switch(s.tag){case 0:case 11:case 15:wf(s),s.flags&2048&&Cs(9,s,s.return);break;case 3:wf(s);break;case 12:wf(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,pp(s)):wf(s);break;default:wf(s)}}function pp(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var g=l[f];xn=g,Tx(g,s)}vx(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:Cs(8,l,l.return),pp(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,pp(l));break;default:pp(l)}s=s.sibling}}function Tx(s,l){for(;xn!==null;){var f=xn;switch(f.tag){case 0:case 11:case 15:Cs(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var g=f.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:of(f.memoizedState.cache)}if(g=f.child,g!==null)g.return=f,xn=g;else e:for(f=s;xn!==null;){g=xn;var T=g.sibling,S=g.return;if(fx(g),g===f){xn=null;break e}if(T!==null){T.return=S,xn=T;break e}xn=S}}}var _B={getCacheForType:function(s){var l=Yn(vn),f=l.data.get(s);return f===void 0&&(f=s(),l.data.set(s,f)),f}},TB=typeof WeakMap=="function"?WeakMap:Map,yt=0,Pt=null,et=null,at=0,vt=0,xr=null,Is=!1,gu=!1,e0=!1,Uo=0,Yt=0,Ps=0,Xa=0,t0=0,Zr=0,yu=0,bf=null,pr=null,n0=!1,r0=0,mp=1/0,gp=null,Ms=null,Fn=0,Ns=null,vu=null,_u=0,i0=0,o0=null,Ex=null,Af=0,s0=null;function Rr(){if((yt&2)!==0&&at!==0)return at&-at;if(Z.T!==null){var s=su;return s!==0?s:h0()}return hs()}function Sx(){Zr===0&&(Zr=(at&536870912)===0||dt?Dc():536870912);var s=Qr.current;return s!==null&&(s.flags|=32),Zr}function Ir(s,l,f){(s===Pt&&(vt===2||vt===9)||s.cancelPendingCommit!==null)&&(Tu(s,0),Ds(s,at,Zr,!1)),go(s,f),((yt&2)===0||s!==Pt)&&(s===Pt&&((yt&2)===0&&(Xa|=f),Yt===4&&Ds(s,at,Zr,!1)),Ji(s))}function wx(s,l,f){if((yt&6)!==0)throw Error(r(327));var g=!f&&(l&124)===0&&(l&s.expiredLanes)===0||wa(s,l),T=g?wB(s,l):u0(s,l,!0),S=g;do{if(T===0){gu&&!g&&Ds(s,l,0,!1);break}else{if(f=s.current.alternate,S&&!EB(f)){T=u0(s,l,!1),S=!1;continue}if(T===2){if(S=l,s.errorRecoveryDisabledLanes&S)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){l=I;e:{var V=s;T=bf;var K=V.current.memoizedState.isDehydrated;if(K&&(Tu(V,I).flags|=256),I=u0(V,I,!1),I!==2){if(e0&&!K){V.errorRecoveryDisabledLanes|=S,Xa|=S,T=4;break e}S=pr,pr=T,S!==null&&(pr===null?pr=S:pr.push.apply(pr,S))}T=I}if(S=!1,T!==2)continue}}if(T===1){Tu(s,0),Ds(s,l,0,!0);break}e:{switch(g=s,S=T,S){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Ds(g,l,Zr,!Is);break e;case 2:pr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(T=r0+300-$t(),10<T)){if(Ds(g,l,Zr,!Is),Vl(g,0,!0)!==0)break e;g.timeoutHandle=Qx(bx.bind(null,g,f,pr,gp,n0,l,Zr,Xa,yu,Is,S,2,-0,0),T);break e}bx(g,f,pr,gp,n0,l,Zr,Xa,yu,Is,S,0,-0,0)}}break}while(!0);Ji(s)}function bx(s,l,f,g,T,S,I,V,K,Q,se,ce,ee,te){if(s.timeoutHandle=-1,ce=l.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(Nf={stylesheets:null,count:0,unsuspend:nF},yx(l),ce=iF(),ce!==null)){s.cancelPendingCommit=ce(Mx.bind(null,s,l,S,f,g,T,I,V,K,se,1,ee,te)),Ds(s,S,I,!Q);return}Mx(s,l,S,f,g,T,I,V,K)}function EB(s){for(var l=s;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var g=0;g<f.length;g++){var T=f[g],S=T.getSnapshot;T=T.value;try{if(!wr(S(),T))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ds(s,l,f,g){l&=~t0,l&=~Xa,s.suspendedLanes|=l,s.pingedLanes&=~l,g&&(s.warmLanes|=l),g=s.expirationTimes;for(var T=l;0<T;){var S=31-Ct(T),I=1<<S;g[S]=-1,T&=~I}f!==0&&Oi(s,f,l)}function yp(){return(yt&6)===0?(Cf(0),!1):!0}function a0(){if(et!==null){if(vt===0)var s=et.return;else s=et,Po=Ga=null,bv(s),du=null,gf=0,s=et;for(;s!==null;)rx(s.alternate,s),s=s.return;et=null}}function Tu(s,l){var f=s.timeoutHandle;f!==-1&&(s.timeoutHandle=-1,BB(f)),f=s.cancelPendingCommit,f!==null&&(s.cancelPendingCommit=null,f()),a0(),Pt=s,et=f=xo(s.current,null),at=l,vt=0,xr=null,Is=!1,gu=wa(s,l),e0=!1,yu=Zr=t0=Xa=Ps=Yt=0,pr=bf=null,n0=!1,(l&8)!==0&&(l|=l&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=l;0<g;){var T=31-Ct(g),S=1<<T;l|=s[T],g&=~S}return Uo=l,Bh(),f}function Ax(s,l){Je=null,Z.H=ip,l===af||l===Yh?(l=$A(),vt=3):l===BA?(l=$A(),vt=4):vt=l===HC?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,xr=l,et===null&&(Yt=1,up(s,Yr(l,s.current)))}function Cx(){var s=Z.H;return Z.H=ip,s===null?ip:s}function xx(){var s=Z.A;return Z.A=_B,s}function l0(){Yt=4,Is||(at&4194048)!==at&&Qr.current!==null||(gu=!0),(Ps&134217727)===0&&(Xa&134217727)===0||Pt===null||Ds(Pt,at,Zr,!1)}function u0(s,l,f){var g=yt;yt|=2;var T=Cx(),S=xx();(Pt!==s||at!==l)&&(gp=null,Tu(s,l)),l=!1;var I=Yt;e:do try{if(vt!==0&&et!==null){var V=et,K=xr;switch(vt){case 8:a0(),I=6;break e;case 3:case 2:case 9:case 6:Qr.current===null&&(l=!0);var Q=vt;if(vt=0,xr=null,Eu(s,V,K,Q),f&&gu){I=0;break e}break;default:Q=vt,vt=0,xr=null,Eu(s,V,K,Q)}}SB(),I=Yt;break}catch(se){Ax(s,se)}while(!0);return l&&s.shellSuspendCounter++,Po=Ga=null,yt=g,Z.H=T,Z.A=S,et===null&&(Pt=null,at=0,Bh()),I}function SB(){for(;et!==null;)Rx(et)}function wB(s,l){var f=yt;yt|=2;var g=Cx(),T=xx();Pt!==s||at!==l?(gp=null,mp=$t()+500,Tu(s,l)):gu=wa(s,l);e:do try{if(vt!==0&&et!==null){l=et;var S=xr;t:switch(vt){case 1:vt=0,xr=null,Eu(s,l,S,1);break;case 2:case 9:if(FA(S)){vt=0,xr=null,Ix(l);break}l=function(){vt!==2&&vt!==9||Pt!==s||(vt=7),Ji(s)},S.then(l,l);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:FA(S)?(vt=0,xr=null,Ix(l)):(vt=0,xr=null,Eu(s,l,S,7));break;case 5:var I=null;switch(et.tag){case 26:I=et.memoizedState;case 5:case 27:var V=et;if(!I||c1(I)){vt=0,xr=null;var K=V.sibling;if(K!==null)et=K;else{var Q=V.return;Q!==null?(et=Q,vp(Q)):et=null}break t}}vt=0,xr=null,Eu(s,l,S,5);break;case 6:vt=0,xr=null,Eu(s,l,S,6);break;case 8:a0(),Yt=6;break e;default:throw Error(r(462))}}bB();break}catch(se){Ax(s,se)}while(!0);return Po=Ga=null,Z.H=g,Z.A=T,yt=f,et!==null?0:(Pt=null,at=0,Bh(),Yt)}function bB(){for(;et!==null&&!Kt();)Rx(et)}function Rx(s){var l=tx(s.alternate,s,Uo);s.memoizedProps=s.pendingProps,l===null?vp(s):et=l}function Ix(s){var l=s,f=l.alternate;switch(l.tag){case 15:case 0:l=WC(f,l,l.pendingProps,l.type,void 0,at);break;case 11:l=WC(f,l,l.pendingProps,l.type.render,l.ref,at);break;case 5:bv(l);default:rx(f,l),l=et=PA(l,Uo),l=tx(f,l,Uo)}s.memoizedProps=s.pendingProps,l===null?vp(s):et=l}function Eu(s,l,f,g){Po=Ga=null,bv(l),du=null,gf=0;var T=l.return;try{if(hB(s,T,l,f,at)){Yt=1,up(s,Yr(f,s.current)),et=null;return}}catch(S){if(T!==null)throw et=T,S;Yt=1,up(s,Yr(f,s.current)),et=null;return}l.flags&32768?(dt||g===1?s=!0:gu||(at&536870912)!==0?s=!1:(Is=s=!0,(g===2||g===9||g===3||g===6)&&(g=Qr.current,g!==null&&g.tag===13&&(g.flags|=16384))),Px(l,s)):vp(l)}function vp(s){var l=s;do{if((l.flags&32768)!==0){Px(l,Is);return}s=l.return;var f=mB(l.alternate,l,Uo);if(f!==null){et=f;return}if(l=l.sibling,l!==null){et=l;return}et=l=s}while(l!==null);Yt===0&&(Yt=5)}function Px(s,l){do{var f=gB(s.alternate,s);if(f!==null){f.flags&=32767,et=f;return}if(f=s.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(s=s.sibling,s!==null)){et=s;return}et=s=f}while(s!==null);Yt=6,et=null}function Mx(s,l,f,g,T,S,I,V,K){s.cancelPendingCommit=null;do _p();while(Fn!==0);if((yt&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(S=l.lanes|l.childLanes,S|=Zy,Oc(s,f,S,I,V,K),s===Pt&&(et=Pt=null,at=0),vu=l,Ns=s,_u=f,i0=S,o0=T,Ex=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,RB(we,function(){return Lx(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=Z.T,Z.T=null,T=de.p,de.p=2,I=yt,yt|=4;try{yB(s,l,f)}finally{yt=I,de.p=T,Z.T=g}}Fn=1,Nx(),Dx(),kx()}}function Nx(){if(Fn===1){Fn=0;var s=Ns,l=vu,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=Z.T,Z.T=null;var g=de.p;de.p=2;var T=yt;yt|=4;try{px(l,s);var S=E0,I=TA(s.containerInfo),V=S.focusedElem,K=S.selectionRange;if(I!==V&&V&&V.ownerDocument&&_A(V.ownerDocument.documentElement,V)){if(K!==null&&Yy(V)){var Q=K.start,se=K.end;if(se===void 0&&(se=Q),"selectionStart"in V)V.selectionStart=Q,V.selectionEnd=Math.min(se,V.value.length);else{var ce=V.ownerDocument||document,ee=ce&&ce.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),$e=V.textContent.length,Le=Math.min(K.start,$e),bt=K.end===void 0?Le:Math.min(K.end,$e);!te.extend&&Le>bt&&(I=bt,bt=Le,Le=I);var W=vA(V,Le),Y=vA(V,bt);if(W&&Y&&(te.rangeCount!==1||te.anchorNode!==W.node||te.anchorOffset!==W.offset||te.focusNode!==Y.node||te.focusOffset!==Y.offset)){var X=ce.createRange();X.setStart(W.node,W.offset),te.removeAllRanges(),Le>bt?(te.addRange(X),te.extend(Y.node,Y.offset)):(X.setEnd(Y.node,Y.offset),te.addRange(X))}}}}for(ce=[],te=V;te=te.parentNode;)te.nodeType===1&&ce.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<ce.length;V++){var le=ce[V];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Mp=!!T0,E0=T0=null}finally{yt=T,de.p=g,Z.T=f}}s.current=l,Fn=2}}function Dx(){if(Fn===2){Fn=0;var s=Ns,l=vu,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=Z.T,Z.T=null;var g=de.p;de.p=2;var T=yt;yt|=4;try{cx(s,l.alternate,l)}finally{yt=T,de.p=g,Z.T=f}}Fn=3}}function kx(){if(Fn===4||Fn===3){Fn=0,Xt();var s=Ns,l=vu,f=_u,g=Ex;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Fn=5:(Fn=0,vu=Ns=null,Ox(s,s.pendingLanes));var T=s.pendingLanes;if(T===0&&(Ms=null),Ul(f),l=l.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(We,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=Z.T,T=de.p,de.p=2,Z.T=null;try{for(var S=s.onRecoverableError,I=0;I<g.length;I++){var V=g[I];S(V.value,{componentStack:V.stack})}}finally{Z.T=l,de.p=T}}(_u&3)!==0&&_p(),Ji(s),T=s.pendingLanes,(f&4194090)!==0&&(T&42)!==0?s===s0?Af++:(Af=0,s0=s):Af=0,Cf(0)}}function Ox(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,of(l)))}function _p(s){return Nx(),Dx(),kx(),Lx()}function Lx(){if(Fn!==5)return!1;var s=Ns,l=i0;i0=0;var f=Ul(_u),g=Z.T,T=de.p;try{de.p=32>f?32:f,Z.T=null,f=o0,o0=null;var S=Ns,I=_u;if(Fn=0,vu=Ns=null,_u=0,(yt&6)!==0)throw Error(r(331));var V=yt;if(yt|=4,_x(S.current),gx(S,S.current,I,f),yt=V,Cf(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(We,S)}catch{}return!0}finally{de.p=T,Z.T=g,Ox(s,l)}}function Vx(s,l,f){l=Yr(f,l),l=Uv(s.stateNode,l,2),s=Ss(s,l,2),s!==null&&(go(s,2),Ji(s))}function xt(s,l,f){if(s.tag===3)Vx(s,s,f);else for(;l!==null;){if(l.tag===3){Vx(l,s,f);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ms===null||!Ms.has(g))){s=Yr(f,s),f=qC(2),g=Ss(l,f,2),g!==null&&($C(f,g,l,s),go(g,2),Ji(g));break}}l=l.return}}function c0(s,l,f){var g=s.pingCache;if(g===null){g=s.pingCache=new TB;var T=new Set;g.set(l,T)}else T=g.get(l),T===void 0&&(T=new Set,g.set(l,T));T.has(f)||(e0=!0,T.add(f),s=AB.bind(null,s,l,f),l.then(s,s))}function AB(s,l,f){var g=s.pingCache;g!==null&&g.delete(l),s.pingedLanes|=s.suspendedLanes&f,s.warmLanes&=~f,Pt===s&&(at&f)===f&&(Yt===4||Yt===3&&(at&62914560)===at&&300>$t()-r0?(yt&2)===0&&Tu(s,0):t0|=f,yu===at&&(yu=0)),Ji(s)}function Ux(s,l){l===0&&(l=kc()),s=nu(s,l),s!==null&&(go(s,l),Ji(s))}function CB(s){var l=s.memoizedState,f=0;l!==null&&(f=l.retryLane),Ux(s,f)}function xB(s,l){var f=0;switch(s.tag){case 13:var g=s.stateNode,T=s.memoizedState;T!==null&&(f=T.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(l),Ux(s,f)}function RB(s,l){return It(s,l)}var Tp=null,Su=null,f0=!1,Ep=!1,d0=!1,Qa=0;function Ji(s){s!==Su&&s.next===null&&(Su===null?Tp=Su=s:Su=Su.next=s),Ep=!0,f0||(f0=!0,PB())}function Cf(s,l){if(!d0&&Ep){d0=!0;do for(var f=!1,g=Tp;g!==null;){if(s!==0){var T=g.pendingLanes;if(T===0)var S=0;else{var I=g.suspendedLanes,V=g.pingedLanes;S=(1<<31-Ct(42|s)+1)-1,S&=T&~(I&~V),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(f=!0,$x(g,S))}else S=at,S=Vl(g,g===Pt?S:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(S&3)===0||wa(g,S)||(f=!0,$x(g,S));g=g.next}while(f);d0=!1}}function IB(){Bx()}function Bx(){Ep=f0=!1;var s=0;Qa!==0&&(UB()&&(s=Qa),Qa=0);for(var l=$t(),f=null,g=Tp;g!==null;){var T=g.next,S=Fx(g,l);S===0?(g.next=null,f===null?Tp=T:f.next=T,T===null&&(Su=f)):(f=g,(s!==0||(S&3)!==0)&&(Ep=!0)),g=T}Cf(s)}function Fx(s,l){for(var f=s.suspendedLanes,g=s.pingedLanes,T=s.expirationTimes,S=s.pendingLanes&-62914561;0<S;){var I=31-Ct(S),V=1<<I,K=T[I];K===-1?((V&f)===0||(V&g)!==0)&&(T[I]=Nc(V,l)):K<=l&&(s.expiredLanes|=V),S&=~V}if(l=Pt,f=at,f=Vl(s,s===l?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,f===0||s===l&&(vt===2||vt===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&Ze(g),s.callbackNode=null,s.callbackPriority=0;if((f&3)===0||wa(s,f)){if(l=f&-f,l===s.callbackPriority)return l;switch(g!==null&&Ze(g),Ul(f)){case 2:case 8:f=me;break;case 32:f=we;break;case 268435456:f=be;break;default:f=we}return g=qx.bind(null,s),f=It(f,g),s.callbackPriority=l,s.callbackNode=f,l}return g!==null&&g!==null&&Ze(g),s.callbackPriority=2,s.callbackNode=null,2}function qx(s,l){if(Fn!==0&&Fn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var f=s.callbackNode;if(_p()&&s.callbackNode!==f)return null;var g=at;return g=Vl(s,s===Pt?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:(wx(s,g,l),Fx(s,$t()),s.callbackNode!=null&&s.callbackNode===f?qx.bind(null,s):null)}function $x(s,l){if(_p())return null;wx(s,l,!0)}function PB(){FB(function(){(yt&6)!==0?It(oe,IB):Bx()})}function h0(){return Qa===0&&(Qa=Dc()),Qa}function Hx(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:zl(""+s)}function zx(s,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,s.id&&f.setAttribute("form",s.id),l.parentNode.insertBefore(f,l),s=new FormData(s),f.parentNode.removeChild(f),s}function MB(s,l,f,g,T){if(l==="submit"&&f&&f.stateNode===T){var S=Hx((T[on]||null).action),I=g.submitter;I&&(l=(l=I[on]||null)?Hx(l.formAction):I.getAttribute("formAction"),l!==null&&(S=l,I=null));var V=new Gl("action","action",null,g,T);s.push({event:V,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Qa!==0){var K=I?zx(T,I):new FormData(T);Dv(f,{pending:!0,data:K,method:T.method,action:S},null,K)}}else typeof S=="function"&&(V.preventDefault(),K=I?zx(T,I):new FormData(T),Dv(f,{pending:!0,data:K,method:T.method,action:S},S,K))},currentTarget:T}]})}}for(var p0=0;p0<Qy.length;p0++){var m0=Qy[p0],NB=m0.toLowerCase(),DB=m0[0].toUpperCase()+m0.slice(1);_i(NB,"on"+DB)}_i(wA,"onAnimationEnd"),_i(bA,"onAnimationIteration"),_i(AA,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(J6,"onTransitionRun"),_i(X6,"onTransitionStart"),_i(Q6,"onTransitionCancel"),_i(CA,"onTransitionEnd"),vo("onMouseEnter",["mouseout","mouseover"]),vo("onMouseLeave",["mouseout","mouseover"]),vo("onPointerEnter",["pointerout","pointerover"]),vo("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xf));function Gx(s,l){l=(l&4)!==0;for(var f=0;f<s.length;f++){var g=s[f],T=g.event;g=g.listeners;e:{var S=void 0;if(l)for(var I=g.length-1;0<=I;I--){var V=g[I],K=V.instance,Q=V.currentTarget;if(V=V.listener,K!==S&&T.isPropagationStopped())break e;S=V,T.currentTarget=Q;try{S(T)}catch(se){lp(se)}T.currentTarget=null,S=K}else for(I=0;I<g.length;I++){if(V=g[I],K=V.instance,Q=V.currentTarget,V=V.listener,K!==S&&T.isPropagationStopped())break e;S=V,T.currentTarget=Q;try{S(T)}catch(se){lp(se)}T.currentTarget=null,S=K}}}}function tt(s,l){var f=l[Vc];f===void 0&&(f=l[Vc]=new Set);var g=s+"__bubble";f.has(g)||(Kx(l,s,2,!1),f.add(g))}function g0(s,l,f){var g=0;l&&(g|=4),Kx(f,s,g,l)}var Sp="_reactListening"+Math.random().toString(36).slice(2);function y0(s){if(!s[Sp]){s[Sp]=!0,Uc.forEach(function(f){f!=="selectionchange"&&(kB.has(f)||g0(f,!1,s),g0(f,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Sp]||(l[Sp]=!0,g0("selectionchange",!1,l))}}function Kx(s,l,f,g){switch(g1(l)){case 2:var T=aF;break;case 8:T=lF;break;default:T=M0}f=T.bind(null,l,f,s),T=void 0,!Kr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(T=!0),g?T!==void 0?s.addEventListener(l,f,{capture:!0,passive:T}):s.addEventListener(l,f,!0):T!==void 0?s.addEventListener(l,f,{passive:T}):s.addEventListener(l,f,!1)}function v0(s,l,f,g,T){var S=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var I=g.tag;if(I===3||I===4){var V=g.stateNode.containerInfo;if(V===T)break;if(I===4)for(I=g.return;I!==null;){var K=I.tag;if((K===3||K===4)&&I.stateNode.containerInfo===T)return;I=I.return}for(;V!==null;){if(I=yo(V),I===null)return;if(K=I.tag,K===5||K===6||K===26||K===27){g=S=I;continue e}V=V.parentNode}}g=g.return}bh(function(){var Q=S,se=Gr(f),ce=[];e:{var ee=xA.get(s);if(ee!==void 0){var te=Gl,$e=s;switch(s){case"keypress":if(qi(f)===0)break e;case"keydown":case"keyup":te=Xl;break;case"focusin":$e="focus",te=Yl;break;case"focusout":$e="blur",te=Yl;break;case"beforeblur":case"afterblur":te=Yl;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=jr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=zy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Nh;break;case wA:case bA:case AA:te=Wl;break;case CA:te=kh;break;case"scroll":case"scrollend":te=Ah;break;case"wheel":te=Ql;break;case"copy":case"cut":case"paste":te=Jl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Jc;break;case"toggle":case"beforetoggle":te=Lh}var Le=(l&4)!==0,bt=!Le&&(s==="scroll"||s==="scrollend"),W=Le?ee!==null?ee+"Capture":null:ee;Le=[];for(var Y=Q,X;Y!==null;){var le=Y;if(X=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||X===null||W===null||(le=Ma(Y,W),le!=null&&Le.push(Rf(Y,le,X))),bt)break;Y=Y.return}0<Le.length&&(ee=new te(ee,$e,null,f,se),ce.push({event:ee,listeners:Le}))}}if((l&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",te=s==="mouseout"||s==="pointerout",ee&&f!==Eo&&($e=f.relatedTarget||f.fromElement)&&(yo($e)||$e[Hr]))break e;if((te||ee)&&(ee=se.window===se?se:(ee=se.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?($e=f.relatedTarget||f.toElement,te=Q,$e=$e?yo($e):null,$e!==null&&(bt=o($e),Le=$e.tag,$e!==bt||Le!==5&&Le!==27&&Le!==6)&&($e=null)):(te=null,$e=Q),te!==$e)){if(Le=jr,le="onMouseLeave",W="onMouseEnter",Y="mouse",(s==="pointerout"||s==="pointerover")&&(Le=Jc,le="onPointerLeave",W="onPointerEnter",Y="pointer"),bt=te==null?ee:Vi(te),X=$e==null?ee:Vi($e),ee=new Le(le,Y+"leave",te,f,se),ee.target=bt,ee.relatedTarget=X,le=null,yo(se)===Q&&(Le=new Le(W,Y+"enter",$e,f,se),Le.target=X,Le.relatedTarget=bt,le=Le),bt=le,te&&$e)t:{for(Le=te,W=$e,Y=0,X=Le;X;X=wu(X))Y++;for(X=0,le=W;le;le=wu(le))X++;for(;0<Y-X;)Le=wu(Le),Y--;for(;0<X-Y;)W=wu(W),X--;for(;Y--;){if(Le===W||W!==null&&Le===W.alternate)break t;Le=wu(Le),W=wu(W)}Le=null}else Le=null;te!==null&&jx(ce,ee,te,Le,!1),$e!==null&&bt!==null&&jx(ce,bt,$e,Le,!0)}}e:{if(ee=Q?Vi(Q):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var Ie=dA;else if(yn(ee))if(hA)Ie=j6;else{Ie=G6;var Qe=z6}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Q&&Hc(Q.elementType)&&(Ie=dA):Ie=K6;if(Ie&&(Ie=Ie(s,Q))){Co(ce,Ie,f,se);break e}Qe&&Qe(s,ee,Q),s==="focusout"&&Q&&ee.type==="number"&&Q.memoizedProps.value!=null&&ys(ee,"number",ee.value)}switch(Qe=Q?Vi(Q):window,s){case"focusin":(yn(Qe)||Qe.contentEditable==="true")&&(Zl=Qe,Wy=Q,Zc=null);break;case"focusout":Zc=Wy=Zl=null;break;case"mousedown":Jy=!0;break;case"contextmenu":case"mouseup":case"dragend":Jy=!1,EA(ce,f,se);break;case"selectionchange":if(W6)break;case"keydown":case"keyup":EA(ce,f,se)}var De;if(zi)e:{switch(s){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else ot?ne(s,f)&&(Be="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(Be="onCompositionStart");Be&&(x&&f.locale!=="ko"&&(ot||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&ot&&(De=Gc()):(Fi=se,vs="value"in Fi?Fi.value:Fi.textContent,ot=!0)),Qe=wp(Q,Be),0<Qe.length&&(Be=new Yc(Be,s,null,f,se),ce.push({event:Be,listeners:Qe}),De?Be.data=De:(De=ge(f),De!==null&&(Be.data=De)))),(De=A?gn(s,f):st(s,f))&&(Be=wp(Q,"onBeforeInput"),0<Be.length&&(Qe=new Yc("onBeforeInput","beforeinput",null,f,se),ce.push({event:Qe,listeners:Be}),Qe.data=De)),MB(ce,s,Q,f,se)}Gx(ce,l)})}function Rf(s,l,f){return{instance:s,listener:l,currentTarget:f}}function wp(s,l){for(var f=l+"Capture",g=[];s!==null;){var T=s,S=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||S===null||(T=Ma(s,f),T!=null&&g.unshift(Rf(s,T,S)),T=Ma(s,l),T!=null&&g.push(Rf(s,T,S))),s.tag===3)return g;s=s.return}return[]}function wu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function jx(s,l,f,g,T){for(var S=l._reactName,I=[];f!==null&&f!==g;){var V=f,K=V.alternate,Q=V.stateNode;if(V=V.tag,K!==null&&K===g)break;V!==5&&V!==26&&V!==27||Q===null||(K=Q,T?(Q=Ma(f,S),Q!=null&&I.unshift(Rf(f,Q,K))):T||(Q=Ma(f,S),Q!=null&&I.push(Rf(f,Q,K)))),f=f.return}I.length!==0&&s.push({event:l,listeners:I})}var OB=/\r\n?/g,LB=/\u0000|\uFFFD/g;function Yx(s){return(typeof s=="string"?s:""+s).replace(OB,`
`).replace(LB,"")}function Wx(s,l){return l=Yx(l),Yx(s)===l}function bp(){}function wt(s,l,f,g,T,S){switch(f){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||zr(s,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&zr(s,""+g);break;case"className":Ui(s,"class",g);break;case"tabIndex":Ui(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Ui(s,f,g);break;case"style":$c(s,g,S);break;case"data":if(l!=="object"){Ui(s,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||f!=="href")){s.removeAttribute(f);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(f);break}g=zl(""+g),s.setAttribute(f,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(f==="formAction"?(l!=="input"&&wt(s,l,"name",T.name,T,null),wt(s,l,"formEncType",T.formEncType,T,null),wt(s,l,"formMethod",T.formMethod,T,null),wt(s,l,"formTarget",T.formTarget,T,null)):(wt(s,l,"encType",T.encType,T,null),wt(s,l,"method",T.method,T,null),wt(s,l,"target",T.target,T,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(f);break}g=zl(""+g),s.setAttribute(f,g);break;case"onClick":g!=null&&(s.onclick=bp);break;case"onScroll":g!=null&&tt("scroll",s);break;case"onScrollEnd":g!=null&&tt("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(f=g.__html,f!=null){if(T.children!=null)throw Error(r(60));s.innerHTML=f}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}f=zl(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(f,""+g):s.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(f,""):s.removeAttribute(f);break;case"capture":case"download":g===!0?s.setAttribute(f,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(f,g):s.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(f,g):s.removeAttribute(f);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(f):s.setAttribute(f,g);break;case"popover":tt("beforetoggle",s),tt("toggle",s),gs(s,"popover",g);break;case"xlinkActuate":Vn(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Vn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Vn(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Vn(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Vn(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Vn(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Vn(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Vn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Vn(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":gs(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=$y.get(f)||f,gs(s,f,g))}}function _0(s,l,f,g,T,S){switch(f){case"style":$c(s,g,S);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(f=g.__html,f!=null){if(T.children!=null)throw Error(r(60));s.innerHTML=f}}break;case"children":typeof g=="string"?zr(s,g):(typeof g=="number"||typeof g=="bigint")&&zr(s,""+g);break;case"onScroll":g!=null&&tt("scroll",s);break;case"onScrollEnd":g!=null&&tt("scrollend",s);break;case"onClick":g!=null&&(s.onclick=bp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bl.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(T=f.endsWith("Capture"),l=f.slice(2,T?f.length-7:void 0),S=s[on]||null,S=S!=null?S[f]:null,typeof S=="function"&&s.removeEventListener(l,S,T),typeof g=="function")){typeof S!="function"&&S!==null&&(f in s?s[f]=null:s.hasAttribute(f)&&s.removeAttribute(f)),s.addEventListener(l,g,T);break e}f in s?s[f]=g:g===!0?s.setAttribute(f,""):gs(s,f,g)}}}function qn(s,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",s),tt("load",s);var g=!1,T=!1,S;for(S in f)if(f.hasOwnProperty(S)){var I=f[S];if(I!=null)switch(S){case"src":g=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:wt(s,l,S,I,f,null)}}T&&wt(s,l,"srcSet",f.srcSet,f,null),g&&wt(s,l,"src",f.src,f,null);return;case"input":tt("invalid",s);var V=S=I=T=null,K=null,Q=null;for(g in f)if(f.hasOwnProperty(g)){var se=f[g];if(se!=null)switch(g){case"name":T=se;break;case"type":I=se;break;case"checked":K=se;break;case"defaultChecked":Q=se;break;case"value":S=se;break;case"defaultValue":V=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,l));break;default:wt(s,l,g,se,f,null)}}Ra(s,S,V,K,Q,I,T,!1),Hl(s);return;case"select":tt("invalid",s),g=I=S=null;for(T in f)if(f.hasOwnProperty(T)&&(V=f[T],V!=null))switch(T){case"value":S=V;break;case"defaultValue":I=V;break;case"multiple":g=V;default:wt(s,l,T,V,f,null)}l=S,f=I,s.multiple=!!g,l!=null?To(s,!!g,l,!1):f!=null&&To(s,!!g,f,!0);return;case"textarea":tt("invalid",s),S=T=g=null;for(I in f)if(f.hasOwnProperty(I)&&(V=f[I],V!=null))switch(I){case"value":g=V;break;case"defaultValue":T=V;break;case"children":S=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(91));break;default:wt(s,l,I,V,f,null)}Ia(s,g,T,S),Hl(s);return;case"option":for(K in f)if(f.hasOwnProperty(K)&&(g=f[K],g!=null))switch(K){case"selected":s.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:wt(s,l,K,g,f,null)}return;case"dialog":tt("beforetoggle",s),tt("toggle",s),tt("cancel",s),tt("close",s);break;case"iframe":case"object":tt("load",s);break;case"video":case"audio":for(g=0;g<xf.length;g++)tt(xf[g],s);break;case"image":tt("error",s),tt("load",s);break;case"details":tt("toggle",s);break;case"embed":case"source":case"link":tt("error",s),tt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in f)if(f.hasOwnProperty(Q)&&(g=f[Q],g!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:wt(s,l,Q,g,f,null)}return;default:if(Hc(l)){for(se in f)f.hasOwnProperty(se)&&(g=f[se],g!==void 0&&_0(s,l,se,g,f,void 0));return}}for(V in f)f.hasOwnProperty(V)&&(g=f[V],g!=null&&wt(s,l,V,g,f,null))}function VB(s,l,f,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,S=null,I=null,V=null,K=null,Q=null,se=null;for(te in f){var ce=f[te];if(f.hasOwnProperty(te)&&ce!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":K=ce;default:g.hasOwnProperty(te)||wt(s,l,te,null,g,ce)}}for(var ee in g){var te=g[ee];if(ce=f[ee],g.hasOwnProperty(ee)&&(te!=null||ce!=null))switch(ee){case"type":S=te;break;case"name":T=te;break;case"checked":Q=te;break;case"defaultChecked":se=te;break;case"value":I=te;break;case"defaultValue":V=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,l));break;default:te!==ce&&wt(s,l,ee,te,g,ce)}}Sr(s,I,V,K,Q,se,S,T);return;case"select":te=I=V=ee=null;for(S in f)if(K=f[S],f.hasOwnProperty(S)&&K!=null)switch(S){case"value":break;case"multiple":te=K;default:g.hasOwnProperty(S)||wt(s,l,S,null,g,K)}for(T in g)if(S=g[T],K=f[T],g.hasOwnProperty(T)&&(S!=null||K!=null))switch(T){case"value":ee=S;break;case"defaultValue":V=S;break;case"multiple":I=S;default:S!==K&&wt(s,l,T,S,g,K)}l=V,f=I,g=te,ee!=null?To(s,!!f,ee,!1):!!g!=!!f&&(l!=null?To(s,!!f,l,!0):To(s,!!f,f?[]:"",!1));return;case"textarea":te=ee=null;for(V in f)if(T=f[V],f.hasOwnProperty(V)&&T!=null&&!g.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:wt(s,l,V,null,g,T)}for(I in g)if(T=g[I],S=f[I],g.hasOwnProperty(I)&&(T!=null||S!=null))switch(I){case"value":ee=T;break;case"defaultValue":te=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:T!==S&&wt(s,l,I,T,g,S)}Et(s,ee,te);return;case"option":for(var $e in f)if(ee=f[$e],f.hasOwnProperty($e)&&ee!=null&&!g.hasOwnProperty($e))switch($e){case"selected":s.selected=!1;break;default:wt(s,l,$e,null,g,ee)}for(K in g)if(ee=g[K],te=f[K],g.hasOwnProperty(K)&&ee!==te&&(ee!=null||te!=null))switch(K){case"selected":s.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:wt(s,l,K,ee,g,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in f)ee=f[Le],f.hasOwnProperty(Le)&&ee!=null&&!g.hasOwnProperty(Le)&&wt(s,l,Le,null,g,ee);for(Q in g)if(ee=g[Q],te=f[Q],g.hasOwnProperty(Q)&&ee!==te&&(ee!=null||te!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,l));break;default:wt(s,l,Q,ee,g,te)}return;default:if(Hc(l)){for(var bt in f)ee=f[bt],f.hasOwnProperty(bt)&&ee!==void 0&&!g.hasOwnProperty(bt)&&_0(s,l,bt,void 0,g,ee);for(se in g)ee=g[se],te=f[se],!g.hasOwnProperty(se)||ee===te||ee===void 0&&te===void 0||_0(s,l,se,ee,g,te);return}}for(var W in f)ee=f[W],f.hasOwnProperty(W)&&ee!=null&&!g.hasOwnProperty(W)&&wt(s,l,W,null,g,ee);for(ce in g)ee=g[ce],te=f[ce],!g.hasOwnProperty(ce)||ee===te||ee==null&&te==null||wt(s,l,ce,ee,g,te)}var T0=null,E0=null;function Ap(s){return s.nodeType===9?s:s.ownerDocument}function Jx(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xx(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function S0(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var w0=null;function UB(){var s=window.event;return s&&s.type==="popstate"?s===w0?!1:(w0=s,!0):(w0=null,!1)}var Qx=typeof setTimeout=="function"?setTimeout:void 0,BB=typeof clearTimeout=="function"?clearTimeout:void 0,Zx=typeof Promise=="function"?Promise:void 0,FB=typeof queueMicrotask=="function"?queueMicrotask:typeof Zx<"u"?function(s){return Zx.resolve(null).then(s).catch(qB)}:Qx;function qB(s){setTimeout(function(){throw s})}function ks(s){return s==="head"}function e1(s,l){var f=l,g=0,T=0;do{var S=f.nextSibling;if(s.removeChild(f),S&&S.nodeType===8)if(f=S.data,f==="/$"){if(0<g&&8>g){f=g;var I=s.ownerDocument;if(f&1&&If(I.documentElement),f&2&&If(I.body),f&4)for(f=I.head,If(f),I=f.firstChild;I;){var V=I.nextSibling,K=I.nodeName;I[ba]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&I.rel.toLowerCase()==="stylesheet"||f.removeChild(I),I=V}}if(T===0){s.removeChild(S),Vf(l);return}T--}else f==="$"||f==="$?"||f==="$!"?T++:g=f.charCodeAt(0)-48;else g=0;f=S}while(f);Vf(l)}function b0(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":b0(f),ms(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}s.removeChild(f)}}function $B(s,l,f,g){for(;s.nodeType===1;){var T=f;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[ba])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(S=s.getAttribute("rel"),S==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(S!==T.rel||s.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||s.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||s.getAttribute("title")!==(T.title==null?null:T.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(S=s.getAttribute("src"),(S!==(T.src==null?null:T.src)||s.getAttribute("type")!==(T.type==null?null:T.type)||s.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&S&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var S=T.name==null?null:""+T.name;if(T.type==="hidden"&&s.getAttribute("name")===S)return s}else return s;if(s=Ei(s.nextSibling),s===null)break}return null}function HB(s,l,f){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!f||(s=Ei(s.nextSibling),s===null))return null;return s}function A0(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function zB(s,l){var f=s.ownerDocument;if(s.data!=="$?"||f.readyState==="complete")l();else{var g=function(){l(),f.removeEventListener("DOMContentLoaded",g)};f.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function Ei(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return s}var C0=null;function t1(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return s;l--}else f==="/$"&&l++}s=s.previousSibling}return null}function n1(s,l,f){switch(l=Ap(f),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function If(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);ms(s)}var ei=new Map,r1=new Set;function Cp(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Bo=de.d;de.d={f:GB,r:KB,D:jB,C:YB,L:WB,m:JB,X:QB,S:XB,M:ZB};function GB(){var s=Bo.f(),l=yp();return s||l}function KB(s){var l=Li(s);l!==null&&l.tag===5&&l.type==="form"?wC(l):Bo.r(s)}var bu=typeof document>"u"?null:document;function i1(s,l,f){var g=bu;if(g&&typeof l=="string"&&l){var T=sn(l);T='link[rel="'+s+'"][href="'+T+'"]',typeof f=="string"&&(T+='[crossorigin="'+f+'"]'),r1.has(T)||(r1.add(T),s={rel:s,crossOrigin:f,href:l},g.querySelector(T)===null&&(l=g.createElement("link"),qn(l,"link",s),Qt(l),g.head.appendChild(l)))}}function jB(s){Bo.D(s),i1("dns-prefetch",s,null)}function YB(s,l){Bo.C(s,l),i1("preconnect",s,l)}function WB(s,l,f){Bo.L(s,l,f);var g=bu;if(g&&s&&l){var T='link[rel="preload"][as="'+sn(l)+'"]';l==="image"&&f&&f.imageSrcSet?(T+='[imagesrcset="'+sn(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(T+='[imagesizes="'+sn(f.imageSizes)+'"]')):T+='[href="'+sn(s)+'"]';var S=T;switch(l){case"style":S=Au(s);break;case"script":S=Cu(s)}ei.has(S)||(s=p({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:s,as:l},f),ei.set(S,s),g.querySelector(T)!==null||l==="style"&&g.querySelector(Pf(S))||l==="script"&&g.querySelector(Mf(S))||(l=g.createElement("link"),qn(l,"link",s),Qt(l),g.head.appendChild(l)))}}function JB(s,l){Bo.m(s,l);var f=bu;if(f&&s){var g=l&&typeof l.as=="string"?l.as:"script",T='link[rel="modulepreload"][as="'+sn(g)+'"][href="'+sn(s)+'"]',S=T;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Cu(s)}if(!ei.has(S)&&(s=p({rel:"modulepreload",href:s},l),ei.set(S,s),f.querySelector(T)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Mf(S)))return}g=f.createElement("link"),qn(g,"link",s),Qt(g),f.head.appendChild(g)}}}function XB(s,l,f){Bo.S(s,l,f);var g=bu;if(g&&s){var T=rr(g).hoistableStyles,S=Au(s);l=l||"default";var I=T.get(S);if(!I){var V={loading:0,preload:null};if(I=g.querySelector(Pf(S)))V.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":l},f),(f=ei.get(S))&&x0(s,f);var K=I=g.createElement("link");Qt(K),qn(K,"link",s),K._p=new Promise(function(Q,se){K.onload=Q,K.onerror=se}),K.addEventListener("load",function(){V.loading|=1}),K.addEventListener("error",function(){V.loading|=2}),V.loading|=4,xp(I,l,g)}I={type:"stylesheet",instance:I,count:1,state:V},T.set(S,I)}}}function QB(s,l){Bo.X(s,l);var f=bu;if(f&&s){var g=rr(f).hoistableScripts,T=Cu(s),S=g.get(T);S||(S=f.querySelector(Mf(T)),S||(s=p({src:s,async:!0},l),(l=ei.get(T))&&R0(s,l),S=f.createElement("script"),Qt(S),qn(S,"link",s),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(T,S))}}function ZB(s,l){Bo.M(s,l);var f=bu;if(f&&s){var g=rr(f).hoistableScripts,T=Cu(s),S=g.get(T);S||(S=f.querySelector(Mf(T)),S||(s=p({src:s,async:!0,type:"module"},l),(l=ei.get(T))&&R0(s,l),S=f.createElement("script"),Qt(S),qn(S,"link",s),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(T,S))}}function o1(s,l,f,g){var T=(T=Ue.current)?Cp(T):null;if(!T)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=Au(f.href),f=rr(T).hoistableStyles,g=f.get(l),g||(g={type:"style",instance:null,count:0,state:null},f.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){s=Au(f.href);var S=rr(T).hoistableStyles,I=S.get(s);if(I||(T=T.ownerDocument||T,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(s,I),(S=T.querySelector(Pf(s)))&&!S._p&&(I.instance=S,I.state.loading=5),ei.has(s)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},ei.set(s,f),S||eF(T,s,f,I.state))),l&&g===null)throw Error(r(528,""));return I}if(l&&g!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Cu(f),f=rr(T).hoistableScripts,g=f.get(l),g||(g={type:"script",instance:null,count:0,state:null},f.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Au(s){return'href="'+sn(s)+'"'}function Pf(s){return'link[rel="stylesheet"]['+s+"]"}function s1(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function eF(s,l,f,g){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=s.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),qn(l,"link",f),Qt(l),s.head.appendChild(l))}function Cu(s){return'[src="'+sn(s)+'"]'}function Mf(s){return"script[async]"+s}function a1(s,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var g=s.querySelector('style[data-href~="'+sn(f.href)+'"]');if(g)return l.instance=g,Qt(g),g;var T=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),Qt(g),qn(g,"style",T),xp(g,f.precedence,s),l.instance=g;case"stylesheet":T=Au(f.href);var S=s.querySelector(Pf(T));if(S)return l.state.loading|=4,l.instance=S,Qt(S),S;g=s1(f),(T=ei.get(T))&&x0(g,T),S=(s.ownerDocument||s).createElement("link"),Qt(S);var I=S;return I._p=new Promise(function(V,K){I.onload=V,I.onerror=K}),qn(S,"link",g),l.state.loading|=4,xp(S,f.precedence,s),l.instance=S;case"script":return S=Cu(f.src),(T=s.querySelector(Mf(S)))?(l.instance=T,Qt(T),T):(g=f,(T=ei.get(S))&&(g=p({},f),R0(g,T)),s=s.ownerDocument||s,T=s.createElement("script"),Qt(T),qn(T,"link",g),s.head.appendChild(T),l.instance=T);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,xp(g,f.precedence,s));return l.instance}function xp(s,l,f){for(var g=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=g.length?g[g.length-1]:null,S=T,I=0;I<g.length;I++){var V=g[I];if(V.dataset.precedence===l)S=V;else if(S!==T)break}S?S.parentNode.insertBefore(s,S.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(s,l.firstChild))}function x0(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function R0(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Rp=null;function l1(s,l,f){if(Rp===null){var g=new Map,T=Rp=new Map;T.set(f,g)}else T=Rp,g=T.get(f),g||(g=new Map,T.set(f,g));if(g.has(s))return g;for(g.set(s,null),f=f.getElementsByTagName(s),T=0;T<f.length;T++){var S=f[T];if(!(S[ba]||S[mn]||s==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var I=S.getAttribute(l)||"";I=s+I;var V=g.get(I);V?V.push(S):g.set(I,[S])}}return g}function u1(s,l,f){s=s.ownerDocument||s,s.head.insertBefore(f,l==="title"?s.querySelector("head > title"):null)}function tF(s,l,f){if(f===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function c1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Nf=null;function nF(){}function rF(s,l,f){if(Nf===null)throw Error(r(475));var g=Nf;if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var T=Au(f.href),S=s.querySelector(Pf(T));if(S){s=S._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(g.count++,g=Ip.bind(g),s.then(g,g)),l.state.loading|=4,l.instance=S,Qt(S);return}S=s.ownerDocument||s,f=s1(f),(T=ei.get(T))&&x0(f,T),S=S.createElement("link"),Qt(S);var I=S;I._p=new Promise(function(V,K){I.onload=V,I.onerror=K}),qn(S,"link",f),l.instance=S}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(g.count++,l=Ip.bind(g),s.addEventListener("load",l),s.addEventListener("error",l))}}function iF(){if(Nf===null)throw Error(r(475));var s=Nf;return s.stylesheets&&s.count===0&&I0(s,s.stylesheets),0<s.count?function(l){var f=setTimeout(function(){if(s.stylesheets&&I0(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(f)}}:null}function Ip(){if(this.count--,this.count===0){if(this.stylesheets)I0(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Pp=null;function I0(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Pp=new Map,l.forEach(oF,s),Pp=null,Ip.call(s))}function oF(s,l){if(!(l.state.loading&4)){var f=Pp.get(s);if(f)var g=f.get(null);else{f=new Map,Pp.set(s,f);for(var T=s.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<T.length;S++){var I=T[S];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(f.set(I.dataset.precedence,I),g=I)}g&&f.set(null,g)}T=l.instance,I=T.getAttribute("data-precedence"),S=f.get(I)||g,S===g&&f.set(null,T),f.set(I,T),this.count++,g=Ip.bind(this),T.addEventListener("load",g),T.addEventListener("error",g),S?S.parentNode.insertBefore(T,S.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(T,s.firstChild)),l.state.loading|=4}}var Df={$$typeof:D,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function sF(s,l,f,g,T,S,I,V){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mo(0),this.hiddenUpdates=mo(null),this.identifierPrefix=g,this.onUncaughtError=T,this.onCaughtError=S,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function f1(s,l,f,g,T,S,I,V,K,Q,se,ce){return s=new sF(s,l,f,I,V,K,Q,ce),l=1,S===!0&&(l|=24),S=br(3,null,null,l),s.current=S,S.stateNode=s,l=cv(),l.refCount++,s.pooledCache=l,l.refCount++,S.memoizedState={element:g,isDehydrated:f,cache:l},pv(S),s}function d1(s){return s?(s=ru,s):ru}function h1(s,l,f,g,T,S){T=d1(T),g.context===null?g.context=T:g.pendingContext=T,g=Es(l),g.payload={element:f},S=S===void 0?null:S,S!==null&&(g.callback=S),f=Ss(s,g,l),f!==null&&(Ir(f,s,l),uf(f,s,l))}function p1(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<l?f:l}}function P0(s,l){p1(s,l),(s=s.alternate)&&p1(s,l)}function m1(s){if(s.tag===13){var l=nu(s,67108864);l!==null&&Ir(l,s,67108864),P0(s,67108864)}}var Mp=!0;function aF(s,l,f,g){var T=Z.T;Z.T=null;var S=de.p;try{de.p=2,M0(s,l,f,g)}finally{de.p=S,Z.T=T}}function lF(s,l,f,g){var T=Z.T;Z.T=null;var S=de.p;try{de.p=8,M0(s,l,f,g)}finally{de.p=S,Z.T=T}}function M0(s,l,f,g){if(Mp){var T=N0(g);if(T===null)v0(s,l,g,Np,f),y1(s,g);else if(cF(T,s,l,f,g))g.stopPropagation();else if(y1(s,g),l&4&&-1<uF.indexOf(s)){for(;T!==null;){var S=Li(T);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var I=gi(S.pendingLanes);if(I!==0){var V=S;for(V.pendingLanes|=2,V.entangledLanes|=2;I;){var K=1<<31-Ct(I);V.entanglements[1]|=K,I&=~K}Ji(S),(yt&6)===0&&(mp=$t()+500,Cf(0))}}break;case 13:V=nu(S,2),V!==null&&Ir(V,S,2),yp(),P0(S,2)}if(S=N0(g),S===null&&v0(s,l,g,Np,f),S===T)break;T=S}T!==null&&g.stopPropagation()}else v0(s,l,g,null,f)}}function N0(s){return s=Gr(s),D0(s)}var Np=null;function D0(s){if(Np=null,s=yo(s),s!==null){var l=o(s);if(l===null)s=null;else{var f=l.tag;if(f===13){if(s=a(l),s!==null)return s;s=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Np=s,null}function g1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(po()){case oe:return 2;case me:return 8;case we:case Te:return 32;case be:return 268435456;default:return 32}default:return 32}}var k0=!1,Os=null,Ls=null,Vs=null,kf=new Map,Of=new Map,Us=[],uF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y1(s,l){switch(s){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":kf.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Of.delete(l.pointerId)}}function Lf(s,l,f,g,T,S){return s===null||s.nativeEvent!==S?(s={blockedOn:l,domEventName:f,eventSystemFlags:g,nativeEvent:S,targetContainers:[T]},l!==null&&(l=Li(l),l!==null&&m1(l)),s):(s.eventSystemFlags|=g,l=s.targetContainers,T!==null&&l.indexOf(T)===-1&&l.push(T),s)}function cF(s,l,f,g,T){switch(l){case"focusin":return Os=Lf(Os,s,l,f,g,T),!0;case"dragenter":return Ls=Lf(Ls,s,l,f,g,T),!0;case"mouseover":return Vs=Lf(Vs,s,l,f,g,T),!0;case"pointerover":var S=T.pointerId;return kf.set(S,Lf(kf.get(S)||null,s,l,f,g,T)),!0;case"gotpointercapture":return S=T.pointerId,Of.set(S,Lf(Of.get(S)||null,s,l,f,g,T)),!0}return!1}function v1(s){var l=yo(s.target);if(l!==null){var f=o(l);if(f!==null){if(l=f.tag,l===13){if(l=a(f),l!==null){s.blockedOn=l,yh(s.priority,function(){if(f.tag===13){var g=Rr();g=ds(g);var T=nu(f,g);T!==null&&Ir(T,f,g),P0(f,g)}});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Dp(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var f=N0(s.nativeEvent);if(f===null){f=s.nativeEvent;var g=new f.constructor(f.type,f);Eo=g,f.target.dispatchEvent(g),Eo=null}else return l=Li(f),l!==null&&m1(l),s.blockedOn=f,!1;l.shift()}return!0}function _1(s,l,f){Dp(s)&&f.delete(l)}function fF(){k0=!1,Os!==null&&Dp(Os)&&(Os=null),Ls!==null&&Dp(Ls)&&(Ls=null),Vs!==null&&Dp(Vs)&&(Vs=null),kf.forEach(_1),Of.forEach(_1)}function kp(s,l){s.blockedOn===l&&(s.blockedOn=null,k0||(k0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,fF)))}var Op=null;function T1(s){Op!==s&&(Op=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Op===s&&(Op=null);for(var l=0;l<s.length;l+=3){var f=s[l],g=s[l+1],T=s[l+2];if(typeof g!="function"){if(D0(g||f)===null)continue;break}var S=Li(f);S!==null&&(s.splice(l,3),l-=3,Dv(S,{pending:!0,data:T,method:f.method,action:g},g,T))}}))}function Vf(s){function l(K){return kp(K,s)}Os!==null&&kp(Os,s),Ls!==null&&kp(Ls,s),Vs!==null&&kp(Vs,s),kf.forEach(l),Of.forEach(l);for(var f=0;f<Us.length;f++){var g=Us[f];g.blockedOn===s&&(g.blockedOn=null)}for(;0<Us.length&&(f=Us[0],f.blockedOn===null);)v1(f),f.blockedOn===null&&Us.shift();if(f=(s.ownerDocument||s).$$reactFormReplay,f!=null)for(g=0;g<f.length;g+=3){var T=f[g],S=f[g+1],I=T[on]||null;if(typeof S=="function")I||T1(f);else if(I){var V=null;if(S&&S.hasAttribute("formAction")){if(T=S,I=S[on]||null)V=I.formAction;else if(D0(T)!==null)continue}else V=I.action;typeof V=="function"?f[g+1]=V:(f.splice(g,3),g-=3),T1(f)}}}function O0(s){this._internalRoot=s}Lp.prototype.render=O0.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,g=Rr();h1(f,g,s,l,null,null)},Lp.prototype.unmount=O0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;h1(s.current,2,null,s,null,null),yp(),l[Hr]=null}};function Lp(s){this._internalRoot=s}Lp.prototype.unstable_scheduleHydration=function(s){if(s){var l=hs();s={blockedOn:null,target:s,priority:l};for(var f=0;f<Us.length&&l!==0&&l<Us[f].priority;f++);Us.splice(f,0,s),f===0&&v1(s)}};var E1=e.version;if(E1!=="19.1.1")throw Error(r(527,E1,"19.1.1"));de.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=c(l),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var dF={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vp.isDisabled&&Vp.supportsFiber)try{We=Vp.inject(dF),Re=Vp}catch{}}return Bf.createRoot=function(s,l){if(!i(s))throw Error(r(299));var f=!1,g="",T=VC,S=UC,I=BC,V=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(T=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(V=l.unstable_transitionCallbacks)),l=f1(s,1,!1,null,null,f,g,T,S,I,V,null),s[Hr]=l.current,y0(s),new O0(l)},Bf.hydrateRoot=function(s,l,f){if(!i(s))throw Error(r(299));var g=!1,T="",S=VC,I=UC,V=BC,K=null,Q=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(T=f.identifierPrefix),f.onUncaughtError!==void 0&&(S=f.onUncaughtError),f.onCaughtError!==void 0&&(I=f.onCaughtError),f.onRecoverableError!==void 0&&(V=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(K=f.unstable_transitionCallbacks),f.formState!==void 0&&(Q=f.formState)),l=f1(s,1,!0,l,f??null,g,T,S,I,V,K,Q),l.context=d1(null),f=l.current,g=Rr(),g=ds(g),T=Es(g),T.callback=null,Ss(f,T,g),f=g,l.current.lanes=f,go(l,f),Ji(l),s[Hr]=l.current,y0(s),new Lp(l)},Bf.version="19.1.1",Bf}var M1;function AF(){if(M1)return B0.exports;M1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),B0.exports=bF(),B0.exports}var CF=AF();const xF=co(CF);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var N1="popstate";function RF(t={}){function e(i,o){let{pathname:a="/",search:u="",hash:c=""}=Cl(i.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),$T("",{pathname:a,search:u,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),u="";if(a&&a.getAttribute("href")){let c=i.location.href,d=c.indexOf("#");u=d===-1?c:c.slice(0,d)}return u+"#"+(typeof o=="string"?o:gd(o))}function r(i,o){ui(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return PF(e,n,r,t)}function qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ui(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IF(){return Math.random().toString(36).substring(2,10)}function D1(t,e){return{usr:t.state,key:t.key,idx:e}}function $T(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Cl(e):e,state:n,key:e&&e.key||r||IF()}}function gd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Cl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function PF(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,u="POP",c=null,d=p();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function p(){return(a.state||{idx:null}).idx}function y(){u="POP";let C=p(),P=C==null?null:C-d;d=C,c&&c({action:u,location:b.location,delta:P})}function _(C,P){u="PUSH";let N=$T(b.location,C,P);n&&n(N,C),d=p()+1;let D=D1(N,d),U=b.createHref(N);try{a.pushState(D,"",U)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(U)}o&&c&&c({action:u,location:b.location,delta:1})}function E(C,P){u="REPLACE";let N=$T(b.location,C,P);n&&n(N,C),d=p();let D=D1(N,d),U=b.createHref(N);a.replaceState(D,"",U),o&&c&&c({action:u,location:b.location,delta:0})}function w(C){return MF(C)}let b={get action(){return u},get location(){return t(i,a)},listen(C){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(N1,y),c=C,()=>{i.removeEventListener(N1,y),c=null}},createHref(C){return e(i,C)},createURL:w,encodeLocation(C){let P=w(C);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:_,replace:E,go(C){return a.go(C)}};return b}function MF(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),qt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:gd(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function O2(t,e,n="/"){return NF(t,e,n,!1)}function NF(t,e,n,r){let i=typeof e=="string"?Cl(e):e,o=Jo(i.pathname||"/",n);if(o==null)return null;let a=L2(t);DF(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let d=zF(o);u=$F(a[c],d,r)}return u}function L2(t,e=[],n=[],r="",i=!1){let o=(a,u,c=i,d)=>{let p={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&c)return;qt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let y=Ko([r,p.relativePath]),_=n.concat(p);a.children&&a.children.length>0&&(qt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),L2(a.children,e,_,y,c)),!(a.path==null&&!a.index)&&e.push({path:y,score:FF(y,a.index),routesMeta:_})};return t.forEach((a,u)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))o(a,u);else for(let d of V2(a.path))o(a,u,!0,d)}),e}function V2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=V2(r.join("/")),u=[];return u.push(...a.map(c=>c===""?o:[o,c].join("/"))),i&&u.push(...a),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function DF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var kF=/^:[\w-]+$/,OF=3,LF=2,VF=1,UF=10,BF=-2,k1=t=>t==="*";function FF(t,e){let n=t.split("/"),r=n.length;return n.some(k1)&&(r+=BF),e&&(r+=LF),n.filter(i=>!k1(i)).reduce((i,o)=>i+(kF.test(o)?OF:o===""?VF:UF),r)}function qF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function $F(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",a=[];for(let u=0;u<r.length;++u){let c=r[u],d=u===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",y=Im({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),_=c.route;if(!y&&d&&n&&!r[r.length-1].route.index&&(y=Im({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!y)return null;Object.assign(i,y.params),a.push({params:i,pathname:Ko([o,y.pathname]),pathnameBase:YF(Ko([o,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(o=Ko([o,y.pathnameBase]))}return a}function Im(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=HF(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((d,{paramName:p,isOptional:y},_)=>{if(p==="*"){let w=u[_]||"";a=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const E=u[_];return y&&!E?d[p]=void 0:d[p]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:a,pattern:t}}function HF(t,e=!1,n=!0){ui(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function zF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ui(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Jo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function GF(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Cl(t):t;return{pathname:n?n.startsWith("/")?n:KF(n,e):e,search:WF(r),hash:JF(i)}}function KF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function H0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ES(t){let e=jF(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function SS(t,e,n,r=!1){let i;typeof t=="string"?i=Cl(t):(i={...t},qt(!i.pathname||!i.pathname.includes("?"),H0("?","pathname","search",i)),qt(!i.pathname||!i.pathname.includes("#"),H0("#","pathname","hash",i)),qt(!i.search||!i.search.includes("#"),H0("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,u;if(a==null)u=n;else{let y=e.length-1;if(!r&&a.startsWith("..")){let _=a.split("/");for(;_[0]==="..";)_.shift(),y-=1;i.pathname=_.join("/")}u=y>=0?e[y]:"/"}let c=GF(i,u),d=a&&a!=="/"&&a.endsWith("/"),p=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}var Ko=t=>t.join("/").replace(/\/\/+/g,"/"),YF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function XF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var U2=["POST","PUT","PATCH","DELETE"];new Set(U2);var QF=["GET",...U2];new Set(QF);var cc=R.createContext(null);cc.displayName="DataRouter";var Dg=R.createContext(null);Dg.displayName="DataRouterState";R.createContext(!1);var B2=R.createContext({isTransitioning:!1});B2.displayName="ViewTransition";var ZF=R.createContext(new Map);ZF.displayName="Fetchers";var eq=R.createContext(null);eq.displayName="Await";var Ii=R.createContext(null);Ii.displayName="Navigation";var Ud=R.createContext(null);Ud.displayName="Location";var Pi=R.createContext({outlet:null,matches:[],isDataRoute:!1});Pi.displayName="Route";var wS=R.createContext(null);wS.displayName="RouteError";function tq(t,{relative:e}={}){qt(fc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(Ii),{hash:i,pathname:o,search:a}=Bd(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:Ko([n,o])),r.createHref({pathname:u,search:a,hash:i})}function fc(){return R.useContext(Ud)!=null}function fo(){return qt(fc(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Ud).location}var F2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function q2(t){R.useContext(Ii).static||R.useLayoutEffect(t)}function bS(){let{isDataRoute:t}=R.useContext(Pi);return t?pq():nq()}function nq(){qt(fc(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(cc),{basename:e,navigator:n}=R.useContext(Ii),{matches:r}=R.useContext(Pi),{pathname:i}=fo(),o=JSON.stringify(ES(r)),a=R.useRef(!1);return q2(()=>{a.current=!0}),R.useCallback((c,d={})=>{if(ui(a.current,F2),!a.current)return;if(typeof c=="number"){n.go(c);return}let p=SS(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ko([e,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[e,n,o,i,t])}R.createContext(null);function $2(){let{matches:t}=R.useContext(Pi),e=t[t.length-1];return e?e.params:{}}function Bd(t,{relative:e}={}){let{matches:n}=R.useContext(Pi),{pathname:r}=fo(),i=JSON.stringify(ES(n));return R.useMemo(()=>SS(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function rq(t,e){return H2(t,e)}function H2(t,e,n,r,i){var N;qt(fc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=R.useContext(Ii),{matches:a}=R.useContext(Pi),u=a[a.length-1],c=u?u.params:{},d=u?u.pathname:"/",p=u?u.pathnameBase:"/",y=u&&u.route;{let D=y&&y.path||"";z2(d,!y||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let _=fo(),E;if(e){let D=typeof e=="string"?Cl(e):e;qt(p==="/"||((N=D.pathname)==null?void 0:N.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${D.pathname}" was given in the \`location\` prop.`),E=D}else E=_;let w=E.pathname||"/",b=w;if(p!=="/"){let D=p.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(D.length).join("/")}let C=O2(t,{pathname:b});ui(y||C!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),ui(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=lq(C&&C.map(D=>Object.assign({},D,{params:Object.assign({},c,D.params),pathname:Ko([p,o.encodeLocation?o.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?p:Ko([p,o.encodeLocation?o.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),a,n,r,i);return e&&P?R.createElement(Ud.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},P):P}function iq(){let t=hq(),e=XF(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=R.createElement(R.Fragment,null,R.createElement("p",null,"💿 Hey developer 👋"),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:o},"ErrorBoundary")," or"," ",R.createElement("code",{style:o},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,a)}var oq=R.createElement(iq,null),sq=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?R.createElement(Pi.Provider,{value:this.props.routeContext},R.createElement(wS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aq({routeContext:t,match:e,children:n}){let r=R.useContext(cc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Pi.Provider,{value:t},n)}function lq(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n==null?void 0:n.errors;if(a!=null){let d=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);qt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:y,errors:_}=n,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,p,y)=>{let _,E=!1,w=null,b=null;n&&(_=a&&p.route.id?a[p.route.id]:void 0,w=p.route.errorElement||oq,u&&(c<0&&y===0?(z2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,b=null):c===y&&(E=!0,b=p.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,y+1)),P=()=>{let N;return _?N=w:E?N=b:p.route.Component?N=R.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=d,R.createElement(aq,{match:p,routeContext:{outlet:d,matches:C,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?R.createElement(sq,{location:n.location,revalidation:n.revalidation,component:w,error:_,children:P(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:r}):P()},null)}function AS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uq(t){let e=R.useContext(cc);return qt(e,AS(t)),e}function cq(t){let e=R.useContext(Dg);return qt(e,AS(t)),e}function fq(t){let e=R.useContext(Pi);return qt(e,AS(t)),e}function CS(t){let e=fq(t),n=e.matches[e.matches.length-1];return qt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function dq(){return CS("useRouteId")}function hq(){var r;let t=R.useContext(wS),e=cq("useRouteError"),n=CS("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function pq(){let{router:t}=uq("useNavigate"),e=CS("useNavigate"),n=R.useRef(!1);return q2(()=>{n.current=!0}),R.useCallback(async(i,o={})=>{ui(n.current,F2),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var O1={};function z2(t,e,n){!e&&!O1[t]&&(O1[t]=!0,ui(!1,n))}R.memo(mq);function mq({routes:t,future:e,state:n,unstable_onError:r}){return H2(t,void 0,n,r,e)}function gq({to:t,replace:e,state:n,relative:r}){qt(fc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=R.useContext(Ii);ui(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=R.useContext(Pi),{pathname:a}=fo(),u=bS(),c=SS(t,ES(o),a,r==="path"),d=JSON.stringify(c);return R.useEffect(()=>{u(JSON.parse(d),{replace:e,state:n,relative:r})},[u,d,r,e,n]),null}function Pr(t){qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yq({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){qt(!fc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),u=R.useMemo(()=>({basename:a,navigator:i,static:o,future:{}}),[a,i,o]);typeof n=="string"&&(n=Cl(n));let{pathname:c="/",search:d="",hash:p="",state:y=null,key:_="default"}=n,E=R.useMemo(()=>{let w=Jo(c,a);return w==null?null:{location:{pathname:w,search:d,hash:p,state:y,key:_},navigationType:r}},[a,c,d,p,y,_,r]);return ui(E!=null,`<Router basename="${a}"> is not able to match the URL "${c}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:R.createElement(Ii.Provider,{value:u},R.createElement(Ud.Provider,{children:e,value:E}))}function L1({children:t,location:e}){return rq(HT(t),e)}function HT(t,e=[]){let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let o=[...e,i];if(r.type===R.Fragment){n.push.apply(n,HT(r.props.children,o));return}qt(r.type===Pr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=HT(r.props.children,o)),n.push(a)}),n}var fm="get",dm="application/x-www-form-urlencoded";function kg(t){return t!=null&&typeof t.tagName=="string"}function vq(t){return kg(t)&&t.tagName.toLowerCase()==="button"}function _q(t){return kg(t)&&t.tagName.toLowerCase()==="form"}function Tq(t){return kg(t)&&t.tagName.toLowerCase()==="input"}function Eq(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Sq(t,e){return t.button===0&&(!e||e==="_self")&&!Eq(t)}var Up=null;function wq(){if(Up===null)try{new FormData(document.createElement("form"),0),Up=!1}catch{Up=!0}return Up}var bq=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function z0(t){return t!=null&&!bq.has(t)?(ui(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dm}"`),null):t}function Aq(t,e){let n,r,i,o,a;if(_q(t)){let u=t.getAttribute("action");r=u?Jo(u,e):null,n=t.getAttribute("method")||fm,i=z0(t.getAttribute("enctype"))||dm,o=new FormData(t)}else if(vq(t)||Tq(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||u.getAttribute("action");if(r=c?Jo(c,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||fm,i=z0(t.getAttribute("formenctype"))||z0(u.getAttribute("enctype"))||dm,o=new FormData(u,t),!wq()){let{name:d,type:p,value:y}=t;if(p==="image"){let _=d?`${d}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else d&&o.append(d,y)}}else{if(kg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fm,r=null,i=dm,a=t}return o&&i==="text/plain"&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Cq(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Jo(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function xq(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Rq(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Iq(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let a=await xq(o,n);return a.links?a.links():[]}return[]}));return Dq(r.flat(1).filter(Rq).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function V1(t,e,n,r,i,o){let a=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,u=(c,d)=>{var p;return n[d].pathname!==c.pathname||((p=n[d].route.path)==null?void 0:p.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return o==="assets"?e.filter((c,d)=>a(c,d)||u(c,d)):o==="data"?e.filter((c,d)=>{var y;let p=r.routes[c.route.id];if(!p||!p.hasLoader)return!1;if(a(c,d)||u(c,d))return!0;if(c.route.shouldRevalidate){let _=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function Pq(t,e,{includeHydrateFallback:n}={}){return Mq(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function Mq(t){return[...new Set(t)]}function Nq(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Dq(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(Nq(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function G2(){let t=R.useContext(cc);return xS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function kq(){let t=R.useContext(Dg);return xS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var RS=R.createContext(void 0);RS.displayName="FrameworkContext";function K2(){let t=R.useContext(RS);return xS(t,"You must render this element inside a <HydratedRouter> element"),t}function Oq(t,e){let n=R.useContext(RS),[r,i]=R.useState(!1),[o,a]=R.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:d,onMouseLeave:p,onTouchStart:y}=e,_=R.useRef(null);R.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let b=P=>{P.forEach(N=>{a(N.isIntersecting)})},C=new IntersectionObserver(b,{threshold:.5});return _.current&&C.observe(_.current),()=>{C.disconnect()}}},[t]),R.useEffect(()=>{if(r){let b=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(b)}}},[r]);let E=()=>{i(!0)},w=()=>{i(!1),a(!1)};return n?t!=="intent"?[o,_,{}]:[o,_,{onFocus:Ff(u,E),onBlur:Ff(c,w),onMouseEnter:Ff(d,E),onMouseLeave:Ff(p,w),onTouchStart:Ff(y,E)}]:[!1,_,{}]}function Ff(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Lq({page:t,...e}){let{router:n}=G2(),r=R.useMemo(()=>O2(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?R.createElement(Uq,{page:t,matches:r,...e}):null}function Vq(t){let{manifest:e,routeModules:n}=K2(),[r,i]=R.useState([]);return R.useEffect(()=>{let o=!1;return Iq(t,e,n).then(a=>{o||i(a)}),()=>{o=!0}},[t,e,n]),r}function Uq({page:t,matches:e,...n}){let r=fo(),{manifest:i,routeModules:o}=K2(),{basename:a}=G2(),{loaderData:u,matches:c}=kq(),d=R.useMemo(()=>V1(t,e,c,i,r,"data"),[t,e,c,i,r]),p=R.useMemo(()=>V1(t,e,c,i,r,"assets"),[t,e,c,i,r]),y=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,b=!1;if(e.forEach(P=>{var D;let N=i.routes[P.route.id];!N||!N.hasLoader||(!d.some(U=>U.route.id===P.route.id)&&P.route.id in u&&((D=o[P.route.id])!=null&&D.shouldRevalidate)||N.hasClientLoader?b=!0:w.add(P.route.id))}),w.size===0)return[];let C=Cq(t,a,"data");return b&&w.size>0&&C.searchParams.set("_routes",e.filter(P=>w.has(P.route.id)).map(P=>P.route.id).join(",")),[C.pathname+C.search]},[a,u,r,i,d,e,t,o]),_=R.useMemo(()=>Pq(p,i),[p,i]),E=Vq(p);return R.createElement(R.Fragment,null,y.map(w=>R.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),_.map(w=>R.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),E.map(({key:w,link:b})=>R.createElement("link",{key:w,nonce:n.nonce,...b})))}function Bq(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var j2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{j2&&(window.__reactRouterVersion="7.8.2")}catch{}function Fq({basename:t,children:e,window:n}){let r=R.useRef();r.current==null&&(r.current=RF({window:n,v5Compat:!0}));let i=r.current,[o,a]=R.useState({action:i.action,location:i.location}),u=R.useCallback(c=>{R.startTransition(()=>a(c))},[a]);return R.useLayoutEffect(()=>i.listen(u),[i,u]),R.createElement(yq,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var Y2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W2=R.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:a,state:u,target:c,to:d,preventScrollReset:p,viewTransition:y,..._},E){let{basename:w}=R.useContext(Ii),b=typeof d=="string"&&Y2.test(d),C,P=!1;if(typeof d=="string"&&b&&(C=d,j2))try{let M=new URL(window.location.href),q=d.startsWith("//")?new URL(M.protocol+d):new URL(d),F=Jo(q.pathname,w);q.origin===M.origin&&F!=null?d=F+q.search+q.hash:P=!0}catch{ui(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=tq(d,{relative:i}),[D,U,$]=Oq(r,_),G=zq(d,{replace:a,state:u,target:c,preventScrollReset:p,relative:i,viewTransition:y});function k(M){e&&e(M),M.defaultPrevented||G(M)}let O=R.createElement("a",{..._,...$,href:C||N,onClick:P||o?e:k,ref:Bq(E,U),target:c,"data-discover":!b&&n==="render"?"true":void 0});return D&&!b?R.createElement(R.Fragment,null,O,R.createElement(Lq,{page:N})):O});W2.displayName="Link";var qq=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:a,viewTransition:u,children:c,...d},p){let y=Bd(a,{relative:d.relative}),_=fo(),E=R.useContext(Dg),{navigator:w,basename:b}=R.useContext(Ii),C=E!=null&&Wq(y)&&u===!0,P=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,N=_.pathname,D=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(N=N.toLowerCase(),D=D?D.toLowerCase():null,P=P.toLowerCase()),D&&b&&(D=Jo(D,b)||D);const U=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let $=N===P||!i&&N.startsWith(P)&&N.charAt(U)==="/",G=D!=null&&(D===P||!i&&D.startsWith(P)&&D.charAt(P.length)==="/"),k={isActive:$,isPending:G,isTransitioning:C},O=$?e:void 0,M;typeof r=="function"?M=r(k):M=[r,$?"active":null,G?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let q=typeof o=="function"?o(k):o;return R.createElement(W2,{...d,"aria-current":O,className:M,ref:p,style:q,to:a,viewTransition:u},typeof c=="function"?c(k):c)});qq.displayName="NavLink";var $q=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:a=fm,action:u,onSubmit:c,relative:d,preventScrollReset:p,viewTransition:y,..._},E)=>{let w=jq(),b=Yq(u,{relative:d}),C=a.toLowerCase()==="get"?"get":"post",P=typeof u=="string"&&Y2.test(u),N=D=>{if(c&&c(D),D.defaultPrevented)return;D.preventDefault();let U=D.nativeEvent.submitter,$=(U==null?void 0:U.getAttribute("formmethod"))||a;w(U||D.currentTarget,{fetcherKey:e,method:$,navigate:n,replace:i,state:o,relative:d,preventScrollReset:p,viewTransition:y})};return R.createElement("form",{ref:E,method:C,action:b,onSubmit:r?c:N,..._,"data-discover":!P&&t==="render"?"true":void 0})});$q.displayName="Form";function Hq(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function J2(t){let e=R.useContext(cc);return qt(e,Hq(t)),e}function zq(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:a}={}){let u=bS(),c=fo(),d=Bd(t,{relative:o});return R.useCallback(p=>{if(Sq(p,e)){p.preventDefault();let y=n!==void 0?n:gd(c)===gd(d);u(t,{replace:y,state:r,preventScrollReset:i,relative:o,viewTransition:a})}},[c,u,d,n,r,e,t,i,o,a])}var Gq=0,Kq=()=>`__${String(++Gq)}__`;function jq(){let{router:t}=J2("useSubmit"),{basename:e}=R.useContext(Ii),n=dq();return R.useCallback(async(r,i={})=>{let{action:o,method:a,encType:u,formData:c,body:d}=Aq(r,e);if(i.navigate===!1){let p=i.fetcherKey||Kq();await t.fetch(p,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||a,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||a,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function Yq(t,{relative:e}={}){let{basename:n}=R.useContext(Ii),r=R.useContext(Pi);qt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Bd(t||".",{relative:e})},a=fo();if(t==null){o.search=a.search;let u=new URLSearchParams(o.search),c=u.getAll("index");if(c.some(p=>p==="")){u.delete("index"),c.filter(y=>y).forEach(y=>u.append("index",y));let p=u.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ko([n,o.pathname])),gd(o)}function Wq(t,{relative:e}={}){let n=R.useContext(B2);qt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=J2("useViewTransitionState"),i=Bd(t,{relative:e});if(!n.isTransitioning)return!1;let o=Jo(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Jo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Im(i.pathname,a)!=null||Im(i.pathname,o)!=null}var Jq=k2();const Xq=()=>{};var U1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Qq=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],u=t[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Q2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,u=a?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,p=o>>2,y=(o&3)<<4|u>>4;let _=(u&15)<<2|d>>6,E=d&63;c||(E=64,a||(_=64)),r.push(n[p],n[y],n[_],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(X2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Qq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||d==null||y==null)throw new Zq;const _=o<<2|u>>4;if(r.push(_),d!==64){const E=u<<4&240|d>>2;if(r.push(E),y!==64){const w=d<<6&192|y;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Zq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e5=function(t){const e=X2(t);return Q2.encodeByteArray(e,!0)},Pm=function(t){return e5(t).replace(/\./g,"")},Z2=function(t){try{return Q2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5=()=>t5().__FIREBASE_DEFAULTS__,r5=()=>{if(typeof process>"u"||typeof U1>"u")return;const t=U1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},i5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Z2(t[1]);return e&&JSON.parse(e)},Og=()=>{try{return Xq()||n5()||r5()||i5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ek=t=>{var e,n;return(n=(e=Og())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},tk=t=>{const e=ek(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nk=()=>{var t;return(t=Og())==null?void 0:t.config},rk=t=>{var e;return(e=Og())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function IS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Pm(JSON.stringify(n)),Pm(JSON.stringify(a)),""].join(".")}const od={};function s5(){const t={prod:[],emulator:[]};for(const e of Object.keys(od))od[e]?t.emulator.push(e):t.prod.push(e);return t}function a5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let B1=!1;function PS(t,e){if(typeof window>"u"||typeof document>"u"||!ha(window.location.host)||od[t]===e||od[t]||B1)return;od[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",o=s5().prod.length>0;function a(){const _=document.getElementById(r);_&&_.remove()}function u(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function c(_,E){_.setAttribute("width","24"),_.setAttribute("id",E),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{B1=!0,a()},_}function p(_,E){_.setAttribute("id",E),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=a5(r),E=n("text"),w=document.getElementById(E)||document.createElement("span"),b=n("learnmore"),C=document.getElementById(b)||document.createElement("a"),P=n("preprendIcon"),N=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const D=_.element;u(D),p(C,b);const U=d();c(N,P),D.append(N,w,C,U),document.body.appendChild(D)}o?(w.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function l5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tr())}function u5(){var e;const t=(e=Og())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function f5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function d5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function h5(){const t=tr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function p5(){return!u5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m5(){try{return typeof indexedDB=="object"}catch{return!1}}function g5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5="FirebaseError";class Mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=y5,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fd.prototype.create)}}class Fd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?v5(o,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new Mi(i,u,r)}}function v5(t,e){return t.replace(_5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _5=/\{\$([^}]+)}/g;function T5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(F1(o)&&F1(a)){if(!gl(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function F1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Qf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function E5(t,e){const n=new S5(t,e);return n.subscribe.bind(n)}class S5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");w5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=G0),i.error===void 0&&(i.error=G0),i.complete===void 0&&(i.complete=G0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function w5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function G0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class ia{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b5=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new o5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(C5(e))try{this.getOrInitializeService({instanceIdentifier:el})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=el){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=el){return this.instances.has(e)}getOptions(e=el){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:A5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=el){return this.component?this.component.multipleInstances?e:el:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function A5(t){return t===el?void 0:t}function C5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new b5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const R5={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},I5=nt.INFO,P5={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},M5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=P5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class MS{constructor(e){this.name=e,this._logLevel=I5,this._logHandler=M5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?R5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const N5=(t,e)=>e.some(n=>t instanceof n);let q1,$1;function D5(){return q1||(q1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k5(){return $1||($1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ok=new WeakMap,zT=new WeakMap,sk=new WeakMap,K0=new WeakMap,NS=new WeakMap;function O5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Xs(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&ok.set(n,t)}).catch(()=>{}),NS.set(e,t),e}function L5(t){if(zT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});zT.set(t,e)}let GT={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function V5(t){GT=t(GT)}function U5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(j0(this),e,...n);return sk.set(r,e.sort?e.sort():[e]),Xs(r)}:k5().includes(t)?function(...e){return t.apply(j0(this),e),Xs(ok.get(this))}:function(...e){return Xs(t.apply(j0(this),e))}}function B5(t){return typeof t=="function"?U5(t):(t instanceof IDBTransaction&&L5(t),N5(t,D5())?new Proxy(t,GT):t)}function Xs(t){if(t instanceof IDBRequest)return O5(t);if(K0.has(t))return K0.get(t);const e=B5(t);return e!==t&&(K0.set(t,e),NS.set(e,t)),e}const j0=t=>NS.get(t);function F5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),u=Xs(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Xs(a.result),c.oldVersion,c.newVersion,Xs(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const q5=["get","getKey","getAll","getAllKeys","count"],$5=["put","add","delete","clear"],Y0=new Map;function H1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Y0.get(e))return Y0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||q5.includes(n)))return;const o=async function(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),i&&c.done]))[0]};return Y0.set(e,o),o}V5(t=>({...t,get:(e,n,r)=>H1(e,n)||t.get(e,n,r),has:(e,n)=>!!H1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(z5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function z5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const KT="@firebase/app",z1="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=new MS("@firebase/app"),G5="@firebase/app-compat",K5="@firebase/analytics-compat",j5="@firebase/analytics",Y5="@firebase/app-check-compat",W5="@firebase/app-check",J5="@firebase/auth",X5="@firebase/auth-compat",Q5="@firebase/database",Z5="@firebase/data-connect",e9="@firebase/database-compat",t9="@firebase/functions",n9="@firebase/functions-compat",r9="@firebase/installations",i9="@firebase/installations-compat",o9="@firebase/messaging",s9="@firebase/messaging-compat",a9="@firebase/performance",l9="@firebase/performance-compat",u9="@firebase/remote-config",c9="@firebase/remote-config-compat",f9="@firebase/storage",d9="@firebase/storage-compat",h9="@firebase/firestore",p9="@firebase/ai",m9="@firebase/firestore-compat",g9="firebase",y9="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="[DEFAULT]",v9={[KT]:"fire-core",[G5]:"fire-core-compat",[j5]:"fire-analytics",[K5]:"fire-analytics-compat",[W5]:"fire-app-check",[Y5]:"fire-app-check-compat",[J5]:"fire-auth",[X5]:"fire-auth-compat",[Q5]:"fire-rtdb",[Z5]:"fire-data-connect",[e9]:"fire-rtdb-compat",[t9]:"fire-fn",[n9]:"fire-fn-compat",[r9]:"fire-iid",[i9]:"fire-iid-compat",[o9]:"fire-fcm",[s9]:"fire-fcm-compat",[a9]:"fire-perf",[l9]:"fire-perf-compat",[u9]:"fire-rc",[c9]:"fire-rc-compat",[f9]:"fire-gcs",[d9]:"fire-gcs-compat",[h9]:"fire-fst",[m9]:"fire-fst-compat",[p9]:"fire-vertex","fire-js":"fire-js",[g9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=new Map,_9=new Map,YT=new Map;function G1(t,e){try{t.container.addComponent(e)}catch(n){Xo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yl(t){const e=t.name;if(YT.has(e))return Xo.debug(`There were multiple attempts to register component ${e}.`),!1;YT.set(e,t);for(const n of Mm.values())G1(n,t);for(const n of _9.values())G1(n,t);return!0}function Lg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function oi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new Fd("app","Firebase",T9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=y9;function ak(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:jT,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Qs.create("bad-app-name",{appName:String(i)});if(n||(n=nk()),!n)throw Qs.create("no-options");const o=Mm.get(i);if(o){if(gl(n,o.options)&&gl(r,o.config))return o;throw Qs.create("duplicate-app",{appName:i})}const a=new x5(i);for(const c of YT.values())a.addComponent(c);const u=new E9(n,r,a);return Mm.set(i,u),u}function DS(t=jT){const e=Mm.get(t);if(!e&&t===jT&&nk())return ak();if(!e)throw Qs.create("no-app",{appName:t});return e}function Zi(t,e,n){let r=v9[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xo.warn(a.join(" "));return}yl(new ia(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9="firebase-heartbeat-database",w9=1,yd="firebase-heartbeat-store";let W0=null;function lk(){return W0||(W0=F5(S9,w9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qs.create("idb-open",{originalErrorMessage:t.message})})),W0}async function b9(t){try{const n=(await lk()).transaction(yd),r=await n.objectStore(yd).get(uk(t));return await n.done,r}catch(e){if(e instanceof Mi)Xo.warn(e.message);else{const n=Qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xo.warn(n.message)}}}async function K1(t,e){try{const r=(await lk()).transaction(yd,"readwrite");await r.objectStore(yd).put(e,uk(t)),await r.done}catch(n){if(n instanceof Mi)Xo.warn(n.message);else{const r=Qs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xo.warn(r.message)}}}function uk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9=1024,C9=30;class x9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new I9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=j1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>C9){const a=P9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Xo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=j1(),{heartbeatsToSend:r,unsentEntries:i}=R9(this._heartbeatsCache.heartbeats),o=Pm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Xo.warn(n),""}}}function j1(){return new Date().toISOString().substring(0,10)}function R9(t,e=A9){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),Y1(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Y1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class I9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m5()?g5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await b9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return K1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return K1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Y1(t){return Pm(JSON.stringify({version:2,heartbeats:t})).length}function P9(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(t){yl(new ia("platform-logger",e=>new H5(e),"PRIVATE")),yl(new ia("heartbeat",e=>new x9(e),"PRIVATE")),Zi(KT,z1,t),Zi(KT,z1,"esm2020"),Zi("fire-js","")}M9("");var N9="firebase",D9="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zi(N9,D9,"app");function ck(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const k9=ck,fk=new Fd("auth","Firebase",ck());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=new MS("@firebase/auth");function O9(t,...e){Nm.logLevel<=nt.WARN&&Nm.warn(`Auth (${xl}): ${t}`,...e)}function hm(t,...e){Nm.logLevel<=nt.ERROR&&Nm.error(`Auth (${xl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t,...e){throw kS(t,...e)}function eo(t,...e){return kS(t,...e)}function dk(t,e,n){const r={...k9(),[e]:n};return new Fd("auth","Firebase",r).create(e,{appName:t.name})}function Zs(t){return dk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fk.create(t,...e)}function Fe(t,e,...n){if(!t)throw kS(e,...n)}function $o(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hm(e),new Error(e)}function Qo(t,e){t||$o(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function L9(){return W1()==="http:"||W1()==="https:"}function W1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L9()||f5()||"connection"in navigator)?navigator.onLine:!0}function U9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qo(n>e,"Short delay should be less than long delay!"),this.isMobile=l5()||d5()}get(){return V9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(t,e){Qo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$o("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$o("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$o("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],q9=new $d(3e4,6e4);function Rl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ss(t,e,n,r,i={}){return pk(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const u=qd({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...o};return c5()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&ha(t.emulatorConfig.host)&&(d.credentials="include"),hk.fetch()(await mk(t,t.config.apiHost,n,u),d)})}async function pk(t,e,n){t._canInitEmulator=!1;const r={...B9,...e};try{const i=new H9(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Bp(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const u=o.ok?a.errorMessage:a.error.message,[c,d]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bp(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Bp(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Bp(t,"user-disabled",a);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw dk(t,p,d);Ci(t,p)}}catch(i){if(i instanceof Mi)throw i;Ci(t,"network-request-failed",{message:String(i)})}}async function Vg(t,e,n,r,i={}){const o=await ss(t,e,n,r,i);return"mfaPendingCredential"in o&&Ci(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function mk(t,e,n,r){const i=`${e}${n}?${r}`,o=t,a=o.config.emulator?OS(t.config,i):`${t.config.apiScheme}://${i}`;return F9.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}function $9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class H9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(eo(this.auth,"network-request-failed")),q9.get())})}}function Bp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=eo(t,e,r);return i.customData._tokenResponse=n,i}function J1(t){return t!==void 0&&t.enterprise!==void 0}class z9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function G9(t,e){return ss(t,"GET","/v2/recaptchaConfig",Rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K9(t,e){return ss(t,"POST","/v1/accounts:delete",e)}async function Dm(t,e){return ss(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function j9(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),i=LS(r);Fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:sd(J0(i.auth_time)),issuedAtTime:sd(J0(i.iat)),expirationTime:sd(J0(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function J0(t){return Number(t)*1e3}function LS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hm("JWT malformed, contained fewer than 3 sections"),null;try{const i=Z2(n);return i?JSON.parse(i):(hm("Failed to decode base64 JWT payload"),null)}catch(i){return hm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function X1(t){const e=LS(t);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mi&&Y9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Y9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sd(this.lastLoginAt),this.creationTime=sd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function km(t){var y;const e=t.auth,n=await t.getIdToken(),r=await Gu(t,Dm(e,{idToken:n}));Fe(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(y=i.providerUserInfo)!=null&&y.length?gk(i.providerUserInfo):[],a=X9(t.providerData,o),u=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=u?c:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new JT(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function J9(t){const e=Dt(t);await km(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function X9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function gk(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q9(t,e){const n=await pk(t,{},async()=>{const r=qd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=await mk(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:r};return t.emulatorConfig&&ha(t.emulatorConfig.host)&&(c.credentials="include"),hk.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Z9(t,e){return ss(t,"POST","/v2/accounts:revokeToken",Rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):X1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const n=X1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Q9(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Lu;return r&&(Fe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Fe(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(Fe(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lu,this.toJSON())}_performRefresh(){return $o("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(t,e){Fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class bi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new W9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new JT(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Gu(this,this.stsTokenManager.getToken(this.auth,e));return Fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return j9(this,e)}reload(){return J9(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await km(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(Zs(this.auth));const e=await this.getIdToken();return await Gu(this,K9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,a=n.photoURL??void 0,u=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:E,providerData:w,stsTokenManager:b}=n;Fe(y&&b,e,"internal-error");const C=Lu.fromJSON(this.name,b);Fe(typeof y=="string",e,"internal-error"),Fs(r,e.name),Fs(i,e.name),Fe(typeof _=="boolean",e,"internal-error"),Fe(typeof E=="boolean",e,"internal-error"),Fs(o,e.name),Fs(a,e.name),Fs(u,e.name),Fs(c,e.name),Fs(d,e.name),Fs(p,e.name);const P=new bi({uid:y,auth:e,email:i,emailVerified:_,displayName:r,isAnonymous:E,photoURL:a,phoneNumber:o,tenantId:u,stsTokenManager:C,createdAt:d,lastLoginAt:p});return w&&Array.isArray(w)&&(P.providerData=w.map(N=>({...N}))),c&&(P._redirectEventId=c),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new Lu;i.updateFromServerResponse(n);const o=new bi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await km(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Fe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?gk(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new Lu;u.updateFromIdToken(r);const c=new bi({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new JT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=new Map;function Ho(t){Qo(t instanceof Function,"Expected a class definition");let e=Q1.get(t);return e?(Qo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Q1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yk.type="NONE";const Z1=yk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(t,e,n){return`firebase:${t}:${e}:${n}`}class Vu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=pm(this.userKey,i.apiKey,o),this.fullPersistenceKey=pm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Dm(this.auth,{idToken:e}).catch(()=>{});return n?bi._fromGetAccountInfoResponse(this.auth,n,e):null}return bi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Vu(Ho(Z1),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||Ho(Z1);const a=pm(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const p=await d._get(a);if(p){let y;if(typeof p=="string"){const _=await Dm(e,{idToken:p}).catch(()=>{});if(!_)break;y=await bi._fromGetAccountInfoResponse(e,_,p)}else y=bi._fromJSON(e,p);d!==o&&(u=y),o=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Vu(o,e,r):(o=c[0],u&&await o._set(a,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(a)}catch{}})),new Vu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ek(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wk(e))return"Blackberry";if(bk(e))return"Webos";if(_k(e))return"Safari";if((e.includes("chrome/")||Tk(e))&&!e.includes("edge/"))return"Chrome";if(Sk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function vk(t=tr()){return/firefox\//i.test(t)}function _k(t=tr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Tk(t=tr()){return/crios\//i.test(t)}function Ek(t=tr()){return/iemobile/i.test(t)}function Sk(t=tr()){return/android/i.test(t)}function wk(t=tr()){return/blackberry/i.test(t)}function bk(t=tr()){return/webos/i.test(t)}function VS(t=tr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function e$(t=tr()){var e;return VS(t)&&!!((e=window.navigator)!=null&&e.standalone)}function t$(){return h5()&&document.documentMode===10}function Ak(t=tr()){return VS(t)||Sk(t)||bk(t)||wk(t)||/windows phone/i.test(t)||Ek(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t,e=[]){let n;switch(t){case"Browser":n=eR(tr());break;case"Worker":n=`${eR(tr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,u)=>{try{const c=e(o);a(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r$(t,e={}){return ss(t,"GET","/v2/passwordPolicy",Rl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$=6;class o${constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??i$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tR(this),this.idTokenSubscription=new tR(this),this.beforeStateQueue=new n$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ho(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Vu.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Dm(this,{idToken:e}),r=await bi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(oi(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(o=this.redirectUser)==null?void 0:o._redirectEventId,u=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await km(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=U9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(Zs(this));const n=e?Dt(e):null;return n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(Zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(Zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ho(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await r$(this),n=new o$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Z9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ho(e)||this._popupRedirectResolver;Fe(n,this,"argument-error"),this.redirectPersistenceManager=await Vu.create(this,[Ho(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(u,this,"internal-error"),u.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ck(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&O9(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function dc(t){return Dt(t)}class tR{constructor(e){this.auth=e,this.observer=null,this.addObserver=E5(n=>this.observer=n)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ug={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function a$(t){Ug=t}function xk(t){return Ug.loadJS(t)}function l$(){return Ug.recaptchaEnterpriseScript}function u$(){return Ug.gapiScript}function c$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class f${constructor(){this.enterprise=new d$}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class d${ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const h$="recaptcha-enterprise",Rk="NO_RECAPTCHA";class p${constructor(e){this.type=h$,this.auth=dc(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,u)=>{G9(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new z9(c);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,a(d.siteKey)}}).catch(c=>{u(c)})})}function i(o,a,u){const c=window.grecaptcha;J1(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(d=>{a(d)}).catch(()=>{a(Rk)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new f$().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(u=>{if(!n&&J1(window.grecaptcha))i(u,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=l$();c.length!==0&&(c+=u),xk(c).then(()=>{i(u,o,a)}).catch(d=>{a(d)})}}).catch(u=>{a(u)})})}}async function nR(t,e,n,r=!1,i=!1){const o=new p$(t);let a;if(i)a=Rk;else try{a=await o.verify(n)}catch{a=await o.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function rR(t,e,n,r,i){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await nR(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await nR(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m$(t,e){const n=Lg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(gl(o,e??{}))return i;Ci(i,"already-initialized")}return n.initialize({options:e})}function g$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ho);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function y$(t,e,n){const r=dc(t);Fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=Ik(e),{host:a,port:u}=v$(e),c=u===null?"":`:${u}`,d={url:`${o}//${a}${c}/`},p=Object.freeze({host:a,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Fe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Fe(gl(d,r.config.emulator)&&gl(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,ha(a)?(IS(`${o}//${a}${c}`),PS("Auth",!0)):_$()}function Ik(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function v$(t){const e=Ik(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:iR(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:iR(a)}}}function iR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $o("not implemented")}_getIdTokenResponse(e){return $o("not implemented")}_linkToIdToken(e,n){return $o("not implemented")}_getReauthenticationResolver(e){return $o("not implemented")}}async function T$(t,e){return ss(t,"POST","/v1/accounts:update",e)}async function E$(t,e){return ss(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S$(t,e){return Vg(t,"POST","/v1/accounts:signInWithPassword",Rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w$(t,e){return Vg(t,"POST","/v1/accounts:signInWithEmailLink",Rl(t,e))}async function b$(t,e){return Vg(t,"POST","/v1/accounts:signInWithEmailLink",Rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends US{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new vd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new vd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rR(e,n,"signInWithPassword",S$);case"emailLink":return w$(e,{email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rR(e,r,"signUpPassword",E$);case"emailLink":return b$(e,{idToken:n,email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uu(t,e){return Vg(t,"POST","/v1/accounts:signInWithIdp",Rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$="http://localhost";class vl extends US{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const a=new vl(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Uu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Uu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Uu(e,n)}buildRequest(){const e={requestUri:A$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function x$(t){const e=Xf(Qf(t)).link,n=e?Xf(Qf(e)).deep_link_id:null,r=Xf(Qf(t)).deep_link_id;return(r?Xf(Qf(r)).link:null)||r||n||e||t}class BS{constructor(e){const n=Xf(Qf(e)),r=n.apiKey??null,i=n.oobCode??null,o=C$(n.mode??null);Fe(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=x$(e);try{return new BS(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){this.providerId=hc.PROVIDER_ID}static credential(e,n){return vd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=BS.parseLink(n);return Fe(r,"argument-error"),vd._fromEmailAndCode(e,r.code,r.tenantId)}}hc.PROVIDER_ID="password";hc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd extends Pk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Hd{constructor(){super("facebook.com")}static credential(e){return vl._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hs.credential(e.oauthAccessToken)}catch{return null}}}Hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Hd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vl._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zs.credential(n,r)}catch{return null}}}zs.GOOGLE_SIGN_IN_METHOD="google.com";zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Hd{constructor(){super("github.com")}static credential(e){return vl._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends Hd{constructor(){super("twitter.com")}static credential(e,n){return vl._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ks.credential(n,r)}catch{return null}}}Ks.TWITTER_SIGN_IN_METHOD="twitter.com";Ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await bi._fromIdTokenResponse(e,r,i),a=oR(r);return new Ku({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=oR(r);return new Ku({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function oR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om extends Mi{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Om.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Om(e,n,r,i)}}function Mk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Om._fromErrorAndOperation(t,o,e,r):o})}async function R$(t,e,n=!1){const r=await Gu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ku._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I$(t,e,n=!1){const{auth:r}=t;if(oi(r.app))return Promise.reject(Zs(r));const i="reauthenticate";try{const o=await Gu(t,Mk(r,i,e,t),n);Fe(o.idToken,r,"internal-error");const a=LS(o.idToken);Fe(a,r,"internal-error");const{sub:u}=a;return Fe(t.uid===u,r,"user-mismatch"),Ku._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ci(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(t,e,n=!1){if(oi(t.app))return Promise.reject(Zs(t));const r="signIn",i=await Mk(t,r,e),o=await Ku._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function P$(t,e){return Nk(dc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M$(t){const e=dc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function N$(t,e,n){return oi(t.app)?Promise.reject(Zs(t)):P$(Dt(t),hc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&M$(t),r})}function D$(t,e){return k$(Dt(t),null,e)}async function k$(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(o.password=n);const a=await Gu(t,T$(r,o));await t._updateTokensIfNecessary(a,!0)}function O$(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function L$(t,e,n){return Dt(t).beforeAuthStateChanged(e,n)}function V$(t,e,n,r){return Dt(t).onAuthStateChanged(e,n,r)}function U$(t){return Dt(t).signOut()}const Lm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lm,"1"),this.storage.removeItem(Lm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$=1e3,F$=10;class kk extends Dk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ak(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);t$()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,F$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},B$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kk.type="LOCAL";const q$=kk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok extends Dk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ok.type="SESSION";const Lk=Ok;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Bg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(a).map(async d=>d(n.origin,o)),c=await $$(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const d=FS("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(y){const _=y;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(_.data.response);break;default:clearTimeout(p),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(){return window}function z$(t){to().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(){return typeof to().WorkerGlobalScope<"u"&&typeof to().importScripts=="function"}async function G$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function K$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function j$(){return Vk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="firebaseLocalStorageDb",Y$=1,Vm="firebaseLocalStorage",Bk="fbase_key";class zd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fg(t,e){return t.transaction([Vm],e?"readwrite":"readonly").objectStore(Vm)}function W$(){const t=indexedDB.deleteDatabase(Uk);return new zd(t).toPromise()}function XT(){const t=indexedDB.open(Uk,Y$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Vm,{keyPath:Bk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Vm)?e(r):(r.close(),await W$(),e(await XT()))})})}async function sR(t,e,n){const r=Fg(t,!0).put({[Bk]:e,value:n});return new zd(r).toPromise()}async function J$(t,e){const n=Fg(t,!1).get(e),r=await new zd(n).toPromise();return r===void 0?null:r.value}function aR(t,e){const n=Fg(t,!0).delete(e);return new zd(n).toPromise()}const X$=800,Q$=3;class Fk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await XT(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Q$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bg._getInstance(j$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await G$(),!this.activeServiceWorker)return;this.sender=new H$(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||K$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await XT();return await sR(e,Lm,"1"),await aR(e,Lm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>sR(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>J$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aR(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Fg(i,!1).getAll();return new zd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),X$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Fk.type="LOCAL";const Z$=Fk;new $d(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eH(t,e){return e?Ho(e):(Fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS extends US{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Uu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Uu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tH(t){return Nk(t.auth,new qS(t),t.bypassAuthState)}function nH(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),I$(n,new qS(t),t.bypassAuthState)}async function rH(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),R$(n,new qS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tH;case"linkViaPopup":case"linkViaRedirect":return rH;case"reauthViaPopup":case"reauthViaRedirect":return nH;default:Ci(this.auth,"internal-error")}}resolve(e){Qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iH=new $d(2e3,1e4);class Nu extends qk{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Nu.currentPopupAction&&Nu.currentPopupAction.cancel(),Nu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){Qo(this.filter.length===1,"Popup operations only handle one event");const e=FS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(eo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(eo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(eo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iH.get())};e()}}Nu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oH="pendingRedirect",mm=new Map;class sH extends qk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=mm.get(this.auth._key());if(!e){try{const r=await aH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mm.set(this.auth._key(),e)}return this.bypassAuthState||mm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aH(t,e){const n=cH(e),r=uH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function lH(t,e){mm.set(t._key(),e)}function uH(t){return Ho(t._redirectPersistence)}function cH(t){return pm(oH,t.config.apiKey,t.name)}async function fH(t,e,n=!1){if(oi(t.app))return Promise.reject(Zs(t));const r=dc(t),i=eH(r,e),a=await new sH(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dH=600*1e3;class hH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$k(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(eo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dH&&this.cachedEventUids.clear(),this.cachedEventUids.has(lR(e))}saveEventToCache(e){this.cachedEventUids.add(lR(e)),this.lastProcessedEventTime=Date.now()}}function lR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $k({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $k(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mH(t,e={}){return ss(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yH=/^https?/;async function vH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mH(t);for(const n of e)try{if(_H(n))return}catch{}Ci(t,"unauthorized-domain")}function _H(t){const e=WT(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!yH.test(n))return!1;if(gH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TH=new $d(3e4,6e4);function uR(){const t=to().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function EH(t){return new Promise((e,n)=>{var i,o,a;function r(){uR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uR(),n(eo(t,"network-request-failed"))},timeout:TH.get()})}if((o=(i=to().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((a=to().gapi)!=null&&a.load)r();else{const u=c$("iframefcb");return to()[u]=()=>{gapi.load?r():n(eo(t,"network-request-failed"))},xk(`${u$()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw gm=null,e})}let gm=null;function SH(t){return gm=gm||EH(t),gm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH=new $d(5e3,15e3),bH="__/auth/iframe",AH="emulator/auth/iframe",CH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RH(t){const e=t.config;Fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?OS(e,AH):`https://${t.config.authDomain}/${bH}`,r={apiKey:e.apiKey,appName:t.name,v:xl},i=xH.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${qd(r).slice(1)}`}async function IH(t){const e=await SH(t),n=to().gapi;return Fe(n,t,"internal-error"),e.open({where:document.body,url:RH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CH,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=eo(t,"network-request-failed"),u=to().setTimeout(()=>{o(a)},wH.get());function c(){to().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MH=500,NH=600,DH="_blank",kH="http://localhost";class cR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OH(t,e,n,r=MH,i=NH){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c={...PH,width:r.toString(),height:i.toString(),top:o,left:a},d=tr().toLowerCase();n&&(u=Tk(d)?DH:n),vk(d)&&(e=e||kH,c.scrollbars="yes");const p=Object.entries(c).reduce((_,[E,w])=>`${_}${E}=${w},`,"");if(e$(d)&&u!=="_self")return LH(e||"",u),new cR(null);const y=window.open(e||"",u,p);Fe(y,t,"popup-blocked");try{y.focus()}catch{}return new cR(y)}function LH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH="__/auth/handler",UH="emulator/auth/handler",BH=encodeURIComponent("fac");async function fR(t,e,n,r,i,o){Fe(t.config.authDomain,t,"auth-domain-config-required"),Fe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xl,eventId:i};if(e instanceof Pk){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",T5(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,y]of Object.entries({}))a[p]=y}if(e instanceof Hd){const p=e.getScopes().filter(y=>y!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const c=await t._getAppCheckToken(),d=c?`#${BH}=${encodeURIComponent(c)}`:"";return`${FH(t)}?${qd(u).slice(1)}${d}`}function FH({config:t}){return t.emulator?OS(t,UH):`https://${t.authDomain}/${VH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="webStorageSupport";class qH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lk,this._completeRedirectFn=fH,this._overrideRedirectResult=lH}async _openPopup(e,n,r,i){var a;Qo((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await fR(e,n,r,WT(),i);return OH(e,o,FS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await fR(e,n,r,WT(),i);return z$(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Qo(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await IH(e),r=new hH(e);return n.register("authEvent",i=>(Fe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(X0,{type:X0},i=>{var a;const o=(a=i==null?void 0:i[0])==null?void 0:a[X0];o!==void 0&&n(!!o),Ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ak()||_k()||VS()}}const $H=qH;var dR="@firebase/auth",hR="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GH(t){yl(new ia("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;Fe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ck(t)},d=new s$(r,i,o,c);return g$(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),yl(new ia("auth-internal",e=>{const n=dc(e.getProvider("auth").getImmediate());return(r=>new HH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zi(dR,hR,zH(t)),Zi(dR,hR,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KH=300,jH=rk("authIdTokenMaxAge")||KH;let pR=null;const YH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>jH)return;const i=n==null?void 0:n.token;pR!==i&&(pR=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function WH(t=DS()){const e=Lg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=m$(t,{popupRedirectResolver:$H,persistence:[Z$,q$,Lk]}),r=rk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=YH(o.toString());L$(n,a,()=>a(n.currentUser)),O$(n,u=>a(u))}}const i=ek("auth");return i&&y$(n,`http://${i}`),n}function JH(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}a$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=eo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",JH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GH("Browser");var mR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ea,Hk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,O){function M(){}M.prototype=O.prototype,k.D=O.prototype,k.prototype=new M,k.prototype.constructor=k,k.C=function(q,F,z){for(var H=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)H[Ee-2]=arguments[Ee];return O.prototype[F].apply(q,H)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,O,M){M||(M=0);var q=Array(16);if(typeof O=="string")for(var F=0;16>F;++F)q[F]=O.charCodeAt(M++)|O.charCodeAt(M++)<<8|O.charCodeAt(M++)<<16|O.charCodeAt(M++)<<24;else for(F=0;16>F;++F)q[F]=O[M++]|O[M++]<<8|O[M++]<<16|O[M++]<<24;O=k.g[0],M=k.g[1],F=k.g[2];var z=k.g[3],H=O+(z^M&(F^z))+q[0]+3614090360&4294967295;O=M+(H<<7&4294967295|H>>>25),H=z+(F^O&(M^F))+q[1]+3905402710&4294967295,z=O+(H<<12&4294967295|H>>>20),H=F+(M^z&(O^M))+q[2]+606105819&4294967295,F=z+(H<<17&4294967295|H>>>15),H=M+(O^F&(z^O))+q[3]+3250441966&4294967295,M=F+(H<<22&4294967295|H>>>10),H=O+(z^M&(F^z))+q[4]+4118548399&4294967295,O=M+(H<<7&4294967295|H>>>25),H=z+(F^O&(M^F))+q[5]+1200080426&4294967295,z=O+(H<<12&4294967295|H>>>20),H=F+(M^z&(O^M))+q[6]+2821735955&4294967295,F=z+(H<<17&4294967295|H>>>15),H=M+(O^F&(z^O))+q[7]+4249261313&4294967295,M=F+(H<<22&4294967295|H>>>10),H=O+(z^M&(F^z))+q[8]+1770035416&4294967295,O=M+(H<<7&4294967295|H>>>25),H=z+(F^O&(M^F))+q[9]+2336552879&4294967295,z=O+(H<<12&4294967295|H>>>20),H=F+(M^z&(O^M))+q[10]+4294925233&4294967295,F=z+(H<<17&4294967295|H>>>15),H=M+(O^F&(z^O))+q[11]+2304563134&4294967295,M=F+(H<<22&4294967295|H>>>10),H=O+(z^M&(F^z))+q[12]+1804603682&4294967295,O=M+(H<<7&4294967295|H>>>25),H=z+(F^O&(M^F))+q[13]+4254626195&4294967295,z=O+(H<<12&4294967295|H>>>20),H=F+(M^z&(O^M))+q[14]+2792965006&4294967295,F=z+(H<<17&4294967295|H>>>15),H=M+(O^F&(z^O))+q[15]+1236535329&4294967295,M=F+(H<<22&4294967295|H>>>10),H=O+(F^z&(M^F))+q[1]+4129170786&4294967295,O=M+(H<<5&4294967295|H>>>27),H=z+(M^F&(O^M))+q[6]+3225465664&4294967295,z=O+(H<<9&4294967295|H>>>23),H=F+(O^M&(z^O))+q[11]+643717713&4294967295,F=z+(H<<14&4294967295|H>>>18),H=M+(z^O&(F^z))+q[0]+3921069994&4294967295,M=F+(H<<20&4294967295|H>>>12),H=O+(F^z&(M^F))+q[5]+3593408605&4294967295,O=M+(H<<5&4294967295|H>>>27),H=z+(M^F&(O^M))+q[10]+38016083&4294967295,z=O+(H<<9&4294967295|H>>>23),H=F+(O^M&(z^O))+q[15]+3634488961&4294967295,F=z+(H<<14&4294967295|H>>>18),H=M+(z^O&(F^z))+q[4]+3889429448&4294967295,M=F+(H<<20&4294967295|H>>>12),H=O+(F^z&(M^F))+q[9]+568446438&4294967295,O=M+(H<<5&4294967295|H>>>27),H=z+(M^F&(O^M))+q[14]+3275163606&4294967295,z=O+(H<<9&4294967295|H>>>23),H=F+(O^M&(z^O))+q[3]+4107603335&4294967295,F=z+(H<<14&4294967295|H>>>18),H=M+(z^O&(F^z))+q[8]+1163531501&4294967295,M=F+(H<<20&4294967295|H>>>12),H=O+(F^z&(M^F))+q[13]+2850285829&4294967295,O=M+(H<<5&4294967295|H>>>27),H=z+(M^F&(O^M))+q[2]+4243563512&4294967295,z=O+(H<<9&4294967295|H>>>23),H=F+(O^M&(z^O))+q[7]+1735328473&4294967295,F=z+(H<<14&4294967295|H>>>18),H=M+(z^O&(F^z))+q[12]+2368359562&4294967295,M=F+(H<<20&4294967295|H>>>12),H=O+(M^F^z)+q[5]+4294588738&4294967295,O=M+(H<<4&4294967295|H>>>28),H=z+(O^M^F)+q[8]+2272392833&4294967295,z=O+(H<<11&4294967295|H>>>21),H=F+(z^O^M)+q[11]+1839030562&4294967295,F=z+(H<<16&4294967295|H>>>16),H=M+(F^z^O)+q[14]+4259657740&4294967295,M=F+(H<<23&4294967295|H>>>9),H=O+(M^F^z)+q[1]+2763975236&4294967295,O=M+(H<<4&4294967295|H>>>28),H=z+(O^M^F)+q[4]+1272893353&4294967295,z=O+(H<<11&4294967295|H>>>21),H=F+(z^O^M)+q[7]+4139469664&4294967295,F=z+(H<<16&4294967295|H>>>16),H=M+(F^z^O)+q[10]+3200236656&4294967295,M=F+(H<<23&4294967295|H>>>9),H=O+(M^F^z)+q[13]+681279174&4294967295,O=M+(H<<4&4294967295|H>>>28),H=z+(O^M^F)+q[0]+3936430074&4294967295,z=O+(H<<11&4294967295|H>>>21),H=F+(z^O^M)+q[3]+3572445317&4294967295,F=z+(H<<16&4294967295|H>>>16),H=M+(F^z^O)+q[6]+76029189&4294967295,M=F+(H<<23&4294967295|H>>>9),H=O+(M^F^z)+q[9]+3654602809&4294967295,O=M+(H<<4&4294967295|H>>>28),H=z+(O^M^F)+q[12]+3873151461&4294967295,z=O+(H<<11&4294967295|H>>>21),H=F+(z^O^M)+q[15]+530742520&4294967295,F=z+(H<<16&4294967295|H>>>16),H=M+(F^z^O)+q[2]+3299628645&4294967295,M=F+(H<<23&4294967295|H>>>9),H=O+(F^(M|~z))+q[0]+4096336452&4294967295,O=M+(H<<6&4294967295|H>>>26),H=z+(M^(O|~F))+q[7]+1126891415&4294967295,z=O+(H<<10&4294967295|H>>>22),H=F+(O^(z|~M))+q[14]+2878612391&4294967295,F=z+(H<<15&4294967295|H>>>17),H=M+(z^(F|~O))+q[5]+4237533241&4294967295,M=F+(H<<21&4294967295|H>>>11),H=O+(F^(M|~z))+q[12]+1700485571&4294967295,O=M+(H<<6&4294967295|H>>>26),H=z+(M^(O|~F))+q[3]+2399980690&4294967295,z=O+(H<<10&4294967295|H>>>22),H=F+(O^(z|~M))+q[10]+4293915773&4294967295,F=z+(H<<15&4294967295|H>>>17),H=M+(z^(F|~O))+q[1]+2240044497&4294967295,M=F+(H<<21&4294967295|H>>>11),H=O+(F^(M|~z))+q[8]+1873313359&4294967295,O=M+(H<<6&4294967295|H>>>26),H=z+(M^(O|~F))+q[15]+4264355552&4294967295,z=O+(H<<10&4294967295|H>>>22),H=F+(O^(z|~M))+q[6]+2734768916&4294967295,F=z+(H<<15&4294967295|H>>>17),H=M+(z^(F|~O))+q[13]+1309151649&4294967295,M=F+(H<<21&4294967295|H>>>11),H=O+(F^(M|~z))+q[4]+4149444226&4294967295,O=M+(H<<6&4294967295|H>>>26),H=z+(M^(O|~F))+q[11]+3174756917&4294967295,z=O+(H<<10&4294967295|H>>>22),H=F+(O^(z|~M))+q[2]+718787259&4294967295,F=z+(H<<15&4294967295|H>>>17),H=M+(z^(F|~O))+q[9]+3951481745&4294967295,k.g[0]=k.g[0]+O&4294967295,k.g[1]=k.g[1]+(F+(H<<21&4294967295|H>>>11))&4294967295,k.g[2]=k.g[2]+F&4294967295,k.g[3]=k.g[3]+z&4294967295}r.prototype.u=function(k,O){O===void 0&&(O=k.length);for(var M=O-this.blockSize,q=this.B,F=this.h,z=0;z<O;){if(F==0)for(;z<=M;)i(this,k,z),z+=this.blockSize;if(typeof k=="string"){for(;z<O;)if(q[F++]=k.charCodeAt(z++),F==this.blockSize){i(this,q),F=0;break}}else for(;z<O;)if(q[F++]=k[z++],F==this.blockSize){i(this,q),F=0;break}}this.h=F,this.o+=O},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var O=1;O<k.length-8;++O)k[O]=0;var M=8*this.o;for(O=k.length-8;O<k.length;++O)k[O]=M&255,M/=256;for(this.u(k),k=Array(16),O=M=0;4>O;++O)for(var q=0;32>q;q+=8)k[M++]=this.g[O]>>>q&255;return k};function o(k,O){var M=u;return Object.prototype.hasOwnProperty.call(M,k)?M[k]:M[k]=O(k)}function a(k,O){this.h=O;for(var M=[],q=!0,F=k.length-1;0<=F;F--){var z=k[F]|0;q&&z==O||(M[F]=z,q=!1)}this.g=M}var u={};function c(k){return-128<=k&&128>k?o(k,function(O){return new a([O|0],0>O?-1:0)}):new a([k|0],0>k?-1:0)}function d(k){if(isNaN(k)||!isFinite(k))return y;if(0>k)return C(d(-k));for(var O=[],M=1,q=0;k>=M;q++)O[q]=k/M|0,M*=4294967296;return new a(O,0)}function p(k,O){if(k.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(k.charAt(0)=="-")return C(p(k.substring(1),O));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=d(Math.pow(O,8)),q=y,F=0;F<k.length;F+=8){var z=Math.min(8,k.length-F),H=parseInt(k.substring(F,F+z),O);8>z?(z=d(Math.pow(O,z)),q=q.j(z).add(d(H))):(q=q.j(M),q=q.add(d(H)))}return q}var y=c(0),_=c(1),E=c(16777216);t=a.prototype,t.m=function(){if(b(this))return-C(this).m();for(var k=0,O=1,M=0;M<this.g.length;M++){var q=this.i(M);k+=(0<=q?q:4294967296+q)*O,O*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(w(this))return"0";if(b(this))return"-"+C(this).toString(k);for(var O=d(Math.pow(k,6)),M=this,q="";;){var F=U(M,O).g;M=P(M,F.j(O));var z=((0<M.g.length?M.g[0]:M.h)>>>0).toString(k);if(M=F,w(M))return z+q;for(;6>z.length;)z="0"+z;q=z+q}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function w(k){if(k.h!=0)return!1;for(var O=0;O<k.g.length;O++)if(k.g[O]!=0)return!1;return!0}function b(k){return k.h==-1}t.l=function(k){return k=P(this,k),b(k)?-1:w(k)?0:1};function C(k){for(var O=k.g.length,M=[],q=0;q<O;q++)M[q]=~k.g[q];return new a(M,~k.h).add(_)}t.abs=function(){return b(this)?C(this):this},t.add=function(k){for(var O=Math.max(this.g.length,k.g.length),M=[],q=0,F=0;F<=O;F++){var z=q+(this.i(F)&65535)+(k.i(F)&65535),H=(z>>>16)+(this.i(F)>>>16)+(k.i(F)>>>16);q=H>>>16,z&=65535,H&=65535,M[F]=H<<16|z}return new a(M,M[M.length-1]&-2147483648?-1:0)};function P(k,O){return k.add(C(O))}t.j=function(k){if(w(this)||w(k))return y;if(b(this))return b(k)?C(this).j(C(k)):C(C(this).j(k));if(b(k))return C(this.j(C(k)));if(0>this.l(E)&&0>k.l(E))return d(this.m()*k.m());for(var O=this.g.length+k.g.length,M=[],q=0;q<2*O;q++)M[q]=0;for(q=0;q<this.g.length;q++)for(var F=0;F<k.g.length;F++){var z=this.i(q)>>>16,H=this.i(q)&65535,Ee=k.i(F)>>>16,xe=k.i(F)&65535;M[2*q+2*F]+=H*xe,N(M,2*q+2*F),M[2*q+2*F+1]+=z*xe,N(M,2*q+2*F+1),M[2*q+2*F+1]+=H*Ee,N(M,2*q+2*F+1),M[2*q+2*F+2]+=z*Ee,N(M,2*q+2*F+2)}for(q=0;q<O;q++)M[q]=M[2*q+1]<<16|M[2*q];for(q=O;q<2*O;q++)M[q]=0;return new a(M,0)};function N(k,O){for(;(k[O]&65535)!=k[O];)k[O+1]+=k[O]>>>16,k[O]&=65535,O++}function D(k,O){this.g=k,this.h=O}function U(k,O){if(w(O))throw Error("division by zero");if(w(k))return new D(y,y);if(b(k))return O=U(C(k),O),new D(C(O.g),C(O.h));if(b(O))return O=U(k,C(O)),new D(C(O.g),O.h);if(30<k.g.length){if(b(k)||b(O))throw Error("slowDivide_ only works with positive integers.");for(var M=_,q=O;0>=q.l(k);)M=$(M),q=$(q);var F=G(M,1),z=G(q,1);for(q=G(q,2),M=G(M,2);!w(q);){var H=z.add(q);0>=H.l(k)&&(F=F.add(M),z=H),q=G(q,1),M=G(M,1)}return O=P(k,F.j(O)),new D(F,O)}for(F=y;0<=k.l(O);){for(M=Math.max(1,Math.floor(k.m()/O.m())),q=Math.ceil(Math.log(M)/Math.LN2),q=48>=q?1:Math.pow(2,q-48),z=d(M),H=z.j(O);b(H)||0<H.l(k);)M-=q,z=d(M),H=z.j(O);w(z)&&(z=_),F=F.add(z),k=P(k,H)}return new D(F,k)}t.A=function(k){return U(this,k).h},t.and=function(k){for(var O=Math.max(this.g.length,k.g.length),M=[],q=0;q<O;q++)M[q]=this.i(q)&k.i(q);return new a(M,this.h&k.h)},t.or=function(k){for(var O=Math.max(this.g.length,k.g.length),M=[],q=0;q<O;q++)M[q]=this.i(q)|k.i(q);return new a(M,this.h|k.h)},t.xor=function(k){for(var O=Math.max(this.g.length,k.g.length),M=[],q=0;q<O;q++)M[q]=this.i(q)^k.i(q);return new a(M,this.h^k.h)};function $(k){for(var O=k.g.length+1,M=[],q=0;q<O;q++)M[q]=k.i(q)<<1|k.i(q-1)>>>31;return new a(M,k.h)}function G(k,O){var M=O>>5;O%=32;for(var q=k.g.length-M,F=[],z=0;z<q;z++)F[z]=0<O?k.i(z+M)>>>O|k.i(z+M+1)<<32-O:k.i(z+M);return new a(F,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Hk=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=p,ea=a}).apply(typeof mR<"u"?mR:typeof self<"u"?self:typeof window<"u"?window:{});var Fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zk,Zf,Gk,ym,QT,Kk,jk,Yk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,A,x){return v==Array.prototype||v==Object.prototype||(v[A]=x.value),v};function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fp=="object"&&Fp];for(var A=0;A<v.length;++A){var x=v[A];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(v,A){if(A)e:{var x=r;v=v.split(".");for(var B=0;B<v.length-1;B++){var J=v[B];if(!(J in x))break e;x=x[J]}v=v[v.length-1],B=x[v],A=A(B),A!=B&&A!=null&&e(x,v,{configurable:!0,writable:!0,value:A})}}function o(v,A){v instanceof String&&(v+="");var x=0,B=!1,J={next:function(){if(!B&&x<v.length){var ne=x++;return{value:A(ne,v[ne]),done:!1}}return B=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(v){return v||function(){return o(this,function(A,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function c(v){var A=typeof v;return A=A!="object"?A:v?Array.isArray(v)?"array":A:"null",A=="array"||A=="object"&&typeof v.length=="number"}function d(v){var A=typeof v;return A=="object"&&v!=null||A=="function"}function p(v,A,x){return v.call.apply(v.bind,arguments)}function y(v,A,x){if(!v)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,B),v.apply(A,J)}}return function(){return v.apply(A,arguments)}}function _(v,A,x){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,_.apply(null,arguments)}function E(v,A){var x=Array.prototype.slice.call(arguments,1);return function(){var B=x.slice();return B.push.apply(B,arguments),v.apply(this,B)}}function w(v,A){function x(){}x.prototype=A.prototype,v.aa=A.prototype,v.prototype=new x,v.prototype.constructor=v,v.Qb=function(B,J,ne){for(var ge=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)ge[ot-2]=arguments[ot];return A.prototype[J].apply(B,ge)}}function b(v){const A=v.length;if(0<A){const x=Array(A);for(let B=0;B<A;B++)x[B]=v[B];return x}return[]}function C(v,A){for(let x=1;x<arguments.length;x++){const B=arguments[x];if(c(B)){const J=v.length||0,ne=B.length||0;v.length=J+ne;for(let ge=0;ge<ne;ge++)v[J+ge]=B[ge]}else v.push(B)}}class P{constructor(A,x){this.i=A,this.j=x,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function N(v){return/^[\s\xa0]*$/.test(v)}function D(){var v=u.navigator;return v&&(v=v.userAgent)?v:""}function U(v){return U[" "](v),v}U[" "]=function(){};var $=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function G(v,A,x){for(const B in v)A.call(x,v[B],B,v)}function k(v,A){for(const x in v)A.call(void 0,v[x],x,v)}function O(v){const A={};for(const x in v)A[x]=v[x];return A}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(v,A){let x,B;for(let J=1;J<arguments.length;J++){B=arguments[J];for(x in B)v[x]=B[x];for(let ne=0;ne<M.length;ne++)x=M[ne],Object.prototype.hasOwnProperty.call(B,x)&&(v[x]=B[x])}}function F(v){var A=1;v=v.split(":");const x=[];for(;0<A&&v.length;)x.push(v.shift()),A--;return v.length&&x.push(v.join(":")),x}function z(v){u.setTimeout(()=>{throw v},0)}function H(){var v=Me;let A=null;return v.g&&(A=v.g,v.g=v.g.next,v.g||(v.h=null),A.next=null),A}class Ee{constructor(){this.h=this.g=null}add(A,x){const B=xe.get();B.set(A,x),this.h?this.h.next=B:this.g=B,this.h=B}}var xe=new P(()=>new Z,v=>v.reset());class Z{constructor(){this.next=this.g=this.h=null}set(A,x){this.h=A,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ye=!1,Me=new Ee,j=()=>{const v=u.Promise.resolve(void 0);de=()=>{v.then(ue)}};var ue=()=>{for(var v;v=H();){try{v.h.call(v.g)}catch(x){z(x)}var A=xe;A.j(v),100>A.h&&(A.h++,v.next=A.g,A.g=v)}ye=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(v,A){this.type=v,this.g=this.target=A,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Ne=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var v=!1,A=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const x=()=>{};u.addEventListener("test",x,A),u.removeEventListener("test",x,A)}catch{}return v})();function ke(v,A){if(pe.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var x=this.type=v.type,B=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=A,A=v.relatedTarget){if($){e:{try{U(A.nodeName);var J=!0;break e}catch{}J=!1}J||(A=null)}}else x=="mouseover"?A=v.fromElement:x=="mouseout"&&(A=v.toElement);this.relatedTarget=A,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:Ue[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&ke.aa.h.call(this)}}w(ke,pe);var Ue={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var Gt="closure_listenable_"+(1e6*Math.random()|0),ut=0;function ve(v,A,x,B,J){this.listener=v,this.proxy=null,this.src=A,this.type=x,this.capture=!!B,this.ha=J,this.key=++ut,this.da=this.fa=!1}function Se(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function He(v){this.src=v,this.g={},this.h=0}He.prototype.add=function(v,A,x,B,J){var ne=v.toString();v=this.g[ne],v||(v=this.g[ne]=[],this.h++);var ge=It(v,A,B,J);return-1<ge?(A=v[ge],x||(A.fa=!1)):(A=new ve(A,this.src,ne,!!B,J),A.fa=x,v.push(A)),A};function he(v,A){var x=A.type;if(x in v.g){var B=v.g[x],J=Array.prototype.indexOf.call(B,A,void 0),ne;(ne=0<=J)&&Array.prototype.splice.call(B,J,1),ne&&(Se(A),v.g[x].length==0&&(delete v.g[x],v.h--))}}function It(v,A,x,B){for(var J=0;J<v.length;++J){var ne=v[J];if(!ne.da&&ne.listener==A&&ne.capture==!!x&&ne.ha==B)return J}return-1}var Ze="closure_lm_"+(1e6*Math.random()|0),Kt={};function Xt(v,A,x,B,J){if(Array.isArray(A)){for(var ne=0;ne<A.length;ne++)Xt(v,A[ne],x,B,J);return null}return x=gt(x),v&&v[Gt]?v.K(A,x,d(B)?!!B.capture:!1,J):$t(v,A,x,!1,B,J)}function $t(v,A,x,B,J,ne){if(!A)throw Error("Invalid event type");var ge=d(J)?!!J.capture:!!J,ot=be(v);if(ot||(v[Ze]=ot=new He(v)),x=ot.add(A,x,B,ge,ne),x.proxy)return x;if(B=po(),x.proxy=B,B.src=v,B.listener=x,v.addEventListener)Ne||(J=ge),J===void 0&&(J=!1),v.addEventListener(A.toString(),B,J);else if(v.attachEvent)v.attachEvent(we(A.toString()),B);else if(v.addListener&&v.removeListener)v.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return x}function po(){function v(x){return A.call(v.src,v.listener,x)}const A=Te;return v}function oe(v,A,x,B,J){if(Array.isArray(A))for(var ne=0;ne<A.length;ne++)oe(v,A[ne],x,B,J);else B=d(B)?!!B.capture:!!B,x=gt(x),v&&v[Gt]?(v=v.i,A=String(A).toString(),A in v.g&&(ne=v.g[A],x=It(ne,x,B,J),-1<x&&(Se(ne[x]),Array.prototype.splice.call(ne,x,1),ne.length==0&&(delete v.g[A],v.h--)))):v&&(v=be(v))&&(A=v.g[A.toString()],v=-1,A&&(v=It(A,x,B,J)),(x=-1<v?A[v]:null)&&me(x))}function me(v){if(typeof v!="number"&&v&&!v.da){var A=v.src;if(A&&A[Gt])he(A.i,v);else{var x=v.type,B=v.proxy;A.removeEventListener?A.removeEventListener(x,B,v.capture):A.detachEvent?A.detachEvent(we(x),B):A.addListener&&A.removeListener&&A.removeListener(B),(x=be(A))?(he(x,v),x.h==0&&(x.src=null,A[Ze]=null)):Se(v)}}}function we(v){return v in Kt?Kt[v]:Kt[v]="on"+v}function Te(v,A){if(v.da)v=!0;else{A=new ke(A,this);var x=v.listener,B=v.ha||v.src;v.fa&&me(v),v=x.call(B,A)}return v}function be(v){return v=v[Ze],v instanceof He?v:null}var ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function gt(v){return typeof v=="function"?v:(v[ze]||(v[ze]=function(A){return v.handleEvent(A)}),v[ze])}function We(){ie.call(this),this.i=new He(this),this.M=this,this.F=null}w(We,ie),We.prototype[Gt]=!0,We.prototype.removeEventListener=function(v,A,x,B){oe(this,v,A,x,B)};function Re(v,A){var x,B=v.F;if(B)for(x=[];B;B=B.F)x.push(B);if(v=v.M,B=A.type||A,typeof A=="string")A=new pe(A,v);else if(A instanceof pe)A.target=A.target||v;else{var J=A;A=new pe(B,v),q(A,J)}if(J=!0,x)for(var ne=x.length-1;0<=ne;ne--){var ge=A.g=x[ne];J=Xe(ge,B,!0,A)&&J}if(ge=A.g=v,J=Xe(ge,B,!0,A)&&J,J=Xe(ge,B,!1,A)&&J,x)for(ne=0;ne<x.length;ne++)ge=A.g=x[ne],J=Xe(ge,B,!1,A)&&J}We.prototype.N=function(){if(We.aa.N.call(this),this.i){var v=this.i,A;for(A in v.g){for(var x=v.g[A],B=0;B<x.length;B++)Se(x[B]);delete v.g[A],v.h--}}this.F=null},We.prototype.K=function(v,A,x,B){return this.i.add(String(v),A,!1,x,B)},We.prototype.L=function(v,A,x,B){return this.i.add(String(v),A,!0,x,B)};function Xe(v,A,x,B){if(A=v.i.g[String(A)],!A)return!0;A=A.concat();for(var J=!0,ne=0;ne<A.length;++ne){var ge=A[ne];if(ge&&!ge.da&&ge.capture==x){var ot=ge.listener,gn=ge.ha||ge.src;ge.fa&&he(v.i,ge),J=ot.call(gn,B)!==!1&&J}}return J&&!B.defaultPrevented}function Ct(v,A,x){if(typeof v=="function")x&&(v=_(v,x));else if(v&&typeof v.handleEvent=="function")v=_(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:u.setTimeout(v,A||0)}function pi(v){v.g=Ct(()=>{v.g=null,v.i&&(v.i=!1,pi(v))},v.l);const A=v.h;v.h=null,v.m.apply(null,A)}class nr extends ie{constructor(A,x){super(),this.m=A,this.l=x,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:pi(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pn(v){ie.call(this),this.h=v,this.g={}}w(pn,ie);var mi=[];function ki(v){G(v.g,function(A,x){this.g.hasOwnProperty(x)&&me(A)},v),v.g={}}pn.prototype.N=function(){pn.aa.N.call(this),ki(this)},pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gi=u.JSON.stringify,Vl=u.JSON.parse,wa=class{stringify(v){return u.JSON.stringify(v,void 0)}parse(v){return u.JSON.parse(v,void 0)}};function Nc(){}Nc.prototype.h=null;function Dc(v){return v.h||(v.h=v.i())}function kc(){}var mo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function go(){pe.call(this,"d")}w(go,pe);function Oc(){pe.call(this,"c")}w(Oc,pe);var Oi={},Lc=null;function ds(){return Lc=Lc||new We}Oi.La="serverreachability";function Ul(v){pe.call(this,Oi.La,v)}w(Ul,pe);function hs(v){const A=ds();Re(A,new Ul(A))}Oi.STAT_EVENT="statevent";function yh(v,A){pe.call(this,Oi.STAT_EVENT,v),this.stat=A}w(yh,pe);function Ut(v){const A=ds();Re(A,new yh(A,v))}Oi.Ma="timingevent";function mn(v,A){pe.call(this,Oi.Ma,v),this.size=A}w(mn,pe);function on(v,A){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){v()},A)}function Hr(){this.g=!0}Hr.prototype.xa=function(){this.g=!1};function Vc(v,A,x,B,J,ne){v.info(function(){if(v.g)if(ne)for(var ge="",ot=ne.split("&"),gn=0;gn<ot.length;gn++){var st=ot[gn].split("=");if(1<st.length){var An=st[0];st=st[1];var yn=An.split("_");ge=2<=yn.length&&yn[1]=="type"?ge+(An+"="+st+"&"):ge+(An+"=redacted&")}}else ge=null;else ge=ne;return"XMLHTTP REQ ("+B+") [attempt "+J+"]: "+A+`
`+x+`
`+ge})}function By(v,A,x,B,J,ne,ge){v.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+J+"]: "+A+`
`+x+`
`+ne+" "+ge})}function ps(v,A,x,B){v.info(function(){return"XMLHTTP TEXT ("+A+"): "+ba(v,x)+(B?" "+B:"")})}function vh(v,A){v.info(function(){return"TIMEOUT: "+A})}Hr.prototype.info=function(){};function ba(v,A){if(!v.g)return A;if(!A)return null;try{var x=JSON.parse(A);if(x){for(v=0;v<x.length;v++)if(Array.isArray(x[v])){var B=x[v];if(!(2>B.length)){var J=B[1];if(Array.isArray(J)&&!(1>J.length)){var ne=J[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ge=1;ge<J.length;ge++)J[ge]=""}}}}return gi(x)}catch{return A}}var ms={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Li;function Vi(){}w(Vi,Nc),Vi.prototype.g=function(){return new XMLHttpRequest},Vi.prototype.i=function(){return{}},Li=new Vi;function rr(v,A,x,B){this.j=v,this.i=A,this.l=x,this.R=B||1,this.U=new pn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qt}function Qt(){this.i=null,this.g="",this.h=!1}var Uc={},Bl={};function yi(v,A,x){v.L=1,v.v=Ia(Sr(A)),v.m=x,v.P=!0,vo(v,null)}function vo(v,A){v.F=Date.now(),Aa(v),v.A=Sr(v.v);var x=v.A,B=v.R;Array.isArray(B)||(B=[String(B)]),zc(x.i,"t",B),v.C=0,x=v.j.J,v.h=new Qt,v.g=kh(v.j,x?A:null,!v.m),0<v.O&&(v.M=new nr(_(v.Y,v,v.g),v.O)),A=v.U,x=v.g,B=v.ca;var J="readystatechange";Array.isArray(J)||(J&&(mi[0]=J.toString()),J=mi);for(var ne=0;ne<J.length;ne++){var ge=Xt(x,J[ne],B||A.handleEvent,!1,A.h||A);if(!ge)break;A.g[ge.key]=ge}A=v.H?O(v.H):{},v.m?(v.u||(v.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,A)):(v.u="GET",v.g.ea(v.A,v.u,null,A)),hs(),Vc(v.i,v.u,v.A,v.l,v.R,v.m)}rr.prototype.ca=function(v){v=v.target;const A=this.M;A&&jr(v)==3?A.j():this.Y(v)},rr.prototype.Y=function(v){try{if(v==this.g)e:{const yn=jr(this.g);var A=this.g.Ba();const Co=this.g.Z();if(!(3>yn)&&(yn!=3||this.g&&(this.h.h||this.g.oa()||Ch(this.g)))){this.J||yn!=4||A==7||(A==8||0>=Co?hs(3):hs(2)),gs(this);var x=this.g.Z();this.X=x;t:if(_h(this)){var B=Ch(this.g);v="";var J=B.length,ne=jr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vn(this),Ui(this);var ge="";break t}this.h.i=new u.TextDecoder}for(A=0;A<J;A++)this.h.h=!0,v+=this.h.i.decode(B[A],{stream:!(ne&&A==J-1)});B.length=0,this.h.g+=v,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=x==200,By(this.i,this.u,this.A,this.l,this.R,yn,x),this.o){if(this.T&&!this.K){t:{if(this.g){var ot,gn=this.g;if((ot=gn.g?gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(ot)){var st=ot;break t}}st=null}if(x=st)ps(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ca(this,x);else{this.o=!1,this.s=3,Ut(12),Vn(this),Ui(this);break e}}if(this.P){x=!0;let Un;for(;!this.J&&this.C<ge.length;)if(Un=Th(this,ge),Un==Bl){yn==4&&(this.s=4,Ut(14),x=!1),ps(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==Uc){this.s=4,Ut(15),ps(this.i,this.l,ge,"[Invalid Chunk]"),x=!1;break}else ps(this.i,this.l,Un,null),Ca(this,Un);if(_h(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yn!=4||ge.length!=0||this.h.h||(this.s=1,Ut(16),x=!1),this.o=this.o&&x,!x)ps(this.i,this.l,ge,"[Invalid Chunked Response]"),Vn(this),Ui(this);else if(0<ge.length&&!this.W){this.W=!0;var An=this.j;An.g==this&&An.ba&&!An.M&&(An.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Va(An),An.M=!0,Ut(11))}}else ps(this.i,this.l,ge,null),Ca(this,ge);yn==4&&Vn(this),this.o&&!this.J&&(yn==4?Mh(this.j,this):(this.o=!1,Aa(this)))}else zy(this.g),x==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),Vn(this),Ui(this)}}}catch{}finally{}};function _h(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function Th(v,A){var x=v.C,B=A.indexOf(`
`,x);return B==-1?Bl:(x=Number(A.substring(x,B)),isNaN(x)?Uc:(B+=1,B+x>A.length?Bl:(A=A.slice(B,B+x),v.C=B+x,A)))}rr.prototype.cancel=function(){this.J=!0,Vn(this)};function Aa(v){v.S=Date.now()+v.I,Eh(v,v.I)}function Eh(v,A){if(v.B!=null)throw Error("WatchDog timer not null");v.B=on(_(v.ba,v),A)}function gs(v){v.B&&(u.clearTimeout(v.B),v.B=null)}rr.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(vh(this.i,this.A),this.L!=2&&(hs(),Ut(17)),Vn(this),this.s=2,Ui(this)):Eh(this,this.S-v)};function Ui(v){v.j.G==0||v.J||Mh(v.j,v)}function Vn(v){gs(v);var A=v.M;A&&typeof A.ma=="function"&&A.ma(),v.M=null,ki(v.U),v.g&&(A=v.g,v.g=null,A.abort(),A.ma())}function Ca(v,A){try{var x=v.j;if(x.G!=0&&(x.g==v||Bc(x.h,v))){if(!v.K&&Bc(x.h,v)&&x.G==3){try{var B=x.Da.g.parse(A)}catch{B=null}if(Array.isArray(B)&&B.length==3){var J=B;if(J[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<v.F)Xl(x),Wl(x);else break e;Wc(x),Ut(18)}}else x.za=J[1],0<x.za-x.T&&37500>J[2]&&x.F&&x.v==0&&!x.C&&(x.C=on(_(x.Za,x),6e3));if(1>=ql(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Ao(x,11)}else if((v.K||x.g==v)&&Xl(x),!N(A))for(J=x.Da.g.parse(A),A=0;A<J.length;A++){let st=J[A];if(x.T=st[0],st=st[1],x.G==2)if(st[0]=="c"){x.K=st[1],x.ia=st[2];const An=st[3];An!=null&&(x.la=An,x.j.info("VER="+x.la));const yn=st[4];yn!=null&&(x.Aa=yn,x.j.info("SVER="+x.Aa));const Co=st[5];Co!=null&&typeof Co=="number"&&0<Co&&(B=1.5*Co,x.L=B,x.j.info("backChannelRequestTimeoutMs_="+B)),B=x;const Un=v.g;if(Un){const Gi=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gi){var ne=B.h;ne.g||Gi.indexOf("spdy")==-1&&Gi.indexOf("quic")==-1&&Gi.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&($l(ne,ne.h),ne.h=null))}if(B.D){const Xc=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;Xc&&(B.ya=Xc,Et(B.I,B.D,Xc))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-v.F,x.j.info("Handshake RTT: "+x.R+"ms")),B=x;var ge=v;if(B.qa=Dh(B,B.J?B.ia:null,B.W),ge.K){ir(B.h,ge);var ot=ge,gn=B.L;gn&&(ot.I=gn),ot.B&&(gs(ot),Aa(ot)),B.g=ge}else Ih(B);0<x.i.length&&Jl(x)}else st[0]!="stop"&&st[0]!="close"||Ao(x,7);else x.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?Ao(x,7):jc(x):st[0]!="noop"&&x.l&&x.l.ta(st),x.v=0)}}hs(4)}catch{}}var Sh=class{constructor(v,A){this.g=v,this.map=A}};function _o(v){this.l=v||10,u.PerformanceNavigationTiming?(v=u.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fl(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function ql(v){return v.h?1:v.g?v.g.size:0}function Bc(v,A){return v.h?v.h==A:v.g?v.g.has(A):!1}function $l(v,A){v.g?v.g.add(A):v.h=A}function ir(v,A){v.h&&v.h==A?v.h=null:v.g&&v.g.has(A)&&v.g.delete(A)}_o.prototype.cancel=function(){if(this.i=Fc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Fc(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let A=v.i;for(const x of v.g.values())A=A.concat(x.D);return A}return b(v.i)}function Fy(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(c(v)){for(var A=[],x=v.length,B=0;B<x;B++)A.push(v[B]);return A}A=[],x=0;for(B in v)A[x++]=v[B];return A}function Hl(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(c(v)||typeof v=="string"){var A=[];v=v.length;for(var x=0;x<v;x++)A.push(x);return A}A=[],x=0;for(const B in v)A[x++]=B;return A}}}function qc(v,A){if(v.forEach&&typeof v.forEach=="function")v.forEach(A,void 0);else if(c(v)||typeof v=="string")Array.prototype.forEach.call(v,A,void 0);else for(var x=Hl(v),B=Fy(v),J=B.length,ne=0;ne<J;ne++)A.call(void 0,B[ne],x&&x[ne],v)}var xa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qy(v,A){if(v){v=v.split("&");for(var x=0;x<v.length;x++){var B=v[x].indexOf("="),J=null;if(0<=B){var ne=v[x].substring(0,B);J=v[x].substring(B+1)}else ne=v[x];A(ne,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function sn(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof sn){this.h=v.h,Ra(this,v.j),this.o=v.o,this.g=v.g,ys(this,v.s),this.l=v.l;var A=v.i,x=new Eo;x.i=A.i,A.g&&(x.g=new Map(A.g),x.h=A.h),To(this,x),this.m=v.m}else v&&(A=String(v).match(xa))?(this.h=!1,Ra(this,A[1]||"",!0),this.o=zr(A[2]||""),this.g=zr(A[3]||"",!0),ys(this,A[4]),this.l=zr(A[5]||"",!0),To(this,A[6]||"",!0),this.m=zr(A[7]||"")):(this.h=!1,this.i=new Eo(null,this.h))}sn.prototype.toString=function(){var v=[],A=this.j;A&&v.push(Pa(A,$c,!0),":");var x=this.g;return(x||A=="file")&&(v.push("//"),(A=this.o)&&v.push(Pa(A,$c,!0),"@"),v.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&v.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&v.push("/"),v.push(Pa(x,x.charAt(0)=="/"?$y:Hc,!0))),(x=this.i.toString())&&v.push("?",x),(x=this.m)&&v.push("#",Pa(x,zl)),v.join("")};function Sr(v){return new sn(v)}function Ra(v,A,x){v.j=x?zr(A,!0):A,v.j&&(v.j=v.j.replace(/:$/,""))}function ys(v,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);v.s=A}else v.s=null}function To(v,A,x){A instanceof Eo?(v.i=A,bh(v.i,v.h)):(x||(A=Pa(A,Hy)),v.i=new Eo(A,v.h))}function Et(v,A,x){v.i.set(A,x)}function Ia(v){return Et(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function zr(v,A){return v?A?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Pa(v,A,x){return typeof v=="string"?(v=encodeURI(v).replace(A,wh),x&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function wh(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var $c=/[#\/\?@]/g,Hc=/[#\?:]/g,$y=/[#\?]/g,Hy=/[#\?@]/g,zl=/#/g;function Eo(v,A){this.h=this.g=null,this.i=v||null,this.j=!!A}function Gr(v){v.g||(v.g=new Map,v.h=0,v.i&&qy(v.i,function(A,x){v.add(decodeURIComponent(A.replace(/\+/g," ")),x)}))}t=Eo.prototype,t.add=function(v,A){Gr(this),this.i=null,v=Bi(this,v);var x=this.g.get(v);return x||this.g.set(v,x=[]),x.push(A),this.h+=1,this};function So(v,A){Gr(v),A=Bi(v,A),v.g.has(A)&&(v.i=null,v.h-=v.g.get(A).length,v.g.delete(A))}function wo(v,A){return Gr(v),A=Bi(v,A),v.g.has(A)}t.forEach=function(v,A){Gr(this),this.g.forEach(function(x,B){x.forEach(function(J){v.call(A,J,B,this)},this)},this)},t.na=function(){Gr(this);const v=Array.from(this.g.values()),A=Array.from(this.g.keys()),x=[];for(let B=0;B<A.length;B++){const J=v[B];for(let ne=0;ne<J.length;ne++)x.push(A[B])}return x},t.V=function(v){Gr(this);let A=[];if(typeof v=="string")wo(this,v)&&(A=A.concat(this.g.get(Bi(this,v))));else{v=Array.from(this.g.values());for(let x=0;x<v.length;x++)A=A.concat(v[x])}return A},t.set=function(v,A){return Gr(this),this.i=null,v=Bi(this,v),wo(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[A]),this.h+=1,this},t.get=function(v,A){return v?(v=this.V(v),0<v.length?String(v[0]):A):A};function zc(v,A,x){So(v,A),0<x.length&&(v.i=null,v.g.set(Bi(v,A),b(x)),v.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],A=Array.from(this.g.keys());for(var x=0;x<A.length;x++){var B=A[x];const ne=encodeURIComponent(String(B)),ge=this.V(B);for(B=0;B<ge.length;B++){var J=ne;ge[B]!==""&&(J+="="+encodeURIComponent(String(ge[B]))),v.push(J)}}return this.i=v.join("&")};function Bi(v,A){return A=String(A),v.j&&(A=A.toLowerCase()),A}function bh(v,A){A&&!v.j&&(Gr(v),v.i=null,v.g.forEach(function(x,B){var J=B.toLowerCase();B!=J&&(So(this,B),zc(this,J,x))},v)),v.j=A}function Ma(v,A){const x=new Hr;if(u.Image){const B=new Image;B.onload=E(Kr,x,"TestLoadImage: loaded",!0,A,B),B.onerror=E(Kr,x,"TestLoadImage: error",!1,A,B),B.onabort=E(Kr,x,"TestLoadImage: abort",!1,A,B),B.ontimeout=E(Kr,x,"TestLoadImage: timeout",!1,A,B),u.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=v}else A(!1)}function vi(v,A){const x=new Hr,B=new AbortController,J=setTimeout(()=>{B.abort(),Kr(x,"TestPingServer: timeout",!1,A)},1e4);fetch(v,{signal:B.signal}).then(ne=>{clearTimeout(J),ne.ok?Kr(x,"TestPingServer: ok",!0,A):Kr(x,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(J),Kr(x,"TestPingServer: error",!1,A)})}function Kr(v,A,x,B,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),B(x)}catch{}}function Na(){this.g=new wa}function Fi(v,A,x){const B=x||"";try{qc(v,function(J,ne){let ge=J;d(J)&&(ge=gi(J)),A.push(B+ne+"="+encodeURIComponent(ge))})}catch(J){throw A.push(B+"type="+encodeURIComponent("_badmap")),J}}function vs(v){this.l=v.Ub||null,this.j=v.eb||!1}w(vs,Nc),vs.prototype.g=function(){return new bo(this.l,this.j)},vs.prototype.i=(function(v){return function(){return v}})({});function bo(v,A){We.call(this),this.D=v,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(bo,We),t=bo.prototype,t.open=function(v,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=A,this.readyState=1,$i(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(A.body=v),(this.D||u).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qi(this)),this.readyState=0},t.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,$i(this)),this.g&&(this.readyState=3,$i(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gc(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gc(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}t.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var A=v.value?v.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!v.done}))&&(this.response=this.responseText+=A)}v.done?qi(this):$i(this),this.readyState==3&&Gc(this)}},t.Ra=function(v){this.g&&(this.response=this.responseText=v,qi(this))},t.Qa=function(v){this.g&&(this.response=v,qi(this))},t.ga=function(){this.g&&qi(this)};function qi(v){v.readyState=4,v.l=null,v.j=null,v.v=null,$i(v)}t.setRequestHeader=function(v,A){this.u.append(v,A)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],A=this.h.entries();for(var x=A.next();!x.done;)x=x.value,v.push(x[0]+": "+x[1]),x=A.next();return v.join(`\r
`)};function $i(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(bo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Kc(v){let A="";return G(v,function(x,B){A+=B,A+=":",A+=x,A+=`\r
`}),A}function bn(v,A,x){e:{for(B in x){var B=!1;break e}B=!0}B||(x=Kc(x),typeof v=="string"?x!=null&&encodeURIComponent(String(x)):Et(v,A,x))}function pt(v){We.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(pt,We);var Gl=/^https?$/i,Da=["POST","PUT"];t=pt.prototype,t.Ha=function(v){this.J=v},t.ea=function(v,A,x,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);A=A?A.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Li.g(),this.v=this.o?Dc(this.o):Dc(Li),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(A,String(v),!0),this.B=!1}catch(ne){Ah(this,ne);return}if(v=x||"",x=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var J in B)x.set(J,B[J]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const ne of B.keys())x.set(ne,B.get(ne));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(x.keys()).find(ne=>ne.toLowerCase()=="content-type"),J=u.FormData&&v instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Da,A,void 0))||B||J||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ge]of x)this.g.setRequestHeader(ne,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ka(this),this.u=!0,this.g.send(v),this.u=!1}catch(ne){Ah(this,ne)}};function Ah(v,A){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=A,v.m=5,Kl(v),Hi(v)}function Kl(v){v.A||(v.A=!0,Re(v,"complete"),Re(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,Re(this,"complete"),Re(this,"abort"),Hi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?jl(this):this.bb())},t.bb=function(){jl(this)};function jl(v){if(v.h&&typeof a<"u"&&(!v.v[1]||jr(v)!=4||v.Z()!=2)){if(v.u&&jr(v)==4)Ct(v.Ea,0,v);else if(Re(v,"readystatechange"),jr(v)==4){v.h=!1;try{const ge=v.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var x;if(!(x=A)){var B;if(B=ge===0){var J=String(v.D).match(xa)[1]||null;!J&&u.self&&u.self.location&&(J=u.self.location.protocol.slice(0,-1)),B=!Gl.test(J?J.toLowerCase():"")}x=B}if(x)Re(v,"complete"),Re(v,"success");else{v.m=6;try{var ne=2<jr(v)?v.g.statusText:""}catch{ne=""}v.l=ne+" ["+v.Z()+"]",Kl(v)}}finally{Hi(v)}}}}function Hi(v,A){if(v.g){ka(v);const x=v.g,B=v.v[0]?()=>{}:null;v.g=null,v.v=null,A||Re(v,"ready");try{x.onreadystatechange=B}catch{}}}function ka(v){v.I&&(u.clearTimeout(v.I),v.I=null)}t.isActive=function(){return!!this.g};function jr(v){return v.g?v.g.readyState:0}t.Z=function(){try{return 2<jr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(v){if(this.g){var A=this.g.responseText;return v&&A.indexOf(v)==0&&(A=A.substring(v.length)),Vl(A)}};function Ch(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function zy(v){const A={};v=(v.g&&2<=jr(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<v.length;B++){if(N(v[B]))continue;var x=F(v[B]);const J=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const ne=A[J]||[];A[J]=ne,ne.push(x)}k(A,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oa(v,A,x){return x&&x.internalChannelParams&&x.internalChannelParams[v]||A}function Yl(v){this.Aa=0,this.i=[],this.j=new Hr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oa("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oa("baseRetryDelayMs",5e3,v),this.cb=Oa("retryDelaySeedMs",1e4,v),this.Wa=Oa("forwardChannelMaxRetries",2,v),this.wa=Oa("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new _o(v&&v.concurrentRequestLimit),this.Da=new Na,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Yl.prototype,t.la=8,t.G=1,t.connect=function(v,A,x,B){Ut(0),this.W=v,this.H=A||{},x&&B!==void 0&&(this.H.OSID=x,this.H.OAID=B),this.F=this.X,this.I=Dh(this,null,this.W),Jl(this)};function jc(v){if(xh(v),v.G==3){var A=v.U++,x=Sr(v.I);if(Et(x,"SID",v.K),Et(x,"RID",A),Et(x,"TYPE","terminate"),La(v,x),A=new rr(v,v.j,A),A.L=2,A.v=Ia(Sr(x)),x=!1,u.navigator&&u.navigator.sendBeacon)try{x=u.navigator.sendBeacon(A.v.toString(),"")}catch{}!x&&u.Image&&(new Image().src=A.v,x=!0),x||(A.g=kh(A.j,null),A.g.ea(A.v)),A.F=Date.now(),Aa(A)}Nh(v)}function Wl(v){v.g&&(Va(v),v.g.cancel(),v.g=null)}function xh(v){Wl(v),v.u&&(u.clearTimeout(v.u),v.u=null),Xl(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&u.clearTimeout(v.s),v.s=null)}function Jl(v){if(!Fl(v.h)&&!v.s){v.s=!0;var A=v.Ga;de||j(),ye||(de(),ye=!0),Me.add(A,v),v.B=0}}function Gy(v,A){return ql(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=A.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=on(_(v.Ga,v,A),Jc(v,v.B)),v.B++,!0)}t.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const J=new rr(this,this.j,v);let ne=this.o;if(this.S&&(ne?(ne=O(ne),q(ne,this.S)):ne=this.S),this.m!==null||this.O||(J.H=ne,ne=null),this.P)e:{for(var A=0,x=0;x<this.i.length;x++){t:{var B=this.i[x];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(A+=B,4096<A){A=x;break e}if(A===4096||x===this.i.length-1){A=x+1;break e}}A=1e3}else A=1e3;A=Rh(this,J,A),x=Sr(this.I),Et(x,"RID",v),Et(x,"CVER",22),this.D&&Et(x,"X-HTTP-Session-Id",this.D),La(this,x),ne&&(this.O?A="headers="+encodeURIComponent(String(Kc(ne)))+"&"+A:this.m&&bn(x,this.m,ne)),$l(this.h,J),this.Ua&&Et(x,"TYPE","init"),this.P?(Et(x,"$req",A),Et(x,"SID","null"),J.T=!0,yi(J,x,null)):yi(J,x,A),this.G=2}}else this.G==3&&(v?Yc(this,v):this.i.length==0||Fl(this.h)||Yc(this))};function Yc(v,A){var x;A?x=A.l:x=v.U++;const B=Sr(v.I);Et(B,"SID",v.K),Et(B,"RID",x),Et(B,"AID",v.T),La(v,B),v.m&&v.o&&bn(B,v.m,v.o),x=new rr(v,v.j,x,v.B+1),v.m===null&&(x.H=v.o),A&&(v.i=A.D.concat(v.i)),A=Rh(v,x,1e3),x.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),$l(v.h,x),yi(x,B,A)}function La(v,A){v.H&&G(v.H,function(x,B){Et(A,B,x)}),v.l&&qc({},function(x,B){Et(A,B,x)})}function Rh(v,A,x){x=Math.min(v.i.length,x);var B=v.l?_(v.l.Na,v.l,v):null;e:{var J=v.i;let ne=-1;for(;;){const ge=["count="+x];ne==-1?0<x?(ne=J[0].g,ge.push("ofs="+ne)):ne=0:ge.push("ofs="+ne);let ot=!0;for(let gn=0;gn<x;gn++){let st=J[gn].g;const An=J[gn].map;if(st-=ne,0>st)ne=Math.max(0,J[gn].g-100),ot=!1;else try{Fi(An,ge,"req"+st+"_")}catch{B&&B(An)}}if(ot){B=ge.join("&");break e}}}return v=v.i.splice(0,x),A.D=v,B}function Ih(v){if(!v.g&&!v.u){v.Y=1;var A=v.Fa;de||j(),ye||(de(),ye=!0),Me.add(A,v),v.v=0}}function Wc(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=on(_(v.Fa,v),Jc(v,v.v)),v.v++,!0)}t.Fa=function(){if(this.u=null,Ph(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=on(_(this.ab,this),v)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),Wl(this),Ph(this))};function Va(v){v.A!=null&&(u.clearTimeout(v.A),v.A=null)}function Ph(v){v.g=new rr(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var A=Sr(v.qa);Et(A,"RID","rpc"),Et(A,"SID",v.K),Et(A,"AID",v.T),Et(A,"CI",v.F?"0":"1"),!v.F&&v.ja&&Et(A,"TO",v.ja),Et(A,"TYPE","xmlhttp"),La(v,A),v.m&&v.o&&bn(A,v.m,v.o),v.L&&(v.g.I=v.L);var x=v.g;v=v.ia,x.L=1,x.v=Ia(Sr(A)),x.m=null,x.P=!0,vo(x,v)}t.Za=function(){this.C!=null&&(this.C=null,Wl(this),Wc(this),Ut(19))};function Xl(v){v.C!=null&&(u.clearTimeout(v.C),v.C=null)}function Mh(v,A){var x=null;if(v.g==A){Xl(v),Va(v),v.g=null;var B=2}else if(Bc(v.h,A))x=A.D,ir(v.h,A),B=1;else return;if(v.G!=0){if(A.o)if(B==1){x=A.m?A.m.length:0,A=Date.now()-A.F;var J=v.B;B=ds(),Re(B,new mn(B,x)),Jl(v)}else Ih(v);else if(J=A.s,J==3||J==0&&0<A.X||!(B==1&&Gy(v,A)||B==2&&Wc(v)))switch(x&&0<x.length&&(A=v.h,A.i=A.i.concat(x)),J){case 1:Ao(v,5);break;case 4:Ao(v,10);break;case 3:Ao(v,6);break;default:Ao(v,2)}}}function Jc(v,A){let x=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(x*=2),x*A}function Ao(v,A){if(v.j.info("Error code "+A),A==2){var x=_(v.fb,v),B=v.Xa;const J=!B;B=new sn(B||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ra(B,"https"),Ia(B),J?Ma(B.toString(),x):vi(B.toString(),x)}else Ut(2);v.G=0,v.l&&v.l.sa(A),Nh(v),xh(v)}t.fb=function(v){v?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function Nh(v){if(v.G=0,v.ka=[],v.l){const A=Fc(v.h);(A.length!=0||v.i.length!=0)&&(C(v.ka,A),C(v.ka,v.i),v.h.i.length=0,b(v.i),v.i.length=0),v.l.ra()}}function Dh(v,A,x){var B=x instanceof sn?Sr(x):new sn(x);if(B.g!="")A&&(B.g=A+"."+B.g),ys(B,B.s);else{var J=u.location;B=J.protocol,A=A?A+"."+J.hostname:J.hostname,J=+J.port;var ne=new sn(null);B&&Ra(ne,B),A&&(ne.g=A),J&&ys(ne,J),x&&(ne.l=x),B=ne}return x=v.D,A=v.ya,x&&A&&Et(B,x,A),Et(B,"VER",v.la),La(v,B),B}function kh(v,A,x){if(A&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=v.Ca&&!v.pa?new pt(new vs({eb:x})):new pt(v.pa),A.Ha(v.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oh(){}t=Oh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ql(){}Ql.prototype.g=function(v,A){return new or(v,A)};function or(v,A){We.call(this),this.g=new Yl(A),this.l=v,this.h=A&&A.messageUrlParams||null,v=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(v?v["X-WebChannel-Content-Type"]=A.messageContentType:v={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(v?v["X-WebChannel-Client-Profile"]=A.va:v={"X-WebChannel-Client-Profile":A.va}),this.g.S=v,(v=A&&A.Sb)&&!N(v)&&(this.g.m=v),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!N(A)&&(this.g.D=A,v=this.h,v!==null&&A in v&&(v=this.h,A in v&&delete v[A])),this.j=new zi(this)}w(or,We),or.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},or.prototype.close=function(){jc(this.g)},or.prototype.o=function(v){var A=this.g;if(typeof v=="string"){var x={};x.__data__=v,v=x}else this.u&&(x={},x.__data__=gi(v),v=x);A.i.push(new Sh(A.Ya++,v)),A.G==3&&Jl(A)},or.prototype.N=function(){this.g.l=null,delete this.j,jc(this.g),delete this.g,or.aa.N.call(this)};function Lh(v){go.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var A=v.__sm__;if(A){e:{for(const x in A){v=x;break e}v=void 0}(this.i=v)&&(v=this.i,A=A!==null&&v in A?A[v]:void 0),this.data=A}else this.data=v}w(Lh,go);function Vh(){Oc.call(this),this.status=1}w(Vh,Oc);function zi(v){this.g=v}w(zi,Oh),zi.prototype.ua=function(){Re(this.g,"a")},zi.prototype.ta=function(v){Re(this.g,new Lh(v))},zi.prototype.sa=function(v){Re(this.g,new Vh)},zi.prototype.ra=function(){Re(this.g,"b")},Ql.prototype.createWebChannel=Ql.prototype.g,or.prototype.send=or.prototype.o,or.prototype.open=or.prototype.m,or.prototype.close=or.prototype.close,Yk=function(){return new Ql},jk=function(){return ds()},Kk=Oi,QT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ms.NO_ERROR=0,ms.TIMEOUT=8,ms.HTTP_ERROR=6,ym=ms,yo.COMPLETE="complete",Gk=yo,kc.EventType=mo,mo.OPEN="a",mo.CLOSE="b",mo.ERROR="c",mo.MESSAGE="d",We.prototype.listen=We.prototype.K,Zf=kc,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,zk=pt}).apply(typeof Fp<"u"?Fp:typeof self<"u"?self:typeof window<"u"?window:{});const gR="@firebase/firestore",yR="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qn.UNAUTHENTICATED=new Qn(null),Qn.GOOGLE_CREDENTIALS=new Qn("google-credentials-uid"),Qn.FIRST_PARTY=new Qn("first-party-uid"),Qn.MOCK_USER=new Qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=new MS("@firebase/firestore");function Ru(){return _l.logLevel}function Ae(t,...e){if(_l.logLevel<=nt.DEBUG){const n=e.map($S);_l.debug(`Firestore (${pc}): ${t}`,...n)}}function Zo(t,...e){if(_l.logLevel<=nt.ERROR){const n=e.map($S);_l.error(`Firestore (${pc}): ${t}`,...n)}}function ju(t,...e){if(_l.logLevel<=nt.WARN){const n=e.map($S);_l.warn(`Firestore (${pc}): ${t}`,...n)}}function $S(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Wk(t,r,n)}function Wk(t,e,n){let r=`FIRESTORE (${pc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Zo(r),new Error(r)}function mt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Wk(e,i,r)}function je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Qn.UNAUTHENTICATED)))}shutdown(){}}class QH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class ZH{constructor(e){this.t=e,this.currentUser=Qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){mt(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new jo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new jo,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const c=o;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},u=c=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new jo)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt(typeof r.accessToken=="string",31837,{l:r}),new Jk(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string",2055,{h:e}),new Qn(e)}}class ez{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Qn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tz{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ez(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Qn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nz{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){mt(this.o===void 0,3512);const r=o=>{o.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,Ae("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(mt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vR(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=rz(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function rt(t,e){return t<e?-1:t>e?1:0}function ZT(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return Q0(i)===Q0(o)?rt(i,o):Q0(i)?1:-1}return rt(t.length,e.length)}const iz=55296,oz=57343;function Q0(t){const e=t.charCodeAt(0);return e>=iz&&e<=oz}function Yu(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="__name__";class Xi{constructor(e,n,r){n===void 0?n=0:n>e.length&&qe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&qe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Xi.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return rt(e.length,n.length)}static compareSegments(e,n){const r=Xi.isNumericId(e),i=Xi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Xi.extractNumericId(e).compare(Xi.extractNumericId(n)):ZT(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ea.fromString(e.substring(4,e.length-2))}}class Nt extends Xi{construct(e,n,r){return new Nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Nt(n)}static emptyPath(){return new Nt([])}}const sz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends Xi{construct(e,n,r){return new Gn(e,n,r)}static isValidIdentifier(e){return sz.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_R}static keyField(){return new Gn([_R])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new _e(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new _e(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new _e(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(r+=u,i++):(o(),i++)}if(o(),a)throw new _e(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(n)}static emptyPath(){return new Gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(Nt.fromString(e))}static fromName(e){return new Oe(Nt.fromString(e).popFirst(5))}static empty(){return new Oe(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new Nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(t,e,n){if(!n)throw new _e(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function az(t,e,n,r){if(e===!0&&r===!0)throw new _e(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function TR(t){if(!Oe.isDocumentKey(t))throw new _e(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ER(t){if(Oe.isDocumentKey(t))throw new _e(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qk(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function qg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe(12329,{type:typeof t})}function Ur(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qg(t);throw new _e(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Gd(t,e){if(!Qk(t))throw new _e(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new _e(ae.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=-62135596800,wR=1e6;class Lt{static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*wR);return new Lt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<SR)throw new _e(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wR}_compareTo(e){return this.seconds===e.seconds?rt(this.nanoseconds,e.nanoseconds):rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gd(e,Lt._jsonSchema))return new Lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-SR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Lt._jsonSchemaVersion="firestore/timestamp/1.0",Lt._jsonSchema={type:fn("string",Lt._jsonSchemaVersion),seconds:fn("number"),nanoseconds:fn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new Lt(0,0))}static max(){return new Ge(new Lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=-1;function lz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ge.fromTimestamp(r===1e9?new Lt(n+1,0):new Lt(n,r));return new oa(i,Oe.empty(),e)}function uz(t){return new oa(t.readTime,t.key,_d)}class oa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new oa(Ge.min(),Oe.empty(),_d)}static max(){return new oa(Ge.max(),Oe.empty(),_d)}}function cz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Oe.comparator(t.documentKey,e.documentKey),n!==0?n:rt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==fz)throw t;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.reject(n)}static resolve(e){return new fe(((n,r)=>{n(e)}))}static reject(e){return new fe(((n,r)=>{r(e)}))}static waitFor(e){return new fe(((n,r)=>{let i=0,o=0,a=!1;e.forEach((u=>{++i,u.next((()=>{++o,a&&o===i&&n()}),(c=>r(c)))})),a=!0,o===i&&n()}))}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next((i=>i?fe.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new fe(((r,i)=>{const o=e.length,a=new Array(o);let u=0;for(let c=0;c<o;c++){const d=c;n(e[d]).next((p=>{a[d]=p,++u,u===o&&r(a)}),(p=>i(p)))}}))}static doWhile(e,n){return new fe(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function hz(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$g.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=-1;function Hg(t){return t==null}function Um(t){return t===0&&1/t==-1/0}function pz(t){return typeof t=="number"&&Number.isInteger(t)&&!Um(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="";function mz(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=bR(e)),e=gz(t.get(n),e);return bR(e)}function gz(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case Zk:n+="";break;default:n+=o}}return n}function bR(t){return t+Zk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){this.comparator=e,this.root=n||Hn.EMPTY}insert(e,n){return new zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Hn.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qp(this.root,e,this.comparator,!1)}getReverseIterator(){return new qp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qp(this.root,e,this.comparator,!0)}}class qp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Hn.RED,this.left=i??Hn.EMPTY,this.right=o??Hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Hn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Hn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}Hn.EMPTY=null,Hn.RED=!0,Hn.BLACK=!1;Hn.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new CR(this.data.getIterator())}getIteratorFrom(e){return new CR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof En)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new En(this.comparator);return n.data=e,n}}class CR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new Or([])}unionWith(e){let n=new En(Gn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tO("Invalid base64 string: "+o):o}})(e);return new jn(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o})(e);return new jn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jn.EMPTY_BYTE_STRING=new jn("");const yz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sa(t){if(mt(!!t,39018),typeof t=="string"){let e=0;const n=yz.exec(t);if(mt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nn(t.seconds),nanos:nn(t.nanos)}}function nn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function aa(t){return typeof t=="string"?jn.fromBase64String(t):jn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO="server_timestamp",rO="__type__",iO="__previous_value__",oO="__local_write_time__";function GS(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[rO])==null?void 0:r.stringValue)===nO}function zg(t){const e=t.mapValue.fields[iO];return GS(e)?zg(e):e}function Td(t){const e=sa(t.mapValue.fields[oO].timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e,n,r,i,o,a,u,c,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=p}}const Bm="(default)";class Ed{constructor(e,n){this.projectId=e,this.database=n||Bm}static empty(){return new Ed("","")}get isDefaultDatabase(){return this.database===Bm}isEqual(e){return e instanceof Ed&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO="__type__",_z="__max__",$p={mapValue:{}},aO="__vector__",Fm="value";function la(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?GS(t)?4:Ez(t)?9007199254740991:Tz(t)?10:11:qe(28295,{value:t})}function ao(t,e){if(t===e)return!0;const n=la(t);if(n!==la(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Td(t).isEqual(Td(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=sa(i.timestampValue),u=sa(o.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return aa(i.bytesValue).isEqual(aa(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return nn(i.geoPointValue.latitude)===nn(o.geoPointValue.latitude)&&nn(i.geoPointValue.longitude)===nn(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return nn(i.integerValue)===nn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=nn(i.doubleValue),u=nn(o.doubleValue);return a===u?Um(a)===Um(u):isNaN(a)&&isNaN(u)}return!1})(t,e);case 9:return Yu(t.arrayValue.values||[],e.arrayValue.values||[],ao);case 10:case 11:return(function(i,o){const a=i.mapValue.fields||{},u=o.mapValue.fields||{};if(AR(a)!==AR(u))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(u[c]===void 0||!ao(a[c],u[c])))return!1;return!0})(t,e);default:return qe(52216,{left:t})}}function Sd(t,e){return(t.values||[]).find((n=>ao(n,e)))!==void 0}function Wu(t,e){if(t===e)return 0;const n=la(t),r=la(e);if(n!==r)return rt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rt(t.booleanValue,e.booleanValue);case 2:return(function(o,a){const u=nn(o.integerValue||o.doubleValue),c=nn(a.integerValue||a.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1})(t,e);case 3:return xR(t.timestampValue,e.timestampValue);case 4:return xR(Td(t),Td(e));case 5:return ZT(t.stringValue,e.stringValue);case 6:return(function(o,a){const u=aa(o),c=aa(a);return u.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(o,a){const u=o.split("/"),c=a.split("/");for(let d=0;d<u.length&&d<c.length;d++){const p=rt(u[d],c[d]);if(p!==0)return p}return rt(u.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,a){const u=rt(nn(o.latitude),nn(a.latitude));return u!==0?u:rt(nn(o.longitude),nn(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return RR(t.arrayValue,e.arrayValue);case 10:return(function(o,a){var _,E,w,b;const u=o.fields||{},c=a.fields||{},d=(_=u[Fm])==null?void 0:_.arrayValue,p=(E=c[Fm])==null?void 0:E.arrayValue,y=rt(((w=d==null?void 0:d.values)==null?void 0:w.length)||0,((b=p==null?void 0:p.values)==null?void 0:b.length)||0);return y!==0?y:RR(d,p)})(t.mapValue,e.mapValue);case 11:return(function(o,a){if(o===$p.mapValue&&a===$p.mapValue)return 0;if(o===$p.mapValue)return 1;if(a===$p.mapValue)return-1;const u=o.fields||{},c=Object.keys(u),d=a.fields||{},p=Object.keys(d);c.sort(),p.sort();for(let y=0;y<c.length&&y<p.length;++y){const _=ZT(c[y],p[y]);if(_!==0)return _;const E=Wu(u[c[y]],d[p[y]]);if(E!==0)return E}return rt(c.length,p.length)})(t.mapValue,e.mapValue);default:throw qe(23264,{he:n})}}function xR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return rt(t,e);const n=sa(t),r=sa(e),i=rt(n.seconds,r.seconds);return i!==0?i:rt(n.nanos,r.nanos)}function RR(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Wu(n[i],r[i]);if(o)return o}return rt(n.length,r.length)}function Ju(t){return eE(t)}function eE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=sa(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return aa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Oe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=eE(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${eE(n.fields[a])}`;return i+"}"})(t.mapValue):qe(61005,{value:t})}function vm(t){switch(la(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zg(t);return e?16+vm(e):16;case 5:return 2*t.stringValue.length;case 6:return aa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+vm(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return pa(r.fields,((o,a)=>{i+=o.length+vm(a)})),i})(t.mapValue);default:throw qe(13486,{value:t})}}function IR(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function tE(t){return!!t&&"integerValue"in t}function KS(t){return!!t&&"arrayValue"in t}function PR(t){return!!t&&"nullValue"in t}function MR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _m(t){return!!t&&"mapValue"in t}function Tz(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[sO])==null?void 0:r.stringValue)===aO}function ad(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return pa(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ad(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ad(t.arrayValue.values[n]);return e}return{...t}}function Ez(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===_z}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.value=e}static empty(){return new vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_m(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ad(n)}setAll(e){let n=Gn.emptyPath(),r={},i=[];e.forEach(((a,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}a?r[u.lastSegment()]=ad(a):i.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());_m(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ao(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_m(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){pa(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new vr(ad(this.value))}}function lO(t){const e=[];return pa(t.fields,((n,r)=>{const i=new Gn([n]);if(_m(r)){const o=lO(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)})),new Or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n,r,i,o,a,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Zn(e,0,Ge.min(),Ge.min(),Ge.min(),vr.empty(),0)}static newFoundDocument(e,n,r,i){return new Zn(e,1,n,Ge.min(),r,i,0)}static newNoDocument(e,n){return new Zn(e,2,n,Ge.min(),Ge.min(),vr.empty(),0)}static newUnknownDocument(e,n){return new Zn(e,3,n,Ge.min(),Ge.min(),vr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this.position=e,this.inclusive=n}}function NR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=Oe.comparator(Oe.fromName(a.referenceValue),n.key):r=Wu(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function DR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ao(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n="asc"){this.field=e,this.dir=n}}function Sz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{}class cn extends uO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new bz(e,n,r):n==="array-contains"?new xz(e,r):n==="in"?new Rz(e,r):n==="not-in"?new Iz(e,r):n==="array-contains-any"?new Pz(e,r):new cn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Az(e,r):new Cz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wu(n,this.value)):n!==null&&la(this.value)===la(n)&&this.matchesComparison(Wu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends uO{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new xi(e,n)}matches(e){return cO(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cO(t){return t.op==="and"}function fO(t){return wz(t)&&cO(t)}function wz(t){for(const e of t.filters)if(e instanceof xi)return!1;return!0}function nE(t){if(t instanceof cn)return t.field.canonicalString()+t.op.toString()+Ju(t.value);if(fO(t))return t.filters.map((e=>nE(e))).join(",");{const e=t.filters.map((n=>nE(n))).join(",");return`${t.op}(${e})`}}function dO(t,e){return t instanceof cn?(function(r,i){return i instanceof cn&&r.op===i.op&&r.field.isEqual(i.field)&&ao(r.value,i.value)})(t,e):t instanceof xi?(function(r,i){return i instanceof xi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,a,u)=>o&&dO(a,i.filters[u])),!0):!1})(t,e):void qe(19439)}function hO(t){return t instanceof cn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ju(n.value)}`})(t):t instanceof xi?(function(n){return n.op.toString()+" {"+n.getFilters().map(hO).join(" ,")+"}"})(t):"Filter"}class bz extends cn{constructor(e,n,r){super(e,n,r),this.key=Oe.fromName(r.referenceValue)}matches(e){const n=Oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class Az extends cn{constructor(e,n){super(e,"in",n),this.keys=pO("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Cz extends cn{constructor(e,n){super(e,"not-in",n),this.keys=pO("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function pO(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Oe.fromName(r.referenceValue)))}class xz extends cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return KS(n)&&Sd(n.arrayValue,this.value)}}class Rz extends cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sd(this.value.arrayValue,n)}}class Iz extends cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Sd(this.value.arrayValue,n)}}class Pz extends cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!KS(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Sd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e,n=null,r=[],i=[],o=null,a=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=u,this.Te=null}}function kR(t,e=null,n=[],r=[],i=null,o=null,a=null){return new Mz(t,e,n,r,i,o,a)}function jS(t){const e=je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>nE(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Hg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ju(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ju(r))).join(",")),e.Te=n}return e.Te}function YS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Sz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!dO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!DR(t.startAt,e.startAt)&&DR(t.endAt,e.endAt)}function rE(t){return Oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n=null,r=[],i=[],o=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Nz(t,e,n,r,i,o,a,u){return new yc(t,e,n,r,i,o,a,u)}function Gg(t){return new yc(t)}function OR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mO(t){return t.collectionGroup!==null}function ld(t){const e=je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new En(Gn.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new wd(o,r))})),n.has(Gn.keyField().canonicalString())||e.Ie.push(new wd(Gn.keyField(),r))}return e.Ie}function no(t){const e=je(t);return e.Ee||(e.Ee=Dz(e,ld(t))),e.Ee}function Dz(t,e){if(t.limitType==="F")return kR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new wd(i.field,o)}));const n=t.endAt?new qm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qm(t.startAt.position,t.startAt.inclusive):null;return kR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function iE(t,e){const n=t.filters.concat([e]);return new yc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function oE(t,e,n){return new yc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kg(t,e){return YS(no(t),no(e))&&t.limitType===e.limitType}function gO(t){return`${jS(no(t))}|lt:${t.limitType}`}function Iu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>hO(i))).join(", ")}]`),Hg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Ju(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Ju(i))).join(",")),`Target(${r})`})(no(t))}; limitType=${t.limitType})`}function jg(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Oe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of ld(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,u,c){const d=NR(a,u,c);return a.inclusive?d<=0:d<0})(r.startAt,ld(r),i)||r.endAt&&!(function(a,u,c){const d=NR(a,u,c);return a.inclusive?d>=0:d>0})(r.endAt,ld(r),i))})(t,e)}function kz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yO(t){return(e,n)=>{let r=!1;for(const i of ld(t)){const o=Oz(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Oz(t,e,n){const r=t.field.isKeyField()?Oe.comparator(e.key,n.key):(function(o,a,u){const c=a.data.field(o),d=u.data.field(o);return c!==null&&d!==null?Wu(c,d):qe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return qe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pa(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return eO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz=new zt(Oe.comparator);function es(){return Lz}const vO=new zt(Oe.comparator);function ed(...t){let e=vO;for(const n of t)e=e.insert(n.key,n);return e}function _O(t){let e=vO;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ol(){return ud()}function TO(){return ud()}function ud(){return new Il((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Vz=new zt(Oe.comparator),Uz=new En(Oe.comparator);function it(...t){let e=Uz;for(const n of t)e=e.add(n);return e}const Bz=new En(rt);function Fz(){return Bz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Um(e)?"-0":e}}function EO(t){return{integerValue:""+t}}function SO(t,e){return pz(e)?EO(e):WS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(){this._=void 0}}function qz(t,e,n){return t instanceof bd?(function(i,o){const a={fields:{[rO]:{stringValue:nO},[oO]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&GS(o)&&(o=zg(o)),o&&(a.fields[iO]=o),{mapValue:a}})(n,e):t instanceof Ad?bO(t,e):t instanceof Cd?AO(t,e):(function(i,o){const a=wO(i,o),u=LR(a)+LR(i.Ae);return tE(a)&&tE(i.Ae)?EO(u):WS(i.serializer,u)})(t,e)}function $z(t,e,n){return t instanceof Ad?bO(t,e):t instanceof Cd?AO(t,e):n}function wO(t,e){return t instanceof xd?(function(r){return tE(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class bd extends Yg{}class Ad extends Yg{constructor(e){super(),this.elements=e}}function bO(t,e){const n=CO(e);for(const r of t.elements)n.some((i=>ao(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Cd extends Yg{constructor(e){super(),this.elements=e}}function AO(t,e){let n=CO(e);for(const r of t.elements)n=n.filter((i=>!ao(i,r)));return{arrayValue:{values:n}}}class xd extends Yg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function LR(t){return nn(t.integerValue||t.doubleValue)}function CO(t){return KS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,n){this.field=e,this.transform=n}}function Hz(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Ad&&i instanceof Ad||r instanceof Cd&&i instanceof Cd?Yu(r.elements,i.elements,ao):r instanceof xd&&i instanceof xd?ao(r.Ae,i.Ae):r instanceof bd&&i instanceof bd})(t.transform,e.transform)}class zz{constructor(e,n){this.version=e,this.transformResults=n}}class Tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Tr}static exists(e){return new Tr(void 0,e)}static updateTime(e){return new Tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wg{}function RO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jg(t.key,Tr.none()):new Kd(t.key,t.data,Tr.none());{const n=t.data,r=vr.empty();let i=new En(Gn.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new ma(t.key,r,new Or(i.toArray()),Tr.none())}}function Gz(t,e,n){t instanceof Kd?(function(i,o,a){const u=i.value.clone(),c=UR(i.fieldTransforms,o,a.transformResults);u.setAll(c),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(t,e,n):t instanceof ma?(function(i,o,a){if(!Tm(i.precondition,o))return void o.convertToUnknownDocument(a.version);const u=UR(i.fieldTransforms,o,a.transformResults),c=o.data;c.setAll(IO(i)),c.setAll(u),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(t,e,n):(function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function cd(t,e,n,r){return t instanceof Kd?(function(o,a,u,c){if(!Tm(o.precondition,a))return u;const d=o.value.clone(),p=BR(o.fieldTransforms,c,a);return d.setAll(p),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof ma?(function(o,a,u,c){if(!Tm(o.precondition,a))return u;const d=BR(o.fieldTransforms,c,a),p=a.data;return p.setAll(IO(o)),p.setAll(d),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(t,e,n,r):(function(o,a,u){return Tm(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u})(t,e,n)}function Kz(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=wO(r.transform,i||null);o!=null&&(n===null&&(n=vr.empty()),n.set(r.field,o))}return n||null}function VR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Yu(r,i,((o,a)=>Hz(o,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kd extends Wg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ma extends Wg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function IO(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function UR(t,e,n){const r=new Map;mt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,u=e.data.field(o.field);r.set(o.field,$z(a,u,n[i]))}return r}function BR(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,qz(o,a,e))}return r}class Jg extends Wg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jz extends Wg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Gz(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=cd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=cd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=TO();return this.mutations.forEach((i=>{const o=e.get(i.key),a=o.overlayedDocument;let u=this.applyToLocalView(a,o.mutatedFields);u=n.has(i.key)?null:u;const c=RO(a,u);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Ge.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),it())}isEqual(e){return this.batchId===e.batchId&&Yu(this.mutations,e.mutations,((n,r)=>VR(n,r)))&&Yu(this.baseMutations,e.baseMutations,((n,r)=>VR(n,r)))}}class JS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){mt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Vz})();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new JS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un,lt;function Xz(t){switch(t){case ae.OK:return qe(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return qe(15467,{code:t})}}function PO(t){if(t===void 0)return Zo("GRPC error has no .code"),ae.UNKNOWN;switch(t){case un.OK:return ae.OK;case un.CANCELLED:return ae.CANCELLED;case un.UNKNOWN:return ae.UNKNOWN;case un.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case un.INTERNAL:return ae.INTERNAL;case un.UNAVAILABLE:return ae.UNAVAILABLE;case un.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case un.NOT_FOUND:return ae.NOT_FOUND;case un.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case un.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case un.ABORTED:return ae.ABORTED;case un.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case un.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case un.DATA_LOSS:return ae.DATA_LOSS;default:return qe(39323,{code:t})}}(lt=un||(un={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz=new ea([4294967295,4294967295],0);function FR(t){const e=Qz().encode(t),n=new Hk;return n.update(e),new Uint8Array(n.digest())}function qR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ea([n,r],0),new ea([i,o],0)]}class XS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new td(`Invalid padding: ${n}`);if(r<0)throw new td(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new td(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new td(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ea.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ea.fromNumber(r)));return i.compare(Zz)===1&&(i=new ea([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=FR(e),[r,i]=qR(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new XS(o,i,n);return r.forEach((u=>a.insert(u))),a}insert(e){if(this.ge===0)return;const n=FR(e),[r,i]=qR(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class td extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,jd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xg(Ge.min(),i,new zt(rt),es(),it())}}class jd{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new jd(r,n,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class MO{constructor(e,n){this.targetId=e,this.Ce=n}}class NO{constructor(e,n,r=jn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $R{constructor(){this.ve=0,this.Fe=HR(),this.Me=jn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=it(),n=it(),r=it();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:qe(38017,{changeType:o})}})),new jd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=HR()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,mt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class e8{constructor(e){this.Ge=e,this.ze=new Map,this.je=es(),this.Je=Hp(),this.He=Hp(),this.Ye=new zt(rt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:qe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(rE(o))if(r===0){const a=new Oe(o.path);this.et(n,a,Zn.newNoDocument(a,Ge.min()))}else mt(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const u=this.ut(e),c=u?this.ct(u,e,a):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,u;try{a=aa(r).toUint8Array()}catch(c){if(c instanceof tO)return ju("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new XS(a,i,o)}catch(c){return ju(c instanceof td?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const a=this.Ge.ht(),u=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,a)=>{const u=this.ot(a);if(u){if(o.current&&rE(u.target)){const c=new Oe(u.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Zn.newNoDocument(c,e))}o.Be&&(n.set(a,o.ke()),o.qe())}}));let r=it();this.He.forEach(((o,a)=>{let u=!0;a.forEachWhile((c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,a)=>a.setReadTime(e)));const i=new Xg(e,n,this.Ye,this.je,r);return this.je=es(),this.Je=Hp(),this.He=Hp(),this.Ye=new zt(rt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new $R,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new En(rt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new En(rt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ae("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $R),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Hp(){return new zt(Oe.comparator)}function HR(){return new zt(Oe.comparator)}const t8={asc:"ASCENDING",desc:"DESCENDING"},n8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r8={and:"AND",or:"OR"};class i8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sE(t,e){return t.useProto3Json||Hg(e)?e:{value:e}}function $m(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function o8(t,e){return $m(t,e.toTimestamp())}function ro(t){return mt(!!t,49232),Ge.fromTimestamp((function(n){const r=sa(n);return new Lt(r.seconds,r.nanos)})(t))}function QS(t,e){return aE(t,e).canonicalString()}function aE(t,e){const n=(function(i){return new Nt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function kO(t){const e=Nt.fromString(t);return mt(BO(e),10190,{key:e.toString()}),e}function lE(t,e){return QS(t.databaseId,e.path)}function Z0(t,e){const n=kO(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Oe(LO(n))}function OO(t,e){return QS(t.databaseId,e)}function s8(t){const e=kO(t);return e.length===4?Nt.emptyPath():LO(e)}function uE(t){return new Nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LO(t){return mt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function zR(t,e,n){return{name:lE(t,e),fields:n.value.mapValue.fields}}function a8(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:qe(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(d,p){return d.useProto3Json?(mt(p===void 0||typeof p=="string",58123),jn.fromBase64String(p||"")):(mt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),jn.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&(function(d){const p=d.code===void 0?ae.UNKNOWN:PO(d.code);return new _e(p,d.message||"")})(a);n=new NO(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Z0(t,r.document.name),o=ro(r.document.updateTime),a=r.document.createTime?ro(r.document.createTime):Ge.min(),u=new vr({mapValue:{fields:r.document.fields}}),c=Zn.newFoundDocument(i,o,a,u),d=r.targetIds||[],p=r.removedTargetIds||[];n=new Em(d,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Z0(t,r.document),o=r.readTime?ro(r.readTime):Ge.min(),a=Zn.newNoDocument(i,o),u=r.removedTargetIds||[];n=new Em([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Z0(t,r.document),o=r.removedTargetIds||[];n=new Em([],o,i,null)}else{if(!("filter"in e))return qe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new Jz(i,o),u=r.targetId;n=new MO(u,a)}}return n}function l8(t,e){let n;if(e instanceof Kd)n={update:zR(t,e.key,e.value)};else if(e instanceof Jg)n={delete:lE(t,e.key)};else if(e instanceof ma)n={update:zR(t,e.key,e.data),updateMask:y8(e.fieldMask)};else{if(!(e instanceof jz))return qe(16599,{Vt:e.type});n={verify:lE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,a){const u=a.transform;if(u instanceof bd)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ad)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Cd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof xd)return{fieldPath:a.field.canonicalString(),increment:u.Ae};throw qe(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:o8(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:qe(27497)})(t,e.precondition)),n}function u8(t,e){return t&&t.length>0?(mt(e!==void 0,14353),t.map((n=>(function(i,o){let a=i.updateTime?ro(i.updateTime):ro(o);return a.isEqual(Ge.min())&&(a=ro(o)),new zz(a,i.transformResults||[])})(n,e)))):[]}function c8(t,e){return{documents:[OO(t,e.path)]}}function f8(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=OO(t,i);const o=(function(d){if(d.length!==0)return UO(xi.create(d,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const a=(function(d){if(d.length!==0)return d.map((p=>(function(_){return{field:Pu(_.field),direction:p8(_.dir)}})(p)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const u=sE(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function d8(t){let e=s8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){mt(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=(function(y){const _=VO(y);return _ instanceof xi&&fO(_)?_.getFilters():[_]})(n.where));let a=[];n.orderBy&&(a=(function(y){return y.map((_=>(function(w){return new wd(Mu(w.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(_)))})(n.orderBy));let u=null;n.limit&&(u=(function(y){let _;return _=typeof y=="object"?y.value:y,Hg(_)?null:_})(n.limit));let c=null;n.startAt&&(c=(function(y){const _=!!y.before,E=y.values||[];return new qm(E,_)})(n.startAt));let d=null;return n.endAt&&(d=(function(y){const _=!y.before,E=y.values||[];return new qm(E,_)})(n.endAt)),Nz(e,i,a,o,u,"F",c,d)}function h8(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VO(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Mu(n.unaryFilter.field);return cn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Mu(n.unaryFilter.field);return cn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Mu(n.unaryFilter.field);return cn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Mu(n.unaryFilter.field);return cn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return cn.create(Mu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return xi.create(n.compositeFilter.filters.map((r=>VO(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qe(1026)}})(n.compositeFilter.op))})(t):qe(30097,{filter:t})}function p8(t){return t8[t]}function m8(t){return n8[t]}function g8(t){return r8[t]}function Pu(t){return{fieldPath:t.canonicalString()}}function Mu(t){return Gn.fromServerFormat(t.fieldPath)}function UO(t){return t instanceof cn?(function(n){if(n.op==="=="){if(MR(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NAN"}};if(PR(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(MR(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NOT_NAN"}};if(PR(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pu(n.field),op:m8(n.op),value:n.value}}})(t):t instanceof xi?(function(n){const r=n.getFilters().map((i=>UO(i)));return r.length===1?r[0]:{compositeFilter:{op:g8(n.op),filters:r}}})(t):qe(54877,{filter:t})}function y8(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function BO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n,r,i,o=Ge.min(),a=Ge.min(),u=jn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e){this.yt=e}}function _8(t){const e=d8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?oE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(){this.Cn=new E8}addToCollectionParentIndex(e,n){return this.Cn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(oa.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(oa.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class E8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new En(Nt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new En(Nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FO=41943040;class yr{static withCacheSize(e){return new yr(e,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr.DEFAULT_COLLECTION_PERCENTILE=10,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yr.DEFAULT=new yr(FO,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yr.DISABLED=new yr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xu(0)}static cr(){return new Xu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="LruGarbageCollector",S8=1048576;function jR([t,e],[n,r]){const i=rt(t,n);return i===0?rt(e,r):i}class w8{constructor(e){this.Ir=e,this.buffer=new En(jR),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();jR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class b8{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ae(KR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gc(n)?Ae(KR,"Ignoring IndexedDB error during garbage collection: ",n):await mc(n)}await this.Vr(3e5)}))}}class A8{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return fe.resolve($g.ce);const r=new w8(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(GR)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GR):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,a,u,c,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,a=Date.now(),this.nthSequenceNumber(e,i)))).next((y=>(r=y,u=Date.now(),this.removeTargets(e,r,n)))).next((y=>(o=y,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(d=Date.now(),Ru()<=nt.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-p}ms
	Determined least recently used ${i} in `+(u-a)+`ms
	Removed ${o} targets in `+(c-u)+`ms
	Removed ${y} documents in `+(d-c)+`ms
Total Duration: ${d-p}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y}))))}}function C8(t,e){return new A8(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(){this.changes=new Il((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&cd(r.mutation,i,Or.empty(),Lt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,it()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=it()){const i=ol();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let a=ed();return o.forEach(((u,c)=>{a=a.insert(u,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=ol();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,it())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((a,u)=>{n.set(a,u)}))}))}computeViews(e,n,r,i){let o=es();const a=ud(),u=(function(){return ud()})();return n.forEach(((c,d)=>{const p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof ma)?o=o.insert(d.key,d):p!==void 0?(a.set(d.key,p.mutation.getFieldMask()),cd(p.mutation,d,p.mutation.getFieldMask(),Lt.now())):a.set(d.key,Or.empty())})),this.recalculateAndSaveOverlays(e,o).next((c=>(c.forEach(((d,p)=>a.set(d,p))),n.forEach(((d,p)=>u.set(d,new R8(p,a.get(d)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=ud();let i=new zt(((a,u)=>a-u)),o=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const u of a)u.keys().forEach((c=>{const d=n.get(c);if(d===null)return;let p=r.get(c)||Or.empty();p=u.applyToLocalView(d,p),r.set(c,p);const y=(i.get(u.batchId)||it()).add(c);i=i.insert(u.batchId,y)}))})).next((()=>{const a=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),d=c.key,p=c.value,y=TO();p.forEach((_=>{if(!o.has(_)){const E=RO(n.get(_),r.get(_));E!==null&&y.set(_,E),o=o.add(_)}})),a.push(this.documentOverlayCache.saveOverlays(e,d,y))}return fe.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(a){return Oe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):fe.resolve(ol());let u=_d,c=o;return a.next((d=>fe.forEach(d,((p,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),o.get(p)?fe.resolve():this.remoteDocumentCache.getEntry(e,p).next((_=>{c=c.insert(p,_)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,c,d,it()))).next((p=>({batchId:u,changes:_O(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Oe(n)).next((r=>{let i=ed();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=ed();return this.indexManager.getCollectionParents(e,o).next((u=>fe.forEach(u,(c=>{const d=(function(y,_){return new yc(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((p=>{p.forEach(((y,_)=>{a=a.insert(y,_)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((a=>{o.forEach(((c,d)=>{const p=d.getKey();a.get(p)===null&&(a=a.insert(p,Zn.newInvalidDocument(p)))}));let u=ed();return a.forEach(((c,d)=>{const p=o.get(c);p!==void 0&&cd(p.mutation,d,Or.empty(),Lt.now()),jg(n,d)&&(u=u.insert(c,d))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:ro(i.createTime)}})(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:_8(i.bundledQuery),readTime:ro(i.readTime)}})(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(){this.overlays=new zt(Oe.comparator),this.qr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ol();return fe.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.St(e,n,o)})),fe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const i=ol(),o=n.length+1,a=new Oe(n.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new zt(((d,p)=>d-p));const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=o.get(d.largestBatchId);p===null&&(p=ol(),o=o.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const u=ol(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,p)=>u.set(d,p))),!(u.size()>=i)););return fe.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Wz(n,r));let o=this.qr.get(n);o===void 0&&(o=it(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(){this.sessionToken=jn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.Qr=new En(In.$r),this.Ur=new En(In.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new In(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new In(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Oe(new Nt([])),r=new In(n,e),i=new In(n,e+1),o=[];return this.Ur.forEachInRange([r,i],(a=>{this.Gr(a),o.push(a.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Oe(new Nt([])),r=new In(n,e),i=new In(n,e+1);let o=it();return this.Ur.forEachInRange([r,i],(a=>{o=o.add(a.key)})),o}containsKey(e){const n=new In(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class In{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Oe.comparator(e.key,n.key)||rt(e.Yr,n.Yr)}static Kr(e,n){return rt(e.Yr,n.Yr)||Oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new En(In.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Yz(o,n,r,i);this.mutationQueue.push(a);for(const u of i)this.Zr=this.Zr.add(new In(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return fe.resolve(a)}lookupMutationBatch(e,n){return fe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?zS:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new In(n,0),i=new In(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(a=>{const u=this.Xr(a.Yr);o.push(u)})),fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new En(rt);return n.forEach((i=>{const o=new In(i,0),a=new In(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,a],(u=>{r=r.add(u.Yr)}))})),fe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Oe.isDocumentKey(o)||(o=o.child(""));const a=new In(new Oe(o),0);let u=new En(rt);return this.Zr.forEachWhile((c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(c.Yr)),!0)}),a),fe.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){mt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return fe.forEach(n.mutations,(i=>{const o=new In(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new In(n,0),i=this.Zr.firstAfterOrEqual(r);return fe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(e){this.ri=e,this.docs=(function(){return new zt(Oe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():Zn.newInvalidDocument(n))}getEntries(e,n){let r=es();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Zn.newInvalidDocument(i))})),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=es();const a=n.path,u=new Oe(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||cz(uz(p),r)<=0||(i.has(p.key)||jg(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return fe.resolve(o)}getAllFromCollectionGroup(e,n,r,i){qe(9500)}ii(e,n){return fe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new O8(this)}getSize(e){return fe.resolve(this.size)}}class O8 extends x8{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),fe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e){this.persistence=e,this.si=new Il((n=>jS(n)),YS),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.oi=0,this._i=new ZS,this.targetCount=0,this.ai=Xu.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),fe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Xu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Pr(n),fe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach(((a,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(a),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),fe.waitFor(o).next((()=>i))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((a=>{o.push(i.markPotentiallyOrphaned(e,a))})),fe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,n){this.ui={},this.overlays={},this.ci=new $g(0),this.li=!1,this.li=!0,this.hi=new N8,this.referenceDelegate=e(this),this.Pi=new L8(this),this.indexManager=new T8,this.remoteDocumentCache=(function(i){return new k8(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new v8(n),this.Ii=new P8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new M8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new D8(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ae("MemoryPersistence","Starting transaction:",e);const i=new V8(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,n){return fe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class V8 extends dz{constructor(e){super(),this.currentSequenceNumber=e}}class ew{constructor(e){this.persistence=e,this.Ri=new ZS,this.Vi=null}static mi(e){return new ew(e)}get fi(){if(this.Vi)return this.Vi;throw qe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,(r=>{const i=Oe.fromPath(r);return this.gi(e,i).next((o=>{o||n.removeEntry(i,Ge.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return fe.or([()=>fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Hm{constructor(e,n){this.persistence=e,this.pi=new Il((r=>mz(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=C8(this,n)}static mi(e,n){return new Hm(e,n)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return fe.forEach(this.pi,((r,i)=>this.br(e,r,i).next((o=>o?fe.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,n).next((u=>{u||(r++,o.removeEntry(a,Ge.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vm(e.data.value)),n}br(e,n,r){return fe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return fe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=it(),i=it();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new tw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return p5()?8:hz(tr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next((a=>{o.result=a})).next((()=>{if(!o.result)return this.ws(e,n,i,r).next((a=>{o.result=a}))})).next((()=>{if(o.result)return;const a=new U8;return this.Ss(e,n,a).next((u=>{if(o.result=u,this.Vs)return this.bs(e,n,a,u.size)}))})).next((()=>o.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Ru()<=nt.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",Iu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(Ru()<=nt.DEBUG&&Ae("QueryEngine","Query:",Iu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ru()<=nt.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",Iu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,no(n))):fe.resolve())}ys(e,n){if(OR(n))return fe.resolve(null);let r=no(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=oE(n,null,"F"),r=no(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const a=it(...o);return this.ps.getDocuments(e,a).next((u=>this.indexManager.getMinOffset(e,r).next((c=>{const d=this.Ds(n,u);return this.Cs(n,d,a,c.readTime)?this.ys(e,oE(n,null,"F")):this.vs(e,d,n,c)}))))})))))}ws(e,n,r,i){return OR(n)||i.isEqual(Ge.min())?fe.resolve(null):this.ps.getDocuments(e,r).next((o=>{const a=this.Ds(n,o);return this.Cs(n,a,r,i)?fe.resolve(null):(Ru()<=nt.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Iu(n)),this.vs(e,a,n,lz(i,_d)).next((u=>u)))}))}Ds(e,n){let r=new En(yO(e));return n.forEach(((i,o)=>{jg(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Ru()<=nt.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",Iu(n)),this.ps.getDocumentsMatchingQuery(e,n,oa.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((a=>{o=o.insert(a.key,a)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="LocalStore",F8=3e8;class q8{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new zt(rt),this.xs=new Il((o=>jS(o)),YS),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new I8(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function $8(t,e,n,r){return new q8(t,e,n,r)}async function $O(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const a=[],u=[];let c=it();for(const d of i){a.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}for(const d of o){u.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}return n.localDocuments.getDocuments(r,c).next((d=>({Ls:d,removedBatchIds:a,addedBatchIds:u})))}))}))}function H8(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,c,d,p){const y=d.batch,_=y.keys();let E=fe.resolve();return _.forEach((w=>{E=E.next((()=>p.getEntry(c,w))).next((b=>{const C=d.docVersions.get(w);mt(C!==null,48541),b.version.compareTo(C)<0&&(y.applyToRemoteDocument(b,d),b.isValidDocument()&&(b.setReadTime(d.commitVersion),p.addEntry(b)))}))})),E.next((()=>u.mutationQueue.removeMutationBatch(c,y)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let c=it();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(c=c.add(u.batch.mutations[d].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function HO(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function z8(t,e){const n=je(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((p,y)=>{const _=i.get(y);if(!_)return;u.push(n.Pi.removeMatchingKeys(o,p.removedDocuments,y).next((()=>n.Pi.addMatchingKeys(o,p.addedDocuments,y))));let E=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?E=E.withResumeToken(jn.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,r)),i=i.insert(y,E),(function(b,C,P){return b.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=F8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(_,E,p)&&u.push(n.Pi.updateTargetData(o,E))}));let c=es(),d=it();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))})),u.push(G8(o,a,e.documentUpdates).next((p=>{c=p.ks,d=p.qs}))),!r.isEqual(Ge.min())){const p=n.Pi.getLastRemoteSnapshotVersion(o).next((y=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(p)}return fe.waitFor(u).next((()=>a.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,c,d))).next((()=>c))})).then((o=>(n.Ms=i,o)))}function G8(t,e,n){let r=it(),i=it();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let a=es();return n.forEach(((u,c)=>{const d=o.get(u);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Ge.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):Ae(nw,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",c.version)})),{ks:a,qs:i}}))}function K8(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=zS),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function j8(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((o=>o?(i=o,fe.resolve(i)):n.Pi.allocateTargetId(r).next((a=>(i=new Ws(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function cE(t,e,n){const r=je(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!gc(a))throw a;Ae(nw,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function YR(t,e,n){const r=je(t);let i=Ge.min(),o=it();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,d,p){const y=je(c),_=y.xs.get(p);return _!==void 0?fe.resolve(y.Ms.get(_)):y.Pi.getTargetData(d,p)})(r,a,no(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,u.targetId).next((c=>{o=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:Ge.min(),n?o:it()))).next((u=>(Y8(r,kz(e),u),{documents:u,Qs:o})))))}function Y8(t,e,n){let r=t.Os.get(e)||Ge.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class WR{constructor(){this.activeTargetIds=Fz()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class W8{constructor(){this.Mo=new WR,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new WR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="ConnectivityMonitor";class XR{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ae(JR,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ae(JR,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zp=null;function fE(){return zp===null?zp=(function(){return 268435456+Math.round(2147483648*Math.random())})():zp++,"0x"+zp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="RestConnection",X8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Q8{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Bm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const a=fE(),u=this.zo(e,n.toUriEncodedString());Ae(e_,`Sending RPC '${e}' ${a}:`,u,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,o);const{host:d}=new URL(u),p=ha(d);return this.Jo(e,u,c,r,p).then((y=>(Ae(e_,`Received RPC '${e}' ${a}: `,y),y)),(y=>{throw ju(e_,`RPC '${e}' ${a} failed with error: `,y,"url: ",u,"request:",r),y}))}Ho(e,n,r,i,o,a){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,n){const r=X8[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn="WebChannelConnection";class eG extends Q8{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const a=fE();return new Promise(((u,c)=>{const d=new zk;d.setWithCredentials(!0),d.listenOnce(Gk.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case ym.NO_ERROR:const y=d.getResponseJson();Ae(Jn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),u(y);break;case ym.TIMEOUT:Ae(Jn,`RPC '${e}' ${a} timed out`),c(new _e(ae.DEADLINE_EXCEEDED,"Request time out"));break;case ym.HTTP_ERROR:const _=d.getStatus();if(Ae(Jn,`RPC '${e}' ${a} failed with status:`,_,"response text:",d.getResponseText()),_>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const w=E==null?void 0:E.error;if(w&&w.status&&w.message){const b=(function(P){const N=P.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(N)>=0?N:ae.UNKNOWN})(w.status);c(new _e(b,w.message))}else c(new _e(ae.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new _e(ae.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{l_:e,streamId:a,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Ae(Jn,`RPC '${e}' ${a} completed.`)}}));const p=JSON.stringify(i);Ae(Jn,`RPC '${e}' ${a} sending request:`,i),d.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=fE(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Yk(),u=jk(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const p=o.join("");Ae(Jn,`Creating RPC '${e}' stream ${i}: ${p}`,c);const y=a.createWebChannel(p,c);this.I_(y);let _=!1,E=!1;const w=new Z8({Yo:C=>{E?Ae(Jn,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(_||(Ae(Jn,`Opening RPC '${e}' stream ${i} transport.`),y.open(),_=!0),Ae(Jn,`RPC '${e}' stream ${i} sending:`,C),y.send(C))},Zo:()=>y.close()}),b=(C,P,N)=>{C.listen(P,(D=>{try{N(D)}catch(U){setTimeout((()=>{throw U}),0)}}))};return b(y,Zf.EventType.OPEN,(()=>{E||(Ae(Jn,`RPC '${e}' stream ${i} transport opened.`),w.o_())})),b(y,Zf.EventType.CLOSE,(()=>{E||(E=!0,Ae(Jn,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(y))})),b(y,Zf.EventType.ERROR,(C=>{E||(E=!0,ju(Jn,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),w.a_(new _e(ae.UNAVAILABLE,"The operation could not be completed")))})),b(y,Zf.EventType.MESSAGE,(C=>{var P;if(!E){const N=C.data[0];mt(!!N,16349);const D=N,U=(D==null?void 0:D.error)||((P=D[0])==null?void 0:P.error);if(U){Ae(Jn,`RPC '${e}' stream ${i} received error:`,U);const $=U.status;let G=(function(M){const q=un[M];if(q!==void 0)return PO(q)})($),k=U.message;G===void 0&&(G=ae.INTERNAL,k="Unknown error status: "+$+" with message "+U.message),E=!0,w.a_(new _e(G,k)),y.close()}else Ae(Jn,`RPC '${e}' stream ${i} received:`,N),w.u_(N)}})),b(u,Kk.STAT_EVENT,(C=>{C.stat===QT.PROXY?Ae(Jn,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===QT.NOPROXY&&Ae(Jn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function t_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t){return new i8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="PersistentStream";class GO{constructor(e,n,r,i,o,a,u,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zO(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(Zo(n.toString()),Zo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new _e(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ae(QR,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ae(QR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tG extends GO{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=a8(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ge.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?Ge.min():a.readTime?ro(a.readTime):Ge.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=uE(this.serializer),n.addTarget=(function(o,a){let u;const c=a.target;if(u=rE(c)?{documents:c8(o,c)}:{query:f8(o,c).ft},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=DO(o,a.resumeToken);const d=sE(o,a.expectedCount);d!==null&&(u.expectedCount=d)}else if(a.snapshotVersion.compareTo(Ge.min())>0){u.readTime=$m(o,a.snapshotVersion.toTimestamp());const d=sE(o,a.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,e);const r=h8(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=uE(this.serializer),n.removeTarget=e,this.q_(n)}}class nG extends GO{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=u8(e.writeResults,e.commitTime),r=ro(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=uE(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>l8(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{}class iG extends rG{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new _e(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Go(e,aE(n,r),i,o,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(ae.UNKNOWN,o.toString())}))}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Ho(e,aE(n,r),i,a,u,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(ae.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class oG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zo(n),this.aa=!1):Ae("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl="RemoteStore";class sG{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{Pl(this)&&(Ae(Tl,"Restarting streams for network reachability change."),await(async function(c){const d=je(c);d.Ea.add(4),await Yd(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Zg(d)})(this))}))})),this.Ra=new oG(r,i)}}async function Zg(t){if(Pl(t))for(const e of t.da)await e(!0)}async function Yd(t){for(const e of t.da)await e(!1)}function KO(t,e){const n=je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),sw(n)?ow(n):vc(n).O_()&&iw(n,e))}function rw(t,e){const n=je(t),r=vc(n);n.Ia.delete(e),r.O_()&&jO(n,e),n.Ia.size===0&&(r.O_()?r.L_():Pl(n)&&n.Ra.set("Unknown"))}function iw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vc(t).Y_(e)}function jO(t,e){t.Va.Ue(e),vc(t).Z_(e)}function ow(t){t.Va=new e8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),vc(t).start(),t.Ra.ua()}function sw(t){return Pl(t)&&!vc(t).x_()&&t.Ia.size>0}function Pl(t){return je(t).Ea.size===0}function YO(t){t.Va=void 0}async function aG(t){t.Ra.set("Online")}async function lG(t){t.Ia.forEach(((e,n)=>{iw(t,e)}))}async function uG(t,e){YO(t),sw(t)?(t.Ra.ha(e),ow(t)):t.Ra.set("Unknown")}async function cG(t,e,n){if(t.Ra.set("Online"),e instanceof NO&&e.state===2&&e.cause)try{await(async function(i,o){const a=o.cause;for(const u of o.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,a),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){Ae(Tl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zm(t,r)}else if(e instanceof Em?t.Va.Ze(e):e instanceof MO?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ge.min()))try{const r=await HO(t.localStore);n.compareTo(r)>=0&&await(function(o,a){const u=o.Va.Tt(a);return u.targetChanges.forEach(((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const p=o.Ia.get(d);p&&o.Ia.set(d,p.withResumeToken(c.resumeToken,a))}})),u.targetMismatches.forEach(((c,d)=>{const p=o.Ia.get(c);if(!p)return;o.Ia.set(c,p.withResumeToken(jn.EMPTY_BYTE_STRING,p.snapshotVersion)),jO(o,c);const y=new Ws(p.target,c,d,p.sequenceNumber);iw(o,y)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Ae(Tl,"Failed to raise snapshot:",r),await zm(t,r)}}async function zm(t,e,n){if(!gc(e))throw e;t.Ea.add(1),await Yd(t),t.Ra.set("Offline"),n||(n=()=>HO(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ae(Tl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Zg(t)}))}function WO(t,e){return e().catch((n=>zm(t,n,e)))}async function ey(t){const e=je(t),n=ua(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zS;for(;fG(e);)try{const i=await K8(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,dG(e,i)}catch(i){await zm(e,i)}JO(e)&&XO(e)}function fG(t){return Pl(t)&&t.Ta.length<10}function dG(t,e){t.Ta.push(e);const n=ua(t);n.O_()&&n.X_&&n.ea(e.mutations)}function JO(t){return Pl(t)&&!ua(t).x_()&&t.Ta.length>0}function XO(t){ua(t).start()}async function hG(t){ua(t).ra()}async function pG(t){const e=ua(t);for(const n of t.Ta)e.ea(n.mutations)}async function mG(t,e,n){const r=t.Ta.shift(),i=JS.from(r,e,n);await WO(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await ey(t)}async function gG(t,e){e&&ua(t).X_&&await(async function(r,i){if((function(a){return Xz(a)&&a!==ae.ABORTED})(i.code)){const o=r.Ta.shift();ua(r).B_(),await WO(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await ey(r)}})(t,e),JO(t)&&XO(t)}async function ZR(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),Ae(Tl,"RemoteStore received new credentials");const r=Pl(n);n.Ea.add(3),await Yd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Zg(n)}async function yG(t,e){const n=je(t);e?(n.Ea.delete(2),await Zg(n)):e||(n.Ea.add(2),await Yd(n),n.Ra.set("Unknown"))}function vc(t){return t.ma||(t.ma=(function(n,r,i){const o=je(n);return o.sa(),new tG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:aG.bind(null,t),t_:lG.bind(null,t),r_:uG.bind(null,t),H_:cG.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),sw(t)?ow(t):t.Ra.set("Unknown")):(await t.ma.stop(),YO(t))}))),t.ma}function ua(t){return t.fa||(t.fa=(function(n,r,i){const o=je(n);return o.sa(),new nG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:hG.bind(null,t),r_:gG.bind(null,t),ta:pG.bind(null,t),na:mG.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await ey(t)):(await t.fa.stop(),t.Ta.length>0&&(Ae(Tl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new jo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,u=new aw(e,n,a,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lw(t,e){if(Zo("AsyncQueue",`${e}: ${t}`),gc(t))return new _e(ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{static emptySet(e){return new Bu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Oe.comparator(n.key,r.key):(n,r)=>Oe.comparator(n.key,r.key),this.keyedMap=ed(),this.sortedSet=new zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Bu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.ga=new zt(Oe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):qe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Qu{constructor(e,n,r,i,o,a,u,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach((u=>{a.push({type:0,doc:u})})),new Qu(e,n,Bu.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class _G{constructor(){this.queries=tI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=je(n),o=i.queries;i.queries=tI(),o.forEach(((a,u)=>{for(const c of u.Sa)c.onError(r)}))})(this,new _e(ae.ABORTED,"Firestore shutting down"))}}function tI(){return new Il((t=>gO(t)),Kg)}async function uw(t,e){const n=je(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new vG,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const u=lw(a,`Initialization of query '${Iu(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&fw(n)}async function cw(t,e){const n=je(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.Sa.indexOf(e);a>=0&&(o.Sa.splice(a,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function TG(t,e){const n=je(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const u of a.Sa)u.Fa(i)&&(r=!0);a.wa=i}}r&&fw(n)}function EG(t,e,n){const r=je(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function fw(t){t.Ca.forEach((e=>{e.next()}))}var dE,nI;(nI=dE||(dE={})).Ma="default",nI.Cache="cache";class dw{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Qu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Qu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.key=e}}class ZO{constructor(e){this.key=e}}class SG{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=it(),this.mutatedKeys=it(),this.eu=yO(e),this.tu=new Bu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new eI,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,y)=>{const _=i.get(p),E=jg(this.query,y)?y:null,w=!!_&&this.mutatedKeys.has(_.key),b=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let C=!1;_&&E?_.data.isEqual(E.data)?w!==b&&(r.track({type:3,doc:E}),C=!0):this.su(_,E)||(r.track({type:2,doc:E}),C=!0,(c&&this.eu(E,c)>0||d&&this.eu(E,d)<0)&&(u=!0)):!_&&E?(r.track({type:0,doc:E}),C=!0):_&&!E&&(r.track({type:1,doc:_}),C=!0,(c||d)&&(u=!0)),C&&(E?(a=a.add(E),o=b?o.add(p):o.delete(p)):(a=a.delete(p),o=o.delete(p)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{tu:a,iu:r,Cs:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((p,y)=>(function(E,w){const b=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{Rt:C})}};return b(E)-b(w)})(p.type,y.type)||this.eu(p.doc,y.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,d=c!==this.Za;return this.Za=c,a.length!==0||d?{snapshot:new Qu(this.query,e.tu,o,a,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=it(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new ZO(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new QO(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=it();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Qu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hw="SyncEngine";class wG{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bG{constructor(e){this.key=e,this.hu=!1}}class AG{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Il((u=>gO(u)),Kg),this.Iu=new Map,this.Eu=new Set,this.du=new zt(Oe.comparator),this.Au=new Map,this.Ru=new ZS,this.Vu={},this.mu=new Map,this.fu=Xu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CG(t,e,n=!0){const r=oL(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await eL(r,e,n,!0),i}async function xG(t,e){const n=oL(t);await eL(n,e,!0,!1)}async function eL(t,e,n,r){const i=await j8(t.localStore,no(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await RG(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&KO(t.remoteStore,i),u}async function RG(t,e,n,r,i){t.pu=(y,_,E)=>(async function(b,C,P,N){let D=C.view.ru(P);D.Cs&&(D=await YR(b.localStore,C.query,!1).then((({documents:k})=>C.view.ru(k,D))));const U=N&&N.targetChanges.get(C.targetId),$=N&&N.targetMismatches.get(C.targetId)!=null,G=C.view.applyChanges(D,b.isPrimaryClient,U,$);return iI(b,C.targetId,G.au),G.snapshot})(t,y,_,E);const o=await YR(t.localStore,e,!0),a=new SG(e,o.Qs),u=a.ru(o.documents),c=jd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=a.applyChanges(u,t.isPrimaryClient,c);iI(t,n,d.au);const p=new wG(e,n,a);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function IG(t,e,n){const r=je(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((a=>!Kg(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await cE(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&rw(r.remoteStore,i.targetId),hE(r,i.targetId)})).catch(mc)):(hE(r,i.targetId),await cE(r.localStore,i.targetId,!0))}async function PG(t,e){const n=je(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rw(n.remoteStore,r.targetId))}async function MG(t,e,n){const r=UG(t);try{const i=await(function(a,u){const c=je(a),d=Lt.now(),p=u.reduce(((E,w)=>E.add(w.key)),it());let y,_;return c.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let w=es(),b=it();return c.Ns.getEntries(E,p).next((C=>{w=C,w.forEach(((P,N)=>{N.isValidDocument()||(b=b.add(P))}))})).next((()=>c.localDocuments.getOverlayedDocuments(E,w))).next((C=>{y=C;const P=[];for(const N of u){const D=Kz(N,y.get(N.key).overlayedDocument);D!=null&&P.push(new ma(N.key,D,lO(D.value.mapValue),Tr.exists(!0)))}return c.mutationQueue.addMutationBatch(E,d,P,u)})).next((C=>{_=C;const P=C.applyToLocalDocumentSet(y,b);return c.documentOverlayCache.saveOverlays(E,C.batchId,P)}))})).then((()=>({batchId:_.batchId,changes:_O(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,u,c){let d=a.Vu[a.currentUser.toKey()];d||(d=new zt(rt)),d=d.insert(u,c),a.Vu[a.currentUser.toKey()]=d})(r,i.batchId,n),await Wd(r,i.changes),await ey(r.remoteStore)}catch(i){const o=lw(i,"Failed to persist write");n.reject(o)}}async function tL(t,e){const n=je(t);try{const r=await z8(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const a=n.Au.get(o);a&&(mt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?mt(a.hu,14607):i.removedDocuments.size>0&&(mt(a.hu,42227),a.hu=!1))})),await Wd(n,r,e)}catch(r){await mc(r)}}function rI(t,e,n){const r=je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,a)=>{const u=a.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(a,u){const c=je(a);c.onlineState=u;let d=!1;c.queries.forEach(((p,y)=>{for(const _ of y.Sa)_.va(u)&&(d=!0)})),d&&fw(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function NG(t,e,n){const r=je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let a=new zt(Oe.comparator);a=a.insert(o,Zn.newNoDocument(o,Ge.min()));const u=it().add(o),c=new Xg(Ge.min(),new Map,new zt(rt),a,u);await tL(r,c),r.du=r.du.remove(o),r.Au.delete(e),pw(r)}else await cE(r.localStore,e,!1).then((()=>hE(r,e,n))).catch(mc)}async function DG(t,e){const n=je(t),r=e.batch.batchId;try{const i=await H8(n.localStore,e);rL(n,r,null),nL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wd(n,i)}catch(i){await mc(i)}}async function kG(t,e,n){const r=je(t);try{const i=await(function(a,u){const c=je(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let p;return c.mutationQueue.lookupMutationBatch(d,u).next((y=>(mt(y!==null,37113),p=y.keys(),c.mutationQueue.removeMutationBatch(d,y)))).next((()=>c.mutationQueue.performConsistencyCheck(d))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(d,p,u))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p))).next((()=>c.localDocuments.getDocuments(d,p)))}))})(r.localStore,e);rL(r,e,n),nL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wd(r,i)}catch(i){await mc(i)}}function nL(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function rL(t,e,n){const r=je(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function hE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||iL(t,r)}))}function iL(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(rw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),pw(t))}function iI(t,e,n){for(const r of n)r instanceof QO?(t.Ru.addReference(r.key,e),OG(t,r)):r instanceof ZO?(Ae(hw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||iL(t,r.key)):qe(19791,{wu:r})}function OG(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ae(hw,"New document in limbo: "+n),t.Eu.add(r),pw(t))}function pw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Oe(Nt.fromString(e)),r=t.fu.next();t.Au.set(r,new bG(n)),t.du=t.du.insert(n,r),KO(t.remoteStore,new Ws(no(Gg(n.path)),r,"TargetPurposeLimboResolution",$g.ce))}}async function Wd(t,e,n){const r=je(t),i=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,c)=>{a.push(r.pu(c,e,n).then((d=>{var p;if((d||n)&&r.isPrimaryClient){const y=d?!d.fromCache:(p=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,y?"current":"not-current")}if(d){i.push(d);const y=tw.As(c.targetId,d);o.push(y)}})))})),await Promise.all(a),r.Pu.H_(i),await(async function(c,d){const p=je(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>fe.forEach(d,(_=>fe.forEach(_.Es,(E=>p.persistence.referenceDelegate.addReference(y,_.targetId,E))).next((()=>fe.forEach(_.ds,(E=>p.persistence.referenceDelegate.removeReference(y,_.targetId,E)))))))))}catch(y){if(!gc(y))throw y;Ae(nw,"Failed to update sequence numbers: "+y)}for(const y of d){const _=y.targetId;if(!y.fromCache){const E=p.Ms.get(_),w=E.snapshotVersion,b=E.withLastLimboFreeSnapshotVersion(w);p.Ms=p.Ms.insert(_,b)}}})(r.localStore,o))}async function LG(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){Ae(hw,"User change. New user:",e.toKey());const r=await $O(n.localStore,e);n.currentUser=e,(function(o,a){o.mu.forEach((u=>{u.forEach((c=>{c.reject(new _e(ae.CANCELLED,a))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wd(n,r.Ls)}}function VG(t,e){const n=je(t),r=n.Au.get(e);if(r&&r.hu)return it().add(r.key);{let i=it();const o=n.Iu.get(e);if(!o)return i;for(const a of o){const u=n.Tu.get(a);i=i.unionWith(u.view.nu)}return i}}function oL(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NG.bind(null,e),e.Pu.H_=TG.bind(null,e.eventManager),e.Pu.yu=EG.bind(null,e.eventManager),e}function UG(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kG.bind(null,e),e}class Gm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return $8(this.persistence,new B8,e.initialUser,this.serializer)}Cu(e){return new qO(ew.mi,this.serializer)}Du(e){return new W8}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gm.provider={build:()=>new Gm};class BG extends Gm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){mt(this.persistence.referenceDelegate instanceof Hm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new b8(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yr.withCacheSize(this.cacheSizeBytes):yr.DEFAULT;return new qO((r=>Hm.mi(r,n)),this.serializer)}}class pE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=LG.bind(null,this.syncEngine),await yG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new _G})()}createDatastore(e){const n=Qg(e.databaseInfo.databaseId),r=(function(o){return new eG(o)})(e.databaseInfo);return(function(o,a,u,c){return new iG(o,a,u,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,a,u){return new sG(r,i,o,a,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>rI(this.syncEngine,n,0)),(function(){return XR.v()?new XR:new J8})())}createSyncEngine(e,n){return(function(i,o,a,u,c,d,p){const y=new AG(i,o,a,u,c,d);return p&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=je(i);Ae(Tl,"RemoteStore shutting down."),o.Ea.add(5),await Yd(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}pE.provider={build:()=>new pE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="FirestoreClient";class FG{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qn.UNAUTHENTICATED,this.clientId=HS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async a=>{Ae(ca,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(Ae(ca,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=lw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function n_(t,e){t.asyncQueue.verifyOperationInProgress(),Ae(ca,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await $O(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function oI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qG(t);Ae(ca,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>ZR(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>ZR(e.remoteStore,i))),t._onlineComponents=e}async function qG(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ae(ca,"Using user provided OfflineComponentProvider");try{await n_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ae.FAILED_PRECONDITION||i.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ju("Error using user provided cache. Falling back to memory cache: "+n),await n_(t,new Gm)}}else Ae(ca,"Using default OfflineComponentProvider"),await n_(t,new BG(void 0));return t._offlineComponents}async function sL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ae(ca,"Using user provided OnlineComponentProvider"),await oI(t,t._uninitializedComponentsProvider._online)):(Ae(ca,"Using default OnlineComponentProvider"),await oI(t,new pE))),t._onlineComponents}function $G(t){return sL(t).then((e=>e.syncEngine))}async function Km(t){const e=await sL(t),n=e.eventManager;return n.onListen=CG.bind(null,e.syncEngine),n.onUnlisten=IG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xG.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PG.bind(null,e.syncEngine),n}function HG(t,e,n={}){const r=new jo;return t.asyncQueue.enqueueAndForget((async()=>(function(o,a,u,c,d){const p=new mw({next:_=>{p.Nu(),a.enqueueAndForget((()=>cw(o,y)));const E=_.docs.has(u);!E&&_.fromCache?d.reject(new _e(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&c&&c.source==="server"?d.reject(new _e(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),y=new dw(Gg(u.path),p,{includeMetadataChanges:!0,qa:!0});return uw(o,y)})(await Km(t),t.asyncQueue,e,n,r))),r.promise}function zG(t,e,n={}){const r=new jo;return t.asyncQueue.enqueueAndForget((async()=>(function(o,a,u,c,d){const p=new mw({next:_=>{p.Nu(),a.enqueueAndForget((()=>cw(o,y))),_.fromCache&&c.source==="server"?d.reject(new _e(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),y=new dw(u,p,{includeMetadataChanges:!0,qa:!0});return uw(o,y)})(await Km(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL="firestore.googleapis.com",aI=!0;class lI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lL,this.ssl=aI}else this.host=e.host,this.ssl=e.ssl??aI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<S8)throw new _e(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}az("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aL(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new _e(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new _e(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new _e(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ty{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new XH;switch(r.type){case"firstParty":return new tz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=sI.get(n);r&&(Ae("ComponentProvider","Removing Datastore"),sI.delete(n),r.terminate())})(this),Promise.resolve()}}function GG(t,e,n,r={}){var d;t=Ur(t,ty);const i=ha(e),o=t._getSettings(),a={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(IS(`https://${u}`),PS("Firestore",!0)),o.host!==lL&&o.host!==u&&ju("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:u,ssl:i,emulatorOptions:r};if(!gl(c,a)&&(t._setSettings(c),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=Qn.MOCK_USER;else{p=ik(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new _e(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Qn(_)}t._authCredentials=new QH(new Jk(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ga(this.firestore,e,this._query)}}class rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}toJSON(){return{type:rn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Gd(n,rn._jsonSchema))return new rn(e,r||null,new Oe(Nt.fromString(n.referencePath)))}}rn._jsonSchemaVersion="firestore/documentReference/1.0",rn._jsonSchema={type:fn("string",rn._jsonSchemaVersion),referencePath:fn("string")};class ta extends ga{constructor(e,n,r){super(e,n,Gg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new Oe(e))}withConverter(e){return new ta(this.firestore,e,this._path)}}function il(t,e,...n){if(t=Dt(t),Xk("collection","path",e),t instanceof ty){const r=Nt.fromString(e,...n);return ER(r),new ta(t,null,r)}{if(!(t instanceof rn||t instanceof ta))throw new _e(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Nt.fromString(e,...n));return ER(r),new ta(t.firestore,null,r)}}function na(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=HS.newId()),Xk("doc","path",e),t instanceof ty){const r=Nt.fromString(e,...n);return TR(r),new rn(t,null,new Oe(r))}{if(!(t instanceof rn||t instanceof ta))throw new _e(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Nt.fromString(e,...n));return TR(r),new rn(t.firestore,t instanceof ta?t.converter:null,new Oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="AsyncQueue";class cI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zO(this,"async_queue_retry"),this._c=()=>{const r=t_();r&&Ae(uI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=t_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=t_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new jo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!gc(e))throw e;Ae(uI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Zo("INTERNAL UNHANDLED ERROR: ",fI(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=aw.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&qe(47125,{Pc:fI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function fI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}class ts extends ty{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new cI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cI(e),this._firestoreClient=void 0,await e}}}function KG(t,e){const n=typeof t=="object"?t:DS(),r=typeof t=="string"?t:Bm,i=Lg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=tk("firestore");o&&GG(i,...o)}return i}function Jd(t){if(t._terminated)throw new _e(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||jG(t),t._firestoreClient}function jG(t){var r,i,o;const e=t._freezeSettings(),n=(function(u,c,d,p){return new vz(u,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,aL(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new FG(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new si(jn.fromBase64String(e))}catch(n){throw new _e(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new si(jn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gd(e,si._jsonSchema))return si.fromBase64String(e.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:fn("string",si._jsonSchemaVersion),bytes:fn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return rt(this._lat,e._lat)||rt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:io._jsonSchemaVersion}}static fromJSON(e){if(Gd(e,io._jsonSchema))return new io(e.latitude,e.longitude)}}io._jsonSchemaVersion="firestore/geoPoint/1.0",io._jsonSchema={type:fn("string",io._jsonSchemaVersion),latitude:fn("number"),longitude:fn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:oo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gd(e,oo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new oo(e.vectorValues);throw new _e(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oo._jsonSchemaVersion="firestore/vectorValue/1.0",oo._jsonSchema={type:fn("string",oo._jsonSchemaVersion),vectorValues:fn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YG=/^__.*__$/;class WG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ma(e,this.data,this.fieldMask,n,this.fieldTransforms):new Kd(e,this.data,n,this.fieldTransforms)}}class uL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ma(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{Ac:t})}}class gw{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(cL(this.Ac)&&YG.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class JG{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qg(e)}Cc(e,n,r,i=!1){return new gw({Ac:e,methodName:n,Dc:r,path:Gn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ny(t){const e=t._freezeSettings(),n=Qg(t._databaseId);return new JG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fL(t,e,n,r,i,o={}){const a=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);_w("Data must be an object, but it was:",a,r);const u=pL(r,a);let c,d;if(o.merge)c=new Or(a.fieldMask),d=a.fieldTransforms;else if(o.mergeFields){const p=[];for(const y of o.mergeFields){const _=mE(e,y,n);if(!a.contains(_))throw new _e(ae.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);gL(p,_)||p.push(_)}c=new Or(p),d=a.fieldTransforms.filter((y=>c.covers(y.field)))}else c=null,d=a.fieldTransforms;return new WG(new vr(u),c,d)}class ry extends Qd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ry}}class yw extends Qd{_toFieldTransform(e){return new xO(e.path,new bd)}isEqual(e){return e instanceof yw}}class vw extends Qd{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new xd(e.serializer,SO(e.serializer,this.Fc));return new xO(e.path,n)}isEqual(e){return e instanceof vw&&this.Fc===e.Fc}}function dL(t,e,n,r){const i=t.Cc(1,e,n);_w("Data must be an object, but it was:",i,r);const o=[],a=vr.empty();pa(r,((c,d)=>{const p=Tw(e,c,n);d=Dt(d);const y=i.yc(p);if(d instanceof ry)o.push(p);else{const _=Zd(d,y);_!=null&&(o.push(p),a.set(p,_))}}));const u=new Or(o);return new uL(a,u,i.fieldTransforms)}function hL(t,e,n,r,i,o){const a=t.Cc(1,e,n),u=[mE(e,r,n)],c=[i];if(o.length%2!=0)throw new _e(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)u.push(mE(e,o[_])),c.push(o[_+1]);const d=[],p=vr.empty();for(let _=u.length-1;_>=0;--_)if(!gL(d,u[_])){const E=u[_];let w=c[_];w=Dt(w);const b=a.yc(E);if(w instanceof ry)d.push(E);else{const C=Zd(w,b);C!=null&&(d.push(E),p.set(E,C))}}const y=new Or(d);return new uL(p,y,a.fieldTransforms)}function XG(t,e,n,r=!1){return Zd(n,t.Cc(r?4:3,e))}function Zd(t,e){if(mL(t=Dt(t)))return _w("Unsupported field value:",e,t),pL(t,e);if(t instanceof Qd)return(function(r,i){if(!cL(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let a=0;for(const u of r){let c=Zd(u,i.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),a++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Lt.fromDate(r);return{timestampValue:$m(i.serializer,o)}}if(r instanceof Lt){const o=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$m(i.serializer,o)}}if(r instanceof io)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof si)return{bytesValue:DO(i.serializer,r._byteString)};if(r instanceof rn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:QS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof oo)return(function(a,u){return{mapValue:{fields:{[sO]:{stringValue:aO},[Fm]:{arrayValue:{values:a.toArray().map((d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return WS(u.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${qg(r)}`)})(t,e)}function pL(t,e){const n={};return eO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pa(t,((r,i)=>{const o=Zd(i,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function mL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lt||t instanceof io||t instanceof si||t instanceof rn||t instanceof Qd||t instanceof oo)}function _w(t,e,n){if(!mL(n)||!Qk(n)){const r=qg(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function mE(t,e,n){if((e=Dt(e))instanceof Xd)return e._internalPath;if(typeof e=="string")return Tw(t,e);throw jm("Field path arguments must be of type string or ",t,!1,void 0,n)}const QG=new RegExp("[~\\*/\\[\\]]");function Tw(t,e,n){if(e.search(QG)>=0)throw jm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xd(...e.split("."))._internalPath}catch{throw jm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jm(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new _e(ae.INVALID_ARGUMENT,u+t+c)}function gL(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ew("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZG extends yL{data(){return super.data()}}function Ew(t,e){return typeof e=="string"?Tw(t,e):e instanceof Xd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sw{}class _L extends Sw{}function Sm(t,e,...n){let r=[];e instanceof Sw&&r.push(e),r=r.concat(n),(function(o){const a=o.filter((c=>c instanceof bw)).length,u=o.filter((c=>c instanceof ww)).length;if(a>1||a>0&&u>0)throw new _e(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class ww extends _L{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ww(e,n,r)}_apply(e){const n=this._parse(e);return TL(e._query,n),new ga(e.firestore,e.converter,iE(e._query,n))}_parse(e){const n=ny(e.firestore);return(function(o,a,u,c,d,p,y){let _;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new _e(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){pI(y,p);const w=[];for(const b of y)w.push(hI(c,o,b));_={arrayValue:{values:w}}}else _=hI(c,o,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||pI(y,p),_=XG(u,a,y,p==="in"||p==="not-in");return cn.create(d,p,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class bw extends Sw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bw(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:xi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let a=i;const u=o.getFlattenedFilters();for(const c of u)TL(a,c),a=iE(a,c)})(e._query,n),new ga(e.firestore,e.converter,iE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Aw extends _L{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Aw(e,n)}_apply(e){const n=(function(i,o,a){if(i.startAt!==null)throw new _e(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new _e(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wd(o,a)})(e._query,this._field,this._direction);return new ga(e.firestore,e.converter,(function(i,o){const a=i.explicitOrderBy.concat([o]);return new yc(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function gE(t,e="asc"){const n=e,r=Ew("orderBy",t);return Aw._create(r,n)}function hI(t,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new _e(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mO(e)&&n.indexOf("/")!==-1)throw new _e(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Nt.fromString(n));if(!Oe.isDocumentKey(r))throw new _e(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return IR(t,new Oe(r))}if(n instanceof rn)return IR(t,n._key);throw new _e(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qg(n)}.`)}function pI(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TL(t,e){const n=(function(i,o){for(const a of i)for(const u of a.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new _e(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class e7{convertValue(e,n="none"){switch(la(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pa(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Fm].arrayValue)==null?void 0:i.values)==null?void 0:o.map((a=>nn(a.doubleValue)));return new oo(n)}convertGeoPoint(e){return new io(nn(e.latitude),nn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Td(e));default:return null}}convertTimestamp(e){const n=sa(e);return new Lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Nt.fromString(e);mt(BO(r),9688,{name:e});const i=new Ed(r.get(1),r.get(3)),o=new Oe(r.popFirst(5));return i.isEqual(n)||Zo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class nd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ul extends yL{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ew("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ul._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ul._jsonSchemaVersion="firestore/documentSnapshot/1.0",ul._jsonSchema={type:fn("string",ul._jsonSchemaVersion),bundleSource:fn("string","DocumentSnapshot"),bundleName:fn("string"),bundle:fn("string")};class wm extends ul{data(e={}){return super.data(e)}}class cl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new nd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new wm(this._firestore,this._userDataWriter,r.key,r,new nd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((u=>{const c=new wm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new nd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const c=new wm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new nd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,p=-1;return u.type!==0&&(d=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),p=a.indexOf(u.doc.key)),{type:t7(u.type),doc:c,oldIndex:d,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=cl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=HS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function t7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(t){t=Ur(t,rn);const e=Ur(t.firestore,ts);return HG(Jd(e),t._key).then((n=>bL(e,t,n)))}cl._jsonSchemaVersion="firestore/querySnapshot/1.0",cl._jsonSchema={type:fn("string",cl._jsonSchemaVersion),bundleSource:fn("string","QuerySnapshot"),bundleName:fn("string"),bundle:fn("string")};class Cw extends e7{constructor(e){super(),this.firestore=e}convertBytes(e){return new si(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function wL(t){t=Ur(t,ga);const e=Ur(t.firestore,ts),n=Jd(e),r=new Cw(e);return vL(t._query),zG(n,t._query).then((i=>new cl(e,r,t,i)))}function xw(t,e,n,...r){t=Ur(t,rn);const i=Ur(t.firestore,ts),o=ny(i);let a;return a=typeof(e=Dt(e))=="string"||e instanceof Xd?hL(o,"updateDoc",t._key,e,n,r):dL(o,"updateDoc",t._key,e),iy(i,[a.toMutation(t._key,Tr.exists(!0))])}function mI(t){return iy(Ur(t.firestore,ts),[new Jg(t._key,Tr.none())])}function yE(t,e){const n=Ur(t.firestore,ts),r=na(t),i=EL(t.converter,e);return iy(n,[fL(ny(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Tr.exists(!1))]).then((()=>r))}function vE(t,...e){var c,d,p;t=Dt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||dI(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(dI(e[r])){const y=e[r];e[r]=(c=y.next)==null?void 0:c.bind(y),e[r+1]=(d=y.error)==null?void 0:d.bind(y),e[r+2]=(p=y.complete)==null?void 0:p.bind(y)}let o,a,u;if(t instanceof rn)a=Ur(t.firestore,ts),u=Gg(t._key.path),o={next:y=>{e[r]&&e[r](bL(a,t,y))},error:e[r+1],complete:e[r+2]};else{const y=Ur(t,ga);a=Ur(y.firestore,ts),u=y._query;const _=new Cw(a);o={next:E=>{e[r]&&e[r](new cl(a,_,y,E))},error:e[r+1],complete:e[r+2]},vL(t._query)}return(function(_,E,w,b){const C=new mw(b),P=new dw(E,C,w);return _.asyncQueue.enqueueAndForget((async()=>uw(await Km(_),P))),()=>{C.Nu(),_.asyncQueue.enqueueAndForget((async()=>cw(await Km(_),P)))}})(Jd(a),u,i,o)}function iy(t,e){return(function(r,i){const o=new jo;return r.asyncQueue.enqueueAndForget((async()=>MG(await $G(r),i,o))),o.promise})(Jd(t),e)}function bL(t,e,n){const r=n.docs.get(e._key),i=new Cw(t);return new ul(t,i,e._key,r,new nd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ny(e)}set(e,n,r){this._verifyNotCommitted();const i=r_(e,this._firestore),o=EL(i.converter,n,r),a=fL(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,Tr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=r_(e,this._firestore);let a;return a=typeof(n=Dt(n))=="string"||n instanceof Xd?hL(this._dataReader,"WriteBatch.update",o._key,n,r,i):dL(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(a.toMutation(o._key,Tr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=r_(e,this._firestore);return this._mutations=this._mutations.concat(new Jg(n._key,Tr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function r_(t,e){if((t=Dt(t)).firestore!==e)throw new _e(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function fd(){return new yw("serverTimestamp")}function r7(t){return new vw("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i7(t){return Jd(t=Ur(t,ts)),new n7(t,(e=>iy(t,e)))}(function(e,n=!0){(function(i){pc=i})(xl),yl(new ia("firestore",((r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),u=new ts(new ZH(r.getProvider("auth-internal")),new nz(a,r.getProvider("app-check-internal")),(function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new _e(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ed(d.options.projectId,p)})(a,i),a);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Zi(gR,yR,e),Zi(gR,yR,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL="firebasestorage.googleapis.com",CL="storageBucket",o7=120*1e3,s7=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt extends Mi{constructor(e,n,r=0){super(i_(e),`Firebase Storage: ${n} (${i_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Jt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return i_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Wt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Wt||(Wt={}));function i_(t){return"storage/"+t}function Rw(){const t="An unknown error occurred, please check the error payload for server response.";return new Jt(Wt.UNKNOWN,t)}function a7(t){return new Jt(Wt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function l7(t){return new Jt(Wt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function u7(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Jt(Wt.UNAUTHENTICATED,t)}function c7(){return new Jt(Wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function f7(t){return new Jt(Wt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function d7(){return new Jt(Wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function h7(){return new Jt(Wt.CANCELED,"User canceled the upload/download.")}function p7(t){return new Jt(Wt.INVALID_URL,"Invalid URL '"+t+"'.")}function m7(t){return new Jt(Wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function g7(){return new Jt(Wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CL+"' property when initializing the app?")}function y7(){return new Jt(Wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function v7(){return new Jt(Wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function _7(t){return new Jt(Wt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function _E(t){return new Jt(Wt.INVALID_ARGUMENT,t)}function xL(){return new Jt(Wt.APP_DELETED,"The Firebase app was deleted.")}function T7(t){return new Jt(Wt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function dd(t,e){return new Jt(Wt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function qf(t){throw new Jt(Wt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Lr.makeFromUrl(e,n)}catch{return new Lr(e,"")}if(r.path==="")return r;throw m7(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(U){U.path.charAt(U.path.length-1)==="/"&&(U.path_=U.path_.slice(0,-1))}const a="(/(.*))?$",u=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function d(U){U.path_=decodeURIComponent(U.path)}const p="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",E=new RegExp(`^https?://${y}/${p}/b/${i}/o${_}`,"i"),w={bucket:1,path:3},b=n===AL?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",P=new RegExp(`^https?://${b}/${i}/${C}`,"i"),D=[{regex:u,indices:c,postModify:o},{regex:E,indices:w,postModify:d},{regex:P,indices:{bucket:1,path:2},postModify:d}];for(let U=0;U<D.length;U++){const $=D[U],G=$.regex.exec(e);if(G){const k=G[$.indices.bucket];let O=G[$.indices.path];O||(O=""),r=new Lr(k,O),$.postModify(r);break}}if(r==null)throw p7(e);return r}}class E7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S7(t,e,n){let r=1,i=null,o=null,a=!1,u=0;function c(){return u===2}let d=!1;function p(...C){d||(d=!0,e.apply(null,C))}function y(C){i=setTimeout(()=>{i=null,t(E,c())},C)}function _(){o&&clearTimeout(o)}function E(C,...P){if(d){_();return}if(C){_(),p.call(null,C,...P);return}if(c()||a){_(),p.call(null,C,...P);return}r<64&&(r*=2);let D;u===1?(u=2,D=0):D=(r+Math.random())*1e3,y(D)}let w=!1;function b(C){w||(w=!0,_(),!d&&(i!==null?(C||(u=2),clearTimeout(i),y(0)):C||(u=1)))}return y(0),o=setTimeout(()=>{a=!0,b(!0)},n),b}function w7(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(t){return t!==void 0}function A7(t){return typeof t=="object"&&!Array.isArray(t)}function Iw(t){return typeof t=="string"||t instanceof String}function gI(t){return Pw()&&t instanceof Blob}function Pw(){return typeof Blob<"u"}function yI(t,e,n,r){if(r<e)throw _E(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw _E(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function RL(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var fl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(fl||(fl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e,n,r,i,o,a,u,c,d,p,y,_=!0,E=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=y,this.retry=_,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,b)=>{this.resolve_=w,this.reject_=b,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Gp(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=u=>{const c=u.loaded,d=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const u=o.getErrorCode()===fl.NO_ERROR,c=o.getStatus();if(!u||C7(c,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===fl.ABORT;r(!1,new Gp(!1,null,p));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new Gp(d,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());b7(c)?o(c):o()}catch(c){a(c)}else if(u!==null){const c=Rw();c.serverResponse=u.getErrorText(),this.errorCallback_?a(this.errorCallback_(u,c)):a(c)}else if(i.canceled){const c=this.appDelete_?xL():h7();a(c)}else{const c=d7();a(c)}};this.canceled_?n(!1,new Gp(!1,null,!0)):this.backoffId_=S7(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&w7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function R7(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function I7(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function P7(t,e){e&&(t["X-Firebase-GMPID"]=e)}function M7(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function N7(t,e,n,r,i,o,a=!0,u=!1){const c=RL(t.urlParams),d=t.url+c,p=Object.assign({},t.headers);return P7(p,e),R7(p,n),I7(p,o),M7(p,r),new x7(d,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function k7(...t){const e=D7();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Pw())return new Blob(t);throw new Jt(Wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function O7(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L7(t){if(typeof atob>"u")throw _7("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class o_{constructor(e,n){this.data=e,this.contentType=n||null}}function IL(t,e){switch(t){case Ai.RAW:return new o_(PL(e));case Ai.BASE64:case Ai.BASE64URL:return new o_(ML(t,e));case Ai.DATA_URL:return new o_(U7(e),B7(e))}throw Rw()}function PL(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,a=t.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function V7(t){let e;try{e=decodeURIComponent(t)}catch{throw dd(Ai.DATA_URL,"Malformed data URL.")}return PL(e)}function ML(t,e){switch(t){case Ai.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw dd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ai.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw dd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=L7(e)}catch(i){throw i.message.includes("polyfill")?i:dd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class NL{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw dd(Ai.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=F7(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function U7(t){const e=new NL(t);return e.base64?ML(Ai.BASE64,e.rest):V7(e.rest)}function B7(t){return new NL(t).contentType}function F7(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n){let r=0,i="";gI(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(gI(this.data_)){const r=this.data_,i=O7(r,e,n);return i===null?null:new js(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new js(r,!0)}}static getBlob(...e){if(Pw()){const n=e.map(r=>r instanceof js?r.data_:r);return new js(k7.apply(null,n))}else{const n=e.map(a=>Iw(a)?IL(Ai.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(a=>{for(let u=0;u<a.length;u++)i[o++]=a[u]}),new js(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(t){let e;try{e=JSON.parse(t)}catch{return null}return A7(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q7(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function $7(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function kL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H7(t,e){return e}class ar{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||H7}}let Kp=null;function z7(t){return!Iw(t)||t.length<2?t:kL(t)}function OL(){if(Kp)return Kp;const t=[];t.push(new ar("bucket")),t.push(new ar("generation")),t.push(new ar("metageneration")),t.push(new ar("name","fullPath",!0));function e(o,a){return z7(a)}const n=new ar("name");n.xform=e,t.push(n);function r(o,a){return a!==void 0?Number(a):a}const i=new ar("size");return i.xform=r,t.push(i),t.push(new ar("timeCreated")),t.push(new ar("updated")),t.push(new ar("md5Hash",null,!0)),t.push(new ar("cacheControl",null,!0)),t.push(new ar("contentDisposition",null,!0)),t.push(new ar("contentEncoding",null,!0)),t.push(new ar("contentLanguage",null,!0)),t.push(new ar("contentType",null,!0)),t.push(new ar("metadata","customMetadata",!0)),Kp=t,Kp}function G7(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Lr(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function K7(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const a=n[o];r[a.local]=a.xform(r,e[a.server])}return G7(r,t),r}function LL(t,e,n){const r=DL(e);return r===null?null:K7(t,r,n)}function j7(t,e,n,r){const i=DL(e);if(i===null||!Iw(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(d=>{const p=t.bucket,y=t.fullPath,_="/b/"+a(p)+"/o/"+a(y),E=Mw(_,n,r),w=RL({alt:"media",token:d});return E+w})[0]}function Y7(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class VL{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t){if(!t)throw Rw()}function W7(t,e){function n(r,i){const o=LL(t,i,e);return UL(o!==null),o}return n}function J7(t,e){function n(r,i){const o=LL(t,i,e);return UL(o!==null),j7(o,i,t.host,t._protocol)}return n}function BL(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=c7():i=u7():n.getStatus()===402?i=l7(t.bucket):n.getStatus()===403?i=f7(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function X7(t){const e=BL(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=a7(t.path)),o.serverResponse=i.serverResponse,o}return n}function Q7(t,e,n){const r=e.fullServerUrl(),i=Mw(r,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,u=new VL(i,o,J7(t,n),a);return u.errorHandler=X7(e),u}function Z7(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function eK(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Z7(null,e)),r}function tK(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function u(){let D="";for(let U=0;U<2;U++)D=D+Math.random().toString().slice(2);return D}const c=u();a["Content-Type"]="multipart/related; boundary="+c;const d=eK(e,r,i),p=Y7(d,n),y="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,_=`\r
--`+c+"--",E=js.getBlob(y,r,_);if(E===null)throw y7();const w={name:d.fullPath},b=Mw(o,t.host,t._protocol),C="POST",P=t.maxUploadRetryTime,N=new VL(b,C,W7(t,n),P);return N.urlParams=w,N.headers=a,N.body=E.uploadData(),N.errorHandler=BL(e),N}class nK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw qf("cannot .send() more than once");if(ha(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const a in o)o.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,o[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw qf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw qf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw qf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw qf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class rK extends nK{initXhr(){this.xhr_.responseType="text"}}function FL(){return new rK}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n){this._service=e,n instanceof Lr?this._location=n:this._location=Lr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new El(e,n)}get root(){const e=new Lr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kL(this._location.path)}get storage(){return this._service}get parent(){const e=q7(this._location.path);if(e===null)return null;const n=new Lr(this._location.bucket,e);return new El(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw T7(e)}}function iK(t,e,n){t._throwIfRoot("uploadBytes");const r=tK(t.storage,t._location,OL(),new js(e,!0),n);return t.storage.makeRequestWithTokens(r,FL).then(i=>({metadata:i,ref:t}))}function oK(t,e,n=Ai.RAW,r){t._throwIfRoot("uploadString");const i=IL(n,e),o={...r};return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),iK(t,i.data,o)}function sK(t){t._throwIfRoot("getDownloadURL");const e=Q7(t.storage,t._location,OL());return t.storage.makeRequestWithTokens(e,FL).then(n=>{if(n===null)throw v7();return n})}function aK(t,e){const n=$7(t._location.path,e),r=new Lr(t._location.bucket,n);return new El(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lK(t){return/^[A-Za-z]+:\/\//.test(t)}function uK(t,e){return new El(t,e)}function qL(t,e){if(t instanceof Nw){const n=t;if(n._bucket==null)throw g7();const r=new El(n,n._bucket);return e!=null?qL(r,e):r}else return e!==void 0?aK(t,e):t}function cK(t,e){if(e&&lK(e)){if(t instanceof Nw)return uK(t,e);throw _E("To use ref(service, url), the first argument must be a Storage instance.")}else return qL(t,e)}function vI(t,e){const n=e==null?void 0:e[CL];return n==null?null:Lr.makeFromBucketSpec(n,t)}function fK(t,e,n,r={}){t.host=`${e}:${n}`;const i=ha(e);i&&(IS(`https://${t.host}/b`),PS("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:ik(o,t.app.options.projectId))}class Nw{constructor(e,n,r,i,o,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=a,this._bucket=null,this._host=AL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=o7,this._maxUploadRetryTime=s7,this._requests=new Set,i!=null?this._bucket=Lr.makeFromBucketSpec(i,this._host):this._bucket=vI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Lr.makeFromBucketSpec(this._url,e):this._bucket=vI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new El(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new E7(xL());{const a=N7(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const _I="@firebase/storage",TI="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="storage";function dK(t,e,n,r){return t=Dt(t),oK(t,e,n,r)}function hK(t){return t=Dt(t),sK(t)}function pK(t,e){return t=Dt(t),cK(t,e)}function mK(t=DS(),e){t=Dt(t);const r=Lg(t,$L).getImmediate({identifier:e}),i=tk("storage");return i&&gK(r,...i),r}function gK(t,e,n,r={}){fK(t,e,n,r)}function yK(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Nw(n,r,i,e,xl)}function vK(){yl(new ia($L,yK,"PUBLIC").setMultipleInstances(!0)),Zi(_I,TI,""),Zi(_I,TI,"esm2020")}vK();const _K={apiKey:"AIzaSyCZh_PwX7LZfXujZiHGH9T-8uA17hNQGBY",authDomain:"bkomhate-site.firebaseapp.com",projectId:"bkomhate-site",storageBucket:"bkomhate-site.firebasestorage.app",messagingSenderId:"37549082348",appId:"1:37549082348:web:cf0c6c4f504b40192887c9"},Dw=ak(_K),hd=WH(Dw),mr=KG(Dw),TK=mK(Dw),HL=R.createContext({currentUser:null,loading:!0}),EK=()=>R.useContext(HL),SK=({children:t})=>{const[e,n]=R.useState(null),[r,i]=R.useState(!0);R.useEffect(()=>V$(hd,u=>{n(u),i(!1)}),[]);const o={currentUser:e,loading:r};return L.jsx(HL.Provider,{value:o,children:t})};function zL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=zL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Vt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=zL(t))&&(r&&(r+=" "),r+=e);return r}var s_={},a_={},EI;function wK(){return EI||(EI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(a_)),a_}var l_={},SI;function GL(){return SI||(SI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(l_)),l_}var u_={},wI;function KL(){return wI||(wI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(u_)),u_}var c_={},bI;function kw(){return bI||(bI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let o=0,a="",u="",c=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<i;){const d=n[o];u?d==="\\"&&o+1<i?(o++,a+=n[o]):d===u?u="":a+=d:c?d==='"'||d==="'"?u=d:d==="]"?(c=!1,r.push(a),a=""):a+=d:d==="["?(c=!0,a&&(r.push(a),a="")):d==="."?a&&(r.push(a),a=""):a+=d,o++}return a&&r.push(a),r}t.toPath=e})(c_)),c_}var AI;function Ow(){return AI||(AI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wK(),n=GL(),r=KL(),i=kw();function o(u,c,d){if(u==null)return d;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return d;const p=u[c];return p===void 0?n.isDeepKey(c)?o(u,i.toPath(c),d):d:p}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const p=u[c];return p===void 0?d:p}default:{if(Array.isArray(c))return a(u,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return d;const p=u[c];return p===void 0?d:p}}}function a(u,c,d){if(c.length===0)return d;let p=u;for(let y=0;y<c.length;y++){if(p==null||e.isUnsafeProperty(c[y]))return d;p=p[c[y]]}return p===void 0?d:p}t.get=o})(s_)),s_}var f_,CI;function bK(){return CI||(CI=1,f_=Ow().get),f_}var AK=bK();const Zu=co(AK);var d_={exports:{}},At={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xI;function CK(){if(xI)return At;xI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.view_transition"),E=Symbol.for("react.client.reference");function w(b){if(typeof b=="object"&&b!==null){var C=b.$$typeof;switch(C){case t:switch(b=b.type,b){case n:case i:case r:case c:case d:case _:return b;default:switch(b=b&&b.$$typeof,b){case a:case u:case y:case p:return b;case o:return b;default:return C}}case e:return C}}}return At.ContextConsumer=o,At.ContextProvider=a,At.Element=t,At.ForwardRef=u,At.Fragment=n,At.Lazy=y,At.Memo=p,At.Portal=e,At.Profiler=i,At.StrictMode=r,At.Suspense=c,At.SuspenseList=d,At.isContextConsumer=function(b){return w(b)===o},At.isContextProvider=function(b){return w(b)===a},At.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},At.isForwardRef=function(b){return w(b)===u},At.isFragment=function(b){return w(b)===n},At.isLazy=function(b){return w(b)===y},At.isMemo=function(b){return w(b)===p},At.isPortal=function(b){return w(b)===e},At.isProfiler=function(b){return w(b)===i},At.isStrictMode=function(b){return w(b)===r},At.isSuspense=function(b){return w(b)===c},At.isSuspenseList=function(b){return w(b)===d},At.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===i||b===r||b===c||b===d||typeof b=="object"&&b!==null&&(b.$$typeof===y||b.$$typeof===p||b.$$typeof===a||b.$$typeof===o||b.$$typeof===u||b.$$typeof===E||b.getModuleId!==void 0)},At.typeOf=w,At}var RI;function xK(){return RI||(RI=1,d_.exports=CK()),d_.exports}var RK=xK(),Vr=t=>t===0?0:t>0?1:-1,ci=t=>typeof t=="number"&&t!=+t,sl=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ke=t=>(typeof t=="number"||t instanceof Number)&&!ci(t),lo=t=>Ke(t)||typeof t=="string",IK=0,Rd=t=>{var e=++IK;return"".concat(t||"").concat(e)},Ri=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ke(e)&&typeof e!="string")return r;var o;if(sl(e)){if(n==null)return r;var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return ci(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},jL=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function lr(t,e,n){return Ke(t)&&Ke(e)?t+n*(e-t):e}function PK(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Zu(r,e))===n)}var Nn=t=>t===null||typeof t>"u",eh=t=>Nn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),MK=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Lw(t){if(typeof t!="string")return!1;var e=MK;return e.includes(t)}var NK=["viewBox","children"],II=["points","pathLength"],h_={svg:NK,polygon:II,polyline:II},DK=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(R.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Lw(i)&&(r[i]=(o=>n[i](n,o)))}),r},kK=(t,e,n)=>r=>(t(e,n,r),null),Vw=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];Lw(i)&&typeof o=="function"&&(r||(r={}),r[i]=kK(o,e,n))}),r},OK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function YL(t){if(typeof t!="string")return!1;var e=OK;return e.includes(t)}function oy(t){var e=Object.entries(t).filter(n=>{var[r]=n;return YL(r)});return Object.fromEntries(e)}var PI=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",MI=null,p_=null,WL=t=>{if(t===MI&&Array.isArray(p_))return p_;var e=[];return R.Children.forEach(t,n=>{Nn(n)||(RK.isFragment(n)?e=e.concat(WL(n.props.children)):e.push(n))}),p_=e,MI=t,e};function LK(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>PI(i)):r=[PI(e)],WL(t).forEach(i=>{var o=Zu(i,"type.displayName")||Zu(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}var VK=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var o=(i=r&&(h_==null?void 0:h_[r]))!==null&&i!==void 0?i:[],a=e.startsWith("data-"),u=typeof t!="function"&&(!!r&&o.includes(e)||YL(e)),c=!!n&&Lw(e);return a||u||c},Mn=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(R.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(o=>{var a;VK((a=r)===null||a===void 0?void 0:a[o],o,e,n)&&(i[o]=r[o])}),i},UK=["children","width","height","viewBox","className","style","title","desc"];function TE(){return TE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TE.apply(null,arguments)}function BK(t,e){if(t==null)return{};var n,r,i=FK(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function FK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var JL=R.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:a,style:u,title:c,desc:d}=t,p=BK(t,UK),y=o||{width:r,height:i,x:0,y:0},_=Vt("recharts-surface",a);return R.createElement("svg",TE({},Mn(p,!0,"svg"),{className:_,width:r,height:i,style:u,viewBox:"".concat(y.x," ").concat(y.y," ").concat(y.width," ").concat(y.height),ref:e}),R.createElement("title",null,c),R.createElement("desc",null,d),n)}),qK=["children","className"];function EE(){return EE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EE.apply(null,arguments)}function $K(t,e){if(t==null)return{};var n,r,i=HK(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function HK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fa=R.forwardRef((t,e)=>{var{children:n,className:r}=t,i=$K(t,qK),o=Vt("recharts-layer",r);return R.createElement("g",EE({className:o},Mn(i,!0),{ref:e}),n)}),zK=R.createContext(null);function Mt(t){return function(){return t}}const XL=Math.cos,Ym=Math.sin,Ni=Math.sqrt,Wm=Math.PI,sy=2*Wm,SE=Math.PI,wE=2*SE,tl=1e-6,GK=wE-tl;function QL(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function KK(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return QL;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class jK{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?QL:KK(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,u=this._y1,c=r-e,d=i-n,p=a-e,y=u-n,_=p*p+y*y;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(_>tl)if(!(Math.abs(y*c-d*p)>tl)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let E=r-a,w=i-u,b=c*c+d*d,C=E*E+w*w,P=Math.sqrt(b),N=Math.sqrt(_),D=o*Math.tan((SE-Math.acos((b+_-C)/(2*P*N)))/2),U=D/N,$=D/P;Math.abs(U-1)>tl&&this._append`L${e+U*p},${n+U*y}`,this._append`A${o},${o},0,0,${+(y*E>p*w)},${this._x1=e+$*c},${this._y1=n+$*d}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),d=e+u,p=n+c,y=1^a,_=a?i-o:o-i;this._x1===null?this._append`M${d},${p}`:(Math.abs(this._x1-d)>tl||Math.abs(this._y1-p)>tl)&&this._append`L${d},${p}`,r&&(_<0&&(_=_%wE+wE),_>GK?this._append`A${r},${r},0,1,${y},${e-u},${n-c}A${r},${r},0,1,${y},${this._x1=d},${this._y1=p}`:_>tl&&this._append`A${r},${r},0,${+(_>=SE)},${y},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Uw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new jK(e)}function Bw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ZL(t){this._context=t}ZL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ay(t){return new ZL(t)}function eV(t){return t[0]}function tV(t){return t[1]}function nV(t,e){var n=Mt(!0),r=null,i=ay,o=null,a=Uw(u);t=typeof t=="function"?t:t===void 0?eV:Mt(t),e=typeof e=="function"?e:e===void 0?tV:Mt(e);function u(c){var d,p=(c=Bw(c)).length,y,_=!1,E;for(r==null&&(o=i(E=a())),d=0;d<=p;++d)!(d<p&&n(y=c[d],d,c))===_&&((_=!_)?o.lineStart():o.lineEnd()),_&&o.point(+t(y,d,c),+e(y,d,c));if(E)return o=null,E+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Mt(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Mt(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Mt(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),u):r},u}function jp(t,e,n){var r=null,i=Mt(!0),o=null,a=ay,u=null,c=Uw(d);t=typeof t=="function"?t:t===void 0?eV:Mt(+t),e=typeof e=="function"?e:Mt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?tV:Mt(+n);function d(y){var _,E,w,b=(y=Bw(y)).length,C,P=!1,N,D=new Array(b),U=new Array(b);for(o==null&&(u=a(N=c())),_=0;_<=b;++_){if(!(_<b&&i(C=y[_],_,y))===P)if(P=!P)E=_,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=_-1;w>=E;--w)u.point(D[w],U[w]);u.lineEnd(),u.areaEnd()}P&&(D[_]=+t(C,_,y),U[_]=+e(C,_,y),u.point(r?+r(C,_,y):D[_],n?+n(C,_,y):U[_]))}if(N)return u=null,N+""||null}function p(){return nV().defined(i).curve(a).context(o)}return d.x=function(y){return arguments.length?(t=typeof y=="function"?y:Mt(+y),r=null,d):t},d.x0=function(y){return arguments.length?(t=typeof y=="function"?y:Mt(+y),d):t},d.x1=function(y){return arguments.length?(r=y==null?null:typeof y=="function"?y:Mt(+y),d):r},d.y=function(y){return arguments.length?(e=typeof y=="function"?y:Mt(+y),n=null,d):e},d.y0=function(y){return arguments.length?(e=typeof y=="function"?y:Mt(+y),d):e},d.y1=function(y){return arguments.length?(n=y==null?null:typeof y=="function"?y:Mt(+y),d):n},d.lineX0=d.lineY0=function(){return p().x(t).y(e)},d.lineY1=function(){return p().x(t).y(n)},d.lineX1=function(){return p().x(r).y(e)},d.defined=function(y){return arguments.length?(i=typeof y=="function"?y:Mt(!!y),d):i},d.curve=function(y){return arguments.length?(a=y,o!=null&&(u=a(o)),d):a},d.context=function(y){return arguments.length?(y==null?o=u=null:u=a(o=y),d):o},d}class rV{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function YK(t){return new rV(t,!0)}function WK(t){return new rV(t,!1)}const Fw={draw(t,e){const n=Ni(e/Wm);t.moveTo(n,0),t.arc(0,0,n,0,sy)}},JK={draw(t,e){const n=Ni(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},iV=Ni(1/3),XK=iV*2,QK={draw(t,e){const n=Ni(e/XK),r=n*iV;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},ZK={draw(t,e){const n=Ni(e),r=-n/2;t.rect(r,r,n,n)}},ej=.8908130915292852,oV=Ym(Wm/10)/Ym(7*Wm/10),tj=Ym(sy/10)*oV,nj=-XL(sy/10)*oV,rj={draw(t,e){const n=Ni(e*ej),r=tj*n,i=nj*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=sy*o/5,u=XL(a),c=Ym(a);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},m_=Ni(3),ij={draw(t,e){const n=-Ni(e/(m_*3));t.moveTo(0,n*2),t.lineTo(-m_*n,-n),t.lineTo(m_*n,-n),t.closePath()}},ti=-.5,ni=Ni(3)/2,bE=1/Ni(12),oj=(bE/2+1)*3,sj={draw(t,e){const n=Ni(e/oj),r=n/2,i=n*bE,o=r,a=n*bE+n,u=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,c),t.lineTo(ti*r-ni*i,ni*r+ti*i),t.lineTo(ti*o-ni*a,ni*o+ti*a),t.lineTo(ti*u-ni*c,ni*u+ti*c),t.lineTo(ti*r+ni*i,ti*i-ni*r),t.lineTo(ti*o+ni*a,ti*a-ni*o),t.lineTo(ti*u+ni*c,ti*c-ni*u),t.closePath()}};function aj(t,e){let n=null,r=Uw(i);t=typeof t=="function"?t:Mt(t||Fw),e=typeof e=="function"?e:Mt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Mt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Mt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Jm(){}function Xm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function sV(t){this._context=t}sV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lj(t){return new sV(t)}function aV(t){this._context=t}aV.prototype={areaStart:Jm,areaEnd:Jm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Xm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uj(t){return new aV(t)}function lV(t){this._context=t}lV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Xm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cj(t){return new lV(t)}function uV(t){this._context=t}uV.prototype={areaStart:Jm,areaEnd:Jm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function fj(t){return new uV(t)}function NI(t){return t<0?-1:1}function DI(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(NI(o)+NI(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function kI(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function g_(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,a-u*n,o,a)}function Qm(t){this._context=t}Qm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:g_(this,this._t0,kI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,g_(this,kI(this,n=DI(this,t,e)),n);break;default:g_(this,this._t0,n=DI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function cV(t){this._context=new fV(t)}(cV.prototype=Object.create(Qm.prototype)).point=function(t,e){Qm.prototype.point.call(this,e,t)};function fV(t){this._context=t}fV.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function dj(t){return new Qm(t)}function hj(t){return new cV(t)}function dV(t){this._context=t}dV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=OI(t),i=OI(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function OI(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function pj(t){return new dV(t)}function ly(t,e){this._context=t,this._t=e}ly.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function mj(t){return new ly(t,.5)}function gj(t){return new ly(t,0)}function yj(t){return new ly(t,1)}function ec(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,u=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function AE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function vj(t,e){return t[e]}function _j(t){const e=[];return e.key=t,e}function Tj(){var t=Mt([]),e=AE,n=ec,r=vj;function i(o){var a=Array.from(t.apply(this,arguments),_j),u,c=a.length,d=-1,p;for(const y of o)for(u=0,++d;u<c;++u)(a[u][d]=[0,+r(y,a[u].key,d,o)]).data=y;for(u=0,p=Bw(e(a));u<c;++u)a[p[u]].index=u;return n(a,p),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Mt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Mt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?AE:typeof o=="function"?o:Mt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??ec,i):n},i}function Ej(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}ec(t,e)}}function Sj(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,u=0;a<i;++a)u+=t[a][n][1]||0;r[n][1]+=r[n][0]=-u/2}ec(t,e)}}function wj(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var u=0,c=0,d=0;u<a;++u){for(var p=t[e[u]],y=p[r][1]||0,_=p[r-1][1]||0,E=(y-_)/2,w=0;w<u;++w){var b=t[e[w]],C=b[r][1]||0,P=b[r-1][1]||0;E+=C-P}c+=y,d+=E*y}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,ec(t,e)}}var bj=["type","size","sizeType"];function CE(){return CE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CE.apply(null,arguments)}function LI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(n),!0).forEach(function(r){Aj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aj(t,e,n){return(e=Cj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cj(t){var e=xj(t,"string");return typeof e=="symbol"?e:e+""}function xj(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rj(t,e){if(t==null)return{};var n,r,i=Ij(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ij(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hV={symbolCircle:Fw,symbolCross:JK,symbolDiamond:QK,symbolSquare:ZK,symbolStar:rj,symbolTriangle:ij,symbolWye:sj},Pj=Math.PI/180,Mj=t=>{var e="symbol".concat(eh(t));return hV[e]||Fw},Nj=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Pj;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Dj=(t,e)=>{hV["symbol".concat(eh(t))]=e},pV=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Rj(t,bj),o=VI(VI({},i),{},{type:e,size:n,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var u=()=>{var _=Mj(a),E=aj().type(_).size(Nj(n,r,a));return E()},{className:c,cx:d,cy:p}=o,y=Mn(o,!0);return d===+d&&p===+p&&n===+n?R.createElement("path",CE({},y,{className:Vt("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(p,")"),d:u()})):null};pV.registerSymbol=Dj;var y_={},v_={},UI;function kj(){return UI||(UI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const a=n[o],u=r(a);i.has(u)||i.set(u,a)}return Array.from(i.values())}t.uniqBy=e})(v_)),v_}var __={},BI;function mV(){return BI||(BI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(__)),__}var T_={},E_={},S_={},FI;function Oj(){return FI||(FI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(S_)),S_}var qI;function qw(){return qI||(qI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Oj();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(E_)),E_}var w_={},$I;function Lj(){return $I||($I=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(w_)),w_}var HI;function Vj(){return HI||(HI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qw(),n=Lj();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(T_)),T_}var b_={},A_={},zI;function Uj(){return zI||(zI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ow();function n(r){return function(i){return e.get(i,r)}}t.property=n})(A_)),A_}var C_={},x_={},R_={},I_={},GI;function gV(){return GI||(GI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(I_)),I_}var P_={},KI;function yV(){return KI||(KI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(P_)),P_}var M_={},jI;function vV(){return jI||(jI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(M_)),M_}var YI;function Bj(){return YI||(YI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$w(),n=gV(),r=yV(),i=vV();function o(y,_,E){return typeof E!="function"?e.isMatch(y,_):a(y,_,function w(b,C,P,N,D,U){const $=E(b,C,P,N,D,U);return $!==void 0?!!$:a(b,C,w,U)},new Map)}function a(y,_,E,w){if(_===y)return!0;switch(typeof _){case"object":return u(y,_,E,w);case"function":return Object.keys(_).length>0?a(y,{..._},E,w):i.eq(y,_);default:return n.isObject(y)?typeof _=="string"?_==="":!0:i.eq(y,_)}}function u(y,_,E,w){if(_==null)return!0;if(Array.isArray(_))return d(y,_,E,w);if(_ instanceof Map)return c(y,_,E,w);if(_ instanceof Set)return p(y,_,E,w);const b=Object.keys(_);if(y==null)return b.length===0;if(b.length===0)return!0;if(w&&w.has(_))return w.get(_)===y;w&&w.set(_,y);try{for(let C=0;C<b.length;C++){const P=b[C];if(!r.isPrimitive(y)&&!(P in y)||_[P]===void 0&&y[P]!==void 0||_[P]===null&&y[P]!==null||!E(y[P],_[P],P,y,_,w))return!1}return!0}finally{w&&w.delete(_)}}function c(y,_,E,w){if(_.size===0)return!0;if(!(y instanceof Map))return!1;for(const[b,C]of _.entries()){const P=y.get(b);if(E(P,C,b,y,_,w)===!1)return!1}return!0}function d(y,_,E,w){if(_.length===0)return!0;if(!Array.isArray(y))return!1;const b=new Set;for(let C=0;C<_.length;C++){const P=_[C];let N=!1;for(let D=0;D<y.length;D++){if(b.has(D))continue;const U=y[D];let $=!1;if(E(U,P,C,y,_,w)&&($=!0),$){b.add(D),N=!0;break}}if(!N)return!1}return!0}function p(y,_,E,w){return _.size===0?!0:y instanceof Set?d([...y],[..._],E,w):!1}t.isMatchWith=o,t.isSetMatch=p})(R_)),R_}var WI;function $w(){return WI||(WI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bj();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(x_)),x_}var N_={},D_={},k_={},JI;function Fj(){return JI||(JI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(k_)),k_}var O_={},XI;function _V(){return XI||(XI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(O_)),O_}var L_={},QI;function TV(){return QI||(QI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",a="[object Symbol]",u="[object Date]",c="[object Map]",d="[object Set]",p="[object Array]",y="[object Function]",_="[object ArrayBuffer]",E="[object Object]",w="[object Error]",b="[object DataView]",C="[object Uint8Array]",P="[object Uint8ClampedArray]",N="[object Uint16Array]",D="[object Uint32Array]",U="[object BigUint64Array]",$="[object Int8Array]",G="[object Int16Array]",k="[object Int32Array]",O="[object BigInt64Array]",M="[object Float32Array]",q="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=_,t.arrayTag=p,t.bigInt64ArrayTag=O,t.bigUint64ArrayTag=U,t.booleanTag=i,t.dataViewTag=b,t.dateTag=u,t.errorTag=w,t.float32ArrayTag=M,t.float64ArrayTag=q,t.functionTag=y,t.int16ArrayTag=G,t.int32ArrayTag=k,t.int8ArrayTag=$,t.mapTag=c,t.numberTag=r,t.objectTag=E,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=N,t.uint32ArrayTag=D,t.uint8ArrayTag=C,t.uint8ClampedArrayTag=P})(L_)),L_}var V_={},ZI;function qj(){return ZI||(ZI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(V_)),V_}var eP;function EV(){return eP||(eP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fj(),n=_V(),r=TV(),i=yV(),o=qj();function a(p,y){return u(p,void 0,p,new Map,y)}function u(p,y,_,E=new Map,w=void 0){const b=w==null?void 0:w(p,y,_,E);if(b!==void 0)return b;if(i.isPrimitive(p))return p;if(E.has(p))return E.get(p);if(Array.isArray(p)){const C=new Array(p.length);E.set(p,C);for(let P=0;P<p.length;P++)C[P]=u(p[P],P,_,E,w);return Object.hasOwn(p,"index")&&(C.index=p.index),Object.hasOwn(p,"input")&&(C.input=p.input),C}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const C=new RegExp(p.source,p.flags);return C.lastIndex=p.lastIndex,C}if(p instanceof Map){const C=new Map;E.set(p,C);for(const[P,N]of p)C.set(P,u(N,P,_,E,w));return C}if(p instanceof Set){const C=new Set;E.set(p,C);for(const P of p)C.add(u(P,void 0,_,E,w));return C}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(o.isTypedArray(p)){const C=new(Object.getPrototypeOf(p)).constructor(p.length);E.set(p,C);for(let P=0;P<p.length;P++)C[P]=u(p[P],P,_,E,w);return C}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const C=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return E.set(p,C),c(C,p,_,E,w),C}if(typeof File<"u"&&p instanceof File){const C=new File([p],p.name,{type:p.type});return E.set(p,C),c(C,p,_,E,w),C}if(p instanceof Blob){const C=new Blob([p],{type:p.type});return E.set(p,C),c(C,p,_,E,w),C}if(p instanceof Error){const C=new p.constructor;return E.set(p,C),C.message=p.message,C.name=p.name,C.stack=p.stack,C.cause=p.cause,c(C,p,_,E,w),C}if(typeof p=="object"&&d(p)){const C=Object.create(Object.getPrototypeOf(p));return E.set(p,C),c(C,p,_,E,w),C}return p}function c(p,y,_=p,E,w){const b=[...Object.keys(y),...e.getSymbols(y)];for(let C=0;C<b.length;C++){const P=b[C],N=Object.getOwnPropertyDescriptor(p,P);(N==null||N.writable)&&(p[P]=u(y[P],P,_,E,w))}}function d(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=u,t.copyProperties=c})(D_)),D_}var tP;function $j(){return tP||(tP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EV();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(N_)),N_}var nP;function Hj(){return nP||(nP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$w(),n=$j();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(C_)),C_}var U_={},B_={},F_={},rP;function zj(){return rP||(rP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EV(),n=TV();function r(i,o){return e.cloneDeepWith(i,(a,u,c,d)=>{const p=o==null?void 0:o(a,u,c,d);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const y=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(y,i),y}case n.argumentsTag:{const y={};return e.copyProperties(y,i),y.length=i.length,y[Symbol.iterator]=i[Symbol.iterator],y}default:return}})}t.cloneDeepWith=r})(F_)),F_}var iP;function Gj(){return iP||(iP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zj();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(B_)),B_}var q_={},$_={},oP;function SV(){return oP||(oP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})($_)),$_}var H_={},sP;function Kj(){return sP||(sP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_V();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(H_)),H_}var aP;function jj(){return aP||(aP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GL(),n=SV(),r=Kj(),i=kw();function o(a,u){let c;if(Array.isArray(u)?c=u:typeof u=="string"&&e.isDeepKey(u)&&(a==null?void 0:a[u])==null?c=i.toPath(u):c=[u],c.length===0)return!1;let d=a;for(let p=0;p<c.length;p++){const y=c[p];if((d==null||!Object.hasOwn(d,y))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(y)&&y<d.length))return!1;d=d[y]}return!0}t.has=o})(q_)),q_}var lP;function Yj(){return lP||(lP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$w(),n=KL(),r=Gj(),i=Ow(),o=jj();function a(u,c){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return c=r.cloneDeep(c),function(d){const p=i.get(d,u);return p===void 0?o.has(d,u):c===void 0?p===void 0:e.isMatch(p,c)}}t.matchesProperty=a})(U_)),U_}var uP;function Wj(){return uP||(uP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mV(),n=Uj(),r=Hj(),i=Yj();function o(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=o})(b_)),b_}var cP;function Jj(){return cP||(cP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kj(),n=mV(),r=Vj(),i=Wj();function o(a,u=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(u)):[]}t.uniqBy=o})(y_)),y_}var z_,fP;function Xj(){return fP||(fP=1,z_=Jj().uniqBy),z_}var Qj=Xj();const dP=co(Qj);function Zj(t,e,n){return e===!0?dP(t,n):typeof e=="function"?dP(t,e):t}var G_={exports:{}},K_={},j_={exports:{}},Y_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hP;function eY(){if(hP)return Y_;hP=1;var t=uc();function e(y,_){return y===_&&(y!==0||1/y===1/_)||y!==y&&_!==_}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,a=t.useDebugValue;function u(y,_){var E=_(),w=r({inst:{value:E,getSnapshot:_}}),b=w[0].inst,C=w[1];return o(function(){b.value=E,b.getSnapshot=_,c(b)&&C({inst:b})},[y,E,_]),i(function(){return c(b)&&C({inst:b}),y(function(){c(b)&&C({inst:b})})},[y]),a(E),E}function c(y){var _=y.getSnapshot;y=y.value;try{var E=_();return!n(y,E)}catch{return!0}}function d(y,_){return _()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return Y_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Y_}var pP;function tY(){return pP||(pP=1,j_.exports=eY()),j_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mP;function nY(){if(mP)return K_;mP=1;var t=uc(),e=tY();function n(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,a=t.useEffect,u=t.useMemo,c=t.useDebugValue;return K_.useSyncExternalStoreWithSelector=function(d,p,y,_,E){var w=o(null);if(w.current===null){var b={hasValue:!1,value:null};w.current=b}else b=w.current;w=u(function(){function P(G){if(!N){if(N=!0,D=G,G=_(G),E!==void 0&&b.hasValue){var k=b.value;if(E(k,G))return U=k}return U=G}if(k=U,r(D,G))return k;var O=_(G);return E!==void 0&&E(k,O)?(D=G,k):(D=G,U=O)}var N=!1,D,U,$=y===void 0?null:y;return[function(){return P(p())},$===null?void 0:function(){return P($())}]},[p,y,_,E]);var C=i(d,w[0],w[1]);return a(function(){b.hasValue=!0,b.value=C},[C]),c(C),C},K_}var gP;function rY(){return gP||(gP=1,G_.exports=nY()),G_.exports}var iY=rY(),Hw=R.createContext(null),oY=t=>t,Dn=()=>{var t=R.useContext(Hw);return t?t.store.dispatch:oY},bm=()=>{},sY=()=>bm,aY=(t,e)=>t===e;function Ve(t){var e=R.useContext(Hw);return iY.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:sY,e?e.store.getState:bm,e?e.store.getState:bm,e?t:bm,aY)}function lY(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function uY(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function cY(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var yP=t=>Array.isArray(t)?t:[t];function fY(t){const e=Array.isArray(t[0])?t[0]:t;return cY(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function dY(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var hY=class{constructor(t){this.value=t}deref(){return this.value}},pY=typeof WeakRef<"u"?WeakRef:hY,mY=0,vP=1;function Yp(){return{s:mY,v:void 0,o:null,p:null}}function wV(t,e={}){let n=Yp();const{resultEqualityCheck:r}=e;let i,o=0;function a(){var y;let u=n;const{length:c}=arguments;for(let _=0,E=c;_<E;_++){const w=arguments[_];if(typeof w=="function"||typeof w=="object"&&w!==null){let b=u.o;b===null&&(u.o=b=new WeakMap);const C=b.get(w);C===void 0?(u=Yp(),b.set(w,u)):u=C}else{let b=u.p;b===null&&(u.p=b=new Map);const C=b.get(w);C===void 0?(u=Yp(),b.set(w,u)):u=C}}const d=u;let p;if(u.s===vP)p=u.v;else if(p=t.apply(null,arguments),o++,r){const _=((y=i==null?void 0:i.deref)==null?void 0:y.call(i))??i;_!=null&&r(_,p)&&(p=_,o!==0&&o--),i=typeof p=="object"&&p!==null||typeof p=="function"?new pY(p):p}return d.s=vP,d.v=p,p}return a.clearCache=()=>{n=Yp(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function gY(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,a=0,u,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),lY(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const p={...n,...c},{memoize:y,memoizeOptions:_=[],argsMemoize:E=wV,argsMemoizeOptions:w=[]}=p,b=yP(_),C=yP(w),P=fY(i),N=y(function(){return o++,d.apply(null,arguments)},...b),D=E(function(){a++;const $=dY(P,arguments);return u=N.apply(null,$),u},...C);return Object.assign(D,{resultFunc:d,memoizedResultFunc:N,dependencies:P,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:y,argsMemoize:E})};return Object.assign(r,{withTypes:()=>r}),r}var re=gY(wV),yY=Object.assign((t,e=re)=>{uY(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((a,u,c)=>(a[n[c]]=u,a),{}))},{withTypes:()=>yY}),W_={},J_={},X_={},_P;function vY(){return _P||(_P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const a=e(r),u=e(i);if(a===u&&a===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-a:a-u}return 0};t.compareValues=n})(X_)),X_}var Q_={},Z_={},TP;function bV(){return TP||(TP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Z_)),Z_}var EP;function _Y(){return EP||(EP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bV(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||a!=null&&Object.hasOwn(a,o)}t.isKey=i})(Q_)),Q_}var SP;function TY(){return SP||(SP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vY(),n=_Y(),r=kw();function i(o,a,u,c){if(o==null)return[];u=c?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(E=>String(E));const d=(E,w)=>{let b=E;for(let C=0;C<w.length&&b!=null;++C)b=b[w[C]];return b},p=(E,w)=>w==null||E==null?w:typeof E=="object"&&"key"in E?Object.hasOwn(w,E.key)?w[E.key]:d(w,E.path):typeof E=="function"?E(w):Array.isArray(E)?d(w,E):typeof w=="object"?w[E]:w,y=a.map(E=>(Array.isArray(E)&&E.length===1&&(E=E[0]),E==null||typeof E=="function"||Array.isArray(E)||n.isKey(E)?E:{key:E,path:r.toPath(E)}));return o.map(E=>({original:E,criteria:y.map(w=>p(w,E))})).slice().sort((E,w)=>{for(let b=0;b<y.length;b++){const C=e.compareValues(E.criteria[b],w.criteria[b],u[b]);if(C!==0)return C}return 0}).map(E=>E.original)}t.orderBy=i})(J_)),J_}var eT={},wP;function EY(){return wP||(wP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),a=(u,c)=>{for(let d=0;d<u.length;d++){const p=u[d];Array.isArray(p)&&c<o?a(p,c+1):i.push(p)}};return a(n,0),i}t.flatten=e})(eT)),eT}var tT={},bP;function AV(){return bP||(bP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SV(),n=qw(),r=gV(),i=vV();function o(a,u,c){return r.isObject(c)&&(typeof u=="number"&&n.isArrayLike(c)&&e.isIndex(u)&&u<c.length||typeof u=="string"&&u in c)?i.eq(c[u],a):!1}t.isIterateeCall=o})(tT)),tT}var AP;function SY(){return AP||(AP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TY(),n=EY(),r=AV();function i(o,...a){const u=a.length;return u>1&&r.isIterateeCall(o,a[0],a[1])?a=[]:u>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(o,n.flatten(a),["asc"])}t.sortBy=i})(W_)),W_}var nT,CP;function wY(){return CP||(CP=1,nT=SY().sortBy),nT}var bY=wY();const uy=co(bY);var CV=t=>t.legend.settings,AY=t=>t.legend.size,CY=t=>t.legend.payload;re([CY,CV],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?uy(r,n):r});var Wp=1;function xY(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=R.useState({height:0,left:0,top:0,width:0}),r=R.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),a={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(a.height-e.height)>Wp||Math.abs(a.left-e.left)>Wp||Math.abs(a.top-e.top)>Wp||Math.abs(a.width-e.width)>Wp)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function $n(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var RY=typeof Symbol=="function"&&Symbol.observable||"@@observable",xP=RY,rT=()=>Math.random().toString(36).substring(7).split("").join("."),IY={INIT:`@@redux/INIT${rT()}`,REPLACE:`@@redux/REPLACE${rT()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${rT()}`},Zm=IY;function zw(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function xV(t,e,n){if(typeof t!="function")throw new Error($n(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error($n(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error($n(1));return n(xV)(t,e)}let r=t,i=e,o=new Map,a=o,u=0,c=!1;function d(){a===o&&(a=new Map,o.forEach((C,P)=>{a.set(P,C)}))}function p(){if(c)throw new Error($n(3));return i}function y(C){if(typeof C!="function")throw new Error($n(4));if(c)throw new Error($n(5));let P=!0;d();const N=u++;return a.set(N,C),function(){if(P){if(c)throw new Error($n(6));P=!1,d(),a.delete(N),o=null}}}function _(C){if(!zw(C))throw new Error($n(7));if(typeof C.type>"u")throw new Error($n(8));if(typeof C.type!="string")throw new Error($n(17));if(c)throw new Error($n(9));try{c=!0,i=r(i,C)}finally{c=!1}return(o=a).forEach(N=>{N()}),C}function E(C){if(typeof C!="function")throw new Error($n(10));r=C,_({type:Zm.REPLACE})}function w(){const C=y;return{subscribe(P){if(typeof P!="object"||P===null)throw new Error($n(11));function N(){const U=P;U.next&&U.next(p())}return N(),{unsubscribe:C(N)}},[xP](){return this}}}return _({type:Zm.INIT}),{dispatch:_,subscribe:y,getState:p,replaceReducer:E,[xP]:w}}function PY(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Zm.INIT})>"u")throw new Error($n(12));if(typeof n(void 0,{type:Zm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error($n(13))})}function RV(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const a=e[o];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{PY(n)}catch(o){i=o}return function(a={},u){if(i)throw i;let c=!1;const d={};for(let p=0;p<r.length;p++){const y=r[p],_=n[y],E=a[y],w=_(E,u);if(typeof w>"u")throw u&&u.type,new Error($n(14));d[y]=w,c=c||w!==E}return c=c||r.length!==Object.keys(a).length,c?d:a}}function eg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function MY(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error($n(15))};const a={getState:i.getState,dispatch:(c,...d)=>o(c,...d)},u=t.map(c=>c(a));return o=eg(...u)(i.dispatch),{...i,dispatch:o}}}function IV(t){return zw(t)&&"type"in t&&typeof t.type=="string"}var PV=Symbol.for("immer-nothing"),RP=Symbol.for("immer-draftable"),Fr=Symbol.for("immer-state");function Si(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var tc=Object.getPrototypeOf;function Sl(t){return!!t&&!!t[Fr]}function ns(t){var e;return t?MV(t)||Array.isArray(t)||!!t[RP]||!!((e=t.constructor)!=null&&e[RP])||th(t)||fy(t):!1}var NY=Object.prototype.constructor.toString();function MV(t){if(!t||typeof t!="object")return!1;const e=tc(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===NY}function tg(t,e){cy(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function cy(t){const e=t[Fr];return e?e.type_:Array.isArray(t)?1:th(t)?2:fy(t)?3:0}function xE(t,e){return cy(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function NV(t,e,n){const r=cy(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function DY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function th(t){return t instanceof Map}function fy(t){return t instanceof Set}function nl(t){return t.copy_||t.base_}function RE(t,e){if(th(t))return new Map(t);if(fy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=MV(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Fr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],u=r[a];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[a]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[a]})}return Object.create(tc(t),r)}else{const r=tc(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function Gw(t,e=!1){return dy(t)||Sl(t)||!ns(t)||(cy(t)>1&&Object.defineProperties(t,{set:{value:Jp},add:{value:Jp},clear:{value:Jp},delete:{value:Jp}}),Object.freeze(t),e&&Object.values(t).forEach(n=>Gw(n,!0))),t}function Jp(){Si(2)}function dy(t){return Object.isFrozen(t)}var kY={};function wl(t){const e=kY[t];return e||Si(0,t),e}var Id;function DV(){return Id}function OY(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function IP(t,e){e&&(wl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function IE(t){PE(t),t.drafts_.forEach(LY),t.drafts_=null}function PE(t){t===Id&&(Id=t.parent_)}function PP(t){return Id=OY(Id,t)}function LY(t){const e=t[Fr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function MP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Fr].modified_&&(IE(e),Si(4)),ns(t)&&(t=ng(e,t),e.parent_||rg(e,t)),e.patches_&&wl("Patches").generateReplacementPatches_(n[Fr].base_,t,e.patches_,e.inversePatches_)):t=ng(e,n,[]),IE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==PV?t:void 0}function ng(t,e,n){if(dy(e))return e;const r=e[Fr];if(!r)return tg(e,(i,o)=>NP(t,r,e,i,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return rg(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,a=!1;r.type_===3&&(o=new Set(i),i.clear(),a=!0),tg(o,(u,c)=>NP(t,r,i,u,c,n,a)),rg(t,i,!1),n&&t.patches_&&wl("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function NP(t,e,n,r,i,o,a){if(Sl(i)){const u=o&&e&&e.type_!==3&&!xE(e.assigned_,r)?o.concat(r):void 0,c=ng(t,i,u);if(NV(n,r,c),Sl(c))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(ns(i)&&!dy(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;ng(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(th(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&rg(t,i)}}function rg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Gw(e,n)}function VY(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:DV(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Kw;n&&(i=[r],o=Pd);const{revoke:a,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=a,u}var Kw={get(t,e){if(e===Fr)return t;const n=nl(t);if(!xE(n,e))return UY(t,n,e);const r=n[e];return t.finalized_||!ns(r)?r:r===iT(t.base_,e)?(oT(t),t.copy_[e]=NE(r,t)):r},has(t,e){return e in nl(t)},ownKeys(t){return Reflect.ownKeys(nl(t))},set(t,e,n){const r=kV(nl(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=iT(nl(t),e),o=i==null?void 0:i[Fr];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(DY(n,i)&&(n!==void 0||xE(t.base_,e)))return!0;oT(t),ME(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return iT(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,oT(t),ME(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=nl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Si(11)},getPrototypeOf(t){return tc(t.base_)},setPrototypeOf(){Si(12)}},Pd={};tg(Kw,(t,e)=>{Pd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Pd.deleteProperty=function(t,e){return Pd.set.call(this,t,e,void 0)};Pd.set=function(t,e,n){return Kw.set.call(this,t[0],e,n,t[0])};function iT(t,e){const n=t[Fr];return(n?nl(n):t)[e]}function UY(t,e,n){var i;const r=kV(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function kV(t,e){if(!(e in t))return;let n=tc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=tc(n)}}function ME(t){t.modified_||(t.modified_=!0,t.parent_&&ME(t.parent_))}function oT(t){t.copy_||(t.copy_=RE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var BY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const a=this;return function(c=o,...d){return a.produce(c,p=>n.call(this,p,...d))}}typeof n!="function"&&Si(6),r!==void 0&&typeof r!="function"&&Si(7);let i;if(ns(e)){const o=PP(this),a=NE(e,void 0);let u=!0;try{i=n(a),u=!1}finally{u?IE(o):PE(o)}return IP(o,r),MP(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===PV&&(i=void 0),this.autoFreeze_&&Gw(i,!0),r){const o=[],a=[];wl("Patches").generateReplacementPatches_(e,i,o,a),r(o,a)}return i}else Si(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...u)=>this.produceWithPatches(a,c=>e(c,...u));let r,i;return[this.produce(e,n,(a,u)=>{r=a,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ns(t)||Si(8),Sl(t)&&(t=Yo(t));const e=PP(this),n=NE(t,void 0);return n[Fr].isManual_=!0,PE(e),n}finishDraft(t,e){const n=t&&t[Fr];(!n||!n.isManual_)&&Si(9);const{scope_:r}=n;return IP(r,e),MP(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=wl("Patches").applyPatches_;return Sl(t)?r(t,e):this.produce(t,i=>r(i,e))}};function NE(t,e){const n=th(t)?wl("MapSet").proxyMap_(t,e):fy(t)?wl("MapSet").proxySet_(t,e):VY(t,e);return(e?e.scope_:DV()).drafts_.push(n),n}function Yo(t){return Sl(t)||Si(10,t),OV(t)}function OV(t){if(!ns(t)||dy(t))return t;const e=t[Fr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=RE(t,e.scope_.immer_.useStrictShallowCopy_)}else n=RE(t,!0);return tg(n,(r,i)=>{NV(n,r,OV(i))}),e&&(e.finalized_=!1),n}var FY=new BY,LV=FY.produce;function VV(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var qY=VV(),$Y=VV,HY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?eg:eg.apply(null,arguments)};function fi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Br(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>IV(r)&&r.type===t,n}var UV=class rd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,rd.prototype)}static get[Symbol.species](){return rd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new rd(...e[0].concat(this)):new rd(...e.concat(this))}};function DP(t){return ns(t)?LV(t,()=>{}):t}function Xp(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function zY(t){return typeof t=="boolean"}var GY=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let a=new UV;return n&&(zY(n)?a.push(qY):a.push($Y(n.extraArgument))),a},KY="RTK_autoBatch",kP=t=>e=>{setTimeout(e,t)},jY=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,a=!1;const u=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:kP(10):t.type==="callback"?t.queueNotification:kP(t.timeout),d=()=>{a=!1,o&&(o=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const y=()=>i&&p(),_=r.subscribe(y);return u.add(p),()=>{_(),u.delete(p)}},dispatch(p){var y;try{return i=!((y=p==null?void 0:p.meta)!=null&&y[KY]),o=!i,o&&(a||(a=!0,c(d))),r.dispatch(p)}finally{i=!0}}})},YY=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new UV(t);return r&&i.push(jY(typeof r=="object"?r:void 0)),i};function WY(t){const e=GY(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:a=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(zw(n))u=RV(n);else throw new Error(Br(1));let c;typeof r=="function"?c=r(e):c=e();let d=eg;i&&(d=HY({trace:!1,...typeof i=="object"&&i}));const p=MY(...c),y=YY(p);let _=typeof a=="function"?a(y):y();const E=d(..._);return xV(u,o,E)}function BV(t){const e={},n=[];let r;const i={addCase(o,a){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Br(28));if(u in e)throw new Error(Br(29));return e[u]=a,i},addAsyncThunk(o,a){return a.pending&&(e[o.pending.type]=a.pending),a.rejected&&(e[o.rejected.type]=a.rejected),a.fulfilled&&(e[o.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:o.settled,reducer:a.settled}),i},addMatcher(o,a){return n.push({matcher:o,reducer:a}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function JY(t){return typeof t=="function"}function XY(t,e){let[n,r,i]=BV(e),o;if(JY(t))o=()=>DP(t());else{const u=DP(t);o=()=>u}function a(u=o(),c){let d=[n[c.type],...r.filter(({matcher:p})=>p(c)).map(({reducer:p})=>p)];return d.filter(p=>!!p).length===0&&(d=[i]),d.reduce((p,y)=>{if(y)if(Sl(p)){const E=y(p,c);return E===void 0?p:E}else{if(ns(p))return LV(p,_=>y(_,c));{const _=y(p,c);if(_===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return _}}return p},u)}return a.getInitialState=o,a}var QY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ZY=(t=21)=>{let e="",n=t;for(;n--;)e+=QY[Math.random()*64|0];return e},eW=Symbol.for("rtk-slice-createasyncthunk");function tW(t,e){return`${t}/${e}`}function nW({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[eW];return function(i){const{name:o,reducerPath:a=o}=i;if(!o)throw new Error(Br(11));const u=(typeof i.reducers=="function"?i.reducers(iW()):i.reducers)||{},c=Object.keys(u),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(U,$){const G=typeof U=="string"?U:U.type;if(!G)throw new Error(Br(12));if(G in d.sliceCaseReducersByType)throw new Error(Br(13));return d.sliceCaseReducersByType[G]=$,p},addMatcher(U,$){return d.sliceMatchers.push({matcher:U,reducer:$}),p},exposeAction(U,$){return d.actionCreators[U]=$,p},exposeCaseReducer(U,$){return d.sliceCaseReducersByName[U]=$,p}};c.forEach(U=>{const $=u[U],G={reducerName:U,type:tW(o,U),createNotation:typeof i.reducers=="function"};sW($)?lW(G,$,p,e):oW(G,$,p)});function y(){const[U={},$=[],G=void 0]=typeof i.extraReducers=="function"?BV(i.extraReducers):[i.extraReducers],k={...U,...d.sliceCaseReducersByType};return XY(i.initialState,O=>{for(let M in k)O.addCase(M,k[M]);for(let M of d.sliceMatchers)O.addMatcher(M.matcher,M.reducer);for(let M of $)O.addMatcher(M.matcher,M.reducer);G&&O.addDefaultCase(G)})}const _=U=>U,E=new Map,w=new WeakMap;let b;function C(U,$){return b||(b=y()),b(U,$)}function P(){return b||(b=y()),b.getInitialState()}function N(U,$=!1){function G(O){let M=O[U];return typeof M>"u"&&$&&(M=Xp(w,G,P)),M}function k(O=_){const M=Xp(E,$,()=>new WeakMap);return Xp(M,O,()=>{const q={};for(const[F,z]of Object.entries(i.selectors??{}))q[F]=rW(z,O,()=>Xp(w,O,P),$);return q})}return{reducerPath:U,getSelectors:k,get selectors(){return k(G)},selectSlice:G}}const D={name:o,reducer:C,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:P,...N(a),injectInto(U,{reducerPath:$,...G}={}){const k=$??a;return U.inject({reducerPath:k,reducer:C},G),{...D,...N(k,!0)}}};return D}}function rW(t,e,n,r){function i(o,...a){let u=e(o);return typeof u>"u"&&r&&(u=n()),t(u,...a)}return i.unwrapped=t,i}var $r=nW();function iW(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function oW({type:t,reducerName:e,createNotation:n},r,i){let o,a;if("reducer"in r){if(n&&!aW(r))throw new Error(Br(17));o=r.reducer,a=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,a?fi(t,a):fi(t))}function sW(t){return t._reducerDefinitionType==="asyncThunk"}function aW(t){return t._reducerDefinitionType==="reducerWithPrepare"}function lW({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Br(18));const{payloadCreator:o,fulfilled:a,pending:u,rejected:c,settled:d,options:p}=n,y=i(t,o,p);r.exposeAction(e,y),a&&r.addCase(y.fulfilled,a),u&&r.addCase(y.pending,u),c&&r.addCase(y.rejected,c),d&&r.addMatcher(y.settled,d),r.exposeCaseReducer(e,{fulfilled:a||Qp,pending:u||Qp,rejected:c||Qp,settled:d||Qp})}function Qp(){}var uW="task",FV="listener",qV="completed",jw="cancelled",cW=`task-${jw}`,fW=`task-${qV}`,DE=`${FV}-${jw}`,dW=`${FV}-${qV}`,hy=class{constructor(t){L0(this,"name","TaskAbortError");L0(this,"message");this.code=t,this.message=`${uW} ${jw} (reason: ${t})`}},Yw=(t,e)=>{if(typeof t!="function")throw new TypeError(Br(32))},ig=()=>{},$V=(t,e=ig)=>(t.catch(e),t),HV=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),dl=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},hl=t=>{if(t.aborted){const{reason:e}=t;throw new hy(e)}};function zV(t,e){let n=ig;return new Promise((r,i)=>{const o=()=>i(new hy(t.reason));if(t.aborted){o();return}n=HV(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=ig})}var hW=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof hy?"cancelled":"rejected",error:n}}finally{e==null||e()}},og=t=>e=>$V(zV(t,e).then(n=>(hl(t),n))),GV=t=>{const e=og(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Fu}=Object,OP={},py="listenerMiddleware",pW=(t,e)=>{const n=r=>HV(t,()=>dl(r,t.reason));return(r,i)=>{Yw(r);const o=new AbortController;n(o);const a=hW(async()=>{hl(t),hl(o.signal);const u=await r({pause:og(o.signal),delay:GV(o.signal),signal:o.signal});return hl(o.signal),u},()=>dl(o,fW));return i!=null&&i.autoJoin&&e.push(a.catch(ig)),{result:og(t)(a),cancel(){dl(o,cW)}}}},mW=(t,e)=>{const n=async(r,i)=>{hl(e);let o=()=>{};const u=[new Promise((c,d)=>{let p=t({predicate:r,effect:(y,_)=>{_.unsubscribe(),c([y,_.getState(),_.getOriginalState()])}});o=()=>{p(),d()}})];i!=null&&u.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await zV(e,Promise.race(u));return hl(e),c}finally{o()}};return(r,i)=>$V(n(r,i))},KV=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=fi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Br(21));return Yw(o),{predicate:i,type:e,effect:o}},jV=Fu(t=>{const{type:e,predicate:n,effect:r}=KV(t);return{id:ZY(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Br(22))}}},{withTypes:()=>jV}),LP=(t,e)=>{const{type:n,effect:r,predicate:i}=KV(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},kE=t=>{t.pending.forEach(e=>{dl(e,DE)})},gW=t=>()=>{t.forEach(kE),t.clear()},VP=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},YV=Fu(fi(`${py}/add`),{withTypes:()=>YV}),yW=fi(`${py}/removeAll`),WV=Fu(fi(`${py}/remove`),{withTypes:()=>WV}),vW=(...t)=>{console.error(`${py}/error`,...t)},nh=(t={})=>{const e=new Map,{extra:n,onError:r=vW}=t;Yw(r);const i=p=>(p.unsubscribe=()=>e.delete(p.id),e.set(p.id,p),y=>{p.unsubscribe(),y!=null&&y.cancelActive&&kE(p)}),o=p=>{const y=LP(e,p)??jV(p);return i(y)};Fu(o,{withTypes:()=>o});const a=p=>{const y=LP(e,p);return y&&(y.unsubscribe(),p.cancelActive&&kE(y)),!!y};Fu(a,{withTypes:()=>a});const u=async(p,y,_,E)=>{const w=new AbortController,b=mW(o,w.signal),C=[];try{p.pending.add(w),await Promise.resolve(p.effect(y,Fu({},_,{getOriginalState:E,condition:(P,N)=>b(P,N).then(Boolean),take:b,delay:GV(w.signal),pause:og(w.signal),extra:n,signal:w.signal,fork:pW(w.signal,C),unsubscribe:p.unsubscribe,subscribe:()=>{e.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((P,N,D)=>{P!==w&&(dl(P,DE),D.delete(P))})},cancel:()=>{dl(w,DE),p.pending.delete(w)},throwIfCancelled:()=>{hl(w.signal)}})))}catch(P){P instanceof hy||VP(r,P,{raisedBy:"effect"})}finally{await Promise.all(C),dl(w,dW),p.pending.delete(w)}},c=gW(e);return{middleware:p=>y=>_=>{if(!IV(_))return y(_);if(YV.match(_))return o(_.payload);if(yW.match(_)){c();return}if(WV.match(_))return a(_.payload);let E=p.getState();const w=()=>{if(E===OP)throw new Error(Br(23));return E};let b;try{if(b=y(_),e.size>0){const C=p.getState(),P=Array.from(e.values());for(const N of P){let D=!1;try{D=N.predicate(_,C,E)}catch(U){D=!1,VP(r,U,{raisedBy:"predicate"})}D&&u(N,_,p,w)}}}finally{E=OP}return b},startListening:o,stopListening:a,clearListeners:c}};function Br(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var _W={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},JV=$r({name:"chartLayout",initialState:_W,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:TW,setLayout:EW,setChartSize:SW,setScale:wW}=JV.actions,bW=JV.reducer;function UP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(n),!0).forEach(function(r){AW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AW(t,e,n){return(e=CW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CW(t){var e=xW(t,"string");return typeof e=="symbol"?e:e+""}function xW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sg=Math.PI/180,RW=t=>t*180/Math.PI,Kn=(t,e,n,r)=>({x:t+Math.cos(-sg*r)*n,y:e+Math.sin(-sg*r)*n}),IW=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},PW=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},MW=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,a=PW({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a,angle:0};var u=(n-i)/a,c=Math.acos(u);return r>o&&(c=2*Math.PI-c),{radius:a,angle:RW(c),angleInRadian:c}},NW=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},DW=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return t+a*360},kW=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:o}=MW({x:n,y:r},e),{innerRadius:a,outerRadius:u}=e;if(i<a||i>u||i===0)return null;var{startAngle:c,endAngle:d}=NW(e),p=o,y;if(c<=d){for(;p>d;)p-=360;for(;p<c;)p+=360;y=p>=c&&p<=d}else{for(;p>c;)p-=360;for(;p<d;)p+=360;y=p>=d&&p<=c}return y?BP(BP({},e),{},{radius:i,angle:DW(p,e)}):null};function XV(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function FP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(n),!0).forEach(function(r){OW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OW(t,e,n){return(e=LW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LW(t){var e=VW(t,"string");return typeof e=="symbol"?e:e+""}function VW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fr(t,e,n){return Nn(t)||Nn(e)?n:lo(e)?Zu(t,e,n):typeof e=="function"?e(t):n}var UW=(t,e,n,r,i)=>{var o,a=-1,u=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<u;c++){var d=c>0?n[c-1].coordinate:n[u-1].coordinate,p=n[c].coordinate,y=c>=u-1?n[0].coordinate:n[c+1].coordinate,_=void 0;if(Vr(p-d)!==Vr(y-p)){var E=[];if(Vr(y-p)===Vr(i[1]-i[0])){_=y;var w=p+i[1]-i[0];E[0]=Math.min(w,(w+d)/2),E[1]=Math.max(w,(w+d)/2)}else{_=d;var b=y+i[1]-i[0];E[0]=Math.min(p,(b+p)/2),E[1]=Math.max(p,(b+p)/2)}var C=[Math.min(p,(_+p)/2),Math.max(p,(_+p)/2)];if(t>C[0]&&t<=C[1]||t>=E[0]&&t<=E[1]){({index:a}=n[c]);break}}else{var P=Math.min(d,y),N=Math.max(d,y);if(t>(P+p)/2&&t<=(N+p)/2){({index:a}=n[c]);break}}}else if(e){for(var D=0;D<u;D++)if(D===0&&t<=(e[D].coordinate+e[D+1].coordinate)/2||D>0&&D<u-1&&t>(e[D].coordinate+e[D-1].coordinate)/2&&t<=(e[D].coordinate+e[D+1].coordinate)/2||D===u-1&&t>(e[D].coordinate+e[D-1].coordinate)/2){({index:a}=e[D]);break}}return a},BW=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:a,layout:u}=e;if((u==="vertical"||u==="horizontal"&&a==="middle")&&o!=="center"&&Ke(t[o]))return ii(ii({},t),{},{[o]:t[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&a!=="middle"&&Ke(t[a]))return ii(ii({},t),{},{[a]:t[a]+(i||0)})}return t},Ml=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",qP=1e-4,FW=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-qP,o=Math.max(r[0],r[1])+qP,a=t(e[0]),u=t(e[n-1]);(a<i||a>o||u<i||u>o)&&t.domain([e[0],e[n-1]])}},qW=(t,e)=>{if(!e||e.length!==2||!Ke(e[0])||!Ke(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ke(t[0])||t[0]<n)&&(i[0]=n),(!Ke(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},$W=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,a=0;a<e;++a){var u=ci(t[a][n][1])?t[a][n][0]:t[a][n][1];u>=0?(t[a][n][0]=i,t[a][n][1]=i+u,i=t[a][n][1]):(t[a][n][0]=o,t[a][n][1]=o+u,o=t[a][n][1])}},HW=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var a=ci(t[o][n][1])?t[o][n][0]:t[o][n][1];a>=0?(t[o][n][0]=i,t[o][n][1]=i+a,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},zW={sign:$W,expand:Ej,none:ec,silhouette:Sj,wiggle:wj,positive:HW},GW=(t,e,n)=>{var r=zW[n],i=Tj().keys(e).value((o,a)=>+fr(o,a,0)).order(AE).offset(r);return i(t)};function KW(t){return t==null?void 0:String(t)}var $P=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:o,index:a}=t;if(e.type==="category")return n[a]?n[a].coordinate+r:null;var u=fr(o,e.dataKey,e.scale.domain()[a]);return Nn(u)?null:e.scale(u)-i/2+r},jW=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},YW=t=>{var e=t.flat(2).filter(Ke);return[Math.min(...e),Math.max(...e)]},WW=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],JW=(t,e,n)=>{if(t!=null)return WW(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:a}=o,u=a.reduce((c,d)=>{var p=XV(d,e,n),y=YW(p);return[Math.min(c[0],y[0]),Math.max(c[1],y[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},HP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ww=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=uy(e,p=>p.coordinate),o=1/0,a=1,u=i.length;a<u;a++){var c=i[a],d=i[a-1];o=Math.min((c.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function GP(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return ii(ii({},e),{},{dataKey:n,payload:r,value:i,name:o})}function QV(t,e){if(t)return String(t);if(typeof e=="string")return e}function XW(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var o=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return o?{x:t,y:e}:null}return r?kW({x:t,y:e},r):null}var QW=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,{radius:a}=r;return ii(ii(ii({},r),Kn(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var u=i.coordinate,{angle:c}=r;return ii(ii(ii({},r),Kn(r.cx,r.cy,u,c)),{},{angle:c,radius:u})}return{x:0,y:0}},ZW=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,as=t=>t.layout.width,ls=t=>t.layout.height,eJ=t=>t.layout.scale,ZV=t=>t.layout.margin,my=re(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),gy=re(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),tJ="data-recharts-item-index",nJ="data-recharts-item-data-key",rh=60;function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){rJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rJ(t,e,n){return(e=iJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iJ(t){var e=oJ(t,"string");return typeof e=="symbol"?e:e+""}function oJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sJ=t=>t.brush.height;function aJ(t){var e=gy(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:rh;return n+i}return n},0)}function lJ(t){var e=gy(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:rh;return n+i}return n},0)}function uJ(t){var e=my(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function cJ(t){var e=my(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var kn=re([as,ls,ZV,sJ,aJ,lJ,uJ,cJ,CV,AY],(t,e,n,r,i,o,a,u,c,d)=>{var p={left:(n.left||0)+i,right:(n.right||0)+o},y={top:(n.top||0)+a,bottom:(n.bottom||0)+u},_=Zp(Zp({},y),p),E=_.bottom;_.bottom+=r,_=BW(_,c,d);var w=t-_.left-_.right,b=e-_.top-_.bottom;return Zp(Zp({brushBottom:E},_),{},{width:Math.max(w,0),height:Math.max(b,0)})}),fJ=re(kn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),Jw=re(as,ls,(t,e)=>({x:0,y:0,width:t,height:e})),dJ=R.createContext(null),Di=()=>R.useContext(dJ)!=null,yy=t=>t.brush,vy=re([yy,kn,ZV],(t,e,n)=>({height:t.height,x:Ke(t.x)?t.x:e.left,y:Ke(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Ke(t.width)?t.width:e.width})),Xw=()=>{var t,e=Di(),n=Ve(fJ),r=Ve(vy),i=(t=Ve(yy))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},hJ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},pJ=()=>{var t;return(t=Ve(kn))!==null&&t!==void 0?t:hJ},mJ=()=>Ve(as),gJ=()=>Ve(ls),Tt=t=>t.layout.layoutType,Qw=()=>Ve(Tt),yJ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},eU=$r({name:"legend",initialState:yJ,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Yo(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:hve,setLegendSettings:pve,addLegendPayload:vJ,removeLegendPayload:_J}=eU.actions,TJ=eU.reducer;function OE(){return OE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OE.apply(null,arguments)}function jP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(n),!0).forEach(function(r){EJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EJ(t,e,n){return(e=SJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SJ(t){var e=wJ(t,"string");return typeof e=="symbol"?e:e+""}function wJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bJ(t){return Array.isArray(t)&&lo(t[0])&&lo(t[1])?t.join(" ~ "):t}var AJ=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:a,itemSorter:u,wrapperClassName:c,labelClassName:d,label:p,labelFormatter:y,accessibilityLayer:_=!1}=t,E=()=>{if(o&&o.length){var $={padding:0,margin:0},G=(u?uy(o,u):o).map((k,O)=>{if(k.type==="none")return null;var M=k.formatter||a||bJ,{value:q,name:F}=k,z=q,H=F;if(M){var Ee=M(q,F,k,O,o);if(Array.isArray(Ee))[z,H]=Ee;else if(Ee!=null)z=Ee;else return null}var xe=sT({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},r);return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:xe},lo(H)?R.createElement("span",{className:"recharts-tooltip-item-name"},H):null,lo(H)?R.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,R.createElement("span",{className:"recharts-tooltip-item-value"},z),R.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:$},G)}return null},w=sT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),b=sT({margin:0},i),C=!Nn(p),P=C?p:"",N=Vt("recharts-default-tooltip",c),D=Vt("recharts-tooltip-label",d);C&&y&&o!==void 0&&o!==null&&(P=y(p,o));var U=_?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",OE({className:N,style:w},U),R.createElement("p",{className:D,style:b},R.isValidElement(P)?P:"".concat(P)),E())},$f="recharts-tooltip-wrapper",CJ={visibility:"hidden"};function xJ(t){var{coordinate:e,translateX:n,translateY:r}=t;return Vt($f,{["".concat($f,"-right")]:Ke(n)&&e&&Ke(e.x)&&n>=e.x,["".concat($f,"-left")]:Ke(n)&&e&&Ke(e.x)&&n<e.x,["".concat($f,"-bottom")]:Ke(r)&&e&&Ke(e.y)&&r>=e.y,["".concat($f,"-top")]:Ke(r)&&e&&Ke(e.y)&&r<e.y})}function YP(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:a,tooltipDimension:u,viewBox:c,viewBoxDimension:d}=t;if(o&&Ke(o[r]))return o[r];var p=n[r]-u-(i>0?i:0),y=n[r]+i;if(e[r])return a[r]?p:y;var _=c[r];if(_==null)return 0;if(a[r]){var E=p,w=_;return E<w?Math.max(y,_):Math.max(p,_)}if(d==null)return 0;var b=y+u,C=_+d;return b>C?Math.max(p,_):Math.max(y,_)}function RJ(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function IJ(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:a,useTranslate3d:u,viewBox:c}=t,d,p,y;return a.height>0&&a.width>0&&n?(p=YP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),y=YP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),d=RJ({translateX:p,translateY:y,useTranslate3d:u})):d=CJ,{cssProperties:d,cssClasses:xJ({translateX:p,translateY:y,coordinate:n})}}function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function em(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){LE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LE(t,e,n){return(e=PJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PJ(t){var e=MJ(t,"string");return typeof e=="symbol"?e:e+""}function MJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class NJ extends R.PureComponent{constructor(){super(...arguments),LE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),LE(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:a,hasPayload:u,isAnimationActive:c,offset:d,position:p,reverseDirection:y,useTranslate3d:_,viewBox:E,wrapperStyle:w,lastBoundingBox:b,innerRef:C,hasPortalFromProps:P}=this.props,{cssClasses:N,cssProperties:D}=IJ({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:d,position:p,reverseDirection:y,tooltipBox:{height:b.height,width:b.width},useTranslate3d:_,viewBox:E}),U=P?{}:em(em({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),$=em(em({},U),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},w);return R.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:$,ref:C},o)}}var DJ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ih={isSsr:DJ()},tU=()=>Ve(t=>t.rootProps.accessibilityLayer);function qr(t){return Number.isFinite(t)}function ag(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function VE(){return VE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VE.apply(null,arguments)}function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){kJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kJ(t,e,n){return(e=OJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OJ(t){var e=LJ(t,"string");return typeof e=="symbol"?e:e+""}function LJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QP={curveBasisClosed:uj,curveBasisOpen:cj,curveBasis:lj,curveBumpX:YK,curveBumpY:WK,curveLinearClosed:fj,curveLinear:ay,curveMonotoneX:dj,curveMonotoneY:hj,curveNatural:pj,curveStep:mj,curveStepAfter:yj,curveStepBefore:gj},tm=t=>qr(t.x)&&qr(t.y),Hf=t=>t.x,zf=t=>t.y,VJ=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(eh(t));return(n==="curveMonotone"||n==="curveBump")&&e?QP["".concat(n).concat(e==="vertical"?"Y":"X")]:QP[n]||ay},UJ=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,a=VJ(e,i),u=o?n.filter(tm):n,c;if(Array.isArray(r)){var d=o?r.filter(y=>tm(y)):r,p=u.map((y,_)=>XP(XP({},y),{},{base:d[_]}));return i==="vertical"?c=jp().y(zf).x1(Hf).x0(y=>y.base.x):c=jp().x(Hf).y1(zf).y0(y=>y.base.y),c.defined(tm).curve(a),c(p)}return i==="vertical"&&Ke(r)?c=jp().y(zf).x1(Hf).x0(r):Ke(r)?c=jp().x(Hf).y1(zf).y0(r):c=nV().x(Hf).y(zf),c.defined(tm).curve(a),c(u)},BJ=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?UJ(t):r;return R.createElement("path",VE({},oy(t),DK(t),{className:Vt("recharts-curve",e),d:o===null?void 0:o,ref:i}))},FJ=["x","y","top","left","width","height","className"];function UE(){return UE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UE.apply(null,arguments)}function ZP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZP(Object(n),!0).forEach(function(r){$J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $J(t,e,n){return(e=HJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HJ(t){var e=zJ(t,"string");return typeof e=="symbol"?e:e+""}function zJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GJ(t,e){if(t==null)return{};var n,r,i=KJ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function KJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jJ=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),YJ=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:a=0,className:u}=t,c=GJ(t,FJ),d=qJ({x:e,y:n,top:r,left:i,width:o,height:a},c);return!Ke(e)||!Ke(n)||!Ke(o)||!Ke(a)||!Ke(r)||!Ke(i)?null:R.createElement("path",UE({},Mn(d,!0),{className:Vt("recharts-cross",u),d:jJ(e,n,o,a,r,i)}))};function WJ(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function eM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eM(Object(n),!0).forEach(function(r){XJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XJ(t,e,n){return(e=QJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QJ(t){var e=ZJ(t,"string");return typeof e=="symbol"?e:e+""}function ZJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ya(t,e){var n=JJ({},t),r=e,i=Object.keys(e),o=i.reduce((a,u)=>(a[u]===void 0&&r[u]!==void 0&&(a[u]=r[u]),a),n);return o}function eX(){}function tM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(n),!0).forEach(function(r){tX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tX(t,e,n){return(e=nX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nX(t){var e=rX(t,"string");return typeof e=="symbol"?e:e+""}function rX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iX=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),nU=(t,e,n)=>t.map(r=>"".concat(iX(r)," ").concat(e,"ms ").concat(n)).join(","),oX=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Md=(t,e)=>Object.keys(e).reduce((n,r)=>nM(nM({},n),{},{[r]:t(r,e[r])}),{});function rM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(n),!0).forEach(function(r){sX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sX(t,e,n){return(e=aX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aX(t){var e=lX(t,"string");return typeof e=="symbol"?e:e+""}function lX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lg=(t,e,n)=>t+(e-t)*n,BE=t=>{var{from:e,to:n}=t;return e!==n},rU=(t,e,n)=>{var r=Md((i,o)=>{if(BE(o)){var[a,u]=t(o.from,o.to,o.velocity);return zn(zn({},o),{},{from:a,velocity:u})}return o},e);return n<1?Md((i,o)=>BE(o)?zn(zn({},o),{},{velocity:lg(o.velocity,r[i].velocity,n),from:lg(o.from,r[i].from,n)}):o,e):rU(t,r,n-1)};function uX(t,e,n,r,i,o){var a,u=r.reduce((_,E)=>zn(zn({},_),{},{[E]:{from:t[E],velocity:0,to:e[E]}}),{}),c=()=>Md((_,E)=>E.from,u),d=()=>!Object.values(u).filter(BE).length,p=null,y=_=>{a||(a=_);var E=_-a,w=E/n.dt;u=rU(n,u,w),i(zn(zn(zn({},t),e),c())),a=_,d()||(p=o.setTimeout(y))};return()=>(p=o.setTimeout(y),()=>{p()})}function cX(t,e,n,r,i,o,a){var u=null,c=i.reduce((y,_)=>zn(zn({},y),{},{[_]:[t[_],e[_]]}),{}),d,p=y=>{d||(d=y);var _=(y-d)/r,E=Md((b,C)=>lg(...C,n(_)),c);if(o(zn(zn(zn({},t),e),E)),_<1)u=a.setTimeout(p);else{var w=Md((b,C)=>lg(...C,n(1)),c);o(zn(zn(zn({},t),e),w))}};return()=>(u=a.setTimeout(p),()=>{u()})}const fX=(t,e,n,r,i,o)=>{var a=oX(t,e);return n.isStepper===!0?uX(t,e,n,a,i,o):cX(t,e,n,r,a,i,o)};var ug=1e-4,iU=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],oU=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),iM=(t,e)=>n=>{var r=iU(t,e);return oU(r,n)},dX=(t,e)=>n=>{var r=iU(t,e),i=[...r.map((o,a)=>o*a).slice(1),0];return oU(i,n)},oM=function(){for(var e,n,r,i,o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];if(a.length===1)switch(a[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var c=a[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([e,r,n,i]=c[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else a.length===4&&([e,r,n,i]=a);var d=iM(e,n),p=iM(r,i),y=dX(e,n),_=w=>w>1?1:w<0?0:w,E=w=>{for(var b=w>1?1:w,C=b,P=0;P<8;++P){var N=d(C)-b,D=y(C);if(Math.abs(N-b)<ug||D<ug)return p(C);C=_(C-N/D)}return p(C)};return E.isStepper=!1,E},hX=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(a,u,c)=>{var d=-(a-u)*n,p=c*r,y=c+(d-p)*i/1e3,_=c*i/1e3+a;return Math.abs(_-u)<ug&&Math.abs(y)<ug?[u,0]:[_,y]};return o.isStepper=!0,o.dt=i,o},pX=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return oM(t);case"spring":return hX();default:if(t.split("(")[0]==="cubic-bezier")return oM(t)}return typeof t=="function"?t:null};function mX(t){var e,n=()=>null,r=!1,i=null,o=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var u=a,[c,...d]=u;if(typeof c=="number"){i=t.setTimeout(o.bind(null,d),c);return}o(c),i=t.setTimeout(o.bind(null,d));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),o(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class gX{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}function yX(){return mX(new gX)}var vX=R.createContext(yX);function _X(t,e){var n=R.useContext(vX);return R.useMemo(()=>e??n(t),[t,e,n])}var TX={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},sM={t:0},aT={t:1};function Zw(t){var e=ya(t,TX),{isActive:n,canBegin:r,duration:i,easing:o,begin:a,onAnimationEnd:u,onAnimationStart:c,children:d}=e,p=_X(e.animationId,e.animationManager),[y,_]=R.useState(n?sM:aT),E=R.useRef(null);return R.useEffect(()=>{n||_(aT)},[n]),R.useEffect(()=>{if(!n||!r)return eX;var w=fX(sM,aT,pX(o),i,_,p.getTimeoutController()),b=()=>{E.current=w()};return p.start([c,a,b,i,u]),()=>{p.stop(),E.current&&E.current(),u()}},[n,r,i,o,a,c,u,p]),d(y.t)}function eb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=R.useRef(Rd(e)),r=R.useRef(t);return r.current!==t&&(n.current=Rd(e),r.current=t),n.current}function aM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aM(Object(n),!0).forEach(function(r){EX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EX(t,e,n){return(e=SX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SX(t){var e=wX(t,"string");return typeof e=="symbol"?e:e+""}function wX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cg(){return cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cg.apply(null,arguments)}var uM=(t,e,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,u=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var p=[0,0,0,0],y=0,_=4;y<_;y++)p[y]=i[y]>o?o:i[y];d="M".concat(t,",").concat(e+a*p[0]),p[0]>0&&(d+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(c,",").concat(t+u*p[0],",").concat(e)),d+="L ".concat(t+n-u*p[1],",").concat(e),p[1]>0&&(d+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(e+a*p[1])),d+="L ".concat(t+n,",").concat(e+r-a*p[2]),p[2]>0&&(d+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(c,`,
        `).concat(t+n-u*p[2],",").concat(e+r)),d+="L ".concat(t+u*p[3],",").concat(e+r),p[3]>0&&(d+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+r-a*p[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var E=Math.min(o,i);d="M ".concat(t,",").concat(e+a*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(c,",").concat(t+u*E,",").concat(e,`
            L `).concat(t+n-u*E,",").concat(e,`
            A `).concat(E,",").concat(E,",0,0,").concat(c,",").concat(t+n,",").concat(e+a*E,`
            L `).concat(t+n,",").concat(e+r-a*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(c,",").concat(t+n-u*E,",").concat(e+r,`
            L `).concat(t+u*E,",").concat(e+r,`
            A `).concat(E,",").concat(E,",0,0,").concat(c,",").concat(t,",").concat(e+r-a*E," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},bX={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sU=t=>{var e=ya(t,bX),n=R.useRef(null),[r,i]=R.useState(-1);R.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Ee=n.current.getTotalLength();Ee&&i(Ee)}catch{}},[]);var{x:o,y:a,width:u,height:c,radius:d,className:p}=e,{animationEasing:y,animationDuration:_,animationBegin:E,isAnimationActive:w,isUpdateAnimationActive:b}=e,C=R.useRef(u),P=R.useRef(c),N=R.useRef(o),D=R.useRef(a),U=R.useMemo(()=>({x:o,y:a,width:u,height:c,radius:d}),[o,a,u,c,d]),$=eb(U,"rectangle-");if(o!==+o||a!==+a||u!==+u||c!==+c||u===0||c===0)return null;var G=Vt("recharts-rectangle",p);if(!b)return R.createElement("path",cg({},Mn(e,!0),{className:G,d:uM(o,a,u,c,d)}));var k=C.current,O=P.current,M=N.current,q=D.current,F="0px ".concat(r===-1?1:r,"px"),z="".concat(r,"px 0px"),H=nU(["strokeDasharray"],_,typeof y=="string"?y:void 0);return R.createElement(Zw,{animationId:$,key:$,canBegin:r>0,duration:_,easing:y,isActive:b,begin:E},Ee=>{var xe=lr(k,u,Ee),Z=lr(O,c,Ee),de=lr(M,o,Ee),ye=lr(q,a,Ee);n.current&&(C.current=xe,P.current=Z,N.current=de,D.current=ye);var Me;return w?Ee>0?Me={transition:H,strokeDasharray:z}:Me={strokeDasharray:F}:Me={strokeDasharray:z},R.createElement("path",cg({},Mn(e,!0),{className:G,d:uM(de,ye,xe,Z,d),ref:n,style:lM(lM({},Me),e.style)}))})};function aU(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,a=Kn(e,n,r,i),u=Kn(e,n,r,o);return{points:[a,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function FE(){return FE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FE.apply(null,arguments)}var AX=(t,e)=>{var n=Vr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},nm=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:a,cornerRadius:u,cornerIsExternal:c}=t,d=u*(a?1:-1)+r,p=Math.asin(u/d)/sg,y=c?i:i+o*p,_=Kn(e,n,d,y),E=Kn(e,n,r,y),w=c?i-o*p:i,b=Kn(e,n,d*Math.cos(p*sg),w);return{center:_,circleTangency:E,lineTangency:b,theta:p}},lU=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:a}=t,u=AX(o,a),c=o+u,d=Kn(e,n,i,o),p=Kn(e,n,i,c),y="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>c),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var _=Kn(e,n,r,o),E=Kn(e,n,r,c);y+="L ".concat(E.x,",").concat(E.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=c),`,
            `).concat(_.x,",").concat(_.y," Z")}else y+="L ".concat(e,",").concat(n," Z");return y},CX=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:u,startAngle:c,endAngle:d}=t,p=Vr(d-c),{circleTangency:y,lineTangency:_,theta:E}=nm({cx:e,cy:n,radius:i,angle:c,sign:p,cornerRadius:o,cornerIsExternal:u}),{circleTangency:w,lineTangency:b,theta:C}=nm({cx:e,cy:n,radius:i,angle:d,sign:-p,cornerRadius:o,cornerIsExternal:u}),P=u?Math.abs(c-d):Math.abs(c-d)-E-C;if(P<0)return a?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):lU({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:d});var N="M ".concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(P>180),",").concat(+(p<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(b.x,",").concat(b.y,`
  `);if(r>0){var{circleTangency:D,lineTangency:U,theta:$}=nm({cx:e,cy:n,radius:r,angle:c,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:G,lineTangency:k,theta:O}=nm({cx:e,cy:n,radius:r,angle:d,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),M=u?Math.abs(c-d):Math.abs(c-d)-$-O;if(M<0&&o===0)return"".concat(N,"L").concat(e,",").concat(n,"Z");N+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(G.x,",").concat(G.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(M>180),",").concat(+(p>0),",").concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(U.x,",").concat(U.y,"Z")}else N+="L".concat(e,",").concat(n,"Z");return N},xX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uU=t=>{var e=ya(t,xX),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:a,forceCornerRadius:u,cornerIsExternal:c,startAngle:d,endAngle:p,className:y}=e;if(o<i||d===p)return null;var _=Vt("recharts-sector",y),E=o-i,w=Ri(a,E,0,!0),b;return w>0&&Math.abs(d-p)<360?b=CX({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(w,E/2),forceCornerRadius:u,cornerIsExternal:c,startAngle:d,endAngle:p}):b=lU({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:d,endAngle:p}),R.createElement("path",FE({},Mn(e,!0),{className:_,d:b}))};function RX(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:u,cy:c,innerRadius:d,outerRadius:p,angle:y}=e,_=Kn(u,c,d,y),E=Kn(u,c,p,y);r=_.x,i=_.y,o=E.x,a=E.y}else return aU(e);return[{x:r,y:i},{x:o,y:a}]}var lT={},uT={},cT={},cM;function IX(){return cM||(cM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bV();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(cT)),cT}var fM;function PX(){return fM||(fM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IX();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(uT)),uT}var dM;function MX(){return dM||(dM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AV(),n=PX();function r(i,o,a){a&&typeof a!="number"&&e.isIterateeCall(i,o,a)&&(o=a=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),a=a===void 0?i<o?1:-1:n.toFinite(a);const u=Math.max(Math.ceil((o-i)/(a||1)),0),c=new Array(u);for(let d=0;d<u;d++)c[d]=i,i+=a;return c}t.range=r})(lT)),lT}var fT,hM;function NX(){return hM||(hM=1,fT=MX().range),fT}var DX=NX();const cU=co(DX);function ra(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kX(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function tb(t){let e,n,r;t.length!==2?(e=ra,n=(u,c)=>ra(t(u),c),r=(u,c)=>t(u)-c):(e=t===ra||t===kX?t:OX,n=t,r=t);function i(u,c,d=0,p=u.length){if(d<p){if(e(c,c)!==0)return p;do{const y=d+p>>>1;n(u[y],c)<0?d=y+1:p=y}while(d<p)}return d}function o(u,c,d=0,p=u.length){if(d<p){if(e(c,c)!==0)return p;do{const y=d+p>>>1;n(u[y],c)<=0?d=y+1:p=y}while(d<p)}return d}function a(u,c,d=0,p=u.length){const y=i(u,c,d,p-1);return y>d&&r(u[y-1],c)>-r(u[y],c)?y-1:y}return{left:i,center:a,right:o}}function OX(){return 0}function fU(t){return t===null?NaN:+t}function*LX(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const VX=tb(ra),oh=VX.right;tb(fU).center;class pM extends Map{constructor(e,n=FX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(mM(this,e))}has(e){return super.has(mM(this,e))}set(e,n){return super.set(UX(this,e),n)}delete(e){return super.delete(BX(this,e))}}function mM({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function UX({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function BX({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function FX(t){return t!==null&&typeof t=="object"?t.valueOf():t}function qX(t=ra){if(t===ra)return dU;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function dU(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const $X=Math.sqrt(50),HX=Math.sqrt(10),zX=Math.sqrt(2);function fg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=$X?10:o>=HX?5:o>=zX?2:1;let u,c,d;return i<0?(d=Math.pow(10,-i)/a,u=Math.round(t*d),c=Math.round(e*d),u/d<t&&++u,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*a,u=Math.round(t/d),c=Math.round(e/d),u*d<t&&++u,c*d>e&&--c),c<u&&.5<=n&&n<2?fg(t,e,n*2):[u,c,d]}function qE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?fg(e,t,n):fg(t,e,n);if(!(o>=i))return[];const u=o-i+1,c=new Array(u);if(r)if(a<0)for(let d=0;d<u;++d)c[d]=(o-d)/-a;else for(let d=0;d<u;++d)c[d]=(o-d)*a;else if(a<0)for(let d=0;d<u;++d)c[d]=(i+d)/-a;else for(let d=0;d<u;++d)c[d]=(i+d)*a;return c}function $E(t,e,n){return e=+e,t=+t,n=+n,fg(t,e,n)[2]}function HE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?$E(e,t,n):$E(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function gM(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function yM(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function hU(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?dU:qX(i);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,p=Math.log(c),y=.5*Math.exp(2*p/3),_=.5*Math.sqrt(p*y*(c-y)/c)*(d-c/2<0?-1:1),E=Math.max(n,Math.floor(e-d*y/c+_)),w=Math.min(r,Math.floor(e+(c-d)*y/c+_));hU(t,e,E,w,i)}const o=t[e];let a=n,u=r;for(Gf(t,n,e),i(t[r],o)>0&&Gf(t,n,r);a<u;){for(Gf(t,a,u),++a,--u;i(t[a],o)<0;)++a;for(;i(t[u],o)>0;)--u}i(t[n],o)===0?Gf(t,n,u):(++u,Gf(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Gf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function GX(t,e,n){if(t=Float64Array.from(LX(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return yM(t);if(e>=1)return gM(t);var r,i=(r-1)*e,o=Math.floor(i),a=gM(hU(t,o).subarray(0,o+1)),u=yM(t.subarray(o+1));return a+(u-a)*(i-o)}}function KX(t,e,n=fU){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return a+(u-a)*(i-o)}}function jX(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function hi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function us(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const zE=Symbol("implicit");function nb(){var t=new pM,e=[],n=[],r=zE;function i(o){let a=t.get(o);if(a===void 0){if(r!==zE)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new pM;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return nb(e,n).unknown(r)},hi.apply(i,arguments),i}function rb(){var t=nb().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,u=!1,c=0,d=0,p=.5;delete t.unknown;function y(){var _=e().length,E=i<r,w=E?i:r,b=E?r:i;o=(b-w)/Math.max(1,_-c+d*2),u&&(o=Math.floor(o)),w+=(b-w-o*(_-c))*p,a=o*(1-c),u&&(w=Math.round(w),a=Math.round(a));var C=jX(_).map(function(P){return w+o*P});return n(E?C.reverse():C)}return t.domain=function(_){return arguments.length?(e(_),y()):e()},t.range=function(_){return arguments.length?([r,i]=_,r=+r,i=+i,y()):[r,i]},t.rangeRound=function(_){return[r,i]=_,r=+r,i=+i,u=!0,y()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(_){return arguments.length?(u=!!_,y()):u},t.padding=function(_){return arguments.length?(c=Math.min(1,d=+_),y()):c},t.paddingInner=function(_){return arguments.length?(c=Math.min(1,_),y()):c},t.paddingOuter=function(_){return arguments.length?(d=+_,y()):d},t.align=function(_){return arguments.length?(p=Math.max(0,Math.min(1,_)),y()):p},t.copy=function(){return rb(e(),[r,i]).round(u).paddingInner(c).paddingOuter(d).align(p)},hi.apply(y(),arguments)}function pU(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pU(e())},t}function YX(){return pU(rb.apply(null,arguments).paddingInner(1))}function ib(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function mU(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function sh(){}var Nd=.7,dg=1/Nd,qu="\\s*([+-]?\\d+)\\s*",Dd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",so="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",WX=/^#([0-9a-f]{3,8})$/,JX=new RegExp(`^rgb\\(${qu},${qu},${qu}\\)$`),XX=new RegExp(`^rgb\\(${so},${so},${so}\\)$`),QX=new RegExp(`^rgba\\(${qu},${qu},${qu},${Dd}\\)$`),ZX=new RegExp(`^rgba\\(${so},${so},${so},${Dd}\\)$`),eQ=new RegExp(`^hsl\\(${Dd},${so},${so}\\)$`),tQ=new RegExp(`^hsla\\(${Dd},${so},${so},${Dd}\\)$`),vM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ib(sh,kd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:_M,formatHex:_M,formatHex8:nQ,formatHsl:rQ,formatRgb:TM,toString:TM});function _M(){return this.rgb().formatHex()}function nQ(){return this.rgb().formatHex8()}function rQ(){return gU(this).formatHsl()}function TM(){return this.rgb().formatRgb()}function kd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=WX.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?EM(e):n===3?new _r(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?rm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?rm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=JX.exec(t))?new _r(e[1],e[2],e[3],1):(e=XX.exec(t))?new _r(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=QX.exec(t))?rm(e[1],e[2],e[3],e[4]):(e=ZX.exec(t))?rm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=eQ.exec(t))?bM(e[1],e[2]/100,e[3]/100,1):(e=tQ.exec(t))?bM(e[1],e[2]/100,e[3]/100,e[4]):vM.hasOwnProperty(t)?EM(vM[t]):t==="transparent"?new _r(NaN,NaN,NaN,0):null}function EM(t){return new _r(t>>16&255,t>>8&255,t&255,1)}function rm(t,e,n,r){return r<=0&&(t=e=n=NaN),new _r(t,e,n,r)}function iQ(t){return t instanceof sh||(t=kd(t)),t?(t=t.rgb(),new _r(t.r,t.g,t.b,t.opacity)):new _r}function GE(t,e,n,r){return arguments.length===1?iQ(t):new _r(t,e,n,r??1)}function _r(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ib(_r,GE,mU(sh,{brighter(t){return t=t==null?dg:Math.pow(dg,t),new _r(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Nd:Math.pow(Nd,t),new _r(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new _r(pl(this.r),pl(this.g),pl(this.b),hg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SM,formatHex:SM,formatHex8:oQ,formatRgb:wM,toString:wM}));function SM(){return`#${al(this.r)}${al(this.g)}${al(this.b)}`}function oQ(){return`#${al(this.r)}${al(this.g)}${al(this.b)}${al((isNaN(this.opacity)?1:this.opacity)*255)}`}function wM(){const t=hg(this.opacity);return`${t===1?"rgb(":"rgba("}${pl(this.r)}, ${pl(this.g)}, ${pl(this.b)}${t===1?")":`, ${t})`}`}function hg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function pl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function al(t){return t=pl(t),(t<16?"0":"")+t.toString(16)}function bM(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new wi(t,e,n,r)}function gU(t){if(t instanceof wi)return new wi(t.h,t.s,t.l,t.opacity);if(t instanceof sh||(t=kd(t)),!t)return new wi;if(t instanceof wi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,c=(o+i)/2;return u?(e===o?a=(n-r)/u+(n<r)*6:n===o?a=(r-e)/u+2:a=(e-n)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=c>0&&c<1?0:a,new wi(a,u,c,t.opacity)}function sQ(t,e,n,r){return arguments.length===1?gU(t):new wi(t,e,n,r??1)}function wi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ib(wi,sQ,mU(sh,{brighter(t){return t=t==null?dg:Math.pow(dg,t),new wi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Nd:Math.pow(Nd,t),new wi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new _r(dT(t>=240?t-240:t+120,i,r),dT(t,i,r),dT(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new wi(AM(this.h),im(this.s),im(this.l),hg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=hg(this.opacity);return`${t===1?"hsl(":"hsla("}${AM(this.h)}, ${im(this.s)*100}%, ${im(this.l)*100}%${t===1?")":`, ${t})`}`}}));function AM(t){return t=(t||0)%360,t<0?t+360:t}function im(t){return Math.max(0,Math.min(1,t||0))}function dT(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ob=t=>()=>t;function aQ(t,e){return function(n){return t+n*e}}function lQ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function uQ(t){return(t=+t)==1?yU:function(e,n){return n-e?lQ(e,n,t):ob(isNaN(e)?n:e)}}function yU(t,e){var n=e-t;return n?aQ(t,n):ob(isNaN(t)?e:t)}const CM=(function t(e){var n=uQ(e);function r(i,o){var a=n((i=GE(i)).r,(o=GE(o)).r),u=n(i.g,o.g),c=n(i.b,o.b),d=yU(i.opacity,o.opacity);return function(p){return i.r=a(p),i.g=u(p),i.b=c(p),i.opacity=d(p),i+""}}return r.gamma=t,r})(1);function cQ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function fQ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function dQ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=_c(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(u){for(a=0;a<r;++a)o[a]=i[a](u);return o}}function hQ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function pg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function pQ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=_c(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var KE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hT=new RegExp(KE.source,"g");function mQ(t){return function(){return t}}function gQ(t){return function(e){return t(e)+""}}function yQ(t,e){var n=KE.lastIndex=hT.lastIndex=0,r,i,o,a=-1,u=[],c=[];for(t=t+"",e=e+"";(r=KE.exec(t))&&(i=hT.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[a]?u[a]+=o:u[++a]=o),(r=r[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,c.push({i:a,x:pg(r,i)})),n=hT.lastIndex;return n<e.length&&(o=e.slice(n),u[a]?u[a]+=o:u[++a]=o),u.length<2?c[0]?gQ(c[0].x):mQ(e):(e=c.length,function(d){for(var p=0,y;p<e;++p)u[(y=c[p]).i]=y.x(d);return u.join("")})}function _c(t,e){var n=typeof e,r;return e==null||n==="boolean"?ob(e):(n==="number"?pg:n==="string"?(r=kd(e))?(e=r,CM):yQ:e instanceof kd?CM:e instanceof Date?hQ:fQ(e)?cQ:Array.isArray(e)?dQ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?pQ:pg)(t,e)}function sb(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function vQ(t,e){e===void 0&&(e=t,t=_c);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var u=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[u](a-u)}}function _Q(t){return function(){return t}}function mg(t){return+t}var xM=[0,1];function cr(t){return t}function jE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:_Q(isNaN(e)?NaN:.5)}function TQ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function EQ(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=jE(i,r),o=n(a,o)):(r=jE(r,i),o=n(o,a)),function(u){return o(r(u))}}function SQ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=jE(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(u){var c=oh(t,u,1,r)-1;return o[c](i[c](u))}}function ah(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _y(){var t=xM,e=xM,n=_c,r,i,o,a=cr,u,c,d;function p(){var _=Math.min(t.length,e.length);return a!==cr&&(a=TQ(t[0],t[_-1])),u=_>2?SQ:EQ,c=d=null,y}function y(_){return _==null||isNaN(_=+_)?o:(c||(c=u(t.map(r),e,n)))(r(a(_)))}return y.invert=function(_){return a(i((d||(d=u(e,t.map(r),pg)))(_)))},y.domain=function(_){return arguments.length?(t=Array.from(_,mg),p()):t.slice()},y.range=function(_){return arguments.length?(e=Array.from(_),p()):e.slice()},y.rangeRound=function(_){return e=Array.from(_),n=sb,p()},y.clamp=function(_){return arguments.length?(a=_?!0:cr,p()):a!==cr},y.interpolate=function(_){return arguments.length?(n=_,p()):n},y.unknown=function(_){return arguments.length?(o=_,y):o},function(_,E){return r=_,i=E,p()}}function ab(){return _y()(cr,cr)}function wQ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function gg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function nc(t){return t=gg(Math.abs(t)),t?t[1]:NaN}function bQ(t,e){return function(n,r){for(var i=n.length,o=[],a=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[a=(a+1)%t.length];return o.reverse().join(e)}}function AQ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var CQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Od(t){if(!(e=CQ.exec(t)))throw new Error("invalid format: "+t);var e;return new lb({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Od.prototype=lb.prototype;function lb(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}lb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xQ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var vU;function RQ(t,e){var n=gg(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(vU=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+gg(t,Math.max(0,e+o-1))[0]}function RM(t,e){var n=gg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const IM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:wQ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>RM(t*100,e),r:RM,s:RQ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function PM(t){return t}var MM=Array.prototype.map,NM=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function IQ(t){var e=t.grouping===void 0||t.thousands===void 0?PM:bQ(MM.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?PM:AQ(MM.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(y){y=Od(y);var _=y.fill,E=y.align,w=y.sign,b=y.symbol,C=y.zero,P=y.width,N=y.comma,D=y.precision,U=y.trim,$=y.type;$==="n"?(N=!0,$="g"):IM[$]||(D===void 0&&(D=12),U=!0,$="g"),(C||_==="0"&&E==="=")&&(C=!0,_="0",E="=");var G=b==="$"?n:b==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",k=b==="$"?r:/[%p]/.test($)?a:"",O=IM[$],M=/[defgprs%]/.test($);D=D===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D));function q(F){var z=G,H=k,Ee,xe,Z;if($==="c")H=O(F)+H,F="";else{F=+F;var de=F<0||1/F<0;if(F=isNaN(F)?c:O(Math.abs(F),D),U&&(F=xQ(F)),de&&+F==0&&w!=="+"&&(de=!1),z=(de?w==="("?w:u:w==="-"||w==="("?"":w)+z,H=($==="s"?NM[8+vU/3]:"")+H+(de&&w==="("?")":""),M){for(Ee=-1,xe=F.length;++Ee<xe;)if(Z=F.charCodeAt(Ee),48>Z||Z>57){H=(Z===46?i+F.slice(Ee+1):F.slice(Ee))+H,F=F.slice(0,Ee);break}}}N&&!C&&(F=e(F,1/0));var ye=z.length+F.length+H.length,Me=ye<P?new Array(P-ye+1).join(_):"";switch(N&&C&&(F=e(Me+F,Me.length?P-H.length:1/0),Me=""),E){case"<":F=z+F+H+Me;break;case"=":F=z+Me+F+H;break;case"^":F=Me.slice(0,ye=Me.length>>1)+z+F+H+Me.slice(ye);break;default:F=Me+z+F+H;break}return o(F)}return q.toString=function(){return y+""},q}function p(y,_){var E=d((y=Od(y),y.type="f",y)),w=Math.max(-8,Math.min(8,Math.floor(nc(_)/3)))*3,b=Math.pow(10,-w),C=NM[8+w/3];return function(P){return E(b*P)+C}}return{format:d,formatPrefix:p}}var om,ub,_U;PQ({thousands:",",grouping:[3],currency:["$",""]});function PQ(t){return om=IQ(t),ub=om.format,_U=om.formatPrefix,om}function MQ(t){return Math.max(0,-nc(Math.abs(t)))}function NQ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nc(e)/3)))*3-nc(Math.abs(t)))}function DQ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,nc(e)-nc(t))+1}function TU(t,e,n,r){var i=HE(t,e,n),o;switch(r=Od(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=NQ(i,a))&&(r.precision=o),_U(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=DQ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=MQ(i))&&(r.precision=o-(r.type==="%")*2);break}}return ub(r)}function va(t){var e=t.domain;return t.ticks=function(n){var r=e();return qE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return TU(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],u=r[o],c,d,p=10;for(u<a&&(d=a,a=u,u=d,d=i,i=o,o=d);p-- >0;){if(d=$E(a,u,n),d===c)return r[i]=a,r[o]=u,e(r);if(d>0)a=Math.floor(a/d)*d,u=Math.ceil(u/d)*d;else if(d<0)a=Math.ceil(a*d)/d,u=Math.floor(u*d)/d;else break;c=d}return t},t}function EU(){var t=ab();return t.copy=function(){return ah(t,EU())},hi.apply(t,arguments),va(t)}function SU(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,mg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return SU(t).unknown(e)},t=arguments.length?Array.from(t,mg):[0,1],va(n)}function wU(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function DM(t){return Math.log(t)}function kM(t){return Math.exp(t)}function kQ(t){return-Math.log(-t)}function OQ(t){return-Math.exp(-t)}function LQ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function VQ(t){return t===10?LQ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function UQ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function OM(t){return(e,n)=>-t(-e,n)}function cb(t){const e=t(DM,kM),n=e.domain;let r=10,i,o;function a(){return i=UQ(r),o=VQ(r),n()[0]<0?(i=OM(i),o=OM(o),t(kQ,OQ)):t(DM,kM),e}return e.base=function(u){return arguments.length?(r=+u,a()):r},e.domain=function(u){return arguments.length?(n(u),a()):n()},e.ticks=u=>{const c=n();let d=c[0],p=c[c.length-1];const y=p<d;y&&([d,p]=[p,d]);let _=i(d),E=i(p),w,b;const C=u==null?10:+u;let P=[];if(!(r%1)&&E-_<C){if(_=Math.floor(_),E=Math.ceil(E),d>0){for(;_<=E;++_)for(w=1;w<r;++w)if(b=_<0?w/o(-_):w*o(_),!(b<d)){if(b>p)break;P.push(b)}}else for(;_<=E;++_)for(w=r-1;w>=1;--w)if(b=_>0?w/o(-_):w*o(_),!(b<d)){if(b>p)break;P.push(b)}P.length*2<C&&(P=qE(d,p,C))}else P=qE(_,E,Math.min(E-_,C)).map(o);return y?P.reverse():P},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Od(c)).precision==null&&(c.trim=!0),c=ub(c)),u===1/0)return c;const d=Math.max(1,r*u/e.ticks().length);return p=>{let y=p/o(Math.round(i(p)));return y*r<r-.5&&(y*=r),y<=d?c(p):""}},e.nice=()=>n(wU(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function bU(){const t=cb(_y()).domain([1,10]);return t.copy=()=>ah(t,bU()).base(t.base()),hi.apply(t,arguments),t}function LM(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function VM(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function fb(t){var e=1,n=t(LM(e),VM(e));return n.constant=function(r){return arguments.length?t(LM(e=+r),VM(e)):e},va(n)}function AU(){var t=fb(_y());return t.copy=function(){return ah(t,AU()).constant(t.constant())},hi.apply(t,arguments)}function UM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function BQ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function FQ(t){return t<0?-t*t:t*t}function db(t){var e=t(cr,cr),n=1;function r(){return n===1?t(cr,cr):n===.5?t(BQ,FQ):t(UM(n),UM(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},va(e)}function hb(){var t=db(_y());return t.copy=function(){return ah(t,hb()).exponent(t.exponent())},hi.apply(t,arguments),t}function qQ(){return hb.apply(null,arguments).exponent(.5)}function BM(t){return Math.sign(t)*t*t}function $Q(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function CU(){var t=ab(),e=[0,1],n=!1,r;function i(o){var a=$Q(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(BM(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,mg)).map(BM)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return CU(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},hi.apply(i,arguments),va(i)}function xU(){var t=[],e=[],n=[],r;function i(){var a=0,u=Math.max(1,e.length);for(n=new Array(u-1);++a<u;)n[a-1]=KX(t,a/u);return o}function o(a){return a==null||isNaN(a=+a)?r:e[oh(n,a)]}return o.invertExtent=function(a){var u=e.indexOf(a);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let u of a)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(ra),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return xU().domain(t).range(e).unknown(r)},hi.apply(o,arguments)}function RU(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(c){return c!=null&&c<=c?i[oh(r,c,0,n)]:o}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},a.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},a.unknown=function(c){return arguments.length&&(o=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return RU().domain([t,e]).range(i).unknown(o)},hi.apply(va(a),arguments)}function IU(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[oh(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return IU().domain(t).range(e).unknown(n)},hi.apply(i,arguments)}const pT=new Date,mT=new Date;function Sn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),u=i.ceil(o);return o-a<u-o?a:u},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,u)=>{const c=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<a)||!(u>0))return c;let d;do c.push(d=new Date(+o)),e(o,u),t(o);while(d<o&&o<a);return c},i.filter=o=>Sn(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,u)=>{if(a>=a)if(u<0)for(;++u<=0;)for(;e(a,-1),!o(a););else for(;--u>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(pT.setTime(+o),mT.setTime(+a),t(pT),t(mT),Math.floor(n(pT,mT))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const yg=Sn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);yg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Sn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):yg);yg.range;const zo=1e3,ai=zo*60,Go=ai*60,rs=Go*24,pb=rs*7,FM=rs*30,gT=rs*365,ll=Sn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*zo)},(t,e)=>(e-t)/zo,t=>t.getUTCSeconds());ll.range;const mb=Sn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zo)},(t,e)=>{t.setTime(+t+e*ai)},(t,e)=>(e-t)/ai,t=>t.getMinutes());mb.range;const gb=Sn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ai)},(t,e)=>(e-t)/ai,t=>t.getUTCMinutes());gb.range;const yb=Sn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zo-t.getMinutes()*ai)},(t,e)=>{t.setTime(+t+e*Go)},(t,e)=>(e-t)/Go,t=>t.getHours());yb.range;const vb=Sn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Go)},(t,e)=>(e-t)/Go,t=>t.getUTCHours());vb.range;const lh=Sn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ai)/rs,t=>t.getDate()-1);lh.range;const Ty=Sn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/rs,t=>t.getUTCDate()-1);Ty.range;const PU=Sn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/rs,t=>Math.floor(t/rs));PU.range;function Nl(t){return Sn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ai)/pb)}const Ey=Nl(0),vg=Nl(1),HQ=Nl(2),zQ=Nl(3),rc=Nl(4),GQ=Nl(5),KQ=Nl(6);Ey.range;vg.range;HQ.range;zQ.range;rc.range;GQ.range;KQ.range;function Dl(t){return Sn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/pb)}const Sy=Dl(0),_g=Dl(1),jQ=Dl(2),YQ=Dl(3),ic=Dl(4),WQ=Dl(5),JQ=Dl(6);Sy.range;_g.range;jQ.range;YQ.range;ic.range;WQ.range;JQ.range;const _b=Sn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());_b.range;const Tb=Sn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Tb.range;const is=Sn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());is.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Sn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});is.range;const os=Sn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());os.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Sn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});os.range;function MU(t,e,n,r,i,o){const a=[[ll,1,zo],[ll,5,5*zo],[ll,15,15*zo],[ll,30,30*zo],[o,1,ai],[o,5,5*ai],[o,15,15*ai],[o,30,30*ai],[i,1,Go],[i,3,3*Go],[i,6,6*Go],[i,12,12*Go],[r,1,rs],[r,2,2*rs],[n,1,pb],[e,1,FM],[e,3,3*FM],[t,1,gT]];function u(d,p,y){const _=p<d;_&&([d,p]=[p,d]);const E=y&&typeof y.range=="function"?y:c(d,p,y),w=E?E.range(d,+p+1):[];return _?w.reverse():w}function c(d,p,y){const _=Math.abs(p-d)/y,E=tb(([,,C])=>C).right(a,_);if(E===a.length)return t.every(HE(d/gT,p/gT,y));if(E===0)return yg.every(Math.max(HE(d,p,y),1));const[w,b]=a[_/a[E-1][2]<a[E][2]/_?E-1:E];return w.every(b)}return[u,c]}const[XQ,QQ]=MU(os,Tb,Sy,PU,vb,gb),[ZQ,eZ]=MU(is,_b,Ey,lh,yb,mb);function yT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function vT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Kf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function tZ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,c=t.shortMonths,d=jf(i),p=Yf(i),y=jf(o),_=Yf(o),E=jf(a),w=Yf(a),b=jf(u),C=Yf(u),P=jf(c),N=Yf(c),D={a:de,A:ye,b:Me,B:j,c:null,d:KM,e:KM,f:bZ,g:kZ,G:LZ,H:EZ,I:SZ,j:wZ,L:NU,m:AZ,M:CZ,p:ue,q:ie,Q:WM,s:JM,S:xZ,u:RZ,U:IZ,V:PZ,w:MZ,W:NZ,x:null,X:null,y:DZ,Y:OZ,Z:VZ,"%":YM},U={a:pe,A:Ne,b:ke,B:Ue,c:null,d:jM,e:jM,f:qZ,g:XZ,G:ZZ,H:UZ,I:BZ,j:FZ,L:kU,m:$Z,M:HZ,p:Gt,q:ut,Q:WM,s:JM,S:zZ,u:GZ,U:KZ,V:jZ,w:YZ,W:WZ,x:null,X:null,y:JZ,Y:QZ,Z:eee,"%":YM},$={a:q,A:F,b:z,B:H,c:Ee,d:zM,e:zM,f:yZ,g:HM,G:$M,H:GM,I:GM,j:hZ,L:gZ,m:dZ,M:pZ,p:M,q:fZ,Q:_Z,s:TZ,S:mZ,u:sZ,U:aZ,V:lZ,w:oZ,W:uZ,x:xe,X:Z,y:HM,Y:$M,Z:cZ,"%":vZ};D.x=G(n,D),D.X=G(r,D),D.c=G(e,D),U.x=G(n,U),U.X=G(r,U),U.c=G(e,U);function G(ve,Se){return function(He){var he=[],It=-1,Ze=0,Kt=ve.length,Xt,$t,po;for(He instanceof Date||(He=new Date(+He));++It<Kt;)ve.charCodeAt(It)===37&&(he.push(ve.slice(Ze,It)),($t=qM[Xt=ve.charAt(++It)])!=null?Xt=ve.charAt(++It):$t=Xt==="e"?" ":"0",(po=Se[Xt])&&(Xt=po(He,$t)),he.push(Xt),Ze=It+1);return he.push(ve.slice(Ze,It)),he.join("")}}function k(ve,Se){return function(He){var he=Kf(1900,void 0,1),It=O(he,ve,He+="",0),Ze,Kt;if(It!=He.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(Se&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Ze=vT(Kf(he.y,0,1)),Kt=Ze.getUTCDay(),Ze=Kt>4||Kt===0?_g.ceil(Ze):_g(Ze),Ze=Ty.offset(Ze,(he.V-1)*7),he.y=Ze.getUTCFullYear(),he.m=Ze.getUTCMonth(),he.d=Ze.getUTCDate()+(he.w+6)%7):(Ze=yT(Kf(he.y,0,1)),Kt=Ze.getDay(),Ze=Kt>4||Kt===0?vg.ceil(Ze):vg(Ze),Ze=lh.offset(Ze,(he.V-1)*7),he.y=Ze.getFullYear(),he.m=Ze.getMonth(),he.d=Ze.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),Kt="Z"in he?vT(Kf(he.y,0,1)).getUTCDay():yT(Kf(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(Kt+5)%7:he.w+he.U*7-(Kt+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,vT(he)):yT(he)}}function O(ve,Se,He,he){for(var It=0,Ze=Se.length,Kt=He.length,Xt,$t;It<Ze;){if(he>=Kt)return-1;if(Xt=Se.charCodeAt(It++),Xt===37){if(Xt=Se.charAt(It++),$t=$[Xt in qM?Se.charAt(It++):Xt],!$t||(he=$t(ve,He,he))<0)return-1}else if(Xt!=He.charCodeAt(he++))return-1}return he}function M(ve,Se,He){var he=d.exec(Se.slice(He));return he?(ve.p=p.get(he[0].toLowerCase()),He+he[0].length):-1}function q(ve,Se,He){var he=E.exec(Se.slice(He));return he?(ve.w=w.get(he[0].toLowerCase()),He+he[0].length):-1}function F(ve,Se,He){var he=y.exec(Se.slice(He));return he?(ve.w=_.get(he[0].toLowerCase()),He+he[0].length):-1}function z(ve,Se,He){var he=P.exec(Se.slice(He));return he?(ve.m=N.get(he[0].toLowerCase()),He+he[0].length):-1}function H(ve,Se,He){var he=b.exec(Se.slice(He));return he?(ve.m=C.get(he[0].toLowerCase()),He+he[0].length):-1}function Ee(ve,Se,He){return O(ve,e,Se,He)}function xe(ve,Se,He){return O(ve,n,Se,He)}function Z(ve,Se,He){return O(ve,r,Se,He)}function de(ve){return a[ve.getDay()]}function ye(ve){return o[ve.getDay()]}function Me(ve){return c[ve.getMonth()]}function j(ve){return u[ve.getMonth()]}function ue(ve){return i[+(ve.getHours()>=12)]}function ie(ve){return 1+~~(ve.getMonth()/3)}function pe(ve){return a[ve.getUTCDay()]}function Ne(ve){return o[ve.getUTCDay()]}function ke(ve){return c[ve.getUTCMonth()]}function Ue(ve){return u[ve.getUTCMonth()]}function Gt(ve){return i[+(ve.getUTCHours()>=12)]}function ut(ve){return 1+~~(ve.getUTCMonth()/3)}return{format:function(ve){var Se=G(ve+="",D);return Se.toString=function(){return ve},Se},parse:function(ve){var Se=k(ve+="",!1);return Se.toString=function(){return ve},Se},utcFormat:function(ve){var Se=G(ve+="",U);return Se.toString=function(){return ve},Se},utcParse:function(ve){var Se=k(ve+="",!0);return Se.toString=function(){return ve},Se}}}var qM={"-":"",_:" ",0:"0"},On=/^\s*\d+/,nZ=/^%/,rZ=/[\\^$*+?|[\]().{}]/g;function ft(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function iZ(t){return t.replace(rZ,"\\$&")}function jf(t){return new RegExp("^(?:"+t.map(iZ).join("|")+")","i")}function Yf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function oZ(t,e,n){var r=On.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function sZ(t,e,n){var r=On.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function aZ(t,e,n){var r=On.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function lZ(t,e,n){var r=On.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function uZ(t,e,n){var r=On.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function $M(t,e,n){var r=On.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function HM(t,e,n){var r=On.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function cZ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fZ(t,e,n){var r=On.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function dZ(t,e,n){var r=On.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function zM(t,e,n){var r=On.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function hZ(t,e,n){var r=On.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function GM(t,e,n){var r=On.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function pZ(t,e,n){var r=On.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function mZ(t,e,n){var r=On.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function gZ(t,e,n){var r=On.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function yZ(t,e,n){var r=On.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function vZ(t,e,n){var r=nZ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function _Z(t,e,n){var r=On.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function TZ(t,e,n){var r=On.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function KM(t,e){return ft(t.getDate(),e,2)}function EZ(t,e){return ft(t.getHours(),e,2)}function SZ(t,e){return ft(t.getHours()%12||12,e,2)}function wZ(t,e){return ft(1+lh.count(is(t),t),e,3)}function NU(t,e){return ft(t.getMilliseconds(),e,3)}function bZ(t,e){return NU(t,e)+"000"}function AZ(t,e){return ft(t.getMonth()+1,e,2)}function CZ(t,e){return ft(t.getMinutes(),e,2)}function xZ(t,e){return ft(t.getSeconds(),e,2)}function RZ(t){var e=t.getDay();return e===0?7:e}function IZ(t,e){return ft(Ey.count(is(t)-1,t),e,2)}function DU(t){var e=t.getDay();return e>=4||e===0?rc(t):rc.ceil(t)}function PZ(t,e){return t=DU(t),ft(rc.count(is(t),t)+(is(t).getDay()===4),e,2)}function MZ(t){return t.getDay()}function NZ(t,e){return ft(vg.count(is(t)-1,t),e,2)}function DZ(t,e){return ft(t.getFullYear()%100,e,2)}function kZ(t,e){return t=DU(t),ft(t.getFullYear()%100,e,2)}function OZ(t,e){return ft(t.getFullYear()%1e4,e,4)}function LZ(t,e){var n=t.getDay();return t=n>=4||n===0?rc(t):rc.ceil(t),ft(t.getFullYear()%1e4,e,4)}function VZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ft(e/60|0,"0",2)+ft(e%60,"0",2)}function jM(t,e){return ft(t.getUTCDate(),e,2)}function UZ(t,e){return ft(t.getUTCHours(),e,2)}function BZ(t,e){return ft(t.getUTCHours()%12||12,e,2)}function FZ(t,e){return ft(1+Ty.count(os(t),t),e,3)}function kU(t,e){return ft(t.getUTCMilliseconds(),e,3)}function qZ(t,e){return kU(t,e)+"000"}function $Z(t,e){return ft(t.getUTCMonth()+1,e,2)}function HZ(t,e){return ft(t.getUTCMinutes(),e,2)}function zZ(t,e){return ft(t.getUTCSeconds(),e,2)}function GZ(t){var e=t.getUTCDay();return e===0?7:e}function KZ(t,e){return ft(Sy.count(os(t)-1,t),e,2)}function OU(t){var e=t.getUTCDay();return e>=4||e===0?ic(t):ic.ceil(t)}function jZ(t,e){return t=OU(t),ft(ic.count(os(t),t)+(os(t).getUTCDay()===4),e,2)}function YZ(t){return t.getUTCDay()}function WZ(t,e){return ft(_g.count(os(t)-1,t),e,2)}function JZ(t,e){return ft(t.getUTCFullYear()%100,e,2)}function XZ(t,e){return t=OU(t),ft(t.getUTCFullYear()%100,e,2)}function QZ(t,e){return ft(t.getUTCFullYear()%1e4,e,4)}function ZZ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ic(t):ic.ceil(t),ft(t.getUTCFullYear()%1e4,e,4)}function eee(){return"+0000"}function YM(){return"%"}function WM(t){return+t}function JM(t){return Math.floor(+t/1e3)}var xu,LU,VU;tee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tee(t){return xu=tZ(t),LU=xu.format,xu.parse,VU=xu.utcFormat,xu.utcParse,xu}function nee(t){return new Date(t)}function ree(t){return t instanceof Date?+t:+new Date(+t)}function Eb(t,e,n,r,i,o,a,u,c,d){var p=ab(),y=p.invert,_=p.domain,E=d(".%L"),w=d(":%S"),b=d("%I:%M"),C=d("%I %p"),P=d("%a %d"),N=d("%b %d"),D=d("%B"),U=d("%Y");function $(G){return(c(G)<G?E:u(G)<G?w:a(G)<G?b:o(G)<G?C:r(G)<G?i(G)<G?P:N:n(G)<G?D:U)(G)}return p.invert=function(G){return new Date(y(G))},p.domain=function(G){return arguments.length?_(Array.from(G,ree)):_().map(nee)},p.ticks=function(G){var k=_();return t(k[0],k[k.length-1],G??10)},p.tickFormat=function(G,k){return k==null?$:d(k)},p.nice=function(G){var k=_();return(!G||typeof G.range!="function")&&(G=e(k[0],k[k.length-1],G??10)),G?_(wU(k,G)):p},p.copy=function(){return ah(p,Eb(t,e,n,r,i,o,a,u,c,d))},p}function iee(){return hi.apply(Eb(ZQ,eZ,is,_b,Ey,lh,yb,mb,ll,LU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function oee(){return hi.apply(Eb(XQ,QQ,os,Tb,Sy,Ty,vb,gb,ll,VU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wy(){var t=0,e=1,n,r,i,o,a=cr,u=!1,c;function d(y){return y==null||isNaN(y=+y)?c:a(i===0?.5:(y=(o(y)-n)*i,u?Math.max(0,Math.min(1,y)):y))}d.domain=function(y){return arguments.length?([t,e]=y,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(y){return arguments.length?(u=!!y,d):u},d.interpolator=function(y){return arguments.length?(a=y,d):a};function p(y){return function(_){var E,w;return arguments.length?([E,w]=_,a=y(E,w),d):[a(0),a(1)]}}return d.range=p(_c),d.rangeRound=p(sb),d.unknown=function(y){return arguments.length?(c=y,d):c},function(y){return o=y,n=y(t),r=y(e),i=n===r?0:1/(r-n),d}}function _a(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function UU(){var t=va(wy()(cr));return t.copy=function(){return _a(t,UU())},us.apply(t,arguments)}function BU(){var t=cb(wy()).domain([1,10]);return t.copy=function(){return _a(t,BU()).base(t.base())},us.apply(t,arguments)}function FU(){var t=fb(wy());return t.copy=function(){return _a(t,FU()).constant(t.constant())},us.apply(t,arguments)}function Sb(){var t=db(wy());return t.copy=function(){return _a(t,Sb()).exponent(t.exponent())},us.apply(t,arguments)}function see(){return Sb.apply(null,arguments).exponent(.5)}function qU(){var t=[],e=cr;function n(r){if(r!=null&&!isNaN(r=+r))return e((oh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ra),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>GX(t,o/r))},n.copy=function(){return qU(e).domain(t)},us.apply(n,arguments)}function by(){var t=0,e=.5,n=1,r=1,i,o,a,u,c,d=cr,p,y=!1,_;function E(b){return isNaN(b=+b)?_:(b=.5+((b=+p(b))-o)*(r*b<r*o?u:c),d(y?Math.max(0,Math.min(1,b)):b))}E.domain=function(b){return arguments.length?([t,e,n]=b,i=p(t=+t),o=p(e=+e),a=p(n=+n),u=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,E):[t,e,n]},E.clamp=function(b){return arguments.length?(y=!!b,E):y},E.interpolator=function(b){return arguments.length?(d=b,E):d};function w(b){return function(C){var P,N,D;return arguments.length?([P,N,D]=C,d=vQ(b,[P,N,D]),E):[d(0),d(.5),d(1)]}}return E.range=w(_c),E.rangeRound=w(sb),E.unknown=function(b){return arguments.length?(_=b,E):_},function(b){return p=b,i=b(t),o=b(e),a=b(n),u=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,E}}function $U(){var t=va(by()(cr));return t.copy=function(){return _a(t,$U())},us.apply(t,arguments)}function HU(){var t=cb(by()).domain([.1,1,10]);return t.copy=function(){return _a(t,HU()).base(t.base())},us.apply(t,arguments)}function zU(){var t=fb(by());return t.copy=function(){return _a(t,zU()).constant(t.constant())},us.apply(t,arguments)}function wb(){var t=db(by());return t.copy=function(){return _a(t,wb()).exponent(t.exponent())},us.apply(t,arguments)}function aee(){return wb.apply(null,arguments).exponent(.5)}const id=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rb,scaleDiverging:$U,scaleDivergingLog:HU,scaleDivergingPow:wb,scaleDivergingSqrt:aee,scaleDivergingSymlog:zU,scaleIdentity:SU,scaleImplicit:zE,scaleLinear:EU,scaleLog:bU,scaleOrdinal:nb,scalePoint:YX,scalePow:hb,scaleQuantile:xU,scaleQuantize:RU,scaleRadial:CU,scaleSequential:UU,scaleSequentialLog:BU,scaleSequentialPow:Sb,scaleSequentialQuantile:qU,scaleSequentialSqrt:see,scaleSequentialSymlog:FU,scaleSqrt:qQ,scaleSymlog:AU,scaleThreshold:IU,scaleTime:iee,scaleUtc:oee,tickFormat:TU},Symbol.toStringTag,{value:"Module"}));var Ta=t=>t.chartData,lee=re([Ta],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),bb=(t,e,n,r)=>r?lee(t):Ta(t);function oc(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(qr(e)&&qr(n))return!0}return!1}function XM(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function uee(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(qr(n))i=n;else if(typeof n=="function")return;if(qr(r))o=r;else if(typeof r=="function")return;var a=[i,o];if(oc(a))return a}}function cee(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(oc(r))return XM(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,a,u;if(i==="auto")e!=null&&(a=Math.min(...e));else if(Ke(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&HP.test(i)){var c=HP.exec(i);if(c==null||e==null)a=void 0;else{var d=+c[1];a=e[0]-d}}else a=e==null?void 0:e[0];if(o==="auto")e!=null&&(u=Math.max(...e));else if(Ke(o))u=o;else if(typeof o=="function")try{e!=null&&(u=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&zP.test(o)){var p=zP.exec(o);if(p==null||e==null)u=void 0;else{var y=+p[1];u=e[1]+y}}else u=e==null?void 0:e[1];var _=[a,u];if(oc(_))return e==null?_:XM(_,e,n)}}}var Tc=1e9,fee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Cb,Ft=!0,di="[DecimalError] ",ml=di+"Invalid argument: ",Ab=di+"Exponent out of range: ",Ec=Math.floor,rl=Math.pow,dee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kr,Pn=1e7,Ot=7,GU=9007199254740991,Tg=Ec(GU/Ot),Ce={};Ce.absoluteValue=Ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ce.comparedTo=Ce.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ot;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ce.dividedBy=Ce.div=function(t){return Wo(this,new this.constructor(t))};Ce.dividedToIntegerBy=Ce.idiv=function(t){var e=this,n=e.constructor;return Rt(Wo(e,new n(t),0,1),n.precision)};Ce.equals=Ce.eq=function(t){return!this.cmp(t)};Ce.exponent=function(){return dn(this)};Ce.greaterThan=Ce.gt=function(t){return this.cmp(t)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(t){return this.cmp(t)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(t){return this.cmp(t)<0};Ce.lessThanOrEqualTo=Ce.lte=function(t){return this.cmp(t)<1};Ce.logarithm=Ce.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(kr))throw Error(di+"NaN");if(n.s<1)throw Error(di+(n.s?"NaN":"-Infinity"));return n.eq(kr)?new r(0):(Ft=!1,e=Wo(Ld(n,o),Ld(t,o),o),Ft=!0,Rt(e,i))};Ce.minus=Ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?YU(e,t):KU(e,(t.s=-t.s,t))};Ce.modulo=Ce.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(di+"NaN");return n.s?(Ft=!1,e=Wo(n,t,0,1).times(t),Ft=!0,n.minus(e)):Rt(new r(n),i)};Ce.naturalExponential=Ce.exp=function(){return jU(this)};Ce.naturalLogarithm=Ce.ln=function(){return Ld(this)};Ce.negated=Ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ce.plus=Ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?KU(e,t):YU(e,(t.s=-t.s,t))};Ce.precision=Ce.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ml+t);if(e=dn(i)+1,r=i.d.length-1,n=r*Ot+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ce.squareRoot=Ce.sqrt=function(){var t,e,n,r,i,o,a,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(di+"NaN")}for(t=dn(u),Ft=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Qi(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ec((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(o=r,r=o.plus(Wo(u,o,a+2)).times(.5),Qi(o.d).slice(0,a)===(e=Qi(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Rt(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(e!="9999")break;a+=4}return Ft=!0,Rt(r,n)};Ce.times=Ce.mul=function(t){var e,n,r,i,o,a,u,c,d,p=this,y=p.constructor,_=p.d,E=(t=new y(t)).d;if(!p.s||!t.s)return new y(0);for(t.s*=p.s,n=p.e+t.e,c=_.length,d=E.length,c<d&&(o=_,_=E,E=o,a=c,c=d,d=a),o=[],a=c+d,r=a;r--;)o.push(0);for(r=d;--r>=0;){for(e=0,i=c+r;i>r;)u=o[i]+E[r]*_[i-r-1]+e,o[i--]=u%Pn|0,e=u/Pn|0;o[i]=(o[i]+e)%Pn|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Ft?Rt(t,y.precision):t};Ce.toDecimalPlaces=Ce.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(uo(t,0,Tc),e===void 0?e=r.rounding:uo(e,0,8),Rt(n,t+dn(n)+1,e))};Ce.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=bl(r,!0):(uo(t,0,Tc),e===void 0?e=i.rounding:uo(e,0,8),r=Rt(new i(r),t+1,e),n=bl(r,!0,t+1)),n};Ce.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?bl(i):(uo(t,0,Tc),e===void 0?e=o.rounding:uo(e,0,8),r=Rt(new o(i),t+dn(i)+1,e),n=bl(r.abs(),!1,t+dn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ce.toInteger=Ce.toint=function(){var t=this,e=t.constructor;return Rt(new e(t),dn(t)+1,e.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(t){var e,n,r,i,o,a,u=this,c=u.constructor,d=12,p=+(t=new c(t));if(!t.s)return new c(kr);if(u=new c(u),!u.s){if(t.s<1)throw Error(di+"Infinity");return u}if(u.eq(kr))return u;if(r=c.precision,t.eq(kr))return Rt(u,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=u.s,a){if((n=p<0?-p:p)<=GU){for(i=new c(kr),e=Math.ceil(r/Ot+4),Ft=!1;n%2&&(i=i.times(u),ZM(i.d,e)),n=Ec(n/2),n!==0;)u=u.times(u),ZM(u.d,e);return Ft=!0,t.s<0?new c(kr).div(i):Rt(i,r)}}else if(o<0)throw Error(di+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Ft=!1,i=t.times(Ld(u,r+d)),Ft=!0,i=jU(i),i.s=o,i};Ce.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=dn(i),r=bl(i,n<=o.toExpNeg||n>=o.toExpPos)):(uo(t,1,Tc),e===void 0?e=o.rounding:uo(e,0,8),i=Rt(new o(i),t,e),n=dn(i),r=bl(i,t<=n||n<=o.toExpNeg,t)),r};Ce.toSignificantDigits=Ce.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(uo(t,1,Tc),e===void 0?e=r.rounding:uo(e,0,8)),Rt(new r(n),t,e)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=dn(t),n=t.constructor;return bl(t,e<=n.toExpNeg||e>=n.toExpPos)};function KU(t,e){var n,r,i,o,a,u,c,d,p=t.constructor,y=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Ft?Rt(e,y):e;if(c=t.d,d=e.d,a=t.e,i=e.e,c=c.slice(),o=a-i,o){for(o<0?(r=c,o=-o,u=d.length):(r=d,i=a,u=c.length),a=Math.ceil(y/Ot),u=a>u?a+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=c.length,o=d.length,u-o<0&&(o=u,r=d,d=c,c=r),n=0;o;)n=(c[--o]=c[o]+d[o]+n)/Pn|0,c[o]%=Pn;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,Ft?Rt(e,y):e}function uo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ml+t)}function Qi(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Ot-r.length,n&&(o+=qs(n)),o+=r;a=t[e],r=a+"",n=Ot-r.length,n&&(o+=qs(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Wo=(function(){function t(r,i){var o,a=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+a,r[u]=o%Pn|0,a=o/Pn|0;return a&&r.unshift(a),r}function e(r,i,o,a){var u,c;if(o!=a)c=o>a?1:-1;else for(u=c=0;u<o;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Pn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var u,c,d,p,y,_,E,w,b,C,P,N,D,U,$,G,k,O,M=r.constructor,q=r.s==i.s?1:-1,F=r.d,z=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(di+"Division by zero");for(c=r.e-i.e,k=z.length,$=F.length,E=new M(q),w=E.d=[],d=0;z[d]==(F[d]||0);)++d;if(z[d]>(F[d]||0)&&--c,o==null?N=o=M.precision:a?N=o+(dn(r)-dn(i))+1:N=o,N<0)return new M(0);if(N=N/Ot+2|0,d=0,k==1)for(p=0,z=z[0],N++;(d<$||p)&&N--;d++)D=p*Pn+(F[d]||0),w[d]=D/z|0,p=D%z|0;else{for(p=Pn/(z[0]+1)|0,p>1&&(z=t(z,p),F=t(F,p),k=z.length,$=F.length),U=k,b=F.slice(0,k),C=b.length;C<k;)b[C++]=0;O=z.slice(),O.unshift(0),G=z[0],z[1]>=Pn/2&&++G;do p=0,u=e(z,b,k,C),u<0?(P=b[0],k!=C&&(P=P*Pn+(b[1]||0)),p=P/G|0,p>1?(p>=Pn&&(p=Pn-1),y=t(z,p),_=y.length,C=b.length,u=e(y,b,_,C),u==1&&(p--,n(y,k<_?O:z,_))):(p==0&&(u=p=1),y=z.slice()),_=y.length,_<C&&y.unshift(0),n(b,y,C),u==-1&&(C=b.length,u=e(z,b,k,C),u<1&&(p++,n(b,k<C?O:z,C))),C=b.length):u===0&&(p++,b=[0]),w[d++]=p,u&&b[0]?b[C++]=F[U]||0:(b=[F[U]],C=1);while((U++<$||b[0]!==void 0)&&N--)}return w[0]||w.shift(),E.e=c,Rt(E,a?o+dn(E)+1:o)}})();function jU(t,e){var n,r,i,o,a,u,c=0,d=0,p=t.constructor,y=p.precision;if(dn(t)>16)throw Error(Ab+dn(t));if(!t.s)return new p(kr);for(Ft=!1,u=y,a=new p(.03125);t.abs().gte(.1);)t=t.times(a),d+=5;for(r=Math.log(rl(2,d))/Math.LN10*2+5|0,u+=r,n=i=o=new p(kr),p.precision=u;;){if(i=Rt(i.times(t),u),n=n.times(++c),a=o.plus(Wo(i,n,u)),Qi(a.d).slice(0,u)===Qi(o.d).slice(0,u)){for(;d--;)o=Rt(o.times(o),u);return p.precision=y,e==null?(Ft=!0,Rt(o,y)):o}o=a}}function dn(t){for(var e=t.e*Ot,n=t.d[0];n>=10;n/=10)e++;return e}function _T(t,e,n){if(e>t.LN10.sd())throw Ft=!0,n&&(t.precision=n),Error(di+"LN10 precision limit exceeded");return Rt(new t(t.LN10),e)}function qs(t){for(var e="";t--;)e+="0";return e}function Ld(t,e){var n,r,i,o,a,u,c,d,p,y=1,_=10,E=t,w=E.d,b=E.constructor,C=b.precision;if(E.s<1)throw Error(di+(E.s?"NaN":"-Infinity"));if(E.eq(kr))return new b(0);if(e==null?(Ft=!1,d=C):d=e,E.eq(10))return e==null&&(Ft=!0),_T(b,d);if(d+=_,b.precision=d,n=Qi(w),r=n.charAt(0),o=dn(E),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)E=E.times(t),n=Qi(E.d),r=n.charAt(0),y++;o=dn(E),r>1?(E=new b("0."+n),o++):E=new b(r+"."+n.slice(1))}else return c=_T(b,d+2,C).times(o+""),E=Ld(new b(r+"."+n.slice(1)),d-_).plus(c),b.precision=C,e==null?(Ft=!0,Rt(E,C)):E;for(u=a=E=Wo(E.minus(kr),E.plus(kr),d),p=Rt(E.times(E),d),i=3;;){if(a=Rt(a.times(p),d),c=u.plus(Wo(a,new b(i),d)),Qi(c.d).slice(0,d)===Qi(u.d).slice(0,d))return u=u.times(2),o!==0&&(u=u.plus(_T(b,d+2,C).times(o+""))),u=Wo(u,new b(y),d),b.precision=C,e==null?(Ft=!0,Rt(u,C)):u;u=c,i+=2}}function QM(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ec(n/Ot),t.d=[],r=(n+1)%Ot,n<0&&(r+=Ot),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ot;r<i;)t.d.push(+e.slice(r,r+=Ot));e=e.slice(r),r=Ot-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ft&&(t.e>Tg||t.e<-Tg))throw Error(Ab+n)}else t.s=0,t.e=0,t.d=[0];return t}function Rt(t,e,n){var r,i,o,a,u,c,d,p,y=t.d;for(a=1,o=y[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Ot,i=e,d=y[p=0];else{if(p=Math.ceil((r+1)/Ot),o=y.length,p>=o)return t;for(d=o=y[p],a=1;o>=10;o/=10)a++;r%=Ot,i=r-Ot+a}if(n!==void 0&&(o=rl(10,a-i-1),u=d/o%10|0,c=e<0||y[p+1]!==void 0||d%o,c=n<4?(u||c)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?d/rl(10,a-i):0:y[p-1])%10&1||n==(t.s<0?8:7))),e<1||!y[0])return c?(o=dn(t),y.length=1,e=e-o-1,y[0]=rl(10,(Ot-e%Ot)%Ot),t.e=Ec(-e/Ot)||0):(y.length=1,y[0]=t.e=t.s=0),t;if(r==0?(y.length=p,o=1,p--):(y.length=p+1,o=rl(10,Ot-r),y[p]=i>0?(d/rl(10,a-i)%rl(10,i)|0)*o:0),c)for(;;)if(p==0){(y[0]+=o)==Pn&&(y[0]=1,++t.e);break}else{if(y[p]+=o,y[p]!=Pn)break;y[p--]=0,o=1}for(r=y.length;y[--r]===0;)y.pop();if(Ft&&(t.e>Tg||t.e<-Tg))throw Error(Ab+dn(t));return t}function YU(t,e){var n,r,i,o,a,u,c,d,p,y,_=t.constructor,E=_.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new _(t),Ft?Rt(e,E):e;if(c=t.d,y=e.d,r=e.e,d=t.e,c=c.slice(),a=d-r,a){for(p=a<0,p?(n=c,a=-a,u=y.length):(n=y,r=d,u=c.length),i=Math.max(Math.ceil(E/Ot),u)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=y.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(c[i]!=y[i]){p=c[i]<y[i];break}a=0}for(p&&(n=c,c=y,y=n,e.s=-e.s),u=c.length,i=y.length-u;i>0;--i)c[u++]=0;for(i=y.length;i>a;){if(c[--i]<y[i]){for(o=i;o&&c[--o]===0;)c[o]=Pn-1;--c[o],c[i]+=Pn}c[i]-=y[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Ft?Rt(e,E):e):new _(0)}function bl(t,e,n){var r,i=dn(t),o=Qi(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+qs(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+qs(-i-1)+o,n&&(r=n-a)>0&&(o+=qs(r))):i>=a?(o+=qs(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+qs(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=qs(r))),t.s<0?"-"+o:o}function ZM(t,e){if(t.length>e)return t.length=e,!0}function WU(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ml+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return QM(a,o.toString())}else if(typeof o!="string")throw Error(ml+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,dee.test(o))QM(a,o);else throw Error(ml+o)}if(i.prototype=Ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=WU,i.config=i.set=hee,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function hee(t){if(!t||typeof t!="object")throw Error(di+"Object expected");var e,n,r,i=["precision",1,Tc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ec(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ml+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ml+n+": "+r);return this}var Cb=WU(fee);kr=new Cb(1);const _t=Cb;var pee=t=>t,JU={},XU=t=>t===JU,eN=t=>function e(){return arguments.length===0||arguments.length===1&&XU(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},QU=(t,e)=>t===1?e:eN(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(a=>a!==JU).length;return o>=t?e(...r):QU(t-o,eN(function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];var d=r.map(p=>XU(p)?u.shift():p);return e(...d,...u)}))}),Ay=t=>QU(t.length,t),YE=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},mee=Ay((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),gee=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return pee;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce((u,c)=>c(u),o(...arguments))}},WE=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),ZU=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e&&i.every((a,u)=>{var c;return a===((c=e)===null||c===void 0?void 0:c[u])})||(e=i,n=t(...i)),n}};function e4(t){var e;return t===0?e=1:e=Math.floor(new _t(t).abs().log(10).toNumber())+1,e}function t4(t,e,n){for(var r=new _t(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}Ay((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});Ay((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});Ay((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var n4=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},r4=(t,e,n)=>{if(t.lte(0))return new _t(0);var r=e4(t.toNumber()),i=new _t(10).pow(r),o=t.div(i),a=r!==1?.05:.1,u=new _t(Math.ceil(o.div(a).toNumber())).add(n).mul(a),c=u.mul(i);return e?new _t(c.toNumber()):new _t(Math.ceil(c.toNumber()))},yee=(t,e,n)=>{var r=new _t(1),i=new _t(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new _t(10).pow(e4(t)-1),i=new _t(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new _t(Math.floor(t)))}else t===0?i=new _t(Math.floor((e-1)/2)):n||(i=new _t(Math.floor(t)));var a=Math.floor((e-1)/2),u=gee(mee(c=>i.add(new _t(c-a).mul(r)).toNumber()),YE);return u(0,e)},i4=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new _t(0),tickMin:new _t(0),tickMax:new _t(0)};var a=r4(new _t(n).sub(e).div(r-1),i,o),u;e<=0&&n>=0?u=new _t(0):(u=new _t(e).add(n).div(2),u=u.sub(new _t(u).mod(a)));var c=Math.ceil(u.sub(e).div(a).toNumber()),d=Math.ceil(new _t(n).sub(u).div(a).toNumber()),p=c+d+1;return p>r?i4(e,n,r,i,o+1):(p<r&&(d=n>0?d+(r-p):d,c=n>0?c:c+(r-p)),{step:a,tickMin:u.sub(new _t(c).mul(a)),tickMax:u.add(new _t(d).mul(a))})};function vee(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[a,u]=n4([e,n]);if(a===-1/0||u===1/0){var c=u===1/0?[a,...YE(0,r-1).map(()=>1/0)]:[...YE(0,r-1).map(()=>-1/0),u];return e>n?WE(c):c}if(a===u)return yee(a,r,i);var{step:d,tickMin:p,tickMax:y}=i4(a,u,o,i,0),_=t4(p,y.add(new _t(.1).mul(d)),d);return e>n?WE(_):_}function _ee(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,a]=n4([n,r]);if(o===-1/0||a===1/0)return[n,r];if(o===a)return[o];var u=Math.max(e,2),c=r4(new _t(a).sub(o).div(u-1),i,0),d=[...t4(new _t(o),new _t(a),c),a];return i===!1&&(d=d.map(p=>Math.round(p))),n>r?WE(d):d}var Tee=ZU(vee),Eee=ZU(_ee),o4=t=>t.rootProps.maxBarSize,See=t=>t.rootProps.barGap,s4=t=>t.rootProps.barCategoryGap,wee=t=>t.rootProps.barSize,Cy=t=>t.rootProps.stackOffset,xb=t=>t.options.chartName,Rb=t=>t.rootProps.syncId,a4=t=>t.rootProps.syncMethod,Ib=t=>t.options.eventEmitter,Fo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Dr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},xy=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},bee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Fo.angleAxisId,includeHidden:!1,name:void 0,reversed:Fo.reversed,scale:Fo.scale,tick:Fo.tick,tickCount:void 0,ticks:void 0,type:Fo.type,unit:void 0},Aee={allowDataOverflow:Dr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Dr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Dr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Dr.scale,tick:Dr.tick,tickCount:Dr.tickCount,ticks:void 0,type:Dr.type,unit:void 0},Cee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Fo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fo.scale,tick:Fo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},xee={allowDataOverflow:Dr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Dr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Dr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Dr.scale,tick:Dr.tick,tickCount:Dr.tickCount,ticks:void 0,type:"category",unit:void 0},Pb=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Cee:bee,Mb=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?xee:Aee,Ry=t=>t.polarOptions,Nb=re([as,ls,kn],IW),l4=re([Ry,Nb],(t,e)=>{if(t!=null)return Ri(t.innerRadius,e,0)}),u4=re([Ry,Nb],(t,e)=>{if(t!=null)return Ri(t.outerRadius,e,e*.8)}),Ree=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},c4=re([Ry],Ree);re([Pb,c4],xy);var f4=re([Nb,l4,u4],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});re([Mb,f4],xy);var d4=re([Tt,Ry,l4,u4,as,ls],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:u,startAngle:c,endAngle:d}=e;return{cx:Ri(a,i,i/2),cy:Ri(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:d,clockWise:!1}}}),hn=(t,e)=>e,Iy=(t,e,n)=>n;function Db(t){return t==null?void 0:t.id}var wn=t=>{var e=Tt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Sc=t=>t.tooltip.settings.axisId,Ln=t=>{var e=wn(t),n=Sc(t);return uh(t,e,n)},h4=re([Ln],t=>t==null?void 0:t.dataKey);function p4(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:o}=n,a=new Map;return t.forEach(u=>{var c,d=(c=u.data)!==null&&c!==void 0?c:r;if(!(d==null||d.length===0)){var p=Db(u);d.forEach((y,_)=>{var E=o==null||i?_:String(fr(y,o,null)),w=fr(y,u.dataKey,0),b;a.has(E)?b=a.get(E):b={},Object.assign(b,{[p]:w}),a.set(E,b)})}}),Array.from(a.values())}function Py(t){return t.stackId!=null&&t.dataKey!=null}function tN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tN(Object(n),!0).forEach(function(r){Iee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iee(t,e,n){return(e=Pee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pee(t){var e=Mee(t,"string");return typeof e=="symbol"?e:e+""}function Mee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JE=[0,"auto"],Mr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},m4=(t,e)=>t.cartesianAxis.xAxis[e],Ea=(t,e)=>{var n=m4(t,e);return n??Mr},Nr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:JE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:rh},g4=(t,e)=>t.cartesianAxis.yAxis[e],Sa=(t,e)=>{var n=g4(t,e);return n??Nr},Nee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},kb=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Nee},Er=(t,e,n)=>{switch(e){case"xAxis":return Ea(t,n);case"yAxis":return Sa(t,n);case"zAxis":return kb(t,n);case"angleAxis":return Pb(t,n);case"radiusAxis":return Mb(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Dee=(t,e,n)=>{switch(e){case"xAxis":return Ea(t,n);case"yAxis":return Sa(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},uh=(t,e,n)=>{switch(e){case"xAxis":return Ea(t,n);case"yAxis":return Sa(t,n);case"angleAxis":return Pb(t,n);case"radiusAxis":return Mb(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},y4=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function v4(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Ob=t=>t.graphicalItems.cartesianItems,kee=re([hn,Iy],v4),_4=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),ch=re([Ob,Er,kee],_4),T4=re([ch],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Py)),E4=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),S4=re([ch],E4),w4=t=>t.map(e=>e.data).filter(Boolean).flat(1),Oee=re([ch],w4),b4=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},Lb=re([Oee,bb],b4),A4=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:fr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:fr(i,r)}))):t.map(r=>({value:r})),My=re([Lb,Er,ch],A4);function C4(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function kl(t){return t.filter(e=>lo(e)||e instanceof Date).map(Number).filter(e=>ci(e)===!1)}function Lee(t,e,n){return!n||typeof e!="number"||ci(e)?[]:n.length?kl(n.flatMap(r=>{var i=fr(t,r.dataKey),o,a;if(Array.isArray(i)?[o,a]=i:o=a=i,!(!qr(o)||!qr(a)))return[e-o,e+a]})):[]}var Vee=re([T4,bb,Ln],p4),x4=(t,e,n)=>{var r={},i=e.reduce((o,a)=>(a.stackId==null||(o[a.stackId]==null&&(o[a.stackId]=[]),o[a.stackId].push(a)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[a,u]=o,c=u.map(Db);return[a,{stackedData:GW(t,c,n),graphicalItems:u}]}))},XE=re([Vee,T4,Cy],x4),R4=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var o=JW(t,r,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Uee=re([XE,Ta,hn],R4),I4=(t,e,n,r,i)=>n.length>0?t.flatMap(o=>n.flatMap(a=>{var u,c,d=(u=r[a.id])===null||u===void 0?void 0:u.filter(y=>C4(i,y)),p=fr(o,(c=e.dataKey)!==null&&c!==void 0?c:a.dataKey);return{value:p,errorDomain:Lee(o,p,d)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(o=>({value:fr(o,e.dataKey),errorDomain:[]})):t.map(o=>({value:o,errorDomain:[]})),Ny=t=>t.errorBars,P4=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>C4(n,r));re([S4,Ny,hn],P4);var Bee=re([Lb,Er,S4,Ny,hn],I4);function Fee(t){var{value:e}=t;if(lo(e)||e instanceof Date)return e}var nN=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=kl(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},qee=(t,e,n)=>{var r=t.map(Fee).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&jL(r))?cU(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},Vb=t=>{var e;if(t==null||!("domain"in t))return JE;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=kl(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:JE},Sg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),a=Math.min(...o),u=Math.max(...o);return[a,u]}},M4=t=>t.referenceElements.dots,wc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),$ee=re([M4,hn,Iy],wc),N4=t=>t.referenceElements.areas,Hee=re([N4,hn,Iy],wc),D4=t=>t.referenceElements.lines,zee=re([D4,hn,Iy],wc),k4=(t,e)=>{var n=kl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Gee=re($ee,hn,k4),O4=(t,e)=>{var n=kl(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Kee=re([Hee,hn],O4),L4=(t,e)=>{var n=kl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},jee=re(zee,hn,L4),Yee=re(Gee,jee,Kee,(t,e,n)=>Sg(t,n,e)),Wee=re([Er],Vb),V4=(t,e,n,r,i,o,a)=>{var u=uee(e,t.allowDataOverflow);if(u!=null)return u;var c=o==="vertical"&&a==="xAxis"||o==="horizontal"&&a==="yAxis",d=c?Sg(n,i,nN(r)):Sg(i,nN(r));return cee(e,d,t.allowDataOverflow)},Jee=re([Er,Wee,Uee,Bee,Yee,Tt,hn],V4),Xee=[0,1],U4=(t,e,n,r,i,o,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:u,type:c}=t,d=Ml(e,o);return d&&u==null?cU(0,n.length):c==="category"?qee(r,t,d):i==="expand"?Xee:a}},Ub=re([Er,Tt,Lb,My,Cy,hn,Jee],U4),B4=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:a}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(eh(o));return u in id?u:"point"}}},fh=re([Er,Tt,y4,xb,hn],B4);function Qee(t){if(t!=null){if(t in id)return id[t]();var e="scale".concat(eh(t));if(e in id)return id[e]()}}function Bb(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Qee(e);if(i!=null){var o=i.domain(n).range(r);return FW(o),o}}}var F4=(t,e,n)=>{var r=Vb(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&oc(t))return Tee(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&oc(t))return Eee(t,e.tickCount,e.allowDecimals)}},Fb=re([Ub,uh,fh],F4),q4=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&oc(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],a=e[1],u=n[n.length-1];return[Math.min(i,o),Math.max(a,u)]}return e},Zee=re([Er,Ub,Fb,hn],q4),ete=re(My,Er,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(kl(t.map(u=>u.value))).sort((u,c)=>u-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var a=r[o+1]-r[o];n=Math.min(n,a)}return n/i}}),$4=re(ete,Tt,s4,kn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!qr(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var a=Ri(n,t*o),u=t*o/2;return u-a-(u-a)/o*a}return 0}),tte=(t,e)=>{var n=Ea(t,e);return n==null||typeof n.padding!="string"?0:$4(t,"xAxis",e,n.padding)},nte=(t,e)=>{var n=Sa(t,e);return n==null||typeof n.padding!="string"?0:$4(t,"yAxis",e,n.padding)},rte=re(Ea,tte,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),ite=re(Sa,nte,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),ote=re([kn,rte,vy,yy,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),ste=re([kn,Tt,ite,vy,yy,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:a}=i;return o?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),dh=(t,e,n,r)=>{var i;switch(e){case"xAxis":return ote(t,n,r);case"yAxis":return ste(t,n,r);case"zAxis":return(i=kb(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return c4(t);case"radiusAxis":return f4(t,n);default:return}},H4=re([Er,dh],xy),bc=re([Er,fh,Zee,H4],Bb);re([ch,Ny,hn],P4);function z4(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Dy=(t,e)=>e,ky=(t,e,n)=>n,ate=re(my,Dy,ky,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(z4)),lte=re(gy,Dy,ky,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(z4)),G4=(t,e)=>({width:t.width,height:e.height}),ute=(t,e)=>{var n=typeof e.width=="number"?e.width:rh;return{width:n,height:t.height}},K4=re(kn,Ea,G4),cte=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},fte=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},dte=re(ls,kn,ate,Dy,ky,(t,e,n,r,i)=>{var o={},a;return n.forEach(u=>{var c=G4(e,u);a==null&&(a=cte(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;o[u.id]=a-Number(d)*c.height,a+=(d?-1:1)*c.height}),o}),hte=re(as,kn,lte,Dy,ky,(t,e,n,r,i)=>{var o={},a;return n.forEach(u=>{var c=ute(e,u);a==null&&(a=fte(e,r,t));var d=r==="left"&&!i||r==="right"&&i;o[u.id]=a-Number(d)*c.width,a+=(d?-1:1)*c.width}),o}),pte=(t,e)=>{var n=kn(t),r=Ea(t,e);if(r!=null){var i=dte(t,r.orientation,r.mirror),o=i[e];return o==null?{x:n.left,y:0}:{x:n.left,y:o}}},mte=(t,e)=>{var n=kn(t),r=Sa(t,e);if(r!=null){var i=hte(t,r.orientation,r.mirror),o=i[e];return o==null?{x:0,y:n.top}:{x:o,y:n.top}}},j4=re(kn,Sa,(t,e)=>{var n=typeof e.width=="number"?e.width:rh;return{width:n,height:t.height}}),rN=(t,e,n)=>{switch(e){case"xAxis":return K4(t,n).width;case"yAxis":return j4(t,n).height;default:return}},Y4=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:a}=n,u=Ml(t,r),c=e.map(d=>d.value);if(a&&u&&o==="category"&&i&&jL(c))return c}},qb=re([Tt,My,Er,hn],Y4),W4=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,a=Ml(t,r);if(a&&(i==="number"||o!=="auto"))return e.map(u=>u.value)}},$b=re([Tt,My,uh,hn],W4);re([Tt,Dee,fh,bc,qb,$b,dh,Fb,hn],(t,e,n,r,i,o,a,u,c)=>{if(e==null)return null;var d=Ml(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:o,duplicateDomain:i,isCategorical:d,niceTicks:u,range:a,realScaleType:n,scale:r}});var gte=(t,e,n,r,i,o,a,u,c)=>{if(!(e==null||r==null)){var d=Ml(t,c),{type:p,ticks:y,tickCount:_}=e,E=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=p==="category"&&r.bandwidth?r.bandwidth()/E:0;w=c==="angleAxis"&&o!=null&&o.length>=2?Vr(o[0]-o[1])*2*w:w;var b=y||i;if(b){var C=b.map((P,N)=>{var D=a?a.indexOf(P):P;return{index:N,coordinate:r(D)+w,value:P,offset:w}});return C.filter(P=>!ci(P.coordinate))}return d&&u?u.map((P,N)=>({coordinate:r(P)+w,value:P,index:N,offset:w})):r.ticks?r.ticks(_).map(P=>({coordinate:r(P)+w,value:P,offset:w})):r.domain().map((P,N)=>({coordinate:r(P)+w,value:a?a[P]:P,index:N,offset:w}))}},J4=re([Tt,uh,fh,bc,Fb,dh,qb,$b,hn],gte),yte=(t,e,n,r,i,o,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Ml(t,a),{tickCount:c}=e,d=0;return d=a==="angleAxis"&&(r==null?void 0:r.length)>=2?Vr(r[0]-r[1])*2*d:d,u&&o?o.map((p,y)=>({coordinate:n(p)+d,value:p,index:y,offset:d})):n.ticks?n.ticks(c).map(p=>({coordinate:n(p)+d,value:p,offset:d})):n.domain().map((p,y)=>({coordinate:n(p)+d,value:i?i[p]:p,index:y,offset:d}))}},sc=re([Tt,uh,bc,dh,qb,$b,hn],yte),ac=re(Er,bc,(t,e)=>{if(!(t==null||e==null))return Eg(Eg({},t),{},{scale:e})}),vte=re([Er,fh,Ub,H4],Bb);re((t,e,n)=>kb(t,n),vte,(t,e)=>{if(!(t==null||e==null))return Eg(Eg({},t),{},{scale:e})});var _te=re([Tt,my,gy],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),X4=t=>t.options.defaultTooltipEventType,Q4=t=>t.options.validateTooltipEventTypes;function Z4(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function Hb(t,e){var n=X4(t),r=Q4(t);return Z4(e,n,r)}function Tte(t){return Ve(e=>Hb(e,t))}var e3=(t,e)=>{var n,r=Number(e);if(!(ci(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Ete=t=>t.tooltip.settings,Ys={active:!1,index:null,dataKey:void 0,coordinate:void 0},Ste={itemInteraction:{click:Ys,hover:Ys},axisInteraction:{click:Ys,hover:Ys},keyboardInteraction:Ys,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},t3=$r({name:"tooltip",initialState:Ste,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Yo(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:wte,removeTooltipEntrySettings:bte,setTooltipSettingsState:Ate,setActiveMouseOverItemIndex:n3,mouseLeaveItem:Cte,mouseLeaveChart:r3,setActiveClickItemIndex:xte,setMouseOverAxisIndex:i3,setMouseClickAxisIndex:Rte,setSyncInteraction:QE,setKeyboardInteraction:ZE}=t3.actions,Ite=t3.reducer;function iN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iN(Object(n),!0).forEach(function(r){Pte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pte(t,e,n){return(e=Mte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mte(t){var e=Nte(t,"string");return typeof e=="symbol"?e:e+""}function Nte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dte(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function kte(t){return t.index!=null}var o3=(t,e,n,r)=>{if(e==null)return Ys;var i=Dte(t,e,n);if(i==null)return Ys;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(kte(i)){if(o)return sm(sm({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return sm(sm({},Ys),{},{coordinate:i.coordinate})},zb=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!qr(r))return n;var i=0,o=1/0;return e.length>0&&(o=e.length-1),String(Math.max(i,Math.min(r,o)))},s3=(t,e,n,r,i,o,a,u)=>{if(!(o==null||u==null)){var c=a[0],d=c==null?void 0:u(c.positions,o);if(d!=null)return d;var p=i==null?void 0:i[Number(o)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:p.coordinate}}}},a3=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var a;return((a=o.settings)===null||a===void 0?void 0:a.dataKey)===i})},hh=t=>t.options.tooltipPayloadSearcher,Ac=t=>t.tooltip;function oN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oN(Object(n),!0).forEach(function(r){Ote(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ote(t,e,n){return(e=Lte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lte(t){var e=Vte(t,"string");return typeof e=="symbol"?e:e+""}function Vte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ute(t,e){return t??e}var l3=(t,e,n,r,i,o,a)=>{if(!(e==null||o==null)){var{chartData:u,computedData:c,dataStartIndex:d,dataEndIndex:p}=n,y=[];return t.reduce((_,E)=>{var w,{dataDefinedOnItem:b,settings:C}=E,P=Ute(b,u),N=Array.isArray(P)?XV(P,d,p):P,D=(w=C==null?void 0:C.dataKey)!==null&&w!==void 0?w:r,U=C==null?void 0:C.nameKey,$;if(r&&Array.isArray(N)&&!Array.isArray(N[0])&&a==="axis"?$=PK(N,r,i):$=o(N,e,c,U),Array.isArray($))$.forEach(k=>{var O=sN(sN({},C),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});_.push(GP({tooltipEntrySettings:O,dataKey:k.dataKey,payload:k.payload,value:fr(k.payload,k.dataKey),name:k.name}))});else{var G;_.push(GP({tooltipEntrySettings:C,dataKey:D,payload:$,value:fr($,D),name:(G=fr($,U))!==null&&G!==void 0?G:C==null?void 0:C.name}))}return _},y)}},Gb=re([Ln,Tt,y4,xb,wn],B4),Bte=re([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Fte=re([wn,Sc],v4),ph=re([Bte,Ln,Fte],_4),qte=re([ph],t=>t.filter(Py)),$te=re([ph],w4),Cc=re([$te,Ta],b4),Hte=re([qte,Ta,Ln],p4),Kb=re([Cc,Ln,ph],A4),zte=re([Ln],Vb),Gte=re([ph],t=>t.filter(Py)),Kte=re([Hte,Gte,Cy],x4),jte=re([Kte,Ta,wn],R4),Yte=re([ph],E4),Wte=re([Cc,Ln,Yte,Ny,wn],I4),Jte=re([M4,wn,Sc],wc),Xte=re([Jte,wn],k4),Qte=re([N4,wn,Sc],wc),Zte=re([Qte,wn],O4),ene=re([D4,wn,Sc],wc),tne=re([ene,wn],L4),nne=re([Xte,tne,Zte],Sg),rne=re([Ln,zte,jte,Wte,nne,Tt,wn],V4),u3=re([Ln,Tt,Cc,Kb,Cy,wn,rne],U4),ine=re([u3,Ln,Gb],F4),one=re([Ln,u3,ine,wn],q4),c3=t=>{var e=wn(t),n=Sc(t),r=!1;return dh(t,e,n,r)},f3=re([Ln,c3],xy),d3=re([Ln,Gb,one,f3],Bb),sne=re([Tt,Kb,Ln,wn],Y4),ane=re([Tt,Kb,Ln,wn],W4),lne=(t,e,n,r,i,o,a,u)=>{if(e){var{type:c}=e,d=Ml(t,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,y=c==="category"&&r.bandwidth?r.bandwidth()/p:0;return y=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Vr(i[0]-i[1])*2*y:y,d&&a?a.map((_,E)=>({coordinate:r(_)+y,value:_,index:E,offset:y})):r.domain().map((_,E)=>({coordinate:r(_)+y,value:o?o[_]:_,index:E,offset:y}))}}},cs=re([Tt,Ln,Gb,d3,c3,sne,ane,wn],lne),jb=re([X4,Q4,Ete],(t,e,n)=>Z4(n.shared,t,e)),h3=t=>t.tooltip.settings.trigger,Yb=t=>t.tooltip.settings.defaultIndex,Oy=re([Ac,jb,h3,Yb],o3),lc=re([Oy,Cc],zb),p3=re([cs,lc],e3),m3=re([Oy],t=>{if(t)return t.dataKey}),g3=re([Ac,jb,h3,Yb],a3),une=re([as,ls,Tt,kn,cs,Yb,g3,hh],s3),cne=re([Oy,une],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),fne=re([Oy],t=>t.active),dne=re([g3,lc,Ta,h4,p3,hh,jb],l3);re([dne],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function aN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aN(Object(n),!0).forEach(function(r){hne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hne(t,e,n){return(e=pne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pne(t){var e=mne(t,"string");return typeof e=="symbol"?e:e+""}function mne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gne=()=>Ve(Ln),yne=()=>{var t=gne(),e=Ve(cs),n=Ve(d3);return Ww(lN(lN({},t),{},{scale:n}),e)},vne=()=>Ve(xb),Wb=(t,e)=>e,y3=(t,e,n)=>n,Jb=(t,e,n,r)=>r,_ne=re(cs,t=>uy(t,e=>e.coordinate)),Xb=re([Ac,Wb,y3,Jb],o3),v3=re([Xb,Cc],zb),Tne=(t,e,n)=>{if(e!=null){var r=Ac(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},_3=re([Ac,Wb,y3,Jb],a3),wg=re([as,ls,Tt,kn,cs,Jb,_3,hh],s3),Ene=re([Xb,wg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),T3=re(cs,v3,e3),Sne=re([_3,v3,Ta,h4,T3,hh,Wb],l3),wne=re([Xb],t=>({isActive:t.active,activeIndex:t.index})),bne=(t,e,n,r,i,o,a,u)=>{if(!(!t||!e||!r||!i||!o)){var c=XW(t.chartX,t.chartY,e,n,u);if(c){var d=ZW(c,e),p=UW(d,a,o,r,i),y=QW(e,o,p,c);return{activeIndex:String(p),activeCoordinate:y}}}};function eS(){return eS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eS.apply(null,arguments)}function uN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function am(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uN(Object(n),!0).forEach(function(r){Ane(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ane(t,e,n){return(e=Cne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cne(t){var e=xne(t,"string");return typeof e=="symbol"?e:e+""}function xne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rne(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:a,cursor:u,tooltipEventType:c,chartName:d}=t,p=e,y=n,_=r;if(!u||!p||d!=="ScatterChart"&&c!=="axis")return null;var E,w;if(d==="ScatterChart")E=p,w=YJ;else if(d==="BarChart")E=WJ(a,p,i,o),w=sU;else if(a==="radial"){var{cx:b,cy:C,radius:P,startAngle:N,endAngle:D}=aU(p);E={cx:b,cy:C,startAngle:N,endAngle:D,innerRadius:P,outerRadius:P},w=uU}else E={points:RX(a,p,i)},w=BJ;var U=typeof u=="object"&&"className"in u?u.className:void 0,$=am(am(am(am({stroke:"#ccc",pointerEvents:"none"},i),E),Mn(u,!1)),{},{payload:y,payloadIndex:_,className:Vt("recharts-tooltip-cursor",U)});return R.isValidElement(u)?R.cloneElement(u,$):R.createElement(w,$)}function Ine(t){var e=yne(),n=pJ(),r=Qw(),i=vne();return R.createElement(Rne,eS({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var E3=R.createContext(null),Pne=()=>R.useContext(E3),TT={exports:{}},cN;function Mne(){return cN||(cN=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,p){this.fn=c,this.context=d,this.once=p||!1}function o(c,d,p,y,_){if(typeof p!="function")throw new TypeError("The listener must be a function");var E=new i(p,y||c,_),w=n?n+d:d;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],E]:c._events[w].push(E):(c._events[w]=E,c._eventsCount++),c}function a(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],p,y;if(this._eventsCount===0)return d;for(y in p=this._events)e.call(p,y)&&d.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},u.prototype.listeners=function(d){var p=n?n+d:d,y=this._events[p];if(!y)return[];if(y.fn)return[y.fn];for(var _=0,E=y.length,w=new Array(E);_<E;_++)w[_]=y[_].fn;return w},u.prototype.listenerCount=function(d){var p=n?n+d:d,y=this._events[p];return y?y.fn?1:y.length:0},u.prototype.emit=function(d,p,y,_,E,w){var b=n?n+d:d;if(!this._events[b])return!1;var C=this._events[b],P=arguments.length,N,D;if(C.fn){switch(C.once&&this.removeListener(d,C.fn,void 0,!0),P){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,p),!0;case 3:return C.fn.call(C.context,p,y),!0;case 4:return C.fn.call(C.context,p,y,_),!0;case 5:return C.fn.call(C.context,p,y,_,E),!0;case 6:return C.fn.call(C.context,p,y,_,E,w),!0}for(D=1,N=new Array(P-1);D<P;D++)N[D-1]=arguments[D];C.fn.apply(C.context,N)}else{var U=C.length,$;for(D=0;D<U;D++)switch(C[D].once&&this.removeListener(d,C[D].fn,void 0,!0),P){case 1:C[D].fn.call(C[D].context);break;case 2:C[D].fn.call(C[D].context,p);break;case 3:C[D].fn.call(C[D].context,p,y);break;case 4:C[D].fn.call(C[D].context,p,y,_);break;default:if(!N)for($=1,N=new Array(P-1);$<P;$++)N[$-1]=arguments[$];C[D].fn.apply(C[D].context,N)}}return!0},u.prototype.on=function(d,p,y){return o(this,d,p,y,!1)},u.prototype.once=function(d,p,y){return o(this,d,p,y,!0)},u.prototype.removeListener=function(d,p,y,_){var E=n?n+d:d;if(!this._events[E])return this;if(!p)return a(this,E),this;var w=this._events[E];if(w.fn)w.fn===p&&(!_||w.once)&&(!y||w.context===y)&&a(this,E);else{for(var b=0,C=[],P=w.length;b<P;b++)(w[b].fn!==p||_&&!w[b].once||y&&w[b].context!==y)&&C.push(w[b]);C.length?this._events[E]=C.length===1?C[0]:C:a(this,E)}return this},u.prototype.removeAllListeners=function(d){var p;return d?(p=n?n+d:d,this._events[p]&&a(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(TT)),TT.exports}var Nne=Mne();const Dne=co(Nne);var Vd=new Dne,tS="recharts.syncEvent.tooltip",fN="recharts.syncEvent.brush";function kne(t,e){if(e){var n=Number.parseInt(e,10);if(!ci(n))return t==null?void 0:t[n]}}var One={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},S3=$r({name:"options",initialState:One,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Lne=S3.reducer,{createEventEmitter:Vne}=S3.actions;function Une(t){return t.tooltip.syncInteraction}var Bne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},w3=$r({name:"chartData",initialState:Bne,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:dN,setDataStartEndIndexes:Fne,setComputedData:mve}=w3.actions,qne=w3.reducer,$ne=["x","y"];function hN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hN(Object(n),!0).forEach(function(r){Hne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hne(t,e,n){return(e=zne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zne(t){var e=Gne(t,"string");return typeof e=="symbol"?e:e+""}function Gne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kne(t,e){if(t==null)return{};var n,r,i=jne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var b3=()=>{};function Yne(){var t=Ve(Rb),e=Ve(Ib),n=Dn(),r=Ve(a4),i=Ve(cs),o=Qw(),a=Xw(),u=Ve(c=>c.rootProps.className);R.useEffect(()=>{if(t==null)return b3;var c=(d,p,y)=>{if(e!==y&&t===d){if(r==="index"){var _;if(a&&p!==null&&p!==void 0&&(_=p.payload)!==null&&_!==void 0&&_.coordinate){var E=p.payload.coordinate,{x:w,y:b}=E,C=Kne(E,$ne),P=Za(Za(Za({},C),typeof w=="number"&&{x:Math.max(a.x,Math.min(w,a.x+a.width))}),typeof b=="number"&&{y:Math.max(a.y,Math.min(b,a.y+a.height))}),N=Za(Za({},p),{},{payload:Za(Za({},p.payload),{},{coordinate:P})});n(N)}else n(p);return}if(i!=null){var D;if(typeof r=="function"){var U={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},$=r(i,U);D=i[$]}else r==="value"&&(D=i.find(H=>String(H.value)===p.payload.label));var{coordinate:G}=p.payload;if(D==null||p.payload.active===!1||G==null||a==null){n(QE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:k,y:O}=G,M=Math.min(k,a.x+a.width),q=Math.min(O,a.y+a.height),F={x:o==="horizontal"?D.coordinate:M,y:o==="horizontal"?q:D.coordinate},z=QE({active:p.payload.active,coordinate:F,dataKey:p.payload.dataKey,index:String(D.index),label:p.payload.label});n(z)}}};return Vd.on(tS,c),()=>{Vd.off(tS,c)}},[u,n,e,t,r,i,o,a])}function Wne(){var t=Ve(Rb),e=Ve(Ib),n=Dn();R.useEffect(()=>{if(t==null)return b3;var r=(i,o,a)=>{e!==a&&t===i&&n(Fne(o))};return Vd.on(fN,r),()=>{Vd.off(fN,r)}},[n,e,t])}function Jne(){var t=Dn();R.useEffect(()=>{t(Vne())},[t]),Yne(),Wne()}function Xne(t,e,n,r,i,o){var a=Ve(_=>Tne(_,t,e)),u=Ve(Ib),c=Ve(Rb),d=Ve(a4),p=Ve(Une),y=p==null?void 0:p.active;R.useEffect(()=>{if(!y&&c!=null&&u!=null){var _=QE({active:o,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r});Vd.emit(tS,c,_,u)}},[y,n,a,i,r,u,c,d,o])}function pN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pN(Object(n),!0).forEach(function(r){Qne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qne(t,e,n){return(e=Zne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zne(t){var e=ere(t,"string");return typeof e=="symbol"?e:e+""}function ere(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tre(t){return t.dataKey}function nre(t,e){return R.isValidElement(t)?R.cloneElement(t,e):typeof t=="function"?R.createElement(t,e):R.createElement(AJ,e)}var gN=[],rre={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ih.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ire(t){var e=ya(t,rre),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:a,filterNull:u,isAnimationActive:c,offset:d,payloadUniqBy:p,position:y,reverseDirection:_,useTranslate3d:E,wrapperStyle:w,cursor:b,shared:C,trigger:P,defaultIndex:N,portal:D,axisId:U}=e,$=Dn(),G=typeof N=="number"?String(N):N;R.useEffect(()=>{$(Ate({shared:C,trigger:P,axisId:U,active:n,defaultIndex:G}))},[$,C,P,U,n,G]);var k=Xw(),O=tU(),M=Tte(C),{activeIndex:q,isActive:F}=Ve(ke=>wne(ke,M,P,G)),z=Ve(ke=>Sne(ke,M,P,G)),H=Ve(ke=>T3(ke,M,P,G)),Ee=Ve(ke=>Ene(ke,M,P,G)),xe=z,Z=Pne(),de=n??F,[ye,Me]=xY([xe,de]),j=M==="axis"?H:void 0;Xne(M,P,Ee,j,q,de);var ue=D??Z;if(ue==null)return null;var ie=xe??gN;de||(ie=gN),u&&ie.length&&(ie=Zj(xe.filter(ke=>ke.value!=null&&(ke.hide!==!0||e.includeHidden)),p,tre));var pe=ie.length>0,Ne=R.createElement(NJ,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:c,active:de,coordinate:Ee,hasPayload:pe,offset:d,position:y,reverseDirection:_,useTranslate3d:E,viewBox:k,wrapperStyle:w,lastBoundingBox:ye,innerRef:Me,hasPortalFromProps:!!D},nre(a,mN(mN({},e),{},{payload:ie,label:j,active:de,coordinate:Ee,accessibilityLayer:O})));return R.createElement(R.Fragment,null,Jq.createPortal(Ne,ue),de&&R.createElement(Ine,{cursor:b,tooltipEventType:M,coordinate:Ee,payload:xe,index:q}))}var ET={},ST={},wT={},yN;function ore(){return yN||(yN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let a,u=null;const c=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),p=()=>{u!==null&&(n.apply(a,u),a=void 0,u=null)},y=()=>{d&&p(),b()};let _=null;const E=()=>{_!=null&&clearTimeout(_),_=setTimeout(()=>{_=null,y()},r)},w=()=>{_!==null&&(clearTimeout(_),_=null)},b=()=>{w(),a=void 0,u=null},C=()=>{p()},P=function(...N){if(i!=null&&i.aborted)return;a=this,u=N;const D=_==null;E(),c&&D&&p()};return P.schedule=E,P.cancel=b,P.flush=C,i==null||i.addEventListener("abort",b,{once:!0}),P}t.debounce=e})(wT)),wT}var vN;function sre(){return vN||(vN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ore();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:a=!1,trailing:u=!0,maxWait:c}=o,d=Array(2);a&&(d[0]="leading"),u&&(d[1]="trailing");let p,y=null;const _=e.debounce(function(...b){p=r.apply(this,b),y=null},i,{edges:d}),E=function(...b){return c!=null&&(y===null&&(y=Date.now()),Date.now()-y>=c)?(p=r.apply(this,b),y=Date.now(),_.cancel(),_.schedule(),p):(_.apply(this,b),p)},w=()=>(_.flush(),p);return E.cancel=_.cancel,E.flush=w,E}t.debounce=n})(ST)),ST}var _N;function are(){return _N||(_N=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sre();function n(r,i=0,o={}){const{leading:a=!0,trailing:u=!0}=o;return e.debounce(r,i,{leading:a,maxWait:i,trailing:u})}t.throttle=n})(ET)),ET}var bT,TN;function lre(){return TN||(TN=1,bT=are().throttle),bT}var ure=lre();const cre=co(ure);var AT=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function EN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EN(Object(n),!0).forEach(function(r){fre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fre(t,e,n){return(e=dre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dre(t){var e=hre(t,"string");return typeof e=="symbol"?e:e+""}function hre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pre=R.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:a=0,minHeight:u,maxHeight:c,children:d,debounce:p=0,id:y,className:_,onResize:E,style:w={}}=t,b=R.useRef(null),C=R.useRef();C.current=E,R.useImperativeHandle(e,()=>b.current);var[P,N]=R.useState({containerWidth:r.width,containerHeight:r.height}),D=R.useCallback(($,G)=>{N(k=>{var O=Math.round($),M=Math.round(G);return k.containerWidth===O&&k.containerHeight===M?k:{containerWidth:O,containerHeight:M}})},[]);R.useEffect(()=>{var $=M=>{var q,{width:F,height:z}=M[0].contentRect;D(F,z),(q=C.current)===null||q===void 0||q.call(C,F,z)};p>0&&($=cre($,p,{trailing:!0,leading:!1}));var G=new ResizeObserver($),{width:k,height:O}=b.current.getBoundingClientRect();return D(k,O),G.observe(b.current),()=>{G.disconnect()}},[D,p]);var U=R.useMemo(()=>{var{containerWidth:$,containerHeight:G}=P;if($<0||G<0)return null;AT(sl(i)||sl(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),AT(!n||n>0,"The aspect(%s) must be greater than zero.",n);var k=sl(i)?$:i,O=sl(o)?G:o;return n&&n>0&&(k?O=k/n:O&&(k=O*n),c&&O>c&&(O=c)),AT(k>0||O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,O,i,o,a,u,n),R.Children.map(d,M=>R.cloneElement(M,{width:k,height:O,style:CT({width:k,height:O},M.props.style)}))},[n,d,o,c,u,a,P,i]);return R.createElement("div",{id:y?"".concat(y):void 0,className:Vt("recharts-responsive-container",_),style:CT(CT({},w),{},{width:i,height:o,minWidth:a,minHeight:u,maxHeight:c}),ref:b},R.createElement("div",{style:{width:0,height:0,overflow:"visible"}},U))}),A3=t=>null;A3.displayName="Cell";function mre(t,e,n){return(e=gre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gre(t){var e=yre(t,"string");return typeof e=="symbol"?e:e+""}function yre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class vre{constructor(e){mre(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function SN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SN(Object(n),!0).forEach(function(r){Tre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tre(t,e,n){return(e=Ere(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ere(t){var e=Sre(t,"string");return typeof e=="symbol"?e:e+""}function Sre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wre={cacheSize:2e3,enableCache:!0},C3=_re({},wre),wN=new vre(C3.cacheSize),bre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},bN="recharts_measurement_span";function Are(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",a=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(a,"|").concat(u)}var AN=(t,e)=>{try{var n=document.getElementById(bN);n||(n=document.createElement("span"),n.setAttribute("id",bN),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,bre,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},pd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ih.isSsr)return{width:0,height:0};if(!C3.enableCache)return AN(e,n);var r=Are(e,n),i=wN.get(r);if(i)return i;var o=AN(e,n);return wN.set(r,o),o},CN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Cre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,x3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Rre=Object.keys(x3),Du="NaN";function Ire(t,e){return t*x3[e]}class gr{static parse(e){var n,[,r,i]=(n=xre.exec(e))!==null&&n!==void 0?n:[];return new gr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ci(e)&&(this.unit=""),n!==""&&!Cre.test(n)&&(this.num=NaN,this.unit=""),Rre.includes(n)&&(this.num=Ire(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new gr(NaN,""):new gr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new gr(NaN,""):new gr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new gr(NaN,""):new gr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new gr(NaN,""):new gr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ci(this.num)}}function R3(t){if(t.includes(Du))return Du;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=CN.exec(e))!==null&&n!==void 0?n:[],a=gr.parse(r??""),u=gr.parse(o??""),c=i==="*"?a.multiply(u):a.divide(u);if(c.isNaN())return Du;e=e.replace(CN,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,p,y,_]=(d=xN.exec(e))!==null&&d!==void 0?d:[],E=gr.parse(p??""),w=gr.parse(_??""),b=y==="+"?E.add(w):E.subtract(w);if(b.isNaN())return Du;e=e.replace(xN,b.toString())}return e}var RN=/\(([^()]*)\)/;function Pre(t){for(var e=t,n;(n=RN.exec(e))!=null;){var[,r]=n;e=e.replace(RN,R3(r))}return e}function Mre(t){var e=t.replace(/\s+/g,"");return e=Pre(e),e=R3(e),e}function Nre(t){try{return Mre(t)}catch{return Du}}function xT(t){var e=Nre(t.slice(5,-1));return e===Du?"":e}var Dre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],kre=["dx","dy","angle","className","breakAll"];function nS(){return nS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nS.apply(null,arguments)}function IN(t,e){if(t==null)return{};var n,r,i=Ore(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ore(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var I3=/[ \f\n\r\t\v\u2028\u2029]+/,P3=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Nn(e)||(n?i=e.toString().split(""):i=e.toString().split(I3));var o=i.map(u=>({word:u,width:pd(u,r).width})),a=n?0:pd(" ",r).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},Lre=(t,e,n,r,i)=>{var{maxLines:o,children:a,style:u,breakAll:c}=t,d=Ke(o),p=a,y=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce((z,H)=>{var{word:Ee,width:xe}=H,Z=z[z.length-1];if(Z&&(r==null||i||Z.width+xe+n<Number(r)))Z.words.push(Ee),Z.width+=xe+n;else{var de={words:[Ee],width:xe};z.push(de)}return z},[])},_=y(e),E=q=>q.reduce((F,z)=>F.width>z.width?F:z);if(!d||i)return _;var w=_.length>o||E(_).width>Number(r);if(!w)return _;for(var b="…",C=q=>{var F=p.slice(0,q),z=P3({breakAll:c,style:u,children:F+b}).wordsWithComputedWidth,H=y(z),Ee=H.length>o||E(H).width>Number(r);return[Ee,H]},P=0,N=p.length-1,D=0,U;P<=N&&D<=p.length-1;){var $=Math.floor((P+N)/2),G=$-1,[k,O]=C(G),[M]=C($);if(!k&&!M&&(P=$+1),k&&M&&(N=$-1),!k&&M){U=O;break}D++}return U||_},PN=t=>{var e=Nn(t)?[]:t.toString().split(I3);return[{words:e}]},Vre=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:a}=t;if((e||n)&&!ih.isSsr){var u,c,d=P3({breakAll:o,children:r,style:i});if(d){var{wordsWithComputedWidth:p,spaceWidth:y}=d;u=p,c=y}else return PN(r);return Lre({breakAll:o,children:r,maxLines:a,style:i},u,c,e,n)}return PN(r)},MN="#808080",Qb=R.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:a=!1,textAnchor:u="start",verticalAnchor:c="end",fill:d=MN}=t,p=IN(t,Dre),y=R.useMemo(()=>Vre({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:a,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,a,p.style,p.width]),{dx:_,dy:E,angle:w,className:b,breakAll:C}=p,P=IN(p,kre);if(!lo(n)||!lo(r)||y.length===0)return null;var N=n+(Ke(_)?_:0),D=r+(Ke(E)?E:0),U;switch(c){case"start":U=xT("calc(".concat(o,")"));break;case"middle":U=xT("calc(".concat((y.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:U=xT("calc(".concat(y.length-1," * -").concat(i,")"));break}var $=[];if(a){var G=y[0].width,{width:k}=p;$.push("scale(".concat(Ke(k)?k/G:1,")"))}return w&&$.push("rotate(".concat(w,", ").concat(N,", ").concat(D,")")),$.length&&(P.transform=$.join(" ")),R.createElement("text",nS({},Mn(P,!0),{ref:e,x:N,y:D,className:Vt("recharts-text",b),textAnchor:u,fill:d.includes("url")?MN:d}),y.map((O,M)=>{var q=O.words.join(C?"":" ");return R.createElement("tspan",{x:N,dy:M===0?U:i,key:"".concat(q,"-").concat(M)},q)}))});Qb.displayName="Text";var Ure=["labelRef"];function Bre(t,e){if(t==null)return{};var n,r,i=Fre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function NN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NN(Object(n),!0).forEach(function(r){qre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qre(t,e,n){return(e=$re(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $re(t){var e=Hre(t,"string");return typeof e=="symbol"?e:e+""}function Hre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qo(){return qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qo.apply(null,arguments)}var M3=R.createContext(null),zre=t=>{var{x:e,y:n,width:r,height:i,children:o}=t,a=R.useMemo(()=>({x:e,y:n,width:r,height:i}),[e,n,r,i]);return R.createElement(M3.Provider,{value:a},o)},N3=()=>{var t=R.useContext(M3),e=Xw();return t||e},Gre=R.createContext(null),Kre=()=>{var t=R.useContext(Gre),e=Ve(d4);return t||e},jre=t=>{var{value:e,formatter:n}=t,r=Nn(t.children)?e:t.children;return typeof n=="function"?n(r):r},Zb=t=>t!=null&&typeof t=="function",Yre=(t,e)=>{var n=Vr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Wre=(t,e,n,r,i)=>{var{offset:o,className:a}=t,{cx:u,cy:c,innerRadius:d,outerRadius:p,startAngle:y,endAngle:_,clockWise:E}=i,w=(d+p)/2,b=Yre(y,_),C=b>=0?1:-1,P,N;switch(e){case"insideStart":P=y+C*o,N=E;break;case"insideEnd":P=_-C*o,N=!E;break;case"end":P=_+C*o,N=E;break;default:throw new Error("Unsupported position ".concat(e))}N=b<=0?N:!N;var D=Kn(u,c,w,P),U=Kn(u,c,w,P+(N?1:-1)*359),$="M".concat(D.x,",").concat(D.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(N?0:1,`,
    `).concat(U.x,",").concat(U.y),G=Nn(t.id)?Rd("recharts-radial-line-"):t.id;return R.createElement("text",qo({},r,{dominantBaseline:"central",className:Vt("recharts-radial-bar-label",a)}),R.createElement("defs",null,R.createElement("path",{id:G,d:$})),R.createElement("textPath",{xlinkHref:"#".concat(G)},n))},Jre=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:u,endAngle:c}=t,d=(u+c)/2;if(n==="outside"){var{x:p,y}=Kn(r,i,a+e,d);return{x:p,y,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var _=(o+a)/2,{x:E,y:w}=Kn(r,i,_,d);return{x:E,y:w,textAnchor:"middle",verticalAnchor:"middle"}},D3=t=>"cx"in t&&Ke(t.cx),Xre=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,o;n!=null&&!D3(n)&&(o=n);var{x:a,y:u,width:c,height:d}=e,p=d>=0?1:-1,y=p*r,_=p>0?"end":"start",E=p>0?"start":"end",w=c>=0?1:-1,b=w*r,C=w>0?"end":"start",P=w>0?"start":"end";if(i==="top"){var N={x:a+c/2,y:u-p*r,textAnchor:"middle",verticalAnchor:_};return tn(tn({},N),o?{height:Math.max(u-o.y,0),width:c}:{})}if(i==="bottom"){var D={x:a+c/2,y:u+d+y,textAnchor:"middle",verticalAnchor:E};return tn(tn({},D),o?{height:Math.max(o.y+o.height-(u+d),0),width:c}:{})}if(i==="left"){var U={x:a-b,y:u+d/2,textAnchor:C,verticalAnchor:"middle"};return tn(tn({},U),o?{width:Math.max(U.x-o.x,0),height:d}:{})}if(i==="right"){var $={x:a+c+b,y:u+d/2,textAnchor:P,verticalAnchor:"middle"};return tn(tn({},$),o?{width:Math.max(o.x+o.width-$.x,0),height:d}:{})}var G=o?{width:c,height:d}:{};return i==="insideLeft"?tn({x:a+b,y:u+d/2,textAnchor:P,verticalAnchor:"middle"},G):i==="insideRight"?tn({x:a+c-b,y:u+d/2,textAnchor:C,verticalAnchor:"middle"},G):i==="insideTop"?tn({x:a+c/2,y:u+y,textAnchor:"middle",verticalAnchor:E},G):i==="insideBottom"?tn({x:a+c/2,y:u+d-y,textAnchor:"middle",verticalAnchor:_},G):i==="insideTopLeft"?tn({x:a+b,y:u+y,textAnchor:P,verticalAnchor:E},G):i==="insideTopRight"?tn({x:a+c-b,y:u+y,textAnchor:C,verticalAnchor:E},G):i==="insideBottomLeft"?tn({x:a+b,y:u+d-y,textAnchor:P,verticalAnchor:_},G):i==="insideBottomRight"?tn({x:a+c-b,y:u+d-y,textAnchor:C,verticalAnchor:_},G):i&&typeof i=="object"&&(Ke(i.x)||sl(i.x))&&(Ke(i.y)||sl(i.y))?tn({x:a+Ri(i.x,c),y:u+Ri(i.y,d),textAnchor:"end",verticalAnchor:"end"},G):tn({x:a+c/2,y:u+d/2,textAnchor:"middle",verticalAnchor:"middle"},G)},Qre={offset:5};function $s(t){var e=ya(t,Qre),{viewBox:n,position:r,value:i,children:o,content:a,className:u="",textBreakAll:c,labelRef:d}=e,p=Kre(),y=N3(),_=r==="center"?y:p??y,E=n||_;if(!E||Nn(i)&&Nn(o)&&!R.isValidElement(a)&&typeof a!="function")return null;var w=tn(tn({},e),{},{viewBox:E});if(R.isValidElement(a)){var{labelRef:b}=w,C=Bre(w,Ure);return R.cloneElement(a,C)}var P;if(typeof a=="function"){if(P=R.createElement(a,w),R.isValidElement(P))return P}else P=jre(e);var N=D3(E),D=Mn(e,!0);if(N&&(r==="insideStart"||r==="insideEnd"||r==="end"))return Wre(e,r,P,D,E);var U=N?Jre(E,e.offset,e.position):Xre(e,E);return R.createElement(Qb,qo({ref:d,className:Vt("recharts-label",u)},D,U,{breakAll:c}),P)}$s.displayName="Label";var Zre=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?R.createElement($s,qo({key:"label-implicit"},r)):lo(t)?R.createElement($s,qo({key:"label-implicit",value:t},r)):R.isValidElement(t)?t.type===$s?R.cloneElement(t,tn({key:"label-implicit"},r)):R.createElement($s,qo({key:"label-implicit",content:t},r)):Zb(t)?R.createElement($s,qo({key:"label-implicit",content:t},r)):t&&typeof t=="object"?R.createElement($s,qo({},t,{key:"label-implicit"},r)):null};function eie(t){var{label:e}=t,n=N3();return Zre(e,n)||null}var RT={},IT={},DN;function tie(){return DN||(DN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(IT)),IT}var PT={},kN;function nie(){return kN||(kN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(PT)),PT}var ON;function rie(){return ON||(ON=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tie(),n=nie(),r=qw();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(RT)),RT}var MT,LN;function iie(){return LN||(LN=1,MT=rie().last),MT}var oie=iie();const sie=co(oie);var aie=["valueAccessor"],lie=["dataKey","clockWise","id","textBreakAll"];function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bg.apply(null,arguments)}function VN(t,e){if(t==null)return{};var n,r,i=uie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cie=t=>Array.isArray(t.value)?sie(t.value):t.value,k3=R.createContext(void 0),fie=k3.Provider,O3=R.createContext(void 0);O3.Provider;function die(){return R.useContext(k3)}function hie(){return R.useContext(O3)}function Am(t){var{valueAccessor:e=cie}=t,n=VN(t,aie),{dataKey:r,clockWise:i,id:o,textBreakAll:a}=n,u=VN(n,lie),c=die(),d=hie(),p=c||d;return!p||!p.length?null:R.createElement(fa,{className:"recharts-label-list"},p.map((y,_)=>{var E,w=Nn(r)?e(y,_):fr(y&&y.payload,r),b=Nn(o)?{}:{id:"".concat(o,"-").concat(_)};return R.createElement($s,bg({},Mn(y,!0),u,b,{fill:(E=n.fill)!==null&&E!==void 0?E:y.fill,parentViewBox:y.parentViewBox,value:w,textBreakAll:a,viewBox:y.viewBox,key:"label-".concat(_),index:_}))}))}Am.displayName="LabelList";function pie(t){var{label:e}=t;return e?e===!0?R.createElement(Am,{key:"labelList-implicit"}):R.isValidElement(e)||Zb(e)?R.createElement(Am,{key:"labelList-implicit",content:e}):typeof e=="object"?R.createElement(Am,bg({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var mie={radiusAxis:{},angleAxis:{}},L3=$r({name:"polarAxis",initialState:mie,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:gve,removeRadiusAxis:yve,addAngleAxis:vve,removeAngleAxis:_ve}=L3.actions,gie=L3.reducer,NT={},UN;function yie(){return UN||(UN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(NT)),NT}var DT,BN;function vie(){return BN||(BN=1,DT=yie().isPlainObject),DT}var _ie=vie();const Tie=co(_ie);function FN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(n),!0).forEach(function(r){Eie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eie(t,e,n){return(e=Sie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sie(t){var e=wie(t,"string");return typeof e=="symbol"?e:e+""}function wie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ag(){return Ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ag.apply(null,arguments)}var $N=(t,e,n,r,i)=>{var o=n-r,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+n,",").concat(e),a+="L ".concat(t+n-o/2,",").concat(e+i),a+="L ".concat(t+n-o/2-r,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},bie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Aie=t=>{var e=ya(t,bie),{x:n,y:r,upperWidth:i,lowerWidth:o,height:a,className:u}=e,{animationEasing:c,animationDuration:d,animationBegin:p,isUpdateAnimationActive:y}=e,_=R.useRef(),[E,w]=R.useState(-1),b=R.useRef(i),C=R.useRef(o),P=R.useRef(a),N=R.useRef(n),D=R.useRef(r),U=eb(t,"trapezoid-");if(R.useEffect(()=>{if(_.current&&_.current.getTotalLength)try{var Ee=_.current.getTotalLength();Ee&&w(Ee)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||a!==+a||i===0&&o===0||a===0)return null;var $=Vt("recharts-trapezoid",u);if(!y)return R.createElement("g",null,R.createElement("path",Ag({},Mn(e,!0),{className:$,d:$N(n,r,i,o,a)})));var G=b.current,k=C.current,O=P.current,M=N.current,q=D.current,F="0px ".concat(E===-1?1:E,"px"),z="".concat(E,"px 0px"),H=nU(["strokeDasharray"],d,c);return R.createElement(Zw,{animationId:U,key:U,canBegin:E>0,duration:d,easing:c,isActive:y,begin:p},Ee=>{var xe=lr(G,i,Ee),Z=lr(k,o,Ee),de=lr(O,a,Ee),ye=lr(M,n,Ee),Me=lr(q,r,Ee);_.current&&(b.current=xe,C.current=Z,P.current=de,N.current=ye,D.current=Me);var j=Ee>0?{transition:H,strokeDasharray:z}:{strokeDasharray:F};return R.createElement("path",Ag({},Mn(e,!0),{className:$,d:$N(ye,Me,xe,Z,de),ref:_,style:qN(qN({},j),e.style)}))})},Cie=["option","shapeType","propTransformer","activeClassName","isActive"];function xie(t,e){if(t==null)return{};var n,r,i=Rie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function HN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HN(Object(n),!0).forEach(function(r){Iie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iie(t,e,n){return(e=Pie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pie(t){var e=Mie(t,"string");return typeof e=="symbol"?e:e+""}function Mie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nie(t,e){return Cg(Cg({},e),t)}function Die(t,e){return t==="symbols"}function zN(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return R.createElement(sU,n);case"trapezoid":return R.createElement(Aie,n);case"sector":return R.createElement(uU,n);case"symbols":if(Die(e))return R.createElement(pV,n);break;default:return null}}function kie(t){return R.isValidElement(t)?t.props:t}function Oie(t){var{option:e,shapeType:n,propTransformer:r=Nie,activeClassName:i="recharts-active-shape",isActive:o}=t,a=xie(t,Cie),u;if(R.isValidElement(e))u=R.cloneElement(e,Cg(Cg({},a),kie(e)));else if(typeof e=="function")u=e(a);else if(Tie(e)&&typeof e!="boolean"){var c=r(e,a);u=R.createElement(zN,{shapeType:n,elementProps:c})}else{var d=a;u=R.createElement(zN,{shapeType:n,elementProps:d})}return o?R.createElement(fa,{className:i},u):u}var V3=(t,e)=>{var n=Dn();return(r,i)=>o=>{t==null||t(r,i,o),n(n3({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},U3=t=>{var e=Dn();return(n,r)=>i=>{t==null||t(n,r,i),e(Cte())}},B3=(t,e)=>{var n=Dn();return(r,i)=>o=>{t==null||t(r,i,o),n(xte({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function Lie(t){var{fn:e,args:n}=t,r=Dn(),i=Di();return R.useEffect(()=>{if(!i){var o=e(n);return r(wte(o)),()=>{r(bte(o))}}},[e,n,r,i]),null}var Vie=()=>{};function Uie(t){var{legendPayload:e}=t,n=Dn(),r=Di();return R.useEffect(()=>r?Vie:(n(vJ(e)),()=>{n(_J(e))}),[n,r,e]),null}var kT,Bie=()=>{var[t]=R.useState(()=>Rd("uid-"));return t},Fie=(kT=TF.useId)!==null&&kT!==void 0?kT:Bie;function qie(t,e){var n=Fie();return e||(t?"".concat(t,"-").concat(n):n)}var $ie=R.createContext(void 0),Hie=t=>{var{id:e,type:n,children:r}=t,i=qie("recharts-".concat(n),e);return R.createElement($ie.Provider,{value:i},r(i))},zie={cartesianItems:[],polarItems:[]},F3=$r({name:"graphicalItems",initialState:zie,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=Yo(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=Yo(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Yo(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Gie,replaceCartesianGraphicalItem:Kie,removeCartesianGraphicalItem:jie,addPolarGraphicalItem:Tve,removePolarGraphicalItem:Eve}=F3.actions,Yie=F3.reducer;function Wie(t){var e=Dn(),n=R.useRef(null);return R.useEffect(()=>{n.current===null?e(Gie(t)):n.current!==t&&e(Kie({prev:n.current,next:t})),n.current=t},[e,t]),R.useEffect(()=>()=>{n.current&&(e(jie(n.current)),n.current=null)},[e]),null}function GN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GN(Object(n),!0).forEach(function(r){Jie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jie(t,e,n){return(e=Xie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xie(t){var e=Qie(t,"string");return typeof e=="symbol"?e:e+""}function Qie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zie={xAxis:{},yAxis:{},zAxis:{}},q3=$r({name:"cartesianAxis",initialState:Zie,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=KN(KN({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:eoe,removeXAxis:toe,addYAxis:noe,removeYAxis:roe,addZAxis:Sve,removeZAxis:wve,updateYAxisWidth:ioe}=q3.actions,ooe=q3.reducer,soe=re([kn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),aoe=re([soe,as,ls],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),$3=()=>Ve(aoe),loe="Invariant failed";function uoe(t,e){throw new Error(loe)}var coe=["x","y"];function rS(){return rS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rS.apply(null,arguments)}function jN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jN(Object(n),!0).forEach(function(r){foe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function foe(t,e,n){return(e=doe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function doe(t){var e=hoe(t,"string");return typeof e=="symbol"?e:e+""}function hoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function poe(t,e){if(t==null)return{};var n,r,i=moe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function moe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function goe(t,e){var{x:n,y:r}=t,i=poe(t,coe),o="".concat(n),a=parseInt(o,10),u="".concat(r),c=parseInt(u,10),d="".concat(e.height||i.height),p=parseInt(d,10),y="".concat(e.width||i.width),_=parseInt(y,10);return Wf(Wf(Wf(Wf(Wf({},e),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:p,width:_,name:e.name,radius:e.radius})}function eA(t){return R.createElement(Oie,rS({shapeType:"rectangle",propTransformer:goe,activeClassName:"recharts-active-bar"},t))}var yoe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ke(e))return e;var o=Ke(r)||Nn(r);return o?e(r,i):(o||uoe(),n)}},voe={},H3=$r({name:"errorBars",initialState:voe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:bve,replaceErrorBar:Ave,removeErrorBar:Cve}=H3.actions,_oe=H3.reducer,Toe=["children"];function Eoe(t,e){if(t==null)return{};var n,r,i=Soe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Soe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var woe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},boe=R.createContext(woe);function Aoe(t){var{children:e}=t,n=Eoe(t,Toe);return R.createElement(boe.Provider,{value:n},e)}function z3(t,e){var n,r,i=Ve(d=>Ea(d,t)),o=Ve(d=>Sa(d,e)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Mr.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:Nr.allowDataOverflow,c=a||u;return{needClip:c,needClipX:a,needClipY:u}}function Coe(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=$3(),{needClipX:o,needClipY:a,needClip:u}=z3(e,n);if(!u)return null;var{x:c,y:d,width:p,height:y}=i;return R.createElement("clipPath",{id:"clipPath-".concat(r)},R.createElement("rect",{x:o?c:c-p/2,y:a?d:d-y/2,width:o?p:p*2,height:a?y:y*2}))}var xoe=["onMouseEnter","onMouseLeave","onClick"],Roe=["value","background","tooltipPosition"],Ioe=["id"],Poe=["onMouseEnter","onClick","onMouseLeave"];function da(){return da=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},da.apply(null,arguments)}function YN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YN(Object(n),!0).forEach(function(r){Moe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Moe(t,e,n){return(e=Noe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Noe(t){var e=Doe(t,"string");return typeof e=="symbol"?e:e+""}function Doe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xg(t,e){if(t==null)return{};var n,r,i=koe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function koe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ooe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:QV(n,e),payload:t}]};function Loe(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:o,hide:a,unit:u}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:QV(o,e),hide:a,type:t.tooltipType,color:t.fill,unit:u}}}function Voe(t){var e=Ve(lc),{data:n,dataKey:r,background:i,allOtherBarProps:o}=t,{onMouseEnter:a,onMouseLeave:u,onClick:c}=o,d=xg(o,xoe),p=V3(a,r),y=U3(u),_=B3(c,r);if(!i||n==null)return null;var E=Mn(i,!1);return R.createElement(R.Fragment,null,n.map((w,b)=>{var{value:C,background:P,tooltipPosition:N}=w,D=xg(w,Roe);if(!P)return null;var U=p(w,b),$=y(w,b),G=_(w,b),k=ur(ur(ur(ur(ur({option:i,isActive:String(b)===e},D),{},{fill:"#eee"},P),E),Vw(d,w,b)),{},{onMouseEnter:U,onMouseLeave:$,onClick:G,dataKey:r,index:b,className:"recharts-bar-background-rectangle"});return R.createElement(eA,da({key:"background-bar-".concat(b)},k))}))}function Uoe(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(o=>{var a={x:o.x,y:o.y,width:o.width,height:o.height};return ur(ur({},a),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:a,fill:o.fill})});return R.createElement(fie,{value:e?i:void 0},n)}function Boe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:o,dataKey:a}=t,u=Ve(lc),c=Ve(m3),d=n&&String(o)===u&&(c==null||a===c),p=d?n:e;return R.createElement(eA,da({},r,i,{isActive:d,option:p,index:o,dataKey:a}))}function Foe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:o}=t;return R.createElement(eA,da({},n,r,{isActive:!1,option:e,index:i,dataKey:o}))}function qoe(t){var{data:e,props:n}=t,r=oy(n),{id:i}=r,o=xg(r,Ioe),{shape:a,dataKey:u,activeBar:c}=n,{onMouseEnter:d,onClick:p,onMouseLeave:y}=n,_=xg(n,Poe),E=V3(d,u),w=U3(y),b=B3(p,u);return e?R.createElement(R.Fragment,null,e.map((C,P)=>R.createElement(fa,da({className:"recharts-bar-rectangle"},Vw(_,C,P),{onMouseEnter:E(C,P),onMouseLeave:w(C,P),onClick:b(C,P),key:"rectangle-".concat(C==null?void 0:C.x,"-").concat(C==null?void 0:C.y,"-").concat(C==null?void 0:C.value,"-").concat(P)}),c?R.createElement(Boe,{shape:a,activeBar:c,baseProps:o,entry:C,index:P,dataKey:u}):R.createElement(Foe,{shape:a,baseProps:o,entry:C,index:P,dataKey:u})))):null}function $oe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:o,animationBegin:a,animationDuration:u,animationEasing:c,onAnimationEnd:d,onAnimationStart:p}=e,y=n.current,_=eb(e,"recharts-bar-"),[E,w]=R.useState(!1),b=!E,C=R.useCallback(()=>{typeof d=="function"&&d(),w(!1)},[d]),P=R.useCallback(()=>{typeof p=="function"&&p(),w(!0)},[p]);return R.createElement(Uoe,{showLabels:b,rects:r},R.createElement(Zw,{animationId:_,begin:a,duration:u,isActive:o,easing:c,onAnimationEnd:C,onAnimationStart:P,key:_},N=>{var D=N===1?r:r==null?void 0:r.map((U,$)=>{var G=y&&y[$];if(G)return ur(ur({},U),{},{x:lr(G.x,U.x,N),y:lr(G.y,U.y,N),width:lr(G.width,U.width,N),height:lr(G.height,U.height,N)});if(i==="horizontal"){var k=lr(0,U.height,N);return ur(ur({},U),{},{y:U.y+U.height-k,height:k})}var O=lr(0,U.width,N);return ur(ur({},U),{},{width:O})});return N>0&&(n.current=D??null),D==null?null:R.createElement(fa,null,R.createElement(qoe,{props:e,data:D}))}),R.createElement(pie,{label:e.label}),e.children)}function Hoe(t){var e=R.useRef(null);return R.createElement($oe,{previousRectanglesRef:e,props:t})}var G3=0,zoe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:fr(t,e)}};class Goe extends R.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:a,needClip:u,background:c,id:d}=this.props;if(e||n==null)return null;var p=Vt("recharts-bar",i),y=d;return R.createElement(fa,{className:p,id:d},u&&R.createElement("defs",null,R.createElement(Coe,{clipPathId:y,xAxisId:o,yAxisId:a})),R.createElement(fa,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(y,")"):void 0},R.createElement(Voe,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),R.createElement(Hoe,this.props)))}}var Koe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ih.isSsr,legendType:"rect",minPointSize:G3,xAxisId:0,yAxisId:0};function joe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:a,animationBegin:u,animationDuration:c,animationEasing:d,isAnimationActive:p}=t,{needClip:y}=z3(e,n),_=Qw(),E=Di(),w=LK(t.children,A3),b=Ve(N=>Tse(N,e,n,E,t.id,w));if(_!=="vertical"&&_!=="horizontal")return null;var C,P=b==null?void 0:b[0];return P==null||P.height==null||P.width==null?C=0:C=_==="vertical"?P.height/2:P.width/2,R.createElement(Aoe,{xAxisId:e,yAxisId:n,data:b,dataPointFormatter:zoe,errorBarOffset:C},R.createElement(Goe,da({},t,{layout:_,needClip:y,data:b,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:a,animationBegin:u,animationDuration:c,animationEasing:d,isAnimationActive:p})))}function Yoe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:a,yAxis:u,xAxisTicks:c,yAxisTicks:d,stackedData:p,displayedData:y,offset:_,cells:E,parentViewBox:w}=t,b=e==="horizontal"?u:a,C=p?b.scale.domain():null,P=jW({numericAxis:b});return y.map((N,D)=>{var U,$,G,k,O,M;p?U=qW(p[D],C):(U=fr(N,n),Array.isArray(U)||(U=[P,U]));var q=yoe(r,G3)(U[1],D);if(e==="horizontal"){var F,[z,H]=[u.scale(U[0]),u.scale(U[1])];$=$P({axis:a,ticks:c,bandSize:o,offset:i.offset,entry:N,index:D}),G=(F=H??z)!==null&&F!==void 0?F:void 0,k=i.size;var Ee=z-H;if(O=ci(Ee)?0:Ee,M={x:$,y:_.top,width:k,height:_.height},Math.abs(q)>0&&Math.abs(O)<Math.abs(q)){var xe=Vr(O||q)*(Math.abs(q)-Math.abs(O));G-=xe,O+=xe}}else{var[Z,de]=[a.scale(U[0]),a.scale(U[1])];if($=Z,G=$P({axis:u,ticks:d,bandSize:o,offset:i.offset,entry:N,index:D}),k=de-Z,O=i.size,M={x:_.left,y:G,width:_.width,height:O},Math.abs(q)>0&&Math.abs(k)<Math.abs(q)){var ye=Vr(k||q)*(Math.abs(q)-Math.abs(k));k+=ye}}if($==null||G==null||k==null||O==null)return null;var Me=ur(ur({},N),{},{x:$,y:G,width:k,height:O,value:p?U:U[1],payload:N,background:M,tooltipPosition:{x:$+k/2,y:G+O/2},parentViewBox:w},E&&E[D]&&E[D].props);return Me}).filter(Boolean)}function K3(t){var e=ya(t,Koe),n=Di();return R.createElement(Hie,{id:e.id,type:"bar"},r=>R.createElement(R.Fragment,null,R.createElement(Uie,{legendPayload:Ooe(e)}),R.createElement(Lie,{fn:Loe,args:e}),R.createElement(Wie,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:KW(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),R.createElement(joe,da({},e,{id:r}))))}K3.displayName="Bar";function WN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WN(Object(n),!0).forEach(function(r){Woe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Woe(t,e,n){return(e=Joe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Joe(t){var e=Xoe(t,"string");return typeof e=="symbol"?e:e+""}function Xoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qoe=(t,e)=>e,Zoe=(t,e,n)=>n,ese=(t,e,n,r)=>r,tse=(t,e,n,r,i)=>i,mh=re([Ob,tse],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),nse=re([mh],t=>t==null?void 0:t.maxBarSize),rse=(t,e,n,r,i,o)=>o,JN=(t,e,n)=>{var r=n??t;if(!Nn(r))return Ri(r,e,0)},ise=re([Tt,Ob,Qoe,Zoe,ese],(t,e,n,r,i)=>e.filter(o=>t==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),ose=(t,e,n,r)=>{var i=Tt(t);return i==="horizontal"?XE(t,"yAxis",n,r):XE(t,"xAxis",e,r)},sse=(t,e,n)=>{var r=Tt(t);return r==="horizontal"?rN(t,"xAxis",e):rN(t,"yAxis",n)},ase=(t,e,n)=>{var r={},i=t.filter(Py),o=t.filter(d=>d.stackId==null),a=i.reduce((d,p)=>(d[p.stackId]||(d[p.stackId]=[]),d[p.stackId].push(p),d),r),u=Object.entries(a).map(d=>{var[p,y]=d,_=y.map(w=>w.dataKey),E=JN(e,n,y[0].barSize);return{stackId:p,dataKeys:_,barSize:E}}),c=o.map(d=>{var p=[d.dataKey].filter(_=>_!=null),y=JN(e,n,d.barSize);return{stackId:void 0,dataKeys:p,barSize:y}});return[...u,...c]},lse=re([ise,wee,sse],ase),use=(t,e,n,r,i)=>{var o,a,u=mh(t,e,n,r,i);if(u!=null){var c=Tt(t),d=o4(t),{maxBarSize:p}=u,y=Nn(p)?d:p,_,E;return c==="horizontal"?(_=ac(t,"xAxis",e,r),E=sc(t,"xAxis",e,r)):(_=ac(t,"yAxis",n,r),E=sc(t,"yAxis",n,r)),(o=(a=Ww(_,E,!0))!==null&&a!==void 0?a:y)!==null&&o!==void 0?o:0}},j3=(t,e,n,r)=>{var i=Tt(t),o,a;return i==="horizontal"?(o=ac(t,"xAxis",e,r),a=sc(t,"xAxis",e,r)):(o=ac(t,"yAxis",n,r),a=sc(t,"yAxis",n,r)),Ww(o,a)};function cse(t,e,n,r,i){var o=r.length;if(!(o<1)){var a=Ri(t,n,0,!0),u,c=[];if(qr(r[0].barSize)){var d=!1,p=n/o,y=r.reduce((P,N)=>P+(N.barSize||0),0);y+=(o-1)*a,y>=n&&(y-=(o-1)*a,a=0),y>=n&&p>0&&(d=!0,p*=.9,y=o*p);var _=(n-y)/2>>0,E={offset:_-a,size:0};u=r.reduce((P,N)=>{var D,U={stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:E.offset+E.size+a,size:d?p:(D=N.barSize)!==null&&D!==void 0?D:0}},$=[...P,U];return E=$[$.length-1].position,$},c)}else{var w=Ri(e,n,0,!0);n-2*w-(o-1)*a<=0&&(a=0);var b=(n-2*w-(o-1)*a)/o;b>1&&(b>>=0);var C=qr(i)?Math.min(b,i):b;u=r.reduce((P,N,D)=>[...P,{stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:w+(b+a)*D+(b-C)/2,size:C}}],c)}return u}}var fse=(t,e,n,r,i,o,a)=>{var u=Nn(a)?e:a,c=cse(n,r,i!==o?i:o,t,u);return i!==o&&c!=null&&(c=c.map(d=>lm(lm({},d),{},{position:lm(lm({},d.position),{},{offset:d.position.offset-i/2})}))),c},dse=re([lse,o4,See,s4,use,j3,nse],fse),hse=(t,e,n,r)=>ac(t,"xAxis",e,r),pse=(t,e,n,r)=>ac(t,"yAxis",n,r),mse=(t,e,n,r)=>sc(t,"xAxis",e,r),gse=(t,e,n,r)=>sc(t,"yAxis",n,r),yse=re([dse,mh],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),vse=(t,e)=>{var n=Db(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:o}=i;if(o)return o.find(a=>a.key===n)}}}},_se=re([ose,mh],vse),Tse=re([kn,Jw,hse,pse,mse,gse,yse,Tt,bb,j3,_se,mh,rse],(t,e,n,r,i,o,a,u,c,d,p,y,_)=>{var{chartData:E,dataStartIndex:w,dataEndIndex:b}=c;if(!(y==null||a==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||o==null||d==null)){var{data:C}=y,P;if(C!=null&&C.length>0?P=C:P=E==null?void 0:E.slice(w,b+1),P!=null)return Yoe({layout:u,barSettings:y,pos:a,parentViewBox:e,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:p,displayedData:P,offset:t,cells:_})}}),Ese=t=>{var{chartData:e}=t,n=Dn(),r=Di();return R.useEffect(()=>r?()=>{}:(n(dN(e)),()=>{n(dN(void 0))}),[e,n,r]),null},XN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Y3=$r({name:"brush",initialState:XN,reducers:{setBrushSettings(t,e){return e.payload==null?XN:e.payload}}}),{setBrushSettings:xve}=Y3.actions,Sse=Y3.reducer;function wse(t,e,n){return(e=bse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bse(t){var e=Ase(t,"string");return typeof e=="symbol"?e:e+""}function Ase(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class tA{static create(e){return new tA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}wse(tA,"EPS",1e-4);function Cse(t){return(t%180+180)%180}var xse=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Cse(i),a=o*Math.PI/180,u=Math.atan(r/n),c=a>u&&a<Math.PI-u?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},Rse={dots:[],areas:[],lines:[]},W3=$r({name:"referenceElements",initialState:Rse,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Yo(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Yo(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Yo(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Rve,removeDot:Ive,addArea:Pve,removeArea:Mve,addLine:Nve,removeLine:Dve}=W3.actions,Ise=W3.reducer,Pse=R.createContext(void 0),Mse=t=>{var{children:e}=t,[n]=R.useState("".concat(Rd("recharts"),"-clip")),r=$3();if(r==null)return null;var{x:i,y:o,width:a,height:u}=r;return R.createElement(Pse.Provider,{value:n},R.createElement("defs",null,R.createElement("clipPath",{id:n},R.createElement("rect",{x:i,y:o,height:u,width:a}))),e)};function OT(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function J3(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Nse(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return xse(r,n)}function Dse(t,e,n){var r=n==="width",{x:i,y:o,width:a,height:u}=t;return e===1?{start:r?i:o,end:r?i+a:o+u}:{start:r?i+a:o+u,end:r?i:o}}function Rg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function kse(t,e){return J3(t,e+1)}function Ose(t,e,n,r,i){for(var o=(r||[]).slice(),{start:a,end:u}=e,c=0,d=1,p=a,y=function(){var w=r==null?void 0:r[c];if(w===void 0)return{v:J3(r,d)};var b=c,C,P=()=>(C===void 0&&(C=n(w,b)),C),N=w.coordinate,D=c===0||Rg(t,N,P,p,u);D||(c=0,p=a,d+=1),D&&(p=N+t*(P()/2+i),c+=d)},_;d<=o.length;)if(_=y(),_)return _.v;return[]}function QN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QN(Object(n),!0).forEach(function(r){Lse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lse(t,e,n){return(e=Vse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vse(t){var e=Use(t,"string");return typeof e=="symbol"?e:e+""}function Use(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bse(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,{start:u}=e,{end:c}=e,d=function(_){var E=o[_],w,b=()=>(w===void 0&&(w=n(E,_)),w);if(_===a-1){var C=t*(E.coordinate+t*b()/2-c);o[_]=E=Xn(Xn({},E),{},{tickCoord:C>0?E.coordinate-C*t:E.coordinate})}else o[_]=E=Xn(Xn({},E),{},{tickCoord:E.coordinate});var P=Rg(t,E.tickCoord,b,u,c);P&&(c=E.tickCoord-t*(b()/2+i),o[_]=Xn(Xn({},E),{},{isShow:!0}))},p=a-1;p>=0;p--)d(p);return o}function Fse(t,e,n,r,i,o){var a=(r||[]).slice(),u=a.length,{start:c,end:d}=e;if(o){var p=r[u-1],y=n(p,u-1),_=t*(p.coordinate+t*y/2-d);a[u-1]=p=Xn(Xn({},p),{},{tickCoord:_>0?p.coordinate-_*t:p.coordinate});var E=Rg(t,p.tickCoord,()=>y,c,d);E&&(d=p.tickCoord-t*(y/2+i),a[u-1]=Xn(Xn({},p),{},{isShow:!0}))}for(var w=o?u-1:u,b=function(N){var D=a[N],U,$=()=>(U===void 0&&(U=n(D,N)),U);if(N===0){var G=t*(D.coordinate-t*$()/2-c);a[N]=D=Xn(Xn({},D),{},{tickCoord:G<0?D.coordinate-G*t:D.coordinate})}else a[N]=D=Xn(Xn({},D),{},{tickCoord:D.coordinate});var k=Rg(t,D.tickCoord,$,c,d);k&&(c=D.tickCoord+t*($()/2+i),a[N]=Xn(Xn({},D),{},{isShow:!0}))},C=0;C<w;C++)b(C);return a}function qse(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:a,orientation:u,interval:c,tickFormatter:d,unit:p,angle:y}=t;if(!i||!i.length||!r)return[];if(Ke(c)||ih.isSsr){var _;return(_=kse(i,Ke(c)?c:0))!==null&&_!==void 0?_:[]}var E=[],w=u==="top"||u==="bottom"?"width":"height",b=p&&w==="width"?pd(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},C=(D,U)=>{var $=typeof d=="function"?d(D.value,U):D.value;return w==="width"?Nse(pd($,{fontSize:e,letterSpacing:n}),b,y):pd($,{fontSize:e,letterSpacing:n})[w]},P=i.length>=2?Vr(i[1].coordinate-i[0].coordinate):1,N=Dse(o,P,w);return c==="equidistantPreserveStart"?Ose(P,N,C,i,a):(c==="preserveStart"||c==="preserveStartEnd"?E=Fse(P,N,C,i,a,c==="preserveStartEnd"):E=Bse(P,N,C,i,a),E.filter(D=>D.isShow))}var $se=["viewBox"],Hse=["viewBox"];function ku(){return ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ku.apply(null,arguments)}function ZN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZN(Object(n),!0).forEach(function(r){nA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eD(t,e){if(t==null)return{};var n,r,i=zse(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nA(t,e,n){return(e=Gse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gse(t){var e=Kse(t,"string");return typeof e=="symbol"?e:e+""}function Kse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class xc extends R.Component{constructor(e){super(e),this.tickRefs=R.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=eD(e,$se),o=this.props,{viewBox:a}=o,u=eD(o,Hse);return!OT(r,a)||!OT(i,u)||!OT(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:o,orientation:a,tickSize:u,mirror:c,tickMargin:d}=this.props,p,y,_,E,w,b,C=c?-1:1,P=e.tickSize||u,N=Ke(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":p=y=e.coordinate,E=r+ +!c*o,_=E-C*P,b=_-C*d,w=N;break;case"left":_=E=e.coordinate,y=n+ +!c*i,p=y-C*P,w=p-C*d,b=N;break;case"right":_=E=e.coordinate,y=n+ +c*i,p=y+C*P,w=p+C*d,b=N;break;default:p=y=e.coordinate,E=r+ +c*o,_=E+C*P,b=_+C*d,w=N;break}return{line:{x1:p,y1:_,x2:y,y2:E},tick:{x:w,y:b}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":return n?"start":"end";case"right":return n?"end":"start";default:return"middle"}}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:o,mirror:a,axisLine:u}=this.props,c=Tn(Tn(Tn({},Mn(this.props,!1)),Mn(u,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var d=+(o==="top"&&!a||o==="bottom"&&a);c=Tn(Tn({},c),{},{x1:e,y1:n+d*i,x2:e+r,y2:n+d*i})}else{var p=+(o==="left"&&!a||o==="right"&&a);c=Tn(Tn({},c),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return R.createElement("line",ku({},c,{className:Vt("recharts-cartesian-axis-line",Zu(u,"className"))}))}static renderTickItem(e,n,r){var i,o=Vt(n.className,"recharts-cartesian-axis-tick-value");if(R.isValidElement(e))i=R.cloneElement(e,Tn(Tn({},n),{},{className:o}));else if(typeof e=="function")i=e(Tn(Tn({},n),{},{className:o}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Vt(a,e.className)),i=R.createElement(Qb,ku({},n,{className:a}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:o,tick:a,tickFormatter:u,unit:c,padding:d,tickTextProps:p}=this.props,y=qse(Tn(Tn({},this.props),{},{ticks:r}),e,n),_=this.getTickTextAnchor(),E=this.getTickVerticalAnchor(),w=oy(this.props),b=Mn(a,!1),C=Tn(Tn({},w),{},{fill:"none"},Mn(i,!1)),P=y.map((N,D)=>{var{line:U,tick:$}=this.getTickLineCoord(N),G=Tn(Tn(Tn(Tn({textAnchor:_,verticalAnchor:E},w),{},{stroke:"none",fill:o},b),$),{},{index:D,payload:N,visibleTicksCount:y.length,tickFormatter:u,padding:d},p);return R.createElement(fa,ku({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Vw(this.props,N,D)),i&&R.createElement("line",ku({},C,U,{className:Vt("recharts-cartesian-axis-tick-line",Zu(i,"className"))})),a&&xc.renderTickItem(a,G,"".concat(typeof u=="function"?u(N.value,D):N.value).concat(c||"")))});return P.length>0?R.createElement("g",{className:"recharts-cartesian-axis-ticks"},P):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:o}=this.props;if(o)return null;var{ticks:a}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:R.createElement(fa,{className:Vt("recharts-cartesian-axis",i),ref:u=>{if(u){var c=u.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var d=c[0];if(d){var p=window.getComputedStyle(d).fontSize,y=window.getComputedStyle(d).letterSpacing;(p!==this.state.fontSize||y!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(d).fontSize,letterSpacing:window.getComputedStyle(d).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),R.createElement(zre,{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height},R.createElement(eie,{label:this.props.label}),this.props.children))}}nA(xc,"displayName","CartesianAxis");nA(xc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var jse=["children"],Yse=["dangerouslySetInnerHTML","ticks"],Wse=["id"];function X3(t,e,n){return(e=Jse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jse(t){var e=Xse(t,"string");return typeof e=="symbol"?e:e+""}function Xse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iS(){return iS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iS.apply(null,arguments)}function oS(t,e){if(t==null)return{};var n,r,i=Qse(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Zse(t){var e=Dn(),n=R.useMemo(()=>{var{children:r}=t,i=oS(t,jse);return i},[t]);return R.useEffect(()=>(e(eoe(n)),()=>{e(toe(n))}),[n,e]),t.children}var eae=t=>{var{xAxisId:e,className:n}=t,r=Ve(Jw),i=Di(),o="xAxis",a=Ve(C=>bc(C,o,e,i)),u=Ve(C=>J4(C,o,e,i)),c=Ve(C=>K4(C,e)),d=Ve(C=>pte(C,e)),p=Ve(C=>m4(C,e));if(c==null||d==null||p==null)return null;var{dangerouslySetInnerHTML:y,ticks:_}=t,E=oS(t,Yse),{id:w}=p,b=oS(p,Wse);return R.createElement(xc,iS({},E,b,{scale:a,x:d.x,y:d.y,width:c.width,height:c.height,className:Vt("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:u}))},tae=t=>{var e,n,r,i,o;return R.createElement(Zse,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter},R.createElement(eae,t))};class rA extends R.Component{render(){return R.createElement(tae,this.props)}}X3(rA,"displayName","XAxis");X3(rA,"defaultProps",{allowDataOverflow:Mr.allowDataOverflow,allowDecimals:Mr.allowDecimals,allowDuplicatedCategory:Mr.allowDuplicatedCategory,height:Mr.height,hide:!1,mirror:Mr.mirror,orientation:Mr.orientation,padding:Mr.padding,reversed:Mr.reversed,scale:Mr.scale,tickCount:Mr.tickCount,type:Mr.type,xAxisId:0});var nae=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,a=0;if(e){e.forEach(p=>{if(p){var y=p.getBoundingClientRect();y.width>a&&(a=y.width)}});var u=n?n.getBoundingClientRect().width:0,c=i+o,d=a+c+u+(n?r:0);return Math.round(d)}return 0},rae=["dangerouslySetInnerHTML","ticks"],iae=["id"];function Q3(t,e,n){return(e=oae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oae(t){var e=sae(t,"string");return typeof e=="symbol"?e:e+""}function sae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sS(){return sS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sS.apply(null,arguments)}function tD(t,e){if(t==null)return{};var n,r,i=aae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lae(t){var e=Dn();return R.useEffect(()=>(e(noe(t)),()=>{e(roe(t))}),[t,e]),null}var uae=t=>{var e,{yAxisId:n,className:r,width:i,label:o}=t,a=R.useRef(null),u=R.useRef(null),c=Ve(Jw),d=Di(),p=Dn(),y="yAxis",_=Ve(G=>bc(G,y,n,d)),E=Ve(G=>j4(G,n)),w=Ve(G=>mte(G,n)),b=Ve(G=>J4(G,y,n,d)),C=Ve(G=>g4(G,n));if(R.useLayoutEffect(()=>{var G;if(!(i!=="auto"||!E||Zb(o)||R.isValidElement(o)||C==null)){var k=a.current,O=k==null||(G=k.tickRefs)===null||G===void 0?void 0:G.current,{tickSize:M,tickMargin:q}=k.props,F=nae({ticks:O,label:u.current,labelGapWithTick:5,tickSize:M,tickMargin:q});Math.round(E.width)!==Math.round(F)&&p(ioe({id:n,width:F}))}},[a,a==null||(e=a.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,E==null?void 0:E.width,E,p,o,n,i]),E==null||w==null||C==null)return null;var{dangerouslySetInnerHTML:P,ticks:N}=t,D=tD(t,rae),{id:U}=C,$=tD(C,iae);return R.createElement(xc,sS({},D,$,{ref:a,labelRef:u,scale:_,x:w.x,y:w.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:E.width,height:E.height,className:Vt("recharts-".concat(y," ").concat(y),r),viewBox:c,ticks:b}))},cae=t=>{var e,n,r,i,o;return R.createElement(R.Fragment,null,R.createElement(lae,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter}),R.createElement(uae,t))},fae={allowDataOverflow:Nr.allowDataOverflow,allowDecimals:Nr.allowDecimals,allowDuplicatedCategory:Nr.allowDuplicatedCategory,hide:!1,mirror:Nr.mirror,orientation:Nr.orientation,padding:Nr.padding,reversed:Nr.reversed,scale:Nr.scale,tickCount:Nr.tickCount,type:Nr.type,width:Nr.width,yAxisId:0};class iA extends R.Component{render(){return R.createElement(cae,this.props)}}Q3(iA,"displayName","YAxis");Q3(iA,"defaultProps",fae);var LT={exports:{}},VT={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nD;function dae(){if(nD)return VT;nD=1;var t=uc();function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,a=t.useMemo,u=t.useDebugValue;return VT.useSyncExternalStoreWithSelector=function(c,d,p,y,_){var E=i(null);if(E.current===null){var w={hasValue:!1,value:null};E.current=w}else w=E.current;E=a(function(){function C($){if(!P){if(P=!0,N=$,$=y($),_!==void 0&&w.hasValue){var G=w.value;if(_(G,$))return D=G}return D=$}if(G=D,n(N,$))return G;var k=y($);return _!==void 0&&_(G,k)?(N=$,G):(N=$,D=k)}var P=!1,N,D,U=p===void 0?null:p;return[function(){return C(d())},U===null?void 0:function(){return C(U())}]},[d,p,y,_]);var b=r(c,E[0],E[1]);return o(function(){w.hasValue=!0,w.value=b},[b]),u(b),b},VT}var rD;function hae(){return rD||(rD=1,LT.exports=dae()),LT.exports}hae();function pae(t){t()}function mae(){let t=null,e=null;return{clear(){t=null,e=null},notify(){pae(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var iD={notify(){},get:()=>[]};function gae(t,e){let n,r=iD,i=0,o=!1;function a(b){p();const C=r.subscribe(b);let P=!1;return()=>{P||(P=!0,C(),y())}}function u(){r.notify()}function c(){w.onStateChange&&w.onStateChange()}function d(){return o}function p(){i++,n||(n=t.subscribe(c),r=mae())}function y(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=iD)}function _(){o||(o=!0,p())}function E(){o&&(o=!1,y())}const w={addNestedSub:a,notifyNestedSubs:u,handleChangeWrapper:c,isSubscribed:d,trySubscribe:_,tryUnsubscribe:E,getListeners:()=>r};return w}var yae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vae=yae(),_ae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Tae=_ae(),Eae=()=>vae||Tae?R.useLayoutEffect:R.useEffect,Sae=Eae(),UT=Symbol.for("react-redux-context"),BT=typeof globalThis<"u"?globalThis:{};function wae(){if(!R.createContext)return{};const t=BT[UT]??(BT[UT]=new Map);let e=t.get(R.createContext);return e||(e=R.createContext(null),t.set(R.createContext,e)),e}var bae=wae();function Aae(t){const{children:e,context:n,serverState:r,store:i}=t,o=R.useMemo(()=>{const c=gae(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),a=R.useMemo(()=>i.getState(),[i]);Sae(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const u=n||bae;return R.createElement(u.Provider,{value:o},e)}var Cae=Aae,xae=(t,e)=>e,oA=re([xae,Tt,d4,wn,f3,cs,_ne,kn],bne),sA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},Z3=fi("mouseClick"),e6=nh();e6.startListening({actionCreator:Z3,effect:(t,e)=>{var n=t.payload,r=oA(e.getState(),sA(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(Rte({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var aS=fi("mouseMove"),t6=nh();t6.startListening({actionCreator:aS,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=Hb(r,r.tooltip.settings.shared),o=oA(r,sA(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?e.dispatch(i3({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(r3()))}});function Rae(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var oD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},n6=$r({name:"rootProps",initialState:oD,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:oD.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Iae=n6.reducer,{updateOptions:Pae}=n6.actions,r6=$r({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:kve}=r6.actions,Mae=r6.reducer,i6=fi("keyDown"),o6=fi("focus"),aA=nh();aA.startListening({actionCreator:i6,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var a=Number(zb(i,Cc(n))),u=cs(n);if(o==="Enter"){var c=wg(n,"axis","hover",String(i.index));e.dispatch(ZE({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var d=_te(n),p=d==="left-to-right"?1:-1,y=o==="ArrowRight"?1:-1,_=a+y*p;if(!(u==null||_>=u.length||_<0)){var E=wg(n,"axis","hover",String(_));e.dispatch(ZE({active:!0,activeIndex:_.toString(),activeDataKey:void 0,activeCoordinate:E}))}}}}});aA.startListening({actionCreator:o6,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",a=wg(n,"axis","hover",String(o));e.dispatch(ZE({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:a}))}}}});var ri=fi("externalEvent"),s6=nh();s6.startListening({actionCreator:ri,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:cne(n),activeDataKey:m3(n),activeIndex:lc(n),activeLabel:p3(n),activeTooltipIndex:lc(n),isTooltipActive:fne(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Nae=re([Ac],t=>t.tooltipItemPayloads),Dae=re([Nae,hh,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var a=e(o,n);return a}}}),a6=fi("touchMove"),l6=nh();l6.startListening({actionCreator:a6,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=Hb(r,r.tooltip.settings.shared);if(i==="axis"){var o=oA(r,sA({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(i3({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var a,u=n.touches[0],c=document.elementFromPoint(u.clientX,u.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(tJ),p=(a=c.getAttribute(nJ))!==null&&a!==void 0?a:void 0,y=Dae(e.getState(),d,p);e.dispatch(n3({activeDataKey:p,activeIndex:d,activeCoordinate:y}))}}});var kae=RV({brush:Sse,cartesianAxis:ooe,chartData:qne,errorBars:_oe,graphicalItems:Yie,layout:bW,legend:TJ,options:Lne,polarAxis:gie,polarOptions:Mae,referenceElements:Ise,rootProps:Iae,tooltip:Ite}),Oae=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return WY({reducer:kae,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([e6.middleware,t6.middleware,aA.middleware,s6.middleware,l6.middleware]),devTools:!!window.RECHARTS_DEV_TOOLS_ENABLED&&{serialize:{replacer:Rae},name:"recharts-".concat(n)}})};function Lae(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Di(),o=R.useRef(null);if(i)return n;o.current==null&&(o.current=Oae(e,r));var a=Hw;return R.createElement(Cae,{context:a,store:o.current},n)}function Vae(t){var{layout:e,width:n,height:r,margin:i}=t,o=Dn(),a=Di();return R.useEffect(()=>{a||(o(EW(e)),o(SW({width:n,height:r})),o(TW(i)))},[o,a,e,n,r,i]),null}function Uae(t){var e=Dn();return R.useEffect(()=>{e(Pae(t))},[e,t]),null}var Bae=["children"];function Fae(t,e){if(t==null)return{};var n,r,i=qae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ig(){return Ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ig.apply(null,arguments)}var $ae={width:"100%",height:"100%"},Hae=R.forwardRef((t,e)=>{var n=mJ(),r=gJ(),i=tU();if(!ag(n)||!ag(r))return null;var{children:o,otherAttributes:a,title:u,desc:c}=t,d,p;return typeof a.tabIndex=="number"?d=a.tabIndex:d=i?0:void 0,typeof a.role=="string"?p=a.role:p=i?"application":void 0,R.createElement(JL,Ig({},a,{title:u,desc:c,role:p,tabIndex:d,width:n,height:r,style:$ae,ref:e}),o)}),zae=t=>{var{children:e}=t,n=Ve(vy);if(!n)return null;var{width:r,height:i,y:o,x:a}=n;return R.createElement(JL,{width:r,height:i,x:a,y:o},e)},sD=R.forwardRef((t,e)=>{var{children:n}=t,r=Fae(t,Bae),i=Di();return i?R.createElement(zae,null,n):R.createElement(Hae,Ig({ref:e},r),n)});function Gae(){var t=Dn(),[e,n]=R.useState(null),r=Ve(eJ);return R.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;qr(o)&&o!==r&&t(wW(o))}},[e,t,r]),n}function aD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(n),!0).forEach(function(r){jae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jae(t,e,n){return(e=Yae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yae(t){var e=Wae(t,"string");return typeof e=="symbol"?e:e+""}function Wae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jae=R.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:a,onDoubleClick:u,onMouseDown:c,onMouseEnter:d,onMouseLeave:p,onMouseMove:y,onMouseUp:_,onTouchEnd:E,onTouchMove:w,onTouchStart:b,style:C,width:P}=t,N=Dn(),[D,U]=R.useState(null),[$,G]=R.useState(null);Jne();var k=Gae(),O=R.useCallback(ie=>{k(ie),typeof e=="function"&&e(ie),U(ie),G(ie)},[k,e,U,G]),M=R.useCallback(ie=>{N(Z3(ie)),N(ri({handler:o,reactEvent:ie}))},[N,o]),q=R.useCallback(ie=>{N(aS(ie)),N(ri({handler:d,reactEvent:ie}))},[N,d]),F=R.useCallback(ie=>{N(r3()),N(ri({handler:p,reactEvent:ie}))},[N,p]),z=R.useCallback(ie=>{N(aS(ie)),N(ri({handler:y,reactEvent:ie}))},[N,y]),H=R.useCallback(()=>{N(o6())},[N]),Ee=R.useCallback(ie=>{N(i6(ie.key))},[N]),xe=R.useCallback(ie=>{N(ri({handler:a,reactEvent:ie}))},[N,a]),Z=R.useCallback(ie=>{N(ri({handler:u,reactEvent:ie}))},[N,u]),de=R.useCallback(ie=>{N(ri({handler:c,reactEvent:ie}))},[N,c]),ye=R.useCallback(ie=>{N(ri({handler:_,reactEvent:ie}))},[N,_]),Me=R.useCallback(ie=>{N(ri({handler:b,reactEvent:ie}))},[N,b]),j=R.useCallback(ie=>{N(a6(ie)),N(ri({handler:w,reactEvent:ie}))},[N,w]),ue=R.useCallback(ie=>{N(ri({handler:E,reactEvent:ie}))},[N,E]);return R.createElement(E3.Provider,{value:D},R.createElement(zK.Provider,{value:$},R.createElement("div",{className:Vt("recharts-wrapper",r),style:Kae({position:"relative",cursor:"default",width:P,height:i},C),onClick:M,onContextMenu:xe,onDoubleClick:Z,onFocus:H,onKeyDown:Ee,onMouseDown:de,onMouseEnter:q,onMouseLeave:F,onMouseMove:z,onMouseUp:ye,onTouchEnd:ue,onTouchMove:j,onTouchStart:Me,ref:O},n)))}),Xae=["children","className","width","height","style","compact","title","desc"];function Qae(t,e){if(t==null)return{};var n,r,i=Zae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ele=R.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:o,style:a,compact:u,title:c,desc:d}=t,p=Qae(t,Xae),y=oy(p);return u?R.createElement(sD,{otherAttributes:y,title:c,desc:d},n):R.createElement(Jae,{className:r,style:a,width:i,height:o,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},R.createElement(sD,{otherAttributes:y,title:c,desc:d,ref:e},R.createElement(Mse,null,n)))}),tle=["width","height"];function lS(){return lS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lS.apply(null,arguments)}function nle(t,e){if(t==null)return{};var n,r,i=rle(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ile={top:5,right:5,bottom:5,left:5},ole={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ile,reverseStackOrder:!1,syncMethod:"index"},sle=R.forwardRef(function(e,n){var r,i=ya(e.categoricalChartProps,ole),{width:o,height:a}=i,u=nle(i,tle);if(!ag(o)||!ag(a))return null;var{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:p,tooltipPayloadSearcher:y,categoricalChartProps:_}=e,E={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:p,tooltipPayloadSearcher:y,eventEmitter:void 0};return R.createElement(Lae,{preloadedState:{options:E},reduxStoreName:(r=_.id)!==null&&r!==void 0?r:c},R.createElement(Ese,{chartData:_.data}),R.createElement(Vae,{width:o,height:a,layout:i.layout,margin:i.margin}),R.createElement(Uae,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),R.createElement(ele,lS({},u,{width:o,height:a,ref:n})))}),ale=["axis","item"],lle=R.forwardRef((t,e)=>R.createElement(sle,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ale,tooltipPayloadSearcher:kne,categoricalChartProps:t,ref:e}));const ule=()=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:L.jsx("path",{d:"M2 11h3v7H2v-7zM6 3h3v15H6V3zm5 8h3v7h-3v-7zm4-4h3v11h-3V7z"})}),cle=()=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:L.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),fle=()=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:L.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),dle=()=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),hle=({data:t})=>!t||t.length===0?L.jsx("p",{className:"text-stone-400 text-center py-8",children:"Нет данных для отображения."}):L.jsx(pre,{width:"100%",height:300,children:L.jsxs(lle,{data:t,margin:{top:5,right:20,left:-10,bottom:5},children:[L.jsx(rA,{dataKey:"label",stroke:"#a8a29e",fontSize:12,tickLine:!1,axisLine:!1}),L.jsx(iA,{stroke:"#a8a29e",fontSize:12,tickLine:!1,axisLine:!1,allowDecimals:!1}),L.jsx(ire,{contentStyle:{backgroundColor:"#292524",border:"1px solid #57534e",borderRadius:"0.375rem"},labelStyle:{color:"#f59e0b"},itemStyle:{color:"#d6d3d1"},formatter:e=>[e,"Просмотры"]}),L.jsx(K3,{dataKey:"value",fill:"#f59e0b",radius:[4,4,0,0]})]})}),ple=({codeword:t,onUpdate:e,onDelete:n})=>{const[r,i]=R.useState(t.usedMessage),[o,a]=R.useState(t.introText||"ВАШЕ КОДОВОЕ СЛОВО:"),[u,c]=R.useState(t.note||""),[d,p]=R.useState(!1),[y,_]=R.useState([]),[E,w]=R.useState(!1),[b,C]=R.useState(""),[P,N]=R.useState("day"),D=`${window.location.origin}${window.location.pathname}#/view?c=${t.id}`,U=`https://api.qrserver.com/v1/create-qr-code/?size=256x256&data=${encodeURIComponent(D)}`,$=async()=>{w(!0),C(""),_([]);try{const k=Sm(il(mr,"codewords",t.id,"viewEvents"),gE("viewedAt","asc")),M=(await wL(k)).docs.map(z=>z.data().viewedAt.toDate());if(M.length===0){w(!1);return}const q={};M.forEach(z=>{let H="";P==="day"?H=z.toLocaleDateString("ru-RU",{year:"2-digit",month:"2-digit",day:"2-digit"}):H=z.toLocaleDateString("ru-RU",{year:"2-digit",month:"2-digit",day:"2-digit"})+` ${z.getHours()}:00`,q[H]=(q[H]||0)+1});const F=Object.keys(q).map(z=>({label:z,value:q[z]}));_(F)}catch(k){console.error("Error fetching stats:",k),C("Не удалось загрузить статистику.")}finally{w(!1)}};R.useEffect(()=>{d&&$()},[d,P]);const G=async()=>{try{const k=await fetch(U);if(!k.ok)throw new Error("QR code fetch failed");const O=await k.blob(),M=window.URL.createObjectURL(O),q=document.createElement("a");q.href=M;const F=t.word.replace(/[^a-z0-9а-яё]/gi,"_").toLowerCase();q.setAttribute("download",`qr_${F}.png`),document.body.appendChild(q),q.click(),q.parentNode&&q.parentNode.removeChild(q),window.URL.revokeObjectURL(M)}catch(k){console.error("Failed to download QR code",k),alert("Не удалось скачать QR-код.")}};return L.jsxs(L.Fragment,{children:[L.jsxs("div",{className:"bg-stone-800/70 border border-stone-700 p-4 rounded-md grid grid-cols-1 md:grid-cols-3 gap-4 items-start",children:[L.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[L.jsx("img",{src:U,alt:"QR Code",className:"w-36 h-36 border-2 border-stone-600 rounded-md"}),L.jsxs("button",{onClick:G,className:"flex items-center justify-center gap-2 w-full bg-stone-600 hover:bg-stone-500 text-stone-200 px-3 py-2 rounded-md text-sm transition-colors",children:[L.jsx(dle,{}),"Скачать QR"]}),L.jsx("a",{href:D,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-amber-400 hover:text-amber-300 break-all text-center pt-1",children:D})]}),L.jsxs("div",{className:"md:col-span-2 space-y-3",children:[L.jsxs("div",{children:[L.jsx("label",{htmlFor:`introText_${t.id}`,className:"text-sm font-bold text-stone-400 block",children:"Вступительный текст:"}),L.jsx("input",{id:`introText_${t.id}`,type:"text",value:o,onChange:k=>a(k.target.value),onBlur:()=>e(t.id,{introText:o}),className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-3 py-1 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"})]}),L.jsxs("div",{children:[L.jsx("label",{className:"text-sm font-bold text-stone-400 block",children:"Кодовое слово:"}),L.jsx("p",{className:"text-lg bg-stone-900 p-2 rounded-md font-bold text-stone-100 break-words",children:t.word})]}),L.jsxs("div",{children:[L.jsx("label",{htmlFor:`usedMsg_${t.id}`,className:"text-sm font-bold text-stone-400 block",children:"Сообщение (если использовано):"}),L.jsx("input",{id:`usedMsg_${t.id}`,type:"text",value:r,onChange:k=>i(k.target.value),onBlur:()=>e(t.id,{usedMessage:r}),className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-3 py-1 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"})]}),L.jsxs("div",{children:[L.jsx("label",{htmlFor:`note_${t.id}`,className:"text-sm font-bold text-stone-400 block",children:"Заметка (видна только вам):"}),L.jsx("textarea",{id:`note_${t.id}`,value:u,onChange:k=>c(k.target.value),onBlur:()=>e(t.id,{note:u}),className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-3 py-1 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all h-20 resize-y",placeholder:"Любые пометки по этому коду..."})]}),L.jsxs("div",{className:"flex items-center justify-between pt-2",children:[L.jsxs("label",{htmlFor:`toggle_${t.id}`,className:"flex items-center cursor-pointer",children:[L.jsxs("div",{className:"relative",children:[L.jsx("input",{type:"checkbox",id:`toggle_${t.id}`,className:"sr-only",checked:t.isUsed,onChange:()=>e(t.id,{isUsed:!t.isUsed})}),L.jsx("div",{className:`block ${t.isUsed?"bg-amber-500":"bg-stone-600"} w-14 h-8 rounded-full transition-colors`}),L.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-transform ${t.isUsed?"transform translate-x-6":""}`})]}),L.jsx("div",{className:"ml-3 text-stone-300 font-semibold",children:t.isUsed?"ИСПОЛЬЗОВАНО":"АКТИВНО"})]}),L.jsxs("div",{className:"flex items-center gap-2 text-stone-400",children:[L.jsxs("div",{className:"flex items-center gap-1",title:"Просмотры",children:[L.jsx(cle,{}),L.jsx("span",{children:t.views||0})]}),L.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-1 bg-sky-800 hover:bg-sky-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[L.jsx(ule,{}),"Статистика"]}),L.jsxs("button",{onClick:()=>n(t.id),className:"flex items-center gap-1 bg-red-800 hover:bg-red-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[L.jsx(fle,{}),"Удалить"]})]})]})]})]}),d&&L.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",onClick:()=>p(!1),role:"dialog","aria-modal":"true","aria-labelledby":"stats-modal-title",children:L.jsxs("div",{className:"bg-stone-800 border border-stone-700 rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col",onClick:k=>k.stopPropagation(),children:[L.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-stone-700",children:[L.jsx("h3",{id:"stats-modal-title",className:"font-display text-2xl text-amber-400",children:"Статистика просмотров"}),L.jsx("button",{onClick:()=>p(!1),className:"text-stone-400 hover:text-white text-3xl leading-none","aria-label":"Close",children:"×"})]}),L.jsxs("div",{className:"p-4 flex-grow overflow-y-auto",children:[L.jsxs("div",{className:"flex gap-2 mb-4",children:[L.jsx("button",{onClick:()=>N("day"),className:`px-4 py-2 rounded-md font-semibold ${P==="day"?"bg-amber-500 text-stone-900":"bg-stone-700 text-stone-300 hover:bg-stone-600"}`,children:"По дням"}),L.jsx("button",{onClick:()=>N("hour"),className:`px-4 py-2 rounded-md font-semibold ${P==="hour"?"bg-amber-500 text-stone-900":"bg-stone-700 text-stone-300 hover:bg-stone-600"}`,children:"По часам"})]}),E&&L.jsx("p",{className:"animate-pulse text-center py-8 font-display text-xl text-stone-400",children:"ЗАГРУЗКА СТАТИСТИКИ..."}),b&&L.jsx("p",{className:"text-red-500 text-center py-8",children:b}),!E&&!b&&L.jsx(hle,{data:y})]})]})})]})},mle=()=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:L.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),gle=()=>L.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[L.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),L.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),yle=()=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:L.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),vle=({game:t,onDelete:e})=>{var o;const n=(o=t.createdAt)==null?void 0:o.toDate().toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}),r=()=>{window.location.hash=`#/admin/quest/${t.id}`},i=()=>{window.location.hash=`#/play/${t.id}`};return L.jsxs("div",{className:"bg-stone-800/70 border border-stone-700 p-4 rounded-md flex justify-between items-center",children:[L.jsxs("div",{children:[L.jsx("h4",{className:"text-xl font-bold text-stone-100",children:t.title}),L.jsxs("div",{className:"text-sm text-stone-400 mt-1",children:[L.jsx("span",{className:`inline-block px-2 py-0.5 rounded-md mr-2 text-xs font-semibold ${t.status==="published"?"bg-green-900/50 text-green-300":"bg-sky-900/50 text-sky-300"}`,children:t.status==="published"?"Опубликован":"Черновик"}),L.jsxs("span",{children:["Создан: ",n||"N/A"]})]})]}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsxs("button",{onClick:i,className:"flex items-center gap-1 bg-green-800 hover:bg-green-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[L.jsx(mle,{})," Играть"]}),L.jsxs("button",{onClick:r,className:"flex items-center gap-1 bg-blue-800 hover:bg-blue-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[L.jsx(gle,{})," Редактировать"]}),L.jsxs("button",{onClick:()=>e(t.id),className:"flex items-center gap-1 bg-red-800 hover:bg-red-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[L.jsx(yle,{})," Удалить"]})]})]})},_le=()=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H5v-2H3v-2H1v-4a6 6 0 017.743-5.743z"})}),Tle=()=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),Ele=()=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:L.jsx("path",{d:"M17 3H5a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2zm-3 12H8v-4h6v4zm2-6H5V5h12v4z"})}),Sle=()=>{const[t,e]=R.useState("codewords"),[n,r]=R.useState([]),[i,o]=R.useState(""),[a,u]=R.useState("Этот код уже был использован."),[c,d]=R.useState("ВАШЕ КОДОВОЕ СЛОВО:"),[p,y]=R.useState([]),[_,E]=R.useState(""),[w,b]=R.useState(""),[C,P]=R.useState({type:"",text:""});R.useEffect(()=>{let M;if(t==="codewords"){const q=Sm(il(mr,"codewords"),gE("createdAt","desc"));M=vE(q,F=>{const z=F.docs.map(H=>({...H.data(),id:H.id}));r(z)},F=>{console.error("Error fetching codewords:",F),alert("Не удалось загрузить кодовые слова.")})}else if(t==="quests"){const q=Sm(il(mr,"games"),gE("createdAt","desc"));M=vE(q,F=>{const z=F.docs.map(H=>({...H.data(),id:H.id}));y(z)},F=>{console.error("Error fetching games:",F),alert("Не удалось загрузить квесты.")})}return()=>M&&M()},[t]);const N=async M=>{if(M.preventDefault(),i.trim()!=="")try{await yE(il(mr,"codewords"),{word:i.trim(),isUsed:!1,usedMessage:a.trim()||"Этот код уже был использован.",introText:c.trim()||"ВАШЕ КОДОВОЕ СЛОВО:",note:"",createdAt:fd(),views:0}),o(""),d("ВАШЕ КОДОВОЕ СЛОВО:"),u("Этот код уже был использован.")}catch(q){console.error("Error adding codeword: ",q),alert("Ошибка при добавлении кода.")}},D=async(M,q)=>{try{await xw(na(mr,"codewords",M),q)}catch(F){console.error("Error updating codeword: ",F),alert("Ошибка при обновлении кода.")}},U=async M=>{if(window.confirm("Вы уверены, что хотите удалить этот код? Это действие необратимо."))try{const q=Sm(il(mr,"codewords",M,"viewEvents")),F=await wL(q),z=i7(mr);F.docs.forEach(H=>z.delete(H.ref)),await z.commit(),await mI(na(mr,"codewords",M))}catch(q){console.error("Error deleting codeword:",q),alert("Ошибка при удалении кода.")}},$=async M=>{if(M.preventDefault(),_.trim()!=="")try{const q=`quest_${Date.now()}`;await yE(il(mr,"games"),{title:_.trim(),status:"draft",createdAt:fd(),updatedAt:fd(),dsl:{format:"bk-quest@1",meta:{id:q,title:_.trim(),version:1,defaultLocale:"ru"},assets:{images:{},audio:{}},state:{vars:{},inventory:[]},nodes:{start:{text:"This is the beginning."}}}}),E("")}catch(q){console.error("Error adding quest: ",q),alert("Ошибка при создании квеста.")}},G=async M=>{if(window.confirm("Вы уверены, что хотите удалить этот квест? Все его данные будут стерты навсегда."))try{await mI(na(mr,"games",M))}catch(q){console.error("Error deleting quest:",q),alert("Ошибка при удалении квеста.")}},k=async M=>{if(M.preventDefault(),P({type:"",text:""}),window.confirm("Вы уверены, что хотите изменить пароль?"))try{if(!hd.currentUser)throw new Error("Пользователь не авторизован.");if(!w||w.length<6)throw new Error("Пароль должен содержать не менее 6 символов.");await D$(hd.currentUser,w),P({type:"success",text:"Пароль успешно изменен!"}),b("")}catch(q){P({type:"error",text:`Ошибка: ${q.message}`})}},O=({tabName:M,label:q,children:F})=>L.jsxs("button",{onClick:()=>e(M),className:`flex items-center justify-center w-full px-4 py-3 font-display text-xl rounded-t-md transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-500
            ${t===M?"bg-stone-800/50 text-amber-400 border-b-2 border-amber-400":"bg-stone-900/50 text-stone-400 hover:bg-stone-800/50"}`,children:[F,q]});return L.jsxs("div",{className:"container mx-auto py-8 px-4",children:[L.jsxs("div",{className:"flex justify-between items-center mb-6",children:[L.jsx("h2",{className:"font-display text-4xl text-stone-200",children:"Панель управления"}),L.jsx("button",{onClick:()=>U$(hd),className:"bg-stone-700 hover:bg-stone-600 text-stone-200 font-semibold py-2 px-4 rounded-md transition-colors",children:"Выйти"})]}),L.jsxs("div",{className:"bg-stone-800/50 border border-stone-700 p-6 rounded-md mb-8",children:[L.jsx("h3",{className:"font-display text-2xl text-amber-400 mb-4",children:"Изменить пароль"}),L.jsxs("form",{onSubmit:k,className:"space-y-4",children:[L.jsx("input",{type:"password",value:w,onChange:M=>b(M.target.value),placeholder:"Новый пароль (минимум 6 символов)",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),L.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center font-display text-xl bg-amber-500 text-stone-900 py-2 rounded-md hover:bg-amber-400 transition-colors",children:[L.jsx(Ele,{})," Сохранить пароль"]}),C.text&&L.jsx("p",{className:C.type==="success"?"text-green-400":"text-red-500",children:C.text})]})]}),L.jsxs("div",{className:"flex mb-[-1px]",children:[L.jsx(O,{tabName:"codewords",label:"Кодовые слова",children:L.jsx(_le,{})}),L.jsx(O,{tabName:"quests",label:"Квесты",children:L.jsx(Tle,{})})]}),L.jsxs("div",{className:"bg-stone-800/50 border border-stone-700 p-6 rounded-b-md rounded-tr-md",children:[t==="codewords"&&L.jsxs(L.Fragment,{children:[L.jsxs("div",{className:"mb-8",children:[L.jsx("h3",{className:"font-display text-2xl text-amber-400 mb-4",children:"Добавить новый код"}),L.jsxs("form",{onSubmit:N,className:"space-y-4",children:[L.jsx("input",{type:"text",value:c,onChange:M=>d(M.target.value),placeholder:"Вступительный текст (обращение)",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),L.jsx("input",{type:"text",value:i,onChange:M=>o(M.target.value),placeholder:"Новое кодовое слово",required:!0,className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),L.jsx("input",{type:"text",value:a,onChange:M=>u(M.target.value),placeholder:"Сообщение если код использован",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),L.jsx("button",{type:"submit",className:"w-full font-display text-xl bg-amber-500 text-stone-900 py-2 rounded-md hover:bg-amber-400 transition-colors",children:"Создать QR-код"})]})]}),L.jsx("div",{className:"space-y-4",children:n.map(M=>L.jsx(ple,{codeword:M,onUpdate:D,onDelete:U},M.id))})]}),t==="quests"&&L.jsxs(L.Fragment,{children:[L.jsxs("div",{className:"mb-8",children:[L.jsx("h3",{className:"font-display text-2xl text-amber-400 mb-4",children:"Создать новый квест"}),L.jsxs("form",{onSubmit:$,className:"flex gap-4",children:[L.jsx("input",{type:"text",value:_,onChange:M=>E(M.target.value),placeholder:"Название квеста",required:!0,className:"flex-grow bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),L.jsx("button",{type:"submit",className:"font-display text-xl bg-amber-500 text-stone-900 py-2 px-6 rounded-md hover:bg-amber-400 transition-colors",children:"Создать"})]})]}),L.jsx("div",{className:"space-y-4",children:p.length>0?p.map(M=>L.jsx(vle,{game:M,onDelete:G},M.id)):L.jsx("p",{className:"text-stone-400 text-center py-4",children:"Квесты еще не созданы."})})]})]})]})},wle=()=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),ble=()=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),lD=({codeId:t})=>{const[e,n]=R.useState(null),[r,i]=R.useState("loading"),[o,a]=R.useState(!1),u=fo();R.useEffect(()=>{const d=new URLSearchParams(u.search||u.hash.split("?")[1]),p=t||d.get("c");if(p){const y=na(mr,"codewords",p);(async()=>{try{const E=await SL(y);if(E.exists()){const w={id:E.id,...E.data()};n(w),i("found");const b=`viewed-${p}`;sessionStorage.getItem(b)||(await xw(y,{views:r7(1)}),await yE(il(y,"viewEvents"),{viewedAt:fd()}),sessionStorage.setItem(b,"true"))}else i("not-found")}catch(E){console.error("Failed to fetch codeword from Firestore:",E),i("error")}})()}else i("not-found")},[u,t]);const c=()=>{e&&!e.isUsed&&(navigator.clipboard.writeText(e.word),a(!0),setTimeout(()=>a(!1),2e3))};return r==="loading"?L.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:L.jsx("p",{className:"font-display text-2xl text-stone-400 animate-pulse",children:"ПОИСК КОДА..."})}):r==="not-found"||r==="error"?L.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center p-4",children:[L.jsx("h2",{className:"font-display text-6xl text-red-500",children:"404"}),L.jsx("p",{className:"text-stone-300 text-xl mt-2",children:"Код не найден."}),L.jsx("p",{className:"text-stone-500",children:"Возможно, ссылка неверна или код был удален."})]}):e!=null&&e.isUsed?L.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center p-4",children:[L.jsx("h2",{className:"font-display text-5xl text-amber-500",children:"КОД ИСПОЛЬЗОВАН"}),L.jsx("p",{className:"text-stone-300 text-xl mt-4 max-w-lg",children:e.usedMessage})]}):L.jsx("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center p-4",children:L.jsxs("div",{className:"w-full max-w-2xl bg-stone-800/50 border-2 border-stone-700 p-8 rounded-lg shadow-2xl shadow-black/50",children:[L.jsx("p",{className:"text-stone-400 font-display text-2xl tracking-wide",children:(e==null?void 0:e.introText)||"ВАШЕ КОДОВОЕ СЛОВО:"}),L.jsx("p",{className:"text-amber-400 font-bold text-3xl md:text-5xl my-4 break-words select-all tracking-widest",children:e==null?void 0:e.word}),L.jsxs("button",{onClick:c,className:"w-full flex items-center justify-center gap-3 mt-6 bg-stone-700 hover:bg-amber-500 hover:text-stone-900 text-stone-200 font-display text-2xl py-3 rounded-md transition-all duration-300",children:[o?L.jsx(ble,{}):L.jsx(wle,{}),o?"СКОПИРОВАНО!":"СКОПИРОВАТЬ КОД"]})]})})},Ale=()=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:L.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 110 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),uD=()=>{var D;const{questId:t}=$2(),[e,n]=R.useState(null),[r,i]=R.useState(null),[o,a]=R.useState("start"),[u,c]=R.useState(!0),[d,p]=R.useState(""),y=U=>U?typeof U=="string"?U:U[(e==null?void 0:e.dsl.meta.defaultLocale)||"ru"]||Object.values(U)[0]||"":"",_=R.useCallback((U,$)=>{if(U.all)return U.all.every(O=>_(O,$));if(U.any)return U.any.some(O=>_(O,$));if(U.not)return!_(U.not,$);const{vars:G,inventory:k}=$;return U.hp_eq!==void 0?G.hp===U.hp_eq:U.hp_gt!==void 0?G.hp>U.hp_gt:U.hp_gte!==void 0?G.hp>=U.hp_gte:U.hp_lt!==void 0?G.hp<U.hp_lt:U.hp_lte!==void 0?G.hp<=U.hp_lte:U.has_item?k.includes(U.has_item):U.missing_item?!k.includes(U.missing_item):U.var_eq?Object.entries(U.var_eq).every(([O,M])=>G[O]===M):U.var_neq?Object.entries(U.var_neq).every(([O,M])=>G[O]!==M):!0},[]),E=R.useCallback((U,$)=>{if(!U)return $;const G=JSON.parse(JSON.stringify($));return U.forEach(k=>{k.add&&Object.entries(k.add).forEach(([O,M])=>{G.vars[O]=(G.vars[O]||0)+M}),k.set&&Object.entries(k.set).forEach(([O,M])=>{G.vars[O]=M}),k.inv_add&&!G.inventory.includes(k.inv_add)&&G.inventory.push(k.inv_add),k.inv_remove&&(G.inventory=G.inventory.filter(O=>O!==k.inv_remove))}),G},[]);R.useEffect(()=>{if(!t){p("Квест не найден."),c(!1);return}c(!0),p("");const U=na(mr,"games",t);SL(U).then($=>{if($.exists()){const G={id:$.id,...$.data()};n(G);const k=localStorage.getItem(`quest-save-${t}`);if(k){const{playerState:O,currentNodeId:M}=JSON.parse(k);i(O),a(M)}else i(G.dsl.state),a("start")}else p("Квест не найден.");c(!1)}).catch($=>{console.error("Error fetching quest:",$),p("Ошибка при загрузке квеста."),c(!1)})},[t]),R.useEffect(()=>{if(e&&r){const U={questId:t,playerState:r,currentNodeId:o};localStorage.setItem(`quest-save-${t}`,JSON.stringify(U))}},[r,o,t,e]);const w=e==null?void 0:e.dsl.nodes[o];R.useEffect(()=>{if(!w||!r)return;const U=E(w.effects,r);if(JSON.stringify(U)!==JSON.stringify(r)){i(U);return}if(w.branch){for(const $ of w.branch)if(_($.when,r)){a($.to);return}}w.fallback&&a(w.fallback)},[o,e,r,E,_]);const b=U=>{if(!r)return;const $=E(U.effects,r);i($),a(U.to)},C=R.useCallback(()=>{!t||!e||window.confirm("Вы уверены, что хотите начать квест заново? Весь прогресс будет потерян.")&&(localStorage.removeItem(`quest-save-${t}`),i(e.dsl.state),a("start"))},[t,e]);if(u)return L.jsx("div",{className:"text-center p-8 font-display text-4xl text-stone-400 animate-pulse",children:"ЗАГРУЗКА КВЕСТА..."});if(d)return L.jsx("div",{className:"text-center p-8 text-2xl text-red-500",children:d});if(!e||!r||!w)return L.jsx("div",{className:"text-center p-8 text-2xl text-stone-400",children:"Инициализация..."});const P=w.bg&&e.dsl.assets.images[w.bg]?e.dsl.assets.images[w.bg]:void 0,N=((D=w.choices)==null?void 0:D.filter(U=>U.when?_(U.when,r):!0))||[];return L.jsx("div",{className:"min-h-screen w-full flex items-center justify-center p-4 md:p-8",children:L.jsx("div",{className:"w-full max-w-4xl bg-cover bg-center rounded-lg shadow-2xl shadow-black/50 overflow-hidden border-2 border-stone-800",style:{backgroundImage:P?`url(${P})`:"none",backgroundColor:"#1c1917",minHeight:"70vh"},children:L.jsxs("div",{className:"bg-stone-900/80 backdrop-blur-sm p-6 md:p-8 flex flex-col h-full text-stone-200",children:[L.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6 border-b border-stone-700 pb-4 text-sm",children:[L.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1",children:[Object.keys(r.vars).length>0&&Object.keys(r.vars).map(U=>L.jsxs("span",{className:"font-bold text-amber-400",children:[U.toUpperCase(),": ",L.jsx("span",{className:"font-normal text-stone-200",children:r.vars[U]??0})]},U)),r.inventory.length>0&&L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("span",{className:"font-bold text-amber-400",children:"ИНВЕНТАРЬ:"}),L.jsx("span",{className:"text-stone-200",children:r.inventory.join(", ")})]})]}),L.jsxs("button",{onClick:C,className:"flex items-center justify-center font-display text-lg bg-stone-700 text-stone-200 py-2 px-4 rounded-md hover:bg-stone-600 transition-colors flex-shrink-0",children:[L.jsx(Ale,{}),"ЗАНОВО"]})]}),L.jsxs("div",{className:"flex-grow",children:[L.jsx("h2",{className:"font-display text-3xl md:text-4xl text-amber-400 mb-4",children:y(w.title)}),L.jsx("p",{className:"text-stone-300 whitespace-pre-wrap leading-relaxed mb-6",children:y(w.text)}),w.end&&L.jsxs("div",{className:"text-center py-4 border-t border-stone-700 mt-6",children:[L.jsx("h3",{className:`font-display text-4xl ${w.end.type==="win"?"text-lime-400":"text-red-500"}`,children:w.end.type==="win"?"Победа!":"Конец игры"}),L.jsx("p",{className:"mt-4 text-stone-300",children:y(w.end.message)})]}),!w.end&&L.jsx("div",{className:"flex flex-col space-y-3",children:N.map((U,$)=>L.jsx("button",{onClick:()=>b(U),className:"text-left w-full p-4 bg-stone-800/70 border border-stone-600 rounded-md hover:bg-amber-500 hover:border-amber-400 hover:text-stone-900 transition-all text-stone-200 font-semibold",children:y(U.label)},$))})]})]})})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Cle,xle;function Rle(){return{geminiUrl:Cle,vertexUrl:xle}}function Ile(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=Rle();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ol{}function Pe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function m(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const u=a.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){const p=c[d];m(p,e.slice(o+1),n[d])}else for(const d of c)m(d,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const u=a.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];m(c[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function h(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const o=t[i];return Array.isArray(o)?o.map(a=>h(a,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uS(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var cD;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(cD||(cD={}));var fD;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(fD||(fD={}));var Js;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Js||(Js={}));var dD;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(dD||(dD={}));var hD;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(hD||(hD={}));var pD;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(pD||(pD={}));var mD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(mD||(mD={}));var gD;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(gD||(gD={}));var yD;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(yD||(yD={}));var vD;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(vD||(vD={}));var _D;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(_D||(_D={}));var TD;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(TD||(TD={}));var ED;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ED||(ED={}));var SD;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(SD||(SD={}));var wD;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(wD||(wD={}));var Pg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Pg||(Pg={}));var bD;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(bD||(bD={}));var cS;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(cS||(cS={}));var AD;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(AD||(AD={}));var CD;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(CD||(CD={}));var xD;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(xD||(xD={}));var RD;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(RD||(RD={}));var ID;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ID||(ID={}));var PD;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(PD||(PD={}));var MD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(MD||(MD={}));var ND;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(ND||(ND={}));var DD;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(DD||(DD={}));var kD;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(kD||(kD={}));var OD;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(OD||(OD={}));var LD;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(LD||(LD={}));var VD;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(VD||(VD={}));var UD;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(UD||(UD={}));var BD;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(BD||(BD={}));var FD;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(FD||(FD={}));var qD;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(qD||(qD={}));var $D;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})($D||($D={}));var HD;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(HD||(HD={}));var zD;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(zD||(zD={}));var GD;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(GD||(GD={}));var KD;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(KD||(KD={}));var jD;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(jD||(jD={}));var YD;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(YD||(YD={}));var WD;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(WD||(WD={}));var JD;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(JD||(JD={}));var XD;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(XD||(XD={}));var Ou;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ou||(Ou={}));class fS{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Jf{get text(){var e,n,r,i,o,a,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",p=!1;const y=[];for(const _ of(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[E,w]of Object.entries(_))E!=="text"&&E!=="thought"&&(w!==null||w!==void 0)&&y.push(E);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;p=!0,d+=_.text}}return y.length>0&&console.warn(`there are non-text parts ${y} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?d:void 0}get data(){var e,n,r,i,o,a,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const p=[];for(const y of(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[_,E]of Object.entries(y))_!=="inlineData"&&(E!==null||E!==void 0)&&p.push(_);y.inlineData&&typeof y.inlineData.data=="string"&&(d+=atob(y.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,o,a,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,o,a,u,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(y=>y.executableCode).map(y=>y.executableCode).filter(y=>y!==void 0);if((p==null?void 0:p.length)!==0)return(d=p==null?void 0:p[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,o,a,u,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(y=>y.codeExecutionResult).map(y=>y.codeExecutionResult).filter(y=>y!==void 0);if((p==null?void 0:p.length)!==0)return(d=p==null?void 0:p[0])===null||d===void 0?void 0:d.output}}class QD{}class ZD{}class Ple{}class Mle{}class Nle{}class Dle{}class e2{}class t2{}class n2{}class kle{}class r2{}class Mg{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new Mg;if(r.name=e.name,r.metadata=e.metadata,r.done=e.done,r.error=e.error,n){const i=e.response;if(i){const o=new r2,a=i.videos;o.generatedVideos=a==null?void 0:a.map(u=>({video:{uri:u.gcsUri,videoBytes:u.bytesBase64Encoded?uS(u.bytesBase64Encoded):void 0,mimeType:u.mimeType}})),o.raiMediaFilteredCount=i.raiMediaFilteredCount,o.raiMediaFilteredReasons=i.raiMediaFilteredReasons,r.response=o}}else{const i=e.response;if(i){const o=new r2,a=i.generateVideoResponse,u=a==null?void 0:a.generatedSamples;o.generatedVideos=u==null?void 0:u.map(c=>{const d=c.video;return{video:{uri:d==null?void 0:d.uri,videoBytes:d!=null&&d.encodedVideo?uS(d==null?void 0:d.encodedVideo):void 0,mimeType:c.encoding}}}),o.raiMediaFilteredCount=a==null?void 0:a.raiMediaFilteredCount,o.raiMediaFilteredReasons=a==null?void 0:a.raiMediaFilteredReasons,r.response=o}}return r}}class i2{}class o2{}class s2{}class Ole{}class Lle{}class Vle{}class a2{}class Ule{get text(){var e,n,r;let i="",o=!1;const a=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&a.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(a))u!=="inlineData"&&c!==null&&o.push(u);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Ble{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ht(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function u6(t,e){const n=ht(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function c6(t){return Array.isArray(t)?t.map(e=>Ng(e)):[Ng(t)]}function Ng(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function f6(t){const e=Ng(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function d6(t){const e=Ng(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function l2(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function h6(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>l2(e)):[l2(t)]}function dS(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function u2(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function c2(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function er(t){if(t==null)throw new Error("ContentUnion is required");return dS(t)?t:{role:"user",parts:h6(t)}}function p6(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=er(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=er(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>er(n)):[er(e)]}function li(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(u2(t)||c2(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[er(t)]}const e=[],n=[],r=dS(t[0]);for(const i of t){const o=dS(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(u2(i)||c2(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:h6(n)}),e}function Fle(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Js).includes(n[0].toUpperCase())?n[0].toUpperCase():Js.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Js).includes(r.toUpperCase())?r.toUpperCase():Js.TYPE_UNSPECIFIED})}}function $u(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&Fle(t.type,e);for(const[a,u]of Object.entries(t))if(u!=null)if(a=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Js).includes(u.toUpperCase())?u.toUpperCase():Js.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=$u(u);else if(r.includes(a)){const c=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}c.push($u(d))}e[a]=c}else if(i.includes(a)){const c={};for(const[d,p]of Object.entries(u))c[d]=$u(p);e[a]=c}else{if(a==="additionalProperties")continue;e[a]=u}return e}function lA(t){return $u(t)}function uA(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function cA(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Rc(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=$u(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=$u(e.response));return t}function Ic(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function qle(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function fs(t,e){if(typeof e!="string")throw new Error("name must be a string");return qle(t,e,"cachedContents")}function m6(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ll(t){return uS(t)}function $le(t){return t!=null&&typeof t=="object"&&"name"in t}function Hle(t){return t!=null&&typeof t=="object"&&"video"in t}function zle(t){return t!=null&&typeof t=="object"&&"uri"in t}function g6(t){var e;let n;if($le(t)&&(n=t.name),!(zle(t)&&(n=t.uri,n===void 0))&&!(Hle(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function y6(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function v6(t){for(const e of["models","tunedModels","publisherModels"])if(Gle(t,e))return t[e];return[]}function Gle(t,e){return t!==null&&typeof t=="object"&&e in t}function Kle(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function jle(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=Kle(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function _6(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function Yle(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Pc(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function T6(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wle(t){const e={},n=h(t,["fps"]);n!=null&&m(e,["fps"],n);const r=h(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=h(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Jle(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["data"]);n!=null&&m(e,["data"],n);const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Xle(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Qle(t){const e={},n=h(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Wle(n));const r=h(t,["thought"]);r!=null&&m(e,["thought"],r);const i=h(t,["inlineData"]);i!=null&&m(e,["inlineData"],Jle(i));const o=h(t,["fileData"]);o!=null&&m(e,["fileData"],Xle(o));const a=h(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=h(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=h(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const d=h(t,["functionCall"]);d!=null&&m(e,["functionCall"],d);const p=h(t,["functionResponse"]);p!=null&&m(e,["functionResponse"],p);const y=h(t,["text"]);return y!=null&&m(e,["text"],y),e}function E6(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Qle(o))),m(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&m(e,["role"],r),e}function Zle(t){const e={},n=h(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const r=h(t,["default"]);r!=null&&m(e,["default"],r);const i=h(t,["description"]);i!=null&&m(e,["description"],i);const o=h(t,["enum"]);o!=null&&m(e,["enum"],o);const a=h(t,["example"]);a!=null&&m(e,["example"],a);const u=h(t,["format"]);u!=null&&m(e,["format"],u);const c=h(t,["items"]);c!=null&&m(e,["items"],c);const d=h(t,["maxItems"]);d!=null&&m(e,["maxItems"],d);const p=h(t,["maxLength"]);p!=null&&m(e,["maxLength"],p);const y=h(t,["maxProperties"]);y!=null&&m(e,["maxProperties"],y);const _=h(t,["maximum"]);_!=null&&m(e,["maximum"],_);const E=h(t,["minItems"]);E!=null&&m(e,["minItems"],E);const w=h(t,["minLength"]);w!=null&&m(e,["minLength"],w);const b=h(t,["minProperties"]);b!=null&&m(e,["minProperties"],b);const C=h(t,["minimum"]);C!=null&&m(e,["minimum"],C);const P=h(t,["nullable"]);P!=null&&m(e,["nullable"],P);const N=h(t,["pattern"]);N!=null&&m(e,["pattern"],N);const D=h(t,["properties"]);D!=null&&m(e,["properties"],D);const U=h(t,["propertyOrdering"]);U!=null&&m(e,["propertyOrdering"],U);const $=h(t,["required"]);$!=null&&m(e,["required"],$);const G=h(t,["title"]);G!=null&&m(e,["title"],G);const k=h(t,["type"]);return k!=null&&m(e,["type"],k),e}function eue(t){const e={};if(h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=h(t,["category"]);n!=null&&m(e,["category"],n);const r=h(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function tue(t){const e={},n=h(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=h(t,["description"]);r!=null&&m(e,["description"],r);const i=h(t,["name"]);i!=null&&m(e,["name"],i);const o=h(t,["parameters"]);o!=null&&m(e,["parameters"],o);const a=h(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=h(t,["response"]);u!=null&&m(e,["response"],u);const c=h(t,["responseJsonSchema"]);return c!=null&&m(e,["responseJsonSchema"],c),e}function nue(t){const e={},n=h(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=h(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function rue(t){const e={},n=h(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],nue(n)),h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function iue(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const r=h(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function oue(t){const e={},n=h(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],iue(n)),e}function sue(){return{}}function aue(t){const e={},n=h(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function lue(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>tue(d))),m(e,["functionDeclarations"],c)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=h(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],rue(r));const i=h(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],oue(i)),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(h(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");h(t,["urlContext"])!=null&&m(e,["urlContext"],sue());const a=h(t,["computerUse"]);a!=null&&m(e,["computerUse"],aue(a));const u=h(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function uue(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const r=h(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function cue(t){const e={},n=h(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=h(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function fue(t){const e={},n=h(t,["latLng"]);n!=null&&m(e,["latLng"],cue(n));const r=h(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function due(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],uue(n));const r=h(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],fue(r)),e}function hue(t){const e={},n=h(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function S6(t){const e={},n=h(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],hue(n)),e}function pue(t){const e={},n=h(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=h(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],S6(r)),e}function mue(t){const e={},n=h(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>pue(i))),m(e,["speakerVoiceConfigs"],r)}return e}function gue(t){const e={},n=h(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],S6(n));const r=h(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],mue(r));const i=h(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function yue(t){const e={},n=h(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=h(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function vue(t,e,n){const r={},i=h(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],E6(er(i)));const o=h(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=h(e,["topP"]);a!=null&&m(r,["topP"],a);const u=h(e,["topK"]);u!=null&&m(r,["topK"],u);const c=h(e,["candidateCount"]);c!=null&&m(r,["candidateCount"],c);const d=h(e,["maxOutputTokens"]);d!=null&&m(r,["maxOutputTokens"],d);const p=h(e,["stopSequences"]);p!=null&&m(r,["stopSequences"],p);const y=h(e,["responseLogprobs"]);y!=null&&m(r,["responseLogprobs"],y);const _=h(e,["logprobs"]);_!=null&&m(r,["logprobs"],_);const E=h(e,["presencePenalty"]);E!=null&&m(r,["presencePenalty"],E);const w=h(e,["frequencyPenalty"]);w!=null&&m(r,["frequencyPenalty"],w);const b=h(e,["seed"]);b!=null&&m(r,["seed"],b);const C=h(e,["responseMimeType"]);C!=null&&m(r,["responseMimeType"],C);const P=h(e,["responseSchema"]);P!=null&&m(r,["responseSchema"],Zle(lA(P)));const N=h(e,["responseJsonSchema"]);if(N!=null&&m(r,["responseJsonSchema"],N),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=h(e,["safetySettings"]);if(n!==void 0&&D!=null){let F=D;Array.isArray(F)&&(F=F.map(z=>eue(z))),m(n,["safetySettings"],F)}const U=h(e,["tools"]);if(n!==void 0&&U!=null){let F=Ic(U);Array.isArray(F)&&(F=F.map(z=>lue(Rc(z)))),m(n,["tools"],F)}const $=h(e,["toolConfig"]);if(n!==void 0&&$!=null&&m(n,["toolConfig"],due($)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=h(e,["cachedContent"]);n!==void 0&&G!=null&&m(n,["cachedContent"],fs(t,G));const k=h(e,["responseModalities"]);k!=null&&m(r,["responseModalities"],k);const O=h(e,["mediaResolution"]);O!=null&&m(r,["mediaResolution"],O);const M=h(e,["speechConfig"]);if(M!=null&&m(r,["speechConfig"],gue(uA(M))),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=h(e,["thinkingConfig"]);return q!=null&&m(r,["thinkingConfig"],yue(q)),r}function _ue(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["request","model"],ht(t,r));const i=h(e,["contents"]);if(i!=null){let a=li(i);Array.isArray(a)&&(a=a.map(u=>E6(u))),m(n,["request","contents"],a)}const o=h(e,["config"]);return o!=null&&m(n,["request","generationConfig"],vue(t,o,n)),n}function Tue(t,e){const n={};if(h(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(h(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=h(e,["fileName"]);r!=null&&m(n,["fileName"],r);const i=h(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>_ue(t,a))),m(n,["requests","requests"],o)}return n}function Eue(t,e){const n={},r=h(t,["displayName"]);if(e!==void 0&&r!=null&&m(e,["batch","displayName"],r),h(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function f2(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],ht(t,r));const i=h(e,["src"]);i!=null&&m(n,["batch","inputConfig"],Tue(t,_6(t,i)));const o=h(e,["config"]);return o!=null&&m(n,["config"],Eue(o,n)),n}function Sue(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["_url","name"],Pc(t,r));const i=h(e,["config"]);return i!=null&&m(n,["config"],i),n}function wue(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["_url","name"],Pc(t,r));const i=h(e,["config"]);return i!=null&&m(n,["config"],i),n}function bue(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);if(e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),h(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Aue(t){const e={},n=h(t,["config"]);return n!=null&&m(e,["config"],bue(n,e)),e}function Cue(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["_url","name"],Pc(t,r));const i=h(e,["config"]);return i!=null&&m(n,["config"],i),n}function xue(t){const e={},n=h(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const r=h(t,["gcsUri"]);r!=null&&m(e,["gcsSource","uris"],r);const i=h(t,["bigqueryUri"]);if(i!=null&&m(e,["bigquerySource","inputUri"],i),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Rue(t){const e={},n=h(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const r=h(t,["gcsUri"]);r!=null&&m(e,["gcsDestination","outputUriPrefix"],r);const i=h(t,["bigqueryUri"]);if(i!=null&&m(e,["bigqueryDestination","outputUri"],i),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function Iue(t,e){const n={},r=h(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=h(t,["dest"]);return e!==void 0&&i!=null&&m(e,["outputConfig"],Rue(Yle(i))),n}function Pue(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["model"],ht(t,r));const i=h(e,["src"]);i!=null&&m(n,["inputConfig"],xue(_6(t,i)));const o=h(e,["config"]);return o!=null&&m(n,["config"],Iue(o,n)),n}function Mue(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["_url","name"],Pc(t,r));const i=h(e,["config"]);return i!=null&&m(n,["config"],i),n}function Nue(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["_url","name"],Pc(t,r));const i=h(e,["config"]);return i!=null&&m(n,["config"],i),n}function Due(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=h(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function kue(t){const e={},n=h(t,["config"]);return n!=null&&m(e,["config"],Due(n,e)),e}function Oue(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["_url","name"],Pc(t,r));const i=h(e,["config"]);return i!=null&&m(n,["config"],i),n}function Lue(t){const e={},n=h(t,["fps"]);n!=null&&m(e,["fps"],n);const r=h(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=h(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Vue(t){const e={},n=h(t,["data"]);n!=null&&m(e,["data"],n);const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Uue(t){const e={},n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Bue(t){const e={},n=h(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Lue(n));const r=h(t,["thought"]);r!=null&&m(e,["thought"],r);const i=h(t,["inlineData"]);i!=null&&m(e,["inlineData"],Vue(i));const o=h(t,["fileData"]);o!=null&&m(e,["fileData"],Uue(o));const a=h(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=h(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=h(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const d=h(t,["functionCall"]);d!=null&&m(e,["functionCall"],d);const p=h(t,["functionResponse"]);p!=null&&m(e,["functionResponse"],p);const y=h(t,["text"]);return y!=null&&m(e,["text"],y),e}function Fue(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Bue(o))),m(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&m(e,["role"],r),e}function que(t){const e={},n=h(t,["citationSources"]);return n!=null&&m(e,["citations"],n),e}function $ue(t){const e={},n=h(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=h(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function Hue(t){const e={},n=h(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>$ue(i))),m(e,["urlMetadata"],r)}return e}function zue(t){const e={},n=h(t,["content"]);n!=null&&m(e,["content"],Fue(n));const r=h(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],que(r));const i=h(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=h(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const a=h(t,["urlContextMetadata"]);a!=null&&m(e,["urlContextMetadata"],Hue(a));const u=h(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const c=h(t,["groundingMetadata"]);c!=null&&m(e,["groundingMetadata"],c);const d=h(t,["index"]);d!=null&&m(e,["index"],d);const p=h(t,["logprobsResult"]);p!=null&&m(e,["logprobsResult"],p);const y=h(t,["safetyRatings"]);return y!=null&&m(e,["safetyRatings"],y),e}function Gue(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>zue(d))),m(e,["candidates"],c)}const i=h(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=h(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const a=h(t,["responseId"]);a!=null&&m(e,["responseId"],a);const u=h(t,["usageMetadata"]);return u!=null&&m(e,["usageMetadata"],u),e}function w6(t){const e={},n=h(t,["details"]);n!=null&&m(e,["details"],n);const r=h(t,["code"]);r!=null&&m(e,["code"],r);const i=h(t,["message"]);return i!=null&&m(e,["message"],i),e}function Kue(t){const e={},n=h(t,["response"]);n!=null&&m(e,["response"],Gue(n));const r=h(t,["error"]);return r!=null&&m(e,["error"],w6(r)),e}function jue(t){const e={},n=h(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const r=h(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Kue(o))),m(e,["inlinedResponses"],i)}return e}function Cm(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["metadata","displayName"]);r!=null&&m(e,["displayName"],r);const i=h(t,["metadata","state"]);i!=null&&m(e,["state"],T6(i));const o=h(t,["metadata","createTime"]);o!=null&&m(e,["createTime"],o);const a=h(t,["metadata","endTime"]);a!=null&&m(e,["endTime"],a);const u=h(t,["metadata","updateTime"]);u!=null&&m(e,["updateTime"],u);const c=h(t,["metadata","model"]);c!=null&&m(e,["model"],c);const d=h(t,["metadata","output"]);return d!=null&&m(e,["dest"],jue(d)),e}function Yue(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=h(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Cm(a))),m(e,["batchJobs"],o)}return e}function Wue(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["name"]);r!=null&&m(e,["name"],r);const i=h(t,["done"]);i!=null&&m(e,["done"],i);const o=h(t,["error"]);return o!=null&&m(e,["error"],w6(o)),e}function b6(t){const e={},n=h(t,["details"]);n!=null&&m(e,["details"],n);const r=h(t,["code"]);r!=null&&m(e,["code"],r);const i=h(t,["message"]);return i!=null&&m(e,["message"],i),e}function Jue(t){const e={},n=h(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const r=h(t,["gcsSource","uris"]);r!=null&&m(e,["gcsUri"],r);const i=h(t,["bigquerySource","inputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function Xue(t){const e={},n=h(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const r=h(t,["gcsDestination","outputUriPrefix"]);r!=null&&m(e,["gcsUri"],r);const i=h(t,["bigqueryDestination","outputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function hS(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=h(t,["state"]);i!=null&&m(e,["state"],T6(i));const o=h(t,["error"]);o!=null&&m(e,["error"],b6(o));const a=h(t,["createTime"]);a!=null&&m(e,["createTime"],a);const u=h(t,["startTime"]);u!=null&&m(e,["startTime"],u);const c=h(t,["endTime"]);c!=null&&m(e,["endTime"],c);const d=h(t,["updateTime"]);d!=null&&m(e,["updateTime"],d);const p=h(t,["model"]);p!=null&&m(e,["model"],p);const y=h(t,["inputConfig"]);y!=null&&m(e,["src"],Jue(y));const _=h(t,["outputConfig"]);return _!=null&&m(e,["dest"],Xue(_)),e}function Que(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=h(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>hS(a))),m(e,["batchJobs"],o)}return e}function Zue(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["name"]);r!=null&&m(e,["name"],r);const i=h(t,["done"]);i!=null&&m(e,["done"],i);const o=h(t,["error"]);return o!=null&&m(e,["error"],b6(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Al;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Al||(Al={}));class gh{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ece extends Ol{constructor(e){super(),this.apiClient=e,this.create=async n=>{var r,i;if(this.apiClient.isVertexAI()){const a=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${a}`;else throw new Error("Unsupported source:"+n.src)}else if(Array.isArray(n.src)||typeof n.src!="string"&&n.src.inlinedRequests){let o="",a={};const u=f2(this.apiClient,n);o=Pe("{model}:batchGenerateContent",u._url),a=u._query;const p=u.batch.inputConfig.requests,y=p.requests,_=[];for(const w of y){const b=w;if(b.systemInstruction){const C=b.systemInstruction;delete b.systemInstruction;const P=b.request;P.systemInstruction=C,b.request=P}_.push(b)}return p.requests=_,delete u.config,delete u._url,delete u._query,this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(w=>w.json()).then(w=>Cm(w))}return await this.createInternal(n)},this.list=async(n={})=>new gh(Al.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}async createInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Pue(this.apiClient,e);return u=Pe("batchPredictionJobs",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>hS(p))}else{const d=f2(this.apiClient,e);return u=Pe("{model}:batchGenerateContent",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>Cm(p))}}async get(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Mue(this.apiClient,e);return u=Pe("batchPredictionJobs/{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>hS(p))}else{const d=Sue(this.apiClient,e);return u=Pe("batches/{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>Cm(p))}}async cancel(e){var n,r,i,o;let a="",u={};if(this.apiClient.isVertexAI()){const c=Nue(this.apiClient,e);a=Pe("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=wue(this.apiClient,e);a=Pe("batches/{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=kue(e);return u=Pe("batchPredictionJobs",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const y=Que(p),_=new a2;return Object.assign(_,y),_})}else{const d=Aue(e);return u=Pe("batches",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const y=Yue(p),_=new a2;return Object.assign(_,y),_})}}async delete(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Oue(this.apiClient,e);return u=Pe("batchPredictionJobs/{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>Zue(p))}else{const d=Cue(this.apiClient,e);return u=Pe("batches/{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>Wue(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tce(t){const e={},n=h(t,["fps"]);n!=null&&m(e,["fps"],n);const r=h(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=h(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function nce(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["data"]);n!=null&&m(e,["data"],n);const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function rce(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function ice(t){const e={},n=h(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],tce(n));const r=h(t,["thought"]);r!=null&&m(e,["thought"],r);const i=h(t,["inlineData"]);i!=null&&m(e,["inlineData"],nce(i));const o=h(t,["fileData"]);o!=null&&m(e,["fileData"],rce(o));const a=h(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=h(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=h(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const d=h(t,["functionCall"]);d!=null&&m(e,["functionCall"],d);const p=h(t,["functionResponse"]);p!=null&&m(e,["functionResponse"],p);const y=h(t,["text"]);return y!=null&&m(e,["text"],y),e}function d2(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ice(o))),m(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&m(e,["role"],r),e}function oce(t){const e={},n=h(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=h(t,["description"]);r!=null&&m(e,["description"],r);const i=h(t,["name"]);i!=null&&m(e,["name"],i);const o=h(t,["parameters"]);o!=null&&m(e,["parameters"],o);const a=h(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=h(t,["response"]);u!=null&&m(e,["response"],u);const c=h(t,["responseJsonSchema"]);return c!=null&&m(e,["responseJsonSchema"],c),e}function sce(t){const e={},n=h(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=h(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function ace(t){const e={},n=h(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],sce(n)),h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function lce(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const r=h(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function uce(t){const e={},n=h(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],lce(n)),e}function cce(){return{}}function fce(t){const e={},n=h(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function dce(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>oce(d))),m(e,["functionDeclarations"],c)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=h(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],ace(r));const i=h(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],uce(i)),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(h(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");h(t,["urlContext"])!=null&&m(e,["urlContext"],cce());const a=h(t,["computerUse"]);a!=null&&m(e,["computerUse"],fce(a));const u=h(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function hce(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const r=h(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function pce(t){const e={},n=h(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=h(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function mce(t){const e={},n=h(t,["latLng"]);n!=null&&m(e,["latLng"],pce(n));const r=h(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function gce(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],hce(n));const r=h(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],mce(r)),e}function yce(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=h(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=h(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=h(t,["contents"]);if(e!==void 0&&a!=null){let p=li(a);Array.isArray(p)&&(p=p.map(y=>d2(y))),m(e,["contents"],p)}const u=h(t,["systemInstruction"]);e!==void 0&&u!=null&&m(e,["systemInstruction"],d2(er(u)));const c=h(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(y=>dce(y))),m(e,["tools"],p)}const d=h(t,["toolConfig"]);if(e!==void 0&&d!=null&&m(e,["toolConfig"],gce(d)),h(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function vce(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["model"],u6(t,r));const i=h(e,["config"]);return i!=null&&m(n,["config"],yce(i,n)),n}function _ce(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["_url","name"],fs(t,r));const i=h(e,["config"]);return i!=null&&m(n,["config"],i),n}function Tce(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["_url","name"],fs(t,r));const i=h(e,["config"]);return i!=null&&m(n,["config"],i),n}function Ece(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=h(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function Sce(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["_url","name"],fs(t,r));const i=h(e,["config"]);return i!=null&&m(n,["config"],Ece(i,n)),n}function wce(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function bce(t){const e={},n=h(t,["config"]);return n!=null&&m(e,["config"],wce(n,e)),e}function Ace(t){const e={},n=h(t,["fps"]);n!=null&&m(e,["fps"],n);const r=h(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=h(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Cce(t){const e={},n=h(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=h(t,["data"]);r!=null&&m(e,["data"],r);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function xce(t){const e={},n=h(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=h(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Rce(t){const e={},n=h(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Ace(n));const r=h(t,["thought"]);r!=null&&m(e,["thought"],r);const i=h(t,["inlineData"]);i!=null&&m(e,["inlineData"],Cce(i));const o=h(t,["fileData"]);o!=null&&m(e,["fileData"],xce(o));const a=h(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=h(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=h(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const d=h(t,["functionCall"]);d!=null&&m(e,["functionCall"],d);const p=h(t,["functionResponse"]);p!=null&&m(e,["functionResponse"],p);const y=h(t,["text"]);return y!=null&&m(e,["text"],y),e}function h2(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Rce(o))),m(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&m(e,["role"],r),e}function Ice(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&m(e,["description"],n);const r=h(t,["name"]);r!=null&&m(e,["name"],r);const i=h(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=h(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=h(t,["response"]);a!=null&&m(e,["response"],a);const u=h(t,["responseJsonSchema"]);return u!=null&&m(e,["responseJsonSchema"],u),e}function Pce(t){const e={},n=h(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=h(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function Mce(t){const e={},n=h(t,["timeRangeFilter"]);n!=null&&m(e,["timeRangeFilter"],Pce(n));const r=h(t,["excludeDomains"]);return r!=null&&m(e,["excludeDomains"],r),e}function Nce(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const r=h(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function Dce(t){const e={},n=h(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],Nce(n)),e}function kce(t){const e={},n=h(t,["excludeDomains"]);return n!=null&&m(e,["excludeDomains"],n),e}function Oce(t){const e={},n=h(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function Lce(t){const e={},n=h(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],Oce(n));const r=h(t,["authType"]);r!=null&&m(e,["authType"],r);const i=h(t,["googleServiceAccountConfig"]);i!=null&&m(e,["googleServiceAccountConfig"],i);const o=h(t,["httpBasicAuthConfig"]);o!=null&&m(e,["httpBasicAuthConfig"],o);const a=h(t,["oauthConfig"]);a!=null&&m(e,["oauthConfig"],a);const u=h(t,["oidcConfig"]);return u!=null&&m(e,["oidcConfig"],u),e}function Vce(t){const e={},n=h(t,["authConfig"]);return n!=null&&m(e,["authConfig"],Lce(n)),e}function Uce(){return{}}function Bce(t){const e={},n=h(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function Fce(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>Ice(_))),m(e,["functionDeclarations"],y)}const r=h(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=h(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],Mce(i));const o=h(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],Dce(o));const a=h(t,["enterpriseWebSearch"]);a!=null&&m(e,["enterpriseWebSearch"],kce(a));const u=h(t,["googleMaps"]);u!=null&&m(e,["googleMaps"],Vce(u)),h(t,["urlContext"])!=null&&m(e,["urlContext"],Uce());const d=h(t,["computerUse"]);d!=null&&m(e,["computerUse"],Bce(d));const p=h(t,["codeExecution"]);return p!=null&&m(e,["codeExecution"],p),e}function qce(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const r=h(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function $ce(t){const e={},n=h(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=h(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function Hce(t){const e={},n=h(t,["latLng"]);n!=null&&m(e,["latLng"],$ce(n));const r=h(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function zce(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],qce(n));const r=h(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],Hce(r)),e}function Gce(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=h(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=h(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=h(t,["contents"]);if(e!==void 0&&a!=null){let y=li(a);Array.isArray(y)&&(y=y.map(_=>h2(_))),m(e,["contents"],y)}const u=h(t,["systemInstruction"]);e!==void 0&&u!=null&&m(e,["systemInstruction"],h2(er(u)));const c=h(t,["tools"]);if(e!==void 0&&c!=null){let y=c;Array.isArray(y)&&(y=y.map(_=>Fce(_))),m(e,["tools"],y)}const d=h(t,["toolConfig"]);e!==void 0&&d!=null&&m(e,["toolConfig"],zce(d));const p=h(t,["kmsKeyName"]);return e!==void 0&&p!=null&&m(e,["encryption_spec","kmsKeyName"],p),n}function Kce(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["model"],u6(t,r));const i=h(e,["config"]);return i!=null&&m(n,["config"],Gce(i,n)),n}function jce(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["_url","name"],fs(t,r));const i=h(e,["config"]);return i!=null&&m(n,["config"],i),n}function Yce(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["_url","name"],fs(t,r));const i=h(e,["config"]);return i!=null&&m(n,["config"],i),n}function Wce(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=h(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function Jce(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["_url","name"],fs(t,r));const i=h(e,["config"]);return i!=null&&m(n,["config"],Wce(i,n)),n}function Xce(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Qce(t){const e={},n=h(t,["config"]);return n!=null&&m(e,["config"],Xce(n,e)),e}function xm(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=h(t,["model"]);i!=null&&m(e,["model"],i);const o=h(t,["createTime"]);o!=null&&m(e,["createTime"],o);const a=h(t,["updateTime"]);a!=null&&m(e,["updateTime"],a);const u=h(t,["expireTime"]);u!=null&&m(e,["expireTime"],u);const c=h(t,["usageMetadata"]);return c!=null&&m(e,["usageMetadata"],c),e}function Zce(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function efe(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=h(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>xm(a))),m(e,["cachedContents"],o)}return e}function Rm(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=h(t,["model"]);i!=null&&m(e,["model"],i);const o=h(t,["createTime"]);o!=null&&m(e,["createTime"],o);const a=h(t,["updateTime"]);a!=null&&m(e,["updateTime"],a);const u=h(t,["expireTime"]);u!=null&&m(e,["expireTime"],u);const c=h(t,["usageMetadata"]);return c!=null&&m(e,["usageMetadata"],c),e}function tfe(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function nfe(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=h(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Rm(a))),m(e,["cachedContents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rfe extends Ol{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new gh(Al.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Kce(this.apiClient,e);return u=Pe("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>Rm(p))}else{const d=vce(this.apiClient,e);return u=Pe("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>xm(p))}}async get(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=jce(this.apiClient,e);return u=Pe("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>Rm(p))}else{const d=_ce(this.apiClient,e);return u=Pe("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>xm(p))}}async delete(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Yce(this.apiClient,e);return u=Pe("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const y=tfe(p),_=new o2;return Object.assign(_,y),_})}else{const d=Tce(this.apiClient,e);return u=Pe("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const y=Zce(p),_=new o2;return Object.assign(_,y),_})}}async update(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Jce(this.apiClient,e);return u=Pe("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>Rm(p))}else{const d=Sce(this.apiClient,e);return u=Pe("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>xm(p))}}async listInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Qce(e);return u=Pe("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const y=nfe(p),_=new s2;return Object.assign(_,y),_})}else{const d=bce(e);return u=Pe("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const y=efe(p),_=new s2;return Object.assign(_,y),_})}}}function p2(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kt(t){return this instanceof kt?(this.v=t,this):new kt(t)}function Hu(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(E){return function(w){return Promise.resolve(w).then(E,y)}}function u(E,w){r[E]&&(i[E]=function(b){return new Promise(function(C,P){o.push([E,b,C,P])>1||c(E,b)})},w&&(i[E]=w(i[E])))}function c(E,w){try{d(r[E](w))}catch(b){_(o[0][3],b)}}function d(E){E.value instanceof kt?Promise.resolve(E.value.v).then(p,y):_(o[0][2],E)}function p(E){c("next",E)}function y(E){c("throw",E)}function _(E,w){E(w),o.shift(),o.length&&c(o[0][0],o[0][1])}}function md(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof p2=="function"?p2(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(u,c){a=t[o](a),i(u,c,a.done,a.value)})}}function i(o,a,u,c){Promise.resolve(c).then(function(d){o({value:d,done:u})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ife(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:A6(n)}function A6(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function ofe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function m2(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!A6(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class sfe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new afe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class afe{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),ofe(o)}async sendMessage(e){var n;await this.sendPromise;const r=er(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,u;const c=await i,d=(a=(o=c.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,p=c.automaticFunctionCallingHistory,y=this.getHistory(!0).length;let _=[];p!=null&&(_=(u=p.slice(y))!==null&&u!==void 0?u:[]);const E=d?[d]:[];this.recordHistory(r,E,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=er(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?m2(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Hu(this,arguments,function*(){var a,u,c,d;const p=[];try{for(var y=!0,_=md(e),E;E=yield kt(_.next()),a=E.done,!a;y=!0){d=E.value,y=!1;const w=d;if(ife(w)){const b=(i=(r=w.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;b!==void 0&&p.push(b)}yield yield kt(w)}}catch(w){u={error:w}}finally{try{!y&&!a&&(c=_.return)&&(yield kt(c.call(_)))}finally{if(u)throw u.error}}this.recordHistory(n,p)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...m2(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ly extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ly.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lfe(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function ufe(t){const e={},n=h(t,["config"]);return n!=null&&m(e,["config"],lfe(n,e)),e}function cfe(t){const e={},n=h(t,["details"]);n!=null&&m(e,["details"],n);const r=h(t,["message"]);r!=null&&m(e,["message"],r);const i=h(t,["code"]);return i!=null&&m(e,["code"],i),e}function ffe(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=h(t,["mimeType"]);i!=null&&m(e,["mimeType"],i);const o=h(t,["sizeBytes"]);o!=null&&m(e,["sizeBytes"],o);const a=h(t,["createTime"]);a!=null&&m(e,["createTime"],a);const u=h(t,["expirationTime"]);u!=null&&m(e,["expirationTime"],u);const c=h(t,["updateTime"]);c!=null&&m(e,["updateTime"],c);const d=h(t,["sha256Hash"]);d!=null&&m(e,["sha256Hash"],d);const p=h(t,["uri"]);p!=null&&m(e,["uri"],p);const y=h(t,["downloadUri"]);y!=null&&m(e,["downloadUri"],y);const _=h(t,["state"]);_!=null&&m(e,["state"],_);const E=h(t,["source"]);E!=null&&m(e,["source"],E);const w=h(t,["videoMetadata"]);w!=null&&m(e,["videoMetadata"],w);const b=h(t,["error"]);return b!=null&&m(e,["error"],cfe(b)),e}function dfe(t){const e={},n=h(t,["file"]);n!=null&&m(e,["file"],ffe(n));const r=h(t,["config"]);return r!=null&&m(e,["config"],r),e}function hfe(t){const e={},n=h(t,["name"]);n!=null&&m(e,["_url","file"],g6(n));const r=h(t,["config"]);return r!=null&&m(e,["config"],r),e}function pfe(t){const e={},n=h(t,["name"]);n!=null&&m(e,["_url","file"],g6(n));const r=h(t,["config"]);return r!=null&&m(e,["config"],r),e}function mfe(t){const e={},n=h(t,["details"]);n!=null&&m(e,["details"],n);const r=h(t,["message"]);r!=null&&m(e,["message"],r);const i=h(t,["code"]);return i!=null&&m(e,["code"],i),e}function pS(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=h(t,["mimeType"]);i!=null&&m(e,["mimeType"],i);const o=h(t,["sizeBytes"]);o!=null&&m(e,["sizeBytes"],o);const a=h(t,["createTime"]);a!=null&&m(e,["createTime"],a);const u=h(t,["expirationTime"]);u!=null&&m(e,["expirationTime"],u);const c=h(t,["updateTime"]);c!=null&&m(e,["updateTime"],c);const d=h(t,["sha256Hash"]);d!=null&&m(e,["sha256Hash"],d);const p=h(t,["uri"]);p!=null&&m(e,["uri"],p);const y=h(t,["downloadUri"]);y!=null&&m(e,["downloadUri"],y);const _=h(t,["state"]);_!=null&&m(e,["state"],_);const E=h(t,["source"]);E!=null&&m(e,["source"],E);const w=h(t,["videoMetadata"]);w!=null&&m(e,["videoMetadata"],w);const b=h(t,["error"]);return b!=null&&m(e,["error"],mfe(b)),e}function gfe(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=h(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>pS(a))),m(e,["files"],o)}return e}function yfe(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function vfe(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _fe extends Ol{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new gh(Al.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>pS(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ufe(e);return o=Pe("files",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:c.headers},p})),i.then(c=>{const d=gfe(c),p=new Ole;return Object.assign(p,d),p})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=dfe(e);return o=Pe("upload/v1beta/files",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=yfe(c),p=new Lle;return Object.assign(p,d),p})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=hfe(e);return o=Pe("files/{file}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>pS(c))}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=pfe(e);return o=Pe("files/{file}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:c.headers},p})),i.then(c=>{const d=vfe(c),p=new Vle;return Object.assign(p,d),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tfe(t){const e={},n=h(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function C6(t){const e={},n=h(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],Tfe(n)),e}function Efe(t){const e={},n=h(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=h(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],C6(r)),e}function Sfe(t){const e={},n=h(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Efe(i))),m(e,["speakerVoiceConfigs"],r)}return e}function wfe(t){const e={},n=h(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],C6(n));const r=h(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],Sfe(r));const i=h(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function bfe(t){const e={},n=h(t,["fps"]);n!=null&&m(e,["fps"],n);const r=h(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=h(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Afe(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["data"]);n!=null&&m(e,["data"],n);const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Cfe(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function xfe(t){const e={},n=h(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],bfe(n));const r=h(t,["thought"]);r!=null&&m(e,["thought"],r);const i=h(t,["inlineData"]);i!=null&&m(e,["inlineData"],Afe(i));const o=h(t,["fileData"]);o!=null&&m(e,["fileData"],Cfe(o));const a=h(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=h(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=h(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const d=h(t,["functionCall"]);d!=null&&m(e,["functionCall"],d);const p=h(t,["functionResponse"]);p!=null&&m(e,["functionResponse"],p);const y=h(t,["text"]);return y!=null&&m(e,["text"],y),e}function Rfe(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>xfe(o))),m(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&m(e,["role"],r),e}function Ife(t){const e={},n=h(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=h(t,["description"]);r!=null&&m(e,["description"],r);const i=h(t,["name"]);i!=null&&m(e,["name"],i);const o=h(t,["parameters"]);o!=null&&m(e,["parameters"],o);const a=h(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=h(t,["response"]);u!=null&&m(e,["response"],u);const c=h(t,["responseJsonSchema"]);return c!=null&&m(e,["responseJsonSchema"],c),e}function Pfe(t){const e={},n=h(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=h(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function Mfe(t){const e={},n=h(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],Pfe(n)),h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Nfe(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const r=h(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function Dfe(t){const e={},n=h(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],Nfe(n)),e}function kfe(){return{}}function Ofe(t){const e={},n=h(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function Lfe(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>Ife(d))),m(e,["functionDeclarations"],c)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=h(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],Mfe(r));const i=h(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],Dfe(i)),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(h(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");h(t,["urlContext"])!=null&&m(e,["urlContext"],kfe());const a=h(t,["computerUse"]);a!=null&&m(e,["computerUse"],Ofe(a));const u=h(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function Vfe(t){const e={},n=h(t,["handle"]);if(n!=null&&m(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function g2(){return{}}function Ufe(t){const e={},n=h(t,["disabled"]);n!=null&&m(e,["disabled"],n);const r=h(t,["startOfSpeechSensitivity"]);r!=null&&m(e,["startOfSpeechSensitivity"],r);const i=h(t,["endOfSpeechSensitivity"]);i!=null&&m(e,["endOfSpeechSensitivity"],i);const o=h(t,["prefixPaddingMs"]);o!=null&&m(e,["prefixPaddingMs"],o);const a=h(t,["silenceDurationMs"]);return a!=null&&m(e,["silenceDurationMs"],a),e}function Bfe(t){const e={},n=h(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],Ufe(n));const r=h(t,["activityHandling"]);r!=null&&m(e,["activityHandling"],r);const i=h(t,["turnCoverage"]);return i!=null&&m(e,["turnCoverage"],i),e}function Ffe(t){const e={},n=h(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function qfe(t){const e={},n=h(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const r=h(t,["slidingWindow"]);return r!=null&&m(e,["slidingWindow"],Ffe(r)),e}function $fe(t){const e={},n=h(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function Hfe(t,e){const n={},r=h(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=h(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=h(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=h(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const u=h(t,["topK"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topK"],u);const c=h(t,["maxOutputTokens"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","maxOutputTokens"],c);const d=h(t,["mediaResolution"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","mediaResolution"],d);const p=h(t,["seed"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","seed"],p);const y=h(t,["speechConfig"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","speechConfig"],wfe(cA(y)));const _=h(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],_);const E=h(t,["systemInstruction"]);e!==void 0&&E!=null&&m(e,["setup","systemInstruction"],Rfe(er(E)));const w=h(t,["tools"]);if(e!==void 0&&w!=null){let $=Ic(w);Array.isArray($)&&($=$.map(G=>Lfe(Rc(G)))),m(e,["setup","tools"],$)}const b=h(t,["sessionResumption"]);e!==void 0&&b!=null&&m(e,["setup","sessionResumption"],Vfe(b));const C=h(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&m(e,["setup","inputAudioTranscription"],g2());const P=h(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&m(e,["setup","outputAudioTranscription"],g2());const N=h(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&m(e,["setup","realtimeInputConfig"],Bfe(N));const D=h(t,["contextWindowCompression"]);e!==void 0&&D!=null&&m(e,["setup","contextWindowCompression"],qfe(D));const U=h(t,["proactivity"]);return e!==void 0&&U!=null&&m(e,["setup","proactivity"],$fe(U)),n}function zfe(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["setup","model"],ht(t,r));const i=h(e,["config"]);return i!=null&&m(n,["config"],Hfe(i,n)),n}function Gfe(){return{}}function Kfe(){return{}}function jfe(t){const e={},n=h(t,["media"]);n!=null&&m(e,["mediaChunks"],c6(n));const r=h(t,["audio"]);r!=null&&m(e,["audio"],d6(r));const i=h(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=h(t,["video"]);o!=null&&m(e,["video"],f6(o));const a=h(t,["text"]);return a!=null&&m(e,["text"],a),h(t,["activityStart"])!=null&&m(e,["activityStart"],Gfe()),h(t,["activityEnd"])!=null&&m(e,["activityEnd"],Kfe()),e}function x6(t){const e={},n=h(t,["text"]);n!=null&&m(e,["text"],n);const r=h(t,["weight"]);return r!=null&&m(e,["weight"],r),e}function Yfe(t){const e={},n=h(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>x6(i))),m(e,["weightedPrompts"],r)}return e}function R6(t){const e={},n=h(t,["temperature"]);n!=null&&m(e,["temperature"],n);const r=h(t,["topK"]);r!=null&&m(e,["topK"],r);const i=h(t,["seed"]);i!=null&&m(e,["seed"],i);const o=h(t,["guidance"]);o!=null&&m(e,["guidance"],o);const a=h(t,["bpm"]);a!=null&&m(e,["bpm"],a);const u=h(t,["density"]);u!=null&&m(e,["density"],u);const c=h(t,["brightness"]);c!=null&&m(e,["brightness"],c);const d=h(t,["scale"]);d!=null&&m(e,["scale"],d);const p=h(t,["muteBass"]);p!=null&&m(e,["muteBass"],p);const y=h(t,["muteDrums"]);y!=null&&m(e,["muteDrums"],y);const _=h(t,["onlyBassAndDrums"]);_!=null&&m(e,["onlyBassAndDrums"],_);const E=h(t,["musicGenerationMode"]);return E!=null&&m(e,["musicGenerationMode"],E),e}function Wfe(t){const e={},n=h(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],R6(n)),e}function I6(t){const e={},n=h(t,["model"]);return n!=null&&m(e,["model"],n),e}function P6(t){const e={},n=h(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>x6(i))),m(e,["weightedPrompts"],r)}return e}function mS(t){const e={},n=h(t,["setup"]);n!=null&&m(e,["setup"],I6(n));const r=h(t,["clientContent"]);r!=null&&m(e,["clientContent"],P6(r));const i=h(t,["musicGenerationConfig"]);i!=null&&m(e,["musicGenerationConfig"],R6(i));const o=h(t,["playbackControl"]);return o!=null&&m(e,["playbackControl"],o),e}function Jfe(t){const e={},n=h(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function Xfe(t){const e={},n=h(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],Jfe(n)),e}function Qfe(t){const e={},n=h(t,["voiceConfig"]);if(n!=null&&m(e,["voiceConfig"],Xfe(n)),h(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=h(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function Zfe(t){const e={},n=h(t,["fps"]);n!=null&&m(e,["fps"],n);const r=h(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=h(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function ede(t){const e={},n=h(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=h(t,["data"]);r!=null&&m(e,["data"],r);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function tde(t){const e={},n=h(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=h(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function nde(t){const e={},n=h(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Zfe(n));const r=h(t,["thought"]);r!=null&&m(e,["thought"],r);const i=h(t,["inlineData"]);i!=null&&m(e,["inlineData"],ede(i));const o=h(t,["fileData"]);o!=null&&m(e,["fileData"],tde(o));const a=h(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=h(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=h(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const d=h(t,["functionCall"]);d!=null&&m(e,["functionCall"],d);const p=h(t,["functionResponse"]);p!=null&&m(e,["functionResponse"],p);const y=h(t,["text"]);return y!=null&&m(e,["text"],y),e}function rde(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>nde(o))),m(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&m(e,["role"],r),e}function ide(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&m(e,["description"],n);const r=h(t,["name"]);r!=null&&m(e,["name"],r);const i=h(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=h(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=h(t,["response"]);a!=null&&m(e,["response"],a);const u=h(t,["responseJsonSchema"]);return u!=null&&m(e,["responseJsonSchema"],u),e}function ode(t){const e={},n=h(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=h(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function sde(t){const e={},n=h(t,["timeRangeFilter"]);n!=null&&m(e,["timeRangeFilter"],ode(n));const r=h(t,["excludeDomains"]);return r!=null&&m(e,["excludeDomains"],r),e}function ade(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const r=h(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function lde(t){const e={},n=h(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],ade(n)),e}function ude(t){const e={},n=h(t,["excludeDomains"]);return n!=null&&m(e,["excludeDomains"],n),e}function cde(t){const e={},n=h(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function fde(t){const e={},n=h(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],cde(n));const r=h(t,["authType"]);r!=null&&m(e,["authType"],r);const i=h(t,["googleServiceAccountConfig"]);i!=null&&m(e,["googleServiceAccountConfig"],i);const o=h(t,["httpBasicAuthConfig"]);o!=null&&m(e,["httpBasicAuthConfig"],o);const a=h(t,["oauthConfig"]);a!=null&&m(e,["oauthConfig"],a);const u=h(t,["oidcConfig"]);return u!=null&&m(e,["oidcConfig"],u),e}function dde(t){const e={},n=h(t,["authConfig"]);return n!=null&&m(e,["authConfig"],fde(n)),e}function hde(){return{}}function pde(t){const e={},n=h(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function mde(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>ide(_))),m(e,["functionDeclarations"],y)}const r=h(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=h(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],sde(i));const o=h(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],lde(o));const a=h(t,["enterpriseWebSearch"]);a!=null&&m(e,["enterpriseWebSearch"],ude(a));const u=h(t,["googleMaps"]);u!=null&&m(e,["googleMaps"],dde(u)),h(t,["urlContext"])!=null&&m(e,["urlContext"],hde());const d=h(t,["computerUse"]);d!=null&&m(e,["computerUse"],pde(d));const p=h(t,["codeExecution"]);return p!=null&&m(e,["codeExecution"],p),e}function gde(t){const e={},n=h(t,["handle"]);n!=null&&m(e,["handle"],n);const r=h(t,["transparent"]);return r!=null&&m(e,["transparent"],r),e}function y2(){return{}}function yde(t){const e={},n=h(t,["disabled"]);n!=null&&m(e,["disabled"],n);const r=h(t,["startOfSpeechSensitivity"]);r!=null&&m(e,["startOfSpeechSensitivity"],r);const i=h(t,["endOfSpeechSensitivity"]);i!=null&&m(e,["endOfSpeechSensitivity"],i);const o=h(t,["prefixPaddingMs"]);o!=null&&m(e,["prefixPaddingMs"],o);const a=h(t,["silenceDurationMs"]);return a!=null&&m(e,["silenceDurationMs"],a),e}function vde(t){const e={},n=h(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],yde(n));const r=h(t,["activityHandling"]);r!=null&&m(e,["activityHandling"],r);const i=h(t,["turnCoverage"]);return i!=null&&m(e,["turnCoverage"],i),e}function _de(t){const e={},n=h(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function Tde(t){const e={},n=h(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const r=h(t,["slidingWindow"]);return r!=null&&m(e,["slidingWindow"],_de(r)),e}function Ede(t){const e={},n=h(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function Sde(t,e){const n={},r=h(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=h(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=h(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=h(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const u=h(t,["topK"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topK"],u);const c=h(t,["maxOutputTokens"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","maxOutputTokens"],c);const d=h(t,["mediaResolution"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","mediaResolution"],d);const p=h(t,["seed"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","seed"],p);const y=h(t,["speechConfig"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","speechConfig"],Qfe(cA(y)));const _=h(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],_);const E=h(t,["systemInstruction"]);e!==void 0&&E!=null&&m(e,["setup","systemInstruction"],rde(er(E)));const w=h(t,["tools"]);if(e!==void 0&&w!=null){let $=Ic(w);Array.isArray($)&&($=$.map(G=>mde(Rc(G)))),m(e,["setup","tools"],$)}const b=h(t,["sessionResumption"]);e!==void 0&&b!=null&&m(e,["setup","sessionResumption"],gde(b));const C=h(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&m(e,["setup","inputAudioTranscription"],y2());const P=h(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&m(e,["setup","outputAudioTranscription"],y2());const N=h(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&m(e,["setup","realtimeInputConfig"],vde(N));const D=h(t,["contextWindowCompression"]);e!==void 0&&D!=null&&m(e,["setup","contextWindowCompression"],Tde(D));const U=h(t,["proactivity"]);return e!==void 0&&U!=null&&m(e,["setup","proactivity"],Ede(U)),n}function wde(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["setup","model"],ht(t,r));const i=h(e,["config"]);return i!=null&&m(n,["config"],Sde(i,n)),n}function bde(){return{}}function Ade(){return{}}function Cde(t){const e={},n=h(t,["media"]);n!=null&&m(e,["mediaChunks"],c6(n));const r=h(t,["audio"]);r!=null&&m(e,["audio"],d6(r));const i=h(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=h(t,["video"]);o!=null&&m(e,["video"],f6(o));const a=h(t,["text"]);return a!=null&&m(e,["text"],a),h(t,["activityStart"])!=null&&m(e,["activityStart"],bde()),h(t,["activityEnd"])!=null&&m(e,["activityEnd"],Ade()),e}function xde(){return{}}function Rde(t){const e={},n=h(t,["fps"]);n!=null&&m(e,["fps"],n);const r=h(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=h(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Ide(t){const e={},n=h(t,["data"]);n!=null&&m(e,["data"],n);const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Pde(t){const e={},n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Mde(t){const e={},n=h(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Rde(n));const r=h(t,["thought"]);r!=null&&m(e,["thought"],r);const i=h(t,["inlineData"]);i!=null&&m(e,["inlineData"],Ide(i));const o=h(t,["fileData"]);o!=null&&m(e,["fileData"],Pde(o));const a=h(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=h(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=h(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const d=h(t,["functionCall"]);d!=null&&m(e,["functionCall"],d);const p=h(t,["functionResponse"]);p!=null&&m(e,["functionResponse"],p);const y=h(t,["text"]);return y!=null&&m(e,["text"],y),e}function Nde(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Mde(o))),m(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&m(e,["role"],r),e}function v2(t){const e={},n=h(t,["text"]);n!=null&&m(e,["text"],n);const r=h(t,["finished"]);return r!=null&&m(e,["finished"],r),e}function Dde(t){const e={},n=h(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=h(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function kde(t){const e={},n=h(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Dde(i))),m(e,["urlMetadata"],r)}return e}function Ode(t){const e={},n=h(t,["modelTurn"]);n!=null&&m(e,["modelTurn"],Nde(n));const r=h(t,["turnComplete"]);r!=null&&m(e,["turnComplete"],r);const i=h(t,["interrupted"]);i!=null&&m(e,["interrupted"],i);const o=h(t,["groundingMetadata"]);o!=null&&m(e,["groundingMetadata"],o);const a=h(t,["generationComplete"]);a!=null&&m(e,["generationComplete"],a);const u=h(t,["inputTranscription"]);u!=null&&m(e,["inputTranscription"],v2(u));const c=h(t,["outputTranscription"]);c!=null&&m(e,["outputTranscription"],v2(c));const d=h(t,["urlContextMetadata"]);return d!=null&&m(e,["urlContextMetadata"],kde(d)),e}function Lde(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const r=h(t,["args"]);r!=null&&m(e,["args"],r);const i=h(t,["name"]);return i!=null&&m(e,["name"],i),e}function Vde(t){const e={},n=h(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Lde(i))),m(e,["functionCalls"],r)}return e}function Ude(t){const e={},n=h(t,["ids"]);return n!=null&&m(e,["ids"],n),e}function um(t){const e={},n=h(t,["modality"]);n!=null&&m(e,["modality"],n);const r=h(t,["tokenCount"]);return r!=null&&m(e,["tokenCount"],r),e}function Bde(t){const e={},n=h(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=h(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const i=h(t,["responseTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const o=h(t,["toolUsePromptTokenCount"]);o!=null&&m(e,["toolUsePromptTokenCount"],o);const a=h(t,["thoughtsTokenCount"]);a!=null&&m(e,["thoughtsTokenCount"],a);const u=h(t,["totalTokenCount"]);u!=null&&m(e,["totalTokenCount"],u);const c=h(t,["promptTokensDetails"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(E=>um(E))),m(e,["promptTokensDetails"],_)}const d=h(t,["cacheTokensDetails"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(E=>um(E))),m(e,["cacheTokensDetails"],_)}const p=h(t,["responseTokensDetails"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(E=>um(E))),m(e,["responseTokensDetails"],_)}const y=h(t,["toolUsePromptTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(E=>um(E))),m(e,["toolUsePromptTokensDetails"],_)}return e}function Fde(t){const e={},n=h(t,["timeLeft"]);return n!=null&&m(e,["timeLeft"],n),e}function qde(t){const e={},n=h(t,["newHandle"]);n!=null&&m(e,["newHandle"],n);const r=h(t,["resumable"]);r!=null&&m(e,["resumable"],r);const i=h(t,["lastConsumedClientMessageIndex"]);return i!=null&&m(e,["lastConsumedClientMessageIndex"],i),e}function $de(t){const e={};h(t,["setupComplete"])!=null&&m(e,["setupComplete"],xde());const r=h(t,["serverContent"]);r!=null&&m(e,["serverContent"],Ode(r));const i=h(t,["toolCall"]);i!=null&&m(e,["toolCall"],Vde(i));const o=h(t,["toolCallCancellation"]);o!=null&&m(e,["toolCallCancellation"],Ude(o));const a=h(t,["usageMetadata"]);a!=null&&m(e,["usageMetadata"],Bde(a));const u=h(t,["goAway"]);u!=null&&m(e,["goAway"],Fde(u));const c=h(t,["sessionResumptionUpdate"]);return c!=null&&m(e,["sessionResumptionUpdate"],qde(c)),e}function Hde(){return{}}function zde(t){const e={},n=h(t,["text"]);n!=null&&m(e,["text"],n);const r=h(t,["weight"]);return r!=null&&m(e,["weight"],r),e}function Gde(t){const e={},n=h(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>zde(i))),m(e,["weightedPrompts"],r)}return e}function Kde(t){const e={},n=h(t,["temperature"]);n!=null&&m(e,["temperature"],n);const r=h(t,["topK"]);r!=null&&m(e,["topK"],r);const i=h(t,["seed"]);i!=null&&m(e,["seed"],i);const o=h(t,["guidance"]);o!=null&&m(e,["guidance"],o);const a=h(t,["bpm"]);a!=null&&m(e,["bpm"],a);const u=h(t,["density"]);u!=null&&m(e,["density"],u);const c=h(t,["brightness"]);c!=null&&m(e,["brightness"],c);const d=h(t,["scale"]);d!=null&&m(e,["scale"],d);const p=h(t,["muteBass"]);p!=null&&m(e,["muteBass"],p);const y=h(t,["muteDrums"]);y!=null&&m(e,["muteDrums"],y);const _=h(t,["onlyBassAndDrums"]);_!=null&&m(e,["onlyBassAndDrums"],_);const E=h(t,["musicGenerationMode"]);return E!=null&&m(e,["musicGenerationMode"],E),e}function jde(t){const e={},n=h(t,["clientContent"]);n!=null&&m(e,["clientContent"],Gde(n));const r=h(t,["musicGenerationConfig"]);return r!=null&&m(e,["musicGenerationConfig"],Kde(r)),e}function Yde(t){const e={},n=h(t,["data"]);n!=null&&m(e,["data"],n);const r=h(t,["mimeType"]);r!=null&&m(e,["mimeType"],r);const i=h(t,["sourceMetadata"]);return i!=null&&m(e,["sourceMetadata"],jde(i)),e}function Wde(t){const e={},n=h(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Yde(i))),m(e,["audioChunks"],r)}return e}function Jde(t){const e={},n=h(t,["text"]);n!=null&&m(e,["text"],n);const r=h(t,["filteredReason"]);return r!=null&&m(e,["filteredReason"],r),e}function Xde(t){const e={};h(t,["setupComplete"])!=null&&m(e,["setupComplete"],Hde());const r=h(t,["serverContent"]);r!=null&&m(e,["serverContent"],Wde(r));const i=h(t,["filteredPrompt"]);return i!=null&&m(e,["filteredPrompt"],Jde(i)),e}function Qde(t){const e={},n=h(t,["sessionId"]);return n!=null&&m(e,["sessionId"],n),e}function Zde(t){const e={},n=h(t,["fps"]);n!=null&&m(e,["fps"],n);const r=h(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=h(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function ehe(t){const e={},n=h(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=h(t,["data"]);r!=null&&m(e,["data"],r);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function the(t){const e={},n=h(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=h(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function nhe(t){const e={},n=h(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Zde(n));const r=h(t,["thought"]);r!=null&&m(e,["thought"],r);const i=h(t,["inlineData"]);i!=null&&m(e,["inlineData"],ehe(i));const o=h(t,["fileData"]);o!=null&&m(e,["fileData"],the(o));const a=h(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=h(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=h(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const d=h(t,["functionCall"]);d!=null&&m(e,["functionCall"],d);const p=h(t,["functionResponse"]);p!=null&&m(e,["functionResponse"],p);const y=h(t,["text"]);return y!=null&&m(e,["text"],y),e}function rhe(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>nhe(o))),m(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&m(e,["role"],r),e}function _2(t){const e={},n=h(t,["text"]);n!=null&&m(e,["text"],n);const r=h(t,["finished"]);return r!=null&&m(e,["finished"],r),e}function ihe(t){const e={},n=h(t,["modelTurn"]);n!=null&&m(e,["modelTurn"],rhe(n));const r=h(t,["turnComplete"]);r!=null&&m(e,["turnComplete"],r);const i=h(t,["interrupted"]);i!=null&&m(e,["interrupted"],i);const o=h(t,["groundingMetadata"]);o!=null&&m(e,["groundingMetadata"],o);const a=h(t,["generationComplete"]);a!=null&&m(e,["generationComplete"],a);const u=h(t,["inputTranscription"]);u!=null&&m(e,["inputTranscription"],_2(u));const c=h(t,["outputTranscription"]);return c!=null&&m(e,["outputTranscription"],_2(c)),e}function ohe(t){const e={},n=h(t,["args"]);n!=null&&m(e,["args"],n);const r=h(t,["name"]);return r!=null&&m(e,["name"],r),e}function she(t){const e={},n=h(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ohe(i))),m(e,["functionCalls"],r)}return e}function ahe(t){const e={},n=h(t,["ids"]);return n!=null&&m(e,["ids"],n),e}function cm(t){const e={},n=h(t,["modality"]);n!=null&&m(e,["modality"],n);const r=h(t,["tokenCount"]);return r!=null&&m(e,["tokenCount"],r),e}function lhe(t){const e={},n=h(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=h(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const i=h(t,["candidatesTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const o=h(t,["toolUsePromptTokenCount"]);o!=null&&m(e,["toolUsePromptTokenCount"],o);const a=h(t,["thoughtsTokenCount"]);a!=null&&m(e,["thoughtsTokenCount"],a);const u=h(t,["totalTokenCount"]);u!=null&&m(e,["totalTokenCount"],u);const c=h(t,["promptTokensDetails"]);if(c!=null){let E=c;Array.isArray(E)&&(E=E.map(w=>cm(w))),m(e,["promptTokensDetails"],E)}const d=h(t,["cacheTokensDetails"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(w=>cm(w))),m(e,["cacheTokensDetails"],E)}const p=h(t,["candidatesTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(w=>cm(w))),m(e,["responseTokensDetails"],E)}const y=h(t,["toolUsePromptTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(w=>cm(w))),m(e,["toolUsePromptTokensDetails"],E)}const _=h(t,["trafficType"]);return _!=null&&m(e,["trafficType"],_),e}function uhe(t){const e={},n=h(t,["timeLeft"]);return n!=null&&m(e,["timeLeft"],n),e}function che(t){const e={},n=h(t,["newHandle"]);n!=null&&m(e,["newHandle"],n);const r=h(t,["resumable"]);r!=null&&m(e,["resumable"],r);const i=h(t,["lastConsumedClientMessageIndex"]);return i!=null&&m(e,["lastConsumedClientMessageIndex"],i),e}function fhe(t){const e={},n=h(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],Qde(n));const r=h(t,["serverContent"]);r!=null&&m(e,["serverContent"],ihe(r));const i=h(t,["toolCall"]);i!=null&&m(e,["toolCall"],she(i));const o=h(t,["toolCallCancellation"]);o!=null&&m(e,["toolCallCancellation"],ahe(o));const a=h(t,["usageMetadata"]);a!=null&&m(e,["usageMetadata"],lhe(a));const u=h(t,["goAway"]);u!=null&&m(e,["goAway"],uhe(u));const c=h(t,["sessionResumptionUpdate"]);return c!=null&&m(e,["sessionResumptionUpdate"],che(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dhe(t){const e={},n=h(t,["fps"]);n!=null&&m(e,["fps"],n);const r=h(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=h(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function hhe(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["data"]);n!=null&&m(e,["data"],n);const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function phe(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function mhe(t){const e={},n=h(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],dhe(n));const r=h(t,["thought"]);r!=null&&m(e,["thought"],r);const i=h(t,["inlineData"]);i!=null&&m(e,["inlineData"],hhe(i));const o=h(t,["fileData"]);o!=null&&m(e,["fileData"],phe(o));const a=h(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=h(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=h(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const d=h(t,["functionCall"]);d!=null&&m(e,["functionCall"],d);const p=h(t,["functionResponse"]);p!=null&&m(e,["functionResponse"],p);const y=h(t,["text"]);return y!=null&&m(e,["text"],y),e}function Vy(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>mhe(o))),m(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&m(e,["role"],r),e}function ghe(t){const e={},n=h(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const r=h(t,["default"]);r!=null&&m(e,["default"],r);const i=h(t,["description"]);i!=null&&m(e,["description"],i);const o=h(t,["enum"]);o!=null&&m(e,["enum"],o);const a=h(t,["example"]);a!=null&&m(e,["example"],a);const u=h(t,["format"]);u!=null&&m(e,["format"],u);const c=h(t,["items"]);c!=null&&m(e,["items"],c);const d=h(t,["maxItems"]);d!=null&&m(e,["maxItems"],d);const p=h(t,["maxLength"]);p!=null&&m(e,["maxLength"],p);const y=h(t,["maxProperties"]);y!=null&&m(e,["maxProperties"],y);const _=h(t,["maximum"]);_!=null&&m(e,["maximum"],_);const E=h(t,["minItems"]);E!=null&&m(e,["minItems"],E);const w=h(t,["minLength"]);w!=null&&m(e,["minLength"],w);const b=h(t,["minProperties"]);b!=null&&m(e,["minProperties"],b);const C=h(t,["minimum"]);C!=null&&m(e,["minimum"],C);const P=h(t,["nullable"]);P!=null&&m(e,["nullable"],P);const N=h(t,["pattern"]);N!=null&&m(e,["pattern"],N);const D=h(t,["properties"]);D!=null&&m(e,["properties"],D);const U=h(t,["propertyOrdering"]);U!=null&&m(e,["propertyOrdering"],U);const $=h(t,["required"]);$!=null&&m(e,["required"],$);const G=h(t,["title"]);G!=null&&m(e,["title"],G);const k=h(t,["type"]);return k!=null&&m(e,["type"],k),e}function yhe(t){const e={};if(h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=h(t,["category"]);n!=null&&m(e,["category"],n);const r=h(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function vhe(t){const e={},n=h(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=h(t,["description"]);r!=null&&m(e,["description"],r);const i=h(t,["name"]);i!=null&&m(e,["name"],i);const o=h(t,["parameters"]);o!=null&&m(e,["parameters"],o);const a=h(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=h(t,["response"]);u!=null&&m(e,["response"],u);const c=h(t,["responseJsonSchema"]);return c!=null&&m(e,["responseJsonSchema"],c),e}function _he(t){const e={},n=h(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=h(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function The(t){const e={},n=h(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],_he(n)),h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Ehe(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const r=h(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function She(t){const e={},n=h(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],Ehe(n)),e}function whe(){return{}}function bhe(t){const e={},n=h(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function Ahe(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>vhe(d))),m(e,["functionDeclarations"],c)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=h(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],The(r));const i=h(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],She(i)),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(h(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");h(t,["urlContext"])!=null&&m(e,["urlContext"],whe());const a=h(t,["computerUse"]);a!=null&&m(e,["computerUse"],bhe(a));const u=h(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function Che(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const r=h(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function xhe(t){const e={},n=h(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=h(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function Rhe(t){const e={},n=h(t,["latLng"]);n!=null&&m(e,["latLng"],xhe(n));const r=h(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function Ihe(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Che(n));const r=h(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],Rhe(r)),e}function Phe(t){const e={},n=h(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function M6(t){const e={},n=h(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],Phe(n)),e}function Mhe(t){const e={},n=h(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=h(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],M6(r)),e}function Nhe(t){const e={},n=h(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Mhe(i))),m(e,["speakerVoiceConfigs"],r)}return e}function Dhe(t){const e={},n=h(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],M6(n));const r=h(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],Nhe(r));const i=h(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function khe(t){const e={},n=h(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=h(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function Ohe(t,e,n){const r={},i=h(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],Vy(er(i)));const o=h(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=h(e,["topP"]);a!=null&&m(r,["topP"],a);const u=h(e,["topK"]);u!=null&&m(r,["topK"],u);const c=h(e,["candidateCount"]);c!=null&&m(r,["candidateCount"],c);const d=h(e,["maxOutputTokens"]);d!=null&&m(r,["maxOutputTokens"],d);const p=h(e,["stopSequences"]);p!=null&&m(r,["stopSequences"],p);const y=h(e,["responseLogprobs"]);y!=null&&m(r,["responseLogprobs"],y);const _=h(e,["logprobs"]);_!=null&&m(r,["logprobs"],_);const E=h(e,["presencePenalty"]);E!=null&&m(r,["presencePenalty"],E);const w=h(e,["frequencyPenalty"]);w!=null&&m(r,["frequencyPenalty"],w);const b=h(e,["seed"]);b!=null&&m(r,["seed"],b);const C=h(e,["responseMimeType"]);C!=null&&m(r,["responseMimeType"],C);const P=h(e,["responseSchema"]);P!=null&&m(r,["responseSchema"],ghe(lA(P)));const N=h(e,["responseJsonSchema"]);if(N!=null&&m(r,["responseJsonSchema"],N),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=h(e,["safetySettings"]);if(n!==void 0&&D!=null){let F=D;Array.isArray(F)&&(F=F.map(z=>yhe(z))),m(n,["safetySettings"],F)}const U=h(e,["tools"]);if(n!==void 0&&U!=null){let F=Ic(U);Array.isArray(F)&&(F=F.map(z=>Ahe(Rc(z)))),m(n,["tools"],F)}const $=h(e,["toolConfig"]);if(n!==void 0&&$!=null&&m(n,["toolConfig"],Ihe($)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=h(e,["cachedContent"]);n!==void 0&&G!=null&&m(n,["cachedContent"],fs(t,G));const k=h(e,["responseModalities"]);k!=null&&m(r,["responseModalities"],k);const O=h(e,["mediaResolution"]);O!=null&&m(r,["mediaResolution"],O);const M=h(e,["speechConfig"]);if(M!=null&&m(r,["speechConfig"],Dhe(uA(M))),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=h(e,["thinkingConfig"]);return q!=null&&m(r,["thinkingConfig"],khe(q)),r}function T2(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],ht(t,r));const i=h(e,["contents"]);if(i!=null){let a=li(i);Array.isArray(a)&&(a=a.map(u=>Vy(u))),m(n,["contents"],a)}const o=h(e,["config"]);return o!=null&&m(n,["generationConfig"],Ohe(t,o,n)),n}function Lhe(t,e){const n={},r=h(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=h(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=h(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Vhe(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],ht(t,r));const i=h(e,["contents"]);i!=null&&m(n,["requests[]","content"],p6(t,i));const o=h(e,["config"]);o!=null&&m(n,["config"],Lhe(o,n));const a=h(e,["model"]);return a!==void 0&&m(n,["requests[]","model"],ht(t,a)),n}function Uhe(t,e){const n={};if(h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=h(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=h(t,["aspectRatio"]);e!==void 0&&i!=null&&m(e,["parameters","aspectRatio"],i);const o=h(t,["guidanceScale"]);if(e!==void 0&&o!=null&&m(e,["parameters","guidanceScale"],o),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=h(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&m(e,["parameters","safetySetting"],a);const u=h(t,["personGeneration"]);e!==void 0&&u!=null&&m(e,["parameters","personGeneration"],u);const c=h(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&m(e,["parameters","includeSafetyAttributes"],c);const d=h(t,["includeRaiReason"]);e!==void 0&&d!=null&&m(e,["parameters","includeRaiReason"],d);const p=h(t,["language"]);e!==void 0&&p!=null&&m(e,["parameters","language"],p);const y=h(t,["outputMimeType"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","mimeType"],y);const _=h(t,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&m(e,["parameters","outputOptions","compressionQuality"],_),h(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const E=h(t,["imageSize"]);if(e!==void 0&&E!=null&&m(e,["parameters","sampleImageSize"],E),h(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Bhe(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],ht(t,r));const i=h(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=h(e,["config"]);return o!=null&&m(n,["config"],Uhe(o,n)),n}function Fhe(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","name"],ht(t,r));const i=h(e,["config"]);return i!=null&&m(n,["config"],i),n}function qhe(t,e,n){const r={},i=h(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=h(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const a=h(e,["filter"]);n!==void 0&&a!=null&&m(n,["_query","filter"],a);const u=h(e,["queryBase"]);return n!==void 0&&u!=null&&m(n,["_url","models_url"],y6(t,u)),r}function $he(t,e){const n={},r=h(e,["config"]);return r!=null&&m(n,["config"],qhe(t,r,n)),n}function Hhe(t,e){const n={},r=h(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=h(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=h(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function zhe(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","name"],ht(t,r));const i=h(e,["config"]);return i!=null&&m(n,["config"],Hhe(i,n)),n}function Ghe(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","name"],ht(t,r));const i=h(e,["config"]);return i!=null&&m(n,["config"],i),n}function Khe(t){const e={};if(h(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(h(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(h(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function jhe(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],ht(t,r));const i=h(e,["contents"]);if(i!=null){let a=li(i);Array.isArray(a)&&(a=a.map(u=>Vy(u))),m(n,["contents"],a)}const o=h(e,["config"]);return o!=null&&m(n,["config"],Khe(o)),n}function N6(t){const e={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=h(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],Ll(n));const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Yhe(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=h(t,["image"]);if(e!==void 0&&i!=null&&m(e,["instances[0]","image"],N6(i)),h(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return n}function Whe(t,e){const n={},r=h(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r),h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=h(t,["durationSeconds"]);if(e!==void 0&&i!=null&&m(e,["parameters","durationSeconds"],i),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=h(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const a=h(t,["resolution"]);e!==void 0&&a!=null&&m(e,["parameters","resolution"],a);const u=h(t,["personGeneration"]);if(e!==void 0&&u!=null&&m(e,["parameters","personGeneration"],u),h(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=h(t,["negativePrompt"]);e!==void 0&&c!=null&&m(e,["parameters","negativePrompt"],c);const d=h(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&m(e,["parameters","enhancePrompt"],d),h(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(h(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(h(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(h(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Jhe(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],ht(t,r));const i=h(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=h(e,["image"]);if(o!=null&&m(n,["instances[0]","image"],N6(o)),h(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const a=h(e,["source"]);a!=null&&m(n,["config"],Yhe(a,n));const u=h(e,["config"]);return u!=null&&m(n,["config"],Whe(u,n)),n}function Xhe(t){const e={},n=h(t,["fps"]);n!=null&&m(e,["fps"],n);const r=h(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=h(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Qhe(t){const e={},n=h(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=h(t,["data"]);r!=null&&m(e,["data"],r);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Zhe(t){const e={},n=h(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=h(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function epe(t){const e={},n=h(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Xhe(n));const r=h(t,["thought"]);r!=null&&m(e,["thought"],r);const i=h(t,["inlineData"]);i!=null&&m(e,["inlineData"],Qhe(i));const o=h(t,["fileData"]);o!=null&&m(e,["fileData"],Zhe(o));const a=h(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=h(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=h(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const d=h(t,["functionCall"]);d!=null&&m(e,["functionCall"],d);const p=h(t,["functionResponse"]);p!=null&&m(e,["functionResponse"],p);const y=h(t,["text"]);return y!=null&&m(e,["text"],y),e}function Mc(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>epe(o))),m(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&m(e,["role"],r),e}function tpe(t){const e={},n=h(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const r=h(t,["default"]);r!=null&&m(e,["default"],r);const i=h(t,["description"]);i!=null&&m(e,["description"],i);const o=h(t,["enum"]);o!=null&&m(e,["enum"],o);const a=h(t,["example"]);a!=null&&m(e,["example"],a);const u=h(t,["format"]);u!=null&&m(e,["format"],u);const c=h(t,["items"]);c!=null&&m(e,["items"],c);const d=h(t,["maxItems"]);d!=null&&m(e,["maxItems"],d);const p=h(t,["maxLength"]);p!=null&&m(e,["maxLength"],p);const y=h(t,["maxProperties"]);y!=null&&m(e,["maxProperties"],y);const _=h(t,["maximum"]);_!=null&&m(e,["maximum"],_);const E=h(t,["minItems"]);E!=null&&m(e,["minItems"],E);const w=h(t,["minLength"]);w!=null&&m(e,["minLength"],w);const b=h(t,["minProperties"]);b!=null&&m(e,["minProperties"],b);const C=h(t,["minimum"]);C!=null&&m(e,["minimum"],C);const P=h(t,["nullable"]);P!=null&&m(e,["nullable"],P);const N=h(t,["pattern"]);N!=null&&m(e,["pattern"],N);const D=h(t,["properties"]);D!=null&&m(e,["properties"],D);const U=h(t,["propertyOrdering"]);U!=null&&m(e,["propertyOrdering"],U);const $=h(t,["required"]);$!=null&&m(e,["required"],$);const G=h(t,["title"]);G!=null&&m(e,["title"],G);const k=h(t,["type"]);return k!=null&&m(e,["type"],k),e}function npe(t){const e={},n=h(t,["featureSelectionPreference"]);return n!=null&&m(e,["featureSelectionPreference"],n),e}function rpe(t){const e={},n=h(t,["method"]);n!=null&&m(e,["method"],n);const r=h(t,["category"]);r!=null&&m(e,["category"],r);const i=h(t,["threshold"]);return i!=null&&m(e,["threshold"],i),e}function ipe(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&m(e,["description"],n);const r=h(t,["name"]);r!=null&&m(e,["name"],r);const i=h(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=h(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=h(t,["response"]);a!=null&&m(e,["response"],a);const u=h(t,["responseJsonSchema"]);return u!=null&&m(e,["responseJsonSchema"],u),e}function ope(t){const e={},n=h(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=h(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function spe(t){const e={},n=h(t,["timeRangeFilter"]);n!=null&&m(e,["timeRangeFilter"],ope(n));const r=h(t,["excludeDomains"]);return r!=null&&m(e,["excludeDomains"],r),e}function ape(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const r=h(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function lpe(t){const e={},n=h(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],ape(n)),e}function upe(t){const e={},n=h(t,["excludeDomains"]);return n!=null&&m(e,["excludeDomains"],n),e}function cpe(t){const e={},n=h(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function fpe(t){const e={},n=h(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],cpe(n));const r=h(t,["authType"]);r!=null&&m(e,["authType"],r);const i=h(t,["googleServiceAccountConfig"]);i!=null&&m(e,["googleServiceAccountConfig"],i);const o=h(t,["httpBasicAuthConfig"]);o!=null&&m(e,["httpBasicAuthConfig"],o);const a=h(t,["oauthConfig"]);a!=null&&m(e,["oauthConfig"],a);const u=h(t,["oidcConfig"]);return u!=null&&m(e,["oidcConfig"],u),e}function dpe(t){const e={},n=h(t,["authConfig"]);return n!=null&&m(e,["authConfig"],fpe(n)),e}function hpe(){return{}}function ppe(t){const e={},n=h(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function D6(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>ipe(_))),m(e,["functionDeclarations"],y)}const r=h(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=h(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],spe(i));const o=h(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],lpe(o));const a=h(t,["enterpriseWebSearch"]);a!=null&&m(e,["enterpriseWebSearch"],upe(a));const u=h(t,["googleMaps"]);u!=null&&m(e,["googleMaps"],dpe(u)),h(t,["urlContext"])!=null&&m(e,["urlContext"],hpe());const d=h(t,["computerUse"]);d!=null&&m(e,["computerUse"],ppe(d));const p=h(t,["codeExecution"]);return p!=null&&m(e,["codeExecution"],p),e}function mpe(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const r=h(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function gpe(t){const e={},n=h(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=h(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function ype(t){const e={},n=h(t,["latLng"]);n!=null&&m(e,["latLng"],gpe(n));const r=h(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function vpe(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],mpe(n));const r=h(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],ype(r)),e}function _pe(t){const e={},n=h(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function Tpe(t){const e={},n=h(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],_pe(n)),e}function Epe(t){const e={},n=h(t,["voiceConfig"]);if(n!=null&&m(e,["voiceConfig"],Tpe(n)),h(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=h(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function Spe(t){const e={},n=h(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=h(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function wpe(t,e,n){const r={},i=h(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],Mc(er(i)));const o=h(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=h(e,["topP"]);a!=null&&m(r,["topP"],a);const u=h(e,["topK"]);u!=null&&m(r,["topK"],u);const c=h(e,["candidateCount"]);c!=null&&m(r,["candidateCount"],c);const d=h(e,["maxOutputTokens"]);d!=null&&m(r,["maxOutputTokens"],d);const p=h(e,["stopSequences"]);p!=null&&m(r,["stopSequences"],p);const y=h(e,["responseLogprobs"]);y!=null&&m(r,["responseLogprobs"],y);const _=h(e,["logprobs"]);_!=null&&m(r,["logprobs"],_);const E=h(e,["presencePenalty"]);E!=null&&m(r,["presencePenalty"],E);const w=h(e,["frequencyPenalty"]);w!=null&&m(r,["frequencyPenalty"],w);const b=h(e,["seed"]);b!=null&&m(r,["seed"],b);const C=h(e,["responseMimeType"]);C!=null&&m(r,["responseMimeType"],C);const P=h(e,["responseSchema"]);P!=null&&m(r,["responseSchema"],tpe(lA(P)));const N=h(e,["responseJsonSchema"]);N!=null&&m(r,["responseJsonSchema"],N);const D=h(e,["routingConfig"]);D!=null&&m(r,["routingConfig"],D);const U=h(e,["modelSelectionConfig"]);U!=null&&m(r,["modelConfig"],npe(U));const $=h(e,["safetySettings"]);if(n!==void 0&&$!=null){let xe=$;Array.isArray(xe)&&(xe=xe.map(Z=>rpe(Z))),m(n,["safetySettings"],xe)}const G=h(e,["tools"]);if(n!==void 0&&G!=null){let xe=Ic(G);Array.isArray(xe)&&(xe=xe.map(Z=>D6(Rc(Z)))),m(n,["tools"],xe)}const k=h(e,["toolConfig"]);n!==void 0&&k!=null&&m(n,["toolConfig"],vpe(k));const O=h(e,["labels"]);n!==void 0&&O!=null&&m(n,["labels"],O);const M=h(e,["cachedContent"]);n!==void 0&&M!=null&&m(n,["cachedContent"],fs(t,M));const q=h(e,["responseModalities"]);q!=null&&m(r,["responseModalities"],q);const F=h(e,["mediaResolution"]);F!=null&&m(r,["mediaResolution"],F);const z=h(e,["speechConfig"]);z!=null&&m(r,["speechConfig"],Epe(uA(z)));const H=h(e,["audioTimestamp"]);H!=null&&m(r,["audioTimestamp"],H);const Ee=h(e,["thinkingConfig"]);return Ee!=null&&m(r,["thinkingConfig"],Spe(Ee)),r}function E2(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],ht(t,r));const i=h(e,["contents"]);if(i!=null){let a=li(i);Array.isArray(a)&&(a=a.map(u=>Mc(u))),m(n,["contents"],a)}const o=h(e,["config"]);return o!=null&&m(n,["generationConfig"],wpe(t,o,n)),n}function bpe(t,e){const n={},r=h(t,["taskType"]);e!==void 0&&r!=null&&m(e,["instances[]","task_type"],r);const i=h(t,["title"]);e!==void 0&&i!=null&&m(e,["instances[]","title"],i);const o=h(t,["outputDimensionality"]);e!==void 0&&o!=null&&m(e,["parameters","outputDimensionality"],o);const a=h(t,["mimeType"]);e!==void 0&&a!=null&&m(e,["instances[]","mimeType"],a);const u=h(t,["autoTruncate"]);return e!==void 0&&u!=null&&m(e,["parameters","autoTruncate"],u),n}function Ape(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],ht(t,r));const i=h(e,["contents"]);i!=null&&m(n,["instances[]","content"],p6(t,i));const o=h(e,["config"]);return o!=null&&m(n,["config"],bpe(o,n)),n}function Cpe(t,e){const n={},r=h(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=h(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=h(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const a=h(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const u=h(t,["guidanceScale"]);e!==void 0&&u!=null&&m(e,["parameters","guidanceScale"],u);const c=h(t,["seed"]);e!==void 0&&c!=null&&m(e,["parameters","seed"],c);const d=h(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&m(e,["parameters","safetySetting"],d);const p=h(t,["personGeneration"]);e!==void 0&&p!=null&&m(e,["parameters","personGeneration"],p);const y=h(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&m(e,["parameters","includeSafetyAttributes"],y);const _=h(t,["includeRaiReason"]);e!==void 0&&_!=null&&m(e,["parameters","includeRaiReason"],_);const E=h(t,["language"]);e!==void 0&&E!=null&&m(e,["parameters","language"],E);const w=h(t,["outputMimeType"]);e!==void 0&&w!=null&&m(e,["parameters","outputOptions","mimeType"],w);const b=h(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&m(e,["parameters","outputOptions","compressionQuality"],b);const C=h(t,["addWatermark"]);e!==void 0&&C!=null&&m(e,["parameters","addWatermark"],C);const P=h(t,["imageSize"]);e!==void 0&&P!=null&&m(e,["parameters","sampleImageSize"],P);const N=h(t,["enhancePrompt"]);return e!==void 0&&N!=null&&m(e,["parameters","enhancePrompt"],N),n}function xpe(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],ht(t,r));const i=h(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=h(e,["config"]);return o!=null&&m(n,["config"],Cpe(o,n)),n}function ho(t){const e={},n=h(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=h(t,["imageBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Ll(r));const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Rpe(t){const e={},n=h(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const r=h(t,["segmentationClasses"]);r!=null&&m(e,["maskClasses"],r);const i=h(t,["maskDilation"]);return i!=null&&m(e,["dilation"],i),e}function Ipe(t){const e={},n=h(t,["controlType"]);n!=null&&m(e,["controlType"],n);const r=h(t,["enableControlImageComputation"]);return r!=null&&m(e,["computeControl"],r),e}function Ppe(t){const e={},n=h(t,["styleDescription"]);return n!=null&&m(e,["styleDescription"],n),e}function Mpe(t){const e={},n=h(t,["subjectType"]);n!=null&&m(e,["subjectType"],n);const r=h(t,["subjectDescription"]);return r!=null&&m(e,["subjectDescription"],r),e}function Npe(t){const e={},n=h(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],ho(n));const r=h(t,["referenceId"]);r!=null&&m(e,["referenceId"],r);const i=h(t,["referenceType"]);i!=null&&m(e,["referenceType"],i);const o=h(t,["maskImageConfig"]);o!=null&&m(e,["maskImageConfig"],Rpe(o));const a=h(t,["controlImageConfig"]);a!=null&&m(e,["controlImageConfig"],Ipe(a));const u=h(t,["styleImageConfig"]);u!=null&&m(e,["styleImageConfig"],Ppe(u));const c=h(t,["subjectImageConfig"]);return c!=null&&m(e,["subjectImageConfig"],Mpe(c)),e}function Dpe(t,e){const n={},r=h(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=h(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=h(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const a=h(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const u=h(t,["guidanceScale"]);e!==void 0&&u!=null&&m(e,["parameters","guidanceScale"],u);const c=h(t,["seed"]);e!==void 0&&c!=null&&m(e,["parameters","seed"],c);const d=h(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&m(e,["parameters","safetySetting"],d);const p=h(t,["personGeneration"]);e!==void 0&&p!=null&&m(e,["parameters","personGeneration"],p);const y=h(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&m(e,["parameters","includeSafetyAttributes"],y);const _=h(t,["includeRaiReason"]);e!==void 0&&_!=null&&m(e,["parameters","includeRaiReason"],_);const E=h(t,["language"]);e!==void 0&&E!=null&&m(e,["parameters","language"],E);const w=h(t,["outputMimeType"]);e!==void 0&&w!=null&&m(e,["parameters","outputOptions","mimeType"],w);const b=h(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&m(e,["parameters","outputOptions","compressionQuality"],b);const C=h(t,["addWatermark"]);e!==void 0&&C!=null&&m(e,["parameters","addWatermark"],C);const P=h(t,["editMode"]);e!==void 0&&P!=null&&m(e,["parameters","editMode"],P);const N=h(t,["baseSteps"]);return e!==void 0&&N!=null&&m(e,["parameters","editConfig","baseSteps"],N),n}function kpe(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],ht(t,r));const i=h(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=h(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>Npe(c))),m(n,["instances[0]","referenceImages"],u)}const a=h(e,["config"]);return a!=null&&m(n,["config"],Dpe(a,n)),n}function Ope(t,e){const n={},r=h(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=h(t,["includeRaiReason"]);e!==void 0&&i!=null&&m(e,["parameters","includeRaiReason"],i);const o=h(t,["outputMimeType"]);e!==void 0&&o!=null&&m(e,["parameters","outputOptions","mimeType"],o);const a=h(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&m(e,["parameters","outputOptions","compressionQuality"],a);const u=h(t,["enhanceInputImage"]);e!==void 0&&u!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=h(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const d=h(t,["numberOfImages"]);e!==void 0&&d!=null&&m(e,["parameters","sampleCount"],d);const p=h(t,["mode"]);return e!==void 0&&p!=null&&m(e,["parameters","mode"],p),n}function Lpe(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],ht(t,r));const i=h(e,["image"]);i!=null&&m(n,["instances[0]","image"],ho(i));const o=h(e,["upscaleFactor"]);o!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=h(e,["config"]);return a!=null&&m(n,["config"],Ope(a,n)),n}function Vpe(t){const e={},n=h(t,["productImage"]);return n!=null&&m(e,["image"],ho(n)),e}function Upe(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=h(t,["personImage"]);e!==void 0&&i!=null&&m(e,["instances[0]","personImage","image"],ho(i));const o=h(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>Vpe(u))),m(e,["instances[0]","productImages"],a)}return n}function Bpe(t,e){const n={},r=h(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=h(t,["baseSteps"]);e!==void 0&&i!=null&&m(e,["parameters","editConfig","baseSteps"],i);const o=h(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const a=h(t,["seed"]);e!==void 0&&a!=null&&m(e,["parameters","seed"],a);const u=h(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const c=h(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const d=h(t,["addWatermark"]);e!==void 0&&d!=null&&m(e,["parameters","addWatermark"],d);const p=h(t,["outputMimeType"]);e!==void 0&&p!=null&&m(e,["parameters","outputOptions","mimeType"],p);const y=h(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","compressionQuality"],y);const _=h(t,["enhancePrompt"]);return e!==void 0&&_!=null&&m(e,["parameters","enhancePrompt"],_),n}function Fpe(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],ht(t,r));const i=h(e,["source"]);i!=null&&m(n,["config"],Upe(i,n));const o=h(e,["config"]);return o!=null&&m(n,["config"],Bpe(o,n)),n}function qpe(t){const e={},n=h(t,["image"]);return n!=null&&m(e,["image"],ho(n)),e}function $pe(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=h(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],ho(i));const o=h(t,["scribbleImage"]);return e!==void 0&&o!=null&&m(e,["instances[0]","scribble"],qpe(o)),n}function Hpe(t,e){const n={},r=h(t,["mode"]);e!==void 0&&r!=null&&m(e,["parameters","mode"],r);const i=h(t,["maxPredictions"]);e!==void 0&&i!=null&&m(e,["parameters","maxPredictions"],i);const o=h(t,["confidenceThreshold"]);e!==void 0&&o!=null&&m(e,["parameters","confidenceThreshold"],o);const a=h(t,["maskDilation"]);e!==void 0&&a!=null&&m(e,["parameters","maskDilation"],a);const u=h(t,["binaryColorThreshold"]);return e!==void 0&&u!=null&&m(e,["parameters","binaryColorThreshold"],u),n}function zpe(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],ht(t,r));const i=h(e,["source"]);i!=null&&m(n,["config"],$pe(i,n));const o=h(e,["config"]);return o!=null&&m(n,["config"],Hpe(o,n)),n}function Gpe(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","name"],ht(t,r));const i=h(e,["config"]);return i!=null&&m(n,["config"],i),n}function Kpe(t,e,n){const r={},i=h(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=h(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const a=h(e,["filter"]);n!==void 0&&a!=null&&m(n,["_query","filter"],a);const u=h(e,["queryBase"]);return n!==void 0&&u!=null&&m(n,["_url","models_url"],y6(t,u)),r}function jpe(t,e){const n={},r=h(e,["config"]);return r!=null&&m(n,["config"],Kpe(t,r,n)),n}function Ype(t,e){const n={},r=h(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=h(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=h(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function Wpe(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],ht(t,r));const i=h(e,["config"]);return i!=null&&m(n,["config"],Ype(i,n)),n}function Jpe(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","name"],ht(t,r));const i=h(e,["config"]);return i!=null&&m(n,["config"],i),n}function Xpe(t,e){const n={},r=h(t,["systemInstruction"]);e!==void 0&&r!=null&&m(e,["systemInstruction"],Mc(er(r)));const i=h(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>D6(u))),m(e,["tools"],a)}const o=h(t,["generationConfig"]);return e!==void 0&&o!=null&&m(e,["generationConfig"],o),n}function Qpe(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],ht(t,r));const i=h(e,["contents"]);if(i!=null){let a=li(i);Array.isArray(a)&&(a=a.map(u=>Mc(u))),m(n,["contents"],a)}const o=h(e,["config"]);return o!=null&&m(n,["config"],Xpe(o,n)),n}function Zpe(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],ht(t,r));const i=h(e,["contents"]);if(i!=null){let a=li(i);Array.isArray(a)&&(a=a.map(u=>Mc(u))),m(n,["contents"],a)}const o=h(e,["config"]);return o!=null&&m(n,["config"],o),n}function k6(t){const e={},n=h(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const r=h(t,["videoBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Ll(r));const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function eme(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=h(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],ho(i));const o=h(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],k6(o)),n}function tme(t){const e={},n=h(t,["image"]);n!=null&&m(e,["image"],ho(n));const r=h(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function nme(t,e){const n={},r=h(t,["numberOfVideos"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=h(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=h(t,["fps"]);e!==void 0&&o!=null&&m(e,["parameters","fps"],o);const a=h(t,["durationSeconds"]);e!==void 0&&a!=null&&m(e,["parameters","durationSeconds"],a);const u=h(t,["seed"]);e!==void 0&&u!=null&&m(e,["parameters","seed"],u);const c=h(t,["aspectRatio"]);e!==void 0&&c!=null&&m(e,["parameters","aspectRatio"],c);const d=h(t,["resolution"]);e!==void 0&&d!=null&&m(e,["parameters","resolution"],d);const p=h(t,["personGeneration"]);e!==void 0&&p!=null&&m(e,["parameters","personGeneration"],p);const y=h(t,["pubsubTopic"]);e!==void 0&&y!=null&&m(e,["parameters","pubsubTopic"],y);const _=h(t,["negativePrompt"]);e!==void 0&&_!=null&&m(e,["parameters","negativePrompt"],_);const E=h(t,["enhancePrompt"]);e!==void 0&&E!=null&&m(e,["parameters","enhancePrompt"],E);const w=h(t,["generateAudio"]);e!==void 0&&w!=null&&m(e,["parameters","generateAudio"],w);const b=h(t,["lastFrame"]);e!==void 0&&b!=null&&m(e,["instances[0]","lastFrame"],ho(b));const C=h(t,["referenceImages"]);if(e!==void 0&&C!=null){let N=C;Array.isArray(N)&&(N=N.map(D=>tme(D))),m(e,["instances[0]","referenceImages"],N)}const P=h(t,["compressionQuality"]);return e!==void 0&&P!=null&&m(e,["parameters","compressionQuality"],P),n}function rme(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],ht(t,r));const i=h(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=h(e,["image"]);o!=null&&m(n,["instances[0]","image"],ho(o));const a=h(e,["video"]);a!=null&&m(n,["instances[0]","video"],k6(a));const u=h(e,["source"]);u!=null&&m(n,["config"],eme(u,n));const c=h(e,["config"]);return c!=null&&m(n,["config"],nme(c,n)),n}function ime(t){const e={},n=h(t,["fps"]);n!=null&&m(e,["fps"],n);const r=h(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=h(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function ome(t){const e={},n=h(t,["data"]);n!=null&&m(e,["data"],n);const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function sme(t){const e={},n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function ame(t){const e={},n=h(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],ime(n));const r=h(t,["thought"]);r!=null&&m(e,["thought"],r);const i=h(t,["inlineData"]);i!=null&&m(e,["inlineData"],ome(i));const o=h(t,["fileData"]);o!=null&&m(e,["fileData"],sme(o));const a=h(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=h(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=h(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const d=h(t,["functionCall"]);d!=null&&m(e,["functionCall"],d);const p=h(t,["functionResponse"]);p!=null&&m(e,["functionResponse"],p);const y=h(t,["text"]);return y!=null&&m(e,["text"],y),e}function lme(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ame(o))),m(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&m(e,["role"],r),e}function ume(t){const e={},n=h(t,["citationSources"]);return n!=null&&m(e,["citations"],n),e}function cme(t){const e={},n=h(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=h(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function fme(t){const e={},n=h(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>cme(i))),m(e,["urlMetadata"],r)}return e}function dme(t){const e={},n=h(t,["content"]);n!=null&&m(e,["content"],lme(n));const r=h(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],ume(r));const i=h(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=h(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const a=h(t,["urlContextMetadata"]);a!=null&&m(e,["urlContextMetadata"],fme(a));const u=h(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const c=h(t,["groundingMetadata"]);c!=null&&m(e,["groundingMetadata"],c);const d=h(t,["index"]);d!=null&&m(e,["index"],d);const p=h(t,["logprobsResult"]);p!=null&&m(e,["logprobsResult"],p);const y=h(t,["safetyRatings"]);return y!=null&&m(e,["safetyRatings"],y),e}function S2(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>dme(d))),m(e,["candidates"],c)}const i=h(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=h(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const a=h(t,["responseId"]);a!=null&&m(e,["responseId"],a);const u=h(t,["usageMetadata"]);return u!=null&&m(e,["usageMetadata"],u),e}function hme(t){const e={},n=h(t,["values"]);return n!=null&&m(e,["values"],n),e}function pme(){return{}}function mme(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>hme(a))),m(e,["embeddings"],o)}return h(t,["metadata"])!=null&&m(e,["metadata"],pme()),e}function gme(t){const e={},n=h(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],Ll(n));const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function O6(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=h(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=h(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function yme(t){const e={},n=h(t,["_self"]);n!=null&&m(e,["image"],gme(n));const r=h(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=h(t,["_self"]);return i!=null&&m(e,["safetyAttributes"],O6(i)),e}function vme(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>yme(a))),m(e,["generatedImages"],o)}const i=h(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],O6(i)),e}function _me(t){const e={},n=h(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=h(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=h(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function gS(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=h(t,["description"]);i!=null&&m(e,["description"],i);const o=h(t,["version"]);o!=null&&m(e,["version"],o);const a=h(t,["_self"]);a!=null&&m(e,["tunedModelInfo"],_me(a));const u=h(t,["inputTokenLimit"]);u!=null&&m(e,["inputTokenLimit"],u);const c=h(t,["outputTokenLimit"]);c!=null&&m(e,["outputTokenLimit"],c);const d=h(t,["supportedGenerationMethods"]);return d!=null&&m(e,["supportedActions"],d),e}function Tme(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=h(t,["_self"]);if(i!=null){let o=v6(i);Array.isArray(o)&&(o=o.map(a=>gS(a))),m(e,["models"],o)}return e}function Eme(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Sme(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["totalTokens"]);r!=null&&m(e,["totalTokens"],r);const i=h(t,["cachedContentTokenCount"]);return i!=null&&m(e,["cachedContentTokenCount"],i),e}function wme(t){const e={},n=h(t,["video","uri"]);n!=null&&m(e,["uri"],n);const r=h(t,["video","encodedVideo"]);r!=null&&m(e,["videoBytes"],Ll(r));const i=h(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function bme(t){const e={},n=h(t,["_self"]);return n!=null&&m(e,["video"],wme(n)),e}function Ame(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>bme(a))),m(e,["generatedVideos"],o)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=h(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Cme(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=h(t,["done"]);i!=null&&m(e,["done"],i);const o=h(t,["error"]);o!=null&&m(e,["error"],o);const a=h(t,["response","generateVideoResponse"]);return a!=null&&m(e,["response"],Ame(a)),e}function xme(t){const e={},n=h(t,["fps"]);n!=null&&m(e,["fps"],n);const r=h(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=h(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Rme(t){const e={},n=h(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=h(t,["data"]);r!=null&&m(e,["data"],r);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Ime(t){const e={},n=h(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=h(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Pme(t){const e={},n=h(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],xme(n));const r=h(t,["thought"]);r!=null&&m(e,["thought"],r);const i=h(t,["inlineData"]);i!=null&&m(e,["inlineData"],Rme(i));const o=h(t,["fileData"]);o!=null&&m(e,["fileData"],Ime(o));const a=h(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=h(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=h(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const d=h(t,["functionCall"]);d!=null&&m(e,["functionCall"],d);const p=h(t,["functionResponse"]);p!=null&&m(e,["functionResponse"],p);const y=h(t,["text"]);return y!=null&&m(e,["text"],y),e}function Mme(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Pme(o))),m(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&m(e,["role"],r),e}function Nme(t){const e={},n=h(t,["citations"]);return n!=null&&m(e,["citations"],n),e}function Dme(t){const e={},n=h(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=h(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function kme(t){const e={},n=h(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Dme(i))),m(e,["urlMetadata"],r)}return e}function Ome(t){const e={},n=h(t,["content"]);n!=null&&m(e,["content"],Mme(n));const r=h(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],Nme(r));const i=h(t,["finishMessage"]);i!=null&&m(e,["finishMessage"],i);const o=h(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const a=h(t,["urlContextMetadata"]);a!=null&&m(e,["urlContextMetadata"],kme(a));const u=h(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const c=h(t,["groundingMetadata"]);c!=null&&m(e,["groundingMetadata"],c);const d=h(t,["index"]);d!=null&&m(e,["index"],d);const p=h(t,["logprobsResult"]);p!=null&&m(e,["logprobsResult"],p);const y=h(t,["safetyRatings"]);return y!=null&&m(e,["safetyRatings"],y),e}function w2(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>Ome(p))),m(e,["candidates"],d)}const i=h(t,["createTime"]);i!=null&&m(e,["createTime"],i);const o=h(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const a=h(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const u=h(t,["responseId"]);u!=null&&m(e,["responseId"],u);const c=h(t,["usageMetadata"]);return c!=null&&m(e,["usageMetadata"],c),e}function Lme(t){const e={},n=h(t,["truncated"]);n!=null&&m(e,["truncated"],n);const r=h(t,["token_count"]);return r!=null&&m(e,["tokenCount"],r),e}function Vme(t){const e={},n=h(t,["values"]);n!=null&&m(e,["values"],n);const r=h(t,["statistics"]);return r!=null&&m(e,["statistics"],Lme(r)),e}function Ume(t){const e={},n=h(t,["billableCharacterCount"]);return n!=null&&m(e,["billableCharacterCount"],n),e}function Bme(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Vme(a))),m(e,["embeddings"],o)}const i=h(t,["metadata"]);return i!=null&&m(e,["metadata"],Ume(i)),e}function L6(t){const e={},n=h(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=h(t,["bytesBase64Encoded"]);r!=null&&m(e,["imageBytes"],Ll(r));const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function V6(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=h(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=h(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function Uy(t){const e={},n=h(t,["_self"]);n!=null&&m(e,["image"],L6(n));const r=h(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=h(t,["_self"]);i!=null&&m(e,["safetyAttributes"],V6(i));const o=h(t,["prompt"]);return o!=null&&m(e,["enhancedPrompt"],o),e}function Fme(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Uy(a))),m(e,["generatedImages"],o)}const i=h(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],V6(i)),e}function qme(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Uy(o))),m(e,["generatedImages"],i)}return e}function $me(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Uy(o))),m(e,["generatedImages"],i)}return e}function Hme(t){const e={},n=h(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Uy(i))),m(e,["generatedImages"],r)}return e}function zme(t){const e={},n=h(t,["label"]);n!=null&&m(e,["label"],n);const r=h(t,["score"]);return r!=null&&m(e,["score"],r),e}function Gme(t){const e={},n=h(t,["_self"]);n!=null&&m(e,["mask"],L6(n));const r=h(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>zme(o))),m(e,["labels"],i)}return e}function Kme(t){const e={},n=h(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Gme(i))),m(e,["generatedMasks"],r)}return e}function jme(t){const e={},n=h(t,["endpoint"]);n!=null&&m(e,["name"],n);const r=h(t,["deployedModelId"]);return r!=null&&m(e,["deployedModelId"],r),e}function Yme(t){const e={},n=h(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const r=h(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=h(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function Wme(t){const e={},n=h(t,["checkpointId"]);n!=null&&m(e,["checkpointId"],n);const r=h(t,["epoch"]);r!=null&&m(e,["epoch"],r);const i=h(t,["step"]);return i!=null&&m(e,["step"],i),e}function yS(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=h(t,["description"]);i!=null&&m(e,["description"],i);const o=h(t,["versionId"]);o!=null&&m(e,["version"],o);const a=h(t,["deployedModels"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(_=>jme(_))),m(e,["endpoints"],y)}const u=h(t,["labels"]);u!=null&&m(e,["labels"],u);const c=h(t,["_self"]);c!=null&&m(e,["tunedModelInfo"],Yme(c));const d=h(t,["defaultCheckpointId"]);d!=null&&m(e,["defaultCheckpointId"],d);const p=h(t,["checkpoints"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(_=>Wme(_))),m(e,["checkpoints"],y)}return e}function Jme(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=h(t,["_self"]);if(i!=null){let o=v6(i);Array.isArray(o)&&(o=o.map(a=>yS(a))),m(e,["models"],o)}return e}function Xme(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Qme(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["totalTokens"]);return r!=null&&m(e,["totalTokens"],r),e}function Zme(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["tokensInfo"]);return r!=null&&m(e,["tokensInfo"],r),e}function ege(t){const e={},n=h(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=h(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],Ll(r));const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function tge(t){const e={},n=h(t,["_self"]);return n!=null&&m(e,["video"],ege(n)),e}function nge(t){const e={},n=h(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>tge(a))),m(e,["generatedVideos"],o)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=h(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function rge(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=h(t,["done"]);i!=null&&m(e,["done"],i);const o=h(t,["error"]);o!=null&&m(e,["error"],o);const a=h(t,["response"]);return a!=null&&m(e,["response"],nge(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ige="Content-Type",oge="X-Server-Timeout",sge="User-Agent",vS="x-goog-api-client",age="1.17.0",lge=`google-genai-sdk/${age}`,uge="v1beta1",cge="v1beta",b2=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class fge{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:uge,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:cge,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,u]of Object.entries(e.queryParams))i.searchParams.append(a,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,o=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>i.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=o}return n&&n.extraBody!==null&&dge(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await A2(i),new fS(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await A2(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Hu(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:u,value:c}=yield kt(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(c,{stream:!0});try{const y=JSON.parse(d);if("error"in y){const _=JSON.parse(JSON.stringify(y.error)),E=_.status,w=_.code,b=`got status: ${E}. ${JSON.stringify(y)}`;if(w>=400&&w<600)throw new Ly({message:b,status:w})}}catch(y){if(y.name==="ApiError")throw y}a+=d;let p=a.match(b2);for(;p;){const y=p[1];try{const _=new Response(y,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield kt(new fS(_)),a=a.slice(p[0].length),p=a.match(b2)}catch(_){throw new Error(`exception parsing stream chunk ${y}. ${_}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=lge+" "+this.clientOptions.userAgentExtra;return e[sge]=n,e[vS]=n,e[ige]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(oge,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c=await this.fetchUploadUrl(i,n);return o.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},a=await this.request({path:Pe("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:i});if(!a||!(a!=null&&a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(r=a==null?void 0:a.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function A2(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Ly({message:i,status:n}):new Error(i)}}function dge(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const u=Object.assign({},o);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const d=a[c],p=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&p&&typeof p=="object"&&!Array.isArray(p)?u[c]=r(p,d):(p&&d&&typeof p!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof p}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hge="mcp_used/unknown";let pge=!1;function U6(t){for(const e of t)if(mge(e)||typeof e=="object"&&"inputSchema"in e)return!0;return pge}function B6(t){var e;const n=(e=t[vS])!==null&&e!==void 0?e:"";t[vS]=(n+` ${hge}`).trimStart()}function mge(t){return t!==null&&typeof t=="object"&&t instanceof fA}function gge(t,e=100){return Hu(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield kt(t.listTools({cursor:r}));for(const a of o.tools)yield yield kt(a),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class fA{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new fA(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const p of this.mcpClients)try{for(var u=!0,c=(n=void 0,md(gge(p))),d;d=await c.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const y=i;a.push(y);const _=y.name;if(o[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);o[_]=p}}catch(y){n={error:y}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),jle(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function yge(t,e,n){const r=new Ble;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const o=Xde(i);Object.assign(r,o),e(r)}class vge{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=Ege(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const p=new Promise(D=>{d=D}),y=e.callbacks,_=function(){d({})},E=this.apiClient,w={onopen:_,onmessage:D=>{yge(E,y.onmessage,D)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(D){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(D){}},b=this.webSocketFactory.create(c,Tge(a),w);b.connect(),await p;const C=ht(this.apiClient,e.model),P=I6({model:C}),N=mS({setup:P});return b.send(JSON.stringify(N)),new _ge(b,this.apiClient)}}class _ge{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Yfe(e),r=P6(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Wfe(e),r=mS(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=mS({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ou.PLAY)}pause(){this.sendPlaybackControl(Ou.PAUSE)}stop(){this.sendPlaybackControl(Ou.STOP)}resetContext(){this.sendPlaybackControl(Ou.RESET_CONTEXT)}close(){this.conn.close()}}function Tge(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Ege(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sge="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function wge(t,e,n){const r=new Ule;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=fhe(o);Object.assign(r,a)}else{const a=$de(o);Object.assign(r,a)}e(r)}class bge{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new vge(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let p;const y=this.apiClient.getHeaders();e.config&&e.config.tools&&U6(e.config.tools)&&B6(y);const _=Rge(y);if(this.apiClient.isVertexAI())p=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_);else{const M=this.apiClient.getApiKey();let q="BidiGenerateContent",F="key";M!=null&&M.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),q="BidiGenerateContentConstrained",F="access_token"),p=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${q}?${F}=${M}`}let E=()=>{};const w=new Promise(M=>{E=M}),b=e.callbacks,C=function(){var M;(M=b==null?void 0:b.onopen)===null||M===void 0||M.call(b),E({})},P=this.apiClient,N={onopen:C,onmessage:M=>{wge(P,b.onmessage,M)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(M){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(M){}},D=this.webSocketFactory.create(p,xge(_),N);D.connect(),await w;let U=ht(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&U.startsWith("publishers/")){const M=this.apiClient.getProject(),q=this.apiClient.getLocation();U=`projects/${M}/locations/${q}/`+U}let $={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Pg.AUDIO]}:e.config.responseModalities=[Pg.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const G=(u=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[],k=[];for(const M of G)if(this.isCallableTool(M)){const q=M;k.push(await q.tool())}else k.push(M);k.length>0&&(e.config.tools=k);const O={model:U,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?$=wde(this.apiClient,O):$=zfe(this.apiClient,O),delete $.config,D.send(JSON.stringify($)),new Cge(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Age={turnComplete:!0};class Cge{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=li(n.turns),e.isVertexAI()?r=r.map(i=>Mc(i)):r=r.map(i=>Vy(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(Sge)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Age),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Cde(e)}:n={realtimeInput:jfe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function xge(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Rge(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const C2=10;function x2(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(zu(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function zu(t){return"callTool"in t&&typeof t.callTool=="function"}function Ige(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>zu(i)))!==null&&r!==void 0?r:!1}function Pge(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!zu(i)))!==null&&r!==void 0?r:!1}function R2(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mge extends Ol{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Ige(n)||x2(n.config))return await this.generateContentInternal(c);if(Pge(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let d,p;const y=li(c.contents),_=(o=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:C2;let E=0;for(;E<_&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const w=d.candidates[0].content,b=[];for(const C of(u=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[])if(zu(C)){const N=await C.callTool(d.functionCalls);b.push(...N)}E++,p={role:"user",parts:b},c.contents=li(c.contents),c.contents.push(w),c.contents.push(p),R2(c.config)&&(y.push(w),y.push(p))}return R2(c.config)&&(d.automaticFunctionCallingHistory=y),d},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),x2(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=c==null?void 0:c.safetyAttributes:a.push(c);let u;return o?u={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new gh(Al.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async c=>zu(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(u.config.tools=a,e.config&&e.config.tools&&U6(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),B6(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(zu(a)){const u=a,c=await u.tool();for(const d of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(o.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);o.set(d.name,u)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:C2;let a=!1,u=0;const c=await this.initAfcToolsMap(e);return(function(d,p,y){var _,E;return Hu(this,arguments,function*(){for(var w,b,C,P;u<o;){a&&(u++,a=!1);const $=yield kt(d.processParamsMaybeAddMcpUsage(y)),G=yield kt(d.generateContentStreamInternal($)),k=[],O=[];try{for(var N=!0,D=(b=void 0,md(G)),U;U=yield kt(D.next()),w=U.done,!w;N=!0){P=U.value,N=!1;const M=P;if(yield yield kt(M),M.candidates&&(!((_=M.candidates[0])===null||_===void 0)&&_.content)){O.push(M.candidates[0].content);for(const q of(E=M.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(u<o&&q.functionCall){if(!q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(q.functionCall.name)){const F=yield kt(p.get(q.functionCall.name).callTool([q.functionCall]));k.push(...F)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${q.functionCall.name}`)}}}}catch(M){b={error:M}}finally{try{!N&&!w&&(C=D.return)&&(yield kt(C.call(D)))}finally{if(b)throw b.error}}if(k.length>0){a=!0;const M=new Jf;M.candidates=[{content:{role:"user",parts:k}}],yield yield kt(M);const q=[];q.push(...O),q.push({role:"user",parts:k});const F=li(y.contents).concat(q);y.contents=F}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=E2(this.apiClient,e);return u=Pe("{model}:generateContent",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const y=w2(p),_=new Jf;return Object.assign(_,y),_})}else{const d=T2(this.apiClient,e);return u=Pe("{model}:generateContent",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const y=S2(p),_=new Jf;return Object.assign(_,y),_})}}async generateContentStreamInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=E2(this.apiClient,e);return u=Pe("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(y){return Hu(this,arguments,function*(){var _,E,w,b;try{for(var C=!0,P=md(y),N;N=yield kt(P.next()),_=N.done,!_;C=!0){b=N.value,C=!1;const D=b,U=w2(yield kt(D.json()));U.sdkHttpResponse={headers:D.headers};const $=new Jf;Object.assign($,U),yield yield kt($)}}catch(D){E={error:D}}finally{try{!C&&!_&&(w=P.return)&&(yield kt(w.call(P)))}finally{if(E)throw E.error}}})})}else{const d=T2(this.apiClient,e);return u=Pe("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(y){return Hu(this,arguments,function*(){var _,E,w,b;try{for(var C=!0,P=md(y),N;N=yield kt(P.next()),_=N.done,!_;C=!0){b=N.value,C=!1;const D=b,U=S2(yield kt(D.json()));U.sdkHttpResponse={headers:D.headers};const $=new Jf;Object.assign($,U),yield yield kt($)}}catch(D){E={error:D}}finally{try{!C&&!_&&(w=P.return)&&(yield kt(w.call(P)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Ape(this.apiClient,e);return u=Pe("{model}:predict",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const y=Bme(p),_=new QD;return Object.assign(_,y),_})}else{const d=Vhe(this.apiClient,e);return u=Pe("{model}:batchEmbedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const y=mme(p),_=new QD;return Object.assign(_,y),_})}}async generateImagesInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=xpe(this.apiClient,e);return u=Pe("{model}:predict",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const y=Fme(p),_=new ZD;return Object.assign(_,y),_})}else{const d=Bhe(this.apiClient,e);return u=Pe("{model}:predict",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const y=vme(p),_=new ZD;return Object.assign(_,y),_})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=kpe(this.apiClient,e);return o=Pe("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:c.headers},p})),i.then(c=>{const d=qme(c),p=new Ple;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=Lpe(this.apiClient,e);return o=Pe("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:c.headers},p})),i.then(c=>{const d=$me(c),p=new Mle;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=Fpe(this.apiClient,e);return o=Pe("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Hme(c),p=new Nle;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=zpe(this.apiClient,e);return o=Pe("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Kme(c),p=new Dle;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Gpe(this.apiClient,e);return u=Pe("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>yS(p))}else{const d=Fhe(this.apiClient,e);return u=Pe("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>gS(p))}}async listInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=jpe(this.apiClient,e);return u=Pe("{models_url}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const y=Jme(p),_=new e2;return Object.assign(_,y),_})}else{const d=$he(this.apiClient,e);return u=Pe("{models_url}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const y=Tme(p),_=new e2;return Object.assign(_,y),_})}}async update(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Wpe(this.apiClient,e);return u=Pe("{model}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>yS(p))}else{const d=zhe(this.apiClient,e);return u=Pe("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>gS(p))}}async delete(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Jpe(this.apiClient,e);return u=Pe("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const y=Xme(p),_=new t2;return Object.assign(_,y),_})}else{const d=Ghe(this.apiClient,e);return u=Pe("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const y=Eme(p),_=new t2;return Object.assign(_,y),_})}}async countTokens(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Qpe(this.apiClient,e);return u=Pe("{model}:countTokens",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const y=Qme(p),_=new n2;return Object.assign(_,y),_})}else{const d=jhe(this.apiClient,e);return u=Pe("{model}:countTokens",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const y=Sme(p),_=new n2;return Object.assign(_,y),_})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=Zpe(this.apiClient,e);return o=Pe("{model}:computeTokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:c.headers},p})),i.then(c=>{const d=Zme(c),p=new kle;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=rme(this.apiClient,e);return u=Pe("{model}:predictLongRunning",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>{const y=rge(p),_=new Mg;return Object.assign(_,y),_})}else{const d=Jhe(this.apiClient,e);return u=Pe("{model}:predictLongRunning",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>{const y=Cme(p),_=new Mg;return Object.assign(_,y),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nge(t){const e={},n=h(t,["operationName"]);n!=null&&m(e,["_url","operationName"],n);const r=h(t,["config"]);return r!=null&&m(e,["config"],r),e}function Dge(t){const e={},n=h(t,["operationName"]);n!=null&&m(e,["operationName"],n);const r=h(t,["resourceName"]);r!=null&&m(e,["_url","resourceName"],r);const i=h(t,["config"]);return i!=null&&m(e,["config"],i),e}function kge(t){const e={},n=h(t,["operationName"]);n!=null&&m(e,["_url","operationName"],n);const r=h(t,["config"]);return r!=null&&m(e,["config"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oge extends Ol{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=kge(e);return u=Pe("{operationName}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a}else{const d=Nge(e);return u=Pe("{operationName}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=Dge(e);return o=Pe("{resourceName}:fetchPredictOperation",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lge(t){const e={},n=h(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function F6(t){const e={},n=h(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],Lge(n)),e}function Vge(t){const e={},n=h(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=h(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],F6(r)),e}function Uge(t){const e={},n=h(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Vge(i))),m(e,["speakerVoiceConfigs"],r)}return e}function Bge(t){const e={},n=h(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],F6(n));const r=h(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],Uge(r));const i=h(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function Fge(t){const e={},n=h(t,["fps"]);n!=null&&m(e,["fps"],n);const r=h(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=h(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function qge(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["data"]);n!=null&&m(e,["data"],n);const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function $ge(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Hge(t){const e={},n=h(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Fge(n));const r=h(t,["thought"]);r!=null&&m(e,["thought"],r);const i=h(t,["inlineData"]);i!=null&&m(e,["inlineData"],qge(i));const o=h(t,["fileData"]);o!=null&&m(e,["fileData"],$ge(o));const a=h(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=h(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=h(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const d=h(t,["functionCall"]);d!=null&&m(e,["functionCall"],d);const p=h(t,["functionResponse"]);p!=null&&m(e,["functionResponse"],p);const y=h(t,["text"]);return y!=null&&m(e,["text"],y),e}function zge(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Hge(o))),m(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&m(e,["role"],r),e}function Gge(t){const e={},n=h(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=h(t,["description"]);r!=null&&m(e,["description"],r);const i=h(t,["name"]);i!=null&&m(e,["name"],i);const o=h(t,["parameters"]);o!=null&&m(e,["parameters"],o);const a=h(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=h(t,["response"]);u!=null&&m(e,["response"],u);const c=h(t,["responseJsonSchema"]);return c!=null&&m(e,["responseJsonSchema"],c),e}function Kge(t){const e={},n=h(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=h(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function jge(t){const e={},n=h(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],Kge(n)),h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Yge(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const r=h(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function Wge(t){const e={},n=h(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],Yge(n)),e}function Jge(){return{}}function Xge(t){const e={},n=h(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function Qge(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>Gge(d))),m(e,["functionDeclarations"],c)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=h(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],jge(r));const i=h(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],Wge(i)),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(h(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");h(t,["urlContext"])!=null&&m(e,["urlContext"],Jge());const a=h(t,["computerUse"]);a!=null&&m(e,["computerUse"],Xge(a));const u=h(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function Zge(t){const e={},n=h(t,["handle"]);if(n!=null&&m(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function I2(){return{}}function eye(t){const e={},n=h(t,["disabled"]);n!=null&&m(e,["disabled"],n);const r=h(t,["startOfSpeechSensitivity"]);r!=null&&m(e,["startOfSpeechSensitivity"],r);const i=h(t,["endOfSpeechSensitivity"]);i!=null&&m(e,["endOfSpeechSensitivity"],i);const o=h(t,["prefixPaddingMs"]);o!=null&&m(e,["prefixPaddingMs"],o);const a=h(t,["silenceDurationMs"]);return a!=null&&m(e,["silenceDurationMs"],a),e}function tye(t){const e={},n=h(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],eye(n));const r=h(t,["activityHandling"]);r!=null&&m(e,["activityHandling"],r);const i=h(t,["turnCoverage"]);return i!=null&&m(e,["turnCoverage"],i),e}function nye(t){const e={},n=h(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function rye(t){const e={},n=h(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const r=h(t,["slidingWindow"]);return r!=null&&m(e,["slidingWindow"],nye(r)),e}function iye(t){const e={},n=h(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function oye(t,e){const n={},r=h(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=h(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=h(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=h(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const u=h(t,["topK"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topK"],u);const c=h(t,["maxOutputTokens"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","maxOutputTokens"],c);const d=h(t,["mediaResolution"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","mediaResolution"],d);const p=h(t,["seed"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","seed"],p);const y=h(t,["speechConfig"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","speechConfig"],Bge(cA(y)));const _=h(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],_);const E=h(t,["systemInstruction"]);e!==void 0&&E!=null&&m(e,["setup","systemInstruction"],zge(er(E)));const w=h(t,["tools"]);if(e!==void 0&&w!=null){let $=Ic(w);Array.isArray($)&&($=$.map(G=>Qge(Rc(G)))),m(e,["setup","tools"],$)}const b=h(t,["sessionResumption"]);e!==void 0&&b!=null&&m(e,["setup","sessionResumption"],Zge(b));const C=h(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&m(e,["setup","inputAudioTranscription"],I2());const P=h(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&m(e,["setup","outputAudioTranscription"],I2());const N=h(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&m(e,["setup","realtimeInputConfig"],tye(N));const D=h(t,["contextWindowCompression"]);e!==void 0&&D!=null&&m(e,["setup","contextWindowCompression"],rye(D));const U=h(t,["proactivity"]);return e!==void 0&&U!=null&&m(e,["setup","proactivity"],iye(U)),n}function sye(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["setup","model"],ht(t,r));const i=h(e,["config"]);return i!=null&&m(n,["config"],oye(i,n)),n}function aye(t,e,n){const r={},i=h(e,["expireTime"]);n!==void 0&&i!=null&&m(n,["expireTime"],i);const o=h(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&m(n,["newSessionExpireTime"],o);const a=h(e,["uses"]);n!==void 0&&a!=null&&m(n,["uses"],a);const u=h(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&m(n,["bidiGenerateContentSetup"],sye(t,u));const c=h(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&m(n,["fieldMask"],c),r}function lye(t,e){const n={},r=h(e,["config"]);return r!=null&&m(n,["config"],aye(t,r,n)),n}function uye(t){const e={},n=h(t,["name"]);return n!=null&&m(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cye(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function fye(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=cye(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>a.includes(d)?`generationConfig.${d}`:d));const c=[];o&&c.push(o),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class dye extends Ol{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=lye(this.apiClient,e);o=Pe("auth_tokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query;const c=fye(u,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>uye(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hye(t){const e={},n=h(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=h(t,["config"]);return r!=null&&m(e,["config"],r),e}function pye(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=h(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function mye(t){const e={},n=h(t,["config"]);return n!=null&&m(e,["config"],pye(n,e)),e}function gye(t){const e={},n=h(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=h(t,["config"]);return r!=null&&m(e,["config"],r),e}function yye(t){const e={},n=h(t,["textInput"]);n!=null&&m(e,["textInput"],n);const r=h(t,["output"]);return r!=null&&m(e,["output"],r),e}function vye(t){const e={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=h(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>yye(i))),m(e,["examples","examples"],r)}return e}function _ye(t,e){const n={};if(h(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=h(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&m(e,["displayName"],r),h(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=h(t,["epochCount"]);e!==void 0&&i!=null&&m(e,["tuningTask","hyperparameters","epochCount"],i);const o=h(t,["learningRateMultiplier"]);if(o!=null&&m(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),h(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(h(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(h(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=h(t,["batchSize"]);e!==void 0&&a!=null&&m(e,["tuningTask","hyperparameters","batchSize"],a);const u=h(t,["learningRate"]);return e!==void 0&&u!=null&&m(e,["tuningTask","hyperparameters","learningRate"],u),n}function Tye(t){const e={},n=h(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=h(t,["preTunedModel"]);r!=null&&m(e,["preTunedModel"],r);const i=h(t,["trainingDataset"]);i!=null&&m(e,["tuningTask","trainingData"],vye(i));const o=h(t,["config"]);return o!=null&&m(e,["config"],_ye(o,e)),e}function Eye(t){const e={},n=h(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=h(t,["config"]);return r!=null&&m(e,["config"],r),e}function Sye(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=h(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function wye(t){const e={},n=h(t,["config"]);return n!=null&&m(e,["config"],Sye(n,e)),e}function bye(t){const e={},n=h(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=h(t,["config"]);return r!=null&&m(e,["config"],r),e}function Aye(t,e){const n={},r=h(t,["gcsUri"]);e!==void 0&&r!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],r);const i=h(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],i),h(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function Cye(t,e){const n={},r=h(t,["gcsUri"]);r!=null&&m(n,["validationDatasetUri"],r);const i=h(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}function xye(t,e){const n={},r=h(t,["validationDataset"]);e!==void 0&&r!=null&&m(e,["supervisedTuningSpec"],Cye(r,n));const i=h(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&m(e,["tunedModelDisplayName"],i);const o=h(t,["description"]);e!==void 0&&o!=null&&m(e,["description"],o);const a=h(t,["epochCount"]);e!==void 0&&a!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],a);const u=h(t,["learningRateMultiplier"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const c=h(t,["exportLastCheckpointOnly"]);e!==void 0&&c!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const d=h(t,["preTunedModelCheckpointId"]);d!=null&&m(n,["preTunedModel","checkpointId"],d);const p=h(t,["adapterSize"]);if(e!==void 0&&p!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],p),h(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(h(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function Rye(t){const e={},n=h(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=h(t,["preTunedModel"]);r!=null&&m(e,["preTunedModel"],r);const i=h(t,["trainingDataset"]);i!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],Aye(i,e));const o=h(t,["config"]);return o!=null&&m(e,["config"],xye(o,e)),e}function Iye(t){const e={},n=h(t,["name"]);n!=null&&m(e,["model"],n);const r=h(t,["name"]);return r!=null&&m(e,["endpoint"],r),e}function q6(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["name"]);r!=null&&m(e,["name"],r);const i=h(t,["state"]);i!=null&&m(e,["state"],m6(i));const o=h(t,["createTime"]);o!=null&&m(e,["createTime"],o);const a=h(t,["tuningTask","startTime"]);a!=null&&m(e,["startTime"],a);const u=h(t,["tuningTask","completeTime"]);u!=null&&m(e,["endTime"],u);const c=h(t,["updateTime"]);c!=null&&m(e,["updateTime"],c);const d=h(t,["description"]);d!=null&&m(e,["description"],d);const p=h(t,["baseModel"]);p!=null&&m(e,["baseModel"],p);const y=h(t,["_self"]);y!=null&&m(e,["tunedModel"],Iye(y));const _=h(t,["customBaseModel"]);_!=null&&m(e,["customBaseModel"],_);const E=h(t,["experiment"]);E!=null&&m(e,["experiment"],E);const w=h(t,["labels"]);w!=null&&m(e,["labels"],w);const b=h(t,["outputUri"]);b!=null&&m(e,["outputUri"],b);const C=h(t,["pipelineJob"]);C!=null&&m(e,["pipelineJob"],C);const P=h(t,["serviceAccount"]);P!=null&&m(e,["serviceAccount"],P);const N=h(t,["tunedModelDisplayName"]);return N!=null&&m(e,["tunedModelDisplayName"],N),e}function Pye(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=h(t,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>q6(a))),m(e,["tuningJobs"],o)}return e}function Mye(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["name"]);r!=null&&m(e,["name"],r);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const a=h(t,["error"]);return a!=null&&m(e,["error"],a),e}function Nye(t){const e={},n=h(t,["checkpointId"]);n!=null&&m(e,["checkpointId"],n);const r=h(t,["epoch"]);r!=null&&m(e,["epoch"],r);const i=h(t,["step"]);i!=null&&m(e,["step"],i);const o=h(t,["endpoint"]);return o!=null&&m(e,["endpoint"],o),e}function Dye(t){const e={},n=h(t,["model"]);n!=null&&m(e,["model"],n);const r=h(t,["endpoint"]);r!=null&&m(e,["endpoint"],r);const i=h(t,["checkpoints"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Nye(a))),m(e,["checkpoints"],o)}return e}function _S(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["name"]);r!=null&&m(e,["name"],r);const i=h(t,["state"]);i!=null&&m(e,["state"],m6(i));const o=h(t,["createTime"]);o!=null&&m(e,["createTime"],o);const a=h(t,["startTime"]);a!=null&&m(e,["startTime"],a);const u=h(t,["endTime"]);u!=null&&m(e,["endTime"],u);const c=h(t,["updateTime"]);c!=null&&m(e,["updateTime"],c);const d=h(t,["error"]);d!=null&&m(e,["error"],d);const p=h(t,["description"]);p!=null&&m(e,["description"],p);const y=h(t,["baseModel"]);y!=null&&m(e,["baseModel"],y);const _=h(t,["tunedModel"]);_!=null&&m(e,["tunedModel"],Dye(_));const E=h(t,["preTunedModel"]);E!=null&&m(e,["preTunedModel"],E);const w=h(t,["supervisedTuningSpec"]);w!=null&&m(e,["supervisedTuningSpec"],w);const b=h(t,["tuningDataStats"]);b!=null&&m(e,["tuningDataStats"],b);const C=h(t,["encryptionSpec"]);C!=null&&m(e,["encryptionSpec"],C);const P=h(t,["partnerModelTuningSpec"]);P!=null&&m(e,["partnerModelTuningSpec"],P);const N=h(t,["customBaseModel"]);N!=null&&m(e,["customBaseModel"],N);const D=h(t,["experiment"]);D!=null&&m(e,["experiment"],D);const U=h(t,["labels"]);U!=null&&m(e,["labels"],U);const $=h(t,["outputUri"]);$!=null&&m(e,["outputUri"],$);const G=h(t,["pipelineJob"]);G!=null&&m(e,["pipelineJob"],G);const k=h(t,["serviceAccount"]);k!=null&&m(e,["serviceAccount"],k);const O=h(t,["tunedModelDisplayName"]);return O!=null&&m(e,["tunedModelDisplayName"],O),e}function kye(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=h(t,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>_S(a))),m(e,["tuningJobs"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oye extends Ol{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new gh(Al.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel},i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:cS.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Eye(e);return u=Pe("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>_S(p))}else{const d=hye(e);return u=Pe("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>q6(p))}}async listInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=wye(e);return u=Pe("tuningJobs",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const y=kye(p),_=new i2;return Object.assign(_,y),_})}else{const d=mye(e);return u=Pe("tunedModels",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:p.headers},_})),a.then(p=>{const y=Pye(p),_=new i2;return Object.assign(_,y),_})}}async cancel(e){var n,r,i,o;let a="",u={};if(this.apiClient.isVertexAI()){const c=bye(e);a=Pe("{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=gye(e);a=Pe("{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=Rye(e);return o=Pe("tuningJobs",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:c.headers},p})),i.then(c=>_S(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Tye(e);return o=Pe("tunedModels",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:c.headers},p})),i.then(c=>Mye(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lye{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Vye=1024*1024*8,Uye=3,Bye=1e3,Fye=2,FT="x-goog-upload-status";async function qye(t,e,n){var r,i,o;let a=0,u=0,c=new fS(new Response),d="upload";for(a=t.size;u<a;){const y=Math.min(Vye,a-u),_=t.slice(u,u+y);u+y>=a&&(d+=", finalize");let E=0,w=Bye;for(;E<Uye&&(c=await n.request({path:"",body:_,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(u),"Content-Length":String(y)}}}),!(!((r=c==null?void 0:c.headers)===null||r===void 0)&&r[FT]));)E++,await Hye(w),w=w*Fye;if(u+=y,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[FT])!=="active")break;if(a<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const p=await(c==null?void 0:c.json());if(((o=c==null?void 0:c.headers)===null||o===void 0?void 0:o[FT])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return p.file}async function $ye(t){return{size:t.size,type:t.type}}function Hye(t){return new Promise(e=>setTimeout(e,t))}class zye{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await qye(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await $ye(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gye{create(e,n,r){return new Kye(e,n,r)}}class Kye{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const P2="x-goog-api-key";class jye{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(P2)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(P2,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yye="gl-node/";class Wye{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Ile(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new jye(this.apiKey);this.apiClient=new fge({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Yye+"web",uploader:new zye,downloader:new Lye}),this.models=new Mge(this.apiClient),this.live=new bge(this.apiClient,i,new Gye),this.batches=new ece(this.apiClient),this.chats=new sfe(this.models,this.apiClient),this.caches=new rfe(this.apiClient),this.files=new _fe(this.apiClient),this.operations=new Oge(this.apiClient),this.authTokens=new dye(this.apiClient),this.tunings=new Oye(this.apiClient)}}const Jye="AIzaSyByOfSHfNNIwPKwNOkklamTuSy1-t3NOPI",Xye=new Wye({apiKey:Jye}),Qye=async t=>{var e;try{const n=await Xye.models.generateImages({model:"imagen-4.0-generate-001",prompt:`Futuristic, dark, dystopian, gritty, mysterious, quest item. ${t}`,config:{numberOfImages:1,outputMimeType:"image/jpeg",aspectRatio:"16:9"}});if(n.generatedImages&&n.generatedImages.length>0)return`data:image/jpeg;base64,${n.generatedImages[0].image.imageBytes}`;throw new Error("No image was generated by the API.")}catch(n){console.error("Error generating image with Gemini API:",n);let r="An unknown error occurred.";if(n instanceof Error){r=n.message;try{const i=n.message.includes("ApiError: ")?n.message.split("ApiError: ")[1]:n.message,o=JSON.parse(i);r=((e=o==null?void 0:o.error)==null?void 0:e.message)||r}catch{}}throw new Error(`Failed to generate image: ${r}`)}},Zye=()=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:L.jsx("path",{d:"M17 3H5a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2zm-3 12H8v-4h6v4zm2-6H5V5h12v4z"})}),eve=()=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),$6=()=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-stone-400 hover:text-red-500 transition-colors",viewBox:"0 0 20 20",fill:"currentColor",children:L.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),M2=()=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:L.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),tve=()=>L.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-stone-400 hover:text-amber-400 transition-colors",viewBox:"0 0 20 20",fill:"currentColor",children:[L.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),L.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),nve=()=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:L.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),rve=()=>L.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-stone-400 hover:text-amber-400 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),TS=({nodeId:t,dsl:e,selectedNodeId:n,renamingNodeId:r,renamingValue:i,setRenamingValue:o,onSelectNode:a,onStartRename:u,onFinishRename:c,onDeleteNode:d,level:p=0,visited:y})=>{const _=e.nodes[t];if(!_||y.has(t))return null;y.add(t);const E=()=>{c(t,i)},w=(_.choices||[]).map(b=>b.to).concat((_.branch||[]).map(b=>b.to)).concat(_.fallback?[_.fallback]:[]).filter((b,C,P)=>b&&e.nodes[b]&&P.indexOf(b)===C);return L.jsxs("div",{className:"relative",children:[p>0&&L.jsx("div",{className:"absolute top-0 left-[-11px] h-full w-px bg-stone-600"}),p>0&&L.jsx("div",{className:"absolute top-4 left-[-11px] w-3 h-px bg-stone-600"}),L.jsx("div",{className:`pl-${p*4}`,children:L.jsxs("div",{className:`flex items-center justify-between p-2 rounded-md transition-colors group ${n===t?"bg-amber-500":"bg-stone-700 hover:bg-stone-600"}`,children:[r===t?L.jsx("input",{type:"text",value:i,onChange:b=>o(b.target.value),onBlur:E,onKeyDown:b=>b.key==="Enter"&&E(),className:"bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-2 py-1 text-sm w-full",autoFocus:!0}):L.jsx("button",{onClick:()=>a(t),className:`w-full text-left font-mono text-sm ${n===t?"text-stone-900 font-bold":""}`,children:t}),t!=="start"&&r!==t&&L.jsxs("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity",children:[L.jsx("button",{onClick:()=>u(t),className:"p-1",children:L.jsx(tve,{})}),L.jsx("button",{onClick:()=>d(t),className:"p-1",children:L.jsx($6,{})})]})]})}),L.jsx("div",{className:"mt-1",children:w.map(b=>L.jsx(TS,{nodeId:b,dsl:e,selectedNodeId:n,renamingNodeId:r,renamingValue:i,setRenamingValue:o,onSelectNode:a,onStartRename:u,onFinishRename:c,onDeleteNode:d,level:p+1,visited:y},b))})]})},ive=()=>{var Ze,Kt,Xt,$t,po;const{questId:t}=$2(),e=bS(),[n,r]=R.useState(null),[i,o]=R.useState(null),[a,u]=R.useState("start"),[c,d]=R.useState(!0),[p,y]=R.useState(!1),[_,E]=R.useState(""),[w,b]=R.useState(null),[C,P]=R.useState({}),[N,D]=R.useState(null),[U,$]=R.useState(""),[G,k]=R.useState(null),O=R.useRef(!1),M=R.useCallback((oe,me=!1)=>{o(oe),me||(O.current=!0)},[]);R.useEffect(()=>{if(!t){E("Квест не найден."),d(!1);return}d(!0);const oe=na(mr,"games",t),me=vE(oe,we=>{if(we.exists()){const Te={id:we.id,...we.data()};r(Te),O.current||M(JSON.parse(JSON.stringify(Te.dsl)),!0)}else E("Квест не найден.");d(!1)},we=>{console.error(we),E("Ошибка загрузки квеста."),d(!1)});return()=>me()},[t,M]),R.useEffect(()=>{k(null)},[a]);const q=async()=>{if(!(!t||!i)){y(!0);try{await xw(na(mr,"games",t),{title:i.meta.title,dsl:i,updatedAt:fd()}),b(new Date),O.current=!1}catch(oe){console.error(oe),alert("Не удалось сохранить изменения.")}finally{y(!1)}}},F=(oe,me,we)=>{if(!i)return;const Te={...i,nodes:{...i.nodes}};Te.nodes[oe]={...Te.nodes[oe],[me]:we},M(Te)},z=(oe,me,we,Te)=>{if(!i)return;const be={...i,nodes:{...i.nodes}},ze=[...be.nodes[oe].choices||[]],gt={...ze[me]};Te===void 0||Array.isArray(Te)&&Te.length===0?delete gt[we]:gt[we]=Te,ze[me]=gt,be.nodes[oe]={...be.nodes[oe],choices:ze},M(be)},H=(oe,me,we)=>{var Te,be,ze,gt,We,Re,Xe,Ct,pi;if(i)if(we==="__CREATE_NEW__"){const nr=prompt("Введите ID нового узла (латиницей, без пробелов):");if(nr&&/^[a-zA-Z0-9_]+$/.test(nr)){if(i.nodes[nr]){alert("Узел с таким ID уже существует.");const ki=document.getElementById(`choice-to-${me}`);ki&&(ki.value=((ze=(be=(Te=i.nodes[oe])==null?void 0:Te.choices)==null?void 0:be[me])==null?void 0:ze.to)||"");return}const pn={...i,nodes:{...i.nodes}};pn.nodes[nr]={text:"Новый узел..."};const mi=[...pn.nodes[oe].choices||[]];mi[me]={...mi[me],to:nr},pn.nodes[oe]={...pn.nodes[oe],choices:mi},M(pn),u(nr)}else if(nr){alert("Неверный формат ID. Используйте только латинские буквы, цифры и подчеркивание.");const pn=document.getElementById(`choice-to-${me}`);pn&&(pn.value=((Re=(We=(gt=i.nodes[oe])==null?void 0:gt.choices)==null?void 0:We[me])==null?void 0:Re.to)||"")}else{const pn=document.getElementById(`choice-to-${me}`);pn&&(pn.value=((pi=(Ct=(Xe=i.nodes[oe])==null?void 0:Xe.choices)==null?void 0:Ct[me])==null?void 0:pi.to)||"")}}else z(oe,me,"to",we)},Ee=oe=>{if(!i)return;const me={...i,nodes:{...i.nodes}},we=[...me.nodes[oe].choices||[]];we.push({label:"",to:""}),me.nodes[oe]={...me.nodes[oe],choices:we},M(me)},xe=(oe,me)=>{if(!i||!window.confirm("Вы уверены, что хотите удалить этот выбор?"))return;const we={...i,nodes:{...i.nodes}},Te=[...we.nodes[oe].choices||[]];Te.splice(me,1),we.nodes[oe]={...we.nodes[oe],choices:Te},M(we)},Z=()=>{if(!i)return;const oe=prompt("Введите ID нового узла (латиницей, без пробелов):");if(oe&&/^[a-zA-Z0-9_]+$/.test(oe)){if(i.nodes[oe]){alert("Узел с таким ID уже существует.");return}const me={...i,nodes:{...i.nodes}};me.nodes[oe]={text:"Новый узел..."},M(me),u(oe)}else oe&&alert("Неверный формат ID. Используйте только латинские буквы, цифры и подчеркивание.")},de=(oe,me)=>{if(!i||!me||me===oe||oe==="start")return;if(!/^[a-zA-Z0-9_]+$/.test(me)){alert("Неверный формат ID. Используйте только латинские буквы, цифры и подчеркивание.");return}if(i.nodes[me]){alert("Узел с таким ID уже существует.");return}const we=JSON.parse(JSON.stringify(i));we.nodes[me]=we.nodes[oe],delete we.nodes[oe],Object.values(we.nodes).forEach(Te=>{Te.choices&&Te.choices.forEach(be=>{be.to===oe&&(be.to=me)}),Te.branch&&Te.branch.forEach(be=>{be.to===oe&&(be.to=me)}),Te.fallback===oe&&(Te.fallback=me)}),M(we),a===oe&&u(me)},ye=oe=>{D(oe),$(oe)},Me=(oe,me)=>{me.trim()&&me.trim()!==oe&&de(oe,me.trim()),D(null),$("")},j=oe=>{if(!i||oe==="start"||!window.confirm(`Вы уверены, что хотите удалить узел "${oe}"? Это действие необратимо.`))return;const me=[];if(Object.entries(i.nodes).forEach(([Te,be])=>{if(Te===oe)return;((be.choices||[]).some(gt=>gt.to===oe)||(be.branch||[]).some(gt=>gt.to===oe)||be.fallback===oe)&&me.push(Te)}),me.length>0&&!window.confirm(`Внимание! На этот узел ссылаются следующие узлы: ${me.join(", ")}. Все ссылки будут удалены. Продолжить?`))return;const we=JSON.parse(JSON.stringify(i));delete we.nodes[oe],Object.values(we.nodes).forEach(Te=>{Te.choices&&(Te.choices=Te.choices.map(be=>be.to===oe?{...be,to:""}:be)),Te.branch&&(Te.branch=Te.branch.filter(be=>be.to!==oe)),Te.fallback===oe&&(Te.fallback=void 0)}),a===oe&&u("start"),M(we)},ue=async oe=>{var we;if(!i||!t)return;const me=(we=document.getElementById(`image-prompt-${oe}`))==null?void 0:we.value;if(!me){alert("Пожалуйста, введите описание для генерации изображения.");return}P(Te=>({...Te,[oe]:{loading:!0,error:""}}));try{const Te=await Qye(me),be=`${oe}_${Date.now()}`,ze=pK(TK,`quests/${t}/images/${be}.jpeg`),gt=Te.split(",")[1],We=await dK(ze,gt,"base64",{contentType:"image/jpeg"}),Re=await hK(We.ref),Xe=JSON.parse(JSON.stringify(i));Xe.assets.images||(Xe.assets.images={}),Xe.assets.images[be]=Re,Xe.nodes[oe].bg=be,M(Xe),P(Ct=>({...Ct,[oe]:{loading:!1,error:""}}))}catch(Te){let be=Te.message||"Ошибка генерации или загрузки";Te instanceof Mi&&Te.code==="storage/unauthorized"&&(be="Ошибка прав доступа. Проверьте правила безопасности Firebase Storage."),P(ze=>({...ze,[oe]:{loading:!1,error:be}}))}},ie=oe=>oe?oe.all&&Array.isArray(oe.all)?oe.all:typeof oe=="object"&&!oe.all&&!oe.any&&!oe.not?[oe]:[]:[],pe=oe=>{if(oe.length!==0)return oe.length===1?oe[0]:{all:oe}},Ne=oe=>{var be;const me=(be=Se==null?void 0:Se.choices)==null?void 0:be[oe];if(!me)return;const Te=[...ie(me.when),{has_item:""}];z(a,oe,"when",pe(Te))},ke=(oe,me,we)=>{var gt;const Te=(gt=Se==null?void 0:Se.choices)==null?void 0:gt[oe];if(!Te)return;const ze=[...ie(Te.when)];ze[me]=we,z(a,oe,"when",pe(ze))},Ue=(oe,me)=>{var ze;const we=(ze=Se==null?void 0:Se.choices)==null?void 0:ze[oe];if(!we)return;const be=ie(we.when).filter((gt,We)=>We!==me);z(a,oe,"when",pe(be))},Gt=oe=>{var be;const me=(be=Se==null?void 0:Se.choices)==null?void 0:be[oe];if(!me)return;const Te=[...me.effects||[],{set:{variable:""}}];z(a,oe,"effects",Te)},ut=(oe,me,we)=>{var gt;const Te=(gt=Se==null?void 0:Se.choices)==null?void 0:gt[oe];if(!Te)return;const ze=[...Te.effects||[]];ze[me]=we,z(a,oe,"effects",ze)},ve=(oe,me)=>{var ze;const we=(ze=Se==null?void 0:Se.choices)==null?void 0:ze[oe];if(!we)return;const be=(we.effects||[]).filter((gt,We)=>We!==me);z(a,oe,"effects",be)};if(c)return L.jsx("div",{className:"text-center p-8 font-display text-2xl text-stone-400 animate-pulse",children:"ЗАГРУЗКА РЕДАКТОРА..."});if(_)return L.jsx("div",{className:"text-center p-8 text-2xl text-red-500",children:_});if(!n||!i)return null;const Se=i.nodes[a],He=new Set,he=Object.keys(i.nodes),It=he.includes("start")?"start":he[0]||null;return L.jsxs("div",{className:"container mx-auto py-8 px-4",children:[L.jsxs("div",{className:"flex justify-between items-center mb-6",children:[L.jsxs("div",{className:"flex items-center gap-4 flex-grow min-w-0",children:[L.jsx("button",{onClick:()=>e("/admin"),className:"bg-stone-700 hover:bg-stone-600 text-stone-200 font-semibold py-2 px-4 rounded-md transition-colors flex-shrink-0",children:"← Назад"}),L.jsx("input",{type:"text",value:i.meta.title,onChange:oe=>M({...i,meta:{...i.meta,title:oe.target.value}}),className:"font-display text-4xl text-stone-200 bg-transparent border-0 focus:ring-2 focus:ring-amber-500 rounded-md p-1 truncate"})]}),L.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[w&&L.jsxs("span",{className:"text-sm text-stone-400",children:["Сохранено: ",w.toLocaleTimeString()]}),L.jsxs("button",{onClick:q,disabled:p,className:"flex items-center justify-center font-display text-xl bg-amber-500 text-stone-900 py-2 px-6 rounded-md hover:bg-amber-400 transition-colors disabled:bg-stone-600 disabled:cursor-not-allowed",children:[L.jsx(Zye,{})," ",p?"СОХРАНЕНИЕ...":"СОХРАНИТЬ"]})]})]}),L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[L.jsxs("div",{className:"md:col-span-1 bg-stone-800/50 border border-stone-700 p-4 rounded-md flex flex-col h-full max-h-[75vh]",children:[L.jsx("h3",{className:"font-display text-2xl text-amber-400 mb-4 flex-shrink-0",children:"Узлы Сценария"}),L.jsxs("div",{className:"flex-grow overflow-y-auto space-y-1 pr-2",children:[It&&i.nodes[It]&&L.jsx(TS,{nodeId:It,dsl:i,selectedNodeId:a,onSelectNode:u,onStartRename:ye,onFinishRename:Me,onDeleteNode:j,renamingNodeId:N,renamingValue:U,setRenamingValue:$,visited:He}),he.filter(oe=>!He.has(oe)).map(oe=>L.jsx(TS,{nodeId:oe,dsl:i,selectedNodeId:a,onSelectNode:u,onStartRename:ye,onFinishRename:Me,onDeleteNode:j,renamingNodeId:N,renamingValue:U,setRenamingValue:$,visited:He},oe))]}),L.jsxs("button",{onClick:Z,className:"mt-4 w-full flex items-center justify-center bg-stone-600 hover:bg-stone-500 text-stone-200 font-semibold py-2 px-4 rounded-md transition-colors flex-shrink-0",children:[L.jsx(nve,{})," Создать узел"]})]}),L.jsx("div",{className:"md:col-span-3 bg-stone-800/50 border border-stone-700 p-6 rounded-md space-y-6 max-h-[75vh] overflow-y-auto",children:Se?L.jsxs("div",{children:[L.jsxs("h3",{className:"font-display text-3xl text-stone-100 mb-4 border-b-2 border-amber-500 pb-2",children:["Узел: ",L.jsx("span",{className:"text-amber-400",children:a})]}),L.jsxs("div",{children:[L.jsx("label",{htmlFor:"nodeText",className:"text-sm font-bold text-stone-400 block mb-1",children:"Текст узла:"}),L.jsx("textarea",{id:"nodeText",value:Se.text,onChange:oe=>F(a,"text",oe.target.value),className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all h-40 resize-y"})]}),L.jsxs("div",{className:"space-y-2",children:[L.jsx("label",{className:"text-sm font-bold text-stone-400 block",children:"Фоновое изображение (AI):"}),L.jsxs("div",{className:"aspect-video bg-stone-900 rounded-md overflow-hidden relative flex items-center justify-center",children:[i.assets.images[Se.bg||""]?L.jsx("img",{src:i.assets.images[Se.bg||""],alt:"Generated background",className:"w-full h-full object-cover"}):L.jsx("span",{className:"text-stone-500",children:"Нет изображения"}),((Ze=C[a])==null?void 0:Ze.loading)&&L.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:L.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-500"})})]}),L.jsxs("div",{className:"flex gap-2",children:[L.jsx("input",{id:`image-prompt-${a}`,type:"text",placeholder:"Опишите сцену... (на английском)",className:"flex-grow bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),L.jsxs("button",{onClick:()=>ue(a),disabled:(Kt=C[a])==null?void 0:Kt.loading,className:"flex items-center justify-center font-display text-lg bg-sky-600 text-white py-2 px-4 rounded-md hover:bg-sky-500 transition-colors disabled:bg-stone-600",children:[L.jsx(eve,{})," ",(Xt=C[a])!=null&&Xt.loading?"Генерация...":"Создать"]})]}),(($t=C[a])==null?void 0:$t.error)&&L.jsx("p",{className:"text-red-500 text-sm mt-1",children:(po=C[a])==null?void 0:po.error})]}),L.jsxs("div",{children:[L.jsx("h4",{className:"text-lg font-bold text-stone-300 mt-6 mb-2",children:"Выборы:"}),L.jsxs("div",{className:"space-y-2",children:[(Se.choices||[]).map((oe,me)=>L.jsxs("div",{className:"bg-stone-900/50 p-3 rounded-md transition-all",children:[L.jsxs("div",{className:"flex gap-2 items-center",children:[L.jsx("input",{type:"text",value:oe.label,onChange:we=>z(a,me,"label",we.target.value),placeholder:"Текст выбора",className:"flex-grow bg-stone-700 text-stone-200 border border-stone-600 rounded px-2 py-1 focus:ring-1 focus:ring-amber-500 outline-none"}),L.jsx("span",{className:"text-stone-400",children:"→"}),L.jsxs("select",{id:`choice-to-${me}`,value:oe.to||"",onChange:we=>H(a,me,we.target.value),className:"w-48 bg-stone-700 text-stone-200 border border-stone-600 rounded px-2 py-1 focus:ring-1 focus:ring-amber-500 outline-none",children:[L.jsx("option",{value:"",disabled:!0,children:"Выберите узел..."}),L.jsx("option",{value:"__CREATE_NEW__",className:"text-sky-400 font-semibold",children:"[ Создать новый узел... ]"}),he.map(we=>L.jsx("option",{value:we,children:we},we))]}),L.jsx("button",{onClick:()=>k(G===me?null:me),title:"Условия и эффекты",children:L.jsx(rve,{})}),L.jsx("button",{onClick:()=>xe(a,me),title:"Удалить выбор",children:L.jsx($6,{})})]}),G===me&&L.jsxs("div",{className:"mt-3 space-y-4 border-t border-stone-700 pt-3",children:[L.jsxs("div",{children:[L.jsx("h5",{className:"text-sm font-bold text-stone-400 mb-2",children:"Условия видимости (должны быть выполнены все)"}),L.jsx("div",{className:"space-y-2",children:ie(oe.when).map((we,Te)=>{const be=Object.keys(we)[0]||"has_item",ze=we[be],gt=Re=>{let Xe={};Re==="var_eq"||Re==="var_neq"?Xe={[Re]:{"":""}}:Xe={[Re]:""},ke(me,Te,Xe)},We=(Re,Xe)=>{if(be==="var_eq"||be==="var_neq"){const Ct=Object.keys(ze)[0],pi=ze[Ct],nr=Re==="key"?{[Xe]:pi}:{[Ct]:Xe};ke(me,Te,{[be]:nr})}else ke(me,Te,{[be]:Xe})};return L.jsxs("div",{className:"flex items-center gap-2 bg-stone-800 p-2 rounded",children:[L.jsxs("select",{value:be,onChange:Re=>gt(Re.target.value),className:"bg-stone-700 text-stone-200 border border-stone-600 rounded px-2 py-1 text-sm outline-none",children:[L.jsx("option",{value:"has_item",children:"Инвентарь: Есть"}),L.jsx("option",{value:"missing_item",children:"Инвентарь: Нет"}),L.jsx("option",{value:"var_eq",children:"Переменная ="}),L.jsx("option",{value:"var_neq",children:"Переменная ≠"})]}),be==="var_eq"||be==="var_neq"?L.jsxs(L.Fragment,{children:[L.jsx("input",{type:"text",value:Object.keys(ze)[0]||"",onChange:Re=>We("key",Re.target.value),placeholder:"variable",className:"w-24 bg-stone-700 text-stone-200 border border-stone-600 rounded px-2 py-1 text-sm outline-none"}),L.jsx("input",{type:"text",value:Object.values(ze)[0]||"",onChange:Re=>We("value",Re.target.value),placeholder:"value",className:"w-24 bg-stone-700 text-stone-200 border border-stone-600 rounded px-2 py-1 text-sm outline-none"})]}):L.jsx("input",{type:"text",value:ze,onChange:Re=>We("value",Re.target.value),placeholder:"item_id",className:"flex-grow bg-stone-700 text-stone-200 border border-stone-600 rounded px-2 py-1 text-sm outline-none"}),L.jsx("button",{onClick:()=>Ue(me,Te),className:"text-stone-500 hover:text-red-400",children:L.jsx(M2,{})})]},Te)})}),L.jsx("button",{onClick:()=>Ne(me),className:"mt-2 text-sky-400 hover:text-sky-300 text-sm font-semibold",children:"+ Добавить условие"})]}),L.jsxs("div",{children:[L.jsx("h5",{className:"text-sm font-bold text-stone-400 mb-2",children:"Эффекты при выборе"}),L.jsx("div",{className:"space-y-2",children:(oe.effects||[]).map((we,Te)=>{const be=Object.keys(we)[0],ze=we[be],gt=Re=>{let Xe={};Re==="set"||Re==="add"?Xe={[Re]:{"":""}}:Xe={[Re]:""},ut(me,Te,Xe)},We=(Re,Xe)=>{if(be==="set"||be==="add"){const Ct=Object.keys(ze)[0],pi=ze[Ct],nr=Re==="key"?{[Xe]:pi}:{[Ct]:Xe};ut(me,Te,{[be]:nr})}else ut(me,Te,{[be]:Xe})};return L.jsxs("div",{className:"flex items-center gap-2 bg-stone-800 p-2 rounded",children:[L.jsxs("select",{value:be,onChange:Re=>gt(Re.target.value),className:"bg-stone-700 text-stone-200 border border-stone-600 rounded px-2 py-1 text-sm outline-none",children:[L.jsx("option",{value:"set",children:"Установить переменную"}),L.jsx("option",{value:"add",children:"Добавить к переменной"}),L.jsx("option",{value:"inv_add",children:"Добавить предмет"}),L.jsx("option",{value:"inv_remove",children:"Удалить предмет"})]}),be==="set"||be==="add"?L.jsxs(L.Fragment,{children:[L.jsx("input",{type:"text",value:ze&&typeof ze=="object"&&Object.keys(ze)[0]||"",onChange:Re=>We("key",Re.target.value),placeholder:"variable",className:"w-24 bg-stone-700 text-stone-200 border border-stone-600 rounded px-2 py-1 text-sm outline-none"}),L.jsx("input",{type:be==="add"?"number":"text",value:ze&&typeof ze=="object"?String(Object.values(ze)[0]??""):"",onChange:Re=>We("value",Re.target.value),placeholder:"value",className:"w-24 bg-stone-700 text-stone-200 border border-stone-600 rounded px-2 py-1 text-sm outline-none"})]}):L.jsx("input",{type:"text",value:String(ze??""),onChange:Re=>We("value",Re.target.value),placeholder:"item_id",className:"flex-grow bg-stone-700 text-stone-200 border border-stone-600 rounded px-2 py-1 text-sm outline-none"}),L.jsx("button",{onClick:()=>ve(me,Te),className:"text-stone-500 hover:text-red-400",children:L.jsx(M2,{})})]},Te)})}),L.jsx("button",{onClick:()=>Gt(me),className:"mt-2 text-sky-400 hover:text-sky-300 text-sm font-semibold",children:"+ Добавить эффект"})]})]})]},me)),L.jsx("button",{onClick:()=>Ee(a),className:"w-full text-stone-300 hover:bg-stone-700 p-2 rounded-md transition-colors text-sm font-semibold",children:"+ Добавить выбор"})]})]})]}):L.jsx("p",{className:"text-stone-400",children:"Выберите узел для редактирования"})})]})]})},ove=()=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:L.jsx("path",{fillRule:"evenodd",d:"M10 2a4 4 0 00-4 4v4H4a2 2 0 00-2 2v6a2 2 0 002 2h12a2 2 0 002-2v-6a2 2 0 00-2-2h-2V6a4 4 0 00-4-4zm-2 6V6a2 2 0 114 0v4H8z",clipRule:"evenodd"})}),qT=()=>{const[t,e]=R.useState(""),[n,r]=R.useState(""),[i,o]=R.useState(""),a=async u=>{u.preventDefault(),o("");try{await N$(hd,t,n)}catch(c){o("Ошибка входа. Проверьте почту и пароль."),console.error(c)}};return L.jsx("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:L.jsxs("div",{className:"w-full max-w-sm p-8 bg-stone-800/50 border border-stone-700 rounded-md shadow-lg",children:[L.jsx("h2",{className:"font-display text-3xl text-center text-stone-200 mb-6 tracking-wider",children:"ВХОД В ПАНЕЛЬ"}),L.jsxs("form",{onSubmit:a,className:"space-y-4",children:[L.jsx("input",{type:"email",value:t,onChange:u=>e(u.target.value),placeholder:"Email",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all","aria-label":"Email",required:!0}),L.jsx("input",{type:"password",value:n,onChange:u=>r(u.target.value),placeholder:"Пароль",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all","aria-label":"Password",required:!0}),L.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center font-display text-xl bg-amber-500 text-stone-900 py-2 rounded-md hover:bg-amber-400 transition-colors",children:[L.jsx(ove,{}),"ВОЙТИ"]}),i&&L.jsx("p",{className:"text-red-500 text-center text-sm mt-4",children:i})]})]})})},sve=()=>L.jsx("header",{className:"bg-black/50 border-b-2 border-amber-500/50 p-4 sticky top-0 z-20 backdrop-blur-sm",children:L.jsxs("div",{className:"container mx-auto text-center",children:[L.jsx("a",{href:"/#",className:"font-display text-4xl md:text-5xl text-amber-400 tracking-widest no-underline",children:"B_KOMHATE"}),L.jsx("p",{className:"text-stone-400 text-sm tracking-wider",children:"QUEST & CODEWORD PLATFORM"})]})}),N2=()=>L.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center p-4",children:[L.jsx("h2",{className:"font-display text-6xl text-red-500",children:"404"}),L.jsx("p",{className:"text-stone-300 text-xl mt-2",children:"Страница не найдена."}),L.jsx("a",{href:"/#/admin",className:"text-amber-400 hover:text-amber-300 mt-4",children:"Перейти в панель управления"})]}),ave=()=>{const{currentUser:t,loading:e}=EK();return fo(),e?L.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:L.jsx("p",{className:"font-display text-2xl text-stone-400 animate-pulse",children:"ИНИЦИАЛИЗАЦИЯ СИСТЕМЫ..."})}):t?L.jsxs(L1,{children:[L.jsx(Pr,{path:"/admin",element:L.jsx(Sle,{})}),L.jsx(Pr,{path:"/admin/quest/:questId",element:L.jsx(ive,{})}),L.jsx(Pr,{path:"/",element:L.jsx(gq,{to:"/admin",replace:!0})}),L.jsx(Pr,{path:"/view",element:L.jsx(lD,{})}),L.jsx(Pr,{path:"/play/:questId",element:L.jsx(uD,{})}),L.jsx(Pr,{path:"*",element:L.jsx(N2,{})})]}):L.jsxs(L1,{children:[L.jsx(Pr,{path:"/view",element:L.jsx(lD,{})}),L.jsx(Pr,{path:"/play/:questId",element:L.jsx(uD,{})}),L.jsx(Pr,{path:"/admin",element:L.jsx(qT,{})}),L.jsx(Pr,{path:"/admin/*",element:L.jsx(qT,{})}),L.jsx(Pr,{path:"/",element:L.jsx(qT,{})}),L.jsx(Pr,{path:"*",element:L.jsx(N2,{})})]})},lve=()=>L.jsx("div",{className:"min-h-screen",children:L.jsx(SK,{children:L.jsxs(Fq,{children:[L.jsx(sve,{}),L.jsx("main",{children:L.jsx(ave,{})})]})})}),H6=document.getElementById("root");if(!H6)throw new Error("Could not find root element to mount to");const uve=xF.createRoot(H6);uve.render(L.jsx(D2.StrictMode,{children:L.jsx(lve,{})}));
