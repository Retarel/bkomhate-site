var wz=Object.defineProperty;var Ez=(t,e,n)=>e in t?wz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var rw=(t,e,n)=>Ez(t,typeof e!="symbol"?e+"":e,n);function Tz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function qi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iw={exports:{}},od={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NC;function Az(){if(NC)return od;NC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var u=null;if(a!==void 0&&(u=""+a),i.key!==void 0&&(u=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:u,ref:i!==void 0?i:null,props:a}}return od.Fragment=e,od.jsx=n,od.jsxs=n,od}var kC;function Sz(){return kC||(kC=1,iw.exports=Az()),iw.exports}var H=Sz(),aw={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MC;function Iz(){if(MC)return ze;MC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function v(F){return F===null||typeof F!="object"?null:(F=p&&F[p]||F["@@iterator"],typeof F=="function"?F:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function A(F,ue,ae){this.props=F,this.context=ue,this.refs=T,this.updater=ae||b}A.prototype.isReactComponent={},A.prototype.setState=function(F,ue){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ue,"setState")},A.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function R(){}R.prototype=A.prototype;function C(F,ue,ae){this.props=F,this.context=ue,this.refs=T,this.updater=ae||b}var P=C.prototype=new R;P.constructor=C,E(P,A.prototype),P.isPureReactComponent=!0;var U=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function D(F,ue,ae,me,Re,De){return ae=De.ref,{$$typeof:t,type:F,key:ue,ref:ae!==void 0?ae:null,props:De}}function N(F,ue){return D(F.type,ue,void 0,void 0,void 0,F.props)}function M(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function B(F){var ue={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ae){return ue[ae]})}var j=/\/+/g;function q(F,ue){return typeof F=="object"&&F!==null&&F.key!=null?B(""+F.key):ue.toString(36)}function V(){}function ve(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(V,V):(F.status="pending",F.then(function(ue){F.status==="pending"&&(F.status="fulfilled",F.value=ue)},function(ue){F.status==="pending"&&(F.status="rejected",F.reason=ue)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function Ee(F,ue,ae,me,Re){var De=typeof F;(De==="undefined"||De==="boolean")&&(F=null);var Me=!1;if(F===null)Me=!0;else switch(De){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(F.$$typeof){case t:case e:Me=!0;break;case m:return Me=F._init,Ee(Me(F._payload),ue,ae,me,Re)}}if(Me)return Re=Re(F),Me=me===""?"."+q(F,0):me,U(Re)?(ae="",Me!=null&&(ae=Me.replace(j,"$&/")+"/"),Ee(Re,ue,ae,"",function(_e){return _e})):Re!=null&&(M(Re)&&(Re=N(Re,ae+(Re.key==null||F&&F.key===Re.key?"":(""+Re.key).replace(j,"$&/")+"/")+Me)),ue.push(Re)),1;Me=0;var en=me===""?".":me+":";if(U(F))for(var mt=0;mt<F.length;mt++)me=F[mt],De=en+q(me,mt),Me+=Ee(me,ue,ae,De,Re);else if(mt=v(F),typeof mt=="function")for(F=mt.call(F),mt=0;!(me=F.next()).done;)me=me.value,De=en+q(me,mt++),Me+=Ee(me,ue,ae,De,Re);else if(De==="object"){if(typeof F.then=="function")return Ee(ve(F),ue,ae,me,Re);throw ue=String(F),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return Me}function Z(F,ue,ae){if(F==null)return F;var me=[],Re=0;return Ee(F,me,"","",function(De){return ue.call(ae,De,Re++)}),me}function ce(F){if(F._status===-1){var ue=F._result;ue=ue(),ue.then(function(ae){(F._status===0||F._status===-1)&&(F._status=1,F._result=ae)},function(ae){(F._status===0||F._status===-1)&&(F._status=2,F._result=ae)}),F._status===-1&&(F._status=0,F._result=ue)}if(F._status===1)return F._result.default;throw F._result}var we=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function Le(){}return ze.Children={map:Z,forEach:function(F,ue,ae){Z(F,function(){ue.apply(this,arguments)},ae)},count:function(F){var ue=0;return Z(F,function(){ue++}),ue},toArray:function(F){return Z(F,function(ue){return ue})||[]},only:function(F){if(!M(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},ze.Component=A,ze.Fragment=n,ze.Profiler=i,ze.PureComponent=C,ze.StrictMode=r,ze.Suspense=f,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,ze.__COMPILER_RUNTIME={__proto__:null,c:function(F){return L.H.useMemoCache(F)}},ze.cache=function(F){return function(){return F.apply(null,arguments)}},ze.cloneElement=function(F,ue,ae){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var me=E({},F.props),Re=F.key,De=void 0;if(ue!=null)for(Me in ue.ref!==void 0&&(De=void 0),ue.key!==void 0&&(Re=""+ue.key),ue)!$.call(ue,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&ue.ref===void 0||(me[Me]=ue[Me]);var Me=arguments.length-2;if(Me===1)me.children=ae;else if(1<Me){for(var en=Array(Me),mt=0;mt<Me;mt++)en[mt]=arguments[mt+2];me.children=en}return D(F.type,Re,void 0,void 0,De,me)},ze.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:a,_context:F},F},ze.createElement=function(F,ue,ae){var me,Re={},De=null;if(ue!=null)for(me in ue.key!==void 0&&(De=""+ue.key),ue)$.call(ue,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Re[me]=ue[me]);var Me=arguments.length-2;if(Me===1)Re.children=ae;else if(1<Me){for(var en=Array(Me),mt=0;mt<Me;mt++)en[mt]=arguments[mt+2];Re.children=en}if(F&&F.defaultProps)for(me in Me=F.defaultProps,Me)Re[me]===void 0&&(Re[me]=Me[me]);return D(F,De,void 0,void 0,null,Re)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(F){return{$$typeof:l,render:F}},ze.isValidElement=M,ze.lazy=function(F){return{$$typeof:m,_payload:{_status:-1,_result:F},_init:ce}},ze.memo=function(F,ue){return{$$typeof:h,type:F,compare:ue===void 0?null:ue}},ze.startTransition=function(F){var ue=L.T,ae={};L.T=ae;try{var me=F(),Re=L.S;Re!==null&&Re(ae,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(Le,we)}catch(De){we(De)}finally{L.T=ue}},ze.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},ze.use=function(F){return L.H.use(F)},ze.useActionState=function(F,ue,ae){return L.H.useActionState(F,ue,ae)},ze.useCallback=function(F,ue){return L.H.useCallback(F,ue)},ze.useContext=function(F){return L.H.useContext(F)},ze.useDebugValue=function(){},ze.useDeferredValue=function(F,ue){return L.H.useDeferredValue(F,ue)},ze.useEffect=function(F,ue,ae){var me=L.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(F,ue)},ze.useId=function(){return L.H.useId()},ze.useImperativeHandle=function(F,ue,ae){return L.H.useImperativeHandle(F,ue,ae)},ze.useInsertionEffect=function(F,ue){return L.H.useInsertionEffect(F,ue)},ze.useLayoutEffect=function(F,ue){return L.H.useLayoutEffect(F,ue)},ze.useMemo=function(F,ue){return L.H.useMemo(F,ue)},ze.useOptimistic=function(F,ue){return L.H.useOptimistic(F,ue)},ze.useReducer=function(F,ue,ae){return L.H.useReducer(F,ue,ae)},ze.useRef=function(F){return L.H.useRef(F)},ze.useState=function(F){return L.H.useState(F)},ze.useSyncExternalStore=function(F,ue,ae){return L.H.useSyncExternalStore(F,ue,ae)},ze.useTransition=function(){return L.H.useTransition()},ze.version="19.1.1",ze}var VC;function Cf(){return VC||(VC=1,aw.exports=Iz()),aw.exports}var x=Cf();const QM=qi(x),xz=Tz({__proto__:null,default:QM},[x]);var sw={exports:{}},ud={},ow={exports:{}},uw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LC;function Rz(){return LC||(LC=1,(function(t){function e(Z,ce){var we=Z.length;Z.push(ce);e:for(;0<we;){var Le=we-1>>>1,F=Z[Le];if(0<i(F,ce))Z[Le]=ce,Z[we]=F,we=Le;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ce=Z[0],we=Z.pop();if(we!==ce){Z[0]=we;e:for(var Le=0,F=Z.length,ue=F>>>1;Le<ue;){var ae=2*(Le+1)-1,me=Z[ae],Re=ae+1,De=Z[Re];if(0>i(me,we))Re<F&&0>i(De,me)?(Z[Le]=De,Z[Re]=we,Le=Re):(Z[Le]=me,Z[ae]=we,Le=ae);else if(Re<F&&0>i(De,we))Z[Le]=De,Z[Re]=we,Le=Re;else break e}}return ce}function i(Z,ce){var we=Z.sortIndex-ce.sortIndex;return we!==0?we:Z.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,l=u.now();t.unstable_now=function(){return u.now()-l}}var f=[],h=[],m=1,p=null,v=3,b=!1,E=!1,T=!1,A=!1,R=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function U(Z){for(var ce=n(h);ce!==null;){if(ce.callback===null)r(h);else if(ce.startTime<=Z)r(h),ce.sortIndex=ce.expirationTime,e(f,ce);else break;ce=n(h)}}function L(Z){if(T=!1,U(Z),!E)if(n(f)!==null)E=!0,$||($=!0,q());else{var ce=n(h);ce!==null&&Ee(L,ce.startTime-Z)}}var $=!1,D=-1,N=5,M=-1;function B(){return A?!0:!(t.unstable_now()-M<N)}function j(){if(A=!1,$){var Z=t.unstable_now();M=Z;var ce=!0;try{e:{E=!1,T&&(T=!1,C(D),D=-1),b=!0;var we=v;try{t:{for(U(Z),p=n(f);p!==null&&!(p.expirationTime>Z&&B());){var Le=p.callback;if(typeof Le=="function"){p.callback=null,v=p.priorityLevel;var F=Le(p.expirationTime<=Z);if(Z=t.unstable_now(),typeof F=="function"){p.callback=F,U(Z),ce=!0;break t}p===n(f)&&r(f),U(Z)}else r(f);p=n(f)}if(p!==null)ce=!0;else{var ue=n(h);ue!==null&&Ee(L,ue.startTime-Z),ce=!1}}break e}finally{p=null,v=we,b=!1}ce=void 0}}finally{ce?q():$=!1}}}var q;if(typeof P=="function")q=function(){P(j)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ve=V.port2;V.port1.onmessage=j,q=function(){ve.postMessage(null)}}else q=function(){R(j,0)};function Ee(Z,ce){D=R(function(){Z(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(Z){switch(v){case 1:case 2:case 3:var ce=3;break;default:ce=v}var we=v;v=ce;try{return Z()}finally{v=we}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(Z,ce){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var we=v;v=Z;try{return ce()}finally{v=we}},t.unstable_scheduleCallback=function(Z,ce,we){var Le=t.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Le+we:Le):we=Le,Z){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=we+F,Z={id:m++,callback:ce,priorityLevel:Z,startTime:we,expirationTime:F,sortIndex:-1},we>Le?(Z.sortIndex=we,e(h,Z),n(f)===null&&Z===n(h)&&(T?(C(D),D=-1):T=!0,Ee(L,we-Le))):(Z.sortIndex=F,e(f,Z),E||b||(E=!0,$||($=!0,q()))),Z},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(Z){var ce=v;return function(){var we=v;v=ce;try{return Z.apply(this,arguments)}finally{v=we}}}})(uw)),uw}var jC;function Pz(){return jC||(jC=1,ow.exports=Rz()),ow.exports}var lw={exports:{}},er={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UC;function Cz(){if(UC)return er;UC=1;var t=Cf();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(f,h,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:f,containerInfo:h,implementation:m}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return er.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,er.createPortal=function(f,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(f,h,null,m)},er.flushSync=function(f){var h=u.T,m=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=h,r.p=m,r.d.f()}},er.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},er.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},er.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var m=h.as,p=l(m,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:b}):m==="script"&&r.d.X(f,{crossOrigin:p,integrity:v,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},er.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=l(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},er.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,p=l(m,h.crossOrigin);r.d.L(f,m,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},er.preloadModule=function(f,h){if(typeof f=="string")if(h){var m=l(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},er.requestFormReset=function(f){r.d.r(f)},er.unstable_batchedUpdates=function(f,h){return f(h)},er.useFormState=function(f,h,m){return u.H.useFormState(f,h,m)},er.useFormStatus=function(){return u.H.useHostTransitionStatus()},er.version="19.1.1",er}var BC;function XM(){if(BC)return lw.exports;BC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),lw.exports=Cz(),lw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qC;function Oz(){if(qC)return ud;qC=1;var t=Pz(),e=Cf(),n=XM();function r(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function u(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function l(s){if(a(s)!==s)throw Error(r(188))}function f(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(r(188));return o!==s?null:s}for(var c=s,d=o;;){var y=c.return;if(y===null)break;var _=y.alternate;if(_===null){if(d=y.return,d!==null){c=d;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===c)return l(y),s;if(_===d)return l(y),o;_=_.sibling}throw Error(r(188))}if(c.return!==d.return)c=y,d=_;else{for(var I=!1,O=y.child;O;){if(O===c){I=!0,c=y,d=_;break}if(O===d){I=!0,d=y,c=_;break}O=O.sibling}if(!I){for(O=_.child;O;){if(O===c){I=!0,c=_,d=y;break}if(O===d){I=!0,d=_,c=y;break}O=O.sibling}if(!I)throw Error(r(189))}}if(c.alternate!==d)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?s:o}function h(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=h(s),o!==null)return o;s=s.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),P=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function q(s){return s===null||typeof s!="object"?null:(s=j&&s[j]||s["@@iterator"],typeof s=="function"?s:null)}var V=Symbol.for("react.client.reference");function ve(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===V?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case A:return"Profiler";case T:return"StrictMode";case L:return"Suspense";case $:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case P:return(s.displayName||"Context")+".Provider";case C:return(s._context.displayName||"Context")+".Consumer";case U:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return o=s.displayName||null,o!==null?o:ve(s.type)||"Memo";case N:o=s._payload,s=s._init;try{return ve(s(o))}catch{}}return null}var Ee=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},Le=[],F=-1;function ue(s){return{current:s}}function ae(s){0>F||(s.current=Le[F],Le[F]=null,F--)}function me(s,o){F++,Le[F]=s.current,s.current=o}var Re=ue(null),De=ue(null),Me=ue(null),en=ue(null);function mt(s,o){switch(me(Me,o),me(De,s),me(Re,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?oC(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=oC(o),s=uC(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ae(Re),me(Re,s)}function _e(){ae(Re),ae(De),ae(Me)}function Ue(s){s.memoizedState!==null&&me(en,s);var o=Re.current,c=uC(o,s.type);o!==c&&(me(De,s),me(Re,c))}function Be(s){De.current===s&&(ae(Re),ae(De)),en.current===s&&(ae(en),nd._currentValue=we)}var he=Object.prototype.hasOwnProperty,Bt=t.unstable_scheduleCallback,Qe=t.unstable_cancelCallback,hn=t.unstable_shouldYield,Sn=t.unstable_requestPaint,tn=t.unstable_now,Ol=t.unstable_getCurrentPriorityLevel,eh=t.unstable_ImmediatePriority,Dl=t.unstable_UserBlockingPriority,Yo=t.unstable_NormalPriority,i0=t.unstable_LowPriority,Nl=t.unstable_IdlePriority,th=t.log,bp=t.unstable_setDisableYieldValue,qt=null,ot=null;function Or(s){if(typeof th=="function"&&bp(s),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(qt,s)}catch{}}var Jn=Math.clz32?Math.clz32:Qo,wp=Math.log,a0=Math.LN2;function Qo(s){return s>>>=0,s===0?32:31-(wp(s)/a0|0)|0}var Xo=256,Jo=4194304;function Ii(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function kl(s,o,c){var d=s.pendingLanes;if(d===0)return 0;var y=0,_=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var O=d&134217727;return O!==0?(d=O&~_,d!==0?y=Ii(d):(I&=O,I!==0?y=Ii(I):c||(c=O&~s,c!==0&&(y=Ii(c))))):(O=d&~_,O!==0?y=Ii(O):I!==0?y=Ii(I):c||(c=d&~s,c!==0&&(y=Ii(c)))),y===0?0:o!==0&&o!==y&&(o&_)===0&&(_=y&-y,c=o&-o,_>=c||_===32&&(c&4194048)!==0)?o:y}function Zo(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function nh(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rh(){var s=Xo;return Xo<<=1,(Xo&4194048)===0&&(Xo=256),s}function ih(){var s=Jo;return Jo<<=1,(Jo&62914560)===0&&(Jo=4194304),s}function Ra(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Pa(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ah(s,o,c,d,y,_){var I=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var O=s.entanglements,z=s.expirationTimes,X=s.hiddenUpdates;for(c=I&~c;0<c;){var ie=31-Jn(c),oe=1<<ie;O[ie]=0,z[ie]=-1;var J=X[ie];if(J!==null)for(X[ie]=null,ie=0;ie<J.length;ie++){var ee=J[ie];ee!==null&&(ee.lane&=-536870913)}c&=~oe}d!==0&&Hi(s,d,0),_!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=_&~(I&~o))}function Hi(s,o,c){s.pendingLanes|=o,s.suspendedLanes&=~o;var d=31-Jn(o);s.entangledLanes|=o,s.entanglements[d]=s.entanglements[d]|1073741824|c&4194090}function sh(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var d=31-Jn(c),y=1<<d;y&o|s[d]&o&&(s[d]|=o),c&=~y}}function Ps(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ml(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Cs(){var s=ce.p;return s!==0?s:(s=window.event,s===void 0?32:xC(s.type))}function Ep(s,o){var c=ce.p;try{return ce.p=s,o()}finally{ce.p=c}}var Pt=Math.random().toString(36).slice(2),dn="__reactFiber$"+Pt,nn="__reactProps$"+Pt,ni="__reactContainer$"+Pt,oh="__reactEvents$"+Pt,s0="__reactListeners$"+Pt,Os="__reactHandles$"+Pt,Tp="__reactResources$"+Pt,eu="__reactMarker$"+Pt;function Ds(s){delete s[dn],delete s[nn],delete s[oh],delete s[s0],delete s[Os]}function Ca(s){var o=s[dn];if(o)return o;for(var c=s.parentNode;c;){if(o=c[ni]||c[dn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=hC(s);s!==null;){if(c=s[dn])return c;s=hC(s)}return o}s=c,c=s.parentNode}return null}function Gi(s){if(s=s[dn]||s[ni]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function Ki(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(r(33))}function lr(s){var o=s[Tp];return o||(o=s[Tp]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Wt(s){s[eu]=!0}var uh=new Set,Vl={};function xi(s,o){Oa(s,o),Oa(s+"Capture",o)}function Oa(s,o){for(Vl[s]=o,s=0;s<o.length;s++)uh.add(o[s])}var Ap=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sp={},tu={};function Ip(s){return he.call(tu,s)?!0:he.call(Sp,s)?!1:Ap.test(s)?tu[s]=!0:(Sp[s]=!0,!1)}function Ns(s,o,c){if(Ip(o))if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+c)}}function Wi(s,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+c)}}function Bn(s,o,c,d){if(d===null)s.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(o,c,""+d)}}var nu,xp;function Da(s){if(nu===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);nu=o&&o[1]||"",xp=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nu+s+xp}var Ll=!1;function jl(s,o){if(!s||Ll)return"";Ll=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ee){var J=ee}Reflect.construct(s,[],oe)}else{try{oe.call()}catch(ee){J=ee}s.call(oe.prototype)}}else{try{throw Error()}catch(ee){J=ee}(oe=s())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=d.DetermineComponentFrameRoot(),I=_[0],O=_[1];if(I&&O){var z=I.split(`
`),X=O.split(`
`);for(y=d=0;d<z.length&&!z[d].includes("DetermineComponentFrameRoot");)d++;for(;y<X.length&&!X[y].includes("DetermineComponentFrameRoot");)y++;if(d===z.length||y===X.length)for(d=z.length-1,y=X.length-1;1<=d&&0<=y&&z[d]!==X[y];)y--;for(;1<=d&&0<=y;d--,y--)if(z[d]!==X[y]){if(d!==1||y!==1)do if(d--,y--,0>y||z[d]!==X[y]){var ie=`
`+z[d].replace(" at new "," at ");return s.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",s.displayName)),ie}while(1<=d&&0<=y);break}}}finally{Ll=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Da(c):""}function lh(s){switch(s.tag){case 26:case 27:case 5:return Da(s.type);case 16:return Da("Lazy");case 13:return Da("Suspense");case 19:return Da("SuspenseList");case 0:case 15:return jl(s.type,!1);case 11:return jl(s.type.render,!1);case 1:return jl(s.type,!0);case 31:return Da("Activity");default:return""}}function Ul(s){try{var o="";do o+=lh(s),s=s.return;while(s);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function cr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ch(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function o0(s){var o=ch(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,_=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return y.call(this)},set:function(I){d=""+I,_.call(this,I)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(I){d=""+I},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Bl(s){s._valueTracker||(s._valueTracker=o0(s))}function fh(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),d="";return s&&(d=ch(s)?s.checked?"true":"false":s.value),s=d,s!==c?(o.setValue(s),!0):!1}function ru(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var u0=/[\n"\\]/g;function rn(s){return s.replace(u0,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Dr(s,o,c,d,y,_,I,O){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),o!=null?I==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+cr(o)):s.value!==""+cr(o)&&(s.value=""+cr(o)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),o!=null?ks(s,I,cr(o)):c!=null?ks(s,I,cr(c)):d!=null&&s.removeAttribute("value"),y==null&&_!=null&&(s.defaultChecked=!!_),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?s.name=""+cr(O):s.removeAttribute("name")}function iu(s,o,c,d,y,_,I,O){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),o!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||o!=null))return;c=c!=null?""+cr(c):"",o=o!=null?""+cr(o):c,O||o===s.value||(s.value=o),s.defaultValue=o}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=O?s.checked:!!d,s.defaultChecked=!!d,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I)}function ks(s,o,c){o==="number"&&ru(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Na(s,o,c,d){if(s=s.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<s.length;c++)y=o.hasOwnProperty("$"+s[c].value),s[c].selected!==y&&(s[c].selected=y),y&&d&&(s[c].defaultSelected=!0)}else{for(c=""+cr(c),o=null,y=0;y<s.length;y++){if(s[y].value===c){s[y].selected=!0,d&&(s[y].defaultSelected=!0);return}o!==null||s[y].disabled||(o=s[y])}o!==null&&(o.selected=!0)}}function pt(s,o,c){if(o!=null&&(o=""+cr(o),o!==s.value&&(s.value=o),c==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=c!=null?""+cr(c):""}function au(s,o,c,d){if(o==null){if(d!=null){if(c!=null)throw Error(r(92));if(Ee(d)){if(1<d.length)throw Error(r(93));d=d[0]}c=d}c==null&&(c=""),o=c}c=cr(o),s.defaultValue=c,d=s.textContent,d===c&&d!==""&&d!==null&&(s.value=d)}function ri(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rp(s,o,c){var d=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":d?s.setProperty(o,c):typeof c!="number"||c===0||su.has(o)?o==="float"?s.cssFloat=c:s[o]=(""+c).trim():s[o]=c+"px"}function hh(s,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(s=s.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var y in o)d=o[y],o.hasOwnProperty(y)&&c[y]!==d&&Rp(s,y,d)}else for(var _ in o)o.hasOwnProperty(_)&&Rp(s,_,o[_])}function dh(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var l0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),c0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ql(s){return c0.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var ka=null;function ii(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ma=null,Va=null;function mh(s){var o=Gi(s);if(o&&(s=o.stateNode)){var c=s[nn]||null;e:switch(s=o.stateNode,o.type){case"input":if(Dr(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+rn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var d=c[o];if(d!==s&&d.form===s.form){var y=d[nn]||null;if(!y)throw Error(r(90));Dr(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)d=c[o],d.form===s.form&&fh(d)}break e;case"textarea":pt(s,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&Na(s,!!c.multiple,o,!1)}}}var Yi=!1;function Pp(s,o,c){if(Yi)return s(o,c);Yi=!0;try{var d=s(o);return d}finally{if(Yi=!1,(Ma!==null||Va!==null)&&(Eg(),Ma&&(o=Ma,s=Va,Va=Ma=null,mh(o),s)))for(o=0;o<s.length;o++)mh(s[o])}}function ou(s,o){var c=s.stateNode;if(c===null)return null;var d=c[nn]||null;if(d===null)return null;c=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ai=!1;if(Ri)try{var uu={};Object.defineProperty(uu,"passive",{get:function(){ai=!0}}),window.addEventListener("test",uu,uu),window.removeEventListener("test",uu,uu)}catch{ai=!1}var Qi=null,Ms=null,La=null;function ph(){if(La)return La;var s,o=Ms,c=o.length,d,y="value"in Qi?Qi.value:Qi.textContent,_=y.length;for(s=0;s<c&&o[s]===y[s];s++);var I=c-s;for(d=1;d<=I&&o[c-d]===y[_-d];d++);return La=y.slice(s,1<d?1-d:void 0)}function Xi(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Ji(){return!0}function gh(){return!1}function In(s){function o(c,d,y,_,I){this._reactName=c,this._targetInst=y,this.type=d,this.nativeEvent=_,this.target=I,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(c=s[O],this[O]=c?c(_):_[O]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ji:gh,this.isPropagationStopped=gh,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),o}var at={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zl=In(at),lu=m({},at,{view:0,detail:0}),Cp=In(lu),Fl,$l,Zi,cu=m({},lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:du,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Zi&&(Zi&&s.type==="mousemove"?(Fl=s.screenX-Zi.screenX,$l=s.screenY-Zi.screenY):$l=Fl=0,Zi=s),Fl)},movementY:function(s){return"movementY"in s?s.movementY:$l}}),si=In(cu),Op=m({},cu,{dataTransfer:0}),f0=In(Op),fu=m({},lu,{relatedTarget:0}),Hl=In(fu),yh=m({},at,{animationName:0,elapsedTime:0,pseudoElement:0}),Gl=In(yh),Dp=m({},at,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Kl=In(Dp),h0=m({},at,{data:0}),vh=In(h0),hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Np={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _h(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=kp[s])?!!o[s]:!1}function du(){return _h}var Mp=m({},lu,{key:function(s){if(s.key){var o=hu[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Xi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Np[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:du,charCode:function(s){return s.type==="keypress"?Xi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Xi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Wl=In(Mp),Vp=m({},cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bh=In(Vp),ja=m({},lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:du}),Lp=In(ja),jp=m({},at,{propertyName:0,elapsedTime:0,pseudoElement:0}),Up=In(jp),Bp=m({},cu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Yl=In(Bp),fr=m({},at,{newState:0,oldState:0}),qp=In(fr),zp=[9,13,27,32],ea=Ri&&"CompositionEvent"in window,g=null;Ri&&"documentMode"in document&&(g=document.documentMode);var w=Ri&&"TextEvent"in window&&!g,S=Ri&&(!ea||g&&8<g&&11>=g),k=" ",W=!1;function ne(s,o){switch(s){case"keyup":return zp.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pe(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Xe=!1;function mn(s,o){switch(s){case"compositionend":return pe(o);case"keypress":return o.which!==32?null:(W=!0,k);case"textInput":return s=o.data,s===k&&W?null:s;default:return null}}function Je(s,o){if(Xe)return s==="compositionend"||!ea&&ne(s,o)?(s=ph(),La=Ms=Qi=null,Xe=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return S&&o.locale!=="ko"?null:o.data;default:return null}}var xn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pn(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!xn[s.type]:o==="textarea"}function Ua(s,o,c,d){Ma?Va?Va.push(d):Va=[d]:Ma=d,o=Rg(o,"onChange"),0<o.length&&(c=new zl("onChange","change",null,c,d),s.push({event:c,listeners:o}))}var qn=null,ta=null;function wh(s){nC(s,0)}function Fp(s){var o=Ki(s);if(fh(o))return s}function Tx(s,o){if(s==="change")return o}var Ax=!1;if(Ri){var d0;if(Ri){var m0="oninput"in document;if(!m0){var Sx=document.createElement("div");Sx.setAttribute("oninput","return;"),m0=typeof Sx.oninput=="function"}d0=m0}else d0=!1;Ax=d0&&(!document.documentMode||9<document.documentMode)}function Ix(){qn&&(qn.detachEvent("onpropertychange",xx),ta=qn=null)}function xx(s){if(s.propertyName==="value"&&Fp(ta)){var o=[];Ua(o,ta,s,ii(s)),Pp(wh,o)}}function X5(s,o,c){s==="focusin"?(Ix(),qn=o,ta=c,qn.attachEvent("onpropertychange",xx)):s==="focusout"&&Ix()}function J5(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Fp(ta)}function Z5(s,o){if(s==="click")return Fp(o)}function eq(s,o){if(s==="input"||s==="change")return Fp(o)}function tq(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Nr=typeof Object.is=="function"?Object.is:tq;function Eh(s,o){if(Nr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),d=Object.keys(o);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var y=c[d];if(!he.call(o,y)||!Nr(s[y],o[y]))return!1}return!0}function Rx(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Px(s,o){var c=Rx(s);s=0;for(var d;c;){if(c.nodeType===3){if(d=s+c.textContent.length,s<=o&&d>=o)return{node:c,offset:o-s};s=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Rx(c)}}function Cx(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Cx(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Ox(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=ru(s.document);o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=ru(s.document)}return o}function p0(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var nq=Ri&&"documentMode"in document&&11>=document.documentMode,Ql=null,g0=null,Th=null,y0=!1;function Dx(s,o,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;y0||Ql==null||Ql!==ru(d)||(d=Ql,"selectionStart"in d&&p0(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Th&&Eh(Th,d)||(Th=d,d=Rg(g0,"onSelect"),0<d.length&&(o=new zl("onSelect","select",null,o,c),s.push({event:o,listeners:d}),o.target=Ql)))}function mu(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var Xl={animationend:mu("Animation","AnimationEnd"),animationiteration:mu("Animation","AnimationIteration"),animationstart:mu("Animation","AnimationStart"),transitionrun:mu("Transition","TransitionRun"),transitionstart:mu("Transition","TransitionStart"),transitioncancel:mu("Transition","TransitionCancel"),transitionend:mu("Transition","TransitionEnd")},v0={},Nx={};Ri&&(Nx=document.createElement("div").style,"AnimationEvent"in window||(delete Xl.animationend.animation,delete Xl.animationiteration.animation,delete Xl.animationstart.animation),"TransitionEvent"in window||delete Xl.transitionend.transition);function pu(s){if(v0[s])return v0[s];if(!Xl[s])return s;var o=Xl[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in Nx)return v0[s]=o[c];return s}var kx=pu("animationend"),Mx=pu("animationiteration"),Vx=pu("animationstart"),rq=pu("transitionrun"),iq=pu("transitionstart"),aq=pu("transitioncancel"),Lx=pu("transitionend"),jx=new Map,_0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_0.push("scrollEnd");function Pi(s,o){jx.set(s,o),xi(o,[s])}var Ux=new WeakMap;function oi(s,o){if(typeof s=="object"&&s!==null){var c=Ux.get(s);return c!==void 0?c:(o={value:s,source:o,stack:Ul(o)},Ux.set(s,o),o)}return{value:s,source:o,stack:Ul(o)}}var ui=[],Jl=0,b0=0;function $p(){for(var s=Jl,o=b0=Jl=0;o<s;){var c=ui[o];ui[o++]=null;var d=ui[o];ui[o++]=null;var y=ui[o];ui[o++]=null;var _=ui[o];if(ui[o++]=null,d!==null&&y!==null){var I=d.pending;I===null?y.next=y:(y.next=I.next,I.next=y),d.pending=y}_!==0&&Bx(c,y,_)}}function Hp(s,o,c,d){ui[Jl++]=s,ui[Jl++]=o,ui[Jl++]=c,ui[Jl++]=d,b0|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function w0(s,o,c,d){return Hp(s,o,c,d),Gp(s)}function Zl(s,o){return Hp(s,null,null,o),Gp(s)}function Bx(s,o,c){s.lanes|=c;var d=s.alternate;d!==null&&(d.lanes|=c);for(var y=!1,_=s.return;_!==null;)_.childLanes|=c,d=_.alternate,d!==null&&(d.childLanes|=c),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(y=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,y&&o!==null&&(y=31-Jn(c),s=_.hiddenUpdates,d=s[y],d===null?s[y]=[o]:d.push(o),o.lane=c|536870912),_):null}function Gp(s){if(50<Wh)throw Wh=0,xb=null,Error(r(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var ec={};function sq(s,o,c,d){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kr(s,o,c,d){return new sq(s,o,c,d)}function E0(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ba(s,o){var c=s.alternate;return c===null?(c=kr(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function qx(s,o){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,o=c.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Kp(s,o,c,d,y,_){var I=0;if(d=s,typeof s=="function")E0(s)&&(I=1);else if(typeof s=="string")I=uz(s,c,Re.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case M:return s=kr(31,c,o,y),s.elementType=M,s.lanes=_,s;case E:return gu(c.children,y,_,o);case T:I=8,y|=24;break;case A:return s=kr(12,c,o,y|2),s.elementType=A,s.lanes=_,s;case L:return s=kr(13,c,o,y),s.elementType=L,s.lanes=_,s;case $:return s=kr(19,c,o,y),s.elementType=$,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case R:case P:I=10;break e;case C:I=9;break e;case U:I=11;break e;case D:I=14;break e;case N:I=16,d=null;break e}I=29,c=Error(r(130,s===null?"null":typeof s,"")),d=null}return o=kr(I,c,o,y),o.elementType=s,o.type=d,o.lanes=_,o}function gu(s,o,c,d){return s=kr(7,s,d,o),s.lanes=c,s}function T0(s,o,c){return s=kr(6,s,null,o),s.lanes=c,s}function A0(s,o,c){return o=kr(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var tc=[],nc=0,Wp=null,Yp=0,li=[],ci=0,yu=null,qa=1,za="";function vu(s,o){tc[nc++]=Yp,tc[nc++]=Wp,Wp=s,Yp=o}function zx(s,o,c){li[ci++]=qa,li[ci++]=za,li[ci++]=yu,yu=s;var d=qa;s=za;var y=32-Jn(d)-1;d&=~(1<<y),c+=1;var _=32-Jn(o)+y;if(30<_){var I=y-y%5;_=(d&(1<<I)-1).toString(32),d>>=I,y-=I,qa=1<<32-Jn(o)+y|c<<y|d,za=_+s}else qa=1<<_|c<<y|d,za=s}function S0(s){s.return!==null&&(vu(s,1),zx(s,1,0))}function I0(s){for(;s===Wp;)Wp=tc[--nc],tc[nc]=null,Yp=tc[--nc],tc[nc]=null;for(;s===yu;)yu=li[--ci],li[ci]=null,za=li[--ci],li[ci]=null,qa=li[--ci],li[ci]=null}var hr=null,zt=null,it=!1,_u=null,na=!1,x0=Error(r(519));function bu(s){var o=Error(r(418,""));throw Ih(oi(o,s)),x0}function Fx(s){var o=s.stateNode,c=s.type,d=s.memoizedProps;switch(o[dn]=s,o[nn]=d,c){case"dialog":Ge("cancel",o),Ge("close",o);break;case"iframe":case"object":case"embed":Ge("load",o);break;case"video":case"audio":for(c=0;c<Qh.length;c++)Ge(Qh[c],o);break;case"source":Ge("error",o);break;case"img":case"image":case"link":Ge("error",o),Ge("load",o);break;case"details":Ge("toggle",o);break;case"input":Ge("invalid",o),iu(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Bl(o);break;case"select":Ge("invalid",o);break;case"textarea":Ge("invalid",o),au(o,d.value,d.defaultValue,d.children),Bl(o)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||d.suppressHydrationWarning===!0||sC(o.textContent,c)?(d.popover!=null&&(Ge("beforetoggle",o),Ge("toggle",o)),d.onScroll!=null&&Ge("scroll",o),d.onScrollEnd!=null&&Ge("scrollend",o),d.onClick!=null&&(o.onclick=Pg),o=!0):o=!1,o||bu(s)}function $x(s){for(hr=s.return;hr;)switch(hr.tag){case 5:case 13:na=!1;return;case 27:case 3:na=!0;return;default:hr=hr.return}}function Ah(s){if(s!==hr)return!1;if(!it)return $x(s),it=!0,!1;var o=s.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||Fb(s.type,s.memoizedProps)),c=!c),c&&zt&&bu(s),$x(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(o===0){zt=Oi(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;s=s.nextSibling}zt=null}}else o===27?(o=zt,Xs(s.type)?(s=Kb,Kb=null,zt=s):zt=o):zt=hr?Oi(s.stateNode.nextSibling):null;return!0}function Sh(){zt=hr=null,it=!1}function Hx(){var s=_u;return s!==null&&(Er===null?Er=s:Er.push.apply(Er,s),_u=null),s}function Ih(s){_u===null?_u=[s]:_u.push(s)}var R0=ue(null),wu=null,Fa=null;function Vs(s,o,c){me(R0,o._currentValue),o._currentValue=c}function $a(s){s._currentValue=R0.current,ae(R0)}function P0(s,o,c){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===c)break;s=s.return}}function C0(s,o,c,d){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var _=y.dependencies;if(_!==null){var I=y.child;_=_.firstContext;e:for(;_!==null;){var O=_;_=y;for(var z=0;z<o.length;z++)if(O.context===o[z]){_.lanes|=c,O=_.alternate,O!==null&&(O.lanes|=c),P0(_.return,c,s),d||(I=null);break e}_=O.next}}else if(y.tag===18){if(I=y.return,I===null)throw Error(r(341));I.lanes|=c,_=I.alternate,_!==null&&(_.lanes|=c),P0(I,c,s),I=null}else I=y.child;if(I!==null)I.return=y;else for(I=y;I!==null;){if(I===s){I=null;break}if(y=I.sibling,y!==null){y.return=I.return,I=y;break}I=I.return}y=I}}function xh(s,o,c,d){s=null;for(var y=o,_=!1;y!==null;){if(!_){if((y.flags&524288)!==0)_=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var I=y.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var O=y.type;Nr(y.pendingProps.value,I.value)||(s!==null?s.push(O):s=[O])}}else if(y===en.current){if(I=y.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(nd):s=[nd])}y=y.return}s!==null&&C0(o,s,c,d),o.flags|=262144}function Qp(s){for(s=s.firstContext;s!==null;){if(!Nr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Eu(s){wu=s,Fa=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Zn(s){return Gx(wu,s)}function Xp(s,o){return wu===null&&Eu(s),Gx(s,o)}function Gx(s,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Fa===null){if(s===null)throw Error(r(308));Fa=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Fa=Fa.next=o;return c}var oq=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(c,d){s.push(d)}};this.abort=function(){o.aborted=!0,s.forEach(function(c){return c()})}},uq=t.unstable_scheduleCallback,lq=t.unstable_NormalPriority,gn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function O0(){return{controller:new oq,data:new Map,refCount:0}}function Rh(s){s.refCount--,s.refCount===0&&uq(lq,function(){s.controller.abort()})}var Ph=null,D0=0,rc=0,ic=null;function cq(s,o){if(Ph===null){var c=Ph=[];D0=0,rc=kb(),ic={status:"pending",value:void 0,then:function(d){c.push(d)}}}return D0++,o.then(Kx,Kx),o}function Kx(){if(--D0===0&&Ph!==null){ic!==null&&(ic.status="fulfilled");var s=Ph;Ph=null,rc=0,ic=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function fq(s,o){var c=[],d={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return s.then(function(){d.status="fulfilled",d.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(d.status="rejected",d.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),d}var Wx=Z.S;Z.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&cq(s,o),Wx!==null&&Wx(s,o)};var Tu=ue(null);function N0(){var s=Tu.current;return s!==null?s:Et.pooledCache}function Jp(s,o){o===null?me(Tu,Tu.current):me(Tu,o.pool)}function Yx(){var s=N0();return s===null?null:{parent:gn._currentValue,pool:s}}var Ch=Error(r(460)),Qx=Error(r(474)),Zp=Error(r(542)),k0={then:function(){}};function Xx(s){return s=s.status,s==="fulfilled"||s==="rejected"}function eg(){}function Jx(s,o,c){switch(c=s[c],c===void 0?s.push(o):c!==o&&(o.then(eg,eg),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,eR(s),s;default:if(typeof o.status=="string")o.then(eg,eg);else{if(s=Et,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=o,s.status="pending",s.then(function(d){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=d}},function(d){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,eR(s),s}throw Oh=o,Ch}}var Oh=null;function Zx(){if(Oh===null)throw Error(r(459));var s=Oh;return Oh=null,s}function eR(s){if(s===Ch||s===Zp)throw Error(r(483))}var Ls=!1;function M0(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function V0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function js(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Us(s,o,c){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(ut&2)!==0){var y=d.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),d.pending=o,o=Gp(s),Bx(s,null,c),o}return Hp(s,d,o,c),Gp(s)}function Dh(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var d=o.lanes;d&=s.pendingLanes,c|=d,o.lanes=c,sh(s,c)}}function L0(s,o){var c=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var y=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var I={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?y=_=I:_=_.next=I,c=c.next}while(c!==null);_===null?y=_=o:_=_.next=o}else y=_=o;c={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:d.shared,callbacks:d.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}var j0=!1;function Nh(){if(j0){var s=ic;if(s!==null)throw s}}function kh(s,o,c,d){j0=!1;var y=s.updateQueue;Ls=!1;var _=y.firstBaseUpdate,I=y.lastBaseUpdate,O=y.shared.pending;if(O!==null){y.shared.pending=null;var z=O,X=z.next;z.next=null,I===null?_=X:I.next=X,I=z;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,O=ie.lastBaseUpdate,O!==I&&(O===null?ie.firstBaseUpdate=X:O.next=X,ie.lastBaseUpdate=z))}if(_!==null){var oe=y.baseState;I=0,ie=X=z=null,O=_;do{var J=O.lane&-536870913,ee=J!==O.lane;if(ee?(Ze&J)===J:(d&J)===J){J!==0&&J===rc&&(j0=!0),ie!==null&&(ie=ie.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Ve=s,Ne=O;J=o;var vt=c;switch(Ne.tag){case 1:if(Ve=Ne.payload,typeof Ve=="function"){oe=Ve.call(vt,oe,J);break e}oe=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Ne.payload,J=typeof Ve=="function"?Ve.call(vt,oe,J):Ve,J==null)break e;oe=m({},oe,J);break e;case 2:Ls=!0}}J=O.callback,J!==null&&(s.flags|=64,ee&&(s.flags|=8192),ee=y.callbacks,ee===null?y.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ie===null?(X=ie=ee,z=oe):ie=ie.next=ee,I|=J;if(O=O.next,O===null){if(O=y.shared.pending,O===null)break;ee=O,O=ee.next,ee.next=null,y.lastBaseUpdate=ee,y.shared.pending=null}}while(!0);ie===null&&(z=oe),y.baseState=z,y.firstBaseUpdate=X,y.lastBaseUpdate=ie,_===null&&(y.shared.lanes=0),Ks|=I,s.lanes=I,s.memoizedState=oe}}function tR(s,o){if(typeof s!="function")throw Error(r(191,s));s.call(o)}function nR(s,o){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)tR(c[s],o)}var ac=ue(null),tg=ue(0);function rR(s,o){s=Xa,me(tg,s),me(ac,o),Xa=s|o.baseLanes}function U0(){me(tg,Xa),me(ac,ac.current)}function B0(){Xa=tg.current,ae(ac),ae(tg)}var Bs=0,Fe=null,gt=null,an=null,ng=!1,sc=!1,Au=!1,rg=0,Mh=0,oc=null,hq=0;function Yt(){throw Error(r(321))}function q0(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!Nr(s[c],o[c]))return!1;return!0}function z0(s,o,c,d,y,_){return Bs=_,Fe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Z.H=s===null||s.memoizedState===null?BR:qR,Au=!1,_=c(d,y),Au=!1,sc&&(_=aR(o,c,d,y)),iR(s),_}function iR(s){Z.H=lg;var o=gt!==null&&gt.next!==null;if(Bs=0,an=gt=Fe=null,ng=!1,Mh=0,oc=null,o)throw Error(r(300));s===null||Rn||(s=s.dependencies,s!==null&&Qp(s)&&(Rn=!0))}function aR(s,o,c,d){Fe=s;var y=0;do{if(sc&&(oc=null),Mh=0,sc=!1,25<=y)throw Error(r(301));if(y+=1,an=gt=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}Z.H=_q,_=o(c,d)}while(sc);return _}function dq(){var s=Z.H,o=s.useState()[0];return o=typeof o.then=="function"?Vh(o):o,s=s.useState()[0],(gt!==null?gt.memoizedState:null)!==s&&(Fe.flags|=1024),o}function F0(){var s=rg!==0;return rg=0,s}function $0(s,o,c){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~c}function H0(s){if(ng){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}ng=!1}Bs=0,an=gt=Fe=null,sc=!1,Mh=rg=0,oc=null}function br(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Fe.memoizedState=an=s:an=an.next=s,an}function sn(){if(gt===null){var s=Fe.alternate;s=s!==null?s.memoizedState:null}else s=gt.next;var o=an===null?Fe.memoizedState:an.next;if(o!==null)an=o,gt=s;else{if(s===null)throw Fe.alternate===null?Error(r(467)):Error(r(310));gt=s,s={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},an===null?Fe.memoizedState=an=s:an=an.next=s}return an}function G0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vh(s){var o=Mh;return Mh+=1,oc===null&&(oc=[]),s=Jx(oc,s,o),o=Fe,(an===null?o.memoizedState:an.next)===null&&(o=o.alternate,Z.H=o===null||o.memoizedState===null?BR:qR),s}function ig(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Vh(s);if(s.$$typeof===P)return Zn(s)}throw Error(r(438,String(s)))}function K0(s){var o=null,c=Fe.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var d=Fe.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=G0(),Fe.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(s),d=0;d<s;d++)c[d]=B;return o.index++,c}function Ha(s,o){return typeof o=="function"?o(s):o}function ag(s){var o=sn();return W0(o,gt,s)}function W0(s,o,c){var d=s.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=c;var y=s.baseQueue,_=d.pending;if(_!==null){if(y!==null){var I=y.next;y.next=_.next,_.next=I}o.baseQueue=y=_,d.pending=null}if(_=s.baseState,y===null)s.memoizedState=_;else{o=y.next;var O=I=null,z=null,X=o,ie=!1;do{var oe=X.lane&-536870913;if(oe!==X.lane?(Ze&oe)===oe:(Bs&oe)===oe){var J=X.revertLane;if(J===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),oe===rc&&(ie=!0);else if((Bs&J)===J){X=X.next,J===rc&&(ie=!0);continue}else oe={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(O=z=oe,I=_):z=z.next=oe,Fe.lanes|=J,Ks|=J;oe=X.action,Au&&c(_,oe),_=X.hasEagerState?X.eagerState:c(_,oe)}else J={lane:oe,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(O=z=J,I=_):z=z.next=J,Fe.lanes|=oe,Ks|=oe;X=X.next}while(X!==null&&X!==o);if(z===null?I=_:z.next=O,!Nr(_,s.memoizedState)&&(Rn=!0,ie&&(c=ic,c!==null)))throw c;s.memoizedState=_,s.baseState=I,s.baseQueue=z,d.lastRenderedState=_}return y===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function Y0(s){var o=sn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var d=c.dispatch,y=c.pending,_=o.memoizedState;if(y!==null){c.pending=null;var I=y=y.next;do _=s(_,I.action),I=I.next;while(I!==y);Nr(_,o.memoizedState)||(Rn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),c.lastRenderedState=_}return[_,d]}function sR(s,o,c){var d=Fe,y=sn(),_=it;if(_){if(c===void 0)throw Error(r(407));c=c()}else c=o();var I=!Nr((gt||y).memoizedState,c);I&&(y.memoizedState=c,Rn=!0),y=y.queue;var O=lR.bind(null,d,y,s);if(Lh(2048,8,O,[s]),y.getSnapshot!==o||I||an!==null&&an.memoizedState.tag&1){if(d.flags|=2048,uc(9,sg(),uR.bind(null,d,y,c,o),null),Et===null)throw Error(r(349));_||(Bs&124)!==0||oR(d,o,c)}return c}function oR(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=Fe.updateQueue,o===null?(o=G0(),Fe.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function uR(s,o,c,d){o.value=c,o.getSnapshot=d,cR(o)&&fR(s)}function lR(s,o,c){return c(function(){cR(o)&&fR(s)})}function cR(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!Nr(s,c)}catch{return!0}}function fR(s){var o=Zl(s,2);o!==null&&Ur(o,s,2)}function Q0(s){var o=br();if(typeof s=="function"){var c=s;if(s=c(),Au){Or(!0);try{c()}finally{Or(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:s},o}function hR(s,o,c,d){return s.baseState=c,W0(s,gt,typeof d=="function"?d:Ha)}function mq(s,o,c,d,y){if(ug(s))throw Error(r(485));if(s=o.action,s!==null){var _={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){_.listeners.push(I)}};Z.T!==null?c(!0):_.isTransition=!1,d(_),c=o.pending,c===null?(_.next=o.pending=_,dR(o,_)):(_.next=c.next,o.pending=c.next=_)}}function dR(s,o){var c=o.action,d=o.payload,y=s.state;if(o.isTransition){var _=Z.T,I={};Z.T=I;try{var O=c(y,d),z=Z.S;z!==null&&z(I,O),mR(s,o,O)}catch(X){X0(s,o,X)}finally{Z.T=_}}else try{_=c(y,d),mR(s,o,_)}catch(X){X0(s,o,X)}}function mR(s,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){pR(s,o,d)},function(d){return X0(s,o,d)}):pR(s,o,c)}function pR(s,o,c){o.status="fulfilled",o.value=c,gR(o),s.state=c,o=s.pending,o!==null&&(c=o.next,c===o?s.pending=null:(c=c.next,o.next=c,dR(s,c)))}function X0(s,o,c){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=c,gR(o),o=o.next;while(o!==d)}s.action=null}function gR(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function yR(s,o){return o}function vR(s,o){if(it){var c=Et.formState;if(c!==null){e:{var d=Fe;if(it){if(zt){t:{for(var y=zt,_=na;y.nodeType!==8;){if(!_){y=null;break t}if(y=Oi(y.nextSibling),y===null){y=null;break t}}_=y.data,y=_==="F!"||_==="F"?y:null}if(y){zt=Oi(y.nextSibling),d=y.data==="F!";break e}}bu(d)}d=!1}d&&(o=c[0])}}return c=br(),c.memoizedState=c.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yR,lastRenderedState:o},c.queue=d,c=LR.bind(null,Fe,d),d.dispatch=c,d=Q0(!1),_=nb.bind(null,Fe,!1,d.queue),d=br(),y={state:o,dispatch:null,action:s,pending:null},d.queue=y,c=mq.bind(null,Fe,y,_,c),y.dispatch=c,d.memoizedState=s,[o,c,!1]}function _R(s){var o=sn();return bR(o,gt,s)}function bR(s,o,c){if(o=W0(s,o,yR)[0],s=ag(Ha)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=Vh(o)}catch(I){throw I===Ch?Zp:I}else d=o;o=sn();var y=o.queue,_=y.dispatch;return c!==o.memoizedState&&(Fe.flags|=2048,uc(9,sg(),pq.bind(null,y,c),null)),[d,_,s]}function pq(s,o){s.action=o}function wR(s){var o=sn(),c=gt;if(c!==null)return bR(o,c,s);sn(),o=o.memoizedState,c=sn();var d=c.queue.dispatch;return c.memoizedState=s,[o,d,!1]}function uc(s,o,c,d){return s={tag:s,create:c,deps:d,inst:o,next:null},o=Fe.updateQueue,o===null&&(o=G0(),Fe.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=s.next=s:(d=c.next,c.next=s,s.next=d,o.lastEffect=s),s}function sg(){return{destroy:void 0,resource:void 0}}function ER(){return sn().memoizedState}function og(s,o,c,d){var y=br();d=d===void 0?null:d,Fe.flags|=s,y.memoizedState=uc(1|o,sg(),c,d)}function Lh(s,o,c,d){var y=sn();d=d===void 0?null:d;var _=y.memoizedState.inst;gt!==null&&d!==null&&q0(d,gt.memoizedState.deps)?y.memoizedState=uc(o,_,c,d):(Fe.flags|=s,y.memoizedState=uc(1|o,_,c,d))}function TR(s,o){og(8390656,8,s,o)}function AR(s,o){Lh(2048,8,s,o)}function SR(s,o){return Lh(4,2,s,o)}function IR(s,o){return Lh(4,4,s,o)}function xR(s,o){if(typeof o=="function"){s=s();var c=o(s);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function RR(s,o,c){c=c!=null?c.concat([s]):null,Lh(4,4,xR.bind(null,o,s),c)}function J0(){}function PR(s,o){var c=sn();o=o===void 0?null:o;var d=c.memoizedState;return o!==null&&q0(o,d[1])?d[0]:(c.memoizedState=[s,o],s)}function CR(s,o){var c=sn();o=o===void 0?null:o;var d=c.memoizedState;if(o!==null&&q0(o,d[1]))return d[0];if(d=s(),Au){Or(!0);try{s()}finally{Or(!1)}}return c.memoizedState=[d,o],d}function Z0(s,o,c){return c===void 0||(Bs&1073741824)!==0?s.memoizedState=o:(s.memoizedState=c,s=NP(),Fe.lanes|=s,Ks|=s,c)}function OR(s,o,c,d){return Nr(c,o)?c:ac.current!==null?(s=Z0(s,c,d),Nr(s,o)||(Rn=!0),s):(Bs&42)===0?(Rn=!0,s.memoizedState=c):(s=NP(),Fe.lanes|=s,Ks|=s,o)}function DR(s,o,c,d,y){var _=ce.p;ce.p=_!==0&&8>_?_:8;var I=Z.T,O={};Z.T=O,nb(s,!1,o,c);try{var z=y(),X=Z.S;if(X!==null&&X(O,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ie=fq(z,d);jh(s,o,ie,jr(s))}else jh(s,o,d,jr(s))}catch(oe){jh(s,o,{then:function(){},status:"rejected",reason:oe},jr())}finally{ce.p=_,Z.T=I}}function gq(){}function eb(s,o,c,d){if(s.tag!==5)throw Error(r(476));var y=NR(s).queue;DR(s,y,o,we,c===null?gq:function(){return kR(s),c(d)})}function NR(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:we},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:c},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function kR(s){var o=NR(s).next.queue;jh(s,o,{},jr())}function tb(){return Zn(nd)}function MR(){return sn().memoizedState}function VR(){return sn().memoizedState}function yq(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var c=jr();s=js(c);var d=Us(o,s,c);d!==null&&(Ur(d,o,c),Dh(d,o,c)),o={cache:O0()},s.payload=o;return}o=o.return}}function vq(s,o,c){var d=jr();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},ug(s)?jR(o,c):(c=w0(s,o,c,d),c!==null&&(Ur(c,s,d),UR(c,o,d)))}function LR(s,o,c){var d=jr();jh(s,o,c,d)}function jh(s,o,c,d){var y={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(ug(s))jR(o,y);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var I=o.lastRenderedState,O=_(I,c);if(y.hasEagerState=!0,y.eagerState=O,Nr(O,I))return Hp(s,o,y,0),Et===null&&$p(),!1}catch{}finally{}if(c=w0(s,o,y,d),c!==null)return Ur(c,s,d),UR(c,o,d),!0}return!1}function nb(s,o,c,d){if(d={lane:2,revertLane:kb(),action:d,hasEagerState:!1,eagerState:null,next:null},ug(s)){if(o)throw Error(r(479))}else o=w0(s,c,d,2),o!==null&&Ur(o,s,2)}function ug(s){var o=s.alternate;return s===Fe||o!==null&&o===Fe}function jR(s,o){sc=ng=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function UR(s,o,c){if((c&4194048)!==0){var d=o.lanes;d&=s.pendingLanes,c|=d,o.lanes=c,sh(s,c)}}var lg={readContext:Zn,use:ig,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt,useHostTransitionStatus:Yt,useFormState:Yt,useActionState:Yt,useOptimistic:Yt,useMemoCache:Yt,useCacheRefresh:Yt},BR={readContext:Zn,use:ig,useCallback:function(s,o){return br().memoizedState=[s,o===void 0?null:o],s},useContext:Zn,useEffect:TR,useImperativeHandle:function(s,o,c){c=c!=null?c.concat([s]):null,og(4194308,4,xR.bind(null,o,s),c)},useLayoutEffect:function(s,o){return og(4194308,4,s,o)},useInsertionEffect:function(s,o){og(4,2,s,o)},useMemo:function(s,o){var c=br();o=o===void 0?null:o;var d=s();if(Au){Or(!0);try{s()}finally{Or(!1)}}return c.memoizedState=[d,o],d},useReducer:function(s,o,c){var d=br();if(c!==void 0){var y=c(o);if(Au){Or(!0);try{c(o)}finally{Or(!1)}}}else y=o;return d.memoizedState=d.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},d.queue=s,s=s.dispatch=vq.bind(null,Fe,s),[d.memoizedState,s]},useRef:function(s){var o=br();return s={current:s},o.memoizedState=s},useState:function(s){s=Q0(s);var o=s.queue,c=LR.bind(null,Fe,o);return o.dispatch=c,[s.memoizedState,c]},useDebugValue:J0,useDeferredValue:function(s,o){var c=br();return Z0(c,s,o)},useTransition:function(){var s=Q0(!1);return s=DR.bind(null,Fe,s.queue,!0,!1),br().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,c){var d=Fe,y=br();if(it){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),Et===null)throw Error(r(349));(Ze&124)!==0||oR(d,o,c)}y.memoizedState=c;var _={value:c,getSnapshot:o};return y.queue=_,TR(lR.bind(null,d,_,s),[s]),d.flags|=2048,uc(9,sg(),uR.bind(null,d,_,c,o),null),c},useId:function(){var s=br(),o=Et.identifierPrefix;if(it){var c=za,d=qa;c=(d&~(1<<32-Jn(d)-1)).toString(32)+c,o="«"+o+"R"+c,c=rg++,0<c&&(o+="H"+c.toString(32)),o+="»"}else c=hq++,o="«"+o+"r"+c.toString(32)+"»";return s.memoizedState=o},useHostTransitionStatus:tb,useFormState:vR,useActionState:vR,useOptimistic:function(s){var o=br();o.memoizedState=o.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=nb.bind(null,Fe,!0,c),c.dispatch=o,[s,o]},useMemoCache:K0,useCacheRefresh:function(){return br().memoizedState=yq.bind(null,Fe)}},qR={readContext:Zn,use:ig,useCallback:PR,useContext:Zn,useEffect:AR,useImperativeHandle:RR,useInsertionEffect:SR,useLayoutEffect:IR,useMemo:CR,useReducer:ag,useRef:ER,useState:function(){return ag(Ha)},useDebugValue:J0,useDeferredValue:function(s,o){var c=sn();return OR(c,gt.memoizedState,s,o)},useTransition:function(){var s=ag(Ha)[0],o=sn().memoizedState;return[typeof s=="boolean"?s:Vh(s),o]},useSyncExternalStore:sR,useId:MR,useHostTransitionStatus:tb,useFormState:_R,useActionState:_R,useOptimistic:function(s,o){var c=sn();return hR(c,gt,s,o)},useMemoCache:K0,useCacheRefresh:VR},_q={readContext:Zn,use:ig,useCallback:PR,useContext:Zn,useEffect:AR,useImperativeHandle:RR,useInsertionEffect:SR,useLayoutEffect:IR,useMemo:CR,useReducer:Y0,useRef:ER,useState:function(){return Y0(Ha)},useDebugValue:J0,useDeferredValue:function(s,o){var c=sn();return gt===null?Z0(c,s,o):OR(c,gt.memoizedState,s,o)},useTransition:function(){var s=Y0(Ha)[0],o=sn().memoizedState;return[typeof s=="boolean"?s:Vh(s),o]},useSyncExternalStore:sR,useId:MR,useHostTransitionStatus:tb,useFormState:wR,useActionState:wR,useOptimistic:function(s,o){var c=sn();return gt!==null?hR(c,gt,s,o):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:K0,useCacheRefresh:VR},lc=null,Uh=0;function cg(s){var o=Uh;return Uh+=1,lc===null&&(lc=[]),Jx(lc,s,o)}function Bh(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function fg(s,o){throw o.$$typeof===p?Error(r(525)):(s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function zR(s){var o=s._init;return o(s._payload)}function FR(s){function o(K,G){if(s){var Q=K.deletions;Q===null?(K.deletions=[G],K.flags|=16):Q.push(G)}}function c(K,G){if(!s)return null;for(;G!==null;)o(K,G),G=G.sibling;return null}function d(K){for(var G=new Map;K!==null;)K.key!==null?G.set(K.key,K):G.set(K.index,K),K=K.sibling;return G}function y(K,G){return K=Ba(K,G),K.index=0,K.sibling=null,K}function _(K,G,Q){return K.index=Q,s?(Q=K.alternate,Q!==null?(Q=Q.index,Q<G?(K.flags|=67108866,G):Q):(K.flags|=67108866,G)):(K.flags|=1048576,G)}function I(K){return s&&K.alternate===null&&(K.flags|=67108866),K}function O(K,G,Q,se){return G===null||G.tag!==6?(G=T0(Q,K.mode,se),G.return=K,G):(G=y(G,Q),G.return=K,G)}function z(K,G,Q,se){var Ae=Q.type;return Ae===E?ie(K,G,Q.props.children,se,Q.key):G!==null&&(G.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===N&&zR(Ae)===G.type)?(G=y(G,Q.props),Bh(G,Q),G.return=K,G):(G=Kp(Q.type,Q.key,Q.props,null,K.mode,se),Bh(G,Q),G.return=K,G)}function X(K,G,Q,se){return G===null||G.tag!==4||G.stateNode.containerInfo!==Q.containerInfo||G.stateNode.implementation!==Q.implementation?(G=A0(Q,K.mode,se),G.return=K,G):(G=y(G,Q.children||[]),G.return=K,G)}function ie(K,G,Q,se,Ae){return G===null||G.tag!==7?(G=gu(Q,K.mode,se,Ae),G.return=K,G):(G=y(G,Q),G.return=K,G)}function oe(K,G,Q){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=T0(""+G,K.mode,Q),G.return=K,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case v:return Q=Kp(G.type,G.key,G.props,null,K.mode,Q),Bh(Q,G),Q.return=K,Q;case b:return G=A0(G,K.mode,Q),G.return=K,G;case N:var se=G._init;return G=se(G._payload),oe(K,G,Q)}if(Ee(G)||q(G))return G=gu(G,K.mode,Q,null),G.return=K,G;if(typeof G.then=="function")return oe(K,cg(G),Q);if(G.$$typeof===P)return oe(K,Xp(K,G),Q);fg(K,G)}return null}function J(K,G,Q,se){var Ae=G!==null?G.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ae!==null?null:O(K,G,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:return Q.key===Ae?z(K,G,Q,se):null;case b:return Q.key===Ae?X(K,G,Q,se):null;case N:return Ae=Q._init,Q=Ae(Q._payload),J(K,G,Q,se)}if(Ee(Q)||q(Q))return Ae!==null?null:ie(K,G,Q,se,null);if(typeof Q.then=="function")return J(K,G,cg(Q),se);if(Q.$$typeof===P)return J(K,G,Xp(K,Q),se);fg(K,Q)}return null}function ee(K,G,Q,se,Ae){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return K=K.get(Q)||null,O(G,K,""+se,Ae);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case v:return K=K.get(se.key===null?Q:se.key)||null,z(G,K,se,Ae);case b:return K=K.get(se.key===null?Q:se.key)||null,X(G,K,se,Ae);case N:var $e=se._init;return se=$e(se._payload),ee(K,G,Q,se,Ae)}if(Ee(se)||q(se))return K=K.get(Q)||null,ie(G,K,se,Ae,null);if(typeof se.then=="function")return ee(K,G,Q,cg(se),Ae);if(se.$$typeof===P)return ee(K,G,Q,Xp(G,se),Ae);fg(G,se)}return null}function Ve(K,G,Q,se){for(var Ae=null,$e=null,Pe=G,ke=G=0,Cn=null;Pe!==null&&ke<Q.length;ke++){Pe.index>ke?(Cn=Pe,Pe=null):Cn=Pe.sibling;var tt=J(K,Pe,Q[ke],se);if(tt===null){Pe===null&&(Pe=Cn);break}s&&Pe&&tt.alternate===null&&o(K,Pe),G=_(tt,G,ke),$e===null?Ae=tt:$e.sibling=tt,$e=tt,Pe=Cn}if(ke===Q.length)return c(K,Pe),it&&vu(K,ke),Ae;if(Pe===null){for(;ke<Q.length;ke++)Pe=oe(K,Q[ke],se),Pe!==null&&(G=_(Pe,G,ke),$e===null?Ae=Pe:$e.sibling=Pe,$e=Pe);return it&&vu(K,ke),Ae}for(Pe=d(Pe);ke<Q.length;ke++)Cn=ee(Pe,K,ke,Q[ke],se),Cn!==null&&(s&&Cn.alternate!==null&&Pe.delete(Cn.key===null?ke:Cn.key),G=_(Cn,G,ke),$e===null?Ae=Cn:$e.sibling=Cn,$e=Cn);return s&&Pe.forEach(function(no){return o(K,no)}),it&&vu(K,ke),Ae}function Ne(K,G,Q,se){if(Q==null)throw Error(r(151));for(var Ae=null,$e=null,Pe=G,ke=G=0,Cn=null,tt=Q.next();Pe!==null&&!tt.done;ke++,tt=Q.next()){Pe.index>ke?(Cn=Pe,Pe=null):Cn=Pe.sibling;var no=J(K,Pe,tt.value,se);if(no===null){Pe===null&&(Pe=Cn);break}s&&Pe&&no.alternate===null&&o(K,Pe),G=_(no,G,ke),$e===null?Ae=no:$e.sibling=no,$e=no,Pe=Cn}if(tt.done)return c(K,Pe),it&&vu(K,ke),Ae;if(Pe===null){for(;!tt.done;ke++,tt=Q.next())tt=oe(K,tt.value,se),tt!==null&&(G=_(tt,G,ke),$e===null?Ae=tt:$e.sibling=tt,$e=tt);return it&&vu(K,ke),Ae}for(Pe=d(Pe);!tt.done;ke++,tt=Q.next())tt=ee(Pe,K,ke,tt.value,se),tt!==null&&(s&&tt.alternate!==null&&Pe.delete(tt.key===null?ke:tt.key),G=_(tt,G,ke),$e===null?Ae=tt:$e.sibling=tt,$e=tt);return s&&Pe.forEach(function(bz){return o(K,bz)}),it&&vu(K,ke),Ae}function vt(K,G,Q,se){if(typeof Q=="object"&&Q!==null&&Q.type===E&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:e:{for(var Ae=Q.key;G!==null;){if(G.key===Ae){if(Ae=Q.type,Ae===E){if(G.tag===7){c(K,G.sibling),se=y(G,Q.props.children),se.return=K,K=se;break e}}else if(G.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===N&&zR(Ae)===G.type){c(K,G.sibling),se=y(G,Q.props),Bh(se,Q),se.return=K,K=se;break e}c(K,G);break}else o(K,G);G=G.sibling}Q.type===E?(se=gu(Q.props.children,K.mode,se,Q.key),se.return=K,K=se):(se=Kp(Q.type,Q.key,Q.props,null,K.mode,se),Bh(se,Q),se.return=K,K=se)}return I(K);case b:e:{for(Ae=Q.key;G!==null;){if(G.key===Ae)if(G.tag===4&&G.stateNode.containerInfo===Q.containerInfo&&G.stateNode.implementation===Q.implementation){c(K,G.sibling),se=y(G,Q.children||[]),se.return=K,K=se;break e}else{c(K,G);break}else o(K,G);G=G.sibling}se=A0(Q,K.mode,se),se.return=K,K=se}return I(K);case N:return Ae=Q._init,Q=Ae(Q._payload),vt(K,G,Q,se)}if(Ee(Q))return Ve(K,G,Q,se);if(q(Q)){if(Ae=q(Q),typeof Ae!="function")throw Error(r(150));return Q=Ae.call(Q),Ne(K,G,Q,se)}if(typeof Q.then=="function")return vt(K,G,cg(Q),se);if(Q.$$typeof===P)return vt(K,G,Xp(K,Q),se);fg(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,G!==null&&G.tag===6?(c(K,G.sibling),se=y(G,Q),se.return=K,K=se):(c(K,G),se=T0(Q,K.mode,se),se.return=K,K=se),I(K)):c(K,G)}return function(K,G,Q,se){try{Uh=0;var Ae=vt(K,G,Q,se);return lc=null,Ae}catch(Pe){if(Pe===Ch||Pe===Zp)throw Pe;var $e=kr(29,Pe,null,K.mode);return $e.lanes=se,$e.return=K,$e}finally{}}}var cc=FR(!0),$R=FR(!1),fi=ue(null),ra=null;function qs(s){var o=s.alternate;me(yn,yn.current&1),me(fi,s),ra===null&&(o===null||ac.current!==null||o.memoizedState!==null)&&(ra=s)}function HR(s){if(s.tag===22){if(me(yn,yn.current),me(fi,s),ra===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(ra=s)}}else zs()}function zs(){me(yn,yn.current),me(fi,fi.current)}function Ga(s){ae(fi),ra===s&&(ra=null),ae(yn)}var yn=ue(0);function hg(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Gb(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function rb(s,o,c,d){o=s.memoizedState,c=c(d,o),c=c==null?o:m({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var ib={enqueueSetState:function(s,o,c){s=s._reactInternals;var d=jr(),y=js(d);y.payload=o,c!=null&&(y.callback=c),o=Us(s,y,d),o!==null&&(Ur(o,s,d),Dh(o,s,d))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var d=jr(),y=js(d);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=Us(s,y,d),o!==null&&(Ur(o,s,d),Dh(o,s,d))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=jr(),d=js(c);d.tag=2,o!=null&&(d.callback=o),o=Us(s,d,c),o!==null&&(Ur(o,s,c),Dh(o,s,c))}};function GR(s,o,c,d,y,_,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,_,I):o.prototype&&o.prototype.isPureReactComponent?!Eh(c,d)||!Eh(y,_):!0}function KR(s,o,c,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,d),o.state!==s&&ib.enqueueReplaceState(o,o.state,null)}function Su(s,o){var c=o;if("ref"in o){c={};for(var d in o)d!=="ref"&&(c[d]=o[d])}if(s=s.defaultProps){c===o&&(c=m({},c));for(var y in s)c[y]===void 0&&(c[y]=s[y])}return c}var dg=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function WR(s){dg(s)}function YR(s){console.error(s)}function QR(s){dg(s)}function mg(s,o){try{var c=s.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function XR(s,o,c){try{var d=s.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function ab(s,o,c){return c=js(c),c.tag=3,c.payload={element:null},c.callback=function(){mg(s,o)},c}function JR(s){return s=js(s),s.tag=3,s}function ZR(s,o,c,d){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var _=d.value;s.payload=function(){return y(_)},s.callback=function(){XR(o,c,d)}}var I=c.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){XR(o,c,d),typeof y!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var O=d.stack;this.componentDidCatch(d.value,{componentStack:O!==null?O:""})})}function bq(s,o,c,d,y){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=c.alternate,o!==null&&xh(o,c,y,!0),c=fi.current,c!==null){switch(c.tag){case 13:return ra===null?Pb():c.alternate===null&&Ft===0&&(Ft=3),c.flags&=-257,c.flags|=65536,c.lanes=y,d===k0?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([d]):o.add(d),Ob(s,d,y)),!1;case 22:return c.flags|=65536,d===k0?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([d]):c.add(d)),Ob(s,d,y)),!1}throw Error(r(435,c.tag))}return Ob(s,d,y),Pb(),!1}if(it)return o=fi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,d!==x0&&(s=Error(r(422),{cause:d}),Ih(oi(s,c)))):(d!==x0&&(o=Error(r(423),{cause:d}),Ih(oi(o,c))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,d=oi(d,c),y=ab(s.stateNode,d,y),L0(s,y),Ft!==4&&(Ft=2)),!1;var _=Error(r(520),{cause:d});if(_=oi(_,c),Kh===null?Kh=[_]:Kh.push(_),Ft!==4&&(Ft=2),o===null)return!0;d=oi(d,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,s=y&-y,c.lanes|=s,s=ab(c.stateNode,d,s),L0(c,s),!1;case 1:if(o=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ws===null||!Ws.has(_))))return c.flags|=65536,y&=-y,c.lanes|=y,y=JR(y),ZR(y,s,c,d),L0(c,y),!1}c=c.return}while(c!==null);return!1}var eP=Error(r(461)),Rn=!1;function zn(s,o,c,d){o.child=s===null?$R(o,null,c,d):cc(o,s.child,c,d)}function tP(s,o,c,d,y){c=c.render;var _=o.ref;if("ref"in d){var I={};for(var O in d)O!=="ref"&&(I[O]=d[O])}else I=d;return Eu(o),d=z0(s,o,c,I,_,y),O=F0(),s!==null&&!Rn?($0(s,o,y),Ka(s,o,y)):(it&&O&&S0(o),o.flags|=1,zn(s,o,d,y),o.child)}function nP(s,o,c,d,y){if(s===null){var _=c.type;return typeof _=="function"&&!E0(_)&&_.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=_,rP(s,o,_,d,y)):(s=Kp(c.type,null,d,o,o.mode,y),s.ref=o.ref,s.return=o,o.child=s)}if(_=s.child,!db(s,y)){var I=_.memoizedProps;if(c=c.compare,c=c!==null?c:Eh,c(I,d)&&s.ref===o.ref)return Ka(s,o,y)}return o.flags|=1,s=Ba(_,d),s.ref=o.ref,s.return=o,o.child=s}function rP(s,o,c,d,y){if(s!==null){var _=s.memoizedProps;if(Eh(_,d)&&s.ref===o.ref)if(Rn=!1,o.pendingProps=d=_,db(s,y))(s.flags&131072)!==0&&(Rn=!0);else return o.lanes=s.lanes,Ka(s,o,y)}return sb(s,o,c,d,y)}function iP(s,o,c){var d=o.pendingProps,y=d.children,_=s!==null?s.memoizedState:null;if(d.mode==="hidden"){if((o.flags&128)!==0){if(d=_!==null?_.baseLanes|c:c,s!==null){for(y=o.child=s.child,_=0;y!==null;)_=_|y.lanes|y.childLanes,y=y.sibling;o.childLanes=_&~d}else o.childLanes=0,o.child=null;return aP(s,o,d,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Jp(o,_!==null?_.cachePool:null),_!==null?rR(o,_):U0(),HR(o);else return o.lanes=o.childLanes=536870912,aP(s,o,_!==null?_.baseLanes|c:c,c)}else _!==null?(Jp(o,_.cachePool),rR(o,_),zs(),o.memoizedState=null):(s!==null&&Jp(o,null),U0(),zs());return zn(s,o,y,c),o.child}function aP(s,o,c,d){var y=N0();return y=y===null?null:{parent:gn._currentValue,pool:y},o.memoizedState={baseLanes:c,cachePool:y},s!==null&&Jp(o,null),U0(),HR(o),s!==null&&xh(s,o,d,!0),null}function pg(s,o){var c=o.ref;if(c===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(s===null||s.ref!==c)&&(o.flags|=4194816)}}function sb(s,o,c,d,y){return Eu(o),c=z0(s,o,c,d,void 0,y),d=F0(),s!==null&&!Rn?($0(s,o,y),Ka(s,o,y)):(it&&d&&S0(o),o.flags|=1,zn(s,o,c,y),o.child)}function sP(s,o,c,d,y,_){return Eu(o),o.updateQueue=null,c=aR(o,d,c,y),iR(s),d=F0(),s!==null&&!Rn?($0(s,o,_),Ka(s,o,_)):(it&&d&&S0(o),o.flags|=1,zn(s,o,c,_),o.child)}function oP(s,o,c,d,y){if(Eu(o),o.stateNode===null){var _=ec,I=c.contextType;typeof I=="object"&&I!==null&&(_=Zn(I)),_=new c(d,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=ib,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=d,_.state=o.memoizedState,_.refs={},M0(o),I=c.contextType,_.context=typeof I=="object"&&I!==null?Zn(I):ec,_.state=o.memoizedState,I=c.getDerivedStateFromProps,typeof I=="function"&&(rb(o,c,I,d),_.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(I=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),I!==_.state&&ib.enqueueReplaceState(_,_.state,null),kh(o,d,_,y),Nh(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(s===null){_=o.stateNode;var O=o.memoizedProps,z=Su(c,O);_.props=z;var X=_.context,ie=c.contextType;I=ec,typeof ie=="object"&&ie!==null&&(I=Zn(ie));var oe=c.getDerivedStateFromProps;ie=typeof oe=="function"||typeof _.getSnapshotBeforeUpdate=="function",O=o.pendingProps!==O,ie||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(O||X!==I)&&KR(o,_,d,I),Ls=!1;var J=o.memoizedState;_.state=J,kh(o,d,_,y),Nh(),X=o.memoizedState,O||J!==X||Ls?(typeof oe=="function"&&(rb(o,c,oe,d),X=o.memoizedState),(z=Ls||GR(o,c,z,d,J,X,I))?(ie||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=X),_.props=d,_.state=X,_.context=I,d=z):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{_=o.stateNode,V0(s,o),I=o.memoizedProps,ie=Su(c,I),_.props=ie,oe=o.pendingProps,J=_.context,X=c.contextType,z=ec,typeof X=="object"&&X!==null&&(z=Zn(X)),O=c.getDerivedStateFromProps,(X=typeof O=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==oe||J!==z)&&KR(o,_,d,z),Ls=!1,J=o.memoizedState,_.state=J,kh(o,d,_,y),Nh();var ee=o.memoizedState;I!==oe||J!==ee||Ls||s!==null&&s.dependencies!==null&&Qp(s.dependencies)?(typeof O=="function"&&(rb(o,c,O,d),ee=o.memoizedState),(ie=Ls||GR(o,c,ie,d,J,ee,z)||s!==null&&s.dependencies!==null&&Qp(s.dependencies))?(X||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,ee,z),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,ee,z)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===s.memoizedProps&&J===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&J===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ee),_.props=d,_.state=ee,_.context=z,d=ie):(typeof _.componentDidUpdate!="function"||I===s.memoizedProps&&J===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&J===s.memoizedState||(o.flags|=1024),d=!1)}return _=d,pg(s,o),d=(o.flags&128)!==0,_||d?(_=o.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,s!==null&&d?(o.child=cc(o,s.child,null,y),o.child=cc(o,null,c,y)):zn(s,o,c,y),o.memoizedState=_.state,s=o.child):s=Ka(s,o,y),s}function uP(s,o,c,d){return Sh(),o.flags|=256,zn(s,o,c,d),o.child}var ob={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ub(s){return{baseLanes:s,cachePool:Yx()}}function lb(s,o,c){return s=s!==null?s.childLanes&~c:0,o&&(s|=hi),s}function lP(s,o,c){var d=o.pendingProps,y=!1,_=(o.flags&128)!==0,I;if((I=_)||(I=s!==null&&s.memoizedState===null?!1:(yn.current&2)!==0),I&&(y=!0,o.flags&=-129),I=(o.flags&32)!==0,o.flags&=-33,s===null){if(it){if(y?qs(o):zs(),it){var O=zt,z;if(z=O){e:{for(z=O,O=na;z.nodeType!==8;){if(!O){O=null;break e}if(z=Oi(z.nextSibling),z===null){O=null;break e}}O=z}O!==null?(o.memoizedState={dehydrated:O,treeContext:yu!==null?{id:qa,overflow:za}:null,retryLane:536870912,hydrationErrors:null},z=kr(18,null,null,0),z.stateNode=O,z.return=o,o.child=z,hr=o,zt=null,z=!0):z=!1}z||bu(o)}if(O=o.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return Gb(O)?o.lanes=32:o.lanes=536870912,null;Ga(o)}return O=d.children,d=d.fallback,y?(zs(),y=o.mode,O=gg({mode:"hidden",children:O},y),d=gu(d,y,c,null),O.return=o,d.return=o,O.sibling=d,o.child=O,y=o.child,y.memoizedState=ub(c),y.childLanes=lb(s,I,c),o.memoizedState=ob,d):(qs(o),cb(o,O))}if(z=s.memoizedState,z!==null&&(O=z.dehydrated,O!==null)){if(_)o.flags&256?(qs(o),o.flags&=-257,o=fb(s,o,c)):o.memoizedState!==null?(zs(),o.child=s.child,o.flags|=128,o=null):(zs(),y=d.fallback,O=o.mode,d=gg({mode:"visible",children:d.children},O),y=gu(y,O,c,null),y.flags|=2,d.return=o,y.return=o,d.sibling=y,o.child=d,cc(o,s.child,null,c),d=o.child,d.memoizedState=ub(c),d.childLanes=lb(s,I,c),o.memoizedState=ob,o=y);else if(qs(o),Gb(O)){if(I=O.nextSibling&&O.nextSibling.dataset,I)var X=I.dgst;I=X,d=Error(r(419)),d.stack="",d.digest=I,Ih({value:d,source:null,stack:null}),o=fb(s,o,c)}else if(Rn||xh(s,o,c,!1),I=(c&s.childLanes)!==0,Rn||I){if(I=Et,I!==null&&(d=c&-c,d=(d&42)!==0?1:Ps(d),d=(d&(I.suspendedLanes|c))!==0?0:d,d!==0&&d!==z.retryLane))throw z.retryLane=d,Zl(s,d),Ur(I,s,d),eP;O.data==="$?"||Pb(),o=fb(s,o,c)}else O.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=z.treeContext,zt=Oi(O.nextSibling),hr=o,it=!0,_u=null,na=!1,s!==null&&(li[ci++]=qa,li[ci++]=za,li[ci++]=yu,qa=s.id,za=s.overflow,yu=o),o=cb(o,d.children),o.flags|=4096);return o}return y?(zs(),y=d.fallback,O=o.mode,z=s.child,X=z.sibling,d=Ba(z,{mode:"hidden",children:d.children}),d.subtreeFlags=z.subtreeFlags&65011712,X!==null?y=Ba(X,y):(y=gu(y,O,c,null),y.flags|=2),y.return=o,d.return=o,d.sibling=y,o.child=d,d=y,y=o.child,O=s.child.memoizedState,O===null?O=ub(c):(z=O.cachePool,z!==null?(X=gn._currentValue,z=z.parent!==X?{parent:X,pool:X}:z):z=Yx(),O={baseLanes:O.baseLanes|c,cachePool:z}),y.memoizedState=O,y.childLanes=lb(s,I,c),o.memoizedState=ob,d):(qs(o),c=s.child,s=c.sibling,c=Ba(c,{mode:"visible",children:d.children}),c.return=o,c.sibling=null,s!==null&&(I=o.deletions,I===null?(o.deletions=[s],o.flags|=16):I.push(s)),o.child=c,o.memoizedState=null,c)}function cb(s,o){return o=gg({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function gg(s,o){return s=kr(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function fb(s,o,c){return cc(o,s.child,null,c),s=cb(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function cP(s,o,c){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),P0(s.return,o,c)}function hb(s,o,c,d,y){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:y}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=d,_.tail=c,_.tailMode=y)}function fP(s,o,c){var d=o.pendingProps,y=d.revealOrder,_=d.tail;if(zn(s,o,d.children,c),d=yn.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&cP(s,c,o);else if(s.tag===19)cP(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}switch(me(yn,d),y){case"forwards":for(c=o.child,y=null;c!==null;)s=c.alternate,s!==null&&hg(s)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),hb(o,!1,y,c,_);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(s=y.alternate,s!==null&&hg(s)===null){o.child=y;break}s=y.sibling,y.sibling=c,c=y,y=s}hb(o,!0,c,null,_);break;case"together":hb(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ka(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Ks|=o.lanes,(c&o.childLanes)===0)if(s!==null){if(xh(s,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,c=Ba(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=Ba(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function db(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Qp(s)))}function wq(s,o,c){switch(o.tag){case 3:mt(o,o.stateNode.containerInfo),Vs(o,gn,s.memoizedState.cache),Sh();break;case 27:case 5:Ue(o);break;case 4:mt(o,o.stateNode.containerInfo);break;case 10:Vs(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(qs(o),o.flags|=128,null):(c&o.child.childLanes)!==0?lP(s,o,c):(qs(o),s=Ka(s,o,c),s!==null?s.sibling:null);qs(o);break;case 19:var y=(s.flags&128)!==0;if(d=(c&o.childLanes)!==0,d||(xh(s,o,c,!1),d=(c&o.childLanes)!==0),y){if(d)return fP(s,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),me(yn,yn.current),d)break;return null;case 22:case 23:return o.lanes=0,iP(s,o,c);case 24:Vs(o,gn,s.memoizedState.cache)}return Ka(s,o,c)}function hP(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps)Rn=!0;else{if(!db(s,c)&&(o.flags&128)===0)return Rn=!1,wq(s,o,c);Rn=(s.flags&131072)!==0}else Rn=!1,it&&(o.flags&1048576)!==0&&zx(o,Yp,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var d=o.elementType,y=d._init;if(d=y(d._payload),o.type=d,typeof d=="function")E0(d)?(s=Su(d,s),o.tag=1,o=oP(null,o,d,s,c)):(o.tag=0,o=sb(null,o,d,s,c));else{if(d!=null){if(y=d.$$typeof,y===U){o.tag=11,o=tP(null,o,d,s,c);break e}else if(y===D){o.tag=14,o=nP(null,o,d,s,c);break e}}throw o=ve(d)||d,Error(r(306,o,""))}}return o;case 0:return sb(s,o,o.type,o.pendingProps,c);case 1:return d=o.type,y=Su(d,o.pendingProps),oP(s,o,d,y,c);case 3:e:{if(mt(o,o.stateNode.containerInfo),s===null)throw Error(r(387));d=o.pendingProps;var _=o.memoizedState;y=_.element,V0(s,o),kh(o,d,null,c);var I=o.memoizedState;if(d=I.cache,Vs(o,gn,d),d!==_.cache&&C0(o,[gn],c,!0),Nh(),d=I.element,_.isDehydrated)if(_={element:d,isDehydrated:!1,cache:I.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=uP(s,o,d,c);break e}else if(d!==y){y=oi(Error(r(424)),o),Ih(y),o=uP(s,o,d,c);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(zt=Oi(s.firstChild),hr=o,it=!0,_u=null,na=!0,c=$R(o,null,d,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Sh(),d===y){o=Ka(s,o,c);break e}zn(s,o,d,c)}o=o.child}return o;case 26:return pg(s,o),s===null?(c=gC(o.type,null,o.pendingProps,null))?o.memoizedState=c:it||(c=o.type,s=o.pendingProps,d=Cg(Me.current).createElement(c),d[dn]=o,d[nn]=s,$n(d,c,s),Wt(d),o.stateNode=d):o.memoizedState=gC(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Ue(o),s===null&&it&&(d=o.stateNode=dC(o.type,o.pendingProps,Me.current),hr=o,na=!0,y=zt,Xs(o.type)?(Kb=y,zt=Oi(d.firstChild)):zt=y),zn(s,o,o.pendingProps.children,c),pg(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&it&&((y=d=zt)&&(d=Yq(d,o.type,o.pendingProps,na),d!==null?(o.stateNode=d,hr=o,zt=Oi(d.firstChild),na=!1,y=!0):y=!1),y||bu(o)),Ue(o),y=o.type,_=o.pendingProps,I=s!==null?s.memoizedProps:null,d=_.children,Fb(y,_)?d=null:I!==null&&Fb(y,I)&&(o.flags|=32),o.memoizedState!==null&&(y=z0(s,o,dq,null,null,c),nd._currentValue=y),pg(s,o),zn(s,o,d,c),o.child;case 6:return s===null&&it&&((s=c=zt)&&(c=Qq(c,o.pendingProps,na),c!==null?(o.stateNode=c,hr=o,zt=null,s=!0):s=!1),s||bu(o)),null;case 13:return lP(s,o,c);case 4:return mt(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=cc(o,null,d,c):zn(s,o,d,c),o.child;case 11:return tP(s,o,o.type,o.pendingProps,c);case 7:return zn(s,o,o.pendingProps,c),o.child;case 8:return zn(s,o,o.pendingProps.children,c),o.child;case 12:return zn(s,o,o.pendingProps.children,c),o.child;case 10:return d=o.pendingProps,Vs(o,o.type,d.value),zn(s,o,d.children,c),o.child;case 9:return y=o.type._context,d=o.pendingProps.children,Eu(o),y=Zn(y),d=d(y),o.flags|=1,zn(s,o,d,c),o.child;case 14:return nP(s,o,o.type,o.pendingProps,c);case 15:return rP(s,o,o.type,o.pendingProps,c);case 19:return fP(s,o,c);case 31:return d=o.pendingProps,c=o.mode,d={mode:d.mode,children:d.children},s===null?(c=gg(d,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=Ba(s.child,d),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return iP(s,o,c);case 24:return Eu(o),d=Zn(gn),s===null?(y=N0(),y===null&&(y=Et,_=O0(),y.pooledCache=_,_.refCount++,_!==null&&(y.pooledCacheLanes|=c),y=_),o.memoizedState={parent:d,cache:y},M0(o),Vs(o,gn,y)):((s.lanes&c)!==0&&(V0(s,o),kh(o,null,null,c),Nh()),y=s.memoizedState,_=o.memoizedState,y.parent!==d?(y={parent:d,cache:d},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Vs(o,gn,d)):(d=_.cache,Vs(o,gn,d),d!==y.cache&&C0(o,[gn],c,!0))),zn(s,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Wa(s){s.flags|=4}function dP(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!wC(o)){if(o=fi.current,o!==null&&((Ze&4194048)===Ze?ra!==null:(Ze&62914560)!==Ze&&(Ze&536870912)===0||o!==ra))throw Oh=k0,Qx;s.flags|=8192}}function yg(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?ih():536870912,s.lanes|=o,mc|=o)}function qh(s,o){if(!it)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Lt(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,d=0;if(o)for(var y=s.child;y!==null;)c|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)c|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=d,s.childLanes=c,o}function Eq(s,o,c){var d=o.pendingProps;switch(I0(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(o),null;case 1:return Lt(o),null;case 3:return c=o.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),$a(gn),_e(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Ah(o)?Wa(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Hx())),Lt(o),null;case 26:return c=o.memoizedState,s===null?(Wa(o),c!==null?(Lt(o),dP(o,c)):(Lt(o),o.flags&=-16777217)):c?c!==s.memoizedState?(Wa(o),Lt(o),dP(o,c)):(Lt(o),o.flags&=-16777217):(s.memoizedProps!==d&&Wa(o),Lt(o),o.flags&=-16777217),null;case 27:Be(o),c=Me.current;var y=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==d&&Wa(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return Lt(o),null}s=Re.current,Ah(o)?Fx(o):(s=dC(y,d,c),o.stateNode=s,Wa(o))}return Lt(o),null;case 5:if(Be(o),c=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==d&&Wa(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return Lt(o),null}if(s=Re.current,Ah(o))Fx(o);else{switch(y=Cg(Me.current),s){case 1:s=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=y.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof d.is=="string"?y.createElement("select",{is:d.is}):y.createElement("select"),d.multiple?s.multiple=!0:d.size&&(s.size=d.size);break;default:s=typeof d.is=="string"?y.createElement(c,{is:d.is}):y.createElement(c)}}s[dn]=o,s[nn]=d;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)s.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=s;e:switch($n(s,c,d),c){case"button":case"input":case"select":case"textarea":s=!!d.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Wa(o)}}return Lt(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==d&&Wa(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(r(166));if(s=Me.current,Ah(o)){if(s=o.stateNode,c=o.memoizedProps,d=null,y=hr,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}s[dn]=o,s=!!(s.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||sC(s.nodeValue,c)),s||bu(o)}else s=Cg(s).createTextNode(d),s[dn]=o,o.stateNode=s}return Lt(o),null;case 13:if(d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=Ah(o),d!==null&&d.dehydrated!==null){if(s===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[dn]=o}else Sh(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Lt(o),y=!1}else y=Hx(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Ga(o),o):(Ga(o),null)}if(Ga(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=d!==null,s=s!==null&&s.memoizedState!==null,c){d=o.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool);var _=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(_=d.memoizedState.cachePool.pool),_!==y&&(d.flags|=2048)}return c!==s&&c&&(o.child.flags|=8192),yg(o,o.updateQueue),Lt(o),null;case 4:return _e(),s===null&&jb(o.stateNode.containerInfo),Lt(o),null;case 10:return $a(o.type),Lt(o),null;case 19:if(ae(yn),y=o.memoizedState,y===null)return Lt(o),null;if(d=(o.flags&128)!==0,_=y.rendering,_===null)if(d)qh(y,!1);else{if(Ft!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(_=hg(s),_!==null){for(o.flags|=128,qh(y,!1),s=_.updateQueue,o.updateQueue=s,yg(o,s),o.subtreeFlags=0,s=c,c=o.child;c!==null;)qx(c,s),c=c.sibling;return me(yn,yn.current&1|2),o.child}s=s.sibling}y.tail!==null&&tn()>bg&&(o.flags|=128,d=!0,qh(y,!1),o.lanes=4194304)}else{if(!d)if(s=hg(_),s!==null){if(o.flags|=128,d=!0,s=s.updateQueue,o.updateQueue=s,yg(o,s),qh(y,!0),y.tail===null&&y.tailMode==="hidden"&&!_.alternate&&!it)return Lt(o),null}else 2*tn()-y.renderingStartTime>bg&&c!==536870912&&(o.flags|=128,d=!0,qh(y,!1),o.lanes=4194304);y.isBackwards?(_.sibling=o.child,o.child=_):(s=y.last,s!==null?s.sibling=_:o.child=_,y.last=_)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=tn(),o.sibling=null,s=yn.current,me(yn,d?s&1|2:s&1),o):(Lt(o),null);case 22:case 23:return Ga(o),B0(),d=o.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(c&536870912)!==0&&(o.flags&128)===0&&(Lt(o),o.subtreeFlags&6&&(o.flags|=8192)):Lt(o),c=o.updateQueue,c!==null&&yg(o,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048),s!==null&&ae(Tu),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),$a(gn),Lt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function Tq(s,o){switch(I0(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return $a(gn),_e(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Be(o),null;case 13:if(Ga(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Sh()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ae(yn),null;case 4:return _e(),null;case 10:return $a(o.type),null;case 22:case 23:return Ga(o),B0(),s!==null&&ae(Tu),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return $a(gn),null;case 25:return null;default:return null}}function mP(s,o){switch(I0(o),o.tag){case 3:$a(gn),_e();break;case 26:case 27:case 5:Be(o);break;case 4:_e();break;case 13:Ga(o);break;case 19:ae(yn);break;case 10:$a(o.type);break;case 22:case 23:Ga(o),B0(),s!==null&&ae(Tu);break;case 24:$a(gn)}}function zh(s,o){try{var c=o.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var y=d.next;c=y;do{if((c.tag&s)===s){d=void 0;var _=c.create,I=c.inst;d=_(),I.destroy=d}c=c.next}while(c!==y)}}catch(O){bt(o,o.return,O)}}function Fs(s,o,c){try{var d=o.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var _=y.next;d=_;do{if((d.tag&s)===s){var I=d.inst,O=I.destroy;if(O!==void 0){I.destroy=void 0,y=o;var z=c,X=O;try{X()}catch(ie){bt(y,z,ie)}}}d=d.next}while(d!==_)}}catch(ie){bt(o,o.return,ie)}}function pP(s){var o=s.updateQueue;if(o!==null){var c=s.stateNode;try{nR(o,c)}catch(d){bt(s,s.return,d)}}}function gP(s,o,c){c.props=Su(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(d){bt(s,o,d)}}function Fh(s,o){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof c=="function"?s.refCleanup=c(d):c.current=d}}catch(y){bt(s,o,y)}}function ia(s,o){var c=s.ref,d=s.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(y){bt(s,o,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){bt(s,o,y)}else c.current=null}function yP(s){var o=s.type,c=s.memoizedProps,d=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(y){bt(s,s.return,y)}}function mb(s,o,c){try{var d=s.stateNode;$q(d,s.type,c,o),d[nn]=o}catch(y){bt(s,s.return,y)}}function vP(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Xs(s.type)||s.tag===4}function pb(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||vP(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Xs(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function gb(s,o,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(s),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Pg));else if(d!==4&&(d===27&&Xs(s.type)&&(c=s.stateNode,o=null),s=s.child,s!==null))for(gb(s,o,c),s=s.sibling;s!==null;)gb(s,o,c),s=s.sibling}function vg(s,o,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(d!==4&&(d===27&&Xs(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(vg(s,o,c),s=s.sibling;s!==null;)vg(s,o,c),s=s.sibling}function _P(s){var o=s.stateNode,c=s.memoizedProps;try{for(var d=s.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);$n(o,d,c),o[dn]=s,o[nn]=c}catch(_){bt(s,s.return,_)}}var Ya=!1,Qt=!1,yb=!1,bP=typeof WeakSet=="function"?WeakSet:Set,Pn=null;function Aq(s,o){if(s=s.containerInfo,qb=Vg,s=Ox(s),p0(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var y=d.anchorOffset,_=d.focusNode;d=d.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var I=0,O=-1,z=-1,X=0,ie=0,oe=s,J=null;t:for(;;){for(var ee;oe!==c||y!==0&&oe.nodeType!==3||(O=I+y),oe!==_||d!==0&&oe.nodeType!==3||(z=I+d),oe.nodeType===3&&(I+=oe.nodeValue.length),(ee=oe.firstChild)!==null;)J=oe,oe=ee;for(;;){if(oe===s)break t;if(J===c&&++X===y&&(O=I),J===_&&++ie===d&&(z=I),(ee=oe.nextSibling)!==null)break;oe=J,J=oe.parentNode}oe=ee}c=O===-1||z===-1?null:{start:O,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(zb={focusedElem:s,selectionRange:c},Vg=!1,Pn=o;Pn!==null;)if(o=Pn,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,Pn=s;else for(;Pn!==null;){switch(o=Pn,_=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,c=o,y=_.memoizedProps,_=_.memoizedState,d=c.stateNode;try{var Ve=Su(c.type,y,c.elementType===c.type);s=d.getSnapshotBeforeUpdate(Ve,_),d.__reactInternalSnapshotBeforeUpdate=s}catch(Ne){bt(c,c.return,Ne)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,c=s.nodeType,c===9)Hb(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Hb(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=o.sibling,s!==null){s.return=o.return,Pn=s;break}Pn=o.return}}function wP(s,o,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:$s(s,c),d&4&&zh(5,c);break;case 1:if($s(s,c),d&4)if(s=c.stateNode,o===null)try{s.componentDidMount()}catch(I){bt(c,c.return,I)}else{var y=Su(c.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(y,o,s.__reactInternalSnapshotBeforeUpdate)}catch(I){bt(c,c.return,I)}}d&64&&pP(c),d&512&&Fh(c,c.return);break;case 3:if($s(s,c),d&64&&(s=c.updateQueue,s!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{nR(s,o)}catch(I){bt(c,c.return,I)}}break;case 27:o===null&&d&4&&_P(c);case 26:case 5:$s(s,c),o===null&&d&4&&yP(c),d&512&&Fh(c,c.return);break;case 12:$s(s,c);break;case 13:$s(s,c),d&4&&AP(s,c),d&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=Nq.bind(null,c),Xq(s,c))));break;case 22:if(d=c.memoizedState!==null||Ya,!d){o=o!==null&&o.memoizedState!==null||Qt,y=Ya;var _=Qt;Ya=d,(Qt=o)&&!_?Hs(s,c,(c.subtreeFlags&8772)!==0):$s(s,c),Ya=y,Qt=_}break;case 30:break;default:$s(s,c)}}function EP(s){var o=s.alternate;o!==null&&(s.alternate=null,EP(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Ds(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ct=null,wr=!1;function Qa(s,o,c){for(c=c.child;c!==null;)TP(s,o,c),c=c.sibling}function TP(s,o,c){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(qt,c)}catch{}switch(c.tag){case 26:Qt||ia(c,o),Qa(s,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Qt||ia(c,o);var d=Ct,y=wr;Xs(c.type)&&(Ct=c.stateNode,wr=!1),Qa(s,o,c),Jh(c.stateNode),Ct=d,wr=y;break;case 5:Qt||ia(c,o);case 6:if(d=Ct,y=wr,Ct=null,Qa(s,o,c),Ct=d,wr=y,Ct!==null)if(wr)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(c.stateNode)}catch(_){bt(c,o,_)}else try{Ct.removeChild(c.stateNode)}catch(_){bt(c,o,_)}break;case 18:Ct!==null&&(wr?(s=Ct,fC(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),sd(s)):fC(Ct,c.stateNode));break;case 4:d=Ct,y=wr,Ct=c.stateNode.containerInfo,wr=!0,Qa(s,o,c),Ct=d,wr=y;break;case 0:case 11:case 14:case 15:Qt||Fs(2,c,o),Qt||Fs(4,c,o),Qa(s,o,c);break;case 1:Qt||(ia(c,o),d=c.stateNode,typeof d.componentWillUnmount=="function"&&gP(c,o,d)),Qa(s,o,c);break;case 21:Qa(s,o,c);break;case 22:Qt=(d=Qt)||c.memoizedState!==null,Qa(s,o,c),Qt=d;break;default:Qa(s,o,c)}}function AP(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{sd(s)}catch(c){bt(o,o.return,c)}}function Sq(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new bP),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new bP),o;default:throw Error(r(435,s.tag))}}function vb(s,o){var c=Sq(s);o.forEach(function(d){var y=kq.bind(null,s,d);c.has(d)||(c.add(d),d.then(y,y))})}function Mr(s,o){var c=o.deletions;if(c!==null)for(var d=0;d<c.length;d++){var y=c[d],_=s,I=o,O=I;e:for(;O!==null;){switch(O.tag){case 27:if(Xs(O.type)){Ct=O.stateNode,wr=!1;break e}break;case 5:Ct=O.stateNode,wr=!1;break e;case 3:case 4:Ct=O.stateNode.containerInfo,wr=!0;break e}O=O.return}if(Ct===null)throw Error(r(160));TP(_,I,y),Ct=null,wr=!1,_=y.alternate,_!==null&&(_.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)SP(o,s),o=o.sibling}var Ci=null;function SP(s,o){var c=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Mr(o,s),Vr(s),d&4&&(Fs(3,s,s.return),zh(3,s),Fs(5,s,s.return));break;case 1:Mr(o,s),Vr(s),d&512&&(Qt||c===null||ia(c,c.return)),d&64&&Ya&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var y=Ci;if(Mr(o,s),Vr(s),d&512&&(Qt||c===null||ia(c,c.return)),d&4){var _=c!==null?c.memoizedState:null;if(d=s.memoizedState,c===null)if(d===null)if(s.stateNode===null){e:{d=s.type,c=s.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":_=y.getElementsByTagName("title")[0],(!_||_[eu]||_[dn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=y.createElement(d),y.head.insertBefore(_,y.querySelector("head > title"))),$n(_,d,c),_[dn]=s,Wt(_),d=_;break e;case"link":var I=_C("link","href",y).get(d+(c.href||""));if(I){for(var O=0;O<I.length;O++)if(_=I[O],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){I.splice(O,1);break t}}_=y.createElement(d),$n(_,d,c),y.head.appendChild(_);break;case"meta":if(I=_C("meta","content",y).get(d+(c.content||""))){for(O=0;O<I.length;O++)if(_=I[O],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){I.splice(O,1);break t}}_=y.createElement(d),$n(_,d,c),y.head.appendChild(_);break;default:throw Error(r(468,d))}_[dn]=s,Wt(_),d=_}s.stateNode=d}else bC(y,s.type,s.stateNode);else s.stateNode=vC(y,d,s.memoizedProps);else _!==d?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,d===null?bC(y,s.type,s.stateNode):vC(y,d,s.memoizedProps)):d===null&&s.stateNode!==null&&mb(s,s.memoizedProps,c.memoizedProps)}break;case 27:Mr(o,s),Vr(s),d&512&&(Qt||c===null||ia(c,c.return)),c!==null&&d&4&&mb(s,s.memoizedProps,c.memoizedProps);break;case 5:if(Mr(o,s),Vr(s),d&512&&(Qt||c===null||ia(c,c.return)),s.flags&32){y=s.stateNode;try{ri(y,"")}catch(ee){bt(s,s.return,ee)}}d&4&&s.stateNode!=null&&(y=s.memoizedProps,mb(s,y,c!==null?c.memoizedProps:y)),d&1024&&(yb=!0);break;case 6:if(Mr(o,s),Vr(s),d&4){if(s.stateNode===null)throw Error(r(162));d=s.memoizedProps,c=s.stateNode;try{c.nodeValue=d}catch(ee){bt(s,s.return,ee)}}break;case 3:if(Ng=null,y=Ci,Ci=Og(o.containerInfo),Mr(o,s),Ci=y,Vr(s),d&4&&c!==null&&c.memoizedState.isDehydrated)try{sd(o.containerInfo)}catch(ee){bt(s,s.return,ee)}yb&&(yb=!1,IP(s));break;case 4:d=Ci,Ci=Og(s.stateNode.containerInfo),Mr(o,s),Vr(s),Ci=d;break;case 12:Mr(o,s),Vr(s);break;case 13:Mr(o,s),Vr(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Ab=tn()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,vb(s,d)));break;case 22:y=s.memoizedState!==null;var z=c!==null&&c.memoizedState!==null,X=Ya,ie=Qt;if(Ya=X||y,Qt=ie||z,Mr(o,s),Qt=ie,Ya=X,Vr(s),d&8192)e:for(o=s.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||z||Ya||Qt||Iu(s)),c=null,o=s;;){if(o.tag===5||o.tag===26){if(c===null){z=c=o;try{if(_=z.stateNode,y)I=_.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{O=z.stateNode;var oe=z.memoizedProps.style,J=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;O.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ee){bt(z,z.return,ee)}}}else if(o.tag===6){if(c===null){z=o;try{z.stateNode.nodeValue=y?"":z.memoizedProps}catch(ee){bt(z,z.return,ee)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=s.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,vb(s,c))));break;case 19:Mr(o,s),Vr(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,vb(s,d)));break;case 30:break;case 21:break;default:Mr(o,s),Vr(s)}}function Vr(s){var o=s.flags;if(o&2){try{for(var c,d=s.return;d!==null;){if(vP(d)){c=d;break}d=d.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,_=pb(s);vg(s,_,y);break;case 5:var I=c.stateNode;c.flags&32&&(ri(I,""),c.flags&=-33);var O=pb(s);vg(s,O,I);break;case 3:case 4:var z=c.stateNode.containerInfo,X=pb(s);gb(s,X,z);break;default:throw Error(r(161))}}catch(ie){bt(s,s.return,ie)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function IP(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;IP(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function $s(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)wP(s,o.alternate,o),o=o.sibling}function Iu(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Fs(4,o,o.return),Iu(o);break;case 1:ia(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&gP(o,o.return,c),Iu(o);break;case 27:Jh(o.stateNode);case 26:case 5:ia(o,o.return),Iu(o);break;case 22:o.memoizedState===null&&Iu(o);break;case 30:Iu(o);break;default:Iu(o)}s=s.sibling}}function Hs(s,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,y=s,_=o,I=_.flags;switch(_.tag){case 0:case 11:case 15:Hs(y,_,c),zh(4,_);break;case 1:if(Hs(y,_,c),d=_,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(X){bt(d,d.return,X)}if(d=_,y=d.updateQueue,y!==null){var O=d.stateNode;try{var z=y.shared.hiddenCallbacks;if(z!==null)for(y.shared.hiddenCallbacks=null,y=0;y<z.length;y++)tR(z[y],O)}catch(X){bt(d,d.return,X)}}c&&I&64&&pP(_),Fh(_,_.return);break;case 27:_P(_);case 26:case 5:Hs(y,_,c),c&&d===null&&I&4&&yP(_),Fh(_,_.return);break;case 12:Hs(y,_,c);break;case 13:Hs(y,_,c),c&&I&4&&AP(y,_);break;case 22:_.memoizedState===null&&Hs(y,_,c),Fh(_,_.return);break;case 30:break;default:Hs(y,_,c)}o=o.sibling}}function _b(s,o){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Rh(c))}function bb(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Rh(s))}function aa(s,o,c,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)xP(s,o,c,d),o=o.sibling}function xP(s,o,c,d){var y=o.flags;switch(o.tag){case 0:case 11:case 15:aa(s,o,c,d),y&2048&&zh(9,o);break;case 1:aa(s,o,c,d);break;case 3:aa(s,o,c,d),y&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Rh(s)));break;case 12:if(y&2048){aa(s,o,c,d),s=o.stateNode;try{var _=o.memoizedProps,I=_.id,O=_.onPostCommit;typeof O=="function"&&O(I,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(z){bt(o,o.return,z)}}else aa(s,o,c,d);break;case 13:aa(s,o,c,d);break;case 23:break;case 22:_=o.stateNode,I=o.alternate,o.memoizedState!==null?_._visibility&2?aa(s,o,c,d):$h(s,o):_._visibility&2?aa(s,o,c,d):(_._visibility|=2,fc(s,o,c,d,(o.subtreeFlags&10256)!==0)),y&2048&&_b(I,o);break;case 24:aa(s,o,c,d),y&2048&&bb(o.alternate,o);break;default:aa(s,o,c,d)}}function fc(s,o,c,d,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var _=s,I=o,O=c,z=d,X=I.flags;switch(I.tag){case 0:case 11:case 15:fc(_,I,O,z,y),zh(8,I);break;case 23:break;case 22:var ie=I.stateNode;I.memoizedState!==null?ie._visibility&2?fc(_,I,O,z,y):$h(_,I):(ie._visibility|=2,fc(_,I,O,z,y)),y&&X&2048&&_b(I.alternate,I);break;case 24:fc(_,I,O,z,y),y&&X&2048&&bb(I.alternate,I);break;default:fc(_,I,O,z,y)}o=o.sibling}}function $h(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=s,d=o,y=d.flags;switch(d.tag){case 22:$h(c,d),y&2048&&_b(d.alternate,d);break;case 24:$h(c,d),y&2048&&bb(d.alternate,d);break;default:$h(c,d)}o=o.sibling}}var Hh=8192;function hc(s){if(s.subtreeFlags&Hh)for(s=s.child;s!==null;)RP(s),s=s.sibling}function RP(s){switch(s.tag){case 26:hc(s),s.flags&Hh&&s.memoizedState!==null&&cz(Ci,s.memoizedState,s.memoizedProps);break;case 5:hc(s);break;case 3:case 4:var o=Ci;Ci=Og(s.stateNode.containerInfo),hc(s),Ci=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=Hh,Hh=16777216,hc(s),Hh=o):hc(s));break;default:hc(s)}}function PP(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Gh(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];Pn=d,OP(d,s)}PP(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)CP(s),s=s.sibling}function CP(s){switch(s.tag){case 0:case 11:case 15:Gh(s),s.flags&2048&&Fs(9,s,s.return);break;case 3:Gh(s);break;case 12:Gh(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,_g(s)):Gh(s);break;default:Gh(s)}}function _g(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];Pn=d,OP(d,s)}PP(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Fs(8,o,o.return),_g(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,_g(o));break;default:_g(o)}s=s.sibling}}function OP(s,o){for(;Pn!==null;){var c=Pn;switch(c.tag){case 0:case 11:case 15:Fs(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Rh(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,Pn=d;else e:for(c=s;Pn!==null;){d=Pn;var y=d.sibling,_=d.return;if(EP(d),d===c){Pn=null;break e}if(y!==null){y.return=_,Pn=y;break e}Pn=_}}}var Iq={getCacheForType:function(s){var o=Zn(gn),c=o.data.get(s);return c===void 0&&(c=s(),o.data.set(s,c)),c}},xq=typeof WeakMap=="function"?WeakMap:Map,ut=0,Et=null,He=null,Ze=0,lt=0,Lr=null,Gs=!1,dc=!1,wb=!1,Xa=0,Ft=0,Ks=0,xu=0,Eb=0,hi=0,mc=0,Kh=null,Er=null,Tb=!1,Ab=0,bg=1/0,wg=null,Ws=null,Fn=0,Ys=null,pc=null,gc=0,Sb=0,Ib=null,DP=null,Wh=0,xb=null;function jr(){if((ut&2)!==0&&Ze!==0)return Ze&-Ze;if(Z.T!==null){var s=rc;return s!==0?s:kb()}return Cs()}function NP(){hi===0&&(hi=(Ze&536870912)===0||it?rh():536870912);var s=fi.current;return s!==null&&(s.flags|=32),hi}function Ur(s,o,c){(s===Et&&(lt===2||lt===9)||s.cancelPendingCommit!==null)&&(yc(s,0),Qs(s,Ze,hi,!1)),Pa(s,c),((ut&2)===0||s!==Et)&&(s===Et&&((ut&2)===0&&(xu|=c),Ft===4&&Qs(s,Ze,hi,!1)),sa(s))}function kP(s,o,c){if((ut&6)!==0)throw Error(r(327));var d=!c&&(o&124)===0&&(o&s.expiredLanes)===0||Zo(s,o),y=d?Cq(s,o):Cb(s,o,!0),_=d;do{if(y===0){dc&&!d&&Qs(s,o,0,!1);break}else{if(c=s.current.alternate,_&&!Rq(c)){y=Cb(s,o,!1),_=!1;continue}if(y===2){if(_=o,s.errorRecoveryDisabledLanes&_)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){o=I;e:{var O=s;y=Kh;var z=O.current.memoizedState.isDehydrated;if(z&&(yc(O,I).flags|=256),I=Cb(O,I,!1),I!==2){if(wb&&!z){O.errorRecoveryDisabledLanes|=_,xu|=_,y=4;break e}_=Er,Er=y,_!==null&&(Er===null?Er=_:Er.push.apply(Er,_))}y=I}if(_=!1,y!==2)continue}}if(y===1){yc(s,0),Qs(s,o,0,!0);break}e:{switch(d=s,_=y,_){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Qs(d,o,hi,!Gs);break e;case 2:Er=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=Ab+300-tn(),10<y)){if(Qs(d,o,hi,!Gs),kl(d,0,!0)!==0)break e;d.timeoutHandle=lC(MP.bind(null,d,c,Er,wg,Tb,o,hi,xu,mc,Gs,_,2,-0,0),y);break e}MP(d,c,Er,wg,Tb,o,hi,xu,mc,Gs,_,0,-0,0)}}break}while(!0);sa(s)}function MP(s,o,c,d,y,_,I,O,z,X,ie,oe,J,ee){if(s.timeoutHandle=-1,oe=o.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(td={stylesheets:null,count:0,unsuspend:lz},RP(o),oe=fz(),oe!==null)){s.cancelPendingCommit=oe(zP.bind(null,s,o,_,c,d,y,I,O,z,ie,1,J,ee)),Qs(s,_,I,!X);return}zP(s,o,_,c,d,y,I,O,z)}function Rq(s){for(var o=s;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var y=c[d],_=y.getSnapshot;y=y.value;try{if(!Nr(_(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Qs(s,o,c,d){o&=~Eb,o&=~xu,s.suspendedLanes|=o,s.pingedLanes&=~o,d&&(s.warmLanes|=o),d=s.expirationTimes;for(var y=o;0<y;){var _=31-Jn(y),I=1<<_;d[_]=-1,y&=~I}c!==0&&Hi(s,c,o)}function Eg(){return(ut&6)===0?(Yh(0),!1):!0}function Rb(){if(He!==null){if(lt===0)var s=He.return;else s=He,Fa=wu=null,H0(s),lc=null,Uh=0,s=He;for(;s!==null;)mP(s.alternate,s),s=s.return;He=null}}function yc(s,o){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,Gq(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),Rb(),Et=s,He=c=Ba(s.current,null),Ze=o,lt=0,Lr=null,Gs=!1,dc=Zo(s,o),wb=!1,mc=hi=Eb=xu=Ks=Ft=0,Er=Kh=null,Tb=!1,(o&8)!==0&&(o|=o&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=o;0<d;){var y=31-Jn(d),_=1<<y;o|=s[y],d&=~_}return Xa=o,$p(),c}function VP(s,o){Fe=null,Z.H=lg,o===Ch||o===Zp?(o=Zx(),lt=3):o===Qx?(o=Zx(),lt=4):lt=o===eP?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Lr=o,He===null&&(Ft=1,mg(s,oi(o,s.current)))}function LP(){var s=Z.H;return Z.H=lg,s===null?lg:s}function jP(){var s=Z.A;return Z.A=Iq,s}function Pb(){Ft=4,Gs||(Ze&4194048)!==Ze&&fi.current!==null||(dc=!0),(Ks&134217727)===0&&(xu&134217727)===0||Et===null||Qs(Et,Ze,hi,!1)}function Cb(s,o,c){var d=ut;ut|=2;var y=LP(),_=jP();(Et!==s||Ze!==o)&&(wg=null,yc(s,o)),o=!1;var I=Ft;e:do try{if(lt!==0&&He!==null){var O=He,z=Lr;switch(lt){case 8:Rb(),I=6;break e;case 3:case 2:case 9:case 6:fi.current===null&&(o=!0);var X=lt;if(lt=0,Lr=null,vc(s,O,z,X),c&&dc){I=0;break e}break;default:X=lt,lt=0,Lr=null,vc(s,O,z,X)}}Pq(),I=Ft;break}catch(ie){VP(s,ie)}while(!0);return o&&s.shellSuspendCounter++,Fa=wu=null,ut=d,Z.H=y,Z.A=_,He===null&&(Et=null,Ze=0,$p()),I}function Pq(){for(;He!==null;)UP(He)}function Cq(s,o){var c=ut;ut|=2;var d=LP(),y=jP();Et!==s||Ze!==o?(wg=null,bg=tn()+500,yc(s,o)):dc=Zo(s,o);e:do try{if(lt!==0&&He!==null){o=He;var _=Lr;t:switch(lt){case 1:lt=0,Lr=null,vc(s,o,_,1);break;case 2:case 9:if(Xx(_)){lt=0,Lr=null,BP(o);break}o=function(){lt!==2&&lt!==9||Et!==s||(lt=7),sa(s)},_.then(o,o);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:Xx(_)?(lt=0,Lr=null,BP(o)):(lt=0,Lr=null,vc(s,o,_,7));break;case 5:var I=null;switch(He.tag){case 26:I=He.memoizedState;case 5:case 27:var O=He;if(!I||wC(I)){lt=0,Lr=null;var z=O.sibling;if(z!==null)He=z;else{var X=O.return;X!==null?(He=X,Tg(X)):He=null}break t}}lt=0,Lr=null,vc(s,o,_,5);break;case 6:lt=0,Lr=null,vc(s,o,_,6);break;case 8:Rb(),Ft=6;break e;default:throw Error(r(462))}}Oq();break}catch(ie){VP(s,ie)}while(!0);return Fa=wu=null,Z.H=d,Z.A=y,ut=c,He!==null?0:(Et=null,Ze=0,$p(),Ft)}function Oq(){for(;He!==null&&!hn();)UP(He)}function UP(s){var o=hP(s.alternate,s,Xa);s.memoizedProps=s.pendingProps,o===null?Tg(s):He=o}function BP(s){var o=s,c=o.alternate;switch(o.tag){case 15:case 0:o=sP(c,o,o.pendingProps,o.type,void 0,Ze);break;case 11:o=sP(c,o,o.pendingProps,o.type.render,o.ref,Ze);break;case 5:H0(o);default:mP(c,o),o=He=qx(o,Xa),o=hP(c,o,Xa)}s.memoizedProps=s.pendingProps,o===null?Tg(s):He=o}function vc(s,o,c,d){Fa=wu=null,H0(o),lc=null,Uh=0;var y=o.return;try{if(bq(s,y,o,c,Ze)){Ft=1,mg(s,oi(c,s.current)),He=null;return}}catch(_){if(y!==null)throw He=y,_;Ft=1,mg(s,oi(c,s.current)),He=null;return}o.flags&32768?(it||d===1?s=!0:dc||(Ze&536870912)!==0?s=!1:(Gs=s=!0,(d===2||d===9||d===3||d===6)&&(d=fi.current,d!==null&&d.tag===13&&(d.flags|=16384))),qP(o,s)):Tg(o)}function Tg(s){var o=s;do{if((o.flags&32768)!==0){qP(o,Gs);return}s=o.return;var c=Eq(o.alternate,o,Xa);if(c!==null){He=c;return}if(o=o.sibling,o!==null){He=o;return}He=o=s}while(o!==null);Ft===0&&(Ft=5)}function qP(s,o){do{var c=Tq(s.alternate,s);if(c!==null){c.flags&=32767,He=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(s=s.sibling,s!==null)){He=s;return}He=s=c}while(s!==null);Ft=6,He=null}function zP(s,o,c,d,y,_,I,O,z){s.cancelPendingCommit=null;do Ag();while(Fn!==0);if((ut&6)!==0)throw Error(r(327));if(o!==null){if(o===s.current)throw Error(r(177));if(_=o.lanes|o.childLanes,_|=b0,ah(s,c,_,I,O,z),s===Et&&(He=Et=null,Ze=0),pc=o,Ys=s,gc=c,Sb=_,Ib=y,DP=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Mq(Yo,function(){return KP(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=Z.T,Z.T=null,y=ce.p,ce.p=2,I=ut,ut|=4;try{Aq(s,o,c)}finally{ut=I,ce.p=y,Z.T=d}}Fn=1,FP(),$P(),HP()}}function FP(){if(Fn===1){Fn=0;var s=Ys,o=pc,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null;var d=ce.p;ce.p=2;var y=ut;ut|=4;try{SP(o,s);var _=zb,I=Ox(s.containerInfo),O=_.focusedElem,z=_.selectionRange;if(I!==O&&O&&O.ownerDocument&&Cx(O.ownerDocument.documentElement,O)){if(z!==null&&p0(O)){var X=z.start,ie=z.end;if(ie===void 0&&(ie=X),"selectionStart"in O)O.selectionStart=X,O.selectionEnd=Math.min(ie,O.value.length);else{var oe=O.ownerDocument||document,J=oe&&oe.defaultView||window;if(J.getSelection){var ee=J.getSelection(),Ve=O.textContent.length,Ne=Math.min(z.start,Ve),vt=z.end===void 0?Ne:Math.min(z.end,Ve);!ee.extend&&Ne>vt&&(I=vt,vt=Ne,Ne=I);var K=Px(O,Ne),G=Px(O,vt);if(K&&G&&(ee.rangeCount!==1||ee.anchorNode!==K.node||ee.anchorOffset!==K.offset||ee.focusNode!==G.node||ee.focusOffset!==G.offset)){var Q=oe.createRange();Q.setStart(K.node,K.offset),ee.removeAllRanges(),Ne>vt?(ee.addRange(Q),ee.extend(G.node,G.offset)):(Q.setEnd(G.node,G.offset),ee.addRange(Q))}}}}for(oe=[],ee=O;ee=ee.parentNode;)ee.nodeType===1&&oe.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<oe.length;O++){var se=oe[O];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Vg=!!qb,zb=qb=null}finally{ut=y,ce.p=d,Z.T=c}}s.current=o,Fn=2}}function $P(){if(Fn===2){Fn=0;var s=Ys,o=pc,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=Z.T,Z.T=null;var d=ce.p;ce.p=2;var y=ut;ut|=4;try{wP(s,o.alternate,o)}finally{ut=y,ce.p=d,Z.T=c}}Fn=3}}function HP(){if(Fn===4||Fn===3){Fn=0,Sn();var s=Ys,o=pc,c=gc,d=DP;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Fn=5:(Fn=0,pc=Ys=null,GP(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(Ws=null),Ml(c),o=o.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(qt,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=Z.T,y=ce.p,ce.p=2,Z.T=null;try{for(var _=s.onRecoverableError,I=0;I<d.length;I++){var O=d[I];_(O.value,{componentStack:O.stack})}}finally{Z.T=o,ce.p=y}}(gc&3)!==0&&Ag(),sa(s),y=s.pendingLanes,(c&4194090)!==0&&(y&42)!==0?s===xb?Wh++:(Wh=0,xb=s):Wh=0,Yh(0)}}function GP(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Rh(o)))}function Ag(s){return FP(),$P(),HP(),KP()}function KP(){if(Fn!==5)return!1;var s=Ys,o=Sb;Sb=0;var c=Ml(gc),d=Z.T,y=ce.p;try{ce.p=32>c?32:c,Z.T=null,c=Ib,Ib=null;var _=Ys,I=gc;if(Fn=0,pc=Ys=null,gc=0,(ut&6)!==0)throw Error(r(331));var O=ut;if(ut|=4,CP(_.current),xP(_,_.current,I,c),ut=O,Yh(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(qt,_)}catch{}return!0}finally{ce.p=y,Z.T=d,GP(s,o)}}function WP(s,o,c){o=oi(c,o),o=ab(s.stateNode,o,2),s=Us(s,o,2),s!==null&&(Pa(s,2),sa(s))}function bt(s,o,c){if(s.tag===3)WP(s,s,c);else for(;o!==null;){if(o.tag===3){WP(o,s,c);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ws===null||!Ws.has(d))){s=oi(c,s),c=JR(2),d=Us(o,c,2),d!==null&&(ZR(c,d,o,s),Pa(d,2),sa(d));break}}o=o.return}}function Ob(s,o,c){var d=s.pingCache;if(d===null){d=s.pingCache=new xq;var y=new Set;d.set(o,y)}else y=d.get(o),y===void 0&&(y=new Set,d.set(o,y));y.has(c)||(wb=!0,y.add(c),s=Dq.bind(null,s,o,c),o.then(s,s))}function Dq(s,o,c){var d=s.pingCache;d!==null&&d.delete(o),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,Et===s&&(Ze&c)===c&&(Ft===4||Ft===3&&(Ze&62914560)===Ze&&300>tn()-Ab?(ut&2)===0&&yc(s,0):Eb|=c,mc===Ze&&(mc=0)),sa(s)}function YP(s,o){o===0&&(o=ih()),s=Zl(s,o),s!==null&&(Pa(s,o),sa(s))}function Nq(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),YP(s,c)}function kq(s,o){var c=0;switch(s.tag){case 13:var d=s.stateNode,y=s.memoizedState;y!==null&&(c=y.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(o),YP(s,c)}function Mq(s,o){return Bt(s,o)}var Sg=null,_c=null,Db=!1,Ig=!1,Nb=!1,Ru=0;function sa(s){s!==_c&&s.next===null&&(_c===null?Sg=_c=s:_c=_c.next=s),Ig=!0,Db||(Db=!0,Lq())}function Yh(s,o){if(!Nb&&Ig){Nb=!0;do for(var c=!1,d=Sg;d!==null;){if(s!==0){var y=d.pendingLanes;if(y===0)var _=0;else{var I=d.suspendedLanes,O=d.pingedLanes;_=(1<<31-Jn(42|s)+1)-1,_&=y&~(I&~O),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,ZP(d,_))}else _=Ze,_=kl(d,d===Et?_:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(_&3)===0||Zo(d,_)||(c=!0,ZP(d,_));d=d.next}while(c);Nb=!1}}function Vq(){QP()}function QP(){Ig=Db=!1;var s=0;Ru!==0&&(Hq()&&(s=Ru),Ru=0);for(var o=tn(),c=null,d=Sg;d!==null;){var y=d.next,_=XP(d,o);_===0?(d.next=null,c===null?Sg=y:c.next=y,y===null&&(_c=c)):(c=d,(s!==0||(_&3)!==0)&&(Ig=!0)),d=y}Yh(s)}function XP(s,o){for(var c=s.suspendedLanes,d=s.pingedLanes,y=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var I=31-Jn(_),O=1<<I,z=y[I];z===-1?((O&c)===0||(O&d)!==0)&&(y[I]=nh(O,o)):z<=o&&(s.expiredLanes|=O),_&=~O}if(o=Et,c=Ze,c=kl(s,s===o?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,c===0||s===o&&(lt===2||lt===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&Qe(d),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||Zo(s,c)){if(o=c&-c,o===s.callbackPriority)return o;switch(d!==null&&Qe(d),Ml(c)){case 2:case 8:c=Dl;break;case 32:c=Yo;break;case 268435456:c=Nl;break;default:c=Yo}return d=JP.bind(null,s),c=Bt(c,d),s.callbackPriority=o,s.callbackNode=c,o}return d!==null&&d!==null&&Qe(d),s.callbackPriority=2,s.callbackNode=null,2}function JP(s,o){if(Fn!==0&&Fn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(Ag()&&s.callbackNode!==c)return null;var d=Ze;return d=kl(s,s===Et?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(kP(s,d,o),XP(s,tn()),s.callbackNode!=null&&s.callbackNode===c?JP.bind(null,s):null)}function ZP(s,o){if(Ag())return null;kP(s,o,!0)}function Lq(){Kq(function(){(ut&6)!==0?Bt(eh,Vq):QP()})}function kb(){return Ru===0&&(Ru=rh()),Ru}function eC(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ql(""+s)}function tC(s,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,s.id&&c.setAttribute("form",s.id),o.parentNode.insertBefore(c,o),s=new FormData(s),c.parentNode.removeChild(c),s}function jq(s,o,c,d,y){if(o==="submit"&&c&&c.stateNode===y){var _=eC((y[nn]||null).action),I=d.submitter;I&&(o=(o=I[nn]||null)?eC(o.formAction):I.getAttribute("formAction"),o!==null&&(_=o,I=null));var O=new zl("action","action",null,d,y);s.push({event:O,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ru!==0){var z=I?tC(y,I):new FormData(y);eb(c,{pending:!0,data:z,method:y.method,action:_},null,z)}}else typeof _=="function"&&(O.preventDefault(),z=I?tC(y,I):new FormData(y),eb(c,{pending:!0,data:z,method:y.method,action:_},_,z))},currentTarget:y}]})}}for(var Mb=0;Mb<_0.length;Mb++){var Vb=_0[Mb],Uq=Vb.toLowerCase(),Bq=Vb[0].toUpperCase()+Vb.slice(1);Pi(Uq,"on"+Bq)}Pi(kx,"onAnimationEnd"),Pi(Mx,"onAnimationIteration"),Pi(Vx,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(rq,"onTransitionRun"),Pi(iq,"onTransitionStart"),Pi(aq,"onTransitionCancel"),Pi(Lx,"onTransitionEnd"),Oa("onMouseEnter",["mouseout","mouseover"]),Oa("onMouseLeave",["mouseout","mouseover"]),Oa("onPointerEnter",["pointerout","pointerover"]),Oa("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qq=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qh));function nC(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var d=s[c],y=d.event;d=d.listeners;e:{var _=void 0;if(o)for(var I=d.length-1;0<=I;I--){var O=d[I],z=O.instance,X=O.currentTarget;if(O=O.listener,z!==_&&y.isPropagationStopped())break e;_=O,y.currentTarget=X;try{_(y)}catch(ie){dg(ie)}y.currentTarget=null,_=z}else for(I=0;I<d.length;I++){if(O=d[I],z=O.instance,X=O.currentTarget,O=O.listener,z!==_&&y.isPropagationStopped())break e;_=O,y.currentTarget=X;try{_(y)}catch(ie){dg(ie)}y.currentTarget=null,_=z}}}}function Ge(s,o){var c=o[oh];c===void 0&&(c=o[oh]=new Set);var d=s+"__bubble";c.has(d)||(rC(o,s,2,!1),c.add(d))}function Lb(s,o,c){var d=0;o&&(d|=4),rC(c,s,d,o)}var xg="_reactListening"+Math.random().toString(36).slice(2);function jb(s){if(!s[xg]){s[xg]=!0,uh.forEach(function(c){c!=="selectionchange"&&(qq.has(c)||Lb(c,!1,s),Lb(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[xg]||(o[xg]=!0,Lb("selectionchange",!1,o))}}function rC(s,o,c,d){switch(xC(o)){case 2:var y=mz;break;case 8:y=pz;break;default:y=Jb}c=y.bind(null,o,c,s),y=void 0,!ai||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),d?y!==void 0?s.addEventListener(o,c,{capture:!0,passive:y}):s.addEventListener(o,c,!0):y!==void 0?s.addEventListener(o,c,{passive:y}):s.addEventListener(o,c,!1)}function Ub(s,o,c,d,y){var _=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var I=d.tag;if(I===3||I===4){var O=d.stateNode.containerInfo;if(O===y)break;if(I===4)for(I=d.return;I!==null;){var z=I.tag;if((z===3||z===4)&&I.stateNode.containerInfo===y)return;I=I.return}for(;O!==null;){if(I=Ca(O),I===null)return;if(z=I.tag,z===5||z===6||z===26||z===27){d=_=I;continue e}O=O.parentNode}}d=d.return}Pp(function(){var X=_,ie=ii(c),oe=[];e:{var J=jx.get(s);if(J!==void 0){var ee=zl,Ve=s;switch(s){case"keypress":if(Xi(c)===0)break e;case"keydown":case"keyup":ee=Wl;break;case"focusin":Ve="focus",ee=Hl;break;case"focusout":Ve="blur",ee=Hl;break;case"beforeblur":case"afterblur":ee=Hl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=si;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=f0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=Lp;break;case kx:case Mx:case Vx:ee=Gl;break;case Lx:ee=Up;break;case"scroll":case"scrollend":ee=Cp;break;case"wheel":ee=Yl;break;case"copy":case"cut":case"paste":ee=Kl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=bh;break;case"toggle":case"beforetoggle":ee=qp}var Ne=(o&4)!==0,vt=!Ne&&(s==="scroll"||s==="scrollend"),K=Ne?J!==null?J+"Capture":null:J;Ne=[];for(var G=X,Q;G!==null;){var se=G;if(Q=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Q===null||K===null||(se=ou(G,K),se!=null&&Ne.push(Xh(G,se,Q))),vt)break;G=G.return}0<Ne.length&&(J=new ee(J,Ve,null,c,ie),oe.push({event:J,listeners:Ne}))}}if((o&7)===0){e:{if(J=s==="mouseover"||s==="pointerover",ee=s==="mouseout"||s==="pointerout",J&&c!==ka&&(Ve=c.relatedTarget||c.fromElement)&&(Ca(Ve)||Ve[ni]))break e;if((ee||J)&&(J=ie.window===ie?ie:(J=ie.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(Ve=c.relatedTarget||c.toElement,ee=X,Ve=Ve?Ca(Ve):null,Ve!==null&&(vt=a(Ve),Ne=Ve.tag,Ve!==vt||Ne!==5&&Ne!==27&&Ne!==6)&&(Ve=null)):(ee=null,Ve=X),ee!==Ve)){if(Ne=si,se="onMouseLeave",K="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Ne=bh,se="onPointerLeave",K="onPointerEnter",G="pointer"),vt=ee==null?J:Ki(ee),Q=Ve==null?J:Ki(Ve),J=new Ne(se,G+"leave",ee,c,ie),J.target=vt,J.relatedTarget=Q,se=null,Ca(ie)===X&&(Ne=new Ne(K,G+"enter",Ve,c,ie),Ne.target=Q,Ne.relatedTarget=vt,se=Ne),vt=se,ee&&Ve)t:{for(Ne=ee,K=Ve,G=0,Q=Ne;Q;Q=bc(Q))G++;for(Q=0,se=K;se;se=bc(se))Q++;for(;0<G-Q;)Ne=bc(Ne),G--;for(;0<Q-G;)K=bc(K),Q--;for(;G--;){if(Ne===K||K!==null&&Ne===K.alternate)break t;Ne=bc(Ne),K=bc(K)}Ne=null}else Ne=null;ee!==null&&iC(oe,J,ee,Ne,!1),Ve!==null&&vt!==null&&iC(oe,vt,Ve,Ne,!0)}}e:{if(J=X?Ki(X):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var Ae=Tx;else if(pn(J))if(Ax)Ae=eq;else{Ae=J5;var $e=X5}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?X&&dh(X.elementType)&&(Ae=Tx):Ae=Z5;if(Ae&&(Ae=Ae(s,X))){Ua(oe,Ae,c,ie);break e}$e&&$e(s,J,X),s==="focusout"&&X&&J.type==="number"&&X.memoizedProps.value!=null&&ks(J,"number",J.value)}switch($e=X?Ki(X):window,s){case"focusin":(pn($e)||$e.contentEditable==="true")&&(Ql=$e,g0=X,Th=null);break;case"focusout":Th=g0=Ql=null;break;case"mousedown":y0=!0;break;case"contextmenu":case"mouseup":case"dragend":y0=!1,Dx(oe,c,ie);break;case"selectionchange":if(nq)break;case"keydown":case"keyup":Dx(oe,c,ie)}var Pe;if(ea)e:{switch(s){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Xe?ne(s,c)&&(ke="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(ke="onCompositionStart");ke&&(S&&c.locale!=="ko"&&(Xe||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Xe&&(Pe=ph()):(Qi=ie,Ms="value"in Qi?Qi.value:Qi.textContent,Xe=!0)),$e=Rg(X,ke),0<$e.length&&(ke=new vh(ke,s,null,c,ie),oe.push({event:ke,listeners:$e}),Pe?ke.data=Pe:(Pe=pe(c),Pe!==null&&(ke.data=Pe)))),(Pe=w?mn(s,c):Je(s,c))&&(ke=Rg(X,"onBeforeInput"),0<ke.length&&($e=new vh("onBeforeInput","beforeinput",null,c,ie),oe.push({event:$e,listeners:ke}),$e.data=Pe)),jq(oe,s,X,c,ie)}nC(oe,o)})}function Xh(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Rg(s,o){for(var c=o+"Capture",d=[];s!==null;){var y=s,_=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||_===null||(y=ou(s,c),y!=null&&d.unshift(Xh(s,y,_)),y=ou(s,o),y!=null&&d.push(Xh(s,y,_))),s.tag===3)return d;s=s.return}return[]}function bc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function iC(s,o,c,d,y){for(var _=o._reactName,I=[];c!==null&&c!==d;){var O=c,z=O.alternate,X=O.stateNode;if(O=O.tag,z!==null&&z===d)break;O!==5&&O!==26&&O!==27||X===null||(z=X,y?(X=ou(c,_),X!=null&&I.unshift(Xh(c,X,z))):y||(X=ou(c,_),X!=null&&I.push(Xh(c,X,z)))),c=c.return}I.length!==0&&s.push({event:o,listeners:I})}var zq=/\r\n?/g,Fq=/\u0000|\uFFFD/g;function aC(s){return(typeof s=="string"?s:""+s).replace(zq,`
`).replace(Fq,"")}function sC(s,o){return o=aC(o),aC(s)===o}function Pg(){}function yt(s,o,c,d,y,_){switch(c){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||ri(s,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&ri(s,""+d);break;case"className":Wi(s,"class",d);break;case"tabIndex":Wi(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Wi(s,c,d);break;case"style":hh(s,d,_);break;case"data":if(o!=="object"){Wi(s,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||c!=="href")){s.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=ql(""+d),s.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(o!=="input"&&yt(s,o,"name",y.name,y,null),yt(s,o,"formEncType",y.formEncType,y,null),yt(s,o,"formMethod",y.formMethod,y,null),yt(s,o,"formTarget",y.formTarget,y,null)):(yt(s,o,"encType",y.encType,y,null),yt(s,o,"method",y.method,y,null),yt(s,o,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=ql(""+d),s.setAttribute(c,d);break;case"onClick":d!=null&&(s.onclick=Pg);break;case"onScroll":d!=null&&Ge("scroll",s);break;case"onScrollEnd":d!=null&&Ge("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(y.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}c=ql(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""+d):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":d===!0?s.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,d):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(c,d):s.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(c):s.setAttribute(c,d);break;case"popover":Ge("beforetoggle",s),Ge("toggle",s),Ns(s,"popover",d);break;case"xlinkActuate":Bn(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Bn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Bn(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Bn(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Bn(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Bn(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Bn(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Bn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Bn(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Ns(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=l0.get(c)||c,Ns(s,c,d))}}function Bb(s,o,c,d,y,_){switch(c){case"style":hh(s,d,_);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(y.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"children":typeof d=="string"?ri(s,d):(typeof d=="number"||typeof d=="bigint")&&ri(s,""+d);break;case"onScroll":d!=null&&Ge("scroll",s);break;case"onScrollEnd":d!=null&&Ge("scrollend",s);break;case"onClick":d!=null&&(s.onclick=Pg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vl.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),_=s[nn]||null,_=_!=null?_[c]:null,typeof _=="function"&&s.removeEventListener(o,_,y),typeof d=="function")){typeof _!="function"&&_!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(o,d,y);break e}c in s?s[c]=d:d===!0?s.setAttribute(c,""):Ns(s,c,d)}}}function $n(s,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",s),Ge("load",s);var d=!1,y=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var I=c[_];if(I!=null)switch(_){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:yt(s,o,_,I,c,null)}}y&&yt(s,o,"srcSet",c.srcSet,c,null),d&&yt(s,o,"src",c.src,c,null);return;case"input":Ge("invalid",s);var O=_=I=y=null,z=null,X=null;for(d in c)if(c.hasOwnProperty(d)){var ie=c[d];if(ie!=null)switch(d){case"name":y=ie;break;case"type":I=ie;break;case"checked":z=ie;break;case"defaultChecked":X=ie;break;case"value":_=ie;break;case"defaultValue":O=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,o));break;default:yt(s,o,d,ie,c,null)}}iu(s,_,O,z,X,I,y,!1),Bl(s);return;case"select":Ge("invalid",s),d=I=_=null;for(y in c)if(c.hasOwnProperty(y)&&(O=c[y],O!=null))switch(y){case"value":_=O;break;case"defaultValue":I=O;break;case"multiple":d=O;default:yt(s,o,y,O,c,null)}o=_,c=I,s.multiple=!!d,o!=null?Na(s,!!d,o,!1):c!=null&&Na(s,!!d,c,!0);return;case"textarea":Ge("invalid",s),_=y=d=null;for(I in c)if(c.hasOwnProperty(I)&&(O=c[I],O!=null))switch(I){case"value":d=O;break;case"defaultValue":y=O;break;case"children":_=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:yt(s,o,I,O,c,null)}au(s,d,y,_),Bl(s);return;case"option":for(z in c)if(c.hasOwnProperty(z)&&(d=c[z],d!=null))switch(z){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:yt(s,o,z,d,c,null)}return;case"dialog":Ge("beforetoggle",s),Ge("toggle",s),Ge("cancel",s),Ge("close",s);break;case"iframe":case"object":Ge("load",s);break;case"video":case"audio":for(d=0;d<Qh.length;d++)Ge(Qh[d],s);break;case"image":Ge("error",s),Ge("load",s);break;case"details":Ge("toggle",s);break;case"embed":case"source":case"link":Ge("error",s),Ge("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in c)if(c.hasOwnProperty(X)&&(d=c[X],d!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:yt(s,o,X,d,c,null)}return;default:if(dh(o)){for(ie in c)c.hasOwnProperty(ie)&&(d=c[ie],d!==void 0&&Bb(s,o,ie,d,c,void 0));return}}for(O in c)c.hasOwnProperty(O)&&(d=c[O],d!=null&&yt(s,o,O,d,c,null))}function $q(s,o,c,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,_=null,I=null,O=null,z=null,X=null,ie=null;for(ee in c){var oe=c[ee];if(c.hasOwnProperty(ee)&&oe!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":z=oe;default:d.hasOwnProperty(ee)||yt(s,o,ee,null,d,oe)}}for(var J in d){var ee=d[J];if(oe=c[J],d.hasOwnProperty(J)&&(ee!=null||oe!=null))switch(J){case"type":_=ee;break;case"name":y=ee;break;case"checked":X=ee;break;case"defaultChecked":ie=ee;break;case"value":I=ee;break;case"defaultValue":O=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,o));break;default:ee!==oe&&yt(s,o,J,ee,d,oe)}}Dr(s,I,O,z,X,ie,_,y);return;case"select":ee=I=O=J=null;for(_ in c)if(z=c[_],c.hasOwnProperty(_)&&z!=null)switch(_){case"value":break;case"multiple":ee=z;default:d.hasOwnProperty(_)||yt(s,o,_,null,d,z)}for(y in d)if(_=d[y],z=c[y],d.hasOwnProperty(y)&&(_!=null||z!=null))switch(y){case"value":J=_;break;case"defaultValue":O=_;break;case"multiple":I=_;default:_!==z&&yt(s,o,y,_,d,z)}o=O,c=I,d=ee,J!=null?Na(s,!!c,J,!1):!!d!=!!c&&(o!=null?Na(s,!!c,o,!0):Na(s,!!c,c?[]:"",!1));return;case"textarea":ee=J=null;for(O in c)if(y=c[O],c.hasOwnProperty(O)&&y!=null&&!d.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:yt(s,o,O,null,d,y)}for(I in d)if(y=d[I],_=c[I],d.hasOwnProperty(I)&&(y!=null||_!=null))switch(I){case"value":J=y;break;case"defaultValue":ee=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==_&&yt(s,o,I,y,d,_)}pt(s,J,ee);return;case"option":for(var Ve in c)if(J=c[Ve],c.hasOwnProperty(Ve)&&J!=null&&!d.hasOwnProperty(Ve))switch(Ve){case"selected":s.selected=!1;break;default:yt(s,o,Ve,null,d,J)}for(z in d)if(J=d[z],ee=c[z],d.hasOwnProperty(z)&&J!==ee&&(J!=null||ee!=null))switch(z){case"selected":s.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:yt(s,o,z,J,d,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in c)J=c[Ne],c.hasOwnProperty(Ne)&&J!=null&&!d.hasOwnProperty(Ne)&&yt(s,o,Ne,null,d,J);for(X in d)if(J=d[X],ee=c[X],d.hasOwnProperty(X)&&J!==ee&&(J!=null||ee!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,o));break;default:yt(s,o,X,J,d,ee)}return;default:if(dh(o)){for(var vt in c)J=c[vt],c.hasOwnProperty(vt)&&J!==void 0&&!d.hasOwnProperty(vt)&&Bb(s,o,vt,void 0,d,J);for(ie in d)J=d[ie],ee=c[ie],!d.hasOwnProperty(ie)||J===ee||J===void 0&&ee===void 0||Bb(s,o,ie,J,d,ee);return}}for(var K in c)J=c[K],c.hasOwnProperty(K)&&J!=null&&!d.hasOwnProperty(K)&&yt(s,o,K,null,d,J);for(oe in d)J=d[oe],ee=c[oe],!d.hasOwnProperty(oe)||J===ee||J==null&&ee==null||yt(s,o,oe,J,d,ee)}var qb=null,zb=null;function Cg(s){return s.nodeType===9?s:s.ownerDocument}function oC(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uC(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Fb(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var $b=null;function Hq(){var s=window.event;return s&&s.type==="popstate"?s===$b?!1:($b=s,!0):($b=null,!1)}var lC=typeof setTimeout=="function"?setTimeout:void 0,Gq=typeof clearTimeout=="function"?clearTimeout:void 0,cC=typeof Promise=="function"?Promise:void 0,Kq=typeof queueMicrotask=="function"?queueMicrotask:typeof cC<"u"?function(s){return cC.resolve(null).then(s).catch(Wq)}:lC;function Wq(s){setTimeout(function(){throw s})}function Xs(s){return s==="head"}function fC(s,o){var c=o,d=0,y=0;do{var _=c.nextSibling;if(s.removeChild(c),_&&_.nodeType===8)if(c=_.data,c==="/$"){if(0<d&&8>d){c=d;var I=s.ownerDocument;if(c&1&&Jh(I.documentElement),c&2&&Jh(I.body),c&4)for(c=I.head,Jh(c),I=c.firstChild;I;){var O=I.nextSibling,z=I.nodeName;I[eu]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&I.rel.toLowerCase()==="stylesheet"||c.removeChild(I),I=O}}if(y===0){s.removeChild(_),sd(o);return}y--}else c==="$"||c==="$?"||c==="$!"?y++:d=c.charCodeAt(0)-48;else d=0;c=_}while(c);sd(o)}function Hb(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Hb(c),Ds(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function Yq(s,o,c,d){for(;s.nodeType===1;){var y=c;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[eu])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var _=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=Oi(s.nextSibling),s===null)break}return null}function Qq(s,o,c){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Oi(s.nextSibling),s===null))return null;return s}function Gb(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function Xq(s,o){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")o();else{var d=function(){o(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function Oi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var Kb=null;function hC(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}function dC(s,o,c){switch(o=Cg(c),s){case"html":if(s=o.documentElement,!s)throw Error(r(452));return s;case"head":if(s=o.head,!s)throw Error(r(453));return s;case"body":if(s=o.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Jh(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Ds(s)}var di=new Map,mC=new Set;function Og(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ja=ce.d;ce.d={f:Jq,r:Zq,D:ez,C:tz,L:nz,m:rz,X:az,S:iz,M:sz};function Jq(){var s=Ja.f(),o=Eg();return s||o}function Zq(s){var o=Gi(s);o!==null&&o.tag===5&&o.type==="form"?kR(o):Ja.r(s)}var wc=typeof document>"u"?null:document;function pC(s,o,c){var d=wc;if(d&&typeof o=="string"&&o){var y=rn(o);y='link[rel="'+s+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),mC.has(y)||(mC.add(y),s={rel:s,crossOrigin:c,href:o},d.querySelector(y)===null&&(o=d.createElement("link"),$n(o,"link",s),Wt(o),d.head.appendChild(o)))}}function ez(s){Ja.D(s),pC("dns-prefetch",s,null)}function tz(s,o){Ja.C(s,o),pC("preconnect",s,o)}function nz(s,o,c){Ja.L(s,o,c);var d=wc;if(d&&s&&o){var y='link[rel="preload"][as="'+rn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+rn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+rn(c.imageSizes)+'"]')):y+='[href="'+rn(s)+'"]';var _=y;switch(o){case"style":_=Ec(s);break;case"script":_=Tc(s)}di.has(_)||(s=m({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:s,as:o},c),di.set(_,s),d.querySelector(y)!==null||o==="style"&&d.querySelector(Zh(_))||o==="script"&&d.querySelector(ed(_))||(o=d.createElement("link"),$n(o,"link",s),Wt(o),d.head.appendChild(o)))}}function rz(s,o){Ja.m(s,o);var c=wc;if(c&&s){var d=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+rn(d)+'"][href="'+rn(s)+'"]',_=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Tc(s)}if(!di.has(_)&&(s=m({rel:"modulepreload",href:s},o),di.set(_,s),c.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(ed(_)))return}d=c.createElement("link"),$n(d,"link",s),Wt(d),c.head.appendChild(d)}}}function iz(s,o,c){Ja.S(s,o,c);var d=wc;if(d&&s){var y=lr(d).hoistableStyles,_=Ec(s);o=o||"default";var I=y.get(_);if(!I){var O={loading:0,preload:null};if(I=d.querySelector(Zh(_)))O.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":o},c),(c=di.get(_))&&Wb(s,c);var z=I=d.createElement("link");Wt(z),$n(z,"link",s),z._p=new Promise(function(X,ie){z.onload=X,z.onerror=ie}),z.addEventListener("load",function(){O.loading|=1}),z.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Dg(I,o,d)}I={type:"stylesheet",instance:I,count:1,state:O},y.set(_,I)}}}function az(s,o){Ja.X(s,o);var c=wc;if(c&&s){var d=lr(c).hoistableScripts,y=Tc(s),_=d.get(y);_||(_=c.querySelector(ed(y)),_||(s=m({src:s,async:!0},o),(o=di.get(y))&&Yb(s,o),_=c.createElement("script"),Wt(_),$n(_,"link",s),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(y,_))}}function sz(s,o){Ja.M(s,o);var c=wc;if(c&&s){var d=lr(c).hoistableScripts,y=Tc(s),_=d.get(y);_||(_=c.querySelector(ed(y)),_||(s=m({src:s,async:!0,type:"module"},o),(o=di.get(y))&&Yb(s,o),_=c.createElement("script"),Wt(_),$n(_,"link",s),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(y,_))}}function gC(s,o,c,d){var y=(y=Me.current)?Og(y):null;if(!y)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Ec(c.href),c=lr(y).hoistableStyles,d=c.get(o),d||(d={type:"style",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Ec(c.href);var _=lr(y).hoistableStyles,I=_.get(s);if(I||(y=y.ownerDocument||y,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,I),(_=y.querySelector(Zh(s)))&&!_._p&&(I.instance=_,I.state.loading=5),di.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},di.set(s,c),_||oz(y,s,c,I.state))),o&&d===null)throw Error(r(528,""));return I}if(o&&d!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Tc(c),c=lr(y).hoistableScripts,d=c.get(o),d||(d={type:"script",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Ec(s){return'href="'+rn(s)+'"'}function Zh(s){return'link[rel="stylesheet"]['+s+"]"}function yC(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function oz(s,o,c,d){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=s.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),$n(o,"link",c),Wt(o),s.head.appendChild(o))}function Tc(s){return'[src="'+rn(s)+'"]'}function ed(s){return"script[async]"+s}function vC(s,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var d=s.querySelector('style[data-href~="'+rn(c.href)+'"]');if(d)return o.instance=d,Wt(d),d;var y=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),Wt(d),$n(d,"style",y),Dg(d,c.precedence,s),o.instance=d;case"stylesheet":y=Ec(c.href);var _=s.querySelector(Zh(y));if(_)return o.state.loading|=4,o.instance=_,Wt(_),_;d=yC(c),(y=di.get(y))&&Wb(d,y),_=(s.ownerDocument||s).createElement("link"),Wt(_);var I=_;return I._p=new Promise(function(O,z){I.onload=O,I.onerror=z}),$n(_,"link",d),o.state.loading|=4,Dg(_,c.precedence,s),o.instance=_;case"script":return _=Tc(c.src),(y=s.querySelector(ed(_)))?(o.instance=y,Wt(y),y):(d=c,(y=di.get(_))&&(d=m({},c),Yb(d,y)),s=s.ownerDocument||s,y=s.createElement("script"),Wt(y),$n(y,"link",d),s.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Dg(d,c.precedence,s));return o.instance}function Dg(s,o,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,_=y,I=0;I<d.length;I++){var O=d[I];if(O.dataset.precedence===o)_=O;else if(_!==y)break}_?_.parentNode.insertBefore(s,_.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(s,o.firstChild))}function Wb(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Yb(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Ng=null;function _C(s,o,c){if(Ng===null){var d=new Map,y=Ng=new Map;y.set(c,d)}else y=Ng,d=y.get(c),d||(d=new Map,y.set(c,d));if(d.has(s))return d;for(d.set(s,null),c=c.getElementsByTagName(s),y=0;y<c.length;y++){var _=c[y];if(!(_[eu]||_[dn]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var I=_.getAttribute(o)||"";I=s+I;var O=d.get(I);O?O.push(_):d.set(I,[_])}}return d}function bC(s,o,c){s=s.ownerDocument||s,s.head.insertBefore(c,o==="title"?s.querySelector("head > title"):null)}function uz(s,o,c){if(c===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function wC(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var td=null;function lz(){}function cz(s,o,c){if(td===null)throw Error(r(475));var d=td;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=Ec(c.href),_=s.querySelector(Zh(y));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(d.count++,d=kg.bind(d),s.then(d,d)),o.state.loading|=4,o.instance=_,Wt(_);return}_=s.ownerDocument||s,c=yC(c),(y=di.get(y))&&Wb(c,y),_=_.createElement("link"),Wt(_);var I=_;I._p=new Promise(function(O,z){I.onload=O,I.onerror=z}),$n(_,"link",c),o.instance=_}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(d.count++,o=kg.bind(d),s.addEventListener("load",o),s.addEventListener("error",o))}}function fz(){if(td===null)throw Error(r(475));var s=td;return s.stylesheets&&s.count===0&&Qb(s,s.stylesheets),0<s.count?function(o){var c=setTimeout(function(){if(s.stylesheets&&Qb(s,s.stylesheets),s.unsuspend){var d=s.unsuspend;s.unsuspend=null,d()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c)}}:null}function kg(){if(this.count--,this.count===0){if(this.stylesheets)Qb(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Mg=null;function Qb(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Mg=new Map,o.forEach(hz,s),Mg=null,kg.call(s))}function hz(s,o){if(!(o.state.loading&4)){var c=Mg.get(s);if(c)var d=c.get(null);else{c=new Map,Mg.set(s,c);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<y.length;_++){var I=y[_];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(c.set(I.dataset.precedence,I),d=I)}d&&c.set(null,d)}y=o.instance,I=y.getAttribute("data-precedence"),_=c.get(I)||d,_===d&&c.set(null,y),c.set(I,y),this.count++,d=kg.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),_?_.parentNode.insertBefore(y,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),o.state.loading|=4}}var nd={$$typeof:P,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function dz(s,o,c,d,y,_,I,O){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ra(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ra(0),this.hiddenUpdates=Ra(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=_,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function EC(s,o,c,d,y,_,I,O,z,X,ie,oe){return s=new dz(s,o,c,I,O,z,X,oe),o=1,_===!0&&(o|=24),_=kr(3,null,null,o),s.current=_,_.stateNode=s,o=O0(),o.refCount++,s.pooledCache=o,o.refCount++,_.memoizedState={element:d,isDehydrated:c,cache:o},M0(_),s}function TC(s){return s?(s=ec,s):ec}function AC(s,o,c,d,y,_){y=TC(y),d.context===null?d.context=y:d.pendingContext=y,d=js(o),d.payload={element:c},_=_===void 0?null:_,_!==null&&(d.callback=_),c=Us(s,d,o),c!==null&&(Ur(c,s,o),Dh(c,s,o))}function SC(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function Xb(s,o){SC(s,o),(s=s.alternate)&&SC(s,o)}function IC(s){if(s.tag===13){var o=Zl(s,67108864);o!==null&&Ur(o,s,67108864),Xb(s,67108864)}}var Vg=!0;function mz(s,o,c,d){var y=Z.T;Z.T=null;var _=ce.p;try{ce.p=2,Jb(s,o,c,d)}finally{ce.p=_,Z.T=y}}function pz(s,o,c,d){var y=Z.T;Z.T=null;var _=ce.p;try{ce.p=8,Jb(s,o,c,d)}finally{ce.p=_,Z.T=y}}function Jb(s,o,c,d){if(Vg){var y=Zb(d);if(y===null)Ub(s,o,d,Lg,c),RC(s,d);else if(yz(y,s,o,c,d))d.stopPropagation();else if(RC(s,d),o&4&&-1<gz.indexOf(s)){for(;y!==null;){var _=Gi(y);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var I=Ii(_.pendingLanes);if(I!==0){var O=_;for(O.pendingLanes|=2,O.entangledLanes|=2;I;){var z=1<<31-Jn(I);O.entanglements[1]|=z,I&=~z}sa(_),(ut&6)===0&&(bg=tn()+500,Yh(0))}}break;case 13:O=Zl(_,2),O!==null&&Ur(O,_,2),Eg(),Xb(_,2)}if(_=Zb(d),_===null&&Ub(s,o,d,Lg,c),_===y)break;y=_}y!==null&&d.stopPropagation()}else Ub(s,o,d,null,c)}}function Zb(s){return s=ii(s),ew(s)}var Lg=null;function ew(s){if(Lg=null,s=Ca(s),s!==null){var o=a(s);if(o===null)s=null;else{var c=o.tag;if(c===13){if(s=u(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return Lg=s,null}function xC(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ol()){case eh:return 2;case Dl:return 8;case Yo:case i0:return 32;case Nl:return 268435456;default:return 32}default:return 32}}var tw=!1,Js=null,Zs=null,eo=null,rd=new Map,id=new Map,to=[],gz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RC(s,o){switch(s){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":rd.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":id.delete(o.pointerId)}}function ad(s,o,c,d,y,_){return s===null||s.nativeEvent!==_?(s={blockedOn:o,domEventName:c,eventSystemFlags:d,nativeEvent:_,targetContainers:[y]},o!==null&&(o=Gi(o),o!==null&&IC(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),s)}function yz(s,o,c,d,y){switch(o){case"focusin":return Js=ad(Js,s,o,c,d,y),!0;case"dragenter":return Zs=ad(Zs,s,o,c,d,y),!0;case"mouseover":return eo=ad(eo,s,o,c,d,y),!0;case"pointerover":var _=y.pointerId;return rd.set(_,ad(rd.get(_)||null,s,o,c,d,y)),!0;case"gotpointercapture":return _=y.pointerId,id.set(_,ad(id.get(_)||null,s,o,c,d,y)),!0}return!1}function PC(s){var o=Ca(s.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=u(c),o!==null){s.blockedOn=o,Ep(s.priority,function(){if(c.tag===13){var d=jr();d=Ps(d);var y=Zl(c,d);y!==null&&Ur(y,c,d),Xb(c,d)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function jg(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=Zb(s.nativeEvent);if(c===null){c=s.nativeEvent;var d=new c.constructor(c.type,c);ka=d,c.target.dispatchEvent(d),ka=null}else return o=Gi(c),o!==null&&IC(o),s.blockedOn=c,!1;o.shift()}return!0}function CC(s,o,c){jg(s)&&c.delete(o)}function vz(){tw=!1,Js!==null&&jg(Js)&&(Js=null),Zs!==null&&jg(Zs)&&(Zs=null),eo!==null&&jg(eo)&&(eo=null),rd.forEach(CC),id.forEach(CC)}function Ug(s,o){s.blockedOn===o&&(s.blockedOn=null,tw||(tw=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,vz)))}var Bg=null;function OC(s){Bg!==s&&(Bg=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Bg===s&&(Bg=null);for(var o=0;o<s.length;o+=3){var c=s[o],d=s[o+1],y=s[o+2];if(typeof d!="function"){if(ew(d||c)===null)continue;break}var _=Gi(c);_!==null&&(s.splice(o,3),o-=3,eb(_,{pending:!0,data:y,method:c.method,action:d},d,y))}}))}function sd(s){function o(z){return Ug(z,s)}Js!==null&&Ug(Js,s),Zs!==null&&Ug(Zs,s),eo!==null&&Ug(eo,s),rd.forEach(o),id.forEach(o);for(var c=0;c<to.length;c++){var d=to[c];d.blockedOn===s&&(d.blockedOn=null)}for(;0<to.length&&(c=to[0],c.blockedOn===null);)PC(c),c.blockedOn===null&&to.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var y=c[d],_=c[d+1],I=y[nn]||null;if(typeof _=="function")I||OC(c);else if(I){var O=null;if(_&&_.hasAttribute("formAction")){if(y=_,I=_[nn]||null)O=I.formAction;else if(ew(y)!==null)continue}else O=I.action;typeof O=="function"?c[d+1]=O:(c.splice(d,3),d-=3),OC(c)}}}function nw(s){this._internalRoot=s}qg.prototype.render=nw.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,d=jr();AC(c,d,s,o,null,null)},qg.prototype.unmount=nw.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;AC(s.current,2,null,s,null,null),Eg(),o[ni]=null}};function qg(s){this._internalRoot=s}qg.prototype.unstable_scheduleHydration=function(s){if(s){var o=Cs();s={blockedOn:null,target:s,priority:o};for(var c=0;c<to.length&&o!==0&&o<to[c].priority;c++);to.splice(c,0,s),c===0&&PC(s)}};var DC=e.version;if(DC!=="19.1.1")throw Error(r(527,DC,"19.1.1"));ce.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(o),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var _z={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zg.isDisabled&&zg.supportsFiber)try{qt=zg.inject(_z),ot=zg}catch{}}return ud.createRoot=function(s,o){if(!i(s))throw Error(r(299));var c=!1,d="",y=WR,_=YR,I=QR,O=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks)),o=EC(s,1,!1,null,null,c,d,y,_,I,O,null),s[ni]=o.current,jb(s),new nw(o)},ud.hydrateRoot=function(s,o,c){if(!i(s))throw Error(r(299));var d=!1,y="",_=WR,I=YR,O=QR,z=null,X=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(I=c.onCaughtError),c.onRecoverableError!==void 0&&(O=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(z=c.unstable_transitionCallbacks),c.formState!==void 0&&(X=c.formState)),o=EC(s,1,!0,o,c??null,d,y,_,I,O,z,X),o.context=TC(null),c=o.current,d=jr(),d=Ps(d),y=js(d),y.callback=null,Us(c,y,d),c=d,o.current.lanes=c,Pa(o,c),sa(o),s[ni]=o.current,jb(s),new qg(o)},ud.version="19.1.1",ud}var zC;function Dz(){if(zC)return sw.exports;zC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sw.exports=Oz(),sw.exports}var Nz=Dz();const kz=qi(Nz);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var FC="popstate";function Mz(t={}){function e(i,a){let{pathname:u="/",search:l="",hash:f=""}=bl(i.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),yT("",{pathname:u,search:l,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let u=i.document.querySelector("base"),l="";if(u&&u.getAttribute("href")){let f=i.location.href,h=f.indexOf("#");l=h===-1?f:f.slice(0,h)}return l+"#"+(typeof a=="string"?a:em(a))}function r(i,a){Qr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return Lz(e,n,r,t)}function Vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Vz(){return Math.random().toString(36).substring(2,10)}function $C(t,e){return{usr:t.state,key:t.key,idx:e}}function yT(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?bl(e):e,state:n,key:e&&e.key||r||Vz()}}function em({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function bl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Lz(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,u=i.history,l="POP",f=null,h=m();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function m(){return(u.state||{idx:null}).idx}function p(){l="POP";let A=m(),R=A==null?null:A-h;h=A,f&&f({action:l,location:T.location,delta:R})}function v(A,R){l="PUSH";let C=yT(T.location,A,R);n&&n(C,A),h=m()+1;let P=$C(C,h),U=T.createHref(C);try{u.pushState(P,"",U)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(U)}a&&f&&f({action:l,location:T.location,delta:1})}function b(A,R){l="REPLACE";let C=yT(T.location,A,R);n&&n(C,A),h=m();let P=$C(C,h),U=T.createHref(C);u.replaceState(P,"",U),a&&f&&f({action:l,location:T.location,delta:0})}function E(A){return jz(A)}let T={get action(){return l},get location(){return t(i,u)},listen(A){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(FC,p),f=A,()=>{i.removeEventListener(FC,p),f=null}},createHref(A){return e(i,A)},createURL:E,encodeLocation(A){let R=E(A);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:v,replace:b,go(A){return u.go(A)}};return T}function jz(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Vt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:em(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function JM(t,e,n="/"){return Uz(t,e,n,!1)}function Uz(t,e,n,r){let i=typeof e=="string"?bl(e):e,a=ls(i.pathname||"/",n);if(a==null)return null;let u=ZM(t);Bz(u);let l=null;for(let f=0;l==null&&f<u.length;++f){let h=Xz(a);l=Yz(u[f],h,r)}return l}function ZM(t,e=[],n=[],r="",i=!1){let a=(u,l,f=i,h)=>{let m={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:l,route:u};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&f)return;Vt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let p=as([r,m.relativePath]),v=n.concat(m);u.children&&u.children.length>0&&(Vt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),ZM(u.children,e,v,p,f)),!(u.path==null&&!u.index)&&e.push({path:p,score:Kz(p,u.index),routesMeta:v})};return t.forEach((u,l)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))a(u,l);else for(let h of eV(u.path))a(u,l,!0,h)}),e}function eV(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let u=eV(r.join("/")),l=[];return l.push(...u.map(f=>f===""?a:[a,f].join("/"))),i&&l.push(...u),l.map(f=>t.startsWith("/")&&f===""?"/":f)}function Bz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Wz(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var qz=/^:[\w-]+$/,zz=3,Fz=2,$z=1,Hz=10,Gz=-2,HC=t=>t==="*";function Kz(t,e){let n=t.split("/"),r=n.length;return n.some(HC)&&(r+=Gz),e&&(r+=Fz),n.filter(i=>!HC(i)).reduce((i,a)=>i+(qz.test(a)?zz:a===""?$z:Hz),r)}function Wz(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Yz(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",u=[];for(let l=0;l<r.length;++l){let f=r[l],h=l===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",p=Oy({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),v=f.route;if(!p&&h&&n&&!r[r.length-1].route.index&&(p=Oy({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!p)return null;Object.assign(i,p.params),u.push({params:i,pathname:as([a,p.pathname]),pathnameBase:tF(as([a,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(a=as([a,p.pathnameBase]))}return u}function Oy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Qz(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:p},v)=>{if(m==="*"){let E=l[v]||"";u=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const b=l[v];return p&&!b?h[m]=void 0:h[m]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:u,pattern:t}}function Qz(t,e=!1,n=!0){Qr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,l,f)=>(r.push({paramName:l,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Xz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ls(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Jz(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?bl(t):t;return{pathname:n?n.startsWith("/")?n:Zz(n,e):e,search:nF(r),hash:rF(i)}}function Zz(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function cw(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function XA(t){let e=eF(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function JA(t,e,n,r=!1){let i;typeof t=="string"?i=bl(t):(i={...t},Vt(!i.pathname||!i.pathname.includes("?"),cw("?","pathname","search",i)),Vt(!i.pathname||!i.pathname.includes("#"),cw("#","pathname","hash",i)),Vt(!i.search||!i.search.includes("#"),cw("#","search","hash",i)));let a=t===""||i.pathname==="",u=a?"/":i.pathname,l;if(u==null)l=n;else{let p=e.length-1;if(!r&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}l=p>=0?e[p]:"/"}let f=Jz(i,l),h=u&&u!=="/"&&u.endsWith("/"),m=(a||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}var as=t=>t.join("/").replace(/\/\/+/g,"/"),tF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var tV=["POST","PUT","PATCH","DELETE"];new Set(tV);var aF=["GET",...tV];new Set(aF);var Of=x.createContext(null);Of.displayName="DataRouter";var zv=x.createContext(null);zv.displayName="DataRouterState";x.createContext(!1);var nV=x.createContext({isTransitioning:!1});nV.displayName="ViewTransition";var sF=x.createContext(new Map);sF.displayName="Fetchers";var oF=x.createContext(null);oF.displayName="Await";var zi=x.createContext(null);zi.displayName="Navigation";var km=x.createContext(null);km.displayName="Location";var Fi=x.createContext({outlet:null,matches:[],isDataRoute:!1});Fi.displayName="Route";var ZA=x.createContext(null);ZA.displayName="RouteError";function uF(t,{relative:e}={}){Vt(Df(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(zi),{hash:i,pathname:a,search:u}=Mm(t,{relative:e}),l=a;return n!=="/"&&(l=a==="/"?n:as([n,a])),r.createHref({pathname:l,search:u,hash:i})}function Df(){return x.useContext(km)!=null}function xa(){return Vt(Df(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(km).location}var rV="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iV(t){x.useContext(zi).static||x.useLayoutEffect(t)}function eS(){let{isDataRoute:t}=x.useContext(Fi);return t?EF():lF()}function lF(){Vt(Df(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(Of),{basename:e,navigator:n}=x.useContext(zi),{matches:r}=x.useContext(Fi),{pathname:i}=xa(),a=JSON.stringify(XA(r)),u=x.useRef(!1);return iV(()=>{u.current=!0}),x.useCallback((f,h={})=>{if(Qr(u.current,rV),!u.current)return;if(typeof f=="number"){n.go(f);return}let m=JA(f,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:as([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,a,i,t])}x.createContext(null);function cF(){let{matches:t}=x.useContext(Fi),e=t[t.length-1];return e?e.params:{}}function Mm(t,{relative:e}={}){let{matches:n}=x.useContext(Fi),{pathname:r}=xa(),i=JSON.stringify(XA(n));return x.useMemo(()=>JA(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function fF(t,e){return aV(t,e)}function aV(t,e,n,r,i){var C;Vt(Df(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=x.useContext(zi),{matches:u}=x.useContext(Fi),l=u[u.length-1],f=l?l.params:{},h=l?l.pathname:"/",m=l?l.pathnameBase:"/",p=l&&l.route;{let P=p&&p.path||"";sV(h,!p||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let v=xa(),b;if(e){let P=typeof e=="string"?bl(e):e;Vt(m==="/"||((C=P.pathname)==null?void 0:C.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${P.pathname}" was given in the \`location\` prop.`),b=P}else b=v;let E=b.pathname||"/",T=E;if(m!=="/"){let P=m.replace(/^\//,"").split("/");T="/"+E.replace(/^\//,"").split("/").slice(P.length).join("/")}let A=JM(t,{pathname:T});Qr(p||A!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Qr(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=gF(A&&A.map(P=>Object.assign({},P,{params:Object.assign({},f,P.params),pathname:as([m,a.encodeLocation?a.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?m:as([m,a.encodeLocation?a.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),u,n,r,i);return e&&R?x.createElement(km.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},R):R}function hF(){let t=wF(),e=iF(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:a},"ErrorBoundary")," or"," ",x.createElement("code",{style:a},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,u)}var dF=x.createElement(hF,null),mF=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?x.createElement(Fi.Provider,{value:this.props.routeContext},x.createElement(ZA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pF({routeContext:t,match:e,children:n}){let r=x.useContext(Of);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(Fi.Provider,{value:t},n)}function gF(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=n==null?void 0:n.errors;if(u!=null){let h=a.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);Vt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,f=-1;if(n)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:p,errors:v}=n,b=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||b){l=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((h,m,p)=>{let v,b=!1,E=null,T=null;n&&(v=u&&m.route.id?u[m.route.id]:void 0,E=m.route.errorElement||dF,l&&(f<0&&p===0?(sV("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,T=null):f===p&&(b=!0,T=m.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,p+1)),R=()=>{let C;return v?C=E:b?C=T:m.route.Component?C=x.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=h,x.createElement(pF,{match:m,routeContext:{outlet:h,matches:A,isDataRoute:n!=null},children:C})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?x.createElement(mF,{location:n.location,revalidation:n.revalidation,component:E,error:v,children:R(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:r}):R()},null)}function tS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yF(t){let e=x.useContext(Of);return Vt(e,tS(t)),e}function vF(t){let e=x.useContext(zv);return Vt(e,tS(t)),e}function _F(t){let e=x.useContext(Fi);return Vt(e,tS(t)),e}function nS(t){let e=_F(t),n=e.matches[e.matches.length-1];return Vt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function bF(){return nS("useRouteId")}function wF(){var r;let t=x.useContext(ZA),e=vF("useRouteError"),n=nS("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function EF(){let{router:t}=yF("useNavigate"),e=nS("useNavigate"),n=x.useRef(!1);return iV(()=>{n.current=!0}),x.useCallback(async(i,a={})=>{Qr(n.current,rV),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var GC={};function sV(t,e,n){!e&&!GC[t]&&(GC[t]=!0,Qr(!1,n))}x.memo(TF);function TF({routes:t,future:e,state:n,unstable_onError:r}){return aV(t,void 0,n,r,e)}function fw({to:t,replace:e,state:n,relative:r}){Vt(Df(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=x.useContext(zi);Qr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=x.useContext(Fi),{pathname:u}=xa(),l=eS(),f=JA(t,XA(a),u,r==="path"),h=JSON.stringify(f);return x.useEffect(()=>{l(JSON.parse(h),{replace:e,state:n,relative:r})},[l,h,r,e,n]),null}function Nc(t){Vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AF({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Vt(!Df(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:u,navigator:i,static:a,future:{}}),[u,i,a]);typeof n=="string"&&(n=bl(n));let{pathname:f="/",search:h="",hash:m="",state:p=null,key:v="default"}=n,b=x.useMemo(()=>{let E=ls(f,u);return E==null?null:{location:{pathname:E,search:h,hash:m,state:p,key:v},navigationType:r}},[u,f,h,m,p,v,r]);return Qr(b!=null,`<Router basename="${u}"> is not able to match the URL "${f}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:x.createElement(zi.Provider,{value:l},x.createElement(km.Provider,{children:e,value:b}))}function SF({children:t,location:e}){return fF(vT(t),e)}function vT(t,e=[]){let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let a=[...e,i];if(r.type===x.Fragment){n.push.apply(n,vT(r.props.children,a));return}Vt(r.type===Nc,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=vT(r.props.children,a)),n.push(u)}),n}var dy="get",my="application/x-www-form-urlencoded";function Fv(t){return t!=null&&typeof t.tagName=="string"}function IF(t){return Fv(t)&&t.tagName.toLowerCase()==="button"}function xF(t){return Fv(t)&&t.tagName.toLowerCase()==="form"}function RF(t){return Fv(t)&&t.tagName.toLowerCase()==="input"}function PF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CF(t,e){return t.button===0&&(!e||e==="_self")&&!PF(t)}function _T(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function OF(t,e){let n=_T(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}var Fg=null;function DF(){if(Fg===null)try{new FormData(document.createElement("form"),0),Fg=!1}catch{Fg=!0}return Fg}var NF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hw(t){return t!=null&&!NF.has(t)?(Qr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${my}"`),null):t}function kF(t,e){let n,r,i,a,u;if(xF(t)){let l=t.getAttribute("action");r=l?ls(l,e):null,n=t.getAttribute("method")||dy,i=hw(t.getAttribute("enctype"))||my,a=new FormData(t)}else if(IF(t)||RF(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||l.getAttribute("action");if(r=f?ls(f,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||dy,i=hw(t.getAttribute("formenctype"))||hw(l.getAttribute("enctype"))||my,a=new FormData(l,t),!DF()){let{name:h,type:m,value:p}=t;if(m==="image"){let v=h?`${h}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else h&&a.append(h,p)}}else{if(Fv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dy,r=null,i=my,u=t}return a&&i==="text/plain"&&(u=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function MF(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ls(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function VF(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LF(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function jF(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let u=await VF(a,n);return u.links?u.links():[]}return[]}));return zF(r.flat(1).filter(LF).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function KC(t,e,n,r,i,a){let u=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,l=(f,h)=>{var m;return n[h].pathname!==f.pathname||((m=n[h].route.path)==null?void 0:m.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,h)=>u(f,h)||l(f,h)):a==="data"?e.filter((f,h)=>{var p;let m=r.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(u(f,h)||l(f,h))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function UF(t,e,{includeHydrateFallback:n}={}){return BF(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function BF(t){return[...new Set(t)]}function qF(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function zF(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(qF(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function oV(){let t=x.useContext(Of);return rS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function FF(){let t=x.useContext(zv);return rS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var iS=x.createContext(void 0);iS.displayName="FrameworkContext";function uV(){let t=x.useContext(iS);return rS(t,"You must render this element inside a <HydratedRouter> element"),t}function $F(t,e){let n=x.useContext(iS),[r,i]=x.useState(!1),[a,u]=x.useState(!1),{onFocus:l,onBlur:f,onMouseEnter:h,onMouseLeave:m,onTouchStart:p}=e,v=x.useRef(null);x.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let T=R=>{R.forEach(C=>{u(C.isIntersecting)})},A=new IntersectionObserver(T,{threshold:.5});return v.current&&A.observe(v.current),()=>{A.disconnect()}}},[t]),x.useEffect(()=>{if(r){let T=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(T)}}},[r]);let b=()=>{i(!0)},E=()=>{i(!1),u(!1)};return n?t!=="intent"?[a,v,{}]:[a,v,{onFocus:ld(l,b),onBlur:ld(f,E),onMouseEnter:ld(h,b),onMouseLeave:ld(m,E),onTouchStart:ld(p,b)}]:[!1,v,{}]}function ld(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function HF({page:t,...e}){let{router:n}=oV(),r=x.useMemo(()=>JM(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?x.createElement(KF,{page:t,matches:r,...e}):null}function GF(t){let{manifest:e,routeModules:n}=uV(),[r,i]=x.useState([]);return x.useEffect(()=>{let a=!1;return jF(t,e,n).then(u=>{a||i(u)}),()=>{a=!0}},[t,e,n]),r}function KF({page:t,matches:e,...n}){let r=xa(),{manifest:i,routeModules:a}=uV(),{basename:u}=oV(),{loaderData:l,matches:f}=FF(),h=x.useMemo(()=>KC(t,e,f,i,r,"data"),[t,e,f,i,r]),m=x.useMemo(()=>KC(t,e,f,i,r,"assets"),[t,e,f,i,r]),p=x.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,T=!1;if(e.forEach(R=>{var P;let C=i.routes[R.route.id];!C||!C.hasLoader||(!h.some(U=>U.route.id===R.route.id)&&R.route.id in l&&((P=a[R.route.id])!=null&&P.shouldRevalidate)||C.hasClientLoader?T=!0:E.add(R.route.id))}),E.size===0)return[];let A=MF(t,u,"data");return T&&E.size>0&&A.searchParams.set("_routes",e.filter(R=>E.has(R.route.id)).map(R=>R.route.id).join(",")),[A.pathname+A.search]},[u,l,r,i,h,e,t,a]),v=x.useMemo(()=>UF(m,i),[m,i]),b=GF(m);return x.createElement(x.Fragment,null,p.map(E=>x.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),v.map(E=>x.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),b.map(({key:E,link:T})=>x.createElement("link",{key:E,nonce:n.nonce,...T})))}function WF(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var lV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lV&&(window.__reactRouterVersion="7.8.2")}catch{}function YF({basename:t,children:e,window:n}){let r=x.useRef();r.current==null&&(r.current=Mz({window:n,v5Compat:!0}));let i=r.current,[a,u]=x.useState({action:i.action,location:i.location}),l=x.useCallback(f=>{x.startTransition(()=>u(f))},[u]);return x.useLayoutEffect(()=>i.listen(l),[i,l]),x.createElement(AF,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var cV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fV=x.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:u,state:l,target:f,to:h,preventScrollReset:m,viewTransition:p,...v},b){let{basename:E}=x.useContext(zi),T=typeof h=="string"&&cV.test(h),A,R=!1;if(typeof h=="string"&&T&&(A=h,lV))try{let M=new URL(window.location.href),B=h.startsWith("//")?new URL(M.protocol+h):new URL(h),j=ls(B.pathname,E);B.origin===M.origin&&j!=null?h=j+B.search+B.hash:R=!0}catch{Qr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=uF(h,{relative:i}),[P,U,L]=$F(r,v),$=ZF(h,{replace:u,state:l,target:f,preventScrollReset:m,relative:i,viewTransition:p});function D(M){e&&e(M),M.defaultPrevented||$(M)}let N=x.createElement("a",{...v,...L,href:A||C,onClick:R||a?e:D,ref:WF(b,U),target:f,"data-discover":!T&&n==="render"?"true":void 0});return P&&!T?x.createElement(x.Fragment,null,N,x.createElement(HF,{page:C})):N});fV.displayName="Link";var QF=x.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:u,viewTransition:l,children:f,...h},m){let p=Mm(u,{relative:h.relative}),v=xa(),b=x.useContext(zv),{navigator:E,basename:T}=x.useContext(zi),A=b!=null&&a9(p)&&l===!0,R=E.encodeLocation?E.encodeLocation(p).pathname:p.pathname,C=v.pathname,P=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(C=C.toLowerCase(),P=P?P.toLowerCase():null,R=R.toLowerCase()),P&&T&&(P=ls(P,T)||P);const U=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let L=C===R||!i&&C.startsWith(R)&&C.charAt(U)==="/",$=P!=null&&(P===R||!i&&P.startsWith(R)&&P.charAt(R.length)==="/"),D={isActive:L,isPending:$,isTransitioning:A},N=L?e:void 0,M;typeof r=="function"?M=r(D):M=[r,L?"active":null,$?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let B=typeof a=="function"?a(D):a;return x.createElement(fV,{...h,"aria-current":N,className:M,ref:m,style:B,to:u,viewTransition:l},typeof f=="function"?f(D):f)});QF.displayName="NavLink";var XF=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:u=dy,action:l,onSubmit:f,relative:h,preventScrollReset:m,viewTransition:p,...v},b)=>{let E=r9(),T=i9(l,{relative:h}),A=u.toLowerCase()==="get"?"get":"post",R=typeof l=="string"&&cV.test(l),C=P=>{if(f&&f(P),P.defaultPrevented)return;P.preventDefault();let U=P.nativeEvent.submitter,L=(U==null?void 0:U.getAttribute("formmethod"))||u;E(U||P.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:i,state:a,relative:h,preventScrollReset:m,viewTransition:p})};return x.createElement("form",{ref:b,method:A,action:T,onSubmit:r?f:C,...v,"data-discover":!R&&t==="render"?"true":void 0})});XF.displayName="Form";function JF(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hV(t){let e=x.useContext(Of);return Vt(e,JF(t)),e}function ZF(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:u}={}){let l=eS(),f=xa(),h=Mm(t,{relative:a});return x.useCallback(m=>{if(CF(m,e)){m.preventDefault();let p=n!==void 0?n:em(f)===em(h);l(t,{replace:p,state:r,preventScrollReset:i,relative:a,viewTransition:u})}},[f,l,h,n,r,e,t,i,a,u])}function e9(t){Qr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=x.useRef(_T(t)),n=x.useRef(!1),r=xa(),i=x.useMemo(()=>OF(r.search,n.current?null:e.current),[r.search]),a=eS(),u=x.useCallback((l,f)=>{const h=_T(typeof l=="function"?l(new URLSearchParams(i)):l);n.current=!0,a("?"+h,f)},[a,i]);return[i,u]}var t9=0,n9=()=>`__${String(++t9)}__`;function r9(){let{router:t}=hV("useSubmit"),{basename:e}=x.useContext(zi),n=bF();return x.useCallback(async(r,i={})=>{let{action:a,method:u,encType:l,formData:f,body:h}=kF(r,e);if(i.navigate===!1){let m=i.fetcherKey||n9();await t.fetch(m,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||u,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||u,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function i9(t,{relative:e}={}){let{basename:n}=x.useContext(zi),r=x.useContext(Fi);Vt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Mm(t||".",{relative:e})},u=xa();if(t==null){a.search=u.search;let l=new URLSearchParams(a.search),f=l.getAll("index");if(f.some(m=>m==="")){l.delete("index"),f.filter(p=>p).forEach(p=>l.append("index",p));let m=l.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:as([n,a.pathname])),em(a)}function a9(t,{relative:e}={}){let n=x.useContext(nV);Vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=hV("useViewTransitionState"),i=Mm(t,{relative:e});if(!n.isTransitioning)return!1;let a=ls(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=ls(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Oy(i.pathname,u)!=null||Oy(i.pathname,a)!=null}var s9=XM();const o9=()=>{};var WC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},u9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],u=t[n++],l=t[n++],f=((i&7)<<18|(a&63)<<12|(u&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|u&63)}}return e.join("")},mV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],u=i+1<t.length,l=u?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,m=a>>2,p=(a&3)<<4|l>>4;let v=(l&15)<<2|h>>6,b=h&63;f||(b=64,u||(v=64)),r.push(n[m],n[p],n[v],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):u9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||h==null||p==null)throw new l9;const v=a<<2|l>>4;if(r.push(v),h!==64){const b=l<<4&240|h>>2;if(r.push(b),p!==64){const E=h<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class l9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c9=function(t){const e=dV(t);return mV.encodeByteArray(e,!0)},Dy=function(t){return c9(t).replace(/\./g,"")},aS=function(t){try{return mV.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ny(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!f9(n)||(t[n]=Ny(t[n],e[n]));return t}function f9(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=()=>sS().__FIREBASE_DEFAULTS__,d9=()=>{if(typeof process>"u"||typeof WC>"u")return;const t=WC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},m9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aS(t[1]);return e&&JSON.parse(e)},oS=()=>{try{return o9()||h9()||d9()||m9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uS=()=>{var t;return(t=oS())==null?void 0:t.config},p9=t=>{var e;return(e=oS())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pV(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Dy(JSON.stringify(n)),Dy(JSON.stringify(u)),""].join(".")}const Ld={};function v9(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ld))Ld[e]?t.emulator.push(e):t.prod.push(e);return t}function _9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let YC=!1;function gV(t,e){if(typeof window>"u"||typeof document>"u"||!Nf(window.location.host)||Ld[t]===e||Ld[t]||YC)return;Ld[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",a=v9().prod.length>0;function u(){const v=document.getElementById(r);v&&v.remove()}function l(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{YC=!0,u()},v}function m(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=_9(r),b=n("text"),E=document.getElementById(b)||document.createElement("span"),T=n("learnmore"),A=document.getElementById(T)||document.createElement("a"),R=n("preprendIcon"),C=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const P=v.element;l(P),m(A,T);const U=h();f(C,R),P.append(C,E,A,U),document.body.appendChild(P)}a?(E.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function $v(){var e;const t=(e=oS())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function w9(){return typeof window<"u"||yV()}function yV(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function E9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _V(){const t=jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bV(){return!$v()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wV(){return!$v()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function tm(){try{return typeof indexedDB=="object"}catch{return!1}}function T9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9="FirebaseError";class gr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=A9,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wl.prototype.create)}}class wl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],u=a?S9(a,r):"Error",l=`${this.serviceName}: ${u} (${i}).`;return new gr(i,l,r)}}function S9(t,e){return t.replace(I9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const I9=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function x9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function To(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],u=e[i];if(XC(a)&&XC(u)){if(!To(a,u))return!1}else if(a!==u)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function XC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Uc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function xd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function EV(t,e){const n=new R9(t,e);return n.subscribe.bind(n)}class R9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");P9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=dw),i.error===void 0&&(i.error=dw),i.complete===void 0&&(i.complete=dw);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function dw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t){return t&&t._delegate?t._delegate:t}class wa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C9=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new g9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(D9(e))try{this.getOrInitializeService({instanceIdentifier:Cu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Cu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cu){return this.instances.has(e)}getOptions(e=Cu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&u.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:O9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Cu){return this.component?this.component.multipleInstances?e:Cu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function O9(t){return t===Cu?void 0:t}function D9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new C9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=[];var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const AV={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},N9=Ke.INFO,k9={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},M9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=k9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hv{constructor(e){this.name=e,this._logLevel=N9,this._logHandler=M9,this._userLogHandler=null,cS.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}function V9(t){cS.forEach(e=>{e.setLogLevel(t)})}function L9(t,e){for(const n of cS){let r=null;e&&e.level&&(r=AV[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,a,...u)=>{const l=u.map(f=>{if(f==null)return null;if(typeof f=="string")return f;if(typeof f=="number"||typeof f=="boolean")return f.toString();if(f instanceof Error)return f.message;try{return JSON.stringify(f)}catch{return null}}).filter(f=>f).join(" ");a>=(r??i.logLevel)&&t({level:Ke[a].toLowerCase(),message:l,args:u,type:i.name})}}}const j9=(t,e)=>e.some(n=>t instanceof n);let JC,ZC;function U9(){return JC||(JC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B9(){return ZC||(ZC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SV=new WeakMap,bT=new WeakMap,IV=new WeakMap,mw=new WeakMap,fS=new WeakMap;function q9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(yo(t.result)),i()},u=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&SV.set(n,t)}).catch(()=>{}),fS.set(e,t),e}function z9(t){if(bT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),i()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});bT.set(t,e)}let wT={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IV.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function F9(t){wT=t(wT)}function $9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(pw(this),e,...n);return IV.set(r,e.sort?e.sort():[e]),yo(r)}:B9().includes(t)?function(...e){return t.apply(pw(this),e),yo(SV.get(this))}:function(...e){return yo(t.apply(pw(this),e))}}function H9(t){return typeof t=="function"?$9(t):(t instanceof IDBTransaction&&z9(t),j9(t,U9())?new Proxy(t,wT):t)}function yo(t){if(t instanceof IDBRequest)return q9(t);if(mw.has(t))return mw.get(t);const e=H9(t);return e!==t&&(mw.set(t,e),fS.set(e,t)),e}const pw=t=>fS.get(t);function G9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const u=indexedDB.open(t,e),l=yo(u);return r&&u.addEventListener("upgradeneeded",f=>{r(yo(u.result),f.oldVersion,f.newVersion,yo(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),l.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const K9=["get","getKey","getAll","getAllKeys","count"],W9=["put","add","delete","clear"],gw=new Map;function eO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gw.get(e))return gw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=W9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||K9.includes(n)))return;const a=async function(u,...l){const f=this.transaction(u,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&f.done]))[0]};return gw.set(e,a),a}F9(t=>({...t,get:(e,n,r)=>eO(e,n)||t.get(e,n,r),has:(e,n)=>!!eO(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Q9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Q9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ky="@firebase/app",ET="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new Hv("@firebase/app"),X9="@firebase/app-compat",J9="@firebase/analytics-compat",Z9="@firebase/analytics",e8="@firebase/app-check-compat",t8="@firebase/app-check",n8="@firebase/auth",r8="@firebase/auth-compat",i8="@firebase/database",a8="@firebase/data-connect",s8="@firebase/database-compat",o8="@firebase/functions",u8="@firebase/functions-compat",l8="@firebase/installations",c8="@firebase/installations-compat",f8="@firebase/messaging",h8="@firebase/messaging-compat",d8="@firebase/performance",m8="@firebase/performance-compat",p8="@firebase/remote-config",g8="@firebase/remote-config-compat",y8="@firebase/storage",v8="@firebase/storage-compat",_8="@firebase/firestore",b8="@firebase/ai",w8="@firebase/firestore-compat",E8="firebase",T8="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="[DEFAULT]",A8={[ky]:"fire-core",[X9]:"fire-core-compat",[Z9]:"fire-analytics",[J9]:"fire-analytics-compat",[t8]:"fire-app-check",[e8]:"fire-app-check-compat",[n8]:"fire-auth",[r8]:"fire-auth-compat",[i8]:"fire-rtdb",[a8]:"fire-data-connect",[s8]:"fire-rtdb-compat",[o8]:"fire-fn",[u8]:"fire-fn-compat",[l8]:"fire-iid",[c8]:"fire-iid-compat",[f8]:"fire-fcm",[h8]:"fire-fcm-compat",[d8]:"fire-perf",[m8]:"fire-perf-compat",[p8]:"fire-rc",[g8]:"fire-rc-compat",[y8]:"fire-gcs",[v8]:"fire-gcs-compat",[_8]:"fire-fst",[w8]:"fire-fst-compat",[b8]:"fire-vertex","fire-js":"fire-js",[E8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=new Map,Qc=new Map,Xc=new Map;function nm(t,e){try{t.container.addComponent(e)}catch(n){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xV(t,e){t.container.addOrOverwriteComponent(e)}function Io(t){const e=t.name;if(Xc.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;Xc.set(e,t);for(const n of So.values())nm(n,t);for(const n of Qc.values())nm(n,t);return!0}function RV(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function S8(t,e,n=Ao){RV(t,e).clearInstance(n)}function hS(t){return t.options!==void 0}function PV(t){return hS(t)?!1:"authIdToken"in t||"appCheckToken"in t||"releaseOnDeref"in t||"automaticDataCollectionEnabled"in t}function Dt(t){return t==null?!1:t.settings!==void 0}function I8(){Xc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new wl("app","Firebase",x8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CV=class{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(t,e){const n=aS(t.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(n).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3,a=new Date().getTime();i-a<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class R8 extends CV{constructor(e,n,r,i){const a=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!0,u={name:r,automaticDataCollectionEnabled:a};if(e.apiKey!==void 0)super(e,u,i);else{const l=e;super(l.options,u,i)}this._serverConfig={automaticDataCollectionEnabled:a,...n},this._serverConfig.authIdToken&&tO(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&tO(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Vi(ky,ET,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){mS(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Wr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=T8;function dS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Ao,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Wr.create("bad-app-name",{appName:String(i)});if(n||(n=uS()),!n)throw Wr.create("no-options");const a=So.get(i);if(a){if(To(n,a.options)&&To(r,a.config))return a;throw Wr.create("duplicate-app",{appName:i})}const u=new TV(i);for(const f of Xc.values())u.addComponent(f);const l=new CV(n,r,u);return So.set(i,l),l}function P8(t,e={}){if(w9()&&!yV())throw Wr.create("invalid-server-app-environment");let n,r=e||{};if(t&&(hS(t)?n=t.options:PV(t)?r=t:n=t),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),n||(n=uS()),!n)throw Wr.create("no-options");const i={...r,...n};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const a=m=>[...m].reduce((p,v)=>Math.imul(31,p)+v.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Wr.create("finalization-registry-not-supported",{});const u=""+a(JSON.stringify(i)),l=Qc.get(u);if(l)return l.incRefCount(r.releaseOnDeref),l;const f=new TV(u);for(const m of Xc.values())f.addComponent(m);const h=new R8(n,r,u,f);return Qc.set(u,h),h}function C8(t=Ao){const e=So.get(t);if(!e&&t===Ao&&uS())return dS();if(!e)throw Wr.create("no-app",{appName:t});return e}function O8(){return Array.from(So.values())}async function mS(t){let e=!1;const n=t.name;So.has(n)?(e=!0,So.delete(n)):Qc.has(n)&&t.decRefCount()<=0&&(Qc.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Vi(t,e,n){let r=A8[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const u=[`Unable to register library "${r}" with version "${e}":`];i&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cs.warn(u.join(" "));return}Io(new wa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function OV(t,e){if(t!==null&&typeof t!="function")throw Wr.create("invalid-log-argument");L9(t,e)}function DV(t){V9(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8="firebase-heartbeat-database",N8=1,rm="firebase-heartbeat-store";let yw=null;function NV(){return yw||(yw=G9(D8,N8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rm)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wr.create("idb-open",{originalErrorMessage:t.message})})),yw}async function k8(t){try{const n=(await NV()).transaction(rm),r=await n.objectStore(rm).get(kV(t));return await n.done,r}catch(e){if(e instanceof gr)cs.warn(e.message);else{const n=Wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cs.warn(n.message)}}}async function nO(t,e){try{const r=(await NV()).transaction(rm,"readwrite");await r.objectStore(rm).put(e,kV(t)),await r.done}catch(n){if(n instanceof gr)cs.warn(n.message);else{const r=Wr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cs.warn(r.message)}}}function kV(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=1024,V8=30;class L8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new U8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=rO();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>V8){const u=B8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){cs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=rO(),{heartbeatsToSend:r,unsentEntries:i}=j8(this._heartbeatsCache.heartbeats),a=Dy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return cs.warn(n),""}}}function rO(){return new Date().toISOString().substring(0,10)}function j8(t,e=M8){const n=[];let r=t.slice();for(const i of t){const a=n.find(u=>u.agent===i.agent);if(a){if(a.dates.push(i.date),iO(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),iO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class U8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tm()?T9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await k8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return nO(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return nO(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function iO(t){return Dy(JSON.stringify({version:2,heartbeats:t})).length}function B8(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(t){Io(new wa("platform-logger",e=>new Y9(e),"PRIVATE")),Io(new wa("heartbeat",e=>new L8(e),"PRIVATE")),Vi(ky,ET,t),Vi(ky,ET,"esm2020"),Vi("fire-js","")}q8("");const z8=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:gr,SDK_VERSION:Vo,_DEFAULT_ENTRY_NAME:Ao,_addComponent:nm,_addOrOverwriteComponent:xV,_apps:So,_clearComponents:I8,_components:Xc,_getProvider:RV,_isFirebaseApp:hS,_isFirebaseServerApp:Dt,_isFirebaseServerAppSettings:PV,_registerComponent:Io,_removeServiceInstance:S8,_serverApps:Qc,deleteApp:mS,getApp:C8,getApps:O8,initializeApp:dS,initializeServerApp:P8,onLog:OV,registerVersion:Vi,setLogLevel:DV},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(e,n){this._delegate=e,this.firebase=n,nm(e,new wa("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),mS(this._delegate)))}_getService(e,n=Ao){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=Ao){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){nm(this._delegate,e)}_addOrOverwriteComponent(e){xV(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},aO=new wl("app-compat","Firebase",$8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(t){const e={},n={__esModule:!0,initializeApp:a,app:i,registerVersion:Vi,setLogLevel:DV,onLog:OV,apps:null,SDK_VERSION:Vo,INTERNAL:{registerComponent:l,removeApp:r,useAsService:f,modularAPIs:z8}};n.default=n,Object.defineProperty(n,"apps",{get:u});function r(h){delete e[h]}function i(h){if(h=h||Ao,!QC(e,h))throw aO.create("no-app",{appName:h});return e[h]}i.App=t;function a(h,m={}){const p=dS(h,m);if(QC(e,p.name))return e[p.name];const v=new t(p,n);return e[p.name]=v,v}function u(){return Object.keys(e).map(h=>e[h])}function l(h){const m=h.name,p=m.replace("-compat","");if(Io(h)&&h.type==="PUBLIC"){const v=(b=i())=>{if(typeof b[p]!="function")throw aO.create("invalid-app-argument",{appName:m});return b[p]()};h.serviceProps!==void 0&&Ny(v,h.serviceProps),n[p]=v,t.prototype[p]=function(...b){return this._getService.bind(this,m).apply(this,h.multipleInstances?b:[])}}return h.type==="PUBLIC"?n[p]:null}function f(h,m){return m==="serverAuth"?null:m}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(){const t=H8(F8);t.INTERNAL={...t.INTERNAL,createFirebaseNamespace:MV,extendNamespace:e,createSubscribe:EV,ErrorFactory:wl,deepExtend:Ny};function e(n){Ny(t,n)}return t}const G8=MV();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=new Hv("@firebase/app-compat"),K8="@firebase/app-compat",W8="0.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(t){Vi(K8,W8,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=sS();if(t.firebase!==void 0){sO.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&sO.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const kn=G8;Y8();var Q8="firebase",X8="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.registerVersion(Q8,X8,"app-compat");const cd={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Ac={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function VV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Z8=J8,e$=VV,LV=new wl("auth","Firebase",VV());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=new Hv("@firebase/auth");function t$(t,...e){My.logLevel<=Ke.WARN&&My.warn(`Auth (${Vo}): ${t}`,...e)}function py(t,...e){My.logLevel<=Ke.ERROR&&My.error(`Auth (${Vo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(t,...e){throw gS(t,...e)}function _n(t,...e){return gS(t,...e)}function pS(t,e,n){const r={...e$(),[e]:n};return new wl("auth","Firebase",r).create(e,{appName:t.name})}function Vn(t){return pS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mf(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Xn(t,"argument-error"),pS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return LV.create(t,...e)}function de(t,e,...n){if(!t)throw gS(e,...n)}function da(t){const e="INTERNAL ASSERTION FAILED: "+t;throw py(e),new Error(e)}function Ui(t,e){t||da(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function yS(){return oO()==="http:"||oO()==="https:"}function oO(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yS()||vV()||"connection"in navigator)?navigator.onLine:!0}function r$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ui(n>e,"Short delay should be less than long delay!"),this.isMobile=b9()||lS()}get(){return n$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t,e){Ui(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;da("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;da("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;da("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],s$=new Vm(3e4,6e4);function Gt(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Kt(t,e,n,r,i={}){return UV(t,i,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const l=kf({key:t.config.apiKey,...u}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...a};return E9()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Nf(t.emulatorConfig.host)&&(h.credentials="include"),jV.fetch()(await BV(t,t.config.apiHost,n,l),h)})}async function UV(t,e,n){t._canInitEmulator=!1;const r={...i$,...e};try{const i=new u$(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Rd(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const l=a.ok?u.errorMessage:u.error.message,[f,h]=l.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rd(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Rd(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw Rd(t,"user-disabled",u);const m=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw pS(t,m,h);Xn(t,m)}}catch(i){if(i instanceof gr)throw i;Xn(t,"network-request-failed",{message:String(i)})}}async function vs(t,e,n,r,i={}){const a=await Kt(t,e,n,r,i);return"mfaPendingCredential"in a&&Xn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function BV(t,e,n,r){const i=`${e}${n}?${r}`,a=t,u=a.config.emulator?vS(t.config,i):`${t.config.apiScheme}://${i}`;return a$.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function o$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class u${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_n(this.auth,"network-request-failed")),s$.get())})}}function Rd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_n(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(t){return t!==void 0&&t.getResponse!==void 0}function lO(t){return t!==void 0&&t.enterprise!==void 0}class qV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return o$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l$(t){return(await Kt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function zV(t,e){return Kt(t,"GET","/v2/recaptchaConfig",Gt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c$(t,e){return Kt(t,"POST","/v1/accounts:delete",e)}async function f$(t,e){return Kt(t,"POST","/v1/accounts:update",e)}async function Vy(t,e){return Kt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function h$(t,e=!1){const n=Oe(t),r=await n.getIdToken(e),i=Gv(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:jd(vw(i.auth_time)),issuedAtTime:jd(vw(i.iat)),expirationTime:jd(vw(i.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function vw(t){return Number(t)*1e3}function Gv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return py("JWT malformed, contained fewer than 3 sections"),null;try{const i=aS(n);return i?JSON.parse(i):(py("Failed to decode base64 JWT payload"),null)}catch(i){return py("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function cO(t){const e=Gv(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof gr&&d$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function d$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jd(this.lastLoginAt),this.creationTime=jd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function am(t){var p;const e=t.auth,n=await t.getIdToken(),r=await fs(t,Vy(e,{idToken:n}));de(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(p=i.providerUserInfo)!=null&&p.length?FV(i.providerUserInfo):[],u=g$(t.providerData,a),l=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!(u!=null&&u.length),h=l?f:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new TT(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function p$(t){const e=Oe(t);await am(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function g$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function FV(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y$(t,e){const n=await UV(t,{},async()=>{const r=kf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,u=await BV(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:l,body:r};return t.emulatorConfig&&Nf(t.emulatorConfig.host)&&(f.credentials="include"),jV.fetch()(u,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function v$(t,e){return Kt(t,"POST","/v2/accounts:revokeToken",Gt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=cO(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await y$(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,u=new zc;return r&&(de(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),a&&(de(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zc,this.toJSON())}_performRefresh(){return da("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new m$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new TT(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await fs(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return h$(this,e)}reload(){return p$(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await am(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dt(this.auth.app))return Promise.reject(Vn(this.auth));const e=await this.getIdToken();return await fs(this,c$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,u=n.photoURL??void 0,l=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:p,emailVerified:v,isAnonymous:b,providerData:E,stsTokenManager:T}=n;de(p&&T,e,"internal-error");const A=zc.fromJSON(this.name,T);de(typeof p=="string",e,"internal-error"),ro(r,e.name),ro(i,e.name),de(typeof v=="boolean",e,"internal-error"),de(typeof b=="boolean",e,"internal-error"),ro(a,e.name),ro(u,e.name),ro(l,e.name),ro(f,e.name),ro(h,e.name),ro(m,e.name);const R=new Mi({uid:p,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:b,photoURL:u,phoneNumber:a,tenantId:l,stsTokenManager:A,createdAt:h,lastLoginAt:m});return E&&Array.isArray(E)&&(R.providerData=E.map(C=>({...C}))),f&&(R._redirectEventId=f),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new zc;i.updateFromServerResponse(n);const a=new Mi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await am(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];de(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?FV(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new zc;l.updateFromIdToken(r);const f=new Mi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:u}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new TT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=new Map;function Kr(t){Ui(t instanceof Function,"Expected a class definition");let e=fO.get(t);return e?(Ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fO.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$V.type="NONE";const Jc=$V;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(t,e,n){return`firebase:${t}:${e}:${n}`}class Fc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Qu(this.userKey,i.apiKey,a),this.fullPersistenceKey=Qu("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vy(this.auth,{idToken:e}).catch(()=>{});return n?Mi._fromGetAccountInfoResponse(this.auth,n,e):null}return Mi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fc(Kr(Jc),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||Kr(Jc);const u=Qu(r,e.config.apiKey,e.name);let l=null;for(const h of n)try{const m=await h._get(u);if(m){let p;if(typeof m=="string"){const v=await Vy(e,{idToken:m}).catch(()=>{});if(!v)break;p=await Mi._fromGetAccountInfoResponse(e,v,m)}else p=Mi._fromJSON(e,m);h!==a&&(l=p),a=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Fc(a,e,r):(a=f[0],l&&await a._set(u,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==a)try{await h._remove(u)}catch{}})),new Fc(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YV(e))return"Blackberry";if(QV(e))return"Webos";if(GV(e))return"Safari";if((e.includes("chrome/")||KV(e))&&!e.includes("edge/"))return"Chrome";if(Lm(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function HV(t=jt()){return/firefox\//i.test(t)}function GV(t=jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KV(t=jt()){return/crios\//i.test(t)}function WV(t=jt()){return/iemobile/i.test(t)}function Lm(t=jt()){return/android/i.test(t)}function YV(t=jt()){return/blackberry/i.test(t)}function QV(t=jt()){return/webos/i.test(t)}function jm(t=jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _$(t=jt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function b$(t=jt()){var e;return jm(t)&&!!((e=window.navigator)!=null&&e.standalone)}function w$(){return _V()&&document.documentMode===10}function XV(t=jt()){return jm(t)||Lm(t)||QV(t)||YV(t)||/windows phone/i.test(t)||WV(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(t,e=[]){let n;switch(t){case"Browser":n=hO(jt());break;case"Worker":n=`${hO(jt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((u,l)=>{try{const f=e(a);u(f)}catch(f){l(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T$(t,e={}){return Kt(t,"GET","/v2/passwordPolicy",Gt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$=6;class S${constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??A$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dO(this),this.idTokenSubscription=new dO(this),this.beforeStateQueue=new E$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kr(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Fc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vy(this,{idToken:e}),r=await Mi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Dt(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===l)&&(f!=null&&f.user)&&(r=f.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await am(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=r$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dt(this.app))return Promise.reject(Vn(this));const n=e?Oe(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dt(this.app)?Promise.reject(Vn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dt(this.app)?Promise.reject(Vn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await T$(this),n=new S$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await v$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Kr(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await Fc.create(this,[Kr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let u=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(l,this,"internal-error"),l.then(()=>{u||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Dt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&t$(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ut(t){return Oe(t)}class dO{constructor(e){this.auth=e,this.observer=null,this.addObserver=EV(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x$(t){Um=t}function _S(t){return Um.loadJS(t)}function R$(){return Um.recaptchaV2Script}function P$(){return Um.recaptchaEnterpriseScript}function C$(){return Um.gapiScript}function ZV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$=500,D$=6e4,$g=1e12;class N${constructor(e){this.auth=e,this.counter=$g,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new V$(e,this.auth.name,n||{})),this.counter++,r}reset(e){var r;const n=e||$g;(r=this._widgets.get(n))==null||r.delete(),this._widgets.delete(n)}getResponse(e){var r;const n=e||$g;return((r=this._widgets.get(n))==null?void 0:r.getResponse())||""}async execute(e){var r;const n=e||$g;return(r=this._widgets.get(n))==null||r.execute(),""}}class k${constructor(){this.enterprise=new M$}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class M${ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class V${constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;de(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=L$(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},D$)},O$))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function L$(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const j$="recaptcha-enterprise",Ud="NO_RECAPTCHA";class eL{constructor(e){this.type=j$,this.auth=Ut(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,l)=>{zV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new qV(f);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}}).catch(f=>{l(f)})})}function i(a,u,l){const f=window.grecaptcha;lO(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(h=>{u(h)}).catch(()=>{u(Ud)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new k$().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(l=>{if(!n&&lO(window.grecaptcha))i(l,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=P$();f.length!==0&&(f+=l),_S(f).then(()=>{i(l,a,u)}).catch(h=>{u(h)})}}).catch(l=>{u(l)})})}}async function fd(t,e,n,r=!1,i=!1){const a=new eL(t);let u;if(i)u=Ud;else try{u=await a.verify(n)}catch{u=await a.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const f=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const f=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:u}):Object.assign(l,{captchaResponse:u}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function vo(t,e,n,r,i){var a,u;if(i==="EMAIL_PASSWORD_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await fd(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await fd(t,e,n,n==="getOobCode");return r(t,f)}else return Promise.reject(l)});else if(i==="PHONE_PROVIDER")if((u=t._getRecaptchaConfig())!=null&&u.isProviderEnabled("PHONE_PROVIDER")){const l=await fd(t,e,n);return r(t,l).catch(async f=>{var h;if(((h=t._getRecaptchaConfig())==null?void 0:h.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(f.code==="auth/missing-recaptcha-token"||f.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const m=await fd(t,e,n,!1,!0);return r(t,m)}return Promise.reject(f)})}else{const l=await fd(t,e,n,!1,!0);return r(t,l)}else return Promise.reject(i+" provider is not supported.")}async function U$(t){const e=Ut(t),n=await zV(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new qV(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new eL(e).verify()}function B$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Kr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function q$(t,e,n){const r=Ut(t);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),a=tL(e),{host:u,port:l}=z$(e),f=l===null?"":`:${l}`,h={url:`${a}//${u}${f}/`},m=Object.freeze({host:u,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(To(h,r.config.emulator)&&To(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Nf(u)?(pV(`${a}//${u}${f}`),gV("Auth",!0)):i||F$()}function tL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function z$(t){const e=tL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:mO(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:mO(u)}}}function mO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function F$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return da("not implemented")}_getIdTokenResponse(e){return da("not implemented")}_linkToIdToken(e,n){return da("not implemented")}_getReauthenticationResolver(e){return da("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nL(t,e){return Kt(t,"POST","/v1/accounts:resetPassword",Gt(t,e))}async function $$(t,e){return Kt(t,"POST","/v1/accounts:update",e)}async function H$(t,e){return Kt(t,"POST","/v1/accounts:signUp",e)}async function G$(t,e){return Kt(t,"POST","/v1/accounts:update",Gt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K$(t,e){return vs(t,"POST","/v1/accounts:signInWithPassword",Gt(t,e))}async function Kv(t,e){return Kt(t,"POST","/v1/accounts:sendOobCode",Gt(t,e))}async function W$(t,e){return Kv(t,e)}async function Y$(t,e){return Kv(t,e)}async function Q$(t,e){return Kv(t,e)}async function X$(t,e){return Kv(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J$(t,e){return vs(t,"POST","/v1/accounts:signInWithEmailLink",Gt(t,e))}async function Z$(t,e){return vs(t,"POST","/v1/accounts:signInWithEmailLink",Gt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm extends Vf{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new sm(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new sm(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vo(e,n,"signInWithPassword",K$,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return J$(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vo(e,r,"signUpPassword",H$,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Z$(e,{idToken:n,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ss(t,e){return vs(t,"POST","/v1/accounts:signInWithIdp",Gt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7="http://localhost";class Ea extends Vf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const u=new Ea(r,i);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return ss(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ss(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ss(e,n)}buildRequest(){const e={requestUri:e7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO(t,e){return Kt(t,"POST","/v1/accounts:sendVerificationCode",Gt(t,e))}async function t7(t,e){return vs(t,"POST","/v1/accounts:signInWithPhoneNumber",Gt(t,e))}async function n7(t,e){const n=await vs(t,"POST","/v1/accounts:signInWithPhoneNumber",Gt(t,e));if(n.temporaryProof)throw Rd(t,"account-exists-with-different-credential",n);return n}const r7={USER_NOT_FOUND:"user-not-found"};async function i7(t,e){const n={...e,operation:"REAUTH"};return vs(t,"POST","/v1/accounts:signInWithPhoneNumber",Gt(t,n),r7)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends Vf{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Xu({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Xu({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return t7(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return n7(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return i7(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a}=e;return!r&&!n&&!i&&!a?null:new Xu({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function s7(t){const e=Uc(xd(t)).link,n=e?Uc(xd(e)).deep_link_id:null,r=Uc(xd(t)).deep_link_id;return(r?Uc(xd(r)).link:null)||r||n||e||t}class Wv{constructor(e){const n=Uc(xd(e)),r=n.apiKey??null,i=n.oobCode??null,a=a7(n.mode??null);de(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=s7(e);try{return new Wv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.providerId=Lo.PROVIDER_ID}static credential(e,n){return sm._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Wv.parseLink(n);return de(r,"argument-error"),sm._fromEmailAndCode(e,r.code,r.tenantId)}}Lo.PROVIDER_ID="password";Lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf extends _s{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $c extends Lf{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return de("providerId"in n&&"signInMethod"in n,"argument-error"),Ea._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return de(e.idToken||e.accessToken,"argument-error"),Ea._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return $c.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return $c.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:a,nonce:u,providerId:l}=e;if(!r&&!i&&!n&&!a||!l)return null;try{return new $c(l)._credential({idToken:n,accessToken:r,nonce:u,pendingToken:a})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends Lf{constructor(){super("facebook.com")}static credential(e){return Ea._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return la.credential(e.oauthAccessToken)}catch{return null}}}la.FACEBOOK_SIGN_IN_METHOD="facebook.com";la.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends Lf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ea._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ca.credentialFromTaggedObject(e)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ca.credential(n,r)}catch{return null}}}ca.GOOGLE_SIGN_IN_METHOD="google.com";ca.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends Lf{constructor(){super("github.com")}static credential(e){return Ea._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fa.credential(e.oauthAccessToken)}catch{return null}}}fa.GITHUB_SIGN_IN_METHOD="github.com";fa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o7="http://localhost";class Zc extends Vf{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return ss(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ss(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ss(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:a}=n;return!r||!i||!a||r!==i?null:new Zc(r,a)}static _create(e,n){return new Zc(e,n)}buildRequest(){return{requestUri:o7,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7="saml.";class Ly extends _s{constructor(e){de(e.startsWith(u7),"argument-error"),super(e)}static credentialFromResult(e){return Ly.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Ly.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Zc.fromJSON(e);return de(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Zc._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends Lf{constructor(){super("twitter.com")}static credential(e,n){return Ea._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ha.credential(n,r)}catch{return null}}}ha.TWITTER_SIGN_IN_METHOD="twitter.com";ha.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rL(t,e){return vs(t,"POST","/v1/accounts:signUp",Gt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Mi._fromIdTokenResponse(e,r,i),u=gO(r);return new wi({user:a,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=gO(r);return new wi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function gO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l7(t){var i;if(Dt(t.app))return Promise.reject(Vn(t));const e=Ut(t);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new wi({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await rL(e,{returnSecureToken:!0}),r=await wi._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy extends gr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,jy.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new jy(e,n,r,i)}}function iL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?jy._fromErrorAndOperation(t,a,e,r):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c7(t,e){const n=Oe(t);await Yv(!0,n,e);const{providerUserInfo:r}=await f$(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=aL(r||[]);return n.providerData=n.providerData.filter(a=>i.has(a.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function bS(t,e,n=!1){const r=await fs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return wi._forOperation(t,"link",r)}async function Yv(t,e,n){await am(e);const r=aL(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";de(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sL(t,e,n=!1){const{auth:r}=t;if(Dt(r.app))return Promise.reject(Vn(r));const i="reauthenticate";try{const a=await fs(t,iL(r,i,e,t),n);de(a.idToken,r,"internal-error");const u=Gv(a.idToken);de(u,r,"internal-error");const{sub:l}=u;return de(t.uid===l,r,"user-mismatch"),wi._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Xn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(t,e,n=!1){if(Dt(t.app))return Promise.reject(Vn(t));const r="signIn",i=await iL(t,r,e),a=await wi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function Qv(t,e){return oL(Ut(t),e)}async function uL(t,e){const n=Oe(t);return await Yv(!1,n,e.providerId),bS(n,e)}async function lL(t,e){return sL(Oe(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f7(t,e){return vs(t,"POST","/v1/accounts:signInWithCustomToken",Gt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h7(t,e){if(Dt(t.app))return Promise.reject(Vn(t));const n=Ut(t),r=await f7(n,{token:e,returnSecureToken:!0}),i=await wi._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?wS._fromServerResponse(e,n):"totpInfo"in n?ES._fromServerResponse(e,n):Xn(e,"internal-error")}}class wS extends Bm{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new wS(n)}}class ES extends Bm{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new ES(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t,e,n){var r;de(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),de(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),de(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(de(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(de(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TS(t){const e=Ut(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function d7(t,e,n){const r=Ut(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Xv(r,i,n),await vo(r,i,"getOobCode",Y$,"EMAIL_PASSWORD_PROVIDER")}async function m7(t,e,n){await nL(Oe(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&TS(t),r})}async function p7(t,e){await G$(Oe(t),{oobCode:e})}async function cL(t,e){const n=Oe(t),r=await nL(n,{oobCode:e}),i=r.requestType;switch(de(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(r.mfaInfo,n,"internal-error");default:de(r.email,n,"internal-error")}let a=null;return r.mfaInfo&&(a=Bm._fromServerResponse(Ut(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:a},operation:i}}async function g7(t,e){const{data:n}=await cL(Oe(t),e);return n.email}async function y7(t,e,n){if(Dt(t.app))return Promise.reject(Vn(t));const r=Ut(t),u=await vo(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rL,"EMAIL_PASSWORD_PROVIDER").catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&TS(t),f}),l=await wi._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(l.user),l}function v7(t,e,n){return Dt(t.app)?Promise.reject(Vn(t)):Qv(Oe(t),Lo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&TS(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _7(t,e,n){const r=Ut(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(u,l){de(l.handleCodeInApp,r,"argument-error"),l&&Xv(r,u,l)}a(i,n),await vo(r,i,"getOobCode",Q$,"EMAIL_PASSWORD_PROVIDER")}function b7(t,e){const n=Wv.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function w7(t,e,n){if(Dt(t.app))return Promise.reject(Vn(t));const r=Oe(t),i=Lo.credentialWithLink(e,n||im());return de(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Qv(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E7(t,e){return Kt(t,"POST","/v1/accounts:createAuthUri",Gt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T7(t,e){const n=yS()?im():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await E7(Oe(t),r);return i||[]}async function A7(t,e){const n=Oe(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Xv(n.auth,i,e);const{email:a}=await W$(n.auth,i);a!==t.email&&await t.reload()}async function S7(t,e,n){const r=Oe(t),a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Xv(r.auth,a,n);const{email:u}=await X$(r.auth,a);u!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I7(t,e){return Kt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x7(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Oe(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await fs(r,I7(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const l=r.providerData.find(({providerId:f})=>f==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function R7(t,e){const n=Oe(t);return Dt(n.auth.app)?Promise.reject(Vn(n.auth)):fL(n,e,null)}function P7(t,e){return fL(Oe(t),null,e)}async function fL(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(a.email=e),n&&(a.password=n);const u=await fs(t,$$(r,a));await t._updateTokensIfNecessary(u,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(t){var i,a;if(!t)return null;const{providerId:e}=t,n=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},r=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(t!=null&&t.idToken)){const u=(a=(i=Gv(t.idToken))==null?void 0:i.firebase)==null?void 0:a.sign_in_provider;if(u){const l=u!=="anonymous"&&u!=="custom"?u:null;return new Hc(r,l)}}if(!e)return null;switch(e){case"facebook.com":return new O7(r,n);case"github.com":return new D7(r,n);case"google.com":return new N7(r,n);case"twitter.com":return new k7(r,n,t.screenName||null);case"custom":case"anonymous":return new Hc(r,null);default:return new Hc(r,e,n)}}class Hc{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class hL extends Hc{constructor(e,n,r,i){super(e,n,r),this.username=i}}class O7 extends Hc{constructor(e,n){super(e,"facebook.com",n)}}class D7 extends hL{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class N7 extends Hc{constructor(e,n){super(e,"google.com",n)}}class k7 extends hL{constructor(e,n,r){super(e,"twitter.com",n,r)}}function M7(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:C7(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new qu("enroll",e,n)}static _fromMfaPendingCredential(e){return new qu("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if((n=e.multiFactorSession)!=null&&n.pendingCredential)return qu._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((r=e.multiFactorSession)!=null&&r.idToken)return qu._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Ut(e),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map(l=>Bm._fromServerResponse(r,l));de(i.mfaPendingCredential,r,"internal-error");const u=qu._fromMfaPendingCredential(i.mfaPendingCredential);return new AS(u,a,async l=>{const f=await l._process(r,u);delete i.mfaInfo,delete i.mfaPendingCredential;const h={...i,idToken:f.idToken,refreshToken:f.refreshToken};switch(n.operationType){case"signIn":const m=await wi._fromIdTokenResponse(r,n.operationType,h);return await r._updateCurrentUser(m.user),m;case"reauthenticate":return de(n.user,r,"internal-error"),wi._forOperation(n.user,n.operationType,h);default:Xn(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function V7(t,e){var i;const n=Oe(t),r=e;return de(e.customData.operationType,n,"argument-error"),de((i=r.customData._serverResponse)==null?void 0:i.mfaPendingCredential,n,"argument-error"),AS._fromError(n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(t,e){return Kt(t,"POST","/v2/accounts/mfaEnrollment:start",Gt(t,e))}function L7(t,e){return Kt(t,"POST","/v2/accounts/mfaEnrollment:finalize",Gt(t,e))}function j7(t,e){return Kt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Gt(t,e))}class SS{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Bm._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new SS(e)}async getSession(){return qu._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),a=await fs(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(a),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await fs(this.user,j7(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:a})=>a!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const _w=new WeakMap;function U7(t){const e=Oe(t);return _w.has(e)||_w.set(e,SS._fromUser(e)),_w.get(e)}const Uy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uy,"1"),this.storage.removeItem(Uy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7=1e3,q7=10;class mL extends dL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,l,f)=>{this.notifyListeners(u,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);w$()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,q7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},B7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mL.type="LOCAL";const IS=mL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL extends dL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pL.type="SESSION";const il=pL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Jv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(u).map(async h=>h(n.origin,a)),f=await z7(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,u;return new Promise((l,f)=>{const h=qm("",20);i.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(v.data.response);break;default:clearTimeout(m),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return window}function $7(t){un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(){return typeof un().WorkerGlobalScope<"u"&&typeof un().importScripts=="function"}async function H7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function G7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function K7(){return xS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL="firebaseLocalStorageDb",W7=1,By="firebaseLocalStorage",yL="fbase_key";class zm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zv(t,e){return t.transaction([By],e?"readwrite":"readonly").objectStore(By)}function Y7(){const t=indexedDB.deleteDatabase(gL);return new zm(t).toPromise()}function AT(){const t=indexedDB.open(gL,W7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(By,{keyPath:yL})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(By)?e(r):(r.close(),await Y7(),e(await AT()))})})}async function vO(t,e,n){const r=Zv(t,!0).put({[yL]:e,value:n});return new zm(r).toPromise()}async function Q7(t,e){const n=Zv(t,!1).get(e),r=await new zm(n).toPromise();return r===void 0?null:r.value}function _O(t,e){const n=Zv(t,!0).delete(e);return new zm(n).toPromise()}const X7=800,J7=3;class vL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await AT(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>J7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jv._getInstance(K7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await H7(),!this.activeServiceWorker)return;this.sender=new F7(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||G7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await AT();return await vO(e,Uy,"1"),await _O(e,Uy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>vO(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Q7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_O(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Zv(i,!1).getAll();return new zm(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),X7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vL.type="LOCAL";const om=vL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(t,e){return Kt(t,"POST","/v2/accounts/mfaSignIn:start",Gt(t,e))}function Z7(t,e){return Kt(t,"POST","/v2/accounts/mfaSignIn:finalize",Gt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=ZV("rcb"),eH=new Vm(3e4,6e4);class tH{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=un().grecaptcha)!=null&&e.render)}load(e,n=""){return de(nH(n),e,"argument-error"),this.shouldResolveImmediately(n)&&uO(un().grecaptcha)?Promise.resolve(un().grecaptcha):new Promise((r,i)=>{const a=un().setTimeout(()=>{i(_n(e,"network-request-failed"))},eH.get());un()[bw]=()=>{un().clearTimeout(a),delete un()[bw];const l=un().grecaptcha;if(!l||!uO(l)){i(_n(e,"internal-error"));return}const f=l.render;l.render=(h,m)=>{const p=f(h,m);return this.counter++,p},this.hostLanguage=n,r(l)};const u=`${R$()}?${kf({onload:bw,render:"explicit",hl:n})}`;_S(u).catch(()=>{clearTimeout(a),i(_n(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!((n=un().grecaptcha)!=null&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function nH(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class rH{async load(e){return new N$(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="recaptcha",iH={theme:"light",type:"image"};let aH=class{constructor(e,n,r={...iH}){this.parameters=r,this.type=Bd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ut(e),this.isInvisible=this.parameters.size==="invisible",de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;de(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new rH:new tH,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const a=u=>{u&&(this.tokenChangeListeners.delete(a),i(u))};this.tokenChangeListeners.add(a),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=un()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){de(yS()&&!xS(),this.auth,"internal-error"),await sH(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await l$(this.auth);de(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function sH(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Xu._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function oH(t,e,n){if(Dt(t.app))return Promise.reject(Vn(t));const r=Ut(t),i=await e_(r,e,Oe(n));return new RS(i,a=>Qv(r,a))}async function uH(t,e,n){const r=Oe(t);await Yv(!1,r,"phone");const i=await e_(r.auth,e,Oe(n));return new RS(i,a=>uL(r,a))}async function lH(t,e,n){const r=Oe(t);if(Dt(r.auth.app))return Promise.reject(Vn(r.auth));const i=await e_(r.auth,e,Oe(n));return new RS(i,a=>lL(r,a))}async function e_(t,e,n){var r;if(!t._getRecaptchaConfig())try{await U$(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const a=i.session;if("phoneNumber"in i){de(a.type==="enroll",t,"internal-error");const u={idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await vo(t,u,"mfaSmsEnrollment",async(m,p)=>{if(p.phoneEnrollmentInfo.captchaResponse===Ud){de((n==null?void 0:n.type)===Bd,m,"argument-error");const v=await ww(m,p,n);return yO(m,v)}return yO(m,p)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneSessionInfo.sessionInfo}else{de(a.type==="signin",t,"internal-error");const u=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;de(u,t,"missing-multi-factor-info");const l={mfaPendingCredential:a.credential,mfaEnrollmentId:u,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await vo(t,l,"mfaSmsSignIn",async(p,v)=>{if(v.phoneSignInInfo.captchaResponse===Ud){de((n==null?void 0:n.type)===Bd,p,"argument-error");const b=await ww(p,v,n);return bO(p,b)}return bO(p,v)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).phoneResponseInfo.sessionInfo}}else{const a={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await vo(t,a,"sendVerificationCode",async(h,m)=>{if(m.captchaResponse===Ud){de((n==null?void 0:n.type)===Bd,h,"argument-error");const p=await ww(h,m,n);return pO(h,p)}return pO(h,m)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).sessionInfo}}finally{n==null||n._reset()}}async function cH(t,e){const n=Oe(t);if(Dt(n.auth.app))return Promise.reject(Vn(n.auth));await bS(n,e)}async function ww(t,e,n){de(n.type===Bd,t,"argument-error");const r=await n.verify();de(typeof r=="string",t,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const a=i.phoneEnrollmentInfo.phoneNumber,u=i.phoneEnrollmentInfo.captchaResponse,l=i.phoneEnrollmentInfo.clientType,f=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r,captchaResponse:u,clientType:l,recaptchaVersion:f}}),i}else if("phoneSignInInfo"in i){const a=i.phoneSignInInfo.captchaResponse,u=i.phoneSignInInfo.clientType,l=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:a,clientType:u,recaptchaVersion:l}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al=class gy{constructor(e){this.providerId=gy.PROVIDER_ID,this.auth=Ut(e)}verifyPhoneNumber(e,n){return e_(this.auth,e,Oe(n))}static credential(e,n){return Xu._fromVerification(e,n)}static credentialFromResult(e){const n=e;return gy.credentialFromTaggedObject(n)}static credentialFromError(e){return gy.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Xu._fromTokenResponse(n,r):null}};al.PROVIDER_ID="phone";al.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(t,e){return e?Kr(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS extends Vf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ss(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ss(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ss(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fH(t){return oL(t.auth,new PS(t),t.bypassAuthState)}function hH(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),sL(n,new PS(t),t.bypassAuthState)}async function dH(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),bS(n,new PS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:u,type:l}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fH;case"linkViaPopup":case"linkViaRedirect":return dH;case"reauthViaPopup":case"reauthViaRedirect":return hH;default:Xn(this.auth,"internal-error")}}resolve(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mH=new Vm(2e3,1e4);async function pH(t,e,n){if(Dt(t.app))return Promise.reject(_n(t,"operation-not-supported-in-this-environment"));const r=Ut(t);Mf(t,e,_s);const i=El(r,n);return new ts(r,"signInViaPopup",e,i).executeNotNull()}async function gH(t,e,n){const r=Oe(t);if(Dt(r.auth.app))return Promise.reject(_n(r.auth,"operation-not-supported-in-this-environment"));Mf(r.auth,e,_s);const i=El(r.auth,n);return new ts(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function yH(t,e,n){const r=Oe(t);Mf(r.auth,e,_s);const i=El(r.auth,n);return new ts(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class ts extends _L{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,ts.currentPopupAction&&ts.currentPopupAction.cancel(),ts.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){Ui(this.filter.length===1,"Popup operations only handle one event");const e=qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(_n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ts.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mH.get())};e()}}ts.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vH="pendingRedirect",qd=new Map;class _H extends _L{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=qd.get(this.auth._key());if(!e){try{const r=await bH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qd.set(this.auth._key(),e)}return this.bypassAuthState||qd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bH(t,e){const n=wL(e),r=bL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function CS(t,e){return bL(t)._set(wL(e),"true")}function wH(){qd.clear()}function OS(t,e){qd.set(t._key(),e)}function bL(t){return Kr(t._redirectPersistence)}function wL(t){return Qu(vH,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EH(t,e,n){return TH(t,e,n)}async function TH(t,e,n){if(Dt(t.app))return Promise.reject(Vn(t));const r=Ut(t);Mf(t,e,_s),await r._initializationPromise;const i=El(r,n);return await CS(i,r),i._openRedirect(r,e,"signInViaRedirect")}function AH(t,e,n){return SH(t,e,n)}async function SH(t,e,n){const r=Oe(t);if(Mf(r.auth,e,_s),Dt(r.auth.app))return Promise.reject(Vn(r.auth));await r.auth._initializationPromise;const i=El(r.auth,n);await CS(i,r.auth);const a=await EL(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",a)}function IH(t,e,n){return xH(t,e,n)}async function xH(t,e,n){const r=Oe(t);Mf(r.auth,e,_s),await r.auth._initializationPromise;const i=El(r.auth,n);await Yv(!1,r,e.providerId),await CS(i,r.auth);const a=await EL(r);return i._openRedirect(r.auth,e,"linkViaRedirect",a)}async function RH(t,e){return await Ut(t)._initializationPromise,t_(t,e,!1)}async function t_(t,e,n=!1){if(Dt(t.app))return Promise.reject(Vn(t));const r=Ut(t),i=El(r,e),u=await new _H(r,i,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}async function EL(t){const e=qm(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH=600*1e3;class TL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AL(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(_n(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PH&&this.cachedEventUids.clear(),this.cachedEventUids.has(wO(e))}saveEventToCache(e){this.cachedEventUids.add(wO(e)),this.lastProcessedEventTime=Date.now()}}function wO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SL(t,e={}){return Kt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DH=/^https?/;async function NH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await SL(t);for(const n of e)try{if(kH(n))return}catch{}Xn(t,"unauthorized-domain")}function kH(t){const e=im(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!DH.test(n))return!1;if(OH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MH=new Vm(3e4,6e4);function EO(){const t=un().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function VH(t){return new Promise((e,n)=>{var i,a,u;function r(){EO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{EO(),n(_n(t,"network-request-failed"))},timeout:MH.get()})}if((a=(i=un().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((u=un().gapi)!=null&&u.load)r();else{const l=ZV("iframefcb");return un()[l]=()=>{gapi.load?r():n(_n(t,"network-request-failed"))},_S(`${C$()}?onload=${l}`).catch(f=>n(f))}}).catch(e=>{throw yy=null,e})}let yy=null;function LH(t){return yy=yy||VH(t),yy}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH=new Vm(5e3,15e3),UH="__/auth/iframe",BH="emulator/auth/iframe",qH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FH(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vS(e,BH):`https://${t.config.authDomain}/${UH}`,r={apiKey:e.apiKey,appName:t.name,v:Vo},i=zH.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${kf(r).slice(1)}`}async function $H(t){const e=await LH(t),n=un().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:FH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qH,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const u=_n(t,"network-request-failed"),l=un().setTimeout(()=>{a(u)},jH.get());function f(){un().clearTimeout(l),i(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GH=500,KH=600,WH="_blank",YH="http://localhost";class TO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QH(t,e,n,r=GH,i=KH){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const f={...HH,width:r.toString(),height:i.toString(),top:a,left:u},h=jt().toLowerCase();n&&(l=KV(h)?WH:n),HV(h)&&(e=e||YH,f.scrollbars="yes");const m=Object.entries(f).reduce((v,[b,E])=>`${v}${b}=${E},`,"");if(b$(h)&&l!=="_self")return XH(e||"",l),new TO(null);const p=window.open(e||"",l,m);de(p,t,"popup-blocked");try{p.focus()}catch{}return new TO(p)}function XH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JH="__/auth/handler",ZH="emulator/auth/handler",eG=encodeURIComponent("fac");async function ST(t,e,n,r,i,a){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Vo,eventId:i};if(e instanceof _s){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",x9(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,p]of Object.entries(a||{}))u[m]=p}if(e instanceof Lf){const m=e.getScopes().filter(p=>p!=="");m.length>0&&(u.scopes=m.join(","))}t.tenantId&&(u.tid=t.tenantId);const l=u;for(const m of Object.keys(l))l[m]===void 0&&delete l[m];const f=await t._getAppCheckToken(),h=f?`#${eG}=${encodeURIComponent(f)}`:"";return`${tG(t)}?${kf(l).slice(1)}${h}`}function tG({config:t}){return t.emulator?vS(t,ZH):`https://${t.authDomain}/${JH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="webStorageSupport";class nG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=il,this._completeRedirectFn=t_,this._overrideRedirectResult=OS}async _openPopup(e,n,r,i){var u;Ui((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const a=await ST(e,n,r,im(),i);return QH(e,a,qm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await ST(e,n,r,im(),i);return $7(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Ui(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $H(e),r=new TL(e);return n.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ew,{type:Ew},i=>{var u;const a=(u=i==null?void 0:i[0])==null?void 0:u[Ew];a!==void 0&&n(!!a),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XV()||GV()||jm()}}const rG=nG;class iG{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return da("unexpected MultiFactorSessionType")}}}class DS extends iG{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new DS(e)}_finalizeEnroll(e,n,r){return L7(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return Z7(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class IL{constructor(){}static assertion(e){return DS._fromCredential(e)}}IL.FACTOR_ID="phone";var AO="@firebase/auth",SO="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oG(t){Io(new wa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:l}=r.options;de(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JV(t)},h=new I$(r,i,a,f);return B$(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Io(new wa("auth-internal",e=>{const n=Ut(e.getProvider("auth").getImmediate());return(r=>new aG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vi(AO,SO,sG(t)),Vi(AO,SO,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uG=300;p9("authIdTokenMaxAge");function lG(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}x$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=_n("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",lG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oG("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cG=2e3;async function fG(t,e,n){const{BuildInfo:r}=sl();Ui(e.sessionId,"AuthEvent did not contain a session ID");const i=await gG(e.sessionId),a={};return jm()?a.ibi=r.packageName:Lm()?a.apn=r.packageName:Xn(t,"operation-not-supported-in-this-environment"),r.displayName&&(a.appDisplayName=r.displayName),a.sessionId=i,ST(t,n,e.type,void 0,e.eventId??void 0,a)}async function hG(t){const{BuildInfo:e}=sl(),n={};jm()?n.iosBundleId=e.packageName:Lm()?n.androidPackageName=e.packageName:Xn(t,"operation-not-supported-in-this-environment"),await SL(t,n)}function dG(t){const{cordova:e}=sl();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,_$()?"_blank":"_system","location=yes"),n(i)})})}async function mG(t,e,n){const{cordova:r}=sl();let i=()=>{};try{await new Promise((a,u)=>{let l=null;function f(){var v;a();const p=(v=r.plugins.browsertab)==null?void 0:v.close;typeof p=="function"&&p(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function h(){l||(l=window.setTimeout(()=>{u(_n(t,"redirect-cancelled-by-user"))},cG))}function m(){(document==null?void 0:document.visibilityState)==="visible"&&h()}e.addPassiveListener(f),document.addEventListener("resume",h,!1),Lm()&&document.addEventListener("visibilitychange",m,!1),i=()=>{e.removePassiveListener(f),document.removeEventListener("resume",h,!1),document.removeEventListener("visibilitychange",m,!1),l&&window.clearTimeout(l)}})}finally{i()}}function pG(t){var n,r,i,a,u,l,f,h,m,p;const e=sl();de(typeof((n=e==null?void 0:e.universalLinks)==null?void 0:n.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),de(typeof((r=e==null?void 0:e.BuildInfo)==null?void 0:r.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),de(typeof((u=(a=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:a.browsertab)==null?void 0:u.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),de(typeof((h=(f=(l=e==null?void 0:e.cordova)==null?void 0:l.plugins)==null?void 0:f.browsertab)==null?void 0:h.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),de(typeof((p=(m=e==null?void 0:e.cordova)==null?void 0:m.InAppBrowser)==null?void 0:p.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function gG(t){const e=yG(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function yG(t){if(Ui(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vG=20;class _G extends TL{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function bG(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:TG(),postBody:null,tenantId:t.tenantId,error:_n(t,"no-auth-event")}}function wG(t,e){return IT()._set(xT(t),e)}async function IO(t){const e=await IT()._get(xT(t));return e&&await IT()._remove(xT(t)),e}function EG(t,e){var r,i;const n=SG(e);if(n.includes("/__/auth/callback")){const a=vy(n),u=a.firebaseError?AG(decodeURIComponent(a.firebaseError)):null,l=(i=(r=u==null?void 0:u.code)==null?void 0:r.split("auth/"))==null?void 0:i[1],f=l?_n(l):null;return f?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:f,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:n,postBody:null}}return null}function TG(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<vG;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function IT(){return Kr(IS)}function xT(t){return Qu("authEvent",t.config.apiKey,t.name)}function AG(t){try{return JSON.parse(t)}catch{return null}}function SG(t){const e=vy(t),n=e.link?decodeURIComponent(e.link):void 0,r=vy(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return vy(i).link||i||r||n||t}function vy(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Uc(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IG=500;class xG{constructor(){this._redirectPersistence=il,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=t_,this._overrideRedirectResult=OS}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new _G(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Xn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){pG(e);const a=await this._initialize(e);await a.initialized(),a.resetRedirect(),wH(),await this._originValidation(e);const u=bG(e,r,i);await wG(e,u);const l=await fG(e,u,n),f=await dG(l);return mG(e,a,f)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hG(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:a}=sl(),u=setTimeout(async()=>{await IO(e),n.onEvent(xO())},IG),l=async m=>{clearTimeout(u);const p=await IO(e);let v=null;p&&(m!=null&&m.url)&&(v=EG(p,m.url)),n.onEvent(v||xO())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,l);const f=i,h=`${a.packageName.toLowerCase()}://`;sl().handleOpenURL=async m=>{if(m.toLowerCase().startsWith(h)&&l({url:m}),typeof f=="function")try{f(m)}catch(p){console.error(p)}}}}const RG=xG;function xO(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_n("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PG(t,e){Ut(t)._logFramework(e)}var CG="@firebase/auth-compat",OG="0.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DG=1e3;function zd(){var t;return((t=self==null?void 0:self.location)==null?void 0:t.protocol)||null}function NG(){return zd()==="http:"||zd()==="https:"}function xL(t=jt()){return!!((zd()==="file:"||zd()==="ionic:"||zd()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function kG(){return lS()||$v()}function MG(){return _V()&&(document==null?void 0:document.documentMode)===11}function VG(t=jt()){return/Edge\/\d+/.test(t)}function LG(t=jt()){return MG()||VG(t)}function RL(){try{const t=self.localStorage,e=qm();if(t)return t.setItem(e,"1"),t.removeItem(e),LG()?tm():!0}catch{return NS()&&tm()}return!1}function NS(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Tw(){return(NG()||vV()||xL())&&!kG()&&RL()&&!NS()}function PL(){return xL()&&typeof document<"u"}async function jG(){return PL()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},DG);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function UG(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r={LOCAL:"local",NONE:"none",SESSION:"session"},hd=de,CL="persistence";function BG(t,e){if(hd(Object.values($r).includes(e),t,"invalid-persistence-type"),lS()){hd(e!==$r.SESSION,t,"unsupported-persistence-type");return}if($v()){hd(e===$r.NONE,t,"unsupported-persistence-type");return}if(NS()){hd(e===$r.NONE||e===$r.LOCAL&&tm(),t,"unsupported-persistence-type");return}hd(e===$r.NONE||RL(),t,"unsupported-persistence-type")}async function RT(t){await t._initializationPromise;const e=OL(),n=Qu(CL,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistenceType())}function qG(t,e){const n=OL();if(!n)return[];const r=Qu(CL,t,e);switch(n.getItem(r)){case $r.NONE:return[Jc];case $r.LOCAL:return[om,il];case $r.SESSION:return[il];default:return[]}}function OL(){var t;try{return((t=UG())==null?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zG=de;class mo{constructor(){this.browserResolver=Kr(rG),this.cordovaResolver=Kr(RG),this.underlyingResolver=null,this._redirectPersistence=il,this._completeRedirectFn=t_,this._overrideRedirectResult=OS}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return PL()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return zG(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await jG();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(t){return t.unwrap()}function FG(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $G(t){return NL(t)}function HG(t,e){var r;const n=(r=e.customData)==null?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new GG(t,V7(t,e))}else if(n){const i=NL(e),a=e;i&&(a.credential=i,a.tenantId=n.tenantId||void 0,a.email=n.email||void 0,a.phoneNumber=n.phoneNumber||void 0)}}function NL(t){const{_tokenResponse:e}=t instanceof gr?t.customData:t;if(!e)return null;if(!(t instanceof gr)&&"temporaryProof"in e&&"phoneNumber"in e)return al.credentialFromResult(t);const n=e.providerId;if(!n||n===cd.PASSWORD)return null;let r;switch(n){case cd.GOOGLE:r=ca;break;case cd.FACEBOOK:r=la;break;case cd.GITHUB:r=fa;break;case cd.TWITTER:r=ha;break;default:const{oauthIdToken:i,oauthAccessToken:a,oauthTokenSecret:u,pendingToken:l,nonce:f}=e;return!a&&!u&&!i&&!l?null:l?n.startsWith("saml.")?Zc._create(n,l):Ea._fromParams({providerId:n,signInMethod:n,pendingToken:l,idToken:i,accessToken:a}):new $c(n).credential({idToken:i,accessToken:a,rawNonce:f})}return t instanceof gr?r.credentialFromError(t):r.credentialFromResult(t)}function Ar(t,e){return e.catch(n=>{throw n instanceof gr&&HG(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:$G(n),additionalUserInfo:M7(n),user:n_.getOrCreate(i)}})}async function PT(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Ar(t,n.confirm(r))}}class GG{constructor(e,n){this.resolver=n,this.auth=FG(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Ar(DL(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n_=class Pd{constructor(e){this._delegate=e,this.multiFactor=U7(e)}static getOrCreate(e){return Pd.USER_MAP.has(e)||Pd.USER_MAP.set(e,new Pd(e)),Pd.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Ar(this.auth,uL(this._delegate,e))}async linkWithPhoneNumber(e,n){return PT(this.auth,uH(this._delegate,e,n))}async linkWithPopup(e){return Ar(this.auth,yH(this._delegate,e,mo))}async linkWithRedirect(e){return await RT(Ut(this.auth)),IH(this._delegate,e,mo)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Ar(this.auth,lL(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return PT(this.auth,lH(this._delegate,e,n))}reauthenticateWithPopup(e){return Ar(this.auth,gH(this._delegate,e,mo))}async reauthenticateWithRedirect(e){return await RT(Ut(this.auth)),AH(this._delegate,e,mo)}sendEmailVerification(e){return A7(this._delegate,e)}async unlink(e){return await c7(this._delegate,e),this}updateEmail(e){return R7(this._delegate,e)}updatePassword(e){return P7(this._delegate,e)}updatePhoneNumber(e){return cH(this._delegate,e)}updateProfile(e){return x7(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return S7(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};n_.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=de;class CT{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;dd(r,"invalid-api-key",{appName:e.name}),dd(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?mo:void 0;this._delegate=n.initialize({options:{persistence:KG(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Z8),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?n_.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){q$(this._delegate,e,n)}applyActionCode(e){return p7(this._delegate,e)}checkActionCode(e){return cL(this._delegate,e)}confirmPasswordReset(e,n){return m7(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Ar(this._delegate,y7(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return T7(this._delegate,e)}isSignInWithEmailLink(e){return b7(this._delegate,e)}async getRedirectResult(){dd(Tw(),this._delegate,"operation-not-supported-in-this-environment");const e=await RH(this._delegate,mo);return e?Ar(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){PG(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:a,complete:u}=RO(e,n,r);return this._delegate.onAuthStateChanged(i,a,u)}onIdTokenChanged(e,n,r){const{next:i,error:a,complete:u}=RO(e,n,r);return this._delegate.onIdTokenChanged(i,a,u)}sendSignInLinkToEmail(e,n){return _7(this._delegate,e,n)}sendPasswordResetEmail(e,n){return d7(this._delegate,e,n||void 0)}async setPersistence(e){BG(this._delegate,e);let n;switch(e){case $r.SESSION:n=il;break;case $r.LOCAL:n=await Kr(om)._isAvailable()?om:IS;break;case $r.NONE:n=Jc;break;default:return Xn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Ar(this._delegate,l7(this._delegate))}signInWithCredential(e){return Ar(this._delegate,Qv(this._delegate,e))}signInWithCustomToken(e){return Ar(this._delegate,h7(this._delegate,e))}signInWithEmailAndPassword(e,n){return Ar(this._delegate,v7(this._delegate,e,n))}signInWithEmailLink(e,n){return Ar(this._delegate,w7(this._delegate,e,n))}signInWithPhoneNumber(e,n){return PT(this._delegate,oH(this._delegate,e,n))}async signInWithPopup(e){return dd(Tw(),this._delegate,"operation-not-supported-in-this-environment"),Ar(this._delegate,pH(this._delegate,e,mo))}async signInWithRedirect(e){return dd(Tw(),this._delegate,"operation-not-supported-in-this-environment"),await RT(this._delegate),EH(this._delegate,e,mo)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return g7(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}CT.Persistence=$r;function RO(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:u=>i(u&&n_.getOrCreate(u)),error:e,complete:n}}function KG(t,e){const n=qG(t,e);if(typeof self<"u"&&!n.includes(om)&&n.push(om),typeof window<"u")for(const r of[IS,il])n.includes(r)||n.push(r);return n.includes(Jc)||n.push(Jc),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{static credential(e,n){return al.credential(e,n)}constructor(){this.providerId="phone",this._delegate=new al(DL(kn.auth()))}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}kS.PHONE_SIGN_IN_METHOD=al.PHONE_SIGN_IN_METHOD;kS.PROVIDER_ID=al.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WG=de;class YG{constructor(e,n,r=kn.app()){var i;WG((i=r.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new aH(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QG="auth-compat";function XG(t){t.INTERNAL.registerComponent(new wa(QG,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new CT(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ac.EMAIL_SIGNIN,PASSWORD_RESET:Ac.PASSWORD_RESET,RECOVER_EMAIL:Ac.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Ac.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Ac.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Ac.VERIFY_EMAIL}},EmailAuthProvider:Lo,FacebookAuthProvider:la,GithubAuthProvider:fa,GoogleAuthProvider:ca,OAuthProvider:$c,SAMLAuthProvider:Ly,PhoneAuthProvider:kS,PhoneMultiFactorGenerator:IL,RecaptchaVerifier:YG,TwitterAuthProvider:ha,Auth:CT,AuthCredential:Vf,Error:gr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(CG,OG)}XG(kn);const kL=x.createContext(null),MS=()=>{const t=x.useContext(kL);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},JG=({children:t})=>{const[e,n]=x.useState(null),[r,i]=x.useState(!0),a=kn.auth();x.useEffect(()=>a.onAuthStateChanged(p=>{n(p?{uid:p.uid,email:p.email}:null),i(!1)}),[a]);const h={currentUser:e,loading:r,login:(m,p)=>a.signInWithEmailAndPassword(m,p),logout:()=>a.signOut(),changePassword:m=>{const p=a.currentUser;return p?!m||m.length<6?Promise.reject(new Error("Пароль должен содержать не менее 6 символов.")):p.updatePassword(m):Promise.reject(new Error("Пользователь не авторизован."))}};return H.jsx(kL.Provider,{value:h,children:!r&&t})};var PO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _o,ML;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,N){function M(){}M.prototype=N.prototype,D.D=N.prototype,D.prototype=new M,D.prototype.constructor=D,D.C=function(B,j,q){for(var V=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)V[ve-2]=arguments[ve];return N.prototype[j].apply(B,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,N,M){M||(M=0);var B=Array(16);if(typeof N=="string")for(var j=0;16>j;++j)B[j]=N.charCodeAt(M++)|N.charCodeAt(M++)<<8|N.charCodeAt(M++)<<16|N.charCodeAt(M++)<<24;else for(j=0;16>j;++j)B[j]=N[M++]|N[M++]<<8|N[M++]<<16|N[M++]<<24;N=D.g[0],M=D.g[1],j=D.g[2];var q=D.g[3],V=N+(q^M&(j^q))+B[0]+3614090360&4294967295;N=M+(V<<7&4294967295|V>>>25),V=q+(j^N&(M^j))+B[1]+3905402710&4294967295,q=N+(V<<12&4294967295|V>>>20),V=j+(M^q&(N^M))+B[2]+606105819&4294967295,j=q+(V<<17&4294967295|V>>>15),V=M+(N^j&(q^N))+B[3]+3250441966&4294967295,M=j+(V<<22&4294967295|V>>>10),V=N+(q^M&(j^q))+B[4]+4118548399&4294967295,N=M+(V<<7&4294967295|V>>>25),V=q+(j^N&(M^j))+B[5]+1200080426&4294967295,q=N+(V<<12&4294967295|V>>>20),V=j+(M^q&(N^M))+B[6]+2821735955&4294967295,j=q+(V<<17&4294967295|V>>>15),V=M+(N^j&(q^N))+B[7]+4249261313&4294967295,M=j+(V<<22&4294967295|V>>>10),V=N+(q^M&(j^q))+B[8]+1770035416&4294967295,N=M+(V<<7&4294967295|V>>>25),V=q+(j^N&(M^j))+B[9]+2336552879&4294967295,q=N+(V<<12&4294967295|V>>>20),V=j+(M^q&(N^M))+B[10]+4294925233&4294967295,j=q+(V<<17&4294967295|V>>>15),V=M+(N^j&(q^N))+B[11]+2304563134&4294967295,M=j+(V<<22&4294967295|V>>>10),V=N+(q^M&(j^q))+B[12]+1804603682&4294967295,N=M+(V<<7&4294967295|V>>>25),V=q+(j^N&(M^j))+B[13]+4254626195&4294967295,q=N+(V<<12&4294967295|V>>>20),V=j+(M^q&(N^M))+B[14]+2792965006&4294967295,j=q+(V<<17&4294967295|V>>>15),V=M+(N^j&(q^N))+B[15]+1236535329&4294967295,M=j+(V<<22&4294967295|V>>>10),V=N+(j^q&(M^j))+B[1]+4129170786&4294967295,N=M+(V<<5&4294967295|V>>>27),V=q+(M^j&(N^M))+B[6]+3225465664&4294967295,q=N+(V<<9&4294967295|V>>>23),V=j+(N^M&(q^N))+B[11]+643717713&4294967295,j=q+(V<<14&4294967295|V>>>18),V=M+(q^N&(j^q))+B[0]+3921069994&4294967295,M=j+(V<<20&4294967295|V>>>12),V=N+(j^q&(M^j))+B[5]+3593408605&4294967295,N=M+(V<<5&4294967295|V>>>27),V=q+(M^j&(N^M))+B[10]+38016083&4294967295,q=N+(V<<9&4294967295|V>>>23),V=j+(N^M&(q^N))+B[15]+3634488961&4294967295,j=q+(V<<14&4294967295|V>>>18),V=M+(q^N&(j^q))+B[4]+3889429448&4294967295,M=j+(V<<20&4294967295|V>>>12),V=N+(j^q&(M^j))+B[9]+568446438&4294967295,N=M+(V<<5&4294967295|V>>>27),V=q+(M^j&(N^M))+B[14]+3275163606&4294967295,q=N+(V<<9&4294967295|V>>>23),V=j+(N^M&(q^N))+B[3]+4107603335&4294967295,j=q+(V<<14&4294967295|V>>>18),V=M+(q^N&(j^q))+B[8]+1163531501&4294967295,M=j+(V<<20&4294967295|V>>>12),V=N+(j^q&(M^j))+B[13]+2850285829&4294967295,N=M+(V<<5&4294967295|V>>>27),V=q+(M^j&(N^M))+B[2]+4243563512&4294967295,q=N+(V<<9&4294967295|V>>>23),V=j+(N^M&(q^N))+B[7]+1735328473&4294967295,j=q+(V<<14&4294967295|V>>>18),V=M+(q^N&(j^q))+B[12]+2368359562&4294967295,M=j+(V<<20&4294967295|V>>>12),V=N+(M^j^q)+B[5]+4294588738&4294967295,N=M+(V<<4&4294967295|V>>>28),V=q+(N^M^j)+B[8]+2272392833&4294967295,q=N+(V<<11&4294967295|V>>>21),V=j+(q^N^M)+B[11]+1839030562&4294967295,j=q+(V<<16&4294967295|V>>>16),V=M+(j^q^N)+B[14]+4259657740&4294967295,M=j+(V<<23&4294967295|V>>>9),V=N+(M^j^q)+B[1]+2763975236&4294967295,N=M+(V<<4&4294967295|V>>>28),V=q+(N^M^j)+B[4]+1272893353&4294967295,q=N+(V<<11&4294967295|V>>>21),V=j+(q^N^M)+B[7]+4139469664&4294967295,j=q+(V<<16&4294967295|V>>>16),V=M+(j^q^N)+B[10]+3200236656&4294967295,M=j+(V<<23&4294967295|V>>>9),V=N+(M^j^q)+B[13]+681279174&4294967295,N=M+(V<<4&4294967295|V>>>28),V=q+(N^M^j)+B[0]+3936430074&4294967295,q=N+(V<<11&4294967295|V>>>21),V=j+(q^N^M)+B[3]+3572445317&4294967295,j=q+(V<<16&4294967295|V>>>16),V=M+(j^q^N)+B[6]+76029189&4294967295,M=j+(V<<23&4294967295|V>>>9),V=N+(M^j^q)+B[9]+3654602809&4294967295,N=M+(V<<4&4294967295|V>>>28),V=q+(N^M^j)+B[12]+3873151461&4294967295,q=N+(V<<11&4294967295|V>>>21),V=j+(q^N^M)+B[15]+530742520&4294967295,j=q+(V<<16&4294967295|V>>>16),V=M+(j^q^N)+B[2]+3299628645&4294967295,M=j+(V<<23&4294967295|V>>>9),V=N+(j^(M|~q))+B[0]+4096336452&4294967295,N=M+(V<<6&4294967295|V>>>26),V=q+(M^(N|~j))+B[7]+1126891415&4294967295,q=N+(V<<10&4294967295|V>>>22),V=j+(N^(q|~M))+B[14]+2878612391&4294967295,j=q+(V<<15&4294967295|V>>>17),V=M+(q^(j|~N))+B[5]+4237533241&4294967295,M=j+(V<<21&4294967295|V>>>11),V=N+(j^(M|~q))+B[12]+1700485571&4294967295,N=M+(V<<6&4294967295|V>>>26),V=q+(M^(N|~j))+B[3]+2399980690&4294967295,q=N+(V<<10&4294967295|V>>>22),V=j+(N^(q|~M))+B[10]+4293915773&4294967295,j=q+(V<<15&4294967295|V>>>17),V=M+(q^(j|~N))+B[1]+2240044497&4294967295,M=j+(V<<21&4294967295|V>>>11),V=N+(j^(M|~q))+B[8]+1873313359&4294967295,N=M+(V<<6&4294967295|V>>>26),V=q+(M^(N|~j))+B[15]+4264355552&4294967295,q=N+(V<<10&4294967295|V>>>22),V=j+(N^(q|~M))+B[6]+2734768916&4294967295,j=q+(V<<15&4294967295|V>>>17),V=M+(q^(j|~N))+B[13]+1309151649&4294967295,M=j+(V<<21&4294967295|V>>>11),V=N+(j^(M|~q))+B[4]+4149444226&4294967295,N=M+(V<<6&4294967295|V>>>26),V=q+(M^(N|~j))+B[11]+3174756917&4294967295,q=N+(V<<10&4294967295|V>>>22),V=j+(N^(q|~M))+B[2]+718787259&4294967295,j=q+(V<<15&4294967295|V>>>17),V=M+(q^(j|~N))+B[9]+3951481745&4294967295,D.g[0]=D.g[0]+N&4294967295,D.g[1]=D.g[1]+(j+(V<<21&4294967295|V>>>11))&4294967295,D.g[2]=D.g[2]+j&4294967295,D.g[3]=D.g[3]+q&4294967295}r.prototype.u=function(D,N){N===void 0&&(N=D.length);for(var M=N-this.blockSize,B=this.B,j=this.h,q=0;q<N;){if(j==0)for(;q<=M;)i(this,D,q),q+=this.blockSize;if(typeof D=="string"){for(;q<N;)if(B[j++]=D.charCodeAt(q++),j==this.blockSize){i(this,B),j=0;break}}else for(;q<N;)if(B[j++]=D[q++],j==this.blockSize){i(this,B),j=0;break}}this.h=j,this.o+=N},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var N=1;N<D.length-8;++N)D[N]=0;var M=8*this.o;for(N=D.length-8;N<D.length;++N)D[N]=M&255,M/=256;for(this.u(D),D=Array(16),N=M=0;4>N;++N)for(var B=0;32>B;B+=8)D[M++]=this.g[N]>>>B&255;return D};function a(D,N){var M=l;return Object.prototype.hasOwnProperty.call(M,D)?M[D]:M[D]=N(D)}function u(D,N){this.h=N;for(var M=[],B=!0,j=D.length-1;0<=j;j--){var q=D[j]|0;B&&q==N||(M[j]=q,B=!1)}this.g=M}var l={};function f(D){return-128<=D&&128>D?a(D,function(N){return new u([N|0],0>N?-1:0)}):new u([D|0],0>D?-1:0)}function h(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return A(h(-D));for(var N=[],M=1,B=0;D>=M;B++)N[B]=D/M|0,M*=4294967296;return new u(N,0)}function m(D,N){if(D.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(D.charAt(0)=="-")return A(m(D.substring(1),N));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=h(Math.pow(N,8)),B=p,j=0;j<D.length;j+=8){var q=Math.min(8,D.length-j),V=parseInt(D.substring(j,j+q),N);8>q?(q=h(Math.pow(N,q)),B=B.j(q).add(h(V))):(B=B.j(M),B=B.add(h(V)))}return B}var p=f(0),v=f(1),b=f(16777216);t=u.prototype,t.m=function(){if(T(this))return-A(this).m();for(var D=0,N=1,M=0;M<this.g.length;M++){var B=this.i(M);D+=(0<=B?B:4294967296+B)*N,N*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(E(this))return"0";if(T(this))return"-"+A(this).toString(D);for(var N=h(Math.pow(D,6)),M=this,B="";;){var j=U(M,N).g;M=R(M,j.j(N));var q=((0<M.g.length?M.g[0]:M.h)>>>0).toString(D);if(M=j,E(M))return q+B;for(;6>q.length;)q="0"+q;B=q+B}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function E(D){if(D.h!=0)return!1;for(var N=0;N<D.g.length;N++)if(D.g[N]!=0)return!1;return!0}function T(D){return D.h==-1}t.l=function(D){return D=R(this,D),T(D)?-1:E(D)?0:1};function A(D){for(var N=D.g.length,M=[],B=0;B<N;B++)M[B]=~D.g[B];return new u(M,~D.h).add(v)}t.abs=function(){return T(this)?A(this):this},t.add=function(D){for(var N=Math.max(this.g.length,D.g.length),M=[],B=0,j=0;j<=N;j++){var q=B+(this.i(j)&65535)+(D.i(j)&65535),V=(q>>>16)+(this.i(j)>>>16)+(D.i(j)>>>16);B=V>>>16,q&=65535,V&=65535,M[j]=V<<16|q}return new u(M,M[M.length-1]&-2147483648?-1:0)};function R(D,N){return D.add(A(N))}t.j=function(D){if(E(this)||E(D))return p;if(T(this))return T(D)?A(this).j(A(D)):A(A(this).j(D));if(T(D))return A(this.j(A(D)));if(0>this.l(b)&&0>D.l(b))return h(this.m()*D.m());for(var N=this.g.length+D.g.length,M=[],B=0;B<2*N;B++)M[B]=0;for(B=0;B<this.g.length;B++)for(var j=0;j<D.g.length;j++){var q=this.i(B)>>>16,V=this.i(B)&65535,ve=D.i(j)>>>16,Ee=D.i(j)&65535;M[2*B+2*j]+=V*Ee,C(M,2*B+2*j),M[2*B+2*j+1]+=q*Ee,C(M,2*B+2*j+1),M[2*B+2*j+1]+=V*ve,C(M,2*B+2*j+1),M[2*B+2*j+2]+=q*ve,C(M,2*B+2*j+2)}for(B=0;B<N;B++)M[B]=M[2*B+1]<<16|M[2*B];for(B=N;B<2*N;B++)M[B]=0;return new u(M,0)};function C(D,N){for(;(D[N]&65535)!=D[N];)D[N+1]+=D[N]>>>16,D[N]&=65535,N++}function P(D,N){this.g=D,this.h=N}function U(D,N){if(E(N))throw Error("division by zero");if(E(D))return new P(p,p);if(T(D))return N=U(A(D),N),new P(A(N.g),A(N.h));if(T(N))return N=U(D,A(N)),new P(A(N.g),N.h);if(30<D.g.length){if(T(D)||T(N))throw Error("slowDivide_ only works with positive integers.");for(var M=v,B=N;0>=B.l(D);)M=L(M),B=L(B);var j=$(M,1),q=$(B,1);for(B=$(B,2),M=$(M,2);!E(B);){var V=q.add(B);0>=V.l(D)&&(j=j.add(M),q=V),B=$(B,1),M=$(M,1)}return N=R(D,j.j(N)),new P(j,N)}for(j=p;0<=D.l(N);){for(M=Math.max(1,Math.floor(D.m()/N.m())),B=Math.ceil(Math.log(M)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),q=h(M),V=q.j(N);T(V)||0<V.l(D);)M-=B,q=h(M),V=q.j(N);E(q)&&(q=v),j=j.add(q),D=R(D,V)}return new P(j,D)}t.A=function(D){return U(this,D).h},t.and=function(D){for(var N=Math.max(this.g.length,D.g.length),M=[],B=0;B<N;B++)M[B]=this.i(B)&D.i(B);return new u(M,this.h&D.h)},t.or=function(D){for(var N=Math.max(this.g.length,D.g.length),M=[],B=0;B<N;B++)M[B]=this.i(B)|D.i(B);return new u(M,this.h|D.h)},t.xor=function(D){for(var N=Math.max(this.g.length,D.g.length),M=[],B=0;B<N;B++)M[B]=this.i(B)^D.i(B);return new u(M,this.h^D.h)};function L(D){for(var N=D.g.length+1,M=[],B=0;B<N;B++)M[B]=D.i(B)<<1|D.i(B-1)>>>31;return new u(M,D.h)}function $(D,N){var M=N>>5;N%=32;for(var B=D.g.length-M,j=[],q=0;q<B;q++)j[q]=0<N?D.i(q+M)>>>N|D.i(q+M+1)<<32-N:D.i(q+M);return new u(j,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ML=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=h,u.fromString=m,_o=u}).apply(typeof PO<"u"?PO:typeof self<"u"?self:typeof window<"u"?window:{});var Hg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VL,Cd,LL,_y,OT,jL,UL,BL;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,w,S){return g==Array.prototype||g==Object.prototype||(g[w]=S.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hg=="object"&&Hg];for(var w=0;w<g.length;++w){var S=g[w];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function i(g,w){if(w)e:{var S=r;g=g.split(".");for(var k=0;k<g.length-1;k++){var W=g[k];if(!(W in S))break e;S=S[W]}g=g[g.length-1],k=S[g],w=w(k),w!=k&&w!=null&&e(S,g,{configurable:!0,writable:!0,value:w})}}function a(g,w){g instanceof String&&(g+="");var S=0,k=!1,W={next:function(){if(!k&&S<g.length){var ne=S++;return{value:w(ne,g[ne]),done:!1}}return k=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(g){return g||function(){return a(this,function(w,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},l=this||self;function f(g){var w=typeof g;return w=w!="object"?w:g?Array.isArray(g)?"array":w:"null",w=="array"||w=="object"&&typeof g.length=="number"}function h(g){var w=typeof g;return w=="object"&&g!=null||w=="function"}function m(g,w,S){return g.call.apply(g.bind,arguments)}function p(g,w,S){if(!g)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,k),g.apply(w,W)}}return function(){return g.apply(w,arguments)}}function v(g,w,S){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:p,v.apply(null,arguments)}function b(g,w){var S=Array.prototype.slice.call(arguments,1);return function(){var k=S.slice();return k.push.apply(k,arguments),g.apply(this,k)}}function E(g,w){function S(){}S.prototype=w.prototype,g.aa=w.prototype,g.prototype=new S,g.prototype.constructor=g,g.Qb=function(k,W,ne){for(var pe=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)pe[Xe-2]=arguments[Xe];return w.prototype[W].apply(k,pe)}}function T(g){const w=g.length;if(0<w){const S=Array(w);for(let k=0;k<w;k++)S[k]=g[k];return S}return[]}function A(g,w){for(let S=1;S<arguments.length;S++){const k=arguments[S];if(f(k)){const W=g.length||0,ne=k.length||0;g.length=W+ne;for(let pe=0;pe<ne;pe++)g[W+pe]=k[pe]}else g.push(k)}}class R{constructor(w,S){this.i=w,this.j=S,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function C(g){return/^[\s\xa0]*$/.test(g)}function P(){var g=l.navigator;return g&&(g=g.userAgent)?g:""}function U(g){return U[" "](g),g}U[" "]=function(){};var L=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function $(g,w,S){for(const k in g)w.call(S,g[k],k,g)}function D(g,w){for(const S in g)w.call(void 0,g[S],S,g)}function N(g){const w={};for(const S in g)w[S]=g[S];return w}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(g,w){let S,k;for(let W=1;W<arguments.length;W++){k=arguments[W];for(S in k)g[S]=k[S];for(let ne=0;ne<M.length;ne++)S=M[ne],Object.prototype.hasOwnProperty.call(k,S)&&(g[S]=k[S])}}function j(g){var w=1;g=g.split(":");const S=[];for(;0<w&&g.length;)S.push(g.shift()),w--;return g.length&&S.push(g.join(":")),S}function q(g){l.setTimeout(()=>{throw g},0)}function V(){var g=Le;let w=null;return g.g&&(w=g.g,g.g=g.g.next,g.g||(g.h=null),w.next=null),w}class ve{constructor(){this.h=this.g=null}add(w,S){const k=Ee.get();k.set(w,S),this.h?this.h.next=k:this.g=k,this.h=k}}var Ee=new R(()=>new Z,g=>g.reset());class Z{constructor(){this.next=this.g=this.h=null}set(w,S){this.h=w,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,we=!1,Le=new ve,F=()=>{const g=l.Promise.resolve(void 0);ce=()=>{g.then(ue)}};var ue=()=>{for(var g;g=V();){try{g.h.call(g.g)}catch(S){q(S)}var w=Ee;w.j(g),100>w.h&&(w.h++,g.next=w.g,w.g=g)}we=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(g,w){this.type=g,this.g=this.target=w,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Re=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,w=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const S=()=>{};l.addEventListener("test",S,w),l.removeEventListener("test",S,w)}catch{}return g})();function De(g,w){if(me.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var S=this.type=g.type,k=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=w,w=g.relatedTarget){if(L){e:{try{U(w.nodeName);var W=!0;break e}catch{}W=!1}W||(w=null)}}else S=="mouseover"?w=g.fromElement:S=="mouseout"&&(w=g.toElement);this.relatedTarget=w,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Me[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&De.aa.h.call(this)}}E(De,me);var Me={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var en="closure_listenable_"+(1e6*Math.random()|0),mt=0;function _e(g,w,S,k,W){this.listener=g,this.proxy=null,this.src=w,this.type=S,this.capture=!!k,this.ha=W,this.key=++mt,this.da=this.fa=!1}function Ue(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Be(g){this.src=g,this.g={},this.h=0}Be.prototype.add=function(g,w,S,k,W){var ne=g.toString();g=this.g[ne],g||(g=this.g[ne]=[],this.h++);var pe=Bt(g,w,k,W);return-1<pe?(w=g[pe],S||(w.fa=!1)):(w=new _e(w,this.src,ne,!!k,W),w.fa=S,g.push(w)),w};function he(g,w){var S=w.type;if(S in g.g){var k=g.g[S],W=Array.prototype.indexOf.call(k,w,void 0),ne;(ne=0<=W)&&Array.prototype.splice.call(k,W,1),ne&&(Ue(w),g.g[S].length==0&&(delete g.g[S],g.h--))}}function Bt(g,w,S,k){for(var W=0;W<g.length;++W){var ne=g[W];if(!ne.da&&ne.listener==w&&ne.capture==!!S&&ne.ha==k)return W}return-1}var Qe="closure_lm_"+(1e6*Math.random()|0),hn={};function Sn(g,w,S,k,W){if(Array.isArray(w)){for(var ne=0;ne<w.length;ne++)Sn(g,w[ne],S,k,W);return null}return S=bp(S),g&&g[en]?g.K(w,S,h(k)?!!k.capture:!1,W):tn(g,w,S,!1,k,W)}function tn(g,w,S,k,W,ne){if(!w)throw Error("Invalid event type");var pe=h(W)?!!W.capture:!!W,Xe=Nl(g);if(Xe||(g[Qe]=Xe=new Be(g)),S=Xe.add(w,S,k,pe,ne),S.proxy)return S;if(k=Ol(),S.proxy=k,k.src=g,k.listener=S,g.addEventListener)Re||(W=pe),W===void 0&&(W=!1),g.addEventListener(w.toString(),k,W);else if(g.attachEvent)g.attachEvent(Yo(w.toString()),k);else if(g.addListener&&g.removeListener)g.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Ol(){function g(S){return w.call(g.src,g.listener,S)}const w=i0;return g}function eh(g,w,S,k,W){if(Array.isArray(w))for(var ne=0;ne<w.length;ne++)eh(g,w[ne],S,k,W);else k=h(k)?!!k.capture:!!k,S=bp(S),g&&g[en]?(g=g.i,w=String(w).toString(),w in g.g&&(ne=g.g[w],S=Bt(ne,S,k,W),-1<S&&(Ue(ne[S]),Array.prototype.splice.call(ne,S,1),ne.length==0&&(delete g.g[w],g.h--)))):g&&(g=Nl(g))&&(w=g.g[w.toString()],g=-1,w&&(g=Bt(w,S,k,W)),(S=-1<g?w[g]:null)&&Dl(S))}function Dl(g){if(typeof g!="number"&&g&&!g.da){var w=g.src;if(w&&w[en])he(w.i,g);else{var S=g.type,k=g.proxy;w.removeEventListener?w.removeEventListener(S,k,g.capture):w.detachEvent?w.detachEvent(Yo(S),k):w.addListener&&w.removeListener&&w.removeListener(k),(S=Nl(w))?(he(S,g),S.h==0&&(S.src=null,w[Qe]=null)):Ue(g)}}}function Yo(g){return g in hn?hn[g]:hn[g]="on"+g}function i0(g,w){if(g.da)g=!0;else{w=new De(w,this);var S=g.listener,k=g.ha||g.src;g.fa&&Dl(g),g=S.call(k,w)}return g}function Nl(g){return g=g[Qe],g instanceof Be?g:null}var th="__closure_events_fn_"+(1e9*Math.random()>>>0);function bp(g){return typeof g=="function"?g:(g[th]||(g[th]=function(w){return g.handleEvent(w)}),g[th])}function qt(){ae.call(this),this.i=new Be(this),this.M=this,this.F=null}E(qt,ae),qt.prototype[en]=!0,qt.prototype.removeEventListener=function(g,w,S,k){eh(this,g,w,S,k)};function ot(g,w){var S,k=g.F;if(k)for(S=[];k;k=k.F)S.push(k);if(g=g.M,k=w.type||w,typeof w=="string")w=new me(w,g);else if(w instanceof me)w.target=w.target||g;else{var W=w;w=new me(k,g),B(w,W)}if(W=!0,S)for(var ne=S.length-1;0<=ne;ne--){var pe=w.g=S[ne];W=Or(pe,k,!0,w)&&W}if(pe=w.g=g,W=Or(pe,k,!0,w)&&W,W=Or(pe,k,!1,w)&&W,S)for(ne=0;ne<S.length;ne++)pe=w.g=S[ne],W=Or(pe,k,!1,w)&&W}qt.prototype.N=function(){if(qt.aa.N.call(this),this.i){var g=this.i,w;for(w in g.g){for(var S=g.g[w],k=0;k<S.length;k++)Ue(S[k]);delete g.g[w],g.h--}}this.F=null},qt.prototype.K=function(g,w,S,k){return this.i.add(String(g),w,!1,S,k)},qt.prototype.L=function(g,w,S,k){return this.i.add(String(g),w,!0,S,k)};function Or(g,w,S,k){if(w=g.i.g[String(w)],!w)return!0;w=w.concat();for(var W=!0,ne=0;ne<w.length;++ne){var pe=w[ne];if(pe&&!pe.da&&pe.capture==S){var Xe=pe.listener,mn=pe.ha||pe.src;pe.fa&&he(g.i,pe),W=Xe.call(mn,k)!==!1&&W}}return W&&!k.defaultPrevented}function Jn(g,w,S){if(typeof g=="function")S&&(g=v(g,S));else if(g&&typeof g.handleEvent=="function")g=v(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:l.setTimeout(g,w||0)}function wp(g){g.g=Jn(()=>{g.g=null,g.i&&(g.i=!1,wp(g))},g.l);const w=g.h;g.h=null,g.m.apply(null,w)}class a0 extends ae{constructor(w,S){super(),this.m=w,this.l=S,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:wp(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qo(g){ae.call(this),this.h=g,this.g={}}E(Qo,ae);var Xo=[];function Jo(g){$(g.g,function(w,S){this.g.hasOwnProperty(S)&&Dl(w)},g),g.g={}}Qo.prototype.N=function(){Qo.aa.N.call(this),Jo(this)},Qo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ii=l.JSON.stringify,kl=l.JSON.parse,Zo=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function nh(){}nh.prototype.h=null;function rh(g){return g.h||(g.h=g.i())}function ih(){}var Ra={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pa(){me.call(this,"d")}E(Pa,me);function ah(){me.call(this,"c")}E(ah,me);var Hi={},sh=null;function Ps(){return sh=sh||new qt}Hi.La="serverreachability";function Ml(g){me.call(this,Hi.La,g)}E(Ml,me);function Cs(g){const w=Ps();ot(w,new Ml(w))}Hi.STAT_EVENT="statevent";function Ep(g,w){me.call(this,Hi.STAT_EVENT,g),this.stat=w}E(Ep,me);function Pt(g){const w=Ps();ot(w,new Ep(w,g))}Hi.Ma="timingevent";function dn(g,w){me.call(this,Hi.Ma,g),this.size=w}E(dn,me);function nn(g,w){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},w)}function ni(){this.g=!0}ni.prototype.xa=function(){this.g=!1};function oh(g,w,S,k,W,ne){g.info(function(){if(g.g)if(ne)for(var pe="",Xe=ne.split("&"),mn=0;mn<Xe.length;mn++){var Je=Xe[mn].split("=");if(1<Je.length){var xn=Je[0];Je=Je[1];var pn=xn.split("_");pe=2<=pn.length&&pn[1]=="type"?pe+(xn+"="+Je+"&"):pe+(xn+"=redacted&")}}else pe=null;else pe=ne;return"XMLHTTP REQ ("+k+") [attempt "+W+"]: "+w+`
`+S+`
`+pe})}function s0(g,w,S,k,W,ne,pe){g.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+W+"]: "+w+`
`+S+`
`+ne+" "+pe})}function Os(g,w,S,k){g.info(function(){return"XMLHTTP TEXT ("+w+"): "+eu(g,S)+(k?" "+k:"")})}function Tp(g,w){g.info(function(){return"TIMEOUT: "+w})}ni.prototype.info=function(){};function eu(g,w){if(!g.g)return w;if(!w)return null;try{var S=JSON.parse(w);if(S){for(g=0;g<S.length;g++)if(Array.isArray(S[g])){var k=S[g];if(!(2>k.length)){var W=k[1];if(Array.isArray(W)&&!(1>W.length)){var ne=W[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var pe=1;pe<W.length;pe++)W[pe]=""}}}}return Ii(S)}catch{return w}}var Ds={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ca={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gi;function Ki(){}E(Ki,nh),Ki.prototype.g=function(){return new XMLHttpRequest},Ki.prototype.i=function(){return{}},Gi=new Ki;function lr(g,w,S,k){this.j=g,this.i=w,this.l=S,this.R=k||1,this.U=new Qo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wt}function Wt(){this.i=null,this.g="",this.h=!1}var uh={},Vl={};function xi(g,w,S){g.L=1,g.v=au(Dr(w)),g.m=S,g.P=!0,Oa(g,null)}function Oa(g,w){g.F=Date.now(),tu(g),g.A=Dr(g.v);var S=g.A,k=g.R;Array.isArray(k)||(k=[String(k)]),mh(S.i,"t",k),g.C=0,S=g.j.J,g.h=new Wt,g.g=Up(g.j,S?w:null,!g.m),0<g.O&&(g.M=new a0(v(g.Y,g,g.g),g.O)),w=g.U,S=g.g,k=g.ca;var W="readystatechange";Array.isArray(W)||(W&&(Xo[0]=W.toString()),W=Xo);for(var ne=0;ne<W.length;ne++){var pe=Sn(S,W[ne],k||w.handleEvent,!1,w.h||w);if(!pe)break;w.g[pe.key]=pe}w=g.H?N(g.H):{},g.m?(g.u||(g.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,w)):(g.u="GET",g.g.ea(g.A,g.u,null,w)),Cs(),oh(g.i,g.u,g.A,g.l,g.R,g.m)}lr.prototype.ca=function(g){g=g.target;const w=this.M;w&&si(g)==3?w.j():this.Y(g)},lr.prototype.Y=function(g){try{if(g==this.g)e:{const pn=si(this.g);var w=this.g.Ba();const Ua=this.g.Z();if(!(3>pn)&&(pn!=3||this.g&&(this.h.h||this.g.oa()||Op(this.g)))){this.J||pn!=4||w==7||(w==8||0>=Ua?Cs(3):Cs(2)),Ns(this);var S=this.g.Z();this.X=S;t:if(Ap(this)){var k=Op(this.g);g="";var W=k.length,ne=si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bn(this),Wi(this);var pe="";break t}this.h.i=new l.TextDecoder}for(w=0;w<W;w++)this.h.h=!0,g+=this.h.i.decode(k[w],{stream:!(ne&&w==W-1)});k.length=0,this.h.g+=g,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=S==200,s0(this.i,this.u,this.A,this.l,this.R,pn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,mn=this.g;if((Xe=mn.g?mn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(Xe)){var Je=Xe;break t}}Je=null}if(S=Je)Os(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nu(this,S);else{this.o=!1,this.s=3,Pt(12),Bn(this),Wi(this);break e}}if(this.P){S=!0;let qn;for(;!this.J&&this.C<pe.length;)if(qn=Sp(this,pe),qn==Vl){pn==4&&(this.s=4,Pt(14),S=!1),Os(this.i,this.l,null,"[Incomplete Response]");break}else if(qn==uh){this.s=4,Pt(15),Os(this.i,this.l,pe,"[Invalid Chunk]"),S=!1;break}else Os(this.i,this.l,qn,null),nu(this,qn);if(Ap(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pn!=4||pe.length!=0||this.h.h||(this.s=1,Pt(16),S=!1),this.o=this.o&&S,!S)Os(this.i,this.l,pe,"[Invalid Chunked Response]"),Bn(this),Wi(this);else if(0<pe.length&&!this.W){this.W=!0;var xn=this.j;xn.g==this&&xn.ba&&!xn.M&&(xn.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),du(xn),xn.M=!0,Pt(11))}}else Os(this.i,this.l,pe,null),nu(this,pe);pn==4&&Bn(this),this.o&&!this.J&&(pn==4?Vp(this.j,this):(this.o=!1,tu(this)))}else f0(this.g),S==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),Bn(this),Wi(this)}}}catch{}finally{}};function Ap(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Sp(g,w){var S=g.C,k=w.indexOf(`
`,S);return k==-1?Vl:(S=Number(w.substring(S,k)),isNaN(S)?uh:(k+=1,k+S>w.length?Vl:(w=w.slice(k,k+S),g.C=k+S,w)))}lr.prototype.cancel=function(){this.J=!0,Bn(this)};function tu(g){g.S=Date.now()+g.I,Ip(g,g.I)}function Ip(g,w){if(g.B!=null)throw Error("WatchDog timer not null");g.B=nn(v(g.ba,g),w)}function Ns(g){g.B&&(l.clearTimeout(g.B),g.B=null)}lr.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Tp(this.i,this.A),this.L!=2&&(Cs(),Pt(17)),Bn(this),this.s=2,Wi(this)):Ip(this,this.S-g)};function Wi(g){g.j.G==0||g.J||Vp(g.j,g)}function Bn(g){Ns(g);var w=g.M;w&&typeof w.ma=="function"&&w.ma(),g.M=null,Jo(g.U),g.g&&(w=g.g,g.g=null,w.abort(),w.ma())}function nu(g,w){try{var S=g.j;if(S.G!=0&&(S.g==g||lh(S.h,g))){if(!g.K&&lh(S.h,g)&&S.G==3){try{var k=S.Da.g.parse(w)}catch{k=null}if(Array.isArray(k)&&k.length==3){var W=k;if(W[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<g.F)Wl(S),Gl(S);else break e;_h(S),Pt(18)}}else S.za=W[1],0<S.za-S.T&&37500>W[2]&&S.F&&S.v==0&&!S.C&&(S.C=nn(v(S.Za,S),6e3));if(1>=jl(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else ja(S,11)}else if((g.K||S.g==g)&&Wl(S),!C(w))for(W=S.Da.g.parse(w),w=0;w<W.length;w++){let Je=W[w];if(S.T=Je[0],Je=Je[1],S.G==2)if(Je[0]=="c"){S.K=Je[1],S.ia=Je[2];const xn=Je[3];xn!=null&&(S.la=xn,S.j.info("VER="+S.la));const pn=Je[4];pn!=null&&(S.Aa=pn,S.j.info("SVER="+S.Aa));const Ua=Je[5];Ua!=null&&typeof Ua=="number"&&0<Ua&&(k=1.5*Ua,S.L=k,S.j.info("backChannelRequestTimeoutMs_="+k)),k=S;const qn=g.g;if(qn){const ta=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ta){var ne=k.h;ne.g||ta.indexOf("spdy")==-1&&ta.indexOf("quic")==-1&&ta.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Ul(ne,ne.h),ne.h=null))}if(k.D){const wh=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;wh&&(k.ya=wh,pt(k.I,k.D,wh))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-g.F,S.j.info("Handshake RTT: "+S.R+"ms")),k=S;var pe=g;if(k.qa=jp(k,k.J?k.ia:null,k.W),pe.K){cr(k.h,pe);var Xe=pe,mn=k.L;mn&&(Xe.I=mn),Xe.B&&(Ns(Xe),tu(Xe)),k.g=pe}else kp(k);0<S.i.length&&Kl(S)}else Je[0]!="stop"&&Je[0]!="close"||ja(S,7);else S.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?ja(S,7):yh(S):Je[0]!="noop"&&S.l&&S.l.ta(Je),S.v=0)}}Cs(4)}catch{}}var xp=class{constructor(g,w){this.g=g,this.map=w}};function Da(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ll(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function jl(g){return g.h?1:g.g?g.g.size:0}function lh(g,w){return g.h?g.h==w:g.g?g.g.has(w):!1}function Ul(g,w){g.g?g.g.add(w):g.h=w}function cr(g,w){g.h&&g.h==w?g.h=null:g.g&&g.g.has(w)&&g.g.delete(w)}Da.prototype.cancel=function(){if(this.i=ch(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function ch(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let w=g.i;for(const S of g.g.values())w=w.concat(S.D);return w}return T(g.i)}function o0(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(f(g)){for(var w=[],S=g.length,k=0;k<S;k++)w.push(g[k]);return w}w=[],S=0;for(k in g)w[S++]=g[k];return w}function Bl(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(f(g)||typeof g=="string"){var w=[];g=g.length;for(var S=0;S<g;S++)w.push(S);return w}w=[],S=0;for(const k in g)w[S++]=k;return w}}}function fh(g,w){if(g.forEach&&typeof g.forEach=="function")g.forEach(w,void 0);else if(f(g)||typeof g=="string")Array.prototype.forEach.call(g,w,void 0);else for(var S=Bl(g),k=o0(g),W=k.length,ne=0;ne<W;ne++)w.call(void 0,k[ne],S&&S[ne],g)}var ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function u0(g,w){if(g){g=g.split("&");for(var S=0;S<g.length;S++){var k=g[S].indexOf("="),W=null;if(0<=k){var ne=g[S].substring(0,k);W=g[S].substring(k+1)}else ne=g[S];w(ne,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function rn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof rn){this.h=g.h,iu(this,g.j),this.o=g.o,this.g=g.g,ks(this,g.s),this.l=g.l;var w=g.i,S=new ka;S.i=w.i,w.g&&(S.g=new Map(w.g),S.h=w.h),Na(this,S),this.m=g.m}else g&&(w=String(g).match(ru))?(this.h=!1,iu(this,w[1]||"",!0),this.o=ri(w[2]||""),this.g=ri(w[3]||"",!0),ks(this,w[4]),this.l=ri(w[5]||"",!0),Na(this,w[6]||"",!0),this.m=ri(w[7]||"")):(this.h=!1,this.i=new ka(null,this.h))}rn.prototype.toString=function(){var g=[],w=this.j;w&&g.push(su(w,hh,!0),":");var S=this.g;return(S||w=="file")&&(g.push("//"),(w=this.o)&&g.push(su(w,hh,!0),"@"),g.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&g.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&g.push("/"),g.push(su(S,S.charAt(0)=="/"?l0:dh,!0))),(S=this.i.toString())&&g.push("?",S),(S=this.m)&&g.push("#",su(S,ql)),g.join("")};function Dr(g){return new rn(g)}function iu(g,w,S){g.j=S?ri(w,!0):w,g.j&&(g.j=g.j.replace(/:$/,""))}function ks(g,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);g.s=w}else g.s=null}function Na(g,w,S){w instanceof ka?(g.i=w,Pp(g.i,g.h)):(S||(w=su(w,c0)),g.i=new ka(w,g.h))}function pt(g,w,S){g.i.set(w,S)}function au(g){return pt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function ri(g,w){return g?w?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function su(g,w,S){return typeof g=="string"?(g=encodeURI(g).replace(w,Rp),S&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Rp(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var hh=/[#\/\?@]/g,dh=/[#\?:]/g,l0=/[#\?]/g,c0=/[#\?@]/g,ql=/#/g;function ka(g,w){this.h=this.g=null,this.i=g||null,this.j=!!w}function ii(g){g.g||(g.g=new Map,g.h=0,g.i&&u0(g.i,function(w,S){g.add(decodeURIComponent(w.replace(/\+/g," ")),S)}))}t=ka.prototype,t.add=function(g,w){ii(this),this.i=null,g=Yi(this,g);var S=this.g.get(g);return S||this.g.set(g,S=[]),S.push(w),this.h+=1,this};function Ma(g,w){ii(g),w=Yi(g,w),g.g.has(w)&&(g.i=null,g.h-=g.g.get(w).length,g.g.delete(w))}function Va(g,w){return ii(g),w=Yi(g,w),g.g.has(w)}t.forEach=function(g,w){ii(this),this.g.forEach(function(S,k){S.forEach(function(W){g.call(w,W,k,this)},this)},this)},t.na=function(){ii(this);const g=Array.from(this.g.values()),w=Array.from(this.g.keys()),S=[];for(let k=0;k<w.length;k++){const W=g[k];for(let ne=0;ne<W.length;ne++)S.push(w[k])}return S},t.V=function(g){ii(this);let w=[];if(typeof g=="string")Va(this,g)&&(w=w.concat(this.g.get(Yi(this,g))));else{g=Array.from(this.g.values());for(let S=0;S<g.length;S++)w=w.concat(g[S])}return w},t.set=function(g,w){return ii(this),this.i=null,g=Yi(this,g),Va(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[w]),this.h+=1,this},t.get=function(g,w){return g?(g=this.V(g),0<g.length?String(g[0]):w):w};function mh(g,w,S){Ma(g,w),0<S.length&&(g.i=null,g.g.set(Yi(g,w),T(S)),g.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],w=Array.from(this.g.keys());for(var S=0;S<w.length;S++){var k=w[S];const ne=encodeURIComponent(String(k)),pe=this.V(k);for(k=0;k<pe.length;k++){var W=ne;pe[k]!==""&&(W+="="+encodeURIComponent(String(pe[k]))),g.push(W)}}return this.i=g.join("&")};function Yi(g,w){return w=String(w),g.j&&(w=w.toLowerCase()),w}function Pp(g,w){w&&!g.j&&(ii(g),g.i=null,g.g.forEach(function(S,k){var W=k.toLowerCase();k!=W&&(Ma(this,k),mh(this,W,S))},g)),g.j=w}function ou(g,w){const S=new ni;if(l.Image){const k=new Image;k.onload=b(ai,S,"TestLoadImage: loaded",!0,w,k),k.onerror=b(ai,S,"TestLoadImage: error",!1,w,k),k.onabort=b(ai,S,"TestLoadImage: abort",!1,w,k),k.ontimeout=b(ai,S,"TestLoadImage: timeout",!1,w,k),l.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=g}else w(!1)}function Ri(g,w){const S=new ni,k=new AbortController,W=setTimeout(()=>{k.abort(),ai(S,"TestPingServer: timeout",!1,w)},1e4);fetch(g,{signal:k.signal}).then(ne=>{clearTimeout(W),ne.ok?ai(S,"TestPingServer: ok",!0,w):ai(S,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(W),ai(S,"TestPingServer: error",!1,w)})}function ai(g,w,S,k,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),k(S)}catch{}}function uu(){this.g=new Zo}function Qi(g,w,S){const k=S||"";try{fh(g,function(W,ne){let pe=W;h(W)&&(pe=Ii(W)),w.push(k+ne+"="+encodeURIComponent(pe))})}catch(W){throw w.push(k+"type="+encodeURIComponent("_badmap")),W}}function Ms(g){this.l=g.Ub||null,this.j=g.eb||!1}E(Ms,nh),Ms.prototype.g=function(){return new La(this.l,this.j)},Ms.prototype.i=(function(g){return function(){return g}})({});function La(g,w){qt.call(this),this.D=g,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(La,qt),t=La.prototype,t.open=function(g,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=w,this.readyState=1,Ji(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(w.body=g),(this.D||l).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xi(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ji(this)),this.g&&(this.readyState=3,Ji(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ph(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function ph(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var w=g.value?g.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!g.done}))&&(this.response=this.responseText+=w)}g.done?Xi(this):Ji(this),this.readyState==3&&ph(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,Xi(this))},t.Qa=function(g){this.g&&(this.response=g,Xi(this))},t.ga=function(){this.g&&Xi(this)};function Xi(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Ji(g)}t.setRequestHeader=function(g,w){this.u.append(g,w)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],w=this.h.entries();for(var S=w.next();!S.done;)S=S.value,g.push(S[0]+": "+S[1]),S=w.next();return g.join(`\r
`)};function Ji(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(La.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function gh(g){let w="";return $(g,function(S,k){w+=k,w+=":",w+=S,w+=`\r
`}),w}function In(g,w,S){e:{for(k in S){var k=!1;break e}k=!0}k||(S=gh(S),typeof g=="string"?S!=null&&encodeURIComponent(String(S)):pt(g,w,S))}function at(g){qt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(at,qt);var zl=/^https?$/i,lu=["POST","PUT"];t=at.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,w,S,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);w=w?w.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gi.g(),this.v=this.o?rh(this.o):rh(Gi),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(w,String(g),!0),this.B=!1}catch(ne){Cp(this,ne);return}if(g=S||"",S=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var W in k)S.set(W,k[W]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const ne of k.keys())S.set(ne,k.get(ne));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(S.keys()).find(ne=>ne.toLowerCase()=="content-type"),W=l.FormData&&g instanceof l.FormData,!(0<=Array.prototype.indexOf.call(lu,w,void 0))||k||W||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,pe]of S)this.g.setRequestHeader(ne,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cu(this),this.u=!0,this.g.send(g),this.u=!1}catch(ne){Cp(this,ne)}};function Cp(g,w){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=w,g.m=5,Fl(g),Zi(g)}function Fl(g){g.A||(g.A=!0,ot(g,"complete"),ot(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,ot(this,"complete"),ot(this,"abort"),Zi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zi(this,!0)),at.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$l(this):this.bb())},t.bb=function(){$l(this)};function $l(g){if(g.h&&typeof u<"u"&&(!g.v[1]||si(g)!=4||g.Z()!=2)){if(g.u&&si(g)==4)Jn(g.Ea,0,g);else if(ot(g,"readystatechange"),si(g)==4){g.h=!1;try{const pe=g.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var S;if(!(S=w)){var k;if(k=pe===0){var W=String(g.D).match(ru)[1]||null;!W&&l.self&&l.self.location&&(W=l.self.location.protocol.slice(0,-1)),k=!zl.test(W?W.toLowerCase():"")}S=k}if(S)ot(g,"complete"),ot(g,"success");else{g.m=6;try{var ne=2<si(g)?g.g.statusText:""}catch{ne=""}g.l=ne+" ["+g.Z()+"]",Fl(g)}}finally{Zi(g)}}}}function Zi(g,w){if(g.g){cu(g);const S=g.g,k=g.v[0]?()=>{}:null;g.g=null,g.v=null,w||ot(g,"ready");try{S.onreadystatechange=k}catch{}}}function cu(g){g.I&&(l.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function si(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<si(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var w=this.g.responseText;return g&&w.indexOf(g)==0&&(w=w.substring(g.length)),kl(w)}};function Op(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function f0(g){const w={};g=(g.g&&2<=si(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<g.length;k++){if(C(g[k]))continue;var S=j(g[k]);const W=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ne=w[W]||[];w[W]=ne,ne.push(S)}D(w,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fu(g,w,S){return S&&S.internalChannelParams&&S.internalChannelParams[g]||w}function Hl(g){this.Aa=0,this.i=[],this.j=new ni,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fu("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fu("baseRetryDelayMs",5e3,g),this.cb=fu("retryDelaySeedMs",1e4,g),this.Wa=fu("forwardChannelMaxRetries",2,g),this.wa=fu("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Da(g&&g.concurrentRequestLimit),this.Da=new uu,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Hl.prototype,t.la=8,t.G=1,t.connect=function(g,w,S,k){Pt(0),this.W=g,this.H=w||{},S&&k!==void 0&&(this.H.OSID=S,this.H.OAID=k),this.F=this.X,this.I=jp(this,null,this.W),Kl(this)};function yh(g){if(Dp(g),g.G==3){var w=g.U++,S=Dr(g.I);if(pt(S,"SID",g.K),pt(S,"RID",w),pt(S,"TYPE","terminate"),hu(g,S),w=new lr(g,g.j,w),w.L=2,w.v=au(Dr(S)),S=!1,l.navigator&&l.navigator.sendBeacon)try{S=l.navigator.sendBeacon(w.v.toString(),"")}catch{}!S&&l.Image&&(new Image().src=w.v,S=!0),S||(w.g=Up(w.j,null),w.g.ea(w.v)),w.F=Date.now(),tu(w)}Lp(g)}function Gl(g){g.g&&(du(g),g.g.cancel(),g.g=null)}function Dp(g){Gl(g),g.u&&(l.clearTimeout(g.u),g.u=null),Wl(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&l.clearTimeout(g.s),g.s=null)}function Kl(g){if(!Ll(g.h)&&!g.s){g.s=!0;var w=g.Ga;ce||F(),we||(ce(),we=!0),Le.add(w,g),g.B=0}}function h0(g,w){return jl(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=w.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=nn(v(g.Ga,g,w),bh(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const W=new lr(this,this.j,g);let ne=this.o;if(this.S&&(ne?(ne=N(ne),B(ne,this.S)):ne=this.S),this.m!==null||this.O||(W.H=ne,ne=null),this.P)e:{for(var w=0,S=0;S<this.i.length;S++){t:{var k=this.i[S];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(w+=k,4096<w){w=S;break e}if(w===4096||S===this.i.length-1){w=S+1;break e}}w=1e3}else w=1e3;w=Np(this,W,w),S=Dr(this.I),pt(S,"RID",g),pt(S,"CVER",22),this.D&&pt(S,"X-HTTP-Session-Id",this.D),hu(this,S),ne&&(this.O?w="headers="+encodeURIComponent(String(gh(ne)))+"&"+w:this.m&&In(S,this.m,ne)),Ul(this.h,W),this.Ua&&pt(S,"TYPE","init"),this.P?(pt(S,"$req",w),pt(S,"SID","null"),W.T=!0,xi(W,S,null)):xi(W,S,w),this.G=2}}else this.G==3&&(g?vh(this,g):this.i.length==0||Ll(this.h)||vh(this))};function vh(g,w){var S;w?S=w.l:S=g.U++;const k=Dr(g.I);pt(k,"SID",g.K),pt(k,"RID",S),pt(k,"AID",g.T),hu(g,k),g.m&&g.o&&In(k,g.m,g.o),S=new lr(g,g.j,S,g.B+1),g.m===null&&(S.H=g.o),w&&(g.i=w.D.concat(g.i)),w=Np(g,S,1e3),S.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Ul(g.h,S),xi(S,k,w)}function hu(g,w){g.H&&$(g.H,function(S,k){pt(w,k,S)}),g.l&&fh({},function(S,k){pt(w,k,S)})}function Np(g,w,S){S=Math.min(g.i.length,S);var k=g.l?v(g.l.Na,g.l,g):null;e:{var W=g.i;let ne=-1;for(;;){const pe=["count="+S];ne==-1?0<S?(ne=W[0].g,pe.push("ofs="+ne)):ne=0:pe.push("ofs="+ne);let Xe=!0;for(let mn=0;mn<S;mn++){let Je=W[mn].g;const xn=W[mn].map;if(Je-=ne,0>Je)ne=Math.max(0,W[mn].g-100),Xe=!1;else try{Qi(xn,pe,"req"+Je+"_")}catch{k&&k(xn)}}if(Xe){k=pe.join("&");break e}}}return g=g.i.splice(0,S),w.D=g,k}function kp(g){if(!g.g&&!g.u){g.Y=1;var w=g.Fa;ce||F(),we||(ce(),we=!0),Le.add(w,g),g.v=0}}function _h(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=nn(v(g.Fa,g),bh(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,Mp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=nn(v(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),Gl(this),Mp(this))};function du(g){g.A!=null&&(l.clearTimeout(g.A),g.A=null)}function Mp(g){g.g=new lr(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var w=Dr(g.qa);pt(w,"RID","rpc"),pt(w,"SID",g.K),pt(w,"AID",g.T),pt(w,"CI",g.F?"0":"1"),!g.F&&g.ja&&pt(w,"TO",g.ja),pt(w,"TYPE","xmlhttp"),hu(g,w),g.m&&g.o&&In(w,g.m,g.o),g.L&&(g.g.I=g.L);var S=g.g;g=g.ia,S.L=1,S.v=au(Dr(w)),S.m=null,S.P=!0,Oa(S,g)}t.Za=function(){this.C!=null&&(this.C=null,Gl(this),_h(this),Pt(19))};function Wl(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function Vp(g,w){var S=null;if(g.g==w){Wl(g),du(g),g.g=null;var k=2}else if(lh(g.h,w))S=w.D,cr(g.h,w),k=1;else return;if(g.G!=0){if(w.o)if(k==1){S=w.m?w.m.length:0,w=Date.now()-w.F;var W=g.B;k=Ps(),ot(k,new dn(k,S)),Kl(g)}else kp(g);else if(W=w.s,W==3||W==0&&0<w.X||!(k==1&&h0(g,w)||k==2&&_h(g)))switch(S&&0<S.length&&(w=g.h,w.i=w.i.concat(S)),W){case 1:ja(g,5);break;case 4:ja(g,10);break;case 3:ja(g,6);break;default:ja(g,2)}}}function bh(g,w){let S=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(S*=2),S*w}function ja(g,w){if(g.j.info("Error code "+w),w==2){var S=v(g.fb,g),k=g.Xa;const W=!k;k=new rn(k||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||iu(k,"https"),au(k),W?ou(k.toString(),S):Ri(k.toString(),S)}else Pt(2);g.G=0,g.l&&g.l.sa(w),Lp(g),Dp(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function Lp(g){if(g.G=0,g.ka=[],g.l){const w=ch(g.h);(w.length!=0||g.i.length!=0)&&(A(g.ka,w),A(g.ka,g.i),g.h.i.length=0,T(g.i),g.i.length=0),g.l.ra()}}function jp(g,w,S){var k=S instanceof rn?Dr(S):new rn(S);if(k.g!="")w&&(k.g=w+"."+k.g),ks(k,k.s);else{var W=l.location;k=W.protocol,w=w?w+"."+W.hostname:W.hostname,W=+W.port;var ne=new rn(null);k&&iu(ne,k),w&&(ne.g=w),W&&ks(ne,W),S&&(ne.l=S),k=ne}return S=g.D,w=g.ya,S&&w&&pt(k,S,w),pt(k,"VER",g.la),hu(g,k),k}function Up(g,w,S){if(w&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=g.Ca&&!g.pa?new at(new Ms({eb:S})):new at(g.pa),w.Ha(g.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bp(){}t=Bp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Yl(){}Yl.prototype.g=function(g,w){return new fr(g,w)};function fr(g,w){qt.call(this),this.g=new Hl(w),this.l=g,this.h=w&&w.messageUrlParams||null,g=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(g?g["X-WebChannel-Content-Type"]=w.messageContentType:g={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(g?g["X-WebChannel-Client-Profile"]=w.va:g={"X-WebChannel-Client-Profile":w.va}),this.g.S=g,(g=w&&w.Sb)&&!C(g)&&(this.g.m=g),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!C(w)&&(this.g.D=w,g=this.h,g!==null&&w in g&&(g=this.h,w in g&&delete g[w])),this.j=new ea(this)}E(fr,qt),fr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fr.prototype.close=function(){yh(this.g)},fr.prototype.o=function(g){var w=this.g;if(typeof g=="string"){var S={};S.__data__=g,g=S}else this.u&&(S={},S.__data__=Ii(g),g=S);w.i.push(new xp(w.Ya++,g)),w.G==3&&Kl(w)},fr.prototype.N=function(){this.g.l=null,delete this.j,yh(this.g),delete this.g,fr.aa.N.call(this)};function qp(g){Pa.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var w=g.__sm__;if(w){e:{for(const S in w){g=S;break e}g=void 0}(this.i=g)&&(g=this.i,w=w!==null&&g in w?w[g]:void 0),this.data=w}else this.data=g}E(qp,Pa);function zp(){ah.call(this),this.status=1}E(zp,ah);function ea(g){this.g=g}E(ea,Bp),ea.prototype.ua=function(){ot(this.g,"a")},ea.prototype.ta=function(g){ot(this.g,new qp(g))},ea.prototype.sa=function(g){ot(this.g,new zp)},ea.prototype.ra=function(){ot(this.g,"b")},Yl.prototype.createWebChannel=Yl.prototype.g,fr.prototype.send=fr.prototype.o,fr.prototype.open=fr.prototype.m,fr.prototype.close=fr.prototype.close,BL=function(){return new Yl},UL=function(){return Ps()},jL=Hi,OT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ds.NO_ERROR=0,Ds.TIMEOUT=8,Ds.HTTP_ERROR=6,_y=Ds,Ca.COMPLETE="complete",LL=Ca,ih.EventType=Ra,Ra.OPEN="a",Ra.CLOSE="b",Ra.ERROR="c",Ra.MESSAGE="d",qt.prototype.listen=qt.prototype.K,Cd=ih,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,VL=at}).apply(typeof Hg<"u"?Hg:typeof self<"u"?self:typeof window<"u"?window:{});const CO="@firebase/firestore",OO="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=new Hv("@firebase/firestore");function kc(){return xo.logLevel}function ZG(t){xo.setLogLevel(t)}function fe(t,...e){if(xo.logLevel<=Ke.DEBUG){const n=e.map(VS);xo.debug(`Firestore (${jf}): ${t}`,...n)}}function Xt(t,...e){if(xo.logLevel<=Ke.ERROR){const n=e.map(VS);xo.error(`Firestore (${jf}): ${t}`,...n)}}function Ta(t,...e){if(xo.logLevel<=Ke.WARN){const n=e.map(VS);xo.warn(`Firestore (${jf}): ${t}`,...n)}}function VS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,qL(t,r,n)}function qL(t,e,n){let r=`FIRESTORE (${jf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Xt(r),new Error(r)}function Ie(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||qL(e,i,r)}function eK(t,e){t||be(57014,e)}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Nn.UNAUTHENTICATED)))}shutdown(){}}class nK{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class rK{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ie(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new Qn;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Qn,e.enqueueRetryable((()=>i(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},l=f=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>l(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?l(f):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Qn)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string",31837,{l:r}),new zL(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string",2055,{h:e}),new Nn(e)}}class iK{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aK{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new iK(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class DO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sK{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ie(this.o===void 0,3512);const r=a=>{a.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new DO(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ie(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new DO(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=oK(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function DT(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Aw(i)===Aw(a)?je(i,a):Aw(i)?1:-1}return je(t.length,e.length)}const uK=55296,lK=57343;function Aw(t){const e=t.charCodeAt(0);return e>=uK&&e<=lK}function ef(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function FL(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO="__name__";class oa{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return oa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oa?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=oa.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return je(e.length,n.length)}static compareSegments(e,n){const r=oa.isNumericId(e),i=oa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?oa.extractNumericId(e).compare(oa.extractNumericId(n)):DT(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _o.fromString(e.substring(4,e.length-2))}}class We extends oa{construct(e,n,r){return new We(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new We(n)}static emptyPath(){return new We([])}}const cK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends oa{construct(e,n,r){return new Nt(e,n,r)}static isValidIdentifier(e){return cK.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===NO}static keyField(){return new Nt([NO])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new le(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new le(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new le(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else l==="`"?(u=!u,i++):l!=="."||u?(r+=l,i++):(a(),i++)}if(a(),u)throw new le(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(n)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(We.fromString(e))}static fromName(e){return new ge(We.fromString(e).popFirst(5))}static empty(){return new ge(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return We.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new We(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(t,e,n){if(!n)throw new le(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $L(t,e,n,r){if(e===!0&&r===!0)throw new le(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kO(t){if(!ge.isDocumentKey(t))throw new le(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function MO(t){if(ge.isDocumentKey(t))throw new le(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function HL(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function r_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be(12329,{type:typeof t})}function nt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=r_(t);throw new le(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function GL(t,e){if(e<=0)throw new le(te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t,e){const n={typeString:t};return e&&(n.value=e),n}function Fm(t,e){if(!HL(t))throw new le(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(i&&typeof u!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&u!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new le(te.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=-62135596800,LO=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*LO);return new st(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<VO)throw new le(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LO}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fm(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-VO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:ln("string",st._jsonSchemaVersion),seconds:ln("number"),nanoseconds:ln("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new st(0,0))}static max(){return new xe(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf=-1;class qy{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function NT(t){return t.fields.find((e=>e.kind===2))}function Ou(t){return t.fields.filter((e=>e.kind!==2))}qy.UNKNOWN_ID=-1;class by{constructor(e,n){this.fieldPath=e,this.kind=n}}class um{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new um(0,Xr.min())}}function KL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=xe.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new Xr(i,ge.empty(),e)}function WL(t){return new Xr(t.readTime,t.key,tf)}class Xr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xr(xe.min(),ge.empty(),tf)}static max(){return new Xr(xe.max(),ge.empty(),tf)}}function US(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==YL)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.reject(n)}static resolve(e){return new Y(((n,r)=>{n(e)}))}static reject(e){return new Y(((n,r)=>{r(e)}))}static waitFor(e){return new Y(((n,r)=>{let i=0,a=0,u=!1;e.forEach((l=>{++i,l.next((()=>{++a,u&&a===i&&n()}),(f=>r(f)))})),u=!0,a===i&&n()}))}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next((i=>i?Y.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new Y(((r,i)=>{const a=e.length,u=new Array(a);let l=0;for(let f=0;f<a;f++){const h=f;n(e[h]).next((m=>{u[h]=m,++l,l===a&&r(u)}),(m=>i(m)))}}))}static doWhile(e,n){return new Y(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="SimpleDb";class i_{static open(e,n,r,i){try{return new i_(n,e.transaction(i,r))}catch(a){throw new Fd(n,a)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Qn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Fd(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=BS(r.target.error);this.S.reject(new Fd(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(fe(zr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new hK(n)}}class ya{static delete(e){return fe(zr,"Removing database:",e),Vu(sS().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!tm())return!1;if(ya.F())return!0;const e=jt(),n=ya.M(e),r=0<n&&n<10,i=XL(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,ya.M(jt())===12.2&&Xt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(fe(zr,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const u=a.target.result;n(u)},i.onblocked=()=>{r(new Fd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const u=a.target.error;u.name==="VersionError"?r(new le(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new le(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new Fd(e,u))},i.onupgradeneeded=a=>{fe(zr,'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const u=a.target.result;this.N.k(u,i.transaction,a.oldVersion,this.version).next((()=>{fe(zr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const a=n==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(e);const l=i_.open(this.db,e,a?"readonly":"readwrite",r),f=i(l).next((h=>(l.C(),h))).catch((h=>(l.abort(h),Y.reject(h)))).toPromise();return f.catch((()=>{})),await l.D,f}catch(l){const f=l,h=f.name!=="FirebaseError"&&u<3;if(fe(zr,"Transaction failed with error:",f.message,"Retrying:",h),this.close(),!h)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function XL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class fK{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Vu(this.U.delete())}}class Fd extends le{constructor(e,n){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Uo(t){return t.name==="IndexedDbTransactionError"}class hK{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(fe(zr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(fe(zr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Vu(r)}add(e){return fe(zr,"ADD",this.store.name,e,e),Vu(this.store.add(e))}get(e){return Vu(this.store.get(e)).next((n=>(n===void 0&&(n=null),fe(zr,"GET",this.store.name,e,n),n)))}delete(e){return fe(zr,"DELETE",this.store.name,e),Vu(this.store.delete(e))}count(){return fe(zr,"COUNT",this.store.name),Vu(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(r.range);return new Y(((u,l)=>{a.onerror=f=>{l(f.target.error)},a.onsuccess=f=>{u(f.target.result)}}))}{const a=this.cursor(r),u=[];return this.H(a,((l,f)=>{u.push(f)})).next((()=>u))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Y(((i,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{i(u.target.result)}}))}Z(e,n){fe(zr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((a,u,l)=>l.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new Y(((r,i)=>{n.onerror=a=>{const u=BS(a.target.error);i(u)},n.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next((l=>{l?u.continue():r()})):r()}}))}H(e,n){const r=[];return new Y(((i,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const l=u.target.result;if(!l)return void i();const f=new fK(l),h=n(l.primaryKey,l.value,f);if(h instanceof Y){const m=h.catch((p=>(f.done(),Y.reject(p))));r.push(m)}f.isDone?i():f.G===null?l.continue():l.continue(f.G)}})).next((()=>Y.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Vu(t){return new Y(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=BS(r.target.error);n(i)}}))}let jO=!1;function BS(t){const e=ya.M(jt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return jO||(jO=!0,setTimeout((()=>{throw r}),0)),r}}return t}const $d="IndexBackfiller";class dK{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){fe($d,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();fe($d,`Documents written: ${n}`)}catch(n){Uo(n)?fe($d,"Ignoring IndexedDB error during index backfill: ",n):await jo(n)}await this.re(6e4)}))}}class mK{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,a=!0;return Y.doWhile((()=>a===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((u=>{if(u!==null&&!r.has(u))return fe($d,`Processing collection: ${u}`),this.oe(e,u,i).next((l=>{i-=l,r.add(u)}));a=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next((()=>this._e(i,a))).next((l=>(fe($d,`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,n,l)))).next((()=>u.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,a)=>{const u=WL(a);US(u,r)>0&&(r=u)})),new Xr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=-1;function $m(t){return t==null}function lm(t){return t===0&&1/t==-1/0}function JL(t){return typeof t=="number"&&Number.isInteger(t)&&!lm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="";function or(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=UO(e)),e=pK(t.get(n),e);return UO(e)}function pK(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case zy:n+="";break;default:n+=a}}return n}function UO(t){return t+zy+""}function ma(t){const e=t.length;if(Ie(e>=2,64408,{path:t}),e===2)return Ie(t.charAt(0)===zy&&t.charAt(1)==="",56145,{path:t}),We.emptyPath();const n=e-2,r=[];let i="";for(let a=0;a<e;){const u=t.indexOf(zy,a);switch((u<0||u>n)&&be(50515,{path:t}),t.charAt(u+1)){case"":const l=t.substring(a,u);let f;i.length===0?f=l:(i+=l,f=i,i=""),r.push(f);break;case"":i+=t.substring(a,u),i+="\0";break;case"":i+=t.substring(a,u+1);break;default:be(61167,{path:t})}a=u+2}return new We(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du="remoteDocuments",Hm="owner",Sc="owner",cm="mutationQueues",gK="userId",Di="mutations",BO="batchId",zu="userMutationsIndex",qO=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t,e){return[t,or(e)]}function ZL(t,e,n){return[t,or(e),n]}const yK={},nf="documentMutations",Fy="remoteDocumentsV14",vK=["prefixPath","collectionGroup","readTime","documentId"],Ey="documentKeyIndex",_K=["prefixPath","collectionGroup","documentId"],ej="collectionGroupIndex",bK=["collectionGroup","readTime","prefixPath","documentId"],fm="remoteDocumentGlobal",kT="remoteDocumentGlobalKey",rf="targets",tj="queryTargetsIndex",wK=["canonicalId","targetId"],af="targetDocuments",EK=["targetId","path"],qS="documentTargetsIndex",TK=["path","targetId"],$y="targetGlobalKey",Ju="targetGlobal",hm="collectionParents",AK=["collectionId","parent"],sf="clientMetadata",SK="clientId",a_="bundles",IK="bundleId",s_="namedQueries",xK="name",zS="indexConfiguration",RK="indexId",MT="collectionGroupIndex",PK="collectionGroup",Hd="indexState",CK=["indexId","uid"],nj="sequenceNumberIndex",OK=["uid","sequenceNumber"],Gd="indexEntries",DK=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],rj="documentKeyIndex",NK=["indexId","uid","orderedDocumentKey"],o_="documentOverlays",kK=["userId","collectionPath","documentId"],VT="collectionPathOverlayIndex",MK=["userId","collectionPath","largestBatchId"],ij="collectionGroupOverlayIndex",VK=["userId","collectionGroup","largestBatchId"],FS="globals",LK="name",aj=[cm,Di,nf,Du,rf,Hm,Ju,af,sf,fm,hm,a_,s_],jK=[...aj,o_],sj=[cm,Di,nf,Fy,rf,Hm,Ju,af,sf,fm,hm,a_,s_,o_],oj=sj,$S=[...oj,zS,Hd,Gd],UK=$S,uj=[...$S,FS],BK=uj;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT extends QL{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function wn(t,e){const n=ye(t);return ya.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||Gn.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gg(this.root,e,this.comparator,!0)}}class Gg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Gn.RED,this.left=i??Gn.EMPTY,this.right=a??Gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Gn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Gn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Gn.EMPTY=null,Gn.RED=!0,Gn.BLACK=!1;Gn.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new FO(this.data.getIterator())}getIteratorFrom(e){return new FO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ht(this.comparator);return n.data=e,n}}class FO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ic(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new Ir([])}unionWith(e){let n=new ht(Nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ir(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ef(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qK(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new cj("Invalid base64 string: "+a):a}})(e);return new Ht(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let u=0;u<i.length;++u)a+=String.fromCharCode(i[u]);return a})(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const zK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(t){if(Ie(!!t,39018),typeof t=="string"){let e=0;const n=zK.exec(t);if(Ie(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(t.seconds),nanos:Ot(t.nanos)}}function Ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ds(t){return typeof t=="string"?Ht.fromBase64String(t):Ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj="server_timestamp",hj="__type__",dj="__previous_value__",mj="__local_write_time__";function u_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[hj])==null?void 0:r.stringValue)===fj}function l_(t){const e=t.mapValue.fields[dj];return u_(e)?l_(e):e}function dm(t){const e=hs(t.mapValue.fields[mj].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FK{constructor(e,n,r,i,a,u,l,f,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=l,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=m}}const jT="(default)";class Ro{constructor(e,n){this.projectId=e,this.database=n||jT}static empty(){return new Ro("","")}get isDefaultDatabase(){return this.database===jT}isEqual(e){return e instanceof Ro&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="__type__",pj="__max__",po={mapValue:{fields:{__type__:{stringValue:pj}}}},GS="__vector__",of="value",Ty={nullValue:"NULL_VALUE"};function Po(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?u_(t)?4:gj(t)?9007199254740991:c_(t)?10:11:be(28295,{value:t})}function Aa(t,e){if(t===e)return!0;const n=Po(t);if(n!==Po(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dm(t).isEqual(dm(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const u=hs(i.timestampValue),l=hs(a.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return ds(i.bytesValue).isEqual(ds(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Ot(i.geoPointValue.latitude)===Ot(a.geoPointValue.latitude)&&Ot(i.geoPointValue.longitude)===Ot(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Ot(i.integerValue)===Ot(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const u=Ot(i.doubleValue),l=Ot(a.doubleValue);return u===l?lm(u)===lm(l):isNaN(u)&&isNaN(l)}return!1})(t,e);case 9:return ef(t.arrayValue.values||[],e.arrayValue.values||[],Aa);case 10:case 11:return(function(i,a){const u=i.mapValue.fields||{},l=a.mapValue.fields||{};if(zO(u)!==zO(l))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(l[f]===void 0||!Aa(u[f],l[f])))return!1;return!0})(t,e);default:return be(52216,{left:t})}}function mm(t,e){return(t.values||[]).find((n=>Aa(n,e)))!==void 0}function Co(t,e){if(t===e)return 0;const n=Po(t),r=Po(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return(function(a,u){const l=Ot(a.integerValue||a.doubleValue),f=Ot(u.integerValue||u.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1})(t,e);case 3:return $O(t.timestampValue,e.timestampValue);case 4:return $O(dm(t),dm(e));case 5:return DT(t.stringValue,e.stringValue);case 6:return(function(a,u){const l=ds(a),f=ds(u);return l.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,u){const l=a.split("/"),f=u.split("/");for(let h=0;h<l.length&&h<f.length;h++){const m=je(l[h],f[h]);if(m!==0)return m}return je(l.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,u){const l=je(Ot(a.latitude),Ot(u.latitude));return l!==0?l:je(Ot(a.longitude),Ot(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return HO(t.arrayValue,e.arrayValue);case 10:return(function(a,u){var v,b,E,T;const l=a.fields||{},f=u.fields||{},h=(v=l[of])==null?void 0:v.arrayValue,m=(b=f[of])==null?void 0:b.arrayValue,p=je(((E=h==null?void 0:h.values)==null?void 0:E.length)||0,((T=m==null?void 0:m.values)==null?void 0:T.length)||0);return p!==0?p:HO(h,m)})(t.mapValue,e.mapValue);case 11:return(function(a,u){if(a===po.mapValue&&u===po.mapValue)return 0;if(a===po.mapValue)return 1;if(u===po.mapValue)return-1;const l=a.fields||{},f=Object.keys(l),h=u.fields||{},m=Object.keys(h);f.sort(),m.sort();for(let p=0;p<f.length&&p<m.length;++p){const v=DT(f[p],m[p]);if(v!==0)return v;const b=Co(l[f[p]],h[m[p]]);if(b!==0)return b}return je(f.length,m.length)})(t.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function $O(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=hs(t),r=hs(e),i=je(n.seconds,r.seconds);return i!==0?i:je(n.nanos,r.nanos)}function HO(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Co(n[i],r[i]);if(a)return a}return je(n.length,r.length)}function uf(t){return UT(t)}function UT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=hs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ds(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ge.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=UT(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const u of r)a?a=!1:i+=",",i+=`${u}:${UT(n.fields[u])}`;return i+"}"})(t.mapValue):be(61005,{value:t})}function Ay(t){switch(Po(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=l_(t);return e?16+Ay(e):16;case 5:return 2*t.stringValue.length;case 6:return ds(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Ay(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Bo(r.fields,((a,u)=>{i+=a.length+Ay(u)})),i})(t.mapValue);default:throw be(13486,{value:t})}}function ol(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function BT(t){return!!t&&"integerValue"in t}function pm(t){return!!t&&"arrayValue"in t}function GO(t){return!!t&&"nullValue"in t}function KO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sy(t){return!!t&&"mapValue"in t}function c_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[HS])==null?void 0:r.stringValue)===GS}function Kd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Bo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Kd(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kd(t.arrayValue.values[n]);return e}return{...t}}function gj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===pj}const yj={mapValue:{fields:{[HS]:{stringValue:GS},[of]:{arrayValue:{}}}}};function $K(t){return"nullValue"in t?Ty:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ol(Ro.empty(),ge.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?c_(t)?yj:{mapValue:{}}:be(35942,{value:t})}function HK(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ol(Ro.empty(),ge.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?yj:"mapValue"in t?c_(t)?{mapValue:{}}:po:be(61959,{value:t})}function WO(t,e){const n=Co(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function YO(t,e){const n=Co(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kd(n)}setAll(e){let n=Nt.emptyPath(),r={},i=[];e.forEach(((u,l)=>{if(!n.isImmediateParentOf(l)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=l.popLast()}u?r[l.lastSegment()]=Kd(u):i.push(l.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Sy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Aa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bo(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Wn(Kd(this.value))}}function vj(t){const e=[];return Bo(t.fields,((n,r)=>{const i=new Nt([n]);if(Sy(r)){const a=vj(r.mapValue).fields;if(a.length===0)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)})),new Ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n,r,i,a,u,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=u,this.documentState=l}static newInvalidDocument(e){return new xt(e,0,xe.min(),xe.min(),xe.min(),Wn.empty(),0)}static newFoundDocument(e,n,r,i){return new xt(e,1,n,xe.min(),r,i,0)}static newNoDocument(e,n){return new xt(e,2,n,xe.min(),xe.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new xt(e,3,n,xe.min(),xe.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,n){this.position=e,this.inclusive=n}}function QO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],u=t.position[i];if(a.field.isKeyField()?r=ge.comparator(ge.fromName(u.referenceValue),n.key):r=Co(u,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function XO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Aa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n="asc"){this.field=e,this.dir=n}}function GK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{}class Ye extends _j{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new KK(e,n,r):n==="array-contains"?new QK(e,r):n==="in"?new Sj(e,r):n==="not-in"?new XK(e,r):n==="array-contains-any"?new JK(e,r):new Ye(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new WK(e,r):new YK(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Co(n,this.value)):n!==null&&Po(this.value)===Po(n)&&this.matchesComparison(Co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ft extends _j{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ft(e,n)}matches(e){return lf(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lf(t){return t.op==="and"}function qT(t){return t.op==="or"}function KS(t){return bj(t)&&lf(t)}function bj(t){for(const e of t.filters)if(e instanceof ft)return!1;return!0}function zT(t){if(t instanceof Ye)return t.field.canonicalString()+t.op.toString()+uf(t.value);if(KS(t))return t.filters.map((e=>zT(e))).join(",");{const e=t.filters.map((n=>zT(n))).join(",");return`${t.op}(${e})`}}function wj(t,e){return t instanceof Ye?(function(r,i){return i instanceof Ye&&r.op===i.op&&r.field.isEqual(i.field)&&Aa(r.value,i.value)})(t,e):t instanceof ft?(function(r,i){return i instanceof ft&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,u,l)=>a&&wj(u,i.filters[l])),!0):!1})(t,e):void be(19439)}function Ej(t,e){const n=t.filters.concat(e);return ft.create(n,t.op)}function Tj(t){return t instanceof Ye?(function(n){return`${n.field.canonicalString()} ${n.op} ${uf(n.value)}`})(t):t instanceof ft?(function(n){return n.op.toString()+" {"+n.getFilters().map(Tj).join(" ,")+"}"})(t):"Filter"}class KK extends Ye{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class WK extends Ye{constructor(e,n){super(e,"in",n),this.keys=Aj("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class YK extends Ye{constructor(e,n){super(e,"not-in",n),this.keys=Aj("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Aj(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>ge.fromName(r.referenceValue)))}class QK extends Ye{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pm(n)&&mm(n.arrayValue,this.value)}}class Sj extends Ye{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mm(this.value.arrayValue,n)}}class XK extends Ye{constructor(e,n){super(e,"not-in",n)}matches(e){if(mm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mm(this.value.arrayValue,n)}}class JK extends Ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>mm(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZK{constructor(e,n=null,r=[],i=[],a=null,u=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=l,this.Te=null}}function FT(t,e=null,n=[],r=[],i=null,a=null,u=null){return new ZK(t,e,n,r,i,a,u)}function ul(t){const e=ye(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>zT(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),$m(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>uf(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>uf(r))).join(",")),e.Te=n}return e.Te}function Gm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!GK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!XO(t.startAt,e.startAt)&&XO(t.endAt,e.endAt)}function Hy(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Gy(t,e){return t.filters.filter((n=>n instanceof Ye&&n.field.isEqual(e)))}function JO(t,e,n){let r=Ty,i=!0;for(const a of Gy(t,e)){let u=Ty,l=!0;switch(a.op){case"<":case"<=":u=$K(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,l=!1;break;case"!=":case"not-in":u=Ty}WO({value:r,inclusive:i},{value:u,inclusive:l})<0&&(r=u,i=l)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const u=n.position[a];WO({value:r,inclusive:i},{value:u,inclusive:n.inclusive})<0&&(r=u,i=n.inclusive);break}}return{value:r,inclusive:i}}function ZO(t,e,n){let r=po,i=!0;for(const a of Gy(t,e)){let u=po,l=!0;switch(a.op){case">=":case">":u=HK(a.value),l=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,l=!1;break;case"!=":case"not-in":u=po}YO({value:r,inclusive:i},{value:u,inclusive:l})>0&&(r=u,i=l)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const u=n.position[a];YO({value:r,inclusive:i},{value:u,inclusive:n.inclusive})>0&&(r=u,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n=null,r=[],i=[],a=null,u="F",l=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=l,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ij(t,e,n,r,i,a,u,l){return new bs(t,e,n,r,i,a,u,l)}function Uf(t){return new bs(t)}function eD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function WS(t){return t.collectionGroup!==null}function Gc(t){const e=ye(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let l=new ht(Nt.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(l=l.add(h.field))}))})),l})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new gm(a,r))})),n.has(Nt.keyField().canonicalString())||e.Ie.push(new gm(Nt.keyField(),r))}return e.Ie}function yr(t){const e=ye(t);return e.Ee||(e.Ee=eW(e,Gc(t))),e.Ee}function eW(t,e){if(t.limitType==="F")return FT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new gm(i.field,a)}));const n=t.endAt?new Oo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Oo(t.startAt.position,t.startAt.inclusive):null;return FT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $T(t,e){const n=t.filters.concat([e]);return new bs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ky(t,e,n){return new bs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Km(t,e){return Gm(yr(t),yr(e))&&t.limitType===e.limitType}function xj(t){return`${ul(yr(t))}|lt:${t.limitType}`}function Mc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>Tj(i))).join(", ")}]`),$m(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>uf(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>uf(i))).join(",")),`Target(${r})`})(yr(t))}; limitType=${t.limitType})`}function Wm(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ge.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Gc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(u,l,f){const h=QO(u,l,f);return u.inclusive?h<=0:h<0})(r.startAt,Gc(r),i)||r.endAt&&!(function(u,l,f){const h=QO(u,l,f);return u.inclusive?h>=0:h>0})(r.endAt,Gc(r),i))})(t,e)}function Rj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Pj(t){return(e,n)=>{let r=!1;for(const i of Gc(t)){const a=tW(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function tW(t,e,n){const r=t.field.isKeyField()?ge.comparator(e.key,n.key):(function(a,u,l){const f=u.data.field(a),h=l.data.field(a);return f!==null&&h!==null?Co(f,h):be(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return be(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bo(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return lj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nW=new St(ge.comparator);function xr(){return nW}const Cj=new St(ge.comparator);function Od(...t){let e=Cj;for(const n of t)e=e.insert(n.key,n);return e}function Oj(t){let e=Cj;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function pa(){return Wd()}function Dj(){return Wd()}function Wd(){return new ws((t=>t.toString()),((t,e)=>t.isEqual(e)))}const rW=new St(ge.comparator),iW=new ht(ge.comparator);function qe(...t){let e=iW;for(const n of t)e=e.add(n);return e}const aW=new ht(je);function YS(){return aW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lm(e)?"-0":e}}function Nj(t){return{integerValue:""+t}}function kj(t,e){return JL(e)?Nj(e):QS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(){this._=void 0}}function sW(t,e,n){return t instanceof cf?(function(i,a){const u={fields:{[hj]:{stringValue:fj},[mj]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&u_(a)&&(a=l_(a)),a&&(u.fields[dj]=a),{mapValue:u}})(n,e):t instanceof ll?Vj(t,e):t instanceof cl?Lj(t,e):(function(i,a){const u=Mj(i,a),l=tD(u)+tD(i.Ae);return BT(u)&&BT(i.Ae)?Nj(l):QS(i.serializer,l)})(t,e)}function oW(t,e,n){return t instanceof ll?Vj(t,e):t instanceof cl?Lj(t,e):n}function Mj(t,e){return t instanceof ff?(function(r){return BT(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class cf extends f_{}class ll extends f_{constructor(e){super(),this.elements=e}}function Vj(t,e){const n=jj(e);for(const r of t.elements)n.some((i=>Aa(i,r)))||n.push(r);return{arrayValue:{values:n}}}class cl extends f_{constructor(e){super(),this.elements=e}}function Lj(t,e){let n=jj(e);for(const r of t.elements)n=n.filter((i=>!Aa(i,r)));return{arrayValue:{values:n}}}class ff extends f_{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function tD(t){return Ot(t.integerValue||t.doubleValue)}function jj(t){return pm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n){this.field=e,this.transform=n}}function uW(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof ll&&i instanceof ll||r instanceof cl&&i instanceof cl?ef(r.elements,i.elements,Aa):r instanceof ff&&i instanceof ff?Aa(r.Ae,i.Ae):r instanceof cf&&i instanceof cf})(t.transform,e.transform)}class lW{constructor(e,n){this.version=e,this.transformResults=n}}class kt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kt}static exists(e){return new kt(void 0,e)}static updateTime(e){return new kt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Iy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class h_{}function Uj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qf(t.key,kt.none()):new Bf(t.key,t.data,kt.none());{const n=t.data,r=Wn.empty();let i=new ht(Nt.comparator);for(let a of e.fields)if(!i.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?r.delete(a):r.set(a,u),i=i.add(a)}return new Es(t.key,r,new Ir(i.toArray()),kt.none())}}function cW(t,e,n){t instanceof Bf?(function(i,a,u){const l=i.value.clone(),f=rD(i.fieldTransforms,a,u.transformResults);l.setAll(f),a.convertToFoundDocument(u.version,l).setHasCommittedMutations()})(t,e,n):t instanceof Es?(function(i,a,u){if(!Iy(i.precondition,a))return void a.convertToUnknownDocument(u.version);const l=rD(i.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(Bj(i)),f.setAll(l),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):(function(i,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Yd(t,e,n,r){return t instanceof Bf?(function(a,u,l,f){if(!Iy(a.precondition,u))return l;const h=a.value.clone(),m=iD(a.fieldTransforms,f,u);return h.setAll(m),u.convertToFoundDocument(u.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof Es?(function(a,u,l,f){if(!Iy(a.precondition,u))return l;const h=iD(a.fieldTransforms,f,u),m=u.data;return m.setAll(Bj(a)),m.setAll(h),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(a,u,l){return Iy(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l})(t,e,n)}function fW(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=Mj(r.transform,i||null);a!=null&&(n===null&&(n=Wn.empty()),n.set(r.field,a))}return n||null}function nD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ef(r,i,((a,u)=>uW(a,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bf extends h_{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Es extends h_{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Bj(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function rD(t,e,n){const r=new Map;Ie(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],u=a.transform,l=e.data.field(a.field);r.set(a.field,oW(u,l,n[i]))}return r}function iD(t,e,n){const r=new Map;for(const i of t){const a=i.transform,u=n.data.field(i.field);r.set(i.field,sW(a,u,e))}return r}class qf extends h_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XS extends h_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&cW(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Yd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Dj();return this.mutations.forEach((i=>{const a=e.get(i.key),u=a.overlayedDocument;let l=this.applyToLocalView(u,a.mutatedFields);l=n.has(i.key)?null:l;const f=Uj(u,l);f!==null&&r.set(i.key,f),u.isValidDocument()||u.convertToNoDocument(xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),qe())}isEqual(e){return this.batchId===e.batchId&&ef(this.mutations,e.mutations,((n,r)=>nD(n,r)))&&ef(this.baseMutations,e.baseMutations,((n,r)=>nD(n,r)))}}class ZS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ie(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return rW})();const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new ZS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,et;function qj(t){switch(t){case te.OK:return be(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return be(15467,{code:t})}}function zj(t){if(t===void 0)return Xt("GRPC error has no .code"),te.UNKNOWN;switch(t){case on.OK:return te.OK;case on.CANCELLED:return te.CANCELLED;case on.UNKNOWN:return te.UNKNOWN;case on.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case on.INTERNAL:return te.INTERNAL;case on.UNAVAILABLE:return te.UNAVAILABLE;case on.UNAUTHENTICATED:return te.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case on.NOT_FOUND:return te.NOT_FOUND;case on.ALREADY_EXISTS:return te.ALREADY_EXISTS;case on.PERMISSION_DENIED:return te.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case on.ABORTED:return te.ABORTED;case on.OUT_OF_RANGE:return te.OUT_OF_RANGE;case on.UNIMPLEMENTED:return te.UNIMPLEMENTED;case on.DATA_LOSS:return te.DATA_LOSS;default:return be(39323,{code:t})}}(et=on||(on={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW=new _o([4294967295,4294967295],0);function aD(t){const e=Fj().encode(t),n=new ML;return n.update(e),new Uint8Array(n.digest())}function sD(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new _o([n,r],0),new _o([i,a],0)]}class t1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Dd(`Invalid padding: ${n}`);if(r<0)throw new Dd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Dd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Dd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=_o.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(_o.fromNumber(r)));return i.compare(dW)===1&&(i=new _o([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=aD(e),[r,i]=sD(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,i,a);if(!this.we(u))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new t1(a,i,n);return r.forEach((l=>u.insert(l))),u}insert(e){if(this.ge===0)return;const n=aD(e),[r,i]=sD(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,i,a);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Dd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Xm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qm(xe.min(),i,new St(je),xr(),qe())}}class Xm{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Xm(r,n,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class $j{constructor(e,n){this.targetId=e,this.Ce=n}}class Hj{constructor(e,n,r=Ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class oD{constructor(){this.ve=0,this.Fe=uD(),this.Me=Ht.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),n=qe(),r=qe();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:be(38017,{changeType:a})}})),new Xm(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=uD()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ie(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mW{constructor(e){this.Ge=e,this.ze=new Map,this.je=xr(),this.Je=Kg(),this.He=Kg(),this.Ye=new St(je)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(Hy(a))if(r===0){const u=new ge(a.path);this.et(n,u,xt.newNoDocument(u,xe.min()))}else Ie(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const l=this.ut(e),f=l?this.ct(l,e,u):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let u,l;try{u=ds(r).toUint8Array()}catch(f){if(f instanceof cj)return Ta("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{l=new t1(u,i,a)}catch(f){return Ta(f instanceof Dd?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const u=this.Ge.ht(),l=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,u)=>{const l=this.ot(u);if(l){if(a.current&&Hy(l.target)){const f=new ge(l.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,xt.newNoDocument(f,e))}a.Be&&(n.set(u,a.ke()),a.qe())}}));let r=qe();this.He.forEach(((a,u)=>{let l=!0;u.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const i=new Qm(e,n,this.Ye,this.je,r);return this.je=xr(),this.Je=Kg(),this.He=Kg(),this.Ye=new St(je),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new oD,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ht(je),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ht(je),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new oD),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Kg(){return new St(ge.comparator)}function uD(){return new St(ge.comparator)}const pW={asc:"ASCENDING",desc:"DESCENDING"},gW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yW={and:"AND",or:"OR"};class vW{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function HT(t,e){return t.useProto3Json||$m(e)?e:{value:e}}function hf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _W(t,e){return hf(t,e.toTimestamp())}function Jt(t){return Ie(!!t,49232),xe.fromTimestamp((function(n){const r=hs(n);return new st(r.seconds,r.nanos)})(t))}function n1(t,e){return GT(t,e).canonicalString()}function GT(t,e){const n=(function(i){return new We(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Kj(t){const e=We.fromString(t);return Ie(r4(e),10190,{key:e.toString()}),e}function ym(t,e){return n1(t.databaseId,e.path)}function va(t,e){const n=Kj(e);if(n.get(1)!==t.databaseId.projectId)throw new le(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(Qj(n))}function Wj(t,e){return n1(t.databaseId,e)}function Yj(t){const e=Kj(t);return e.length===4?We.emptyPath():Qj(e)}function KT(t){return new We(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Qj(t){return Ie(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function lD(t,e,n){return{name:ym(t,e),fields:n.value.mapValue.fields}}function Xj(t,e,n){const r=va(t,e.name),i=Jt(e.updateTime),a=e.createTime?Jt(e.createTime):xe.min(),u=new Wn({mapValue:{fields:e.fields}}),l=xt.newFoundDocument(r,i,a,u);return n&&l.setHasCommittedMutations(),n?l.setHasCommittedMutations():l}function bW(t,e){return"found"in e?(function(r,i){Ie(!!i.found,43571),i.found.name,i.found.updateTime;const a=va(r,i.found.name),u=Jt(i.found.updateTime),l=i.found.createTime?Jt(i.found.createTime):xe.min(),f=new Wn({mapValue:{fields:i.found.fields}});return xt.newFoundDocument(a,u,l,f)})(t,e):"missing"in e?(function(r,i){Ie(!!i.missing,3894),Ie(!!i.readTime,22933);const a=va(r,i.missing),u=Jt(i.readTime);return xt.newNoDocument(a,u)})(t,e):be(7234,{result:e})}function wW(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:be(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(h,m){return h.useProto3Json?(Ie(m===void 0||typeof m=="string",58123),Ht.fromBase64String(m||"")):(Ie(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Ht.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,l=u&&(function(h){const m=h.code===void 0?te.UNKNOWN:zj(h.code);return new le(m,h.message||"")})(u);n=new Hj(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=va(t,r.document.name),a=Jt(r.document.updateTime),u=r.document.createTime?Jt(r.document.createTime):xe.min(),l=new Wn({mapValue:{fields:r.document.fields}}),f=xt.newFoundDocument(i,a,u,l),h=r.targetIds||[],m=r.removedTargetIds||[];n=new xy(h,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=va(t,r.document),a=r.readTime?Jt(r.readTime):xe.min(),u=xt.newNoDocument(i,a),l=r.removedTargetIds||[];n=new xy([],l,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=va(t,r.document),a=r.removedTargetIds||[];n=new xy([],a,i,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,u=new hW(i,a),l=r.targetId;n=new $j(l,u)}}return n}function vm(t,e){let n;if(e instanceof Bf)n={update:lD(t,e.key,e.value)};else if(e instanceof qf)n={delete:ym(t,e.key)};else if(e instanceof Es)n={update:lD(t,e.key,e.data),updateMask:xW(e.fieldMask)};else{if(!(e instanceof XS))return be(16599,{Vt:e.type});n={verify:ym(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const l=u.transform;if(l instanceof cf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ll)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof cl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ff)return{fieldPath:u.field.canonicalString(),increment:l.Ae};throw be(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:_W(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:be(27497)})(t,e.precondition)),n}function WT(t,e){const n=e.currentDocument?(function(a){return a.updateTime!==void 0?kt.updateTime(Jt(a.updateTime)):a.exists!==void 0?kt.exists(a.exists):kt.none()})(e.currentDocument):kt.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(u,l){let f=null;if("setToServerValue"in l)Ie(l.setToServerValue==="REQUEST_TIME",16630,{proto:l}),f=new cf;else if("appendMissingElements"in l){const m=l.appendMissingElements.values||[];f=new ll(m)}else if("removeAllFromArray"in l){const m=l.removeAllFromArray.values||[];f=new cl(m)}else"increment"in l?f=new ff(u,l.increment):be(16584,{proto:l});const h=Nt.fromServerFormat(l.fieldPath);return new Ym(h,f)})(t,i))):[];if(e.update){e.update.name;const i=va(t,e.update.name),a=new Wn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=(function(f){const h=f.fieldPaths||[];return new Ir(h.map((m=>Nt.fromServerFormat(m))))})(e.updateMask);return new Es(i,a,u,n,r)}return new Bf(i,a,n,r)}if(e.delete){const i=va(t,e.delete);return new qf(i,n)}if(e.verify){const i=va(t,e.verify);return new XS(i,n)}return be(1463,{proto:e})}function EW(t,e){return t&&t.length>0?(Ie(e!==void 0,14353),t.map((n=>(function(i,a){let u=i.updateTime?Jt(i.updateTime):Jt(a);return u.isEqual(xe.min())&&(u=Jt(a)),new lW(u,i.transformResults||[])})(n,e)))):[]}function Jj(t,e){return{documents:[Wj(t,e.path)]}}function Zj(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Wj(t,i);const a=(function(h){if(h.length!==0)return n4(ft.create(h,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const u=(function(h){if(h.length!==0)return h.map((m=>(function(v){return{field:Vc(v.field),direction:AW(v.dir)}})(m)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const l=HT(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function e4(t){let e=Yj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ie(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=(function(p){const v=t4(p);return v instanceof ft&&KS(v)?v.getFilters():[v]})(n.where));let u=[];n.orderBy&&(u=(function(p){return p.map((v=>(function(E){return new gm(Lc(E.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(v)))})(n.orderBy));let l=null;n.limit&&(l=(function(p){let v;return v=typeof p=="object"?p.value:p,$m(v)?null:v})(n.limit));let f=null;n.startAt&&(f=(function(p){const v=!!p.before,b=p.values||[];return new Oo(b,v)})(n.startAt));let h=null;return n.endAt&&(h=(function(p){const v=!p.before,b=p.values||[];return new Oo(b,v)})(n.endAt)),Ij(e,i,u,a,l,"F",f,h)}function TW(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function t4(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Lc(n.unaryFilter.field);return Ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Lc(n.unaryFilter.field);return Ye.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Lc(n.unaryFilter.field);return Ye.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Lc(n.unaryFilter.field);return Ye.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ye.create(Lc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ft.create(n.compositeFilter.filters.map((r=>t4(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(t):be(30097,{filter:t})}function AW(t){return pW[t]}function SW(t){return gW[t]}function IW(t){return yW[t]}function Vc(t){return{fieldPath:t.canonicalString()}}function Lc(t){return Nt.fromServerFormat(t.fieldPath)}function n4(t){return t instanceof Ye?(function(n){if(n.op==="=="){if(KO(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NAN"}};if(GO(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KO(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NOT_NAN"}};if(GO(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vc(n.field),op:SW(n.op),value:n.value}}})(t):t instanceof ft?(function(n){const r=n.getFilters().map((i=>n4(i)));return r.length===1?r[0]:{compositeFilter:{op:IW(n.op),filters:r}}})(t):be(54877,{filter:t})}function xW(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function r4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n,r,i,a=xe.min(),u=xe.min(),l=Ht.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=l,this.expectedCount=f}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.yt=e}}function RW(t,e){let n;if(e.document)n=Xj(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ge.fromSegments(e.noDocument.path),i=hl(e.noDocument.readTime);n=xt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return be(56709);{const r=ge.fromSegments(e.unknownDocument.path),i=hl(e.unknownDocument.version);n=xt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const a=new st(i[0],i[1]);return xe.fromTimestamp(a)})(e.readTime)),n}function cD(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Wy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(a,u){return{name:ym(a,u.key),fields:u.data.value.mapValue.fields,updateTime:hf(a,u.version.toTimestamp()),createTime:hf(a,u.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:fl(e.version)};else{if(!e.isUnknownDocument())return be(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:fl(e.version)}}return r}function Wy(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function fl(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function hl(t){const e=new st(t.seconds,t.nanoseconds);return xe.fromTimestamp(e)}function Lu(t,e){const n=(e.baseMutations||[]).map((a=>WT(t.yt,a)));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const l=e.mutations[a+1];u.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const r=e.mutations.map((a=>WT(t.yt,a))),i=st.fromMillis(e.localWriteTimeMs);return new JS(e.batchId,i,n,r)}function Nd(t){const e=hl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?hl(t.lastLimboFreeSnapshotVersion):xe.min();let r;return r=(function(a){return a.documents!==void 0})(t.query)?(function(a){const u=a.documents.length;return Ie(u===1,1966,{count:u}),yr(Uf(Yj(a.documents[0])))})(t.query):(function(a){return yr(e4(a))})(t.query),new ns(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ht.fromBase64String(t.resumeToken))}function a4(t,e){const n=fl(e.snapshotVersion),r=fl(e.lastLimboFreeSnapshotVersion);let i;i=Hy(e.target)?Jj(t.yt,e.target):Zj(t.yt,e.target).ft;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ul(e.target),readTime:n,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function r1(t){const e=e4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ky(e,e.limit,"L"):e}function Sw(t,e){return new e1(e.largestBatchId,WT(t.yt,e.overlayMutation))}function fD(t,e){const n=e.path.lastSegment();return[t,or(e.path.popLast()),n]}function hD(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:fl(r.readTime),documentKey:or(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PW{getBundleMetadata(e,n){return dD(e).get(n).next((r=>{if(r)return(function(a){return{id:a.bundleId,createTime:hl(a.createTime),version:a.version}})(r)}))}saveBundleMetadata(e,n){return dD(e).put((function(i){return{bundleId:i.id,createTime:fl(Jt(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return mD(e).get(n).next((r=>{if(r)return(function(a){return{name:a.name,query:r1(a.bundledQuery),readTime:hl(a.readTime)}})(r)}))}saveNamedQuery(e,n){return mD(e).put((function(i){return{name:i.name,readTime:fl(Jt(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function dD(t){return wn(t,a_)}function mD(t){return wn(t,s_)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new d_(e,r)}getOverlay(e,n){return md(e).get(fD(this.userId,n)).next((r=>r?Sw(this.serializer,r):null))}getOverlays(e,n){const r=pa();return Y.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((a,u)=>{const l=new e1(n,u);i.push(this.St(e,l))})),Y.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((u=>i.add(or(u.getCollectionPath()))));const a=[];return i.forEach((u=>{const l=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);a.push(md(e).Z(VT,l))})),Y.waitFor(a)}getOverlaysForCollection(e,n,r){const i=pa(),a=or(n),u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return md(e).J(VT,u).next((l=>{for(const f of l){const h=Sw(this.serializer,f);i.set(h.getKey(),h)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const a=pa();let u;const l=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return md(e).ee({index:ij,range:l},((f,h,m)=>{const p=Sw(this.serializer,h);a.size()<i||p.largestBatchId===u?(a.set(p.getKey(),p),u=p.largestBatchId):m.done()})).next((()=>a))}St(e,n){return md(e).put((function(i,a,u){const[l,f,h]=fD(a,u.mutation.key);return{userId:a,collectionPath:f,documentId:h,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:vm(i.yt,u.mutation)}})(this.serializer,this.userId,n))}}function md(t){return wn(t,o_)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CW{bt(e){return wn(e,FS)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?Ht.fromUint8Array(r):Ht.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Ot(e.integerValue));else if("doubleValue"in e){const r=Ot(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),lm(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=hs(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(ds(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?gj(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):c_(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):be(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var u,l;const r=e.fields||{};this.Ft(n,53);const i=of,a=((l=(u=r[i].arrayValue)==null?void 0:u.values)==null?void 0:l.length)||0;this.Ft(n,15),n.Mt(Ot(a)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),ge.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}ju.Kt=new ju;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=255;function OW(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function pD(t){const e=64-(function(r){let i=0;for(let a=0;a<8;++a){const u=OW(255&r[a]);if(i+=u,u!==8)break}return i})(t);return Math.ceil(e/8)}class DW{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=pD(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=pD(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(xc),this.sn(255)}_n(){this.an(xc),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(a){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,a,!1),new Uint8Array(u.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===xc?(this.sn(xc),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===xc?(this.an(xc),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class NW{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class kW{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class pd{constructor(){this.cn=new DW,this.ln=new NW(this.cn),this.hn=new kW(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Uu(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Ry(this.En),directionalValue:Ry(this.dn),orderedDocumentKey:Ry(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function io(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=gD(t.En,e.En),n!==0?n:(n=gD(t.dn,e.dn),n!==0?n:ge.comparator(t.In,e.In)))}function gD(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Ry(t){return wV()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function yD(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class vD{constructor(e){this.mn=new ht(((n,r)=>Nt.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ie(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=NT(e);if(n!==void 0&&!this.wn(n))return!1;const r=Ou(e);let i=new Set,a=0,u=0;for(;a<r.length&&this.wn(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(this.mn.size>0){const l=this.mn.getIterator().getNext();if(!i.has(l.field.canonicalString())){const f=r[a];if(!this.Sn(l,f)||!this.bn(this.fn[u++],f))return!1}++a}for(;a<r.length;++a){const l=r[a];if(u>=this.fn.length||!this.bn(this.fn[u++],l))return!1}return!0}Dn(){if(this.pn)return null;let e=new ht(Nt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new by(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new by(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new by(r.field,r.dir==="asc"?0:1)));return new qy(qy.UNKNOWN_ID,this.collectionId,n,um.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t){var n,r;if(Ie(t instanceof Ye||t instanceof ft,20012),t instanceof Ye){if(t instanceof Sj){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map((a=>Ye.create(t.field,"==",a))))||[];return ft.create(i,"or")}return t}const e=t.filters.map((i=>s4(i)));return ft.create(e,t.op)}function MW(t){if(t.getFilters().length===0)return[];const e=XT(s4(t));return Ie(o4(e),7391),YT(e)||QT(e)?[e]:e.getFilters()}function YT(t){return t instanceof Ye}function QT(t){return t instanceof ft&&KS(t)}function o4(t){return YT(t)||QT(t)||(function(n){if(n instanceof ft&&qT(n)){for(const r of n.getFilters())if(!YT(r)&&!QT(r))return!1;return!0}return!1})(t)}function XT(t){if(Ie(t instanceof Ye||t instanceof ft,34018),t instanceof Ye)return t;if(t.filters.length===1)return XT(t.filters[0]);const e=t.filters.map((r=>XT(r)));let n=ft.create(e,t.op);return n=Yy(n),o4(n)?n:(Ie(n instanceof ft,64498),Ie(lf(n),40251),Ie(n.filters.length>1,57927),n.filters.reduce(((r,i)=>i1(r,i))))}function i1(t,e){let n;return Ie(t instanceof Ye||t instanceof ft,38388),Ie(e instanceof Ye||e instanceof ft,25473),n=t instanceof Ye?e instanceof Ye?(function(i,a){return ft.create([i,a],"and")})(t,e):_D(t,e):e instanceof Ye?_D(e,t):(function(i,a){if(Ie(i.filters.length>0&&a.filters.length>0,48005),lf(i)&&lf(a))return Ej(i,a.getFilters());const u=qT(i)?i:a,l=qT(i)?a:i,f=u.filters.map((h=>i1(h,l)));return ft.create(f,"or")})(t,e),Yy(n)}function _D(t,e){if(lf(e))return Ej(e,t.getFilters());{const n=e.filters.map((r=>i1(t,r)));return ft.create(n,"or")}}function Yy(t){if(Ie(t instanceof Ye||t instanceof ft,11850),t instanceof Ye)return t;const e=t.getFilters();if(e.length===1)return Yy(e[0]);if(bj(t))return t;const n=e.map((i=>Yy(i))),r=[];return n.forEach((i=>{i instanceof Ye?r.push(i):i instanceof ft&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:ft.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(){this.Cn=new a1}addToCollectionParentIndex(e,n){return this.Cn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(Xr.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class a1{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ht(We.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ht(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="IndexedDbIndexManager",Wg=new Uint8Array(0);class LW{constructor(e,n){this.databaseId=n,this.vn=new a1,this.Fn=new ws((r=>ul(r)),((r,i)=>Gm(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const a={collectionId:r,parent:or(i)};return wD(e).put(a)}return Y.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[FL(n),""],!1,!0);return wD(e).J(i).next((a=>{for(const u of a){if(u.collectionId!==n)break;r.push(ma(u.parent))}return r}))}addFieldIndex(e,n){const r=gd(e),i=(function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map((f=>[f.fieldPath.canonicalString(),f.kind]))}})(n);delete i.indexId;const a=r.add(i);if(n.indexState){const u=Pc(e);return a.next((l=>{u.put(hD(l,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return a.next()}deleteFieldIndex(e,n){const r=gd(e),i=Pc(e),a=Rc(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=gd(e),r=Rc(e),i=Pc(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return Y.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const a=new vD(r).Dn();if(a!=null)return this.addFieldIndex(e,a)}}))))}getDocumentsMatchingTarget(e,n){const r=Rc(e);let i=!0;const a=new Map;return Y.forEach(this.Mn(n),(u=>this.xn(e,u).next((l=>{i&&(i=!!l),a.set(u,l)})))).next((()=>{if(i){let u=qe();const l=[];return Y.forEach(a,((f,h)=>{fe(bD,`Using index ${(function(P){return`id=${P.indexId}|cg=${P.collectionGroup}|f=${P.fields.map((U=>`${U.fieldPath}:${U.kind}`)).join(",")}`})(f)} to execute ${ul(n)}`);const m=(function(P,U){const L=NT(U);if(L===void 0)return null;for(const $ of Gy(P,L.fieldPath))switch($.op){case"array-contains-any":return $.value.arrayValue.values||[];case"array-contains":return[$.value]}return null})(h,f),p=(function(P,U){const L=new Map;for(const $ of Ou(U))for(const D of Gy(P,$.fieldPath))switch(D.op){case"==":case"in":L.set($.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return L.set($.fieldPath.canonicalString(),D.value),Array.from(L.values())}return null})(h,f),v=(function(P,U){const L=[];let $=!0;for(const D of Ou(U)){const N=D.kind===0?JO(P,D.fieldPath,P.startAt):ZO(P,D.fieldPath,P.startAt);L.push(N.value),$&&($=N.inclusive)}return new Oo(L,$)})(h,f),b=(function(P,U){const L=[];let $=!0;for(const D of Ou(U)){const N=D.kind===0?ZO(P,D.fieldPath,P.endAt):JO(P,D.fieldPath,P.endAt);L.push(N.value),$&&($=N.inclusive)}return new Oo(L,$)})(h,f),E=this.On(f,h,v),T=this.On(f,h,b),A=this.Nn(f,h,p),R=this.Bn(f.indexId,m,E,v.inclusive,T,b.inclusive,A);return Y.forEach(R,(C=>r.Y(C,n.limit).next((P=>{P.forEach((U=>{const L=ge.fromSegments(U.documentKey);u.has(L)||(u=u.add(L),l.push(L))}))}))))})).next((()=>l))}return Y.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=MW(ft.create(e.filters,"and")).map((r=>FT(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,a,u,l){const f=(n!=null?n.length:1)*Math.max(r.length,a.length),h=f/(n!=null?n.length:1),m=[];for(let p=0;p<f;++p){const v=n?this.Ln(n[p/h]):Wg,b=this.kn(e,v,r[p%h],i),E=this.qn(e,v,a[p%h],u),T=l.map((A=>this.kn(e,v,A,!0)));m.push(...this.createRange(b,E,T))}return m}kn(e,n,r,i){const a=new Uu(e,ge.empty(),n,r);return i?a:a.An()}qn(e,n,r,i){const a=new Uu(e,ge.empty(),n,r);return i?a.An():a}xn(e,n){const r=new vD(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((a=>{let u=null;for(const l of a)r.yn(l)&&(!u||l.fields.length>u.fields.length)&&(u=l);return u}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return Y.forEach(i,(a=>this.xn(e,a).next((u=>{u?r!==0&&u.fields.length<(function(f){let h=new ht(Nt.comparator),m=!1;for(const p of f.filters)for(const v of p.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?m=!0:h=h.add(v.field));for(const p of f.orderBy)p.field.isKeyField()||(h=h.add(p.field));return h.size+(m?1:0)})(a)&&(r=1):r=0})))).next((()=>(function(u){return u.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new pd;for(const i of Ou(e)){const a=n.data.field(i.fieldPath);if(a==null)return null;const u=r.Pn(i.kind);ju.Kt.Dt(a,u)}return r.un()}Ln(e){const n=new pd;return ju.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new pd;return ju.Kt.Dt(ol(this.databaseId,n),r.Pn((function(a){const u=Ou(a);return u.length===0?0:u[u.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new pd);let a=0;for(const u of Ou(e)){const l=r[a++];for(const f of i)if(this.Un(n,u.fieldPath)&&pm(l))i=this.Kn(i,u,l);else{const h=f.Pn(u.kind);ju.Kt.Dt(l,h)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],a=[];for(const u of r.arrayValue.values||[])for(const l of i){const f=new pd;f.seed(l.un()),ju.Kt.Dt(u,f.Pn(n.kind)),a.push(f)}return a}Un(e,n){return!!e.filters.find((r=>r instanceof Ye&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=gd(e),i=Pc(e);return(n?r.J(MT,IDBKeyRange.bound(n,n)):r.J()).next((a=>{const u=[];return Y.forEach(a,(l=>i.get([l.indexId,this.uid]).next((f=>{u.push((function(m,p){const v=p?new um(p.sequenceNumber,new Xr(hl(p.readTime),new ge(ma(p.documentKey)),p.largestBatchId)):um.empty(),b=m.fields.map((([E,T])=>new by(Nt.fromServerFormat(E),T)));return new qy(m.indexId,m.collectionGroup,b,v)})(l,f))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:je(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=gd(e),a=Pc(e);return this.Gn(e).next((u=>i.J(MT,IDBKeyRange.bound(n,n)).next((l=>Y.forEach(l,(f=>a.put(hD(f.indexId,this.uid,u,r))))))))}updateIndexEntries(e,n){const r=new Map;return Y.forEach(n,((i,a)=>{const u=r.get(i.collectionGroup);return(u?Y.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next((l=>(r.set(i.collectionGroup,l),Y.forEach(l,(f=>this.zn(e,i,f).next((h=>{const m=this.jn(a,f);return h.isEqual(m)?Y.resolve():this.Jn(e,a,f,h,m)})))))))}))}Hn(e,n,r,i){return Rc(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return Rc(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=Rc(e);let a=new ht(io);return i.ee({index:rj,range:IDBKeyRange.only([r.indexId,this.uid,Ry(this.$n(r,n))])},((u,l)=>{a=a.add(new Uu(r.indexId,n,yD(l.arrayValue),yD(l.directionalValue)))})).next((()=>a))}jn(e,n){let r=new ht(io);const i=this.Qn(n,e);if(i==null)return r;const a=NT(n);if(a!=null){const u=e.data.field(a.fieldPath);if(pm(u))for(const l of u.arrayValue.values||[])r=r.add(new Uu(n.indexId,e.key,this.Ln(l),i))}else r=r.add(new Uu(n.indexId,e.key,Wg,i));return r}Jn(e,n,r,i,a){fe(bD,"Updating index entries for document '%s'",n.key);const u=[];return(function(f,h,m,p,v){const b=f.getIterator(),E=h.getIterator();let T=Ic(b),A=Ic(E);for(;T||A;){let R=!1,C=!1;if(T&&A){const P=m(T,A);P<0?C=!0:P>0&&(R=!0)}else T!=null?C=!0:R=!0;R?(p(A),A=Ic(E)):C?(v(T),T=Ic(b)):(T=Ic(b),A=Ic(E))}})(i,a,io,(l=>{u.push(this.Hn(e,n,r,l))}),(l=>{u.push(this.Yn(e,n,r,l))})),Y.waitFor(u)}Gn(e){let n=1;return Pc(e).ee({index:nj,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,a)=>{a.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((u,l)=>io(u,l))).filter(((u,l,f)=>!l||io(u,f[l-1])!==0));const i=[];i.push(e);for(const u of r){const l=io(u,e),f=io(u,n);if(l===0)i[0]=e.An();else if(l>0&&f<0)i.push(u),i.push(u.An());else if(f>0)break}i.push(n);const a=[];for(let u=0;u<i.length;u+=2){if(this.Zn(i[u],i[u+1]))return[];const l=i[u].Vn(this.uid,Wg,ge.empty()),f=i[u+1].Vn(this.uid,Wg,ge.empty());a.push(IDBKeyRange.bound(l,f))}return a}Zn(e,n){return io(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(ED)}getMinOffset(e,n){return Y.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||be(44426))))).next(ED)}}function wD(t){return wn(t,hm)}function Rc(t){return wn(t,Gd)}function gd(t){return wn(t,zS)}function Pc(t){return wn(t,Hd)}function ED(t){Ie(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;US(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Xr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},u4=41943040;class rr{static withCacheSize(e){return new rr(e,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t,e,n){const r=t.store(Di),i=t.store(nf),a=[],u=IDBKeyRange.only(n.batchId);let l=0;const f=r.ee({range:u},((m,p,v)=>(l++,v.delete())));a.push(f.next((()=>{Ie(l===1,47070,{batchId:n.batchId})})));const h=[];for(const m of n.mutations){const p=ZL(e,m.key.path,n.batchId);a.push(i.delete(p)),h.push(m.key)}return Y.waitFor(a).next((()=>h))}function Qy(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw be(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr.DEFAULT_COLLECTION_PERCENTILE=10,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rr.DEFAULT=new rr(u4,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rr.DISABLED=new rr(-1,0,0);class m_{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){Ie(e.uid!=="",64387);const a=e.isAuthenticated()?e.uid:"";return new m_(a,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ao(e).ee({index:zu,range:r},((i,a,u)=>{n=!1,u.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const a=jc(e),u=ao(e);return u.add({}).next((l=>{Ie(typeof l=="number",49019);const f=new JS(l,n,r,i),h=(function(b,E,T){const A=T.baseMutations.map((C=>vm(b.yt,C))),R=T.mutations.map((C=>vm(b.yt,C)));return{userId:E,batchId:T.batchId,localWriteTimeMs:T.localWriteTime.toMillis(),baseMutations:A,mutations:R}})(this.serializer,this.userId,f),m=[];let p=new ht(((v,b)=>je(v.canonicalString(),b.canonicalString())));for(const v of i){const b=ZL(this.userId,v.key.path,l);p=p.add(v.key.path.popLast()),m.push(u.put(h)),m.push(a.put(b,yK))}return p.forEach((v=>{m.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Xn[l]=f.keys()})),Y.waitFor(m).next((()=>f))}))}lookupMutationBatch(e,n){return ao(e).get(n).next((r=>r?(Ie(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Lu(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Y.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return ao(e).ee({index:zu,range:i},((u,l,f)=>{l.userId===this.userId&&(Ie(l.batchId>=r,47524,{tr:r}),a=Lu(this.serializer,l)),f.done()})).next((()=>a))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=bo;return ao(e).ee({index:zu,range:n,reverse:!0},((i,a,u)=>{r=a.batchId,u.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,bo],[this.userId,Number.POSITIVE_INFINITY]);return ao(e).J(zu,n).next((r=>r.map((i=>Lu(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=wy(this.userId,n.path),i=IDBKeyRange.lowerBound(r),a=[];return jc(e).ee({range:i},((u,l,f)=>{const[h,m,p]=u,v=ma(m);if(h===this.userId&&n.path.isEqual(v))return ao(e).get(p).next((b=>{if(!b)throw be(61480,{nr:u,batchId:p});Ie(b.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:b.userId,batchId:p}),a.push(Lu(this.serializer,b))}));f.done()})).next((()=>a))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(je);const i=[];return n.forEach((a=>{const u=wy(this.userId,a.path),l=IDBKeyRange.lowerBound(u),f=jc(e).ee({range:l},((h,m,p)=>{const[v,b,E]=h,T=ma(b);v===this.userId&&a.path.isEqual(T)?r=r.add(E):p.done()}));i.push(f)})),Y.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,a=wy(this.userId,r),u=IDBKeyRange.lowerBound(a);let l=new ht(je);return jc(e).ee({range:u},((f,h,m)=>{const[p,v,b]=f,E=ma(v);p===this.userId&&r.isPrefixOf(E)?E.length===i&&(l=l.add(b)):m.done()})).next((()=>this.rr(e,l)))}rr(e,n){const r=[],i=[];return n.forEach((a=>{i.push(ao(e).get(a).next((u=>{if(u===null)throw be(35274,{batchId:a});Ie(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:a}),r.push(Lu(this.serializer,u))})))})),Y.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return l4(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Y.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Y.resolve();const r=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),i=[];return jc(e).ee({range:r},((a,u,l)=>{if(a[0]===this.userId){const f=ma(a[1]);i.push(f)}else l.done()})).next((()=>{Ie(i.length===0,56720,{sr:i.map((a=>a.canonicalString()))})}))}))}containsKey(e,n){return c4(e,this.userId,n)}_r(e){return f4(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:bo,lastStreamToken:""}))}}function c4(t,e,n){const r=wy(e,n.path),i=r[1],a=IDBKeyRange.lowerBound(r);let u=!1;return jc(t).ee({range:a,X:!0},((l,f,h)=>{const[m,p,v]=l;m===e&&p===i&&(u=!0),h.done()})).next((()=>u))}function ao(t){return wn(t,Di)}function jc(t){return wn(t,nf)}function f4(t){return wn(t,cm)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new dl(0)}static cr(){return new dl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new dl(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>xe.fromTimestamp(new st(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Cc(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Ie(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const a=[];return Cc(e).ee(((u,l)=>{const f=Nd(l);f.sequenceNumber<=n&&r.get(f.targetId)===null&&(i++,a.push(this.removeTargetData(e,f)))})).next((()=>Y.waitFor(a))).next((()=>i))}forEachTarget(e,n){return Cc(e).ee(((r,i)=>{const a=Nd(i);n(a)}))}lr(e){return AD(e).get($y).next((n=>(Ie(n!==null,2888),n)))}hr(e,n){return AD(e).put($y,n)}Pr(e,n){return Cc(e).put(a4(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=ul(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Cc(e).ee({range:i,index:tj},((u,l,f)=>{const h=Nd(l);Gm(n,h.target)&&(a=h,f.done())})).next((()=>a))}addMatchingKeys(e,n,r){const i=[],a=fo(e);return n.forEach((u=>{const l=or(u.path);i.push(a.put({targetId:r,path:l})),i.push(this.referenceDelegate.addReference(e,r,u))})),Y.waitFor(i)}removeMatchingKeys(e,n,r){const i=fo(e);return Y.forEach(n,(a=>{const u=or(a.path);return Y.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,a)])}))}removeMatchingKeysForTargetId(e,n){const r=fo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=fo(e);let a=qe();return i.ee({range:r,X:!0},((u,l,f)=>{const h=ma(u[1]),m=new ge(h);a=a.add(m)})).next((()=>a))}containsKey(e,n){const r=or(n.path),i=IDBKeyRange.bound([r],[FL(r)],!1,!0);let a=0;return fo(e).ee({index:qS,X:!0,range:i},(([u,l],f,h)=>{u!==0&&(a++,h.done())})).next((()=>a>0))}At(e,n){return Cc(e).get(n).next((r=>r?Nd(r):null))}}function Cc(t){return wn(t,rf)}function AD(t){return wn(t,Ju)}function fo(t){return wn(t,af)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="LruGarbageCollector",UW=1048576;function ID([t,e],[n,r]){const i=je(t,n);return i===0?je(e,r):i}class BW{constructor(e){this.Ir=e,this.buffer=new ht(ID),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ID(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class h4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(SD,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Uo(n)?fe(SD,"Ignoring IndexedDB error during garbage collection: ",n):await jo(n)}await this.Vr(3e5)}))}}class qW{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(Sr.ce);const r=new BW(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(TD)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TD):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,u,l,f,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,u=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,l=Date.now(),this.removeTargets(e,r,n)))).next((p=>(a=p,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(h=Date.now(),kc()<=Ke.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-m}ms
	Determined least recently used ${i} in `+(l-u)+`ms
	Removed ${a} targets in `+(f-l)+`ms
	Removed ${p} documents in `+(h-f)+`ms
Total Duration: ${h-m}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function d4(t,e){return new qW(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{constructor(e,n){this.db=e,this.garbageCollector=d4(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return Yg(e,r)}removeReference(e,n,r){return Yg(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Yg(e,n)}br(e,n){return(function(i,a){let u=!1;return f4(i).te((l=>c4(i,l,a).next((f=>(f&&(u=!0),Y.resolve(!f)))))).next((()=>u))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Sr(e,((u,l)=>{if(l<=n){const f=this.br(e,u).next((h=>{if(!h)return a++,r.getEntry(e,u).next((()=>(r.removeEntry(u,xe.min()),fo(e).delete((function(p){return[0,or(p.path)]})(u)))))}));i.push(f)}})).next((()=>Y.waitFor(i))).next((()=>r.apply(e))).next((()=>a))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Yg(e,n)}Sr(e,n){const r=fo(e);let i,a=Sr.ce;return r.ee({index:qS},(([u,l],{path:f,sequenceNumber:h})=>{u===0?(a!==Sr.ce&&n(new ge(ma(i)),a),a=h,i=f):a=Sr.ce})).next((()=>{a!==Sr.ce&&n(new ge(ma(i)),a)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Yg(t,e){return fo(t).put((function(r,i){return{targetId:0,path:or(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(){this.changes=new ws((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Pu(e).put(r)}removeEntry(e,n,r){return Pu(e).delete((function(a,u){const l=a.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],Wy(u),l[l.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=xt.newInvalidDocument(n);return Pu(e).ee({index:Ey,range:IDBKeyRange.only(yd(n))},((i,a)=>{r=this.Cr(n,a)})).next((()=>r))}vr(e,n){let r={size:0,document:xt.newInvalidDocument(n)};return Pu(e).ee({index:Ey,range:IDBKeyRange.only(yd(n))},((i,a)=>{r={document:this.Cr(n,a),size:Qy(a)}})).next((()=>r))}getEntries(e,n){let r=xr();return this.Fr(e,n,((i,a)=>{const u=this.Cr(i,a);r=r.insert(i,u)})).next((()=>r))}Mr(e,n){let r=xr(),i=new St(ge.comparator);return this.Fr(e,n,((a,u)=>{const l=this.Cr(a,u);r=r.insert(a,l),i=i.insert(a,Qy(u))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return Y.resolve();let i=new ht(PD);n.forEach((f=>i=i.add(f)));const a=IDBKeyRange.bound(yd(i.first()),yd(i.last())),u=i.getIterator();let l=u.getNext();return Pu(e).ee({index:Ey,range:a},((f,h,m)=>{const p=ge.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;l&&PD(l,p)<0;)r(l,null),l=u.getNext();l&&l.isEqual(p)&&(r(l,h),l=u.hasNext()?u.getNext():null),l?m.j(yd(l)):m.done()})).next((()=>{for(;l;)r(l,null),l=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,a){const u=n.path,l=[u.popLast().toArray(),u.lastSegment(),Wy(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Pu(e).J(IDBKeyRange.bound(l,f,!0)).next((h=>{a==null||a.incrementDocumentReadCount(h.length);let m=xr();for(const p of h){const v=this.Cr(ge.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);v.isFoundDocument()&&(Wm(n,v)||i.has(v.key))&&(m=m.insert(v.key,v))}return m}))}getAllFromCollectionGroup(e,n,r,i){let a=xr();const u=RD(n,r),l=RD(n,Xr.max());return Pu(e).ee({index:ej,range:IDBKeyRange.bound(u,l,!0)},((f,h,m)=>{const p=this.Cr(ge.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);a=a.insert(p.key,p),a.size===i&&m.done()})).next((()=>a))}newChangeBuffer(e){return new $W(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return xD(e).get(kT).next((n=>(Ie(!!n,20021),n)))}Dr(e,n){return xD(e).put(kT,n)}Cr(e,n){if(n){const r=RW(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(xe.min())))return r}return xt.newInvalidDocument(e)}}function p4(t){return new FW(t)}class $W extends m4{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new ws((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new ht(((a,u)=>je(a.canonicalString(),u.canonicalString())));return this.changes.forEach(((a,u)=>{const l=this.Br.get(a);if(n.push(this.Nr.removeEntry(e,a,l.readTime)),u.isValidDocument()){const f=cD(this.Nr.serializer,u);i=i.add(a.path.popLast());const h=Qy(f);r+=h-l.size,n.push(this.Nr.addEntry(e,a,f))}else if(r-=l.size,this.trackRemovals){const f=cD(this.Nr.serializer,u.convertToNoDocument(xe.min()));n.push(this.Nr.addEntry(e,a,f))}})),i.forEach((a=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,a))})),n.push(this.Nr.updateMetadata(e,r)),Y.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((a,u)=>{this.Br.set(a,{size:u,readTime:r.get(a).readTime})})),r)))}}function xD(t){return wn(t,fm)}function Pu(t){return wn(t,Fy)}function yd(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function RD(t,e){const n=e.documentKey.path.toArray();return[t,Wy(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function PD(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<n.length-2&&a<r.length-2;++a)if(i=je(n[a],r[a]),i)return i;return i=je(n.length,r.length),i||(i=je(n[n.length-2],r[r.length-2]),i||je(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Yd(r.mutation,i,Ir.empty(),st.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,qe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=qe()){const i=pa();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let u=Od();return a.forEach(((l,f)=>{u=u.insert(l,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=pa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,qe())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((u,l)=>{n.set(u,l)}))}))}computeViews(e,n,r,i){let a=xr();const u=Wd(),l=(function(){return Wd()})();return n.forEach(((f,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof Es)?a=a.insert(h.key,h):m!==void 0?(u.set(h.key,m.mutation.getFieldMask()),Yd(m.mutation,h,m.mutation.getFieldMask(),st.now())):u.set(h.key,Ir.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((h,m)=>u.set(h,m))),n.forEach(((h,m)=>l.set(h,new HW(m,u.get(h)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=Wd();let i=new St(((u,l)=>u-l)),a=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const l of u)l.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let m=r.get(f)||Ir.empty();m=l.applyToLocalView(h,m),r.set(f,m);const p=(i.get(l.batchId)||qe()).add(f);i=i.insert(l.batchId,p)}))})).next((()=>{const u=[],l=i.getReverseIterator();for(;l.hasNext();){const f=l.getNext(),h=f.key,m=f.value,p=Dj();m.forEach((v=>{if(!a.has(v)){const b=Uj(n.get(v),r.get(v));b!==null&&p.set(v,b),a=a.add(v)}})),u.push(this.documentOverlayCache.saveOverlays(e,h,p))}return Y.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(u){return ge.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Y.resolve(pa());let l=tf,f=a;return u.next((h=>Y.forEach(h,((m,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),a.get(m)?Y.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{f=f.insert(m,v)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,f,h,qe()))).next((m=>({batchId:l,changes:Oj(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((r=>{let i=Od();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let u=Od();return this.indexManager.getCollectionParents(e,a).next((l=>Y.forEach(l,(f=>{const h=(function(p,v){return new bs(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((m=>{m.forEach(((p,v)=>{u=u.insert(p,v)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((u=>{a.forEach(((f,h)=>{const m=h.getKey();u.get(m)===null&&(u=u.insert(m,xt.newInvalidDocument(m)))}));let l=Od();return u.forEach(((f,h)=>{const m=a.get(f);m!==void 0&&Yd(m.mutation,h,Ir.empty(),st.now()),Wm(n,h)&&(l=l.insert(f,h))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Y.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Jt(i.createTime)}})(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:r1(i.bundledQuery),readTime:Jt(i.readTime)}})(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(){this.overlays=new St(ge.comparator),this.qr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=pa();return Y.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),Y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const i=pa(),a=n.length+1,u=new ge(n.child("")),l=this.overlays.getIteratorFrom(u);for(;l.hasNext();){const f=l.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new St(((h,m)=>h-m));const u=this.overlays.getIterator();for(;u.hasNext();){const h=u.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=a.get(h.largestBatchId);m===null&&(m=pa(),a=a.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const l=pa(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,m)=>l.set(h,m))),!(l.size()>=i)););return Y.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new e1(n,r));let a=this.qr.get(n);a===void 0&&(a=qe(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(){this.Qr=new ht(On.$r),this.Ur=new ht(On.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new On(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new On(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ge(new We([])),r=new On(n,e),i=new On(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new We([])),r=new On(n,e),i=new On(n,e+1);let a=qe();return this.Ur.forEachInRange([r,i],(u=>{a=a.add(u.key)})),a}containsKey(e){const n=new On(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class On{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||je(e.Yr,n.Yr)}static Kr(e,n){return je(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ht(On.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new JS(a,n,r,i);this.mutationQueue.push(u);for(const l of i)this.Zr=this.Zr.add(new On(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Y.resolve(u)}lookupMutationBatch(e,n){return Y.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?bo:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new On(n,0),i=new On(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(u=>{const l=this.Xr(u.Yr);a.push(l)})),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(je);return n.forEach((i=>{const a=new On(i,0),u=new On(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(l=>{r=r.add(l.Yr)}))})),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ge.isDocumentKey(a)||(a=a.child(""));const u=new On(new ge(a),0);let l=new ht(je);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(f.Yr)),!0)}),u),Y.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Ie(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(n.mutations,(i=>{const a=new On(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new On(n,0),i=this.Zr.firstAfterOrEqual(r);return Y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(e){this.ri=e,this.docs=(function(){return new St(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():xt.newInvalidDocument(n))}getEntries(e,n){let r=xr();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():xt.newInvalidDocument(i))})),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=xr();const u=n.path,l=new ge(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(l);for(;f.hasNext();){const{key:h,value:{document:m}}=f.getNext();if(!u.isPrefixOf(h.path))break;h.path.length>u.length+1||US(WL(m),r)<=0||(i.has(m.key)||Wm(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,n,r,i){be(9500)}ii(e,n){return Y.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new XW(this)}getSize(e){return Y.resolve(this.size)}}class XW extends m4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Y.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(e){this.persistence=e,this.si=new ws((n=>ul(n)),Gm),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new s1,this.targetCount=0,this.ai=dl.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Y.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new dl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Pr(n),Y.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((u,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),Y.waitFor(a).next((()=>i))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((u=>{a.push(i.markPotentiallyOrphaned(e,u))})),Y.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n){this.ui={},this.overlays={},this.ci=new Sr(0),this.li=!1,this.li=!0,this.hi=new WW,this.referenceDelegate=e(this),this.Pi=new JW(this),this.indexManager=new VW,this.remoteDocumentCache=(function(i){return new QW(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new i4(n),this.Ii=new GW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KW,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new YW(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const i=new ZW(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return Y.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class ZW extends QL{constructor(e){super(),this.currentSequenceNumber=e}}class p_{constructor(e){this.persistence=e,this.Ri=new s1,this.Vi=null}static mi(e){return new p_(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(r=>{const i=ge.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Y.or([()=>Y.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Xy{constructor(e,n){this.persistence=e,this.pi=new ws((r=>or(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=d4(this,n)}static mi(e,n){return new Xy(e,n)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Y.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?Y.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(u=>this.br(e,u,n).next((l=>{l||(r++,a.removeEntry(u,xe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ay(e.data.value)),n}br(e,n,r){return Y.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Y.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eY{constructor(e){this.serializer=e}k(e,n,r,i){const a=new i_("createOrUpgrade",n);r<1&&i>=1&&((function(f){f.createObjectStore(Hm)})(e),(function(f){f.createObjectStore(cm,{keyPath:gK}),f.createObjectStore(Di,{keyPath:BO,autoIncrement:!0}).createIndex(zu,qO,{unique:!0}),f.createObjectStore(nf)})(e),CD(e),(function(f){f.createObjectStore(Du)})(e));let u=Y.resolve();return r<3&&i>=3&&(r!==0&&((function(f){f.deleteObjectStore(af),f.deleteObjectStore(rf),f.deleteObjectStore(Ju)})(e),CD(e)),u=u.next((()=>(function(f){const h=f.store(Ju),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xe.min().toTimestamp(),targetCount:0};return h.put($y,m)})(a)))),r<4&&i>=4&&(r!==0&&(u=u.next((()=>(function(f,h){return h.store(Di).J().next((p=>{f.deleteObjectStore(Di),f.createObjectStore(Di,{keyPath:BO,autoIncrement:!0}).createIndex(zu,qO,{unique:!0});const v=h.store(Di),b=p.map((E=>v.put(E)));return Y.waitFor(b)}))})(e,a)))),u=u.next((()=>{(function(f){f.createObjectStore(sf,{keyPath:SK})})(e)}))),r<5&&i>=5&&(u=u.next((()=>this.yi(a)))),r<6&&i>=6&&(u=u.next((()=>((function(f){f.createObjectStore(fm)})(e),this.wi(a))))),r<7&&i>=7&&(u=u.next((()=>this.Si(a)))),r<8&&i>=8&&(u=u.next((()=>this.bi(e,a)))),r<9&&i>=9&&(u=u.next((()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(u=u.next((()=>this.Di(a)))),r<11&&i>=11&&(u=u.next((()=>{(function(f){f.createObjectStore(a_,{keyPath:IK})})(e),(function(f){f.createObjectStore(s_,{keyPath:xK})})(e)}))),r<12&&i>=12&&(u=u.next((()=>{(function(f){const h=f.createObjectStore(o_,{keyPath:kK});h.createIndex(VT,MK,{unique:!1}),h.createIndex(ij,VK,{unique:!1})})(e)}))),r<13&&i>=13&&(u=u.next((()=>(function(f){const h=f.createObjectStore(Fy,{keyPath:vK});h.createIndex(Ey,_K),h.createIndex(ej,bK)})(e))).next((()=>this.Ci(e,a))).next((()=>e.deleteObjectStore(Du)))),r<14&&i>=14&&(u=u.next((()=>this.Fi(e,a)))),r<15&&i>=15&&(u=u.next((()=>(function(f){f.createObjectStore(zS,{keyPath:RK,autoIncrement:!0}).createIndex(MT,PK,{unique:!1}),f.createObjectStore(Hd,{keyPath:CK}).createIndex(nj,OK,{unique:!1}),f.createObjectStore(Gd,{keyPath:DK}).createIndex(rj,NK,{unique:!1})})(e)))),r<16&&i>=16&&(u=u.next((()=>{n.objectStore(Hd).clear()})).next((()=>{n.objectStore(Gd).clear()}))),r<17&&i>=17&&(u=u.next((()=>{(function(f){f.createObjectStore(FS,{keyPath:LK})})(e)}))),r<18&&i>=18&&wV()&&(u=u.next((()=>{n.objectStore(Hd).clear()})).next((()=>{n.objectStore(Gd).clear()}))),u}wi(e){let n=0;return e.store(Du).ee(((r,i)=>{n+=Qy(i)})).next((()=>{const r={byteSize:n};return e.store(fm).put(kT,r)}))}yi(e){const n=e.store(cm),r=e.store(Di);return n.J().next((i=>Y.forEach(i,(a=>{const u=IDBKeyRange.bound([a.userId,bo],[a.userId,a.lastAcknowledgedBatchId]);return r.J(zu,u).next((l=>Y.forEach(l,(f=>{Ie(f.userId===a.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const h=Lu(this.serializer,f);return l4(e,a.userId,h).next((()=>{}))}))))}))))}Si(e){const n=e.store(af),r=e.store(Du);return e.store(Ju).get($y).next((i=>{const a=[];return r.ee(((u,l)=>{const f=new We(u),h=(function(p){return[0,or(p)]})(f);a.push(n.get(h).next((m=>m?Y.resolve():(p=>n.put({targetId:0,path:or(p),sequenceNumber:i.highestListenSequenceNumber}))(f))))})).next((()=>Y.waitFor(a)))}))}bi(e,n){e.createObjectStore(hm,{keyPath:AK});const r=n.store(hm),i=new a1,a=u=>{if(i.add(u)){const l=u.lastSegment(),f=u.popLast();return r.put({collectionId:l,parent:or(f)})}};return n.store(Du).ee({X:!0},((u,l)=>{const f=new We(u);return a(f.popLast())})).next((()=>n.store(nf).ee({X:!0},(([u,l,f],h)=>{const m=ma(l);return a(m.popLast())}))))}Di(e){const n=e.store(rf);return n.ee(((r,i)=>{const a=Nd(i),u=a4(this.serializer,a);return n.put(u)}))}Ci(e,n){const r=n.store(Du),i=[];return r.ee(((a,u)=>{const l=n.store(Fy),f=(function(p){return p.document?new ge(We.fromString(p.document.name).popFirst(5)):p.noDocument?ge.fromSegments(p.noDocument.path):p.unknownDocument?ge.fromSegments(p.unknownDocument.path):be(36783)})(u).path.toArray(),h={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(l.put(h))})).next((()=>Y.waitFor(i)))}Fi(e,n){const r=n.store(Di),i=p4(this.serializer),a=new o1(p_.mi,this.serializer.yt);return r.J().next((u=>{const l=new Map;return u.forEach((f=>{let h=l.get(f.userId)??qe();Lu(this.serializer,f).keys().forEach((m=>h=h.add(m))),l.set(f.userId,h)})),Y.forEach(l,((f,h)=>{const m=new Nn(h),p=d_.wt(this.serializer,m),v=a.getIndexManager(m),b=m_.wt(m,this.serializer,v,a.referenceDelegate);return new g4(i,b,p,v).recalculateAndSaveOverlaysForDocumentKeys(new LT(n,Sr.ce),f).next()}))}))}}function CD(t){t.createObjectStore(af,{keyPath:EK}).createIndex(qS,TK,{unique:!0}),t.createObjectStore(rf,{keyPath:"targetId"}).createIndex(tj,wK,{unique:!0}),t.createObjectStore(Ju)}const so="IndexedDbPersistence",Iw=18e5,xw=5e3,Rw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",y4="main";class u1{constructor(e,n,r,i,a,u,l,f,h,m,p=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=a,this.window=u,this.document=l,this.xi=h,this.Oi=m,this.Ni=p,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=v=>Promise.resolve(),!u1.v())throw new le(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zW(this,i),this.$i=n+y4,this.serializer=new i4(f),this.Ui=new ya(this.$i,this.Ni,new eY(this.serializer)),this.hi=new CW,this.Pi=new jW(this.referenceDelegate,this.serializer),this.remoteDocumentCache=p4(this.serializer),this.Ii=new PW,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,m===!1&&Xt(so,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new le(te.FAILED_PRECONDITION,Rw);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Sr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Qg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(Uo(e))return fe(so,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return fe(so,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return vd(e).get(Sc).next((n=>Y.resolve(this.es(n))))}ts(e){return Qg(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,Iw)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=wn(n,sf);return r.J().next((i=>{const a=this.ss(i,Iw),u=i.filter((l=>a.indexOf(l)===-1));return Y.forEach(u,(l=>r.delete(l.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Y.resolve(!0):vd(e).get(Sc).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,xw)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new le(te.FAILED_PRECONDITION,Rw);return!1}}return!(!this.networkEnabled||!this.inForeground)||Qg(e).J().next((r=>this.ss(r,xw).find((i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,u=!this.inForeground&&i.inForeground,l=this.networkEnabled===i.networkEnabled;if(a||u&&l)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&fe(so,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Hm,sf],(e=>{const n=new LT(e,Sr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>Qg(e).J().next((n=>this.ss(n,Iw).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return m_.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new LW(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return d_.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){fe(so,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",a=(function(f){return f===18?BK:f===17?uj:f===16?UK:f===15?$S:f===14?oj:f===13?sj:f===12?jK:f===11?aj:void be(60245)})(this.Ni);let u;return this.Ui.runTransaction(e,i,a,(l=>(u=new LT(l,this.ci?this.ci.next():Sr.ce),n==="readwrite-primary"?this.Hi(u).next((f=>!!f||this.Yi(u))).next((f=>{if(!f)throw Xt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new le(te.FAILED_PRECONDITION,YL);return r(u)})).next((f=>this.Xi(u).next((()=>f)))):this.Is(u).next((()=>r(u)))))).then((l=>(u.raiseOnCommittedEvent(),l)))}Is(e){return vd(e).get(Sc).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,xw)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new le(te.FAILED_PRECONDITION,Rw)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vd(e).put(Sc,n)}static v(){return ya.v()}Zi(e){const n=vd(e);return n.get(Sc).next((r=>this.es(r)?(fe(so,"Releasing primary lease."),n.delete(Sc)):Y.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Xt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;bV()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return fe(so,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Xt(so,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Xt("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function vd(t){return wn(t,Hm)}function Qg(t){return wn(t,sf)}function l1(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=qe(),i=qe();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new c1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return bV()?8:XL(jt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new tY;return this.Ss(e,n,u).next((l=>{if(a.result=l,this.Vs)return this.bs(e,n,u,l.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(kc()<=Ke.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Mc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(kc()<=Ke.DEBUG&&fe("QueryEngine","Query:",Mc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(kc()<=Ke.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Mc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(n))):Y.resolve())}ys(e,n){if(eD(n))return Y.resolve(null);let r=yr(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Ky(n,null,"F"),r=yr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=qe(...a);return this.ps.getDocuments(e,u).next((l=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,l);return this.Cs(n,h,u,f.readTime)?this.ys(e,Ky(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,i){return eD(n)||i.isEqual(xe.min())?Y.resolve(null):this.ps.getDocuments(e,r).next((a=>{const u=this.Ds(n,a);return this.Cs(n,u,r,i)?Y.resolve(null):(kc()<=Ke.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Mc(n)),this.vs(e,u,n,KL(i,tf)).next((l=>l)))}))}Ds(e,n){let r=new ht(Pj(e));return n.forEach(((i,a)=>{Wm(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return kc()<=Ke.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Mc(n)),this.ps.getDocumentsMatchingQuery(e,n,Xr.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="LocalStore",nY=3e8;class rY{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new St(je),this.xs=new ws((a=>ul(a)),Gm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function _4(t,e,n,r){return new rY(t,e,n,r)}async function b4(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],l=[];let f=qe();for(const h of i){u.push(h.batchId);for(const m of h.mutations)f=f.add(m.key)}for(const h of a){l.push(h.batchId);for(const m of h.mutations)f=f.add(m.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:u,addedBatchIds:l})))}))}))}function iY(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,f,h,m){const p=h.batch,v=p.keys();let b=Y.resolve();return v.forEach((E=>{b=b.next((()=>m.getEntry(f,E))).next((T=>{const A=h.docVersions.get(E);Ie(A!==null,48541),T.version.compareTo(A)<0&&(p.applyToRemoteDocument(T,h),T.isValidDocument()&&(T.setReadTime(h.commitVersion),m.addEntry(T)))}))})),b.next((()=>l.mutationQueue.removeMutationBatch(f,p)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let f=qe();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(f=f.add(l.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function w4(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function aY(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach(((m,p)=>{const v=i.get(p);if(!v)return;l.push(n.Pi.removeMatchingKeys(a,m.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(a,m.addedDocuments,p))));let b=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?b=b.withResumeToken(Ht.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):m.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(m.resumeToken,r)),i=i.insert(p,b),(function(T,A,R){return T.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=nY?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0})(v,b,m)&&l.push(n.Pi.updateTargetData(a,b))}));let f=xr(),h=qe();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))})),l.push(E4(a,u,e.documentUpdates).next((m=>{f=m.ks,h=m.qs}))),!r.isEqual(xe.min())){const m=n.Pi.getLastRemoteSnapshotVersion(a).next((p=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));l.push(m)}return Y.waitFor(l).next((()=>u.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,h))).next((()=>f))})).then((a=>(n.Ms=i,a)))}function E4(t,e,n){let r=qe(),i=qe();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let u=xr();return n.forEach(((l,f)=>{const h=a.get(l);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),f.isNoDocument()&&f.version.isEqual(xe.min())?(e.removeEntry(l,f.readTime),u=u.insert(l,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),u=u.insert(l,f)):fe(f1,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",f.version)})),{ks:u,qs:i}}))}function sY(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=bo),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function df(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,Y.resolve(i)):n.Pi.allocateTargetId(r).next((u=>(i=new ns(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function mf(t,e,n){const r=ye(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!Uo(u))throw u;fe(f1,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Jy(t,e,n){const r=ye(t);let i=xe.min(),a=qe();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,h,m){const p=ye(f),v=p.xs.get(m);return v!==void 0?Y.resolve(p.Ms.get(v)):p.Pi.getTargetData(h,m)})(r,u,yr(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,l.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,n?i:xe.min(),n?a:qe()))).next((l=>(S4(r,Rj(e),l),{documents:l,Qs:a})))))}function T4(t,e){const n=ye(t),r=ye(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(a=>r.At(a,e).next((u=>u?u.target:null))))}function A4(t,e){const n=ye(t),r=n.Os.get(e)||xe.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.Ns.getAllFromCollectionGroup(i,e,KL(r,tf),Number.MAX_SAFE_INTEGER))).then((i=>(S4(n,e,i),i)))}function S4(t,e,n){let r=t.Os.get(e)||xe.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}async function oY(t,e,n,r){const i=ye(t);let a=qe(),u=xr();for(const h of n){const m=e.$s(h.metadata.name);h.document&&(a=a.add(m));const p=e.Us(h);p.setReadTime(e.Ks(h.metadata.readTime)),u=u.insert(m,p)}const l=i.Ns.newChangeBuffer({trackRemovals:!0}),f=await df(i,(function(m){return yr(Uf(We.fromString(`__bundle__/docs/${m}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(h=>E4(h,l,u).next((m=>(l.apply(h),m))).next((m=>i.Pi.removeMatchingKeysForTargetId(h,f.targetId).next((()=>i.Pi.addMatchingKeys(h,a,f.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,m.ks,m.qs))).next((()=>m.ks))))))}async function uY(t,e,n=qe()){const r=await df(t,yr(r1(e.bundledQuery))),i=ye(t);return i.persistence.runTransaction("Save named query","readwrite",(a=>{const u=Jt(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ii.saveNamedQuery(a,e);const l=r.withResumeToken(Ht.EMPTY_BYTE_STRING,u);return i.Ms=i.Ms.insert(l.targetId,l),i.Pi.updateTargetData(a,l).next((()=>i.Pi.removeMatchingKeysForTargetId(a,r.targetId))).next((()=>i.Pi.addMatchingKeys(a,n,r.targetId))).next((()=>i.Ii.saveNamedQuery(a,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="firestore_clients";function OD(t,e){return`${I4}_${t}_${e}`}const x4="firestore_mutations";function DD(t,e,n){let r=`${x4}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const R4="firestore_targets";function Pw(t,e){return`${R4}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="SharedClientState";class Zy{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let a,u=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return u&&i.error&&(u=typeof i.error.message=="string"&&typeof i.error.code=="string",u&&(a=new le(i.error.code,i.error.message))),u?new Zy(e,n,i.state,a):(Xt(ua,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qd{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,a=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return a&&r.error&&(a=typeof r.error.message=="string"&&typeof r.error.code=="string",a&&(i=new le(r.error.code,r.error.message))),a?new Qd(e,r.state,i):(Xt(ua,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ev{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,a=YS();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=JL(r.activeTargetIds[u]),a=a.add(r.activeTargetIds[u]);return i?new ev(e,a):(Xt(ua,`Failed to parse client data for instance '${e}': ${n}`),null)}}class h1{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new h1(n.clientId,n.onlineState):(Xt(ua,`Failed to parse online state: ${e}`),null)}}class JT{constructor(){this.activeTargetIds=YS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cw{constructor(e,n,r,i,a){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new St(je),this.started=!1,this.Xs=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.eo=OD(this.persistenceKey,this.Js),this.no=(function(f){return`firestore_sequence_number_${f}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new JT),this.ro=new RegExp(`^${I4}_${u}_([^_]*)$`),this.io=new RegExp(`^${x4}_${u}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${R4}_${u}_(\\d+)$`),this.oo=(function(f){return`firestore_online_state_${f}`})(this.persistenceKey),this._o=(function(f){return`firestore_bundle_loaded_v2_${f}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(OD(this.persistenceKey,r));if(i){const a=ev.Ws(r,i);a&&(this.Zs=this.Zs.insert(a.clientId,a))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Pw(this.persistenceKey,e));if(i){const a=Qd.Ws(e,i);a&&(r=a.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Pw(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return fe(ua,"READ",e,n),n}setItem(e,n){fe(ua,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){fe(ua,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(fe(ua,"EVENT",n.key,n.newValue),n.key===this.eo)return void Xt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=(function(a){let u=Sr.ce;if(a!=null)try{const l=JSON.parse(a);Ie(typeof l=="number",30636,{So:a}),u=l}catch(l){Xt(ua,"Failed to read sequence number from WebStorage",l)}return u})(n.newValue);r!==Sr.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(n)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new Zy(this.currentUser,e,n,r),a=DD(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Gs())}Po(e){const n=DD(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=Pw(this.persistenceKey,e),a=new Qd(e,n,r);this.setItem(i,a.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return ev.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),a=r[2]!==void 0?r[2]:null;return Zy.Ws(new Nn(a),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return Qd.Ws(i,n)}uo(e){return h1.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);fe(ua,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),a=this.lo(r),u=[],l=[];return a.forEach((f=>{i.has(f)||u.push(f)})),i.forEach((f=>{a.has(f)||l.push(f)})),this.syncEngine.Fo(u,l).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=YS();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class P4{constructor(){this.Mo=new JT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new JT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lY{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="ConnectivityMonitor";class kD{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(ND,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(ND,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xg=null;function ZT(){return Xg===null?Xg=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xg++,"0x"+Xg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="RestConnection",cY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fY{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===jT?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const u=ZT(),l=this.zo(e,n.toUriEncodedString());fe(Ow,`Sending RPC '${e}' ${u}:`,l,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,a);const{host:h}=new URL(l),m=Nf(h);return this.Jo(e,l,f,r,m).then((p=>(fe(Ow,`Received RPC '${e}' ${u}: `,p),p)),(p=>{throw Ta(Ow,`RPC '${e}' ${u} failed with error: `,p,"url: ",l,"request:",r),p}))}Ho(e,n,r,i,a,u){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=cY[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="WebChannelConnection";class dY extends fY{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const u=ZT();return new Promise(((l,f)=>{const h=new VL;h.setWithCredentials(!0),h.listenOnce(LL.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case _y.NO_ERROR:const p=h.getResponseJson();fe(tr,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(p)),l(p);break;case _y.TIMEOUT:fe(tr,`RPC '${e}' ${u} timed out`),f(new le(te.DEADLINE_EXCEEDED,"Request time out"));break;case _y.HTTP_ERROR:const v=h.getStatus();if(fe(tr,`RPC '${e}' ${u} failed with status:`,v,"response text:",h.getResponseText()),v>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const E=b==null?void 0:b.error;if(E&&E.status&&E.message){const T=(function(R){const C=R.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(C)>=0?C:te.UNKNOWN})(E.status);f(new le(T,E.message))}else f(new le(te.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new le(te.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:u,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{fe(tr,`RPC '${e}' ${u} completed.`)}}));const m=JSON.stringify(i);fe(tr,`RPC '${e}' ${u} sending request:`,i),h.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=ZT(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=BL(),l=UL(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const m=a.join("");fe(tr,`Creating RPC '${e}' stream ${i}: ${m}`,f);const p=u.createWebChannel(m,f);this.I_(p);let v=!1,b=!1;const E=new hY({Yo:A=>{b?fe(tr,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(v||(fe(tr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),fe(tr,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Zo:()=>p.close()}),T=(A,R,C)=>{A.listen(R,(P=>{try{C(P)}catch(U){setTimeout((()=>{throw U}),0)}}))};return T(p,Cd.EventType.OPEN,(()=>{b||(fe(tr,`RPC '${e}' stream ${i} transport opened.`),E.o_())})),T(p,Cd.EventType.CLOSE,(()=>{b||(b=!0,fe(tr,`RPC '${e}' stream ${i} transport closed`),E.a_(),this.E_(p))})),T(p,Cd.EventType.ERROR,(A=>{b||(b=!0,Ta(tr,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),E.a_(new le(te.UNAVAILABLE,"The operation could not be completed")))})),T(p,Cd.EventType.MESSAGE,(A=>{var R;if(!b){const C=A.data[0];Ie(!!C,16349);const P=C,U=(P==null?void 0:P.error)||((R=P[0])==null?void 0:R.error);if(U){fe(tr,`RPC '${e}' stream ${i} received error:`,U);const L=U.status;let $=(function(M){const B=on[M];if(B!==void 0)return zj(B)})(L),D=U.message;$===void 0&&($=te.INTERNAL,D="Unknown error status: "+L+" with message "+U.message),b=!0,E.a_(new le($,D)),p.close()}else fe(tr,`RPC '${e}' stream ${i} received:`,C),E.u_(C)}})),T(l,jL.STAT_EVENT,(A=>{A.stat===OT.PROXY?fe(tr,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===OT.NOPROXY&&fe(tr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(){return typeof window<"u"?window:null}function Py(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t){return new vW(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="PersistentStream";class O4{constructor(e,n,r,i,a,u,l,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=l,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new d1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Xt(n.toString()),Xt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new le(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(MD,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(MD,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mY extends O4{constructor(e,n,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,u),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=wW(this.serializer,e),r=(function(a){if(!("targetChange"in a))return xe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?xe.min():u.readTime?Jt(u.readTime):xe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=KT(this.serializer),n.addTarget=(function(a,u){let l;const f=u.target;if(l=Hy(f)?{documents:Jj(a,f)}:{query:Zj(a,f).ft},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=Gj(a,u.resumeToken);const h=HT(a,u.expectedCount);h!==null&&(l.expectedCount=h)}else if(u.snapshotVersion.compareTo(xe.min())>0){l.readTime=hf(a,u.snapshotVersion.toTimestamp());const h=HT(a,u.expectedCount);h!==null&&(l.expectedCount=h)}return l})(this.serializer,e);const r=TW(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=KT(this.serializer),n.removeTarget=e,this.q_(n)}}class pY extends O4{constructor(e,n,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=EW(e.writeResults,e.commitTime),r=Jt(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=KT(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>vm(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{}class yY extends gY{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new le(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,GT(n,r),i,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(te.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,l])=>this.connection.Ho(e,GT(n,r),i,u,l,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(te.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class vY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xt(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml="RemoteStore";class _Y{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{qo(this)&&(fe(ml,"Restarting streams for network reachability change."),await(async function(f){const h=ye(f);h.Ea.add(4),await zf(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Zm(h)})(this))}))})),this.Ra=new vY(r,i)}}async function Zm(t){if(qo(t))for(const e of t.da)await e(!0)}async function zf(t){for(const e of t.da)await e(!1)}function g_(t,e){const n=ye(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),g1(n)?p1(n):$f(n).O_()&&m1(n,e))}function pf(t,e){const n=ye(t),r=$f(n);n.Ia.delete(e),r.O_()&&D4(n,e),n.Ia.size===0&&(r.O_()?r.L_():qo(n)&&n.Ra.set("Unknown"))}function m1(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$f(t).Y_(e)}function D4(t,e){t.Va.Ue(e),$f(t).Z_(e)}function p1(t){t.Va=new mW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),$f(t).start(),t.Ra.ua()}function g1(t){return qo(t)&&!$f(t).x_()&&t.Ia.size>0}function qo(t){return ye(t).Ea.size===0}function N4(t){t.Va=void 0}async function bY(t){t.Ra.set("Online")}async function wY(t){t.Ia.forEach(((e,n)=>{m1(t,e)}))}async function EY(t,e){N4(t),g1(t)?(t.Ra.ha(e),p1(t)):t.Ra.set("Unknown")}async function TY(t,e,n){if(t.Ra.set("Online"),e instanceof Hj&&e.state===2&&e.cause)try{await(async function(i,a){const u=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,u),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(r){fe(ml,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await tv(t,r)}else if(e instanceof xy?t.Va.Ze(e):e instanceof $j?t.Va.st(e):t.Va.tt(e),!n.isEqual(xe.min()))try{const r=await w4(t.localStore);n.compareTo(r)>=0&&await(function(a,u){const l=a.Va.Tt(u);return l.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const m=a.Ia.get(h);m&&a.Ia.set(h,m.withResumeToken(f.resumeToken,u))}})),l.targetMismatches.forEach(((f,h)=>{const m=a.Ia.get(f);if(!m)return;a.Ia.set(f,m.withResumeToken(Ht.EMPTY_BYTE_STRING,m.snapshotVersion)),D4(a,f);const p=new ns(m.target,f,h,m.sequenceNumber);m1(a,p)})),a.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){fe(ml,"Failed to raise snapshot:",r),await tv(t,r)}}async function tv(t,e,n){if(!Uo(e))throw e;t.Ea.add(1),await zf(t),t.Ra.set("Offline"),n||(n=()=>w4(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{fe(ml,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Zm(t)}))}function k4(t,e){return e().catch((n=>tv(t,n,e)))}async function Ff(t){const e=ye(t),n=Do(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bo;for(;AY(e);)try{const i=await sY(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,SY(e,i)}catch(i){await tv(e,i)}M4(e)&&V4(e)}function AY(t){return qo(t)&&t.Ta.length<10}function SY(t,e){t.Ta.push(e);const n=Do(t);n.O_()&&n.X_&&n.ea(e.mutations)}function M4(t){return qo(t)&&!Do(t).x_()&&t.Ta.length>0}function V4(t){Do(t).start()}async function IY(t){Do(t).ra()}async function xY(t){const e=Do(t);for(const n of t.Ta)e.ea(n.mutations)}async function RY(t,e,n){const r=t.Ta.shift(),i=ZS.from(r,e,n);await k4(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Ff(t)}async function PY(t,e){e&&Do(t).X_&&await(async function(r,i){if((function(u){return qj(u)&&u!==te.ABORTED})(i.code)){const a=r.Ta.shift();Do(r).B_(),await k4(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Ff(r)}})(t,e),M4(t)&&V4(t)}async function VD(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),fe(ml,"RemoteStore received new credentials");const r=qo(n);n.Ea.add(3),await zf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Zm(n)}async function eA(t,e){const n=ye(t);e?(n.Ea.delete(2),await Zm(n)):e||(n.Ea.add(2),await zf(n),n.Ra.set("Unknown"))}function $f(t){return t.ma||(t.ma=(function(n,r,i){const a=ye(n);return a.sa(),new mY(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:bY.bind(null,t),t_:wY.bind(null,t),r_:EY.bind(null,t),H_:TY.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),g1(t)?p1(t):t.Ra.set("Unknown")):(await t.ma.stop(),N4(t))}))),t.ma}function Do(t){return t.fa||(t.fa=(function(n,r,i){const a=ye(n);return a.sa(),new pY(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:IY.bind(null,t),r_:PY.bind(null,t),ta:xY.bind(null,t),na:RY.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Ff(t)):(await t.fa.stop(),t.Ta.length>0&&(fe(ml,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const u=Date.now()+r,l=new y1(e,n,u,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hf(t,e){if(Xt("AsyncQueue",`${e}: ${t}`),Uo(t))return new le(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{static emptySet(e){return new Kc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=Od(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Kc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Kc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.ga=new St(ge.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class gf{constructor(e,n,r,i,a,u,l,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=l,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,a){const u=[];return n.forEach((l=>{u.push({type:0,doc:l})})),new gf(e,n,Kc.emptySet(n),u,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Km(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CY{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class OY{constructor(){this.queries=jD(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ye(n),a=i.queries;i.queries=jD(),a.forEach(((u,l)=>{for(const f of l.Sa)f.onError(r)}))})(this,new le(te.ABORTED,"Firestore shutting down"))}}function jD(){return new ws((t=>xj(t)),Km)}async function v1(t,e){const n=ye(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new CY,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(u){const l=Hf(u,`Initialization of query '${Mc(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&b1(n)}async function _1(t,e){const n=ye(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function DY(t,e){const n=ye(t);let r=!1;for(const i of e){const a=i.query,u=n.queries.get(a);if(u){for(const l of u.Sa)l.Fa(i)&&(r=!0);u.wa=i}}r&&b1(n)}function NY(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function b1(t){t.Ca.forEach((e=>{e.next()}))}var tA,UD;(UD=tA||(tA={})).Ma="default",UD.Cache="cache";class w1{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new gf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=gf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tA.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kY{constructor(e,n){this.Qa=e,this.byteLength=n}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.serializer=e}$s(e){return va(this.serializer,e)}Us(e){return e.metadata.exists?Xj(this.serializer,e.document,!1):xt.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return Jt(e)}}class MY{constructor(e,n){this.Ua=e,this.serializer=n,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=L4(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++n;const r=We.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,{...this.progress}):null}za(e){const n=new Map,r=new BD(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.$s(i.metadata.name);for(const u of i.metadata.queries){const l=(n.get(u)||qe()).add(a);n.set(u,l)}}return n}async ja(e){const n=await oY(e,new BD(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)await uY(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:n}}}function L4(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.key=e}}class U4{constructor(e){this.key=e}}class B4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=Pj(e),this.tu=new Kc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new LD,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,u=i,l=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,p)=>{const v=i.get(m),b=Wm(this.query,p)?p:null,E=!!v&&this.mutatedKeys.has(v.key),T=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let A=!1;v&&b?v.data.isEqual(b.data)?E!==T&&(r.track({type:3,doc:b}),A=!0):this.su(v,b)||(r.track({type:2,doc:b}),A=!0,(f&&this.eu(b,f)>0||h&&this.eu(b,h)<0)&&(l=!0)):!v&&b?(r.track({type:0,doc:b}),A=!0):v&&!b&&(r.track({type:1,doc:v}),A=!0,(f||h)&&(l=!0)),A&&(b?(u=u.add(b),a=T?a.add(m):a.delete(m)):(u=u.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const m=this.query.limitType==="F"?u.last():u.first();u=u.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{tu:u,iu:r,Cs:l,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((m,p)=>(function(b,E){const T=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:A})}};return T(b)-T(E)})(m.type,p.type)||this.eu(m.doc,p.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,h=f!==this.Za;return this.Za=f,u.length!==0||h?{snapshot:new gf(this.query,e.tu,a,u,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new LD,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new U4(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new j4(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return gf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const zo="SyncEngine";class VY{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class LY{constructor(e){this.key=e,this.hu=!1}}class jY{constructor(e,n,r,i,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ws((l=>xj(l)),Km),this.Iu=new Map,this.Eu=new Set,this.du=new St(ge.comparator),this.Au=new Map,this.Ru=new s1,this.Vu={},this.mu=new Map,this.fu=dl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UY(t,e,n=!0){const r=y_(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await q4(r,e,n,!0),i}async function BY(t,e){const n=y_(t);await q4(n,e,!0,!1)}async function q4(t,e,n,r){const i=await df(t.localStore,yr(e)),a=i.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let l;return r&&(l=await E1(t,e,a,u==="current",i.resumeToken)),t.isPrimaryClient&&n&&g_(t.remoteStore,i),l}async function E1(t,e,n,r,i){t.pu=(p,v,b)=>(async function(T,A,R,C){let P=A.view.ru(R);P.Cs&&(P=await Jy(T.localStore,A.query,!1).then((({documents:D})=>A.view.ru(D,P))));const U=C&&C.targetChanges.get(A.targetId),L=C&&C.targetMismatches.get(A.targetId)!=null,$=A.view.applyChanges(P,T.isPrimaryClient,U,L);return nA(T,A.targetId,$.au),$.snapshot})(t,p,v,b);const a=await Jy(t.localStore,e,!0),u=new B4(e,a.Qs),l=u.ru(a.documents),f=Xm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=u.applyChanges(l,t.isPrimaryClient,f);nA(t,n,h.au);const m=new VY(e,n,u);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function qY(t,e,n){const r=ye(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((u=>!Km(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await mf(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&pf(r.remoteStore,i.targetId),yf(r,i.targetId)})).catch(jo)):(yf(r,i.targetId),await mf(r.localStore,i.targetId,!0))}async function zY(t,e){const n=ye(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),pf(n.remoteStore,r.targetId))}async function FY(t,e,n){const r=I1(t);try{const i=await(function(u,l){const f=ye(u),h=st.now(),m=l.reduce(((b,E)=>b.add(E.key)),qe());let p,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let E=xr(),T=qe();return f.Ns.getEntries(b,m).next((A=>{E=A,E.forEach(((R,C)=>{C.isValidDocument()||(T=T.add(R))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,E))).next((A=>{p=A;const R=[];for(const C of l){const P=fW(C,p.get(C.key).overlayedDocument);P!=null&&R.push(new Es(C.key,P,vj(P.value.mapValue),kt.exists(!0)))}return f.mutationQueue.addMutationBatch(b,h,R,l)})).next((A=>{v=A;const R=A.applyToLocalDocumentSet(p,T);return f.documentOverlayCache.saveOverlays(b,A.batchId,R)}))})).then((()=>({batchId:v.batchId,changes:Oj(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(u,l,f){let h=u.Vu[u.currentUser.toKey()];h||(h=new St(je)),h=h.insert(l,f),u.Vu[u.currentUser.toKey()]=h})(r,i.batchId,n),await Ts(r,i.changes),await Ff(r.remoteStore)}catch(i){const a=Hf(i,"Failed to persist write");n.reject(a)}}async function z4(t,e){const n=ye(t);try{const r=await aY(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const u=n.Au.get(a);u&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.hu=!0:i.modifiedDocuments.size>0?Ie(u.hu,14607):i.removedDocuments.size>0&&(Ie(u.hu,42227),u.hu=!1))})),await Ts(n,r,e)}catch(r){await jo(r)}}function qD(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,u)=>{const l=u.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(u,l){const f=ye(u);f.onlineState=l;let h=!1;f.queries.forEach(((m,p)=>{for(const v of p.Sa)v.va(l)&&(h=!0)})),h&&b1(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $Y(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let u=new St(ge.comparator);u=u.insert(a,xt.newNoDocument(a,xe.min()));const l=qe().add(a),f=new Qm(xe.min(),new Map,new St(je),u,l);await z4(r,f),r.du=r.du.remove(a),r.Au.delete(e),S1(r)}else await mf(r.localStore,e,!1).then((()=>yf(r,e,n))).catch(jo)}async function HY(t,e){const n=ye(t),r=e.batch.batchId;try{const i=await iY(n.localStore,e);A1(n,r,null),T1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ts(n,i)}catch(i){await jo(i)}}async function GY(t,e,n){const r=ye(t);try{const i=await(function(u,l){const f=ye(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let m;return f.mutationQueue.lookupMutationBatch(h,l).next((p=>(Ie(p!==null,37113),m=p.keys(),f.mutationQueue.removeMutationBatch(h,p)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,m,l))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m))).next((()=>f.localDocuments.getDocuments(h,m)))}))})(r.localStore,e);A1(r,e,n),T1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ts(r,i)}catch(i){await jo(i)}}async function KY(t,e){const n=ye(t);qo(n.remoteStore)||fe(zo,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(u){const l=ye(u);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(f=>l.mutationQueue.getHighestUnacknowledgedBatchId(f)))})(n.localStore);if(r===bo)return void e.resolve();const i=n.mu.get(r)||[];i.push(e),n.mu.set(r,i)}catch(r){const i=Hf(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function T1(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function A1(t,e,n){const r=ye(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function yf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||F4(t,r)}))}function F4(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(pf(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),S1(t))}function nA(t,e,n){for(const r of n)r instanceof j4?(t.Ru.addReference(r.key,e),WY(t,r)):r instanceof U4?(fe(zo,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||F4(t,r.key)):be(19791,{wu:r})}function WY(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(fe(zo,"New document in limbo: "+n),t.Eu.add(r),S1(t))}function S1(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ge(We.fromString(e)),r=t.fu.next();t.Au.set(r,new LY(n)),t.du=t.du.insert(n,r),g_(t.remoteStore,new ns(yr(Uf(n.path)),r,"TargetPurposeLimboResolution",Sr.ce))}}async function Ts(t,e,n){const r=ye(t),i=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,f)=>{u.push(r.pu(f,e,n).then((h=>{var m;if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:(m=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(h){i.push(h);const p=c1.As(f.targetId,h);a.push(p)}})))})),await Promise.all(u),r.Pu.H_(i),await(async function(f,h){const m=ye(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Y.forEach(h,(v=>Y.forEach(v.Es,(b=>m.persistence.referenceDelegate.addReference(p,v.targetId,b))).next((()=>Y.forEach(v.ds,(b=>m.persistence.referenceDelegate.removeReference(p,v.targetId,b)))))))))}catch(p){if(!Uo(p))throw p;fe(f1,"Failed to update sequence numbers: "+p)}for(const p of h){const v=p.targetId;if(!p.fromCache){const b=m.Ms.get(v),E=b.snapshotVersion,T=b.withLastLimboFreeSnapshotVersion(E);m.Ms=m.Ms.insert(v,T)}}})(r.localStore,a))}async function YY(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){fe(zo,"User change. New user:",e.toKey());const r=await b4(n.localStore,e);n.currentUser=e,(function(a,u){a.mu.forEach((l=>{l.forEach((f=>{f.reject(new le(te.CANCELLED,u))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ts(n,r.Ls)}}function QY(t,e){const n=ye(t),r=n.Au.get(e);if(r&&r.hu)return qe().add(r.key);{let i=qe();const a=n.Iu.get(e);if(!a)return i;for(const u of a){const l=n.Tu.get(u);i=i.unionWith(l.view.nu)}return i}}async function XY(t,e){const n=ye(t),r=await Jy(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&nA(n,e.targetId,i.au),i}async function JY(t,e){const n=ye(t);return A4(n.localStore,e).then((r=>Ts(n,r)))}async function ZY(t,e,n,r){const i=ye(t),a=await(function(l,f){const h=ye(l),m=ye(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",(p=>m.er(p,f).next((v=>v?h.localDocuments.getDocuments(p,v):Y.resolve(null)))))})(i.localStore,e);a!==null?(n==="pending"?await Ff(i.remoteStore):n==="acknowledged"||n==="rejected"?(A1(i,e,r||null),T1(i,e),(function(l,f){ye(ye(l).mutationQueue).ir(f)})(i.localStore,e)):be(6720,"Unknown batchState",{Su:n}),await Ts(i,a)):fe(zo,"Cannot apply mutation batch with id: "+e)}async function eQ(t,e){const n=ye(t);if(y_(n),I1(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await zD(n,r.toArray());n.gu=!0,await eA(n.remoteStore,!0);for(const a of i)g_(n.remoteStore,a)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((a,u)=>{n.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then((()=>(yf(n,u),mf(n.localStore,u,!0)))),pf(n.remoteStore,u)})),await i,await zD(n,r),(function(u){const l=ye(u);l.Au.forEach(((f,h)=>{pf(l.remoteStore,h)})),l.Ru.Jr(),l.Au=new Map,l.du=new St(ge.comparator)})(n),n.gu=!1,await eA(n.remoteStore,!1)}}async function zD(t,e,n){const r=ye(t),i=[],a=[];for(const u of e){let l;const f=r.Iu.get(u);if(f&&f.length!==0){l=await df(r.localStore,yr(f[0]));for(const h of f){const m=r.Tu.get(h),p=await XY(r,m);p.snapshot&&a.push(p.snapshot)}}else{const h=await T4(r.localStore,u);l=await df(r.localStore,h),await E1(r,$4(h),u,!1,l.resumeToken)}i.push(l)}return r.Pu.H_(a),i}function $4(t){return Ij(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function tQ(t){return(function(n){return ye(ye(n).persistence).Ts()})(ye(t).localStore)}async function nQ(t,e,n,r){const i=ye(t);if(i.gu)return void fe(zo,"Ignoring unexpected query state notification.");const a=i.Iu.get(e);if(a&&a.length>0)switch(n){case"current":case"not-current":{const u=await A4(i.localStore,Rj(a[0])),l=Qm.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Ht.EMPTY_BYTE_STRING);await Ts(i,u,l);break}case"rejected":await mf(i.localStore,e,!0),yf(i,e,r);break;default:be(64155,n)}}async function rQ(t,e,n){const r=y_(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){fe(zo,"Adding an already active target "+i);continue}const a=await T4(r.localStore,i),u=await df(r.localStore,a);await E1(r,$4(a),u.targetId,!1,u.resumeToken),g_(r.remoteStore,u)}for(const i of n)r.Iu.has(i)&&await mf(r.localStore,i,!1).then((()=>{pf(r.remoteStore,i),yf(r,i)})).catch(jo)}}function y_(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=z4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$Y.bind(null,e),e.Pu.H_=DY.bind(null,e.eventManager),e.Pu.yu=NY.bind(null,e.eventManager),e}function I1(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GY.bind(null,e),e}function iQ(t,e,n){const r=ye(t);(async function(a,u,l){try{const f=await u.getMetadata();if(await(function(b,E){const T=ye(b),A=Jt(E.createTime);return T.persistence.runTransaction("hasNewerBundle","readonly",(R=>T.Ii.getBundleMetadata(R,E.id))).then((R=>!!R&&R.createTime.compareTo(A)>=0))})(a.localStore,f))return await u.close(),l._completeWith((function(b){return{taskState:"Success",documentsLoaded:b.totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}})(f)),Promise.resolve(new Set);l._updateProgress(L4(f));const h=new MY(f,u.serializer);let m=await u.bu();for(;m;){const v=await h.Ga(m);v&&l._updateProgress(v),m=await u.bu()}const p=await h.ja(a.localStore);return await Ts(a,p.Ha,void 0),await(function(b,E){const T=ye(b);return T.persistence.runTransaction("Save bundle","readwrite",(A=>T.Ii.saveBundleMetadata(A,E)))})(a.localStore,f),l._completeWith(p.progress),Promise.resolve(p.Ja)}catch(f){return Ta(zo,`Loading bundle failed with ${f}`),l._failWith(f),Promise.resolve(new Set)}})(r,e,n).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class _m{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return _4(this.persistence,new v4,e.initialUser,this.serializer)}Cu(e){return new o1(p_.mi,this.serializer)}Du(e){return new P4}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_m.provider={build:()=>new _m};class aQ extends _m{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ie(this.persistence.referenceDelegate instanceof Xy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new h4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?rr.withCacheSize(this.cacheSizeBytes):rr.DEFAULT;return new o1((r=>Xy.mi(r,n)),this.serializer)}}class H4 extends _m{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await I1(this.xu.syncEngine),await Ff(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return _4(this.persistence,new v4,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new h4(r,e.asyncQueue,n)}Mu(e,n){const r=new mK(n,this.persistence);return new dK(e.asyncQueue,r)}Cu(e){const n=l1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?rr.withCacheSize(this.cacheSizeBytes):rr.DEFAULT;return new u1(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,C4(),Py(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new P4}}class sQ extends H4{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof Cw&&(this.sharedClientState.syncEngine={Co:ZY.bind(null,n),vo:nQ.bind(null,n),Fo:rQ.bind(null,n),Ts:tQ.bind(null,n),Do:JY.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await eQ(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=C4();if(!Cw.v(n))throw new le(te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=l1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Cw(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class bm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qD(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=YY.bind(null,this.syncEngine),await eA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new OY})()}createDatastore(e){const n=Jm(e.databaseInfo.databaseId),r=(function(a){return new dY(a)})(e.databaseInfo);return(function(a,u,l,f){return new yY(a,u,l,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,u,l){return new _Y(r,i,a,u,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>qD(this.syncEngine,n,0)),(function(){return kD.v()?new kD:new lY})())}createSyncEngine(e,n){return(function(i,a,u,l,f,h,m){const p=new jY(i,a,u,l,f,h);return m&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=ye(i);fe(ml,"RemoteStore shutting down."),a.Ea.add(5),await zf(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}bm.provider={build:()=>new bm};function FD(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{constructor(e,n){this.Bu=e,this.serializer=n,this.metadata=new Qn,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const n=this.Lu.decode(e),r=Number(n);isNaN(r)&&this.Qu(`length string (${n}) is not valid number`);const i=await this.$u(r);return new kY(JSON.parse(i),e.length+r)}Uu(){return this.buffer.findIndex((e=>e===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const n=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uQ{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new le(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,a){const u=ye(i),l={documents:a.map((p=>ym(u.serializer,p)))},f=await u.Ho("BatchGetDocuments",u.serializer.databaseId,We.emptyPath(),l,a.length),h=new Map;f.forEach((p=>{const v=bW(u.serializer,p);h.set(v.key.toString(),v)}));const m=[];return a.forEach((p=>{const v=h.get(p.toString());Ie(!!v,55234,{key:p}),m.push(v)})),m})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new qf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=ge.fromPath(r);this.mutations.push(new XS(i,this.precondition(i)))})),await(async function(r,i){const a=ye(r),u={writes:i.map((l=>vm(a.serializer,l)))};await a.Go("Commit",a.serializer.databaseId,We.emptyPath(),u)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw be(50498,{Gu:e.constructor.name});n=xe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new le(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(xe.min())?kt.exists(!1):kt.updateTime(n):kt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(xe.min()))throw new le(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return kt.updateTime(n)}return kt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lQ{constructor(e,n,r,i,a){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.zu=r.maxAttempts,this.M_=new d1(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new uQ(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!$m(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!qj(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="FirestoreClient";class cQ{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nn.UNAUTHENTICATED,this.clientId=LS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{fe(No,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(fe(No,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Hf(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Dw(t,e){t.asyncQueue.verifyOperationInProgress(),fe(No,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await b4(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function $D(t,e){t.asyncQueue.verifyOperationInProgress();const n=await x1(t);fe(No,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>VD(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>VD(e.remoteStore,i))),t._onlineComponents=e}async function x1(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(No,"Using user provided OfflineComponentProvider");try{await Dw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Ta("Error using user provided cache. Falling back to memory cache: "+n),await Dw(t,new _m)}}else fe(No,"Using default OfflineComponentProvider"),await Dw(t,new aQ(void 0));return t._offlineComponents}async function __(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(No,"Using user provided OnlineComponentProvider"),await $D(t,t._uninitializedComponentsProvider._online)):(fe(No,"Using default OnlineComponentProvider"),await $D(t,new bm))),t._onlineComponents}function G4(t){return x1(t).then((e=>e.persistence))}function R1(t){return x1(t).then((e=>e.localStore))}function K4(t){return __(t).then((e=>e.remoteStore))}function P1(t){return __(t).then((e=>e.syncEngine))}function fQ(t){return __(t).then((e=>e.datastore))}async function vf(t){const e=await __(t),n=e.eventManager;return n.onListen=UY.bind(null,e.syncEngine),n.onUnlisten=qY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=BY.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zY.bind(null,e.syncEngine),n}function hQ(t){return t.asyncQueue.enqueue((async()=>{const e=await G4(t),n=await K4(t);return e.setNetworkEnabled(!0),(function(i){const a=ye(i);return a.Ea.delete(0),Zm(a)})(n)}))}function dQ(t){return t.asyncQueue.enqueue((async()=>{const e=await G4(t),n=await K4(t);return e.setNetworkEnabled(!1),(async function(i){const a=ye(i);a.Ea.add(0),await zf(a),a.Ra.set("Offline")})(n)}))}function mQ(t,e){const n=new Qn;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,a,u){try{const l=await(function(h,m){const p=ye(h);return p.persistence.runTransaction("read document","readonly",(v=>p.localDocuments.getDocument(v,m)))})(i,a);l.isFoundDocument()?u.resolve(l):l.isNoDocument()?u.resolve(null):u.reject(new le(te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const f=Hf(l,`Failed to get document '${a} from cache`);u.reject(f)}})(await R1(t),e,n))),n.promise}function W4(t,e,n={}){const r=new Qn;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,l,f,h){const m=new v_({next:v=>{m.Nu(),u.enqueueAndForget((()=>_1(a,p)));const b=v.docs.has(l);!b&&v.fromCache?h.reject(new le(te.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&f&&f.source==="server"?h.reject(new le(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),p=new w1(Uf(l.path),m,{includeMetadataChanges:!0,qa:!0});return v1(a,p)})(await vf(t),t.asyncQueue,e,n,r))),r.promise}function pQ(t,e){const n=new Qn;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,a,u){try{const l=await Jy(i,a,!0),f=new B4(a,l.Qs),h=f.ru(l.documents),m=f.applyChanges(h,!1);u.resolve(m.snapshot)}catch(l){const f=Hf(l,`Failed to execute query '${a} against cache`);u.reject(f)}})(await R1(t),e,n))),n.promise}function Y4(t,e,n={}){const r=new Qn;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,l,f,h){const m=new v_({next:v=>{m.Nu(),u.enqueueAndForget((()=>_1(a,p))),v.fromCache&&f.source==="server"?h.reject(new le(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(v)},error:v=>h.reject(v)}),p=new w1(l,m,{includeMetadataChanges:!0,qa:!0});return v1(a,p)})(await vf(t),t.asyncQueue,e,n,r))),r.promise}function gQ(t,e){const n=new v_(e);return t.asyncQueue.enqueueAndForget((async()=>(function(i,a){ye(i).Ca.add(a),a.next()})(await vf(t),n))),()=>{n.Nu(),t.asyncQueue.enqueueAndForget((async()=>(function(i,a){ye(i).Ca.delete(a)})(await vf(t),n)))}}function yQ(t,e,n,r){const i=(function(u,l){let f;return f=typeof u=="string"?Fj().encode(u):u,(function(m,p){return new oQ(m,p)})((function(m,p){if(m instanceof Uint8Array)return FD(m,p);if(m instanceof ArrayBuffer)return FD(new Uint8Array(m),p);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(f),l)})(n,Jm(e));t.asyncQueue.enqueueAndForget((async()=>{iQ(await P1(t),i,r)}))}function vQ(t,e){return t.asyncQueue.enqueue((async()=>(function(r,i){const a=ye(r);return a.persistence.runTransaction("Get named query","readonly",(u=>a.Ii.getNamedQuery(u,i)))})(await R1(t),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="firestore.googleapis.com",GD=!0;class KD{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=X4,this.ssl=GD}else this.host=e.host,this.ssl=e.ssl??GD;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=u4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UW)throw new le(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$L("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Q4(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ep{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KD({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KD(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new tK;switch(r.type){case"firstParty":return new aK(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=HD.get(n);r&&(fe("ComponentProvider","Removing Datastore"),HD.delete(n),r.terminate())})(this),Promise.resolve()}}function _Q(t,e,n,r={}){var h;t=nt(t,ep);const i=Nf(e),a=t._getSettings(),u={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(pV(`https://${l}`),gV("Firestore",!0)),a.host!==X4&&a.host!==l&&Ta("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:l,ssl:i,emulatorOptions:r};if(!To(f,u)&&(t._setSettings(f),r.mockUserToken)){let m,p;if(typeof r.mockUserToken=="string")m=r.mockUserToken,p=Nn.MOCK_USER;else{m=y9(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new le(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Nn(v)}t._authCredentials=new nK(new zL(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _r=class J4{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new J4(this.firestore,e,this._query)}},At=class kd{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kd(this.firestore,e,this._key)}toJSON(){return{type:kd._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Fm(n,kd._jsonSchema))return new kd(e,r||null,new ge(We.fromString(n.referencePath)))}};At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:ln("string",At._jsonSchemaVersion),referencePath:ln("string")};let wo=class Z4 extends _r{constructor(e,n,r){super(e,n,Uf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new ge(e))}withConverter(e){return new Z4(this.firestore,e,this._path)}};function eU(t,e,...n){if(t=Oe(t),jS("collection","path",e),t instanceof ep){const r=We.fromString(e,...n);return MO(r),new wo(t,null,r)}{if(!(t instanceof At||t instanceof wo))throw new le(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return MO(r),new wo(t.firestore,null,r)}}function bQ(t,e){if(t=nt(t,ep),jS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new le(te.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new _r(t,null,(function(r){return new bs(We.emptyPath(),r)})(e))}function nv(t,e,...n){if(t=Oe(t),arguments.length===1&&(e=LS.newId()),jS("doc","path",e),t instanceof ep){const r=We.fromString(e,...n);return kO(r),new At(t,null,new ge(r))}{if(!(t instanceof At||t instanceof wo))throw new le(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return kO(r),new At(t.firestore,t instanceof wo?t.converter:null,new ge(r))}}function tU(t,e){return t=Oe(t),e=Oe(e),(t instanceof At||t instanceof wo)&&(e instanceof At||e instanceof wo)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function nU(t,e){return t=Oe(t),e=Oe(e),t instanceof _r&&e instanceof _r&&t.firestore===e.firestore&&Km(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD="AsyncQueue";class YD{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new d1(this,"async_queue_retry"),this._c=()=>{const r=Py();r&&fe(WD,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Py();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Py();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Qn;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Uo(e))throw e;fe(WD,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Xt("INTERNAL UNHANDLED ERROR: ",QD(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=y1.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&be(47125,{Pc:QD(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function QD(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class wQ{constructor(){this._progressObserver={},this._taskCompletionResolver=new Qn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EQ=-1;let Zt=class extends ep{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new YD,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new YD(e),this._firestoreClient=void 0,await e}}};function ur(t){if(t._terminated)throw new le(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||rU(t),t._firestoreClient}function rU(t){var r,i,a;const e=t._freezeSettings(),n=(function(l,f,h,m){return new FK(l,f,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Q4(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new cQ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(l){const f=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(f),_online:f}})(t._componentsProvider))}function TQ(t,e){Ta("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return iU(t,bm.provider,{build:r=>new H4(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function AQ(t){Ta("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();iU(t,bm.provider,{build:n=>new sQ(n,e.cacheSizeBytes)})}function iU(t,e,n){if((t=nt(t,Zt))._firestoreClient||t._terminated)throw new le(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new le(te.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},rU(t)}function SQ(t){if(t._initialized&&!t._terminated)throw new le(te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Qn;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!ya.v())return Promise.resolve();const i=r+y4;await ya.delete(i)})(l1(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function IQ(t){return(function(n){const r=new Qn;return n.asyncQueue.enqueueAndForget((async()=>KY(await P1(n),r))),r.promise})(ur(t=nt(t,Zt)))}function xQ(t){return hQ(ur(t=nt(t,Zt)))}function RQ(t){return dQ(ur(t=nt(t,Zt)))}function PQ(t,e){const n=ur(t=nt(t,Zt)),r=new wQ;return yQ(n,t._databaseId,e,r),r}function CQ(t,e){return vQ(ur(t=nt(t,Zt)),e).then((n=>n?new _r(t,null,n.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sr(Ht.fromBase64String(e))}catch(n){throw new le(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new sr(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:sr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fm(e,sr._jsonSchema))return sr.fromBase64String(e.bytes)}}sr._jsonSchemaVersion="firestore/bytes/1.0",sr._jsonSchema={type:ln("string",sr._jsonSchemaVersion),bytes:ln("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ko=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Li._jsonSchemaVersion}}static fromJSON(e){if(Fm(e,Li._jsonSchema))return new Li(e.latitude,e.longitude)}}Li._jsonSchemaVersion="firestore/geoPoint/1.0",Li._jsonSchema={type:ln("string",Li._jsonSchemaVersion),latitude:ln("number"),longitude:ln("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:_a._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fm(e,_a._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new _a(e.vectorValues);throw new le(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_a._jsonSchemaVersion="firestore/vectorValue/1.0",_a._jsonSchema={type:ln("string",_a._jsonSchemaVersion),vectorValues:ln("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OQ=/^__.*__$/;class DQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Es(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bf(e,this.data,n,this.fieldTransforms)}}class aU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Es(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function sU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:t})}}class b_{constructor(e,n,r,i,a,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new b_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(sU(this.Ac)&&OQ.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class NQ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Jm(e)}Cc(e,n,r,i=!1){return new b_({Ac:e,methodName:n,Dc:r,path:Nt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Al(t){const e=t._freezeSettings(),n=Jm(t._databaseId);return new NQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function w_(t,e,n,r,i,a={}){const u=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);V1("Data must be an object, but it was:",u,r);const l=lU(r,u);let f,h;if(a.merge)f=new Ir(u.fieldMask),h=u.fieldTransforms;else if(a.mergeFields){const m=[];for(const p of a.mergeFields){const v=iA(e,p,n);if(!u.contains(v))throw new le(te.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);fU(m,v)||m.push(v)}f=new Ir(m),h=u.fieldTransforms.filter((p=>f.covers(p.field)))}else f=null,h=u.fieldTransforms;return new DQ(new Wn(l),f,h)}class tp extends Tl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tp}}function oU(t,e,n){return new b_({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class C1 extends Tl{_toFieldTransform(e){return new Ym(e.path,new cf)}isEqual(e){return e instanceof C1}}class O1 extends Tl{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=oU(this,e,!0),r=this.vc.map((a=>Sl(a,n))),i=new ll(r);return new Ym(e.path,i)}isEqual(e){return e instanceof O1&&To(this.vc,e.vc)}}class D1 extends Tl{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=oU(this,e,!0),r=this.vc.map((a=>Sl(a,n))),i=new cl(r);return new Ym(e.path,i)}isEqual(e){return e instanceof D1&&To(this.vc,e.vc)}}class N1 extends Tl{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new ff(e.serializer,kj(e.serializer,this.Fc));return new Ym(e.path,n)}isEqual(e){return e instanceof N1&&this.Fc===e.Fc}}function k1(t,e,n,r){const i=t.Cc(1,e,n);V1("Data must be an object, but it was:",i,r);const a=[],u=Wn.empty();Bo(r,((f,h)=>{const m=L1(e,f,n);h=Oe(h);const p=i.yc(m);if(h instanceof tp)a.push(m);else{const v=Sl(h,p);v!=null&&(a.push(m),u.set(m,v))}}));const l=new Ir(a);return new aU(u,l,i.fieldTransforms)}function M1(t,e,n,r,i,a){const u=t.Cc(1,e,n),l=[iA(e,r,n)],f=[i];if(a.length%2!=0)throw new le(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)l.push(iA(e,a[v])),f.push(a[v+1]);const h=[],m=Wn.empty();for(let v=l.length-1;v>=0;--v)if(!fU(h,l[v])){const b=l[v];let E=f[v];E=Oe(E);const T=u.yc(b);if(E instanceof tp)h.push(b);else{const A=Sl(E,T);A!=null&&(h.push(b),m.set(b,A))}}const p=new Ir(h);return new aU(m,p,u.fieldTransforms)}function uU(t,e,n,r=!1){return Sl(n,t.Cc(r?4:3,e))}function Sl(t,e){if(cU(t=Oe(t)))return V1("Unsupported field value:",e,t),lU(t,e);if(t instanceof Tl)return(function(r,i){if(!sU(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let u=0;for(const l of r){let f=Sl(l,i.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Oe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=st.fromDate(r);return{timestampValue:hf(i.serializer,a)}}if(r instanceof st){const a=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hf(i.serializer,a)}}if(r instanceof Li)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof sr)return{bytesValue:Gj(i.serializer,r._byteString)};if(r instanceof At){const a=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw i.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:n1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof _a)return(function(u,l){return{mapValue:{fields:{[HS]:{stringValue:GS},[of]:{arrayValue:{values:u.toArray().map((h=>{if(typeof h!="number")throw l.Sc("VectorValues must only contain numeric values.");return QS(l.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${r_(r)}`)})(t,e)}function lU(t,e){const n={};return lj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bo(t,((r,i)=>{const a=Sl(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function cU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof Li||t instanceof sr||t instanceof At||t instanceof Tl||t instanceof _a)}function V1(t,e,n){if(!cU(n)||!HL(n)){const r=r_(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function iA(t,e,n){if((e=Oe(e))instanceof ko)return e._internalPath;if(typeof e=="string")return L1(t,e);throw rv("Field path arguments must be of type string or ",t,!1,void 0,n)}const kQ=new RegExp("[~\\*/\\[\\]]");function L1(t,e,n){if(e.search(kQ)>=0)throw rv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ko(...e.split("."))._internalPath}catch{throw rv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rv(t,e,n,r,i){const a=r&&!r.isEmpty(),u=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${i}`),f+=")"),new le(te.INVALID_ARGUMENT,l+t+f)}function fU(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(E_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MQ extends wm{data(){return super.data()}}function E_(t,e){return typeof e=="string"?L1(t,e):e instanceof ko?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class j1{}class np extends j1{}function oo(t,e,...n){let r=[];e instanceof j1&&r.push(e),r=r.concat(n),(function(a){const u=a.filter((f=>f instanceof U1)).length,l=a.filter((f=>f instanceof T_)).length;if(u>1||u>0&&l>0)throw new le(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class T_ extends np{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new T_(e,n,r)}_apply(e){const n=this._parse(e);return mU(e._query,n),new _r(e.firestore,e.converter,$T(e._query,n))}_parse(e){const n=Al(e.firestore);return(function(a,u,l,f,h,m,p){let v;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new le(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){JD(p,m);const E=[];for(const T of p)E.push(XD(f,a,T));v={arrayValue:{values:E}}}else v=XD(f,a,p)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||JD(p,m),v=uU(l,u,p,m==="in"||m==="not-in");return Ye.create(h,m,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function VQ(t,e,n){const r=e,i=E_("where",t);return T_._create(i,r,n)}class U1 extends j1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new U1(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ft.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let u=i;const l=a.getFlattenedFilters();for(const f of l)mU(u,f),u=$T(u,f)})(e._query,n),new _r(e.firestore,e.converter,$T(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class B1 extends np{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new B1(e,n)}_apply(e){const n=(function(i,a,u){if(i.startAt!==null)throw new le(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new le(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gm(a,u)})(e._query,this._field,this._direction);return new _r(e.firestore,e.converter,(function(i,a){const u=i.explicitOrderBy.concat([a]);return new bs(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function LQ(t,e="asc"){const n=e,r=E_("orderBy",t);return B1._create(r,n)}class A_ extends np{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new A_(e,n,r)}_apply(e){return new _r(e.firestore,e.converter,Ky(e._query,this._limit,this._limitType))}}function jQ(t){return GL("limit",t),A_._create("limit",t,"F")}function UQ(t){return GL("limitToLast",t),A_._create("limitToLast",t,"L")}class S_ extends np{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new S_(e,n,r)}_apply(e){const n=dU(e,this.type,this._docOrFields,this._inclusive);return new _r(e.firestore,e.converter,(function(i,a){return new bs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)})(e._query,n))}}function BQ(...t){return S_._create("startAt",t,!0)}function qQ(...t){return S_._create("startAfter",t,!1)}class I_ extends np{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new I_(e,n,r)}_apply(e){const n=dU(e,this.type,this._docOrFields,this._inclusive);return new _r(e.firestore,e.converter,(function(i,a){return new bs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)})(e._query,n))}}function zQ(...t){return I_._create("endBefore",t,!1)}function FQ(...t){return I_._create("endAt",t,!0)}function dU(t,e,n,r){if(n[0]=Oe(n[0]),n[0]instanceof wm)return(function(a,u,l,f,h){if(!f)throw new le(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const m=[];for(const p of Gc(a))if(p.field.isKeyField())m.push(ol(u,f.key));else{const v=f.data.field(p.field);if(u_(v))throw new le(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const b=p.field.canonicalString();throw new le(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}m.push(v)}return new Oo(m,h)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Al(t.firestore);return(function(u,l,f,h,m,p){const v=u.explicitOrderBy;if(m.length>v.length)throw new le(te.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let E=0;E<m.length;E++){const T=m[E];if(v[E].field.isKeyField()){if(typeof T!="string")throw new le(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof T}`);if(!WS(u)&&T.indexOf("/")!==-1)throw new le(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${T}' contains a slash.`);const A=u.path.child(We.fromString(T));if(!ge.isDocumentKey(A))throw new le(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${A}' is not because it contains an odd number of segments.`);const R=new ge(A);b.push(ol(l,R))}else{const A=uU(f,h,T);b.push(A)}}return new Oo(b,p)})(t._query,t.firestore._databaseId,i,e,n,r)}}function XD(t,e,n){if(typeof(n=Oe(n))=="string"){if(n==="")throw new le(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WS(e)&&n.indexOf("/")!==-1)throw new le(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(We.fromString(n));if(!ge.isDocumentKey(r))throw new le(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ol(t,new ge(r))}if(n instanceof At)return ol(t,n._key);throw new le(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${r_(n)}.`)}function JD(t,e){if(!Array.isArray(t)||t.length===0)throw new le(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mU(t,e){const n=(function(i,a){for(const u of i)for(const l of u.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class q1{convertValue(e,n="none"){switch(Po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bo(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[of].arrayValue)==null?void 0:i.values)==null?void 0:a.map((u=>Ot(u.doubleValue)));return new _a(n)}convertGeoPoint(e){return new Li(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=l_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dm(e));default:return null}}convertTimestamp(e){const n=hs(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=We.fromString(e);Ie(r4(r),9688,{name:e});const i=new Ro(r.get(1),r.get(3)),a=new ge(r.popFirst(5));return i.isEqual(n)||Xt(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class $Q extends q1{constructor(e){super(),this.firestore=e}convertBytes(e){return new sr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}class Fu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let bi=class pU extends wm{constructor(e,n,r,i,a,u){super(e,n,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(E_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=pU._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};bi._jsonSchemaVersion="firestore/documentSnapshot/1.0",bi._jsonSchema={type:ln("string",bi._jsonSchemaVersion),bundleSource:ln("string","DocumentSnapshot"),bundleName:ln("string"),bundle:ln("string")};let Xd=class extends bi{data(e={}){return super.data(e)}},ji=class gU{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Xd(this._firestore,this._userDataWriter,r.key,r,new Fu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map((l=>{const f=new Xd(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Fu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const f=new Xd(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Fu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return l.type!==0&&(h=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),l.type!==1&&(u=u.add(l.doc),m=u.indexOf(l.doc.key)),{type:HQ(l.type),doc:f,oldIndex:h,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=gU._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=LS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function HQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:t})}}function yU(t,e){return t instanceof bi&&e instanceof bi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ji&&e instanceof ji&&t._firestore===e._firestore&&nU(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GQ(t){t=nt(t,At);const e=nt(t.firestore,Zt);return W4(ur(e),t._key).then((n=>z1(e,t,n)))}ji._jsonSchemaVersion="firestore/querySnapshot/1.0",ji._jsonSchema={type:ln("string",ji._jsonSchemaVersion),bundleSource:ln("string","QuerySnapshot"),bundleName:ln("string"),bundle:ln("string")};class Il extends q1{constructor(e){super(),this.firestore=e}convertBytes(e){return new sr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function KQ(t){t=nt(t,At);const e=nt(t.firestore,Zt),n=ur(e),r=new Il(e);return mQ(n,t._key).then((i=>new bi(e,r,t._key,i,new Fu(i!==null&&i.hasLocalMutations,!0),t.converter)))}function WQ(t){t=nt(t,At);const e=nt(t.firestore,Zt);return W4(ur(e),t._key,{source:"server"}).then((n=>z1(e,t,n)))}function YQ(t){t=nt(t,_r);const e=nt(t.firestore,Zt),n=ur(e),r=new Il(e);return hU(t._query),Y4(n,t._query).then((i=>new ji(e,r,t,i)))}function QQ(t){t=nt(t,_r);const e=nt(t.firestore,Zt),n=ur(e),r=new Il(e);return pQ(n,t._query).then((i=>new ji(e,r,t,i)))}function XQ(t){t=nt(t,_r);const e=nt(t.firestore,Zt),n=ur(e),r=new Il(e);return Y4(n,t._query,{source:"server"}).then((i=>new ji(e,r,t,i)))}function ZD(t,e,n){t=nt(t,At);const r=nt(t.firestore,Zt),i=x_(t.converter,e,n);return rp(r,[w_(Al(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,kt.none())])}function eN(t,e,n,...r){t=nt(t,At);const i=nt(t.firestore,Zt),a=Al(i);let u;return u=typeof(e=Oe(e))=="string"||e instanceof ko?M1(a,"updateDoc",t._key,e,n,r):k1(a,"updateDoc",t._key,e),rp(i,[u.toMutation(t._key,kt.exists(!0))])}function JQ(t){return rp(nt(t.firestore,Zt),[new qf(t._key,kt.none())])}function ZQ(t,e){const n=nt(t.firestore,Zt),r=nv(t),i=x_(t.converter,e);return rp(n,[w_(Al(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,kt.exists(!1))]).then((()=>r))}function vU(t,...e){var f,h,m;t=Oe(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||rA(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(rA(e[r])){const p=e[r];e[r]=(f=p.next)==null?void 0:f.bind(p),e[r+1]=(h=p.error)==null?void 0:h.bind(p),e[r+2]=(m=p.complete)==null?void 0:m.bind(p)}let a,u,l;if(t instanceof At)u=nt(t.firestore,Zt),l=Uf(t._key.path),a={next:p=>{e[r]&&e[r](z1(u,t,p))},error:e[r+1],complete:e[r+2]};else{const p=nt(t,_r);u=nt(p.firestore,Zt),l=p._query;const v=new Il(u);a={next:b=>{e[r]&&e[r](new ji(u,v,p,b))},error:e[r+1],complete:e[r+2]},hU(t._query)}return(function(v,b,E,T){const A=new v_(T),R=new w1(b,A,E);return v.asyncQueue.enqueueAndForget((async()=>v1(await vf(v),R))),()=>{A.Nu(),v.asyncQueue.enqueueAndForget((async()=>_1(await vf(v),R)))}})(ur(u),l,i,a)}function eX(t,e){return gQ(ur(t=nt(t,Zt)),rA(e)?e:{next:e})}function rp(t,e){return(function(r,i){const a=new Qn;return r.asyncQueue.enqueueAndForget((async()=>FY(await P1(r),i,a))),a.promise})(ur(t),e)}function z1(t,e,n){const r=n.docs.get(e._key),i=new Il(t);return new bi(t,i,e._key,r,new Fu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tX={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nX=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Al(e)}set(e,n,r){this._verifyNotCommitted();const i=go(e,this._firestore),a=x_(i.converter,n,r),u=w_(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(u.toMutation(i._key,kt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=go(e,this._firestore);let u;return u=typeof(n=Oe(n))=="string"||n instanceof ko?M1(this._dataReader,"WriteBatch.update",a._key,n,r,i):k1(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(u.toMutation(a._key,kt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=go(e,this._firestore);return this._mutations=this._mutations.concat(new qf(n._key,kt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function go(t,e){if((t=Oe(t)).firestore!==e)throw new le(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rX{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Al(e)}get(e){const n=go(e,this._firestore),r=new $Q(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return be(24041);const a=i[0];if(a.isFoundDocument())return new wm(this._firestore,r,a.key,a,n.converter);if(a.isNoDocument())return new wm(this._firestore,r,n._key,null,n.converter);throw be(18433,{doc:a})}))}set(e,n,r){const i=go(e,this._firestore),a=x_(i.converter,n,r),u=w_(this._dataReader,"Transaction.set",i._key,a,i.converter!==null,r);return this._transaction.set(i._key,u),this}update(e,n,r,...i){const a=go(e,this._firestore);let u;return u=typeof(n=Oe(n))=="string"||n instanceof ko?M1(this._dataReader,"Transaction.update",a._key,n,r,i):k1(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,u),this}delete(e){const n=go(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iX=class extends rX{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=go(e,this._firestore),r=new Il(this._firestore);return super.get(e).then((i=>new bi(this._firestore,r,n._key,i._document,new Fu(!1,!1),n.converter)))}};function aX(t,e,n){t=nt(t,Zt);const r={...tX,...n};return(function(a){if(a.maxAttempts<1)throw new le(te.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(a,u,l){const f=new Qn;return a.asyncQueue.enqueueAndForget((async()=>{const h=await fQ(a);new lQ(a.asyncQueue,h,l,u,f).ju()})),f.promise})(ur(t),(i=>e(new iX(t,i))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sX(){return new tp("deleteField")}function oX(){return new C1("serverTimestamp")}function uX(...t){return new O1("arrayUnion",t)}function lX(...t){return new D1("arrayRemove",t)}function cX(t){return new N1("increment",t)}(function(e,n=!0){(function(i){jf=i})(Vo),Io(new wa("firestore",((r,{instanceIdentifier:i,options:a})=>{const u=r.getProvider("app").getImmediate(),l=new Zt(new rK(r.getProvider("auth-internal")),new sK(u,r.getProvider("app-check-internal")),(function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new le(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ro(h.options.projectId,m)})(u,i),u);return a={useFetchStreams:n,...a},l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),Vi(CO,OO,e),Vi(CO,OO,"esm2020")})();const fX="@firebase/firestore-compat",hX="0.4.1";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new le("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(){if(typeof Uint8Array>"u")throw new le("unimplemented","Uint8Arrays are not available in this environment.")}function nN(){if(!qK())throw new le("unimplemented","Blobs are unavailable in Firestore in this environment.")}let _U=class aA{constructor(e){this._delegate=e}static fromBase64String(e){return nN(),new aA(sr.fromBase64String(e))}static fromUint8Array(e){return tN(),new aA(sr.fromUint8Array(e))}toBase64(){return nN(),this._delegate.toBase64()}toUint8Array(){return tN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(t){return dX(t,["next","error","complete"])}function dX(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mX{enableIndexedDbPersistence(e,n){return TQ(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return AQ(e._delegate)}clearIndexedDbPersistence(e){return SQ(e._delegate)}}class bU{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ro||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Ta("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...n,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){_Q(this._delegate,e,n,r)}enableNetwork(){return xQ(this._delegate)}disableNetwork(){return RQ(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,$L("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return IQ(this._delegate)}onSnapshotsInSync(e){return eX(this._delegate,e)}get app(){if(!this._appCompat)throw new le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new _f(this,eU(this._delegate,e))}catch(n){throw mr(n,"collection()","Firestore.collection()")}}doc(e){try{return new vi(this,nv(this._delegate,e))}catch(n){throw mr(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new dr(this,bQ(this._delegate,e))}catch(n){throw mr(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return aX(this._delegate,n=>e(new wU(this,n)))}batch(){return ur(this._delegate),new EU(new nX(this._delegate,e=>rp(this._delegate,e)))}loadBundle(e){return PQ(this._delegate,e)}namedQuery(e){return CQ(this._delegate,e).then(n=>n?new dr(this,n):null)}}class R_ extends q1{constructor(e){super(),this.firestore=e}convertBytes(e){return new _U(new sr(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return vi.forKey(n,this.firestore,null)}}function pX(t){ZG(t)}class wU{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new R_(e)}get(e){const n=$u(e);return this._delegate.get(n).then(r=>new Em(this._firestore,new bi(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=$u(e);return r?(F1("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const a=$u(e);return arguments.length===2?this._delegate.update(a,n):this._delegate.update(a,n,r,...i),this}delete(e){const n=$u(e);return this._delegate.delete(n),this}}class EU{constructor(e){this._delegate=e}set(e,n,r){const i=$u(e);return r?(F1("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const a=$u(e);return arguments.length===2?this._delegate.update(a,n):this._delegate.update(a,n,r,...i),this}delete(e){const n=$u(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class pl{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Xd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Tm(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=pl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(n);return a||(a=new pl(e,new R_(e),n),i.set(n,a)),a}}pl.INSTANCES=new WeakMap;class vi{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new R_(e)}static forPath(e,n,r){if(e.length%2!==0)throw new le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new vi(n,new At(n._delegate,r,new ge(e)))}static forKey(e,n,r){return new vi(n,new At(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new _f(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new _f(this.firestore,eU(this._delegate,e))}catch(n){throw mr(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Oe(e),e instanceof At?tU(this._delegate,e):!1}set(e,n){n=F1("DocumentReference.set",n);try{return n?ZD(this._delegate,e,n):ZD(this._delegate,e)}catch(r){throw mr(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?eN(this._delegate,e):eN(this._delegate,e,n,...r)}catch(i){throw mr(i,"updateDoc()","DocumentReference.update()")}}delete(){return JQ(this._delegate)}onSnapshot(...e){const n=TU(e),r=AU(e,i=>new Em(this.firestore,new bi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return vU(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=KQ(this._delegate):(e==null?void 0:e.source)==="server"?n=WQ(this._delegate):n=GQ(this._delegate),n.then(r=>new Em(this.firestore,new bi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new vi(this.firestore,e?this._delegate.withConverter(pl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function mr(t,e,n){return t.message=t.message.replace(e,n),t}function TU(t){for(const e of t)if(typeof e=="object"&&!sA(e))return e;return{}}function AU(t,e){var r,i;let n;return sA(t[0])?n=t[0]:sA(t[1])?n=t[1]:typeof t[0]=="function"?n={next:t[0],error:t[1],complete:t[2]}:n={next:t[1],error:t[2],complete:t[3]},{next:a=>{n.next&&n.next(e(a))},error:(r=n.error)==null?void 0:r.bind(n),complete:(i=n.complete)==null?void 0:i.bind(n)}}class Em{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new vi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return yU(this._delegate,e._delegate)}}class Tm extends Em{data(e){const n=this._delegate.data(e);return this._delegate._converter||eK(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}}class dr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new R_(e)}where(e,n,r){try{return new dr(this.firestore,oo(this._delegate,VQ(e,n,r)))}catch(i){throw mr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new dr(this.firestore,oo(this._delegate,LQ(e,n)))}catch(r){throw mr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new dr(this.firestore,oo(this._delegate,jQ(e)))}catch(n){throw mr(n,"limit()","Query.limit()")}}limitToLast(e){try{return new dr(this.firestore,oo(this._delegate,UQ(e)))}catch(n){throw mr(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new dr(this.firestore,oo(this._delegate,BQ(...e)))}catch(n){throw mr(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new dr(this.firestore,oo(this._delegate,qQ(...e)))}catch(n){throw mr(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new dr(this.firestore,oo(this._delegate,zQ(...e)))}catch(n){throw mr(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new dr(this.firestore,oo(this._delegate,FQ(...e)))}catch(n){throw mr(n,"endAt()","Query.endAt()")}}isEqual(e){return nU(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=QQ(this._delegate):(e==null?void 0:e.source)==="server"?n=XQ(this._delegate):n=YQ(this._delegate),n.then(r=>new oA(this.firestore,new ji(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=TU(e),r=AU(e,i=>new oA(this.firestore,new ji(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return vU(this._delegate,n,r)}withConverter(e){return new dr(this.firestore,e?this._delegate.withConverter(pl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class gX{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Tm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class oA{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new dr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Tm(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new gX(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Tm(this._firestore,r))})}isEqual(e){return yU(this._delegate,e._delegate)}}class _f extends dr{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new vi(this.firestore,e):null}doc(e){try{return e===void 0?new vi(this.firestore,nv(this._delegate)):new vi(this.firestore,nv(this._delegate,e))}catch(n){throw mr(n,"doc()","CollectionReference.doc()")}}add(e){return ZQ(this._delegate,e).then(n=>new vi(this.firestore,n))}isEqual(e){return tU(this._delegate,e._delegate)}withConverter(e){return new _f(this.firestore,e?this._delegate.withConverter(pl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function $u(t){return nt(t,At)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(...e){this._delegate=new ko(...e)}static documentId(){return new $1(Nt.keyField().canonicalString())}isEqual(e){return e=Oe(e),e instanceof ko?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{static serverTimestamp(){const e=oX();return e._methodName="FieldValue.serverTimestamp",new Bu(e)}static delete(){const e=sX();return e._methodName="FieldValue.delete",new Bu(e)}static arrayUnion(...e){const n=uX(...e);return n._methodName="FieldValue.arrayUnion",new Bu(n)}static arrayRemove(...e){const n=lX(...e);return n._methodName="FieldValue.arrayRemove",new Bu(n)}static increment(e){const n=cX(e);return n._methodName="FieldValue.increment",new Bu(n)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yX={Firestore:bU,GeoPoint:Li,Timestamp:st,Blob:_U,Transaction:wU,WriteBatch:EU,DocumentReference:vi,DocumentSnapshot:Em,Query:dr,QueryDocumentSnapshot:Tm,QuerySnapshot:oA,CollectionReference:_f,FieldPath:$1,FieldValue:Bu,setLogLevel:pX,CACHE_SIZE_UNLIMITED:EQ};function vX(t,e){t.INTERNAL.registerComponent(new wa("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...yX}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _X(t){vX(t,(e,n)=>new bU(e,n,new mX)),t.registerVersion(fX,hX)}_X(kn);const bX=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:H.jsx("path",{fillRule:"evenodd",d:"M10 2a4 4 0 00-4 4v4H4a2 2 0 00-2 2v6a2 2 0 002 2h12a2 2 0 002-2v-6a2 2 0 00-2-2h-2V6a4 4 0 00-4-4zm-2 6V6a2 2 0 114 0v4H8z",clipRule:"evenodd"})}),wX=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),EX=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),SU=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:H.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),TX=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),IU=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:H.jsx("path",{d:"M17 3H5a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2zm-3 12H8v-4h6v4zm2-6H5V5h12v4z"})}),AX=()=>H.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[H.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),H.jsx("path",{fillRule:"evenodd",d:"M.458 10C3.732 4.943 9.522 4.5 10 4.5c.478 0 6.268.443 9.542 5.5.25.362.25.868 0 1.23C16.268 15.057 10.478 15.5 10 15.5c-.478 0-6.268-.443-9.542-5.5a.75.75 0 010-1.23zM10 13.5a3.5 3.5 0 100-7 3.5 3.5 0 000 7z",clipRule:"evenodd"})]}),SX=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:H.jsx("path",{d:"M2 11h3v7H2v-7zM6 3h3v15H6V3zm5 8h3v7h-3v-7zm4-4h3v11h-3V7z"})}),IX=()=>H.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[H.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),H.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),xX=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),RX=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H5v-2H3v-2H1v-4a6 6 0 017.743-5.743z"})});function xU(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=xU(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Rt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=xU(t))&&(r&&(r+=" "),r+=e);return r}var Nw={},kw={},rN;function PX(){return rN||(rN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(kw)),kw}var Mw={},iN;function RU(){return iN||(iN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Mw)),Mw}var Vw={},aN;function PU(){return aN||(aN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(Vw)),Vw}var Lw={},sN;function H1(){return sN||(sN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let a=0,u="",l="",f=!1;for(n.charCodeAt(0)===46&&(r.push(""),a++);a<i;){const h=n[a];l?h==="\\"&&a+1<i?(a++,u+=n[a]):h===l?l="":u+=h:f?h==='"'||h==="'"?l=h:h==="]"?(f=!1,r.push(u),u=""):u+=h:h==="["?(f=!0,u&&(r.push(u),u="")):h==="."?u&&(r.push(u),u=""):u+=h,a++}return u&&r.push(u),r}t.toPath=e})(Lw)),Lw}var oN;function G1(){return oN||(oN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PX(),n=RU(),r=PU(),i=H1();function a(l,f,h){if(l==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const m=l[f];return m===void 0?n.isDeepKey(f)?a(l,i.toPath(f),h):h:m}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const m=l[f];return m===void 0?h:m}default:{if(Array.isArray(f))return u(l,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const m=l[f];return m===void 0?h:m}}}function u(l,f,h){if(f.length===0)return h;let m=l;for(let p=0;p<f.length;p++){if(m==null||e.isUnsafeProperty(f[p]))return h;m=m[f[p]]}return m===void 0?h:m}t.get=a})(Nw)),Nw}var jw,uN;function CX(){return uN||(uN=1,jw=G1().get),jw}var OX=CX();const gl=qi(OX);var Uw={exports:{}},_t={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lN;function DX(){if(lN)return _t;lN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function E(T){if(typeof T=="object"&&T!==null){var A=T.$$typeof;switch(A){case t:switch(T=T.type,T){case n:case i:case r:case f:case h:case v:return T;default:switch(T=T&&T.$$typeof,T){case u:case l:case p:case m:return T;case a:return T;default:return A}}case e:return A}}}return _t.ContextConsumer=a,_t.ContextProvider=u,_t.Element=t,_t.ForwardRef=l,_t.Fragment=n,_t.Lazy=p,_t.Memo=m,_t.Portal=e,_t.Profiler=i,_t.StrictMode=r,_t.Suspense=f,_t.SuspenseList=h,_t.isContextConsumer=function(T){return E(T)===a},_t.isContextProvider=function(T){return E(T)===u},_t.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===t},_t.isForwardRef=function(T){return E(T)===l},_t.isFragment=function(T){return E(T)===n},_t.isLazy=function(T){return E(T)===p},_t.isMemo=function(T){return E(T)===m},_t.isPortal=function(T){return E(T)===e},_t.isProfiler=function(T){return E(T)===i},_t.isStrictMode=function(T){return E(T)===r},_t.isSuspense=function(T){return E(T)===f},_t.isSuspenseList=function(T){return E(T)===h},_t.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===n||T===i||T===r||T===f||T===h||typeof T=="object"&&T!==null&&(T.$$typeof===p||T.$$typeof===m||T.$$typeof===u||T.$$typeof===a||T.$$typeof===l||T.$$typeof===b||T.getModuleId!==void 0)},_t.typeOf=E,_t}var cN;function NX(){return cN||(cN=1,Uw.exports=DX()),Uw.exports}var kX=NX(),Rr=t=>t===0?0:t>0?1:-1,Jr=t=>typeof t=="number"&&t!=+t,Hu=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Se=t=>(typeof t=="number"||t instanceof Number)&&!Jr(t),Sa=t=>Se(t)||typeof t=="string",MX=0,Am=t=>{var e=++MX;return"".concat(t||"").concat(e)},Bi=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Se(e)&&typeof e!="string")return r;var a;if(Hu(e)){if(n==null)return r;var u=e.indexOf("%");a=n*parseFloat(e.slice(0,u))/100}else a=+e;return Jr(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},CU=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Oc(t,e,n){return Se(t)&&Se(e)?t+n*(e-t):e}function VX(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):gl(r,e))===n)}var bn=t=>t===null||typeof t>"u",ip=t=>bn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),LX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function K1(t){if(typeof t!="string")return!1;var e=LX;return e.includes(t)}var jX=["viewBox","children"],fN=["points","pathLength"],Bw={svg:jX,polygon:fN,polyline:fN},UX=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{K1(i)&&(r[i]=(a=>n[i](n,a)))}),r},BX=(t,e,n)=>r=>(t(e,n,r),null),W1=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];K1(i)&&typeof a=="function"&&(r||(r={}),r[i]=BX(a,e,n))}),r},qX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function OU(t){if(typeof t!="string")return!1;var e=qX;return e.includes(t)}function ap(t){var e=Object.entries(t).filter(n=>{var[r]=n;return OU(r)});return Object.fromEntries(e)}var hN=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",dN=null,qw=null,DU=t=>{if(t===dN&&Array.isArray(qw))return qw;var e=[];return x.Children.forEach(t,n=>{bn(n)||(kX.isFragment(n)?e=e.concat(DU(n.props.children)):e.push(n))}),qw=e,dN=t,e};function Y1(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>hN(i)):r=[hN(e)],DU(t).forEach(i=>{var a=gl(i,"type.displayName")||gl(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var zX=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=r&&(Bw==null?void 0:Bw[r]))!==null&&i!==void 0?i:[],u=e.startsWith("data-"),l=typeof t!="function"&&(!!r&&a.includes(e)||OU(e)),f=!!n&&K1(e);return u||l||f},Mn=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(x.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var u;zX((u=r)===null||u===void 0?void 0:u[a],a,e,n)&&(i[a]=r[a])}),i},FX=["children","width","height","viewBox","className","style","title","desc"];function uA(){return uA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uA.apply(null,arguments)}function $X(t,e){if(t==null)return{};var n,r,i=HX(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function HX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var NU=x.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:u,style:l,title:f,desc:h}=t,m=$X(t,FX),p=a||{width:r,height:i,x:0,y:0},v=Rt("recharts-surface",u);return x.createElement("svg",uA({},Mn(m,!0,"svg"),{className:v,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),x.createElement("title",null,f),x.createElement("desc",null,h),n)}),GX=["children","className"];function lA(){return lA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lA.apply(null,arguments)}function KX(t,e){if(t==null)return{};var n,r,i=WX(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function WX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Mo=x.forwardRef((t,e)=>{var{children:n,className:r}=t,i=KX(t,GX),a=Rt("recharts-layer",r);return x.createElement("g",lA({className:a},Mn(i,!0),{ref:e}),n)}),YX=x.createContext(null);function Tt(t){return function(){return t}}const kU=Math.cos,iv=Math.sin,$i=Math.sqrt,av=Math.PI,P_=2*av,cA=Math.PI,fA=2*cA,Nu=1e-6,QX=fA-Nu;function MU(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function XX(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return MU;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class JX{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?MU:XX(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,u){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+u}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let u=this._x1,l=this._y1,f=r-e,h=i-n,m=u-e,p=l-n,v=m*m+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>Nu)if(!(Math.abs(p*f-h*m)>Nu)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-u,E=i-l,T=f*f+h*h,A=b*b+E*E,R=Math.sqrt(T),C=Math.sqrt(v),P=a*Math.tan((cA-Math.acos((T+v-A)/(2*R*C)))/2),U=P/C,L=P/R;Math.abs(U-1)>Nu&&this._append`L${e+U*m},${n+U*p}`,this._append`A${a},${a},0,0,${+(p*b>m*E)},${this._x1=e+L*f},${this._y1=n+L*h}`}}arc(e,n,r,i,a,u){if(e=+e,n=+n,r=+r,u=!!u,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),f=r*Math.sin(i),h=e+l,m=n+f,p=1^u,v=u?i-a:a-i;this._x1===null?this._append`M${h},${m}`:(Math.abs(this._x1-h)>Nu||Math.abs(this._y1-m)>Nu)&&this._append`L${h},${m}`,r&&(v<0&&(v=v%fA+fA),v>QX?this._append`A${r},${r},0,1,${p},${e-l},${n-f}A${r},${r},0,1,${p},${this._x1=h},${this._y1=m}`:v>Nu&&this._append`A${r},${r},0,${+(v>=cA)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Q1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new JX(e)}function X1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function VU(t){this._context=t}VU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function C_(t){return new VU(t)}function LU(t){return t[0]}function jU(t){return t[1]}function UU(t,e){var n=Tt(!0),r=null,i=C_,a=null,u=Q1(l);t=typeof t=="function"?t:t===void 0?LU:Tt(t),e=typeof e=="function"?e:e===void 0?jU:Tt(e);function l(f){var h,m=(f=X1(f)).length,p,v=!1,b;for(r==null&&(a=i(b=u())),h=0;h<=m;++h)!(h<m&&n(p=f[h],h,f))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(p,h,f),+e(p,h,f));if(b)return a=null,b+""||null}return l.x=function(f){return arguments.length?(t=typeof f=="function"?f:Tt(+f),l):t},l.y=function(f){return arguments.length?(e=typeof f=="function"?f:Tt(+f),l):e},l.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Tt(!!f),l):n},l.curve=function(f){return arguments.length?(i=f,r!=null&&(a=i(r)),l):i},l.context=function(f){return arguments.length?(f==null?r=a=null:a=i(r=f),l):r},l}function Jg(t,e,n){var r=null,i=Tt(!0),a=null,u=C_,l=null,f=Q1(h);t=typeof t=="function"?t:t===void 0?LU:Tt(+t),e=typeof e=="function"?e:Tt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?jU:Tt(+n);function h(p){var v,b,E,T=(p=X1(p)).length,A,R=!1,C,P=new Array(T),U=new Array(T);for(a==null&&(l=u(C=f())),v=0;v<=T;++v){if(!(v<T&&i(A=p[v],v,p))===R)if(R=!R)b=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),E=v-1;E>=b;--E)l.point(P[E],U[E]);l.lineEnd(),l.areaEnd()}R&&(P[v]=+t(A,v,p),U[v]=+e(A,v,p),l.point(r?+r(A,v,p):P[v],n?+n(A,v,p):U[v]))}if(C)return l=null,C+""||null}function m(){return UU().defined(i).curve(u).context(a)}return h.x=function(p){return arguments.length?(t=typeof p=="function"?p:Tt(+p),r=null,h):t},h.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Tt(+p),h):t},h.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Tt(+p),h):r},h.y=function(p){return arguments.length?(e=typeof p=="function"?p:Tt(+p),n=null,h):e},h.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Tt(+p),h):e},h.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Tt(+p),h):n},h.lineX0=h.lineY0=function(){return m().x(t).y(e)},h.lineY1=function(){return m().x(t).y(n)},h.lineX1=function(){return m().x(r).y(e)},h.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Tt(!!p),h):i},h.curve=function(p){return arguments.length?(u=p,a!=null&&(l=u(a)),h):u},h.context=function(p){return arguments.length?(p==null?a=l=null:l=u(a=p),h):a},h}class BU{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function ZX(t){return new BU(t,!0)}function eJ(t){return new BU(t,!1)}const J1={draw(t,e){const n=$i(e/av);t.moveTo(n,0),t.arc(0,0,n,0,P_)}},tJ={draw(t,e){const n=$i(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},qU=$i(1/3),nJ=qU*2,rJ={draw(t,e){const n=$i(e/nJ),r=n*qU;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},iJ={draw(t,e){const n=$i(e),r=-n/2;t.rect(r,r,n,n)}},aJ=.8908130915292852,zU=iv(av/10)/iv(7*av/10),sJ=iv(P_/10)*zU,oJ=-kU(P_/10)*zU,uJ={draw(t,e){const n=$i(e*aJ),r=sJ*n,i=oJ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const u=P_*a/5,l=kU(u),f=iv(u);t.lineTo(f*n,-l*n),t.lineTo(l*r-f*i,f*r+l*i)}t.closePath()}},zw=$i(3),lJ={draw(t,e){const n=-$i(e/(zw*3));t.moveTo(0,n*2),t.lineTo(-zw*n,-n),t.lineTo(zw*n,-n),t.closePath()}},mi=-.5,pi=$i(3)/2,hA=1/$i(12),cJ=(hA/2+1)*3,fJ={draw(t,e){const n=$i(e/cJ),r=n/2,i=n*hA,a=r,u=n*hA+n,l=-a,f=u;t.moveTo(r,i),t.lineTo(a,u),t.lineTo(l,f),t.lineTo(mi*r-pi*i,pi*r+mi*i),t.lineTo(mi*a-pi*u,pi*a+mi*u),t.lineTo(mi*l-pi*f,pi*l+mi*f),t.lineTo(mi*r+pi*i,mi*i-pi*r),t.lineTo(mi*a+pi*u,mi*u-pi*a),t.lineTo(mi*l+pi*f,mi*f-pi*l),t.closePath()}};function hJ(t,e){let n=null,r=Q1(i);t=typeof t=="function"?t:Tt(t||J1),e=typeof e=="function"?e:Tt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Tt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Tt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function sv(){}function ov(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function FU(t){this._context=t}FU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ov(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ov(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dJ(t){return new FU(t)}function $U(t){this._context=t}$U.prototype={areaStart:sv,areaEnd:sv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ov(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mJ(t){return new $U(t)}function HU(t){this._context=t}HU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ov(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pJ(t){return new HU(t)}function GU(t){this._context=t}GU.prototype={areaStart:sv,areaEnd:sv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function gJ(t){return new GU(t)}function mN(t){return t<0?-1:1}function pN(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),u=(n-t._y1)/(i||r<0&&-0),l=(a*i+u*r)/(r+i);return(mN(a)+mN(u))*Math.min(Math.abs(a),Math.abs(u),.5*Math.abs(l))||0}function gN(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Fw(t,e,n){var r=t._x0,i=t._y0,a=t._x1,u=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,u-l*n,a,u)}function uv(t){this._context=t}uv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fw(this,this._t0,gN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Fw(this,gN(this,n=pN(this,t,e)),n);break;default:Fw(this,this._t0,n=pN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function KU(t){this._context=new WU(t)}(KU.prototype=Object.create(uv.prototype)).point=function(t,e){uv.prototype.point.call(this,e,t)};function WU(t){this._context=t}WU.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function yJ(t){return new uv(t)}function vJ(t){return new KU(t)}function YU(t){this._context=t}YU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=yN(t),i=yN(e),a=0,u=1;u<n;++a,++u)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[u],e[u]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function yN(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),u=new Array(n);for(i[0]=0,a[0]=2,u[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,u[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,u[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,u[e]-=r*u[e-1];for(i[n-1]=u[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(u[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function _J(t){return new YU(t)}function O_(t,e){this._context=t,this._t=e}O_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function bJ(t){return new O_(t,.5)}function wJ(t){return new O_(t,0)}function EJ(t){return new O_(t,1)}function bf(t,e){if((u=t.length)>1)for(var n=1,r,i,a=t[e[0]],u,l=a.length;n<u;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function dA(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function TJ(t,e){return t[e]}function AJ(t){const e=[];return e.key=t,e}function SJ(){var t=Tt([]),e=dA,n=bf,r=TJ;function i(a){var u=Array.from(t.apply(this,arguments),AJ),l,f=u.length,h=-1,m;for(const p of a)for(l=0,++h;l<f;++l)(u[l][h]=[0,+r(p,u[l].key,h,a)]).data=p;for(l=0,m=X1(e(u));l<f;++l)u[m[l]].index=l;return n(u,m),u}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Tt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Tt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?dA:typeof a=="function"?a:Tt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??bf,i):n},i}function IJ(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,u;i<a;++i){for(u=n=0;n<r;++n)u+=t[n][i][1]||0;if(u)for(n=0;n<r;++n)t[n][i][1]/=u}bf(t,e)}}function xJ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var u=0,l=0;u<i;++u)l+=t[u][n][1]||0;r[n][1]+=r[n][0]=-l/2}bf(t,e)}}function RJ(t,e){if(!(!((u=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,u;r<a;++r){for(var l=0,f=0,h=0;l<u;++l){for(var m=t[e[l]],p=m[r][1]||0,v=m[r-1][1]||0,b=(p-v)/2,E=0;E<l;++E){var T=t[e[E]],A=T[r][1]||0,R=T[r-1][1]||0;b+=A-R}f+=p,h+=b*p}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,bf(t,e)}}var PJ=["type","size","sizeType"];function mA(){return mA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mA.apply(null,arguments)}function vN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _N(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vN(Object(n),!0).forEach(function(r){CJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CJ(t,e,n){return(e=OJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OJ(t){var e=DJ(t,"string");return typeof e=="symbol"?e:e+""}function DJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NJ(t,e){if(t==null)return{};var n,r,i=kJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var QU={symbolCircle:J1,symbolCross:tJ,symbolDiamond:rJ,symbolSquare:iJ,symbolStar:uJ,symbolTriangle:lJ,symbolWye:fJ},MJ=Math.PI/180,VJ=t=>{var e="symbol".concat(ip(t));return QU[e]||J1},LJ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*MJ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},jJ=(t,e)=>{QU["symbol".concat(ip(t))]=e},XU=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=NJ(t,PJ),a=_N(_N({},i),{},{type:e,size:n,sizeType:r}),u=()=>{var p=VJ(e),v=hJ().type(p).size(LJ(n,r,e));return v()},{className:l,cx:f,cy:h}=a,m=Mn(a,!0);return f===+f&&h===+h&&n===+n?x.createElement("path",mA({},m,{className:Rt("recharts-symbols",l),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};XU.registerSymbol=jJ;var $w={},Hw={},bN;function UJ(){return bN||(bN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const u=n[a],l=r(u);i.has(l)||i.set(l,u)}return Array.from(i.values())}t.uniqBy=e})(Hw)),Hw}var Gw={},wN;function JU(){return wN||(wN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Gw)),Gw}var Kw={},Ww={},Yw={},EN;function BJ(){return EN||(EN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Yw)),Yw}var TN;function Z1(){return TN||(TN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BJ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Ww)),Ww}var Qw={},AN;function qJ(){return AN||(AN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Qw)),Qw}var SN;function zJ(){return SN||(SN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z1(),n=qJ();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Kw)),Kw}var Xw={},Jw={},IN;function FJ(){return IN||(IN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G1();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Jw)),Jw}var Zw={},eE={},tE={},nE={},xN;function ZU(){return xN||(xN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(nE)),nE}var rE={},RN;function e3(){return RN||(RN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(rE)),rE}var iE={},PN;function eI(){return PN||(PN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(iE)),iE}var CN;function $J(){return CN||(CN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tI(),n=ZU(),r=e3(),i=eI();function a(p,v,b){return typeof b!="function"?e.isMatch(p,v):u(p,v,function E(T,A,R,C,P,U){const L=b(T,A,R,C,P,U);return L!==void 0?!!L:u(T,A,E,U)},new Map)}function u(p,v,b,E){if(v===p)return!0;switch(typeof v){case"object":return l(p,v,b,E);case"function":return Object.keys(v).length>0?u(p,{...v},b,E):i.eq(p,v);default:return n.isObject(p)?typeof v=="string"?v==="":!0:i.eq(p,v)}}function l(p,v,b,E){if(v==null)return!0;if(Array.isArray(v))return h(p,v,b,E);if(v instanceof Map)return f(p,v,b,E);if(v instanceof Set)return m(p,v,b,E);const T=Object.keys(v);if(p==null)return T.length===0;if(T.length===0)return!0;if(E&&E.has(v))return E.get(v)===p;E&&E.set(v,p);try{for(let A=0;A<T.length;A++){const R=T[A];if(!r.isPrimitive(p)&&!(R in p)||v[R]===void 0&&p[R]!==void 0||v[R]===null&&p[R]!==null||!b(p[R],v[R],R,p,v,E))return!1}return!0}finally{E&&E.delete(v)}}function f(p,v,b,E){if(v.size===0)return!0;if(!(p instanceof Map))return!1;for(const[T,A]of v.entries()){const R=p.get(T);if(b(R,A,T,p,v,E)===!1)return!1}return!0}function h(p,v,b,E){if(v.length===0)return!0;if(!Array.isArray(p))return!1;const T=new Set;for(let A=0;A<v.length;A++){const R=v[A];let C=!1;for(let P=0;P<p.length;P++){if(T.has(P))continue;const U=p[P];let L=!1;if(b(U,R,A,p,v,E)&&(L=!0),L){T.add(P),C=!0;break}}if(!C)return!1}return!0}function m(p,v,b,E){return v.size===0?!0:p instanceof Set?h([...p],[...v],b,E):!1}t.isMatchWith=a,t.isSetMatch=m})(tE)),tE}var ON;function tI(){return ON||(ON=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$J();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(eE)),eE}var aE={},sE={},oE={},DN;function t3(){return DN||(DN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(oE)),oE}var uE={},NN;function nI(){return NN||(NN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(uE)),uE}var lE={},kN;function rI(){return kN||(kN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",u="[object Symbol]",l="[object Date]",f="[object Map]",h="[object Set]",m="[object Array]",p="[object Function]",v="[object ArrayBuffer]",b="[object Object]",E="[object Error]",T="[object DataView]",A="[object Uint8Array]",R="[object Uint8ClampedArray]",C="[object Uint16Array]",P="[object Uint32Array]",U="[object BigUint64Array]",L="[object Int8Array]",$="[object Int16Array]",D="[object Int32Array]",N="[object BigInt64Array]",M="[object Float32Array]",B="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=v,t.arrayTag=m,t.bigInt64ArrayTag=N,t.bigUint64ArrayTag=U,t.booleanTag=i,t.dataViewTag=T,t.dateTag=l,t.errorTag=E,t.float32ArrayTag=M,t.float64ArrayTag=B,t.functionTag=p,t.int16ArrayTag=$,t.int32ArrayTag=D,t.int8ArrayTag=L,t.mapTag=f,t.numberTag=r,t.objectTag=b,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=u,t.uint16ArrayTag=C,t.uint32ArrayTag=P,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=R})(lE)),lE}var cE={},MN;function HJ(){return MN||(MN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(cE)),cE}var VN;function n3(){return VN||(VN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=t3(),n=nI(),r=rI(),i=e3(),a=HJ();function u(m,p){return l(m,void 0,m,new Map,p)}function l(m,p,v,b=new Map,E=void 0){const T=E==null?void 0:E(m,p,v,b);if(T!==void 0)return T;if(i.isPrimitive(m))return m;if(b.has(m))return b.get(m);if(Array.isArray(m)){const A=new Array(m.length);b.set(m,A);for(let R=0;R<m.length;R++)A[R]=l(m[R],R,v,b,E);return Object.hasOwn(m,"index")&&(A.index=m.index),Object.hasOwn(m,"input")&&(A.input=m.input),A}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const A=new RegExp(m.source,m.flags);return A.lastIndex=m.lastIndex,A}if(m instanceof Map){const A=new Map;b.set(m,A);for(const[R,C]of m)A.set(R,l(C,R,v,b,E));return A}if(m instanceof Set){const A=new Set;b.set(m,A);for(const R of m)A.add(l(R,void 0,v,b,E));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(a.isTypedArray(m)){const A=new(Object.getPrototypeOf(m)).constructor(m.length);b.set(m,A);for(let R=0;R<m.length;R++)A[R]=l(m[R],R,v,b,E);return A}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const A=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return b.set(m,A),f(A,m,v,b,E),A}if(typeof File<"u"&&m instanceof File){const A=new File([m],m.name,{type:m.type});return b.set(m,A),f(A,m,v,b,E),A}if(m instanceof Blob){const A=new Blob([m],{type:m.type});return b.set(m,A),f(A,m,v,b,E),A}if(m instanceof Error){const A=new m.constructor;return b.set(m,A),A.message=m.message,A.name=m.name,A.stack=m.stack,A.cause=m.cause,f(A,m,v,b,E),A}if(typeof m=="object"&&h(m)){const A=Object.create(Object.getPrototypeOf(m));return b.set(m,A),f(A,m,v,b,E),A}return m}function f(m,p,v=m,b,E){const T=[...Object.keys(p),...e.getSymbols(p)];for(let A=0;A<T.length;A++){const R=T[A],C=Object.getOwnPropertyDescriptor(m,R);(C==null||C.writable)&&(m[R]=l(p[R],R,v,b,E))}}function h(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=u,t.cloneDeepWithImpl=l,t.copyProperties=f})(sE)),sE}var LN;function GJ(){return LN||(LN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=n3();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(aE)),aE}var jN;function KJ(){return jN||(jN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tI(),n=GJ();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(Zw)),Zw}var fE={},hE={},dE={},UN;function WJ(){return UN||(UN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=n3(),n=rI();function r(i,a){return e.cloneDeepWith(i,(u,l,f,h)=>{const m=a==null?void 0:a(u,l,f,h);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(dE)),dE}var BN;function YJ(){return BN||(BN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WJ();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(hE)),hE}var mE={},pE={},qN;function r3(){return qN||(qN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(pE)),pE}var gE={},zN;function QJ(){return zN||(zN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nI();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(gE)),gE}var FN;function XJ(){return FN||(FN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RU(),n=r3(),r=QJ(),i=H1();function a(u,l){let f;if(Array.isArray(l)?f=l:typeof l=="string"&&e.isDeepKey(l)&&(u==null?void 0:u[l])==null?f=i.toPath(l):f=[l],f.length===0)return!1;let h=u;for(let m=0;m<f.length;m++){const p=f[m];if((h==null||!Object.hasOwn(h,p))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(p)&&p<h.length))return!1;h=h[p]}return!0}t.has=a})(mE)),mE}var $N;function JJ(){return $N||($N=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tI(),n=PU(),r=YJ(),i=G1(),a=XJ();function u(l,f){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return f=r.cloneDeep(f),function(h){const m=i.get(h,l);return m===void 0?a.has(h,l):f===void 0?m===void 0:e.isMatch(m,f)}}t.matchesProperty=u})(fE)),fE}var HN;function ZJ(){return HN||(HN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JU(),n=FJ(),r=KJ(),i=JJ();function a(u){if(u==null)return e.identity;switch(typeof u){case"function":return u;case"object":return Array.isArray(u)&&u.length===2?i.matchesProperty(u[0],u[1]):r.matches(u);case"string":case"symbol":case"number":return n.property(u)}}t.iteratee=a})(Xw)),Xw}var GN;function eZ(){return GN||(GN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UJ(),n=JU(),r=zJ(),i=ZJ();function a(u,l=n.identity){return r.isArrayLikeObject(u)?e.uniqBy(Array.from(u),i.iteratee(l)):[]}t.uniqBy=a})($w)),$w}var yE,KN;function tZ(){return KN||(KN=1,yE=eZ().uniqBy),yE}var nZ=tZ();const WN=qi(nZ);function rZ(t,e,n){return e===!0?WN(t,n):typeof e=="function"?WN(t,e):t}var vE={exports:{}},_E={},bE={exports:{}},wE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YN;function iZ(){if(YN)return wE;YN=1;var t=Cf();function e(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,u=t.useDebugValue;function l(p,v){var b=v(),E=r({inst:{value:b,getSnapshot:v}}),T=E[0].inst,A=E[1];return a(function(){T.value=b,T.getSnapshot=v,f(T)&&A({inst:T})},[p,b,v]),i(function(){return f(T)&&A({inst:T}),p(function(){f(T)&&A({inst:T})})},[p]),u(b),b}function f(p){var v=p.getSnapshot;p=p.value;try{var b=v();return!n(p,b)}catch{return!0}}function h(p,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:l;return wE.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,wE}var QN;function aZ(){return QN||(QN=1,bE.exports=iZ()),bE.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XN;function sZ(){if(XN)return _E;XN=1;var t=Cf(),e=aZ();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,u=t.useEffect,l=t.useMemo,f=t.useDebugValue;return _E.useSyncExternalStoreWithSelector=function(h,m,p,v,b){var E=a(null);if(E.current===null){var T={hasValue:!1,value:null};E.current=T}else T=E.current;E=l(function(){function R($){if(!C){if(C=!0,P=$,$=v($),b!==void 0&&T.hasValue){var D=T.value;if(b(D,$))return U=D}return U=$}if(D=U,r(P,$))return D;var N=v($);return b!==void 0&&b(D,N)?(P=$,D):(P=$,U=N)}var C=!1,P,U,L=p===void 0?null:p;return[function(){return R(m())},L===null?void 0:function(){return R(L())}]},[m,p,v,b]);var A=i(h,E[0],E[1]);return u(function(){T.hasValue=!0,T.value=A},[A]),f(A),A},_E}var JN;function oZ(){return JN||(JN=1,vE.exports=sZ()),vE.exports}var uZ=oZ(),iI=x.createContext(null),lZ=t=>t,Ln=()=>{var t=x.useContext(iI);return t?t.store.dispatch:lZ},Cy=()=>{},cZ=()=>Cy,fZ=(t,e)=>t===e;function Ce(t){var e=x.useContext(iI);return uZ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:cZ,e?e.store.getState:Cy,e?e.store.getState:Cy,e?t:Cy,fZ)}function hZ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function dZ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function mZ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var ZN=t=>Array.isArray(t)?t:[t];function pZ(t){const e=Array.isArray(t[0])?t[0]:t;return mZ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function gZ(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var yZ=class{constructor(t){this.value=t}deref(){return this.value}},vZ=typeof WeakRef<"u"?WeakRef:yZ,_Z=0,e2=1;function Zg(){return{s:_Z,v:void 0,o:null,p:null}}function i3(t,e={}){let n=Zg();const{resultEqualityCheck:r}=e;let i,a=0;function u(){var p;let l=n;const{length:f}=arguments;for(let v=0,b=f;v<b;v++){const E=arguments[v];if(typeof E=="function"||typeof E=="object"&&E!==null){let T=l.o;T===null&&(l.o=T=new WeakMap);const A=T.get(E);A===void 0?(l=Zg(),T.set(E,l)):l=A}else{let T=l.p;T===null&&(l.p=T=new Map);const A=T.get(E);A===void 0?(l=Zg(),T.set(E,l)):l=A}}const h=l;let m;if(l.s===e2)m=l.v;else if(m=t.apply(null,arguments),a++,r){const v=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;v!=null&&r(v,m)&&(m=v,a!==0&&a--),i=typeof m=="object"&&m!==null||typeof m=="function"?new vZ(m):m}return h.s=e2,h.v=m,m}return u.clearCache=()=>{n=Zg(),u.resetResultsCount()},u.resultsCount=()=>a,u.resetResultsCount=()=>{a=0},u}function bZ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,u=0,l,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),hZ(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const m={...n,...f},{memoize:p,memoizeOptions:v=[],argsMemoize:b=i3,argsMemoizeOptions:E=[]}=m,T=ZN(v),A=ZN(E),R=pZ(i),C=p(function(){return a++,h.apply(null,arguments)},...T),P=b(function(){u++;const L=gZ(R,arguments);return l=C.apply(null,L),l},...A);return Object.assign(P,{resultFunc:h,memoizedResultFunc:C,dependencies:R,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var re=bZ(i3),wZ=Object.assign((t,e=re)=>{dZ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((u,l,f)=>(u[n[f]]=l,u),{}))},{withTypes:()=>wZ}),EE={},TE={},AE={},t2;function EZ(){return t2||(t2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const u=e(r),l=e(i);if(u===l&&u===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-u:u-l}return 0};t.compareValues=n})(AE)),AE}var SE={},IE={},n2;function a3(){return n2||(n2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(IE)),IE}var r2;function TZ(){return r2||(r2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a3(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,u){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||u!=null&&Object.hasOwn(u,a)}t.isKey=i})(SE)),SE}var i2;function AZ(){return i2||(i2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EZ(),n=TZ(),r=H1();function i(a,u,l,f){if(a==null)return[];l=f?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(u)||(u=u==null?[null]:[u]),u.length===0&&(u=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(b=>String(b));const h=(b,E)=>{let T=b;for(let A=0;A<E.length&&T!=null;++A)T=T[E[A]];return T},m=(b,E)=>E==null||b==null?E:typeof b=="object"&&"key"in b?Object.hasOwn(E,b.key)?E[b.key]:h(E,b.path):typeof b=="function"?b(E):Array.isArray(b)?h(E,b):typeof E=="object"?E[b]:E,p=u.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return a.map(b=>({original:b,criteria:p.map(E=>m(E,b))})).slice().sort((b,E)=>{for(let T=0;T<p.length;T++){const A=e.compareValues(b.criteria[T],E.criteria[T],l[T]);if(A!==0)return A}return 0}).map(b=>b.original)}t.orderBy=i})(TE)),TE}var xE={},a2;function SZ(){return a2||(a2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),u=(l,f)=>{for(let h=0;h<l.length;h++){const m=l[h];Array.isArray(m)&&f<a?u(m,f+1):i.push(m)}};return u(n,0),i}t.flatten=e})(xE)),xE}var RE={},s2;function s3(){return s2||(s2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=r3(),n=Z1(),r=ZU(),i=eI();function a(u,l,f){return r.isObject(f)&&(typeof l=="number"&&n.isArrayLike(f)&&e.isIndex(l)&&l<f.length||typeof l=="string"&&l in f)?i.eq(f[l],u):!1}t.isIterateeCall=a})(RE)),RE}var o2;function IZ(){return o2||(o2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AZ(),n=SZ(),r=s3();function i(a,...u){const l=u.length;return l>1&&r.isIterateeCall(a,u[0],u[1])?u=[]:l>2&&r.isIterateeCall(u[0],u[1],u[2])&&(u=[u[0]]),e.orderBy(a,n.flatten(u),["asc"])}t.sortBy=i})(EE)),EE}var PE,u2;function xZ(){return u2||(u2=1,PE=IZ().sortBy),PE}var RZ=xZ();const D_=qi(RZ);var o3=t=>t.legend.settings,PZ=t=>t.legend.size,CZ=t=>t.legend.payload;re([CZ,o3],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?D_(r,n):r});var ey=1;function OZ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),u={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(u.height-e.height)>ey||Math.abs(u.left-e.left)>ey||Math.abs(u.top-e.top)>ey||Math.abs(u.width-e.width)>ey)&&n({height:u.height,left:u.left,top:u.top,width:u.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Hn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var DZ=typeof Symbol=="function"&&Symbol.observable||"@@observable",l2=DZ,CE=()=>Math.random().toString(36).substring(7).split("").join("."),NZ={INIT:`@@redux/INIT${CE()}`,REPLACE:`@@redux/REPLACE${CE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${CE()}`},lv=NZ;function aI(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function u3(t,e,n){if(typeof t!="function")throw new Error(Hn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Hn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Hn(1));return n(u3)(t,e)}let r=t,i=e,a=new Map,u=a,l=0,f=!1;function h(){u===a&&(u=new Map,a.forEach((A,R)=>{u.set(R,A)}))}function m(){if(f)throw new Error(Hn(3));return i}function p(A){if(typeof A!="function")throw new Error(Hn(4));if(f)throw new Error(Hn(5));let R=!0;h();const C=l++;return u.set(C,A),function(){if(R){if(f)throw new Error(Hn(6));R=!1,h(),u.delete(C),a=null}}}function v(A){if(!aI(A))throw new Error(Hn(7));if(typeof A.type>"u")throw new Error(Hn(8));if(typeof A.type!="string")throw new Error(Hn(17));if(f)throw new Error(Hn(9));try{f=!0,i=r(i,A)}finally{f=!1}return(a=u).forEach(C=>{C()}),A}function b(A){if(typeof A!="function")throw new Error(Hn(10));r=A,v({type:lv.REPLACE})}function E(){const A=p;return{subscribe(R){if(typeof R!="object"||R===null)throw new Error(Hn(11));function C(){const U=R;U.next&&U.next(m())}return C(),{unsubscribe:A(C)}},[l2](){return this}}}return v({type:lv.INIT}),{dispatch:v,subscribe:p,getState:m,replaceReducer:b,[l2]:E}}function kZ(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:lv.INIT})>"u")throw new Error(Hn(12));if(typeof n(void 0,{type:lv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Hn(13))})}function l3(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const u=e[a];typeof t[u]=="function"&&(n[u]=t[u])}const r=Object.keys(n);let i;try{kZ(n)}catch(a){i=a}return function(u={},l){if(i)throw i;let f=!1;const h={};for(let m=0;m<r.length;m++){const p=r[m],v=n[p],b=u[p],E=v(b,l);if(typeof E>"u")throw l&&l.type,new Error(Hn(14));h[p]=E,f=f||E!==b}return f=f||r.length!==Object.keys(u).length,f?h:u}}function cv(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function MZ(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Hn(15))};const u={getState:i.getState,dispatch:(f,...h)=>a(f,...h)},l=t.map(f=>f(u));return a=cv(...l)(i.dispatch),{...i,dispatch:a}}}function c3(t){return aI(t)&&"type"in t&&typeof t.type=="string"}var f3=Symbol.for("immer-nothing"),c2=Symbol.for("immer-draftable"),Zr=Symbol.for("immer-state");function Ni(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var wf=Object.getPrototypeOf;function yl(t){return!!t&&!!t[Zr]}function ms(t){var e;return t?h3(t)||Array.isArray(t)||!!t[c2]||!!((e=t.constructor)!=null&&e[c2])||sp(t)||k_(t):!1}var VZ=Object.prototype.constructor.toString();function h3(t){if(!t||typeof t!="object")return!1;const e=wf(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===VZ}function fv(t,e){N_(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function N_(t){const e=t[Zr];return e?e.type_:Array.isArray(t)?1:sp(t)?2:k_(t)?3:0}function pA(t,e){return N_(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function d3(t,e,n){const r=N_(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function LZ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function sp(t){return t instanceof Map}function k_(t){return t instanceof Set}function ku(t){return t.copy_||t.base_}function gA(t,e){if(sp(t))return new Map(t);if(k_(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=h3(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Zr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const u=i[a],l=r[u];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[u]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[u]})}return Object.create(wf(t),r)}else{const r=wf(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function sI(t,e=!1){return M_(t)||yl(t)||!ms(t)||(N_(t)>1&&Object.defineProperties(t,{set:{value:ty},add:{value:ty},clear:{value:ty},delete:{value:ty}}),Object.freeze(t),e&&Object.values(t).forEach(n=>sI(n,!0))),t}function ty(){Ni(2)}function M_(t){return Object.isFrozen(t)}var jZ={};function vl(t){const e=jZ[t];return e||Ni(0,t),e}var Sm;function m3(){return Sm}function UZ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function f2(t,e){e&&(vl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function yA(t){vA(t),t.drafts_.forEach(BZ),t.drafts_=null}function vA(t){t===Sm&&(Sm=t.parent_)}function h2(t){return Sm=UZ(Sm,t)}function BZ(t){const e=t[Zr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function d2(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Zr].modified_&&(yA(e),Ni(4)),ms(t)&&(t=hv(e,t),e.parent_||dv(e,t)),e.patches_&&vl("Patches").generateReplacementPatches_(n[Zr].base_,t,e.patches_,e.inversePatches_)):t=hv(e,n,[]),yA(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==f3?t:void 0}function hv(t,e,n){if(M_(e))return e;const r=e[Zr];if(!r)return fv(e,(i,a)=>m2(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return dv(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,u=!1;r.type_===3&&(a=new Set(i),i.clear(),u=!0),fv(a,(l,f)=>m2(t,r,i,l,f,n,u)),dv(t,i,!1),n&&t.patches_&&vl("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function m2(t,e,n,r,i,a,u){if(yl(i)){const l=a&&e&&e.type_!==3&&!pA(e.assigned_,r)?a.concat(r):void 0,f=hv(t,i,l);if(d3(n,r,f),yl(f))t.canAutoFreeze_=!1;else return}else u&&n.add(i);if(ms(i)&&!M_(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;hv(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(sp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&dv(t,i)}}function dv(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&sI(e,n)}function qZ(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:m3(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=oI;n&&(i=[r],a=Im);const{revoke:u,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=u,l}var oI={get(t,e){if(e===Zr)return t;const n=ku(t);if(!pA(n,e))return zZ(t,n,e);const r=n[e];return t.finalized_||!ms(r)?r:r===OE(t.base_,e)?(DE(t),t.copy_[e]=bA(r,t)):r},has(t,e){return e in ku(t)},ownKeys(t){return Reflect.ownKeys(ku(t))},set(t,e,n){const r=p3(ku(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=OE(ku(t),e),a=i==null?void 0:i[Zr];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(LZ(n,i)&&(n!==void 0||pA(t.base_,e)))return!0;DE(t),_A(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return OE(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,DE(t),_A(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ku(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ni(11)},getPrototypeOf(t){return wf(t.base_)},setPrototypeOf(){Ni(12)}},Im={};fv(oI,(t,e)=>{Im[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Im.deleteProperty=function(t,e){return Im.set.call(this,t,e,void 0)};Im.set=function(t,e,n){return oI.set.call(this,t[0],e,n,t[0])};function OE(t,e){const n=t[Zr];return(n?ku(n):t)[e]}function zZ(t,e,n){var i;const r=p3(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function p3(t,e){if(!(e in t))return;let n=wf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=wf(n)}}function _A(t){t.modified_||(t.modified_=!0,t.parent_&&_A(t.parent_))}function DE(t){t.copy_||(t.copy_=gA(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var FZ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const u=this;return function(f=a,...h){return u.produce(f,m=>n.call(this,m,...h))}}typeof n!="function"&&Ni(6),r!==void 0&&typeof r!="function"&&Ni(7);let i;if(ms(e)){const a=h2(this),u=bA(e,void 0);let l=!0;try{i=n(u),l=!1}finally{l?yA(a):vA(a)}return f2(a,r),d2(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===f3&&(i=void 0),this.autoFreeze_&&sI(i,!0),r){const a=[],u=[];vl("Patches").generateReplacementPatches_(e,i,a,u),r(a,u)}return i}else Ni(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(u,...l)=>this.produceWithPatches(u,f=>e(f,...l));let r,i;return[this.produce(e,n,(u,l)=>{r=u,i=l}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ms(t)||Ni(8),yl(t)&&(t=os(t));const e=h2(this),n=bA(t,void 0);return n[Zr].isManual_=!0,vA(e),n}finishDraft(t,e){const n=t&&t[Zr];(!n||!n.isManual_)&&Ni(9);const{scope_:r}=n;return f2(r,e),d2(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=vl("Patches").applyPatches_;return yl(t)?r(t,e):this.produce(t,i=>r(i,e))}};function bA(t,e){const n=sp(t)?vl("MapSet").proxyMap_(t,e):k_(t)?vl("MapSet").proxySet_(t,e):qZ(t,e);return(e?e.scope_:m3()).drafts_.push(n),n}function os(t){return yl(t)||Ni(10,t),g3(t)}function g3(t){if(!ms(t)||M_(t))return t;const e=t[Zr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=gA(t,e.scope_.immer_.useStrictShallowCopy_)}else n=gA(t,!0);return fv(n,(r,i)=>{d3(n,r,g3(i))}),e&&(e.finalized_=!1),n}var $Z=new FZ,y3=$Z.produce;function v3(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var HZ=v3(),GZ=v3,KZ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?cv:cv.apply(null,arguments)};function Ei(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Yr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>c3(r)&&r.type===t,n}var _3=class Md extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Md.prototype)}static get[Symbol.species](){return Md}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Md(...e[0].concat(this)):new Md(...e.concat(this))}};function p2(t){return ms(t)?y3(t,()=>{}):t}function ny(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function WZ(t){return typeof t=="boolean"}var YZ=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let u=new _3;return n&&(WZ(n)?u.push(HZ):u.push(GZ(n.extraArgument))),u},QZ="RTK_autoBatch",g2=t=>e=>{setTimeout(e,t)},XZ=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,u=!1;const l=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:g2(10):t.type==="callback"?t.queueNotification:g2(t.timeout),h=()=>{u=!1,a&&(a=!1,l.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const p=()=>i&&m(),v=r.subscribe(p);return l.add(m),()=>{v(),l.delete(m)}},dispatch(m){var p;try{return i=!((p=m==null?void 0:m.meta)!=null&&p[QZ]),a=!i,a&&(u||(u=!0,f(h))),r.dispatch(m)}finally{i=!0}}})},JZ=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new _3(t);return r&&i.push(XZ(typeof r=="object"?r:void 0)),i};function ZZ(t){const e=YZ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:u=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(aI(n))l=l3(n);else throw new Error(Yr(1));let f;typeof r=="function"?f=r(e):f=e();let h=cv;i&&(h=KZ({trace:!1,...typeof i=="object"&&i}));const m=MZ(...f),p=JZ(m);let v=typeof u=="function"?u(p):p();const b=h(...v);return u3(l,a,b)}function b3(t){const e={},n=[];let r;const i={addCase(a,u){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Yr(28));if(l in e)throw new Error(Yr(29));return e[l]=u,i},addAsyncThunk(a,u){return u.pending&&(e[a.pending.type]=u.pending),u.rejected&&(e[a.rejected.type]=u.rejected),u.fulfilled&&(e[a.fulfilled.type]=u.fulfilled),u.settled&&n.push({matcher:a.settled,reducer:u.settled}),i},addMatcher(a,u){return n.push({matcher:a,reducer:u}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function eee(t){return typeof t=="function"}function tee(t,e){let[n,r,i]=b3(e),a;if(eee(t))a=()=>p2(t());else{const l=p2(t);a=()=>l}function u(l=a(),f){let h=[n[f.type],...r.filter(({matcher:m})=>m(f)).map(({reducer:m})=>m)];return h.filter(m=>!!m).length===0&&(h=[i]),h.reduce((m,p)=>{if(p)if(yl(m)){const b=p(m,f);return b===void 0?m:b}else{if(ms(m))return y3(m,v=>p(v,f));{const v=p(m,f);if(v===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return m},l)}return u.getInitialState=a,u}var nee="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ree=(t=21)=>{let e="",n=t;for(;n--;)e+=nee[Math.random()*64|0];return e},iee=Symbol.for("rtk-slice-createasyncthunk");function aee(t,e){return`${t}/${e}`}function see({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[iee];return function(i){const{name:a,reducerPath:u=a}=i;if(!a)throw new Error(Yr(11));const l=(typeof i.reducers=="function"?i.reducers(uee()):i.reducers)||{},f=Object.keys(l),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(U,L){const $=typeof U=="string"?U:U.type;if(!$)throw new Error(Yr(12));if($ in h.sliceCaseReducersByType)throw new Error(Yr(13));return h.sliceCaseReducersByType[$]=L,m},addMatcher(U,L){return h.sliceMatchers.push({matcher:U,reducer:L}),m},exposeAction(U,L){return h.actionCreators[U]=L,m},exposeCaseReducer(U,L){return h.sliceCaseReducersByName[U]=L,m}};f.forEach(U=>{const L=l[U],$={reducerName:U,type:aee(a,U),createNotation:typeof i.reducers=="function"};cee(L)?hee($,L,m,e):lee($,L,m)});function p(){const[U={},L=[],$=void 0]=typeof i.extraReducers=="function"?b3(i.extraReducers):[i.extraReducers],D={...U,...h.sliceCaseReducersByType};return tee(i.initialState,N=>{for(let M in D)N.addCase(M,D[M]);for(let M of h.sliceMatchers)N.addMatcher(M.matcher,M.reducer);for(let M of L)N.addMatcher(M.matcher,M.reducer);$&&N.addDefaultCase($)})}const v=U=>U,b=new Map,E=new WeakMap;let T;function A(U,L){return T||(T=p()),T(U,L)}function R(){return T||(T=p()),T.getInitialState()}function C(U,L=!1){function $(N){let M=N[U];return typeof M>"u"&&L&&(M=ny(E,$,R)),M}function D(N=v){const M=ny(b,L,()=>new WeakMap);return ny(M,N,()=>{const B={};for(const[j,q]of Object.entries(i.selectors??{}))B[j]=oee(q,N,()=>ny(E,N,R),L);return B})}return{reducerPath:U,getSelectors:D,get selectors(){return D($)},selectSlice:$}}const P={name:a,reducer:A,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:R,...C(u),injectInto(U,{reducerPath:L,...$}={}){const D=L??u;return U.inject({reducerPath:D,reducer:A},$),{...P,...C(D,!0)}}};return P}}function oee(t,e,n,r){function i(a,...u){let l=e(a);return typeof l>"u"&&r&&(l=n()),t(l,...u)}return i.unwrapped=t,i}var ti=see();function uee(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function lee({type:t,reducerName:e,createNotation:n},r,i){let a,u;if("reducer"in r){if(n&&!fee(r))throw new Error(Yr(17));a=r.reducer,u=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,u?Ei(t,u):Ei(t))}function cee(t){return t._reducerDefinitionType==="asyncThunk"}function fee(t){return t._reducerDefinitionType==="reducerWithPrepare"}function hee({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Yr(18));const{payloadCreator:a,fulfilled:u,pending:l,rejected:f,settled:h,options:m}=n,p=i(t,a,m);r.exposeAction(e,p),u&&r.addCase(p.fulfilled,u),l&&r.addCase(p.pending,l),f&&r.addCase(p.rejected,f),h&&r.addMatcher(p.settled,h),r.exposeCaseReducer(e,{fulfilled:u||ry,pending:l||ry,rejected:f||ry,settled:h||ry})}function ry(){}var dee="task",w3="listener",E3="completed",uI="cancelled",mee=`task-${uI}`,pee=`task-${E3}`,wA=`${w3}-${uI}`,gee=`${w3}-${E3}`,V_=class{constructor(t){rw(this,"name","TaskAbortError");rw(this,"message");this.code=t,this.message=`${dee} ${uI} (reason: ${t})`}},lI=(t,e)=>{if(typeof t!="function")throw new TypeError(Yr(32))},mv=()=>{},T3=(t,e=mv)=>(t.catch(e),t),A3=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Zu=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},el=t=>{if(t.aborted){const{reason:e}=t;throw new V_(e)}};function S3(t,e){let n=mv;return new Promise((r,i)=>{const a=()=>i(new V_(t.reason));if(t.aborted){a();return}n=A3(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=mv})}var yee=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof V_?"cancelled":"rejected",error:n}}finally{e==null||e()}},pv=t=>e=>T3(S3(t,e).then(n=>(el(t),n))),I3=t=>{const e=pv(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Wc}=Object,y2={},L_="listenerMiddleware",vee=(t,e)=>{const n=r=>A3(t,()=>Zu(r,t.reason));return(r,i)=>{lI(r);const a=new AbortController;n(a);const u=yee(async()=>{el(t),el(a.signal);const l=await r({pause:pv(a.signal),delay:I3(a.signal),signal:a.signal});return el(a.signal),l},()=>Zu(a,pee));return i!=null&&i.autoJoin&&e.push(u.catch(mv)),{result:pv(t)(u),cancel(){Zu(a,mee)}}}},_ee=(t,e)=>{const n=async(r,i)=>{el(e);let a=()=>{};const l=[new Promise((f,h)=>{let m=t({predicate:r,effect:(p,v)=>{v.unsubscribe(),f([p,v.getState(),v.getOriginalState()])}});a=()=>{m(),h()}})];i!=null&&l.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await S3(e,Promise.race(l));return el(e),f}finally{a()}};return(r,i)=>T3(n(r,i))},x3=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Ei(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Yr(21));return lI(a),{predicate:i,type:e,effect:a}},R3=Wc(t=>{const{type:e,predicate:n,effect:r}=x3(t);return{id:ree(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Yr(22))}}},{withTypes:()=>R3}),v2=(t,e)=>{const{type:n,effect:r,predicate:i}=x3(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},EA=t=>{t.pending.forEach(e=>{Zu(e,wA)})},bee=t=>()=>{t.forEach(EA),t.clear()},_2=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},P3=Wc(Ei(`${L_}/add`),{withTypes:()=>P3}),wee=Ei(`${L_}/removeAll`),C3=Wc(Ei(`${L_}/remove`),{withTypes:()=>C3}),Eee=(...t)=>{console.error(`${L_}/error`,...t)},op=(t={})=>{const e=new Map,{extra:n,onError:r=Eee}=t;lI(r);const i=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&EA(m)}),a=m=>{const p=v2(e,m)??R3(m);return i(p)};Wc(a,{withTypes:()=>a});const u=m=>{const p=v2(e,m);return p&&(p.unsubscribe(),m.cancelActive&&EA(p)),!!p};Wc(u,{withTypes:()=>u});const l=async(m,p,v,b)=>{const E=new AbortController,T=_ee(a,E.signal),A=[];try{m.pending.add(E),await Promise.resolve(m.effect(p,Wc({},v,{getOriginalState:b,condition:(R,C)=>T(R,C).then(Boolean),take:T,delay:I3(E.signal),pause:pv(E.signal),extra:n,signal:E.signal,fork:vee(E.signal,A),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((R,C,P)=>{R!==E&&(Zu(R,wA),P.delete(R))})},cancel:()=>{Zu(E,wA),m.pending.delete(E)},throwIfCancelled:()=>{el(E.signal)}})))}catch(R){R instanceof V_||_2(r,R,{raisedBy:"effect"})}finally{await Promise.all(A),Zu(E,gee),m.pending.delete(E)}},f=bee(e);return{middleware:m=>p=>v=>{if(!c3(v))return p(v);if(P3.match(v))return a(v.payload);if(wee.match(v)){f();return}if(C3.match(v))return u(v.payload);let b=m.getState();const E=()=>{if(b===y2)throw new Error(Yr(23));return b};let T;try{if(T=p(v),e.size>0){const A=m.getState(),R=Array.from(e.values());for(const C of R){let P=!1;try{P=C.predicate(v,A,b)}catch(U){P=!1,_2(r,U,{raisedBy:"predicate"})}P&&l(C,v,m,E)}}}finally{b=y2}return T},startListening:a,stopListening:u,clearListeners:f}};function Yr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Tee={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},O3=ti({name:"chartLayout",initialState:Tee,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:Aee,setLayout:See,setChartSize:Iee,setScale:xee}=O3.actions,Ree=O3.reducer;function b2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b2(Object(n),!0).forEach(function(r){Pee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pee(t,e,n){return(e=Cee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cee(t){var e=Oee(t,"string");return typeof e=="symbol"?e:e+""}function Oee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gv=Math.PI/180,Dee=t=>t*180/Math.PI,Yn=(t,e,n,r)=>({x:t+Math.cos(-gv*r)*n,y:e+Math.sin(-gv*r)*n}),Nee=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},kee=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},Mee=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,u=kee({x:n,y:r},{x:i,y:a});if(u<=0)return{radius:u,angle:0};var l=(n-i)/u,f=Math.acos(l);return r>a&&(f=2*Math.PI-f),{radius:u,angle:Dee(f),angleInRadian:f}},Vee=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},Lee=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),u=Math.min(i,a);return t+u*360},jee=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:a}=Mee({x:n,y:r},e),{innerRadius:u,outerRadius:l}=e;if(i<u||i>l||i===0)return null;var{startAngle:f,endAngle:h}=Vee(e),m=a,p;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;p=m>=h&&m<=f}return p?w2(w2({},e),{},{radius:i,angle:Lee(m,e)}):null};function D3(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function E2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(n),!0).forEach(function(r){Uee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uee(t,e,n){return(e=Bee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bee(t){var e=qee(t,"string");return typeof e=="symbol"?e:e+""}function qee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vr(t,e,n){return bn(t)||bn(e)?n:Sa(e)?gl(t,e,n):typeof e=="function"?e(t):n}var zee=(t,e,n,r,i)=>{var a,u=-1,l=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<l;f++){var h=f>0?n[f-1].coordinate:n[l-1].coordinate,m=n[f].coordinate,p=f>=l-1?n[0].coordinate:n[f+1].coordinate,v=void 0;if(Rr(m-h)!==Rr(p-m)){var b=[];if(Rr(p-m)===Rr(i[1]-i[0])){v=p;var E=m+i[1]-i[0];b[0]=Math.min(E,(E+h)/2),b[1]=Math.max(E,(E+h)/2)}else{v=h;var T=p+i[1]-i[0];b[0]=Math.min(m,(T+m)/2),b[1]=Math.max(m,(T+m)/2)}var A=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(t>A[0]&&t<=A[1]||t>=b[0]&&t<=b[1]){({index:u}=n[f]);break}}else{var R=Math.min(h,p),C=Math.max(h,p);if(t>(R+m)/2&&t<=(C+m)/2){({index:u}=n[f]);break}}}else if(e){for(var P=0;P<l;P++)if(P===0&&t<=(e[P].coordinate+e[P+1].coordinate)/2||P>0&&P<l-1&&t>(e[P].coordinate+e[P-1].coordinate)/2&&t<=(e[P].coordinate+e[P+1].coordinate)/2||P===l-1&&t>(e[P].coordinate+e[P-1].coordinate)/2){({index:u}=e[P]);break}}return u},Fee=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:u,layout:l}=e;if((l==="vertical"||l==="horizontal"&&u==="middle")&&a!=="center"&&Se(t[a]))return yi(yi({},t),{},{[a]:t[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&u!=="middle"&&Se(t[u]))return yi(yi({},t),{},{[u]:t[u]+(i||0)})}return t},xl=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",N3=(t,e,n,r)=>{if(r)return t.map(l=>l.coordinate);var i,a,u=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===n&&(a=!0),l.coordinate));return i||u.push(e),a||u.push(n),u},k3=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:u,realScaleType:l,isCategorical:f,categoricalDomain:h,tickCount:m,ticks:p,niceTicks:v,axisType:b}=t;if(!u)return null;var E=l==="scaleBand"&&u.bandwidth?u.bandwidth()/2:2,T=i==="category"&&u.bandwidth?u.bandwidth()/E:0;if(T=b==="angleAxis"&&a&&a.length>=2?Rr(a[0]-a[1])*2*T:T,p||v){var A=(p||v||[]).map((R,C)=>{var P=r?r.indexOf(R):R;return{coordinate:u(P)+T,value:R,offset:T,index:C}});return A.filter(R=>!Jr(R.coordinate))}return f&&h?h.map((R,C)=>({coordinate:u(R)+T,value:R,index:C,offset:T})):u.ticks&&m!=null?u.ticks(m).map((R,C)=>({coordinate:u(R)+T,value:R,offset:T,index:C})):u.domain().map((R,C)=>({coordinate:u(R)+T,value:r?r[R]:R,index:C,offset:T}))},T2=1e-4,$ee=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-T2,a=Math.max(r[0],r[1])+T2,u=t(e[0]),l=t(e[n-1]);(u<i||u>a||l<i||l>a)&&t.domain([e[0],e[n-1]])}},Hee=(t,e)=>{if(!e||e.length!==2||!Se(e[0])||!Se(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Se(t[0])||t[0]<n)&&(i[0]=n),(!Se(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Gee=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,u=0;u<e;++u){var l=Jr(t[u][n][1])?t[u][n][0]:t[u][n][1];l>=0?(t[u][n][0]=i,t[u][n][1]=i+l,i=t[u][n][1]):(t[u][n][0]=a,t[u][n][1]=a+l,a=t[u][n][1])}},Kee=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var u=Jr(t[a][n][1])?t[a][n][0]:t[a][n][1];u>=0?(t[a][n][0]=i,t[a][n][1]=i+u,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},Wee={sign:Gee,expand:IJ,none:bf,silhouette:xJ,wiggle:RJ,positive:Kee},Yee=(t,e,n)=>{var r=Wee[n],i=SJ().keys(e).value((a,u)=>+vr(a,u,0)).order(dA).offset(r);return i(t)};function Qee(t){return t==null?void 0:String(t)}var A2=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:u}=t;if(e.type==="category")return n[u]?n[u].coordinate+r:null;var l=vr(a,e.dataKey,e.scale.domain()[u]);return bn(l)?null:e.scale(l)-i/2+r},Xee=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Jee=t=>{var e=t.flat(2).filter(Se);return[Math.min(...e),Math.max(...e)]},Zee=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],ete=(t,e,n)=>{if(t!=null)return Zee(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:u}=a,l=u.reduce((f,h)=>{var m=D3(h,e,n),p=Jee(m);return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},S2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,I2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cI=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=D_(e,m=>m.coordinate),a=1/0,u=1,l=i.length;u<l;u++){var f=i[u],h=i[u-1];a=Math.min((f.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function x2(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return yi(yi({},e),{},{dataKey:n,payload:r,value:i,name:a})}function M3(t,e){if(t)return String(t);if(typeof e=="string")return e}function tte(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return r?jee({x:t,y:e},r):null}var nte=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:u}=r;return yi(yi(yi({},r),Yn(r.cx,r.cy,u,a)),{},{angle:a,radius:u})}var l=i.coordinate,{angle:f}=r;return yi(yi(yi({},r),Yn(r.cx,r.cy,l,f)),{},{angle:f,radius:l})}return{x:0,y:0}},rte=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,As=t=>t.layout.width,Ss=t=>t.layout.height,ite=t=>t.layout.scale,V3=t=>t.layout.margin,fI=re(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),hI=re(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),ate="data-recharts-item-index",ste="data-recharts-item-data-key",j_=60;function R2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R2(Object(n),!0).forEach(function(r){ote(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ote(t,e,n){return(e=ute(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ute(t){var e=lte(t,"string");return typeof e=="symbol"?e:e+""}function lte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cte=t=>t.brush.height,jn=re([As,Ss,V3,cte,fI,hI,o3,PZ],(t,e,n,r,i,a,u,l)=>{var f=a.reduce((E,T)=>{var{orientation:A}=T;if(!T.mirror&&!T.hide){var R=typeof T.width=="number"?T.width:j_;return uo(uo({},E),{},{[A]:E[A]+R})}return E},{left:n.left||0,right:n.right||0}),h=i.reduce((E,T)=>{var{orientation:A}=T;return!T.mirror&&!T.hide?uo(uo({},E),{},{[A]:gl(E,"".concat(A))+T.height}):E},{top:n.top||0,bottom:n.bottom||0}),m=uo(uo({},h),f),p=m.bottom;m.bottom+=r,m=Fee(m,u,l);var v=t-m.left-m.right,b=e-m.top-m.bottom;return uo(uo({brushBottom:p},m),{},{width:Math.max(v,0),height:Math.max(b,0)})}),fte=re(jn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),L3=re(As,Ss,(t,e)=>({x:0,y:0,width:t,height:e})),hte=x.createContext(null),Ai=()=>x.useContext(hte)!=null,U_=t=>t.brush,B_=re([U_,jn,V3],(t,e,n)=>({height:t.height,x:Se(t.x)?t.x:e.left,y:Se(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Se(t.width)?t.width:e.width})),dI=()=>{var t,e=Ai(),n=Ce(fte),r=Ce(B_),i=(t=Ce(U_))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},dte={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},j3=()=>{var t;return(t=Ce(jn))!==null&&t!==void 0?t:dte},U3=()=>Ce(As),B3=()=>Ce(Ss),dt=t=>t.layout.layoutType,mI=()=>Ce(dt),mte={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},q3=ti({name:"legend",initialState:mte,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=os(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:Lde,setLegendSettings:jde,addLegendPayload:pte,removeLegendPayload:gte}=q3.actions,yte=q3.reducer;function TA(){return TA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TA.apply(null,arguments)}function P2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(n),!0).forEach(function(r){vte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vte(t,e,n){return(e=_te(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _te(t){var e=bte(t,"string");return typeof e=="symbol"?e:e+""}function bte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wte(t){return Array.isArray(t)&&Sa(t[0])&&Sa(t[1])?t.join(" ~ "):t}var Ete=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:u,itemSorter:l,wrapperClassName:f,labelClassName:h,label:m,labelFormatter:p,accessibilityLayer:v=!1}=t,b=()=>{if(a&&a.length){var L={padding:0,margin:0},$=(l?D_(a,l):a).map((D,N)=>{if(D.type==="none")return null;var M=D.formatter||u||wte,{value:B,name:j}=D,q=B,V=j;if(M){var ve=M(B,j,D,N,a);if(Array.isArray(ve))[q,V]=ve;else if(ve!=null)q=ve;else return null}var Ee=NE({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:Ee},Sa(V)?x.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Sa(V)?x.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,x.createElement("span",{className:"recharts-tooltip-item-value"},q),x.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:L},$)}return null},E=NE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),T=NE({margin:0},i),A=!bn(m),R=A?m:"",C=Rt("recharts-default-tooltip",f),P=Rt("recharts-tooltip-label",h);A&&p&&a!==void 0&&a!==null&&(R=p(m,a));var U=v?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",TA({className:C,style:E},U),x.createElement("p",{className:P,style:T},x.isValidElement(R)?R:"".concat(R)),b())},_d="recharts-tooltip-wrapper",Tte={visibility:"hidden"};function Ate(t){var{coordinate:e,translateX:n,translateY:r}=t;return Rt(_d,{["".concat(_d,"-right")]:Se(n)&&e&&Se(e.x)&&n>=e.x,["".concat(_d,"-left")]:Se(n)&&e&&Se(e.x)&&n<e.x,["".concat(_d,"-bottom")]:Se(r)&&e&&Se(e.y)&&r>=e.y,["".concat(_d,"-top")]:Se(r)&&e&&Se(e.y)&&r<e.y})}function C2(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:u,tooltipDimension:l,viewBox:f,viewBoxDimension:h}=t;if(a&&Se(a[r]))return a[r];var m=n[r]-l-(i>0?i:0),p=n[r]+i;if(e[r])return u[r]?m:p;var v=f[r];if(v==null)return 0;if(u[r]){var b=m,E=v;return b<E?Math.max(p,v):Math.max(m,v)}if(h==null)return 0;var T=p+l,A=v+h;return T>A?Math.max(m,v):Math.max(p,v)}function Ste(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Ite(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:u,useTranslate3d:l,viewBox:f}=t,h,m,p;return u.height>0&&u.width>0&&n?(m=C2({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:u.width,viewBox:f,viewBoxDimension:f.width}),p=C2({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:u.height,viewBox:f,viewBoxDimension:f.height}),h=Ste({translateX:m,translateY:p,useTranslate3d:l})):h=Tte,{cssProperties:h,cssClasses:Ate({translateX:m,translateY:p,coordinate:n})}}function O2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O2(Object(n),!0).forEach(function(r){AA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AA(t,e,n){return(e=xte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xte(t){var e=Rte(t,"string");return typeof e=="symbol"?e:e+""}function Rte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Pte extends x.PureComponent{constructor(){super(...arguments),AA(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),AA(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:u,hasPayload:l,isAnimationActive:f,offset:h,position:m,reverseDirection:p,useTranslate3d:v,viewBox:b,wrapperStyle:E,lastBoundingBox:T,innerRef:A,hasPortalFromProps:R}=this.props,{cssClasses:C,cssProperties:P}=Ite({allowEscapeViewBox:n,coordinate:u,offsetTopLeft:h,position:m,reverseDirection:p,tooltipBox:{height:T.height,width:T.width},useTranslate3d:v,viewBox:b}),U=R?{}:iy(iy({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),L=iy(iy({},U),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},E);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:L,ref:A},a)}}var Cte=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),up={isSsr:Cte()},z3=()=>Ce(t=>t.rootProps.accessibilityLayer);function ei(t){return Number.isFinite(t)}function yv(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function SA(){return SA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SA.apply(null,arguments)}function D2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D2(Object(n),!0).forEach(function(r){Ote(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ote(t,e,n){return(e=Dte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dte(t){var e=Nte(t,"string");return typeof e=="symbol"?e:e+""}function Nte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var k2={curveBasisClosed:mJ,curveBasisOpen:pJ,curveBasis:dJ,curveBumpX:ZX,curveBumpY:eJ,curveLinearClosed:gJ,curveLinear:C_,curveMonotoneX:yJ,curveMonotoneY:vJ,curveNatural:_J,curveStep:bJ,curveStepAfter:EJ,curveStepBefore:wJ},ay=t=>ei(t.x)&&ei(t.y),bd=t=>t.x,wd=t=>t.y,kte=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(ip(t));return(n==="curveMonotone"||n==="curveBump")&&e?k2["".concat(n).concat(e==="vertical"?"Y":"X")]:k2[n]||C_},Mte=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,u=kte(e,i),l=a?n.filter(ay):n,f;if(Array.isArray(r)){var h=a?r.filter(p=>ay(p)):r,m=l.map((p,v)=>N2(N2({},p),{},{base:h[v]}));return i==="vertical"?f=Jg().y(wd).x1(bd).x0(p=>p.base.x):f=Jg().x(bd).y1(wd).y0(p=>p.base.y),f.defined(ay).curve(u),f(m)}return i==="vertical"&&Se(r)?f=Jg().y(wd).x1(bd).x0(r):Se(r)?f=Jg().x(bd).y1(wd).y0(r):f=UU().x(bd).y(wd),f.defined(ay).curve(u),f(l)},Vte=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Mte(t):r;return x.createElement("path",SA({},ap(t),UX(t),{className:Rt("recharts-curve",e),d:a===null?void 0:a,ref:i}))},Lte=["x","y","top","left","width","height","className"];function IA(){return IA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IA.apply(null,arguments)}function M2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M2(Object(n),!0).forEach(function(r){Ute(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ute(t,e,n){return(e=Bte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bte(t){var e=qte(t,"string");return typeof e=="symbol"?e:e+""}function qte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zte(t,e){if(t==null)return{};var n,r,i=Fte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $te=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),Hte=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:u=0,className:l}=t,f=zte(t,Lte),h=jte({x:e,y:n,top:r,left:i,width:a,height:u},f);return!Se(e)||!Se(n)||!Se(a)||!Se(u)||!Se(r)||!Se(i)?null:x.createElement("path",IA({},Mn(h,!0),{className:Rt("recharts-cross",l),d:$te(e,n,a,u,r,i)}))};function Gte(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function V2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(n),!0).forEach(function(r){Wte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wte(t,e,n){return(e=Yte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yte(t){var e=Qte(t,"string");return typeof e=="symbol"?e:e+""}function Qte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fo(t,e){var n=Kte({},t),r=e,i=Object.keys(e),a=i.reduce((u,l)=>(u[l]===void 0&&r[l]!==void 0&&(u[l]=r[l]),u),n);return a}var kE={},ME={},VE={},L2;function Xte(){return L2||(L2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e})(VE)),VE}var j2;function Jte(){return j2||(j2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xte(),n=t3(),r=nI(),i=rI(),a=eI();function u(h,m,p){return l(h,m,void 0,void 0,void 0,void 0,p)}function l(h,m,p,v,b,E,T){const A=T(h,m,p,v,b,E);if(A!==void 0)return A;if(typeof h==typeof m)switch(typeof h){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return h===m;case"number":return h===m||Object.is(h,m);case"function":return h===m;case"object":return f(h,m,E,T)}return f(h,m,E,T)}function f(h,m,p,v){if(Object.is(h,m))return!0;let b=r.getTag(h),E=r.getTag(m);if(b===i.argumentsTag&&(b=i.objectTag),E===i.argumentsTag&&(E=i.objectTag),b!==E)return!1;switch(b){case i.stringTag:return h.toString()===m.toString();case i.numberTag:{const R=h.valueOf(),C=m.valueOf();return a.eq(R,C)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(h.valueOf(),m.valueOf());case i.regexpTag:return h.source===m.source&&h.flags===m.flags;case i.functionTag:return h===m}p=p??new Map;const T=p.get(h),A=p.get(m);if(T!=null&&A!=null)return T===m;p.set(h,m),p.set(m,h);try{switch(b){case i.mapTag:{if(h.size!==m.size)return!1;for(const[R,C]of h.entries())if(!m.has(R)||!l(C,m.get(R),R,h,m,p,v))return!1;return!0}case i.setTag:{if(h.size!==m.size)return!1;const R=Array.from(h.values()),C=Array.from(m.values());for(let P=0;P<R.length;P++){const U=R[P],L=C.findIndex($=>l(U,$,void 0,h,m,p,v));if(L===-1)return!1;C.splice(L,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(h)!==Buffer.isBuffer(m)||h.length!==m.length)return!1;for(let R=0;R<h.length;R++)if(!l(h[R],m[R],R,h,m,p,v))return!1;return!0}case i.arrayBufferTag:return h.byteLength!==m.byteLength?!1:f(new Uint8Array(h),new Uint8Array(m),p,v);case i.dataViewTag:return h.byteLength!==m.byteLength||h.byteOffset!==m.byteOffset?!1:f(new Uint8Array(h),new Uint8Array(m),p,v);case i.errorTag:return h.name===m.name&&h.message===m.message;case i.objectTag:{if(!(f(h.constructor,m.constructor,p,v)||e.isPlainObject(h)&&e.isPlainObject(m)))return!1;const C=[...Object.keys(h),...n.getSymbols(h)],P=[...Object.keys(m),...n.getSymbols(m)];if(C.length!==P.length)return!1;for(let U=0;U<C.length;U++){const L=C[U],$=h[L];if(!Object.hasOwn(m,L))return!1;const D=m[L];if(!l($,D,L,h,m,p,v))return!1}return!0}default:return!1}}finally{p.delete(h),p.delete(m)}}t.isEqualWith=u})(ME)),ME}var LE={},U2;function Zte(){return U2||(U2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(LE)),LE}var B2;function ene(){return B2||(B2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Jte(),n=Zte();function r(i,a){return e.isEqualWith(i,a,n.noop)}t.isEqual=r})(kE)),kE}var jE,q2;function tne(){return q2||(q2=1,jE=ene().isEqual),jE}var nne=tne();const rne=qi(nne);var vv=1e-4,F3=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],$3=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),z2=(t,e)=>n=>{var r=F3(t,e);return $3(r,n)},ine=(t,e)=>n=>{var r=F3(t,e),i=[...r.map((a,u)=>a*u).slice(1),0];return $3(i,n)},F2=function(){for(var e,n,r,i,a=arguments.length,u=new Array(a),l=0;l<a;l++)u[l]=arguments[l];if(u.length===1)switch(u[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var f=u[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([e,r,n,i]=f[1].split(")")[0].split(",").map(E=>parseFloat(E)))}}else u.length===4&&([e,r,n,i]=u);var h=z2(e,n),m=z2(r,i),p=ine(e,n),v=E=>E>1?1:E<0?0:E,b=E=>{for(var T=E>1?1:E,A=T,R=0;R<8;++R){var C=h(A)-T,P=p(A);if(Math.abs(C-T)<vv||P<vv)return m(A);A=v(A-C/P)}return m(A)};return b.isStepper=!1,b},ane=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(u,l,f)=>{var h=-(u-l)*n,m=f*r,p=f+(h-m)*i/1e3,v=f*i/1e3+u;return Math.abs(v-l)<vv&&Math.abs(p)<vv?[l,0]:[v,p]};return a.isStepper=!0,a.dt=i,a},H3=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return F2(t);case"spring":return ane();default:if(t.split("(")[0]==="cubic-bezier")return F2(t)}return typeof t=="function"?t:null};function $2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$2(Object(n),!0).forEach(function(r){sne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sne(t,e,n){return(e=one(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function one(t){var e=une(t,"string");return typeof e=="symbol"?e:e+""}function une(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lne=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),cne=(t,e,n)=>t.map(r=>"".concat(lne(r)," ").concat(e,"ms ").concat(n)).join(","),fne=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),xm=(t,e)=>Object.keys(e).reduce((n,r)=>H2(H2({},n),{},{[r]:t(r,e[r])}),{});function G2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G2(Object(n),!0).forEach(function(r){hne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hne(t,e,n){return(e=dne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dne(t){var e=mne(t,"string");return typeof e=="symbol"?e:e+""}function mne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _v=(t,e,n)=>t+(e-t)*n,xA=t=>{var{from:e,to:n}=t;return e!==n},G3=(t,e,n)=>{var r=xm((i,a)=>{if(xA(a)){var[u,l]=t(a.from,a.to,a.velocity);return Kn(Kn({},a),{},{from:u,velocity:l})}return a},e);return n<1?xm((i,a)=>xA(a)?Kn(Kn({},a),{},{velocity:_v(a.velocity,r[i].velocity,n),from:_v(a.from,r[i].from,n)}):a,e):G3(t,r,n-1)};function pne(t,e,n,r,i,a){var u,l=r.reduce((v,b)=>Kn(Kn({},v),{},{[b]:{from:t[b],velocity:0,to:e[b]}}),{}),f=()=>xm((v,b)=>b.from,l),h=()=>!Object.values(l).filter(xA).length,m=null,p=v=>{u||(u=v);var b=v-u,E=b/n.dt;l=G3(n,l,E),i(Kn(Kn(Kn({},t),e),f())),u=v,h()||(m=a.setTimeout(p))};return()=>(m=a.setTimeout(p),()=>{m()})}function gne(t,e,n,r,i,a,u){var l=null,f=i.reduce((p,v)=>Kn(Kn({},p),{},{[v]:[t[v],e[v]]}),{}),h,m=p=>{h||(h=p);var v=(p-h)/r,b=xm((T,A)=>_v(...A,n(v)),f);if(a(Kn(Kn(Kn({},t),e),b)),v<1)l=u.setTimeout(m);else{var E=xm((T,A)=>_v(...A,n(1)),f);a(Kn(Kn(Kn({},t),e),E))}};return()=>(l=u.setTimeout(m),()=>{l()})}const K3=(t,e,n,r,i,a)=>{var u=fne(t,e);return n.isStepper===!0?pne(t,e,n,u,i,a):gne(t,e,n,r,u,i,a)};function yne(t){var e,n=()=>null,r=!1,i=null,a=u=>{if(!r){if(Array.isArray(u)){if(!u.length)return;var l=u,[f,...h]=l;if(typeof f=="number"){i=t.setTimeout(a.bind(null,h),f);return}a(f),i=t.setTimeout(a.bind(null,h));return}typeof u=="string"&&(e=u,n(e)),typeof u=="object"&&(e=u,n(e)),typeof u=="function"&&u()}};return{stop:()=>{r=!0},start:u=>{r=!1,i&&(i(),i=null),a(u)},subscribe:u=>(n=u,()=>{n=()=>null}),getTimeoutController:()=>t}}class vne{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=u=>{u-r>=n?e(u):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function _ne(){return yne(new vne)}var bne=x.createContext(_ne);function W3(t,e){var n=x.useContext(bne);return x.useMemo(()=>e??n(t),[t,e,n])}var wne=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function RA(){return RA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RA.apply(null,arguments)}function Ene(t,e){if(t==null)return{};var n,r,i=Tne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function K2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K2(Object(n),!0).forEach(function(r){Gu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gu(t,e,n){return(e=Ane(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ane(t){var e=Sne(t,"string");return typeof e=="symbol"?e:e+""}function Sne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class pI extends x.PureComponent{constructor(e,n){super(e,n),Gu(this,"mounted",!1),Gu(this,"manager",void 0),Gu(this,"stopJSAnimation",null),Gu(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:a,to:u,children:l,duration:f,animationManager:h}=this.props;if(this.manager=h,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||f<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:u});return}if(a){if(typeof l=="function"){this.state={style:a};return}this.state={style:i?{[i]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:a,to:u,from:l}=this.props,{style:f}=this.state;if(r){if(!n){var h={style:i?{[i]:u}:u};this.state&&f&&(i&&f[i]!==u||!i&&f!==u)&&this.setState(h);return}if(!(rne(e.to,u)&&e.canBegin&&e.isActive)){var m=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=m||a?l:e.to;if(this.state&&f){var v={style:i?{[i]:p}:p};(i&&f[i]!==p||!i&&f!==p)&&this.setState(v)}this.runAnimation(lo(lo({},this.props),{},{from:p,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:a,begin:u,onAnimationEnd:l,onAnimationStart:f}=e,h=K3(n,r,H3(a),i,this.changeStyle,this.manager.getTimeoutController()),m=()=>{this.stopJSAnimation=h()};this.manager.start([f,u,m,i,l])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:a,easing:u,onAnimationStart:l,onAnimationEnd:f,children:h}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(e);return}var m=i?{[i]:a}:a,p=cne(Object.keys(m),r,u);this.manager.start([l,n,lo(lo({},m),{},{transition:p}),r,f])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:a,easing:u,isActive:l,from:f,to:h,canBegin:m,onAnimationEnd:p,shouldReAnimate:v,onAnimationReStart:b,animationManager:E}=e,T=Ene(e,wne),A=x.Children.count(n),R=this.state.style;if(typeof n=="function")return n(R);if(!l||A===0||i<=0)return n;var C=P=>{var{style:U={},className:L}=P.props,$=x.cloneElement(P,lo(lo({},T),{},{style:lo(lo({},U),R),className:L}));return $};return A===1?C(x.Children.only(n)):x.createElement("div",null,x.Children.map(n,P=>C(P)))}}Gu(pI,"displayName","Animate");Gu(pI,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function bv(t){var e,n=W3((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return x.createElement(pI,RA({},t,{animationManager:n}))}function wv(){return wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wv.apply(null,arguments)}var W2=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),u=r>=0?1:-1,l=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,h;if(a>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,v=4;p<v;p++)m[p]=i[p]>a?a:i[p];h="M".concat(t,",").concat(e+u*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(t+l*m[0],",").concat(e)),h+="L ".concat(t+n-l*m[1],",").concat(e),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+u*m[1])),h+="L ".concat(t+n,",").concat(e+r-u*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(t+n-l*m[2],",").concat(e+r)),h+="L ".concat(t+l*m[3],",").concat(e+r),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-u*m[3])),h+="Z"}else if(a>0&&i===+i&&i>0){var b=Math.min(a,i);h="M ".concat(t,",").concat(e+u*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+l*b,",").concat(e,`
            L `).concat(t+n-l*b,",").concat(e,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n,",").concat(e+u*b,`
            L `).concat(t+n,",").concat(e+r-u*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n-l*b,",").concat(e+r,`
            L `).concat(t+l*b,",").concat(e+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t,",").concat(e+r-u*b," Z")}else h="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},Ine={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Y3=t=>{var e=Fo(t,Ine),n=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var R=n.current.getTotalLength();R&&i(R)}catch{}},[]);var{x:a,y:u,width:l,height:f,radius:h,className:m}=e,{animationEasing:p,animationDuration:v,animationBegin:b,isAnimationActive:E,isUpdateAnimationActive:T}=e;if(a!==+a||u!==+u||l!==+l||f!==+f||l===0||f===0)return null;var A=Rt("recharts-rectangle",m);return T?x.createElement(bv,{canBegin:r>0,from:{width:l,height:f,x:a,y:u},to:{width:l,height:f,x:a,y:u},duration:v,animationEasing:p,isActive:T},R=>{var{width:C,height:P,x:U,y:L}=R;return x.createElement(bv,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,isActive:E,easing:p},x.createElement("path",wv({},Mn(e,!0),{className:A,d:W2(U,L,C,P,h),ref:n})))}):x.createElement("path",wv({},Mn(e,!0),{className:A,d:W2(a,u,l,f,h)}))};function Q3(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,u=Yn(e,n,r,i),l=Yn(e,n,r,a);return{points:[u,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function PA(){return PA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PA.apply(null,arguments)}var xne=(t,e)=>{var n=Rr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},sy=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:u,cornerRadius:l,cornerIsExternal:f}=t,h=l*(u?1:-1)+r,m=Math.asin(l/h)/gv,p=f?i:i+a*m,v=Yn(e,n,h,p),b=Yn(e,n,r,p),E=f?i-a*m:i,T=Yn(e,n,h*Math.cos(m*gv),E);return{center:v,circleTangency:b,lineTangency:T,theta:m}},X3=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:u}=t,l=xne(a,u),f=a+l,h=Yn(e,n,i,a),m=Yn(e,n,i,f),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var v=Yn(e,n,r,a),b=Yn(e,n,r,f);p+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},Rne=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:u,cornerIsExternal:l,startAngle:f,endAngle:h}=t,m=Rr(h-f),{circleTangency:p,lineTangency:v,theta:b}=sy({cx:e,cy:n,radius:i,angle:f,sign:m,cornerRadius:a,cornerIsExternal:l}),{circleTangency:E,lineTangency:T,theta:A}=sy({cx:e,cy:n,radius:i,angle:h,sign:-m,cornerRadius:a,cornerIsExternal:l}),R=l?Math.abs(f-h):Math.abs(f-h)-b-A;if(R<0)return u?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):X3({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:h});var C="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
  `);if(r>0){var{circleTangency:P,lineTangency:U,theta:L}=sy({cx:e,cy:n,radius:r,angle:f,sign:m,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:$,lineTangency:D,theta:N}=sy({cx:e,cy:n,radius:r,angle:h,sign:-m,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),M=l?Math.abs(f-h):Math.abs(f-h)-L-N;if(M<0&&a===0)return"".concat(C,"L").concat(e,",").concat(n,"Z");C+="L".concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat($.x,",").concat($.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(M>180),",").concat(+(m>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(U.x,",").concat(U.y,"Z")}else C+="L".concat(e,",").concat(n,"Z");return C},Pne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},J3=t=>{var e=Fo(t,Pne),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:u,forceCornerRadius:l,cornerIsExternal:f,startAngle:h,endAngle:m,className:p}=e;if(a<i||h===m)return null;var v=Rt("recharts-sector",p),b=a-i,E=Bi(u,b,0,!0),T;return E>0&&Math.abs(h-m)<360?T=Rne({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(E,b/2),forceCornerRadius:l,cornerIsExternal:f,startAngle:h,endAngle:m}):T=X3({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:h,endAngle:m}),x.createElement("path",PA({},Mn(e,!0),{className:v,d:T}))};function Cne(t,e,n){var r,i,a,u;if(t==="horizontal")r=e.x,a=r,i=n.top,u=n.top+n.height;else if(t==="vertical")i=e.y,u=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:l,cy:f,innerRadius:h,outerRadius:m,angle:p}=e,v=Yn(l,f,h,p),b=Yn(l,f,m,p);r=v.x,i=v.y,a=b.x,u=b.y}else return Q3(e);return[{x:r,y:i},{x:a,y:u}]}var UE={},BE={},qE={},Y2;function One(){return Y2||(Y2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a3();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(qE)),qE}var Q2;function Dne(){return Q2||(Q2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=One();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(BE)),BE}var X2;function Nne(){return X2||(X2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=s3(),n=Dne();function r(i,a,u){u&&typeof u!="number"&&e.isIterateeCall(i,a,u)&&(a=u=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),u=u===void 0?i<a?1:-1:n.toFinite(u);const l=Math.max(Math.ceil((a-i)/(u||1)),0),f=new Array(l);for(let h=0;h<l;h++)f[h]=i,i+=u;return f}t.range=r})(UE)),UE}var zE,J2;function kne(){return J2||(J2=1,zE=Nne().range),zE}var Mne=kne();const Z3=qi(Mne);function Eo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Vne(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gI(t){let e,n,r;t.length!==2?(e=Eo,n=(l,f)=>Eo(t(l),f),r=(l,f)=>t(l)-f):(e=t===Eo||t===Vne?t:Lne,n=t,r=t);function i(l,f,h=0,m=l.length){if(h<m){if(e(f,f)!==0)return m;do{const p=h+m>>>1;n(l[p],f)<0?h=p+1:m=p}while(h<m)}return h}function a(l,f,h=0,m=l.length){if(h<m){if(e(f,f)!==0)return m;do{const p=h+m>>>1;n(l[p],f)<=0?h=p+1:m=p}while(h<m)}return h}function u(l,f,h=0,m=l.length){const p=i(l,f,h,m-1);return p>h&&r(l[p-1],f)>-r(l[p],f)?p-1:p}return{left:i,center:u,right:a}}function Lne(){return 0}function e6(t){return t===null?NaN:+t}function*jne(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Une=gI(Eo),lp=Une.right;gI(e6).center;class Z2 extends Map{constructor(e,n=zne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(ek(this,e))}has(e){return super.has(ek(this,e))}set(e,n){return super.set(Bne(this,e),n)}delete(e){return super.delete(qne(this,e))}}function ek({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Bne({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function qne({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function zne(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Fne(t=Eo){if(t===Eo)return t6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function t6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const $ne=Math.sqrt(50),Hne=Math.sqrt(10),Gne=Math.sqrt(2);function Ev(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),u=a>=$ne?10:a>=Hne?5:a>=Gne?2:1;let l,f,h;return i<0?(h=Math.pow(10,-i)/u,l=Math.round(t*h),f=Math.round(e*h),l/h<t&&++l,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*u,l=Math.round(t/h),f=Math.round(e/h),l*h<t&&++l,f*h>e&&--f),f<l&&.5<=n&&n<2?Ev(t,e,n*2):[l,f,h]}function CA(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,u]=r?Ev(e,t,n):Ev(t,e,n);if(!(a>=i))return[];const l=a-i+1,f=new Array(l);if(r)if(u<0)for(let h=0;h<l;++h)f[h]=(a-h)/-u;else for(let h=0;h<l;++h)f[h]=(a-h)*u;else if(u<0)for(let h=0;h<l;++h)f[h]=(i+h)/-u;else for(let h=0;h<l;++h)f[h]=(i+h)*u;return f}function OA(t,e,n){return e=+e,t=+t,n=+n,Ev(t,e,n)[2]}function DA(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?OA(e,t,n):OA(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function tk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function nk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function n6(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?t6:Fne(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,m=Math.log(f),p=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*p*(f-p)/f)*(h-f/2<0?-1:1),b=Math.max(n,Math.floor(e-h*p/f+v)),E=Math.min(r,Math.floor(e+(f-h)*p/f+v));n6(t,e,b,E,i)}const a=t[e];let u=n,l=r;for(Ed(t,n,e),i(t[r],a)>0&&Ed(t,n,r);u<l;){for(Ed(t,u,l),++u,--l;i(t[u],a)<0;)++u;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?Ed(t,n,l):(++l,Ed(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Ed(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Kne(t,e,n){if(t=Float64Array.from(jne(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return nk(t);if(e>=1)return tk(t);var r,i=(r-1)*e,a=Math.floor(i),u=tk(n6(t,a).subarray(0,a+1)),l=nk(t.subarray(a+1));return u+(l-u)*(i-a)}}function Wne(t,e,n=e6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),u=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return u+(l-u)*(i-a)}}function Yne(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Si(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Is(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const NA=Symbol("implicit");function yI(){var t=new Z2,e=[],n=[],r=NA;function i(a){let u=t.get(a);if(u===void 0){if(r!==NA)return r;t.set(a,u=e.push(a)-1)}return n[u%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new Z2;for(const u of a)t.has(u)||t.set(u,e.push(u)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return yI(e,n).unknown(r)},Si.apply(i,arguments),i}function vI(){var t=yI().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,u,l=!1,f=0,h=0,m=.5;delete t.unknown;function p(){var v=e().length,b=i<r,E=b?i:r,T=b?r:i;a=(T-E)/Math.max(1,v-f+h*2),l&&(a=Math.floor(a)),E+=(T-E-a*(v-f))*m,u=a*(1-f),l&&(E=Math.round(E),u=Math.round(u));var A=Yne(v).map(function(R){return E+a*R});return n(b?A.reverse():A)}return t.domain=function(v){return arguments.length?(e(v),p()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,l=!0,p()},t.bandwidth=function(){return u},t.step=function(){return a},t.round=function(v){return arguments.length?(l=!!v,p()):l},t.padding=function(v){return arguments.length?(f=Math.min(1,h=+v),p()):f},t.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),p()):f},t.paddingOuter=function(v){return arguments.length?(h=+v,p()):h},t.align=function(v){return arguments.length?(m=Math.max(0,Math.min(1,v)),p()):m},t.copy=function(){return vI(e(),[r,i]).round(l).paddingInner(f).paddingOuter(h).align(m)},Si.apply(p(),arguments)}function r6(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return r6(e())},t}function Qne(){return r6(vI.apply(null,arguments).paddingInner(1))}function _I(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function i6(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function cp(){}var Rm=.7,Tv=1/Rm,Yc="\\s*([+-]?\\d+)\\s*",Pm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ba="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xne=/^#([0-9a-f]{3,8})$/,Jne=new RegExp(`^rgb\\(${Yc},${Yc},${Yc}\\)$`),Zne=new RegExp(`^rgb\\(${ba},${ba},${ba}\\)$`),ere=new RegExp(`^rgba\\(${Yc},${Yc},${Yc},${Pm}\\)$`),tre=new RegExp(`^rgba\\(${ba},${ba},${ba},${Pm}\\)$`),nre=new RegExp(`^hsl\\(${Pm},${ba},${ba}\\)$`),rre=new RegExp(`^hsla\\(${Pm},${ba},${ba},${Pm}\\)$`),rk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_I(cp,Cm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ik,formatHex:ik,formatHex8:ire,formatHsl:are,formatRgb:ak,toString:ak});function ik(){return this.rgb().formatHex()}function ire(){return this.rgb().formatHex8()}function are(){return a6(this).formatHsl()}function ak(){return this.rgb().formatRgb()}function Cm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Xne.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?sk(e):n===3?new Pr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?oy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?oy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Jne.exec(t))?new Pr(e[1],e[2],e[3],1):(e=Zne.exec(t))?new Pr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ere.exec(t))?oy(e[1],e[2],e[3],e[4]):(e=tre.exec(t))?oy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=nre.exec(t))?lk(e[1],e[2]/100,e[3]/100,1):(e=rre.exec(t))?lk(e[1],e[2]/100,e[3]/100,e[4]):rk.hasOwnProperty(t)?sk(rk[t]):t==="transparent"?new Pr(NaN,NaN,NaN,0):null}function sk(t){return new Pr(t>>16&255,t>>8&255,t&255,1)}function oy(t,e,n,r){return r<=0&&(t=e=n=NaN),new Pr(t,e,n,r)}function sre(t){return t instanceof cp||(t=Cm(t)),t?(t=t.rgb(),new Pr(t.r,t.g,t.b,t.opacity)):new Pr}function kA(t,e,n,r){return arguments.length===1?sre(t):new Pr(t,e,n,r??1)}function Pr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}_I(Pr,kA,i6(cp,{brighter(t){return t=t==null?Tv:Math.pow(Tv,t),new Pr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Rm:Math.pow(Rm,t),new Pr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Pr(tl(this.r),tl(this.g),tl(this.b),Av(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ok,formatHex:ok,formatHex8:ore,formatRgb:uk,toString:uk}));function ok(){return`#${Ku(this.r)}${Ku(this.g)}${Ku(this.b)}`}function ore(){return`#${Ku(this.r)}${Ku(this.g)}${Ku(this.b)}${Ku((isNaN(this.opacity)?1:this.opacity)*255)}`}function uk(){const t=Av(this.opacity);return`${t===1?"rgb(":"rgba("}${tl(this.r)}, ${tl(this.g)}, ${tl(this.b)}${t===1?")":`, ${t})`}`}function Av(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function tl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ku(t){return t=tl(t),(t<16?"0":"")+t.toString(16)}function lk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ki(t,e,n,r)}function a6(t){if(t instanceof ki)return new ki(t.h,t.s,t.l,t.opacity);if(t instanceof cp||(t=Cm(t)),!t)return new ki;if(t instanceof ki)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),u=NaN,l=a-i,f=(a+i)/2;return l?(e===a?u=(n-r)/l+(n<r)*6:n===a?u=(r-e)/l+2:u=(e-n)/l+4,l/=f<.5?a+i:2-a-i,u*=60):l=f>0&&f<1?0:u,new ki(u,l,f,t.opacity)}function ure(t,e,n,r){return arguments.length===1?a6(t):new ki(t,e,n,r??1)}function ki(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}_I(ki,ure,i6(cp,{brighter(t){return t=t==null?Tv:Math.pow(Tv,t),new ki(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Rm:Math.pow(Rm,t),new ki(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Pr(FE(t>=240?t-240:t+120,i,r),FE(t,i,r),FE(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ki(ck(this.h),uy(this.s),uy(this.l),Av(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Av(this.opacity);return`${t===1?"hsl(":"hsla("}${ck(this.h)}, ${uy(this.s)*100}%, ${uy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ck(t){return t=(t||0)%360,t<0?t+360:t}function uy(t){return Math.max(0,Math.min(1,t||0))}function FE(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const bI=t=>()=>t;function lre(t,e){return function(n){return t+n*e}}function cre(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function fre(t){return(t=+t)==1?s6:function(e,n){return n-e?cre(e,n,t):bI(isNaN(e)?n:e)}}function s6(t,e){var n=e-t;return n?lre(t,n):bI(isNaN(t)?e:t)}const fk=(function t(e){var n=fre(e);function r(i,a){var u=n((i=kA(i)).r,(a=kA(a)).r),l=n(i.g,a.g),f=n(i.b,a.b),h=s6(i.opacity,a.opacity);return function(m){return i.r=u(m),i.g=l(m),i.b=f(m),i.opacity=h(m),i+""}}return r.gamma=t,r})(1);function hre(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function dre(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function mre(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),u;for(u=0;u<r;++u)i[u]=Gf(t[u],e[u]);for(;u<n;++u)a[u]=e[u];return function(l){for(u=0;u<r;++u)a[u]=i[u](l);return a}}function pre(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Sv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function gre(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Gf(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var MA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$E=new RegExp(MA.source,"g");function yre(t){return function(){return t}}function vre(t){return function(e){return t(e)+""}}function _re(t,e){var n=MA.lastIndex=$E.lastIndex=0,r,i,a,u=-1,l=[],f=[];for(t=t+"",e=e+"";(r=MA.exec(t))&&(i=$E.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[u]?l[u]+=a:l[++u]=a),(r=r[0])===(i=i[0])?l[u]?l[u]+=i:l[++u]=i:(l[++u]=null,f.push({i:u,x:Sv(r,i)})),n=$E.lastIndex;return n<e.length&&(a=e.slice(n),l[u]?l[u]+=a:l[++u]=a),l.length<2?f[0]?vre(f[0].x):yre(e):(e=f.length,function(h){for(var m=0,p;m<e;++m)l[(p=f[m]).i]=p.x(h);return l.join("")})}function Gf(t,e){var n=typeof e,r;return e==null||n==="boolean"?bI(e):(n==="number"?Sv:n==="string"?(r=Cm(e))?(e=r,fk):_re:e instanceof Cm?fk:e instanceof Date?pre:dre(e)?hre:Array.isArray(e)?mre:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?gre:Sv)(t,e)}function wI(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function bre(t,e){e===void 0&&(e=t,t=Gf);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(u){var l=Math.max(0,Math.min(r-1,Math.floor(u*=r)));return a[l](u-l)}}function wre(t){return function(){return t}}function Iv(t){return+t}var hk=[0,1];function pr(t){return t}function VA(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:wre(isNaN(e)?NaN:.5)}function Ere(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Tre(t,e,n){var r=t[0],i=t[1],a=e[0],u=e[1];return i<r?(r=VA(i,r),a=n(u,a)):(r=VA(r,i),a=n(a,u)),function(l){return a(r(l))}}function Are(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<r;)i[u]=VA(t[u],t[u+1]),a[u]=n(e[u],e[u+1]);return function(l){var f=lp(t,l,1,r)-1;return a[f](i[f](l))}}function fp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function q_(){var t=hk,e=hk,n=Gf,r,i,a,u=pr,l,f,h;function m(){var v=Math.min(t.length,e.length);return u!==pr&&(u=Ere(t[0],t[v-1])),l=v>2?Are:Tre,f=h=null,p}function p(v){return v==null||isNaN(v=+v)?a:(f||(f=l(t.map(r),e,n)))(r(u(v)))}return p.invert=function(v){return u(i((h||(h=l(e,t.map(r),Sv)))(v)))},p.domain=function(v){return arguments.length?(t=Array.from(v,Iv),m()):t.slice()},p.range=function(v){return arguments.length?(e=Array.from(v),m()):e.slice()},p.rangeRound=function(v){return e=Array.from(v),n=wI,m()},p.clamp=function(v){return arguments.length?(u=v?!0:pr,m()):u!==pr},p.interpolate=function(v){return arguments.length?(n=v,m()):n},p.unknown=function(v){return arguments.length?(a=v,p):a},function(v,b){return r=v,i=b,m()}}function EI(){return q_()(pr,pr)}function Sre(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function xv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ef(t){return t=xv(Math.abs(t)),t?t[1]:NaN}function Ire(t,e){return function(n,r){for(var i=n.length,a=[],u=0,l=t[0],f=0;i>0&&l>0&&(f+l+1>r&&(l=Math.max(1,r-f)),a.push(n.substring(i-=l,i+l)),!((f+=l+1)>r));)l=t[u=(u+1)%t.length];return a.reverse().join(e)}}function xre(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Rre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Om(t){if(!(e=Rre.exec(t)))throw new Error("invalid format: "+t);var e;return new TI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Om.prototype=TI.prototype;function TI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}TI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Pre(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var o6;function Cre(t,e){var n=xv(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(o6=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=r.length;return a===u?r:a>u?r+new Array(a-u+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+xv(t,Math.max(0,e+a-1))[0]}function dk(t,e){var n=xv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const mk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Sre,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>dk(t*100,e),r:dk,s:Cre,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function pk(t){return t}var gk=Array.prototype.map,yk=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ore(t){var e=t.grouping===void 0||t.thousands===void 0?pk:Ire(gk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?pk:xre(gk.call(t.numerals,String)),u=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(p){p=Om(p);var v=p.fill,b=p.align,E=p.sign,T=p.symbol,A=p.zero,R=p.width,C=p.comma,P=p.precision,U=p.trim,L=p.type;L==="n"?(C=!0,L="g"):mk[L]||(P===void 0&&(P=12),U=!0,L="g"),(A||v==="0"&&b==="=")&&(A=!0,v="0",b="=");var $=T==="$"?n:T==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",D=T==="$"?r:/[%p]/.test(L)?u:"",N=mk[L],M=/[defgprs%]/.test(L);P=P===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function B(j){var q=$,V=D,ve,Ee,Z;if(L==="c")V=N(j)+V,j="";else{j=+j;var ce=j<0||1/j<0;if(j=isNaN(j)?f:N(Math.abs(j),P),U&&(j=Pre(j)),ce&&+j==0&&E!=="+"&&(ce=!1),q=(ce?E==="("?E:l:E==="-"||E==="("?"":E)+q,V=(L==="s"?yk[8+o6/3]:"")+V+(ce&&E==="("?")":""),M){for(ve=-1,Ee=j.length;++ve<Ee;)if(Z=j.charCodeAt(ve),48>Z||Z>57){V=(Z===46?i+j.slice(ve+1):j.slice(ve))+V,j=j.slice(0,ve);break}}}C&&!A&&(j=e(j,1/0));var we=q.length+j.length+V.length,Le=we<R?new Array(R-we+1).join(v):"";switch(C&&A&&(j=e(Le+j,Le.length?R-V.length:1/0),Le=""),b){case"<":j=q+j+V+Le;break;case"=":j=q+Le+j+V;break;case"^":j=Le.slice(0,we=Le.length>>1)+q+j+V+Le.slice(we);break;default:j=Le+q+j+V;break}return a(j)}return B.toString=function(){return p+""},B}function m(p,v){var b=h((p=Om(p),p.type="f",p)),E=Math.max(-8,Math.min(8,Math.floor(Ef(v)/3)))*3,T=Math.pow(10,-E),A=yk[8+E/3];return function(R){return b(T*R)+A}}return{format:h,formatPrefix:m}}var ly,AI,u6;Dre({thousands:",",grouping:[3],currency:["$",""]});function Dre(t){return ly=Ore(t),AI=ly.format,u6=ly.formatPrefix,ly}function Nre(t){return Math.max(0,-Ef(Math.abs(t)))}function kre(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ef(e)/3)))*3-Ef(Math.abs(t)))}function Mre(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ef(e)-Ef(t))+1}function l6(t,e,n,r){var i=DA(t,e,n),a;switch(r=Om(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=kre(i,u))&&(r.precision=a),u6(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Mre(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Nre(i))&&(r.precision=a-(r.type==="%")*2);break}}return AI(r)}function $o(t){var e=t.domain;return t.ticks=function(n){var r=e();return CA(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return l6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,u=r[i],l=r[a],f,h,m=10;for(l<u&&(h=u,u=l,l=h,h=i,i=a,a=h);m-- >0;){if(h=OA(u,l,n),h===f)return r[i]=u,r[a]=l,e(r);if(h>0)u=Math.floor(u/h)*h,l=Math.ceil(l/h)*h;else if(h<0)u=Math.ceil(u*h)/h,l=Math.floor(l*h)/h;else break;f=h}return t},t}function c6(){var t=EI();return t.copy=function(){return fp(t,c6())},Si.apply(t,arguments),$o(t)}function f6(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Iv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return f6(t).unknown(e)},t=arguments.length?Array.from(t,Iv):[0,1],$o(n)}function h6(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],u;return a<i&&(u=n,n=r,r=u,u=i,i=a,a=u),t[n]=e.floor(i),t[r]=e.ceil(a),t}function vk(t){return Math.log(t)}function _k(t){return Math.exp(t)}function Vre(t){return-Math.log(-t)}function Lre(t){return-Math.exp(-t)}function jre(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ure(t){return t===10?jre:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Bre(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function bk(t){return(e,n)=>-t(-e,n)}function SI(t){const e=t(vk,_k),n=e.domain;let r=10,i,a;function u(){return i=Bre(r),a=Ure(r),n()[0]<0?(i=bk(i),a=bk(a),t(Vre,Lre)):t(vk,_k),e}return e.base=function(l){return arguments.length?(r=+l,u()):r},e.domain=function(l){return arguments.length?(n(l),u()):n()},e.ticks=l=>{const f=n();let h=f[0],m=f[f.length-1];const p=m<h;p&&([h,m]=[m,h]);let v=i(h),b=i(m),E,T;const A=l==null?10:+l;let R=[];if(!(r%1)&&b-v<A){if(v=Math.floor(v),b=Math.ceil(b),h>0){for(;v<=b;++v)for(E=1;E<r;++E)if(T=v<0?E/a(-v):E*a(v),!(T<h)){if(T>m)break;R.push(T)}}else for(;v<=b;++v)for(E=r-1;E>=1;--E)if(T=v>0?E/a(-v):E*a(v),!(T<h)){if(T>m)break;R.push(T)}R.length*2<A&&(R=CA(h,m,A))}else R=CA(v,b,Math.min(b-v,A)).map(a);return p?R.reverse():R},e.tickFormat=(l,f)=>{if(l==null&&(l=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Om(f)).precision==null&&(f.trim=!0),f=AI(f)),l===1/0)return f;const h=Math.max(1,r*l/e.ticks().length);return m=>{let p=m/a(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=h?f(m):""}},e.nice=()=>n(h6(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function d6(){const t=SI(q_()).domain([1,10]);return t.copy=()=>fp(t,d6()).base(t.base()),Si.apply(t,arguments),t}function wk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Ek(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function II(t){var e=1,n=t(wk(e),Ek(e));return n.constant=function(r){return arguments.length?t(wk(e=+r),Ek(e)):e},$o(n)}function m6(){var t=II(q_());return t.copy=function(){return fp(t,m6()).constant(t.constant())},Si.apply(t,arguments)}function Tk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function qre(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function zre(t){return t<0?-t*t:t*t}function xI(t){var e=t(pr,pr),n=1;function r(){return n===1?t(pr,pr):n===.5?t(qre,zre):t(Tk(n),Tk(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},$o(e)}function RI(){var t=xI(q_());return t.copy=function(){return fp(t,RI()).exponent(t.exponent())},Si.apply(t,arguments),t}function Fre(){return RI.apply(null,arguments).exponent(.5)}function Ak(t){return Math.sign(t)*t*t}function $re(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function p6(){var t=EI(),e=[0,1],n=!1,r;function i(a){var u=$re(t(a));return isNaN(u)?r:n?Math.round(u):u}return i.invert=function(a){return t.invert(Ak(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Iv)).map(Ak)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return p6(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Si.apply(i,arguments),$o(i)}function g6(){var t=[],e=[],n=[],r;function i(){var u=0,l=Math.max(1,e.length);for(n=new Array(l-1);++u<l;)n[u-1]=Wne(t,u/l);return a}function a(u){return u==null||isNaN(u=+u)?r:e[lp(n,u)]}return a.invertExtent=function(u){var l=e.indexOf(u);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(u){if(!arguments.length)return t.slice();t=[];for(let l of u)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Eo),i()},a.range=function(u){return arguments.length?(e=Array.from(u),i()):e.slice()},a.unknown=function(u){return arguments.length?(r=u,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return g6().domain(t).range(e).unknown(r)},Si.apply(a,arguments)}function y6(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function u(f){return f!=null&&f<=f?i[lp(r,f,0,n)]:a}function l(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return u}return u.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,l()):[t,e]},u.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,l()):i.slice()},u.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},u.unknown=function(f){return arguments.length&&(a=f),u},u.thresholds=function(){return r.slice()},u.copy=function(){return y6().domain([t,e]).range(i).unknown(a)},Si.apply($o(u),arguments)}function v6(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[lp(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var u=e.indexOf(a);return[t[u-1],t[u]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return v6().domain(t).range(e).unknown(n)},Si.apply(i,arguments)}const HE=new Date,GE=new Date;function En(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const u=i(a),l=i.ceil(a);return a-u<l-a?u:l},i.offset=(a,u)=>(e(a=new Date(+a),u==null?1:Math.floor(u)),a),i.range=(a,u,l)=>{const f=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<u)||!(l>0))return f;let h;do f.push(h=new Date(+a)),e(a,l),t(a);while(h<a&&a<u);return f},i.filter=a=>En(u=>{if(u>=u)for(;t(u),!a(u);)u.setTime(u-1)},(u,l)=>{if(u>=u)if(l<0)for(;++l<=0;)for(;e(u,-1),!a(u););else for(;--l>=0;)for(;e(u,1),!a(u););}),n&&(i.count=(a,u)=>(HE.setTime(+a),GE.setTime(+u),t(HE),t(GE),Math.floor(n(HE,GE))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?u=>r(u)%a===0:u=>i.count(0,u)%a===0):i)),i}const Rv=En(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Rv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?En(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Rv);Rv.range;const rs=1e3,_i=rs*60,is=_i*60,ps=is*24,PI=ps*7,Sk=ps*30,KE=ps*365,Wu=En(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*rs)},(t,e)=>(e-t)/rs,t=>t.getUTCSeconds());Wu.range;const CI=En(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*rs)},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getMinutes());CI.range;const OI=En(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getUTCMinutes());OI.range;const DI=En(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*rs-t.getMinutes()*_i)},(t,e)=>{t.setTime(+t+e*is)},(t,e)=>(e-t)/is,t=>t.getHours());DI.range;const NI=En(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*is)},(t,e)=>(e-t)/is,t=>t.getUTCHours());NI.range;const hp=En(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*_i)/ps,t=>t.getDate()-1);hp.range;const z_=En(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ps,t=>t.getUTCDate()-1);z_.range;const _6=En(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ps,t=>Math.floor(t/ps));_6.range;function Rl(t){return En(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*_i)/PI)}const F_=Rl(0),Pv=Rl(1),Hre=Rl(2),Gre=Rl(3),Tf=Rl(4),Kre=Rl(5),Wre=Rl(6);F_.range;Pv.range;Hre.range;Gre.range;Tf.range;Kre.range;Wre.range;function Pl(t){return En(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/PI)}const $_=Pl(0),Cv=Pl(1),Yre=Pl(2),Qre=Pl(3),Af=Pl(4),Xre=Pl(5),Jre=Pl(6);$_.range;Cv.range;Yre.range;Qre.range;Af.range;Xre.range;Jre.range;const kI=En(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());kI.range;const MI=En(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());MI.range;const gs=En(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());gs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:En(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});gs.range;const ys=En(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ys.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:En(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ys.range;function b6(t,e,n,r,i,a){const u=[[Wu,1,rs],[Wu,5,5*rs],[Wu,15,15*rs],[Wu,30,30*rs],[a,1,_i],[a,5,5*_i],[a,15,15*_i],[a,30,30*_i],[i,1,is],[i,3,3*is],[i,6,6*is],[i,12,12*is],[r,1,ps],[r,2,2*ps],[n,1,PI],[e,1,Sk],[e,3,3*Sk],[t,1,KE]];function l(h,m,p){const v=m<h;v&&([h,m]=[m,h]);const b=p&&typeof p.range=="function"?p:f(h,m,p),E=b?b.range(h,+m+1):[];return v?E.reverse():E}function f(h,m,p){const v=Math.abs(m-h)/p,b=gI(([,,A])=>A).right(u,v);if(b===u.length)return t.every(DA(h/KE,m/KE,p));if(b===0)return Rv.every(Math.max(DA(h,m,p),1));const[E,T]=u[v/u[b-1][2]<u[b][2]/v?b-1:b];return E.every(T)}return[l,f]}const[Zre,eie]=b6(ys,MI,$_,_6,NI,OI),[tie,nie]=b6(gs,kI,F_,hp,DI,CI);function WE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function YE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Td(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function rie(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,u=t.shortDays,l=t.months,f=t.shortMonths,h=Ad(i),m=Sd(i),p=Ad(a),v=Sd(a),b=Ad(u),E=Sd(u),T=Ad(l),A=Sd(l),R=Ad(f),C=Sd(f),P={a:ce,A:we,b:Le,B:F,c:null,d:Ok,e:Ok,f:Iie,g:Vie,G:jie,H:Tie,I:Aie,j:Sie,L:w6,m:xie,M:Rie,p:ue,q:ae,Q:kk,s:Mk,S:Pie,u:Cie,U:Oie,V:Die,w:Nie,W:kie,x:null,X:null,y:Mie,Y:Lie,Z:Uie,"%":Nk},U={a:me,A:Re,b:De,B:Me,c:null,d:Dk,e:Dk,f:Fie,g:Zie,G:tae,H:Bie,I:qie,j:zie,L:T6,m:$ie,M:Hie,p:en,q:mt,Q:kk,s:Mk,S:Gie,u:Kie,U:Wie,V:Yie,w:Qie,W:Xie,x:null,X:null,y:Jie,Y:eae,Z:nae,"%":Nk},L={a:B,A:j,b:q,B:V,c:ve,d:Pk,e:Pk,f:_ie,g:Rk,G:xk,H:Ck,I:Ck,j:pie,L:vie,m:mie,M:gie,p:M,q:die,Q:wie,s:Eie,S:yie,u:uie,U:lie,V:cie,w:oie,W:fie,x:Ee,X:Z,y:Rk,Y:xk,Z:hie,"%":bie};P.x=$(n,P),P.X=$(r,P),P.c=$(e,P),U.x=$(n,U),U.X=$(r,U),U.c=$(e,U);function $(_e,Ue){return function(Be){var he=[],Bt=-1,Qe=0,hn=_e.length,Sn,tn,Ol;for(Be instanceof Date||(Be=new Date(+Be));++Bt<hn;)_e.charCodeAt(Bt)===37&&(he.push(_e.slice(Qe,Bt)),(tn=Ik[Sn=_e.charAt(++Bt)])!=null?Sn=_e.charAt(++Bt):tn=Sn==="e"?" ":"0",(Ol=Ue[Sn])&&(Sn=Ol(Be,tn)),he.push(Sn),Qe=Bt+1);return he.push(_e.slice(Qe,Bt)),he.join("")}}function D(_e,Ue){return function(Be){var he=Td(1900,void 0,1),Bt=N(he,_e,Be+="",0),Qe,hn;if(Bt!=Be.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(Ue&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Qe=YE(Td(he.y,0,1)),hn=Qe.getUTCDay(),Qe=hn>4||hn===0?Cv.ceil(Qe):Cv(Qe),Qe=z_.offset(Qe,(he.V-1)*7),he.y=Qe.getUTCFullYear(),he.m=Qe.getUTCMonth(),he.d=Qe.getUTCDate()+(he.w+6)%7):(Qe=WE(Td(he.y,0,1)),hn=Qe.getDay(),Qe=hn>4||hn===0?Pv.ceil(Qe):Pv(Qe),Qe=hp.offset(Qe,(he.V-1)*7),he.y=Qe.getFullYear(),he.m=Qe.getMonth(),he.d=Qe.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),hn="Z"in he?YE(Td(he.y,0,1)).getUTCDay():WE(Td(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(hn+5)%7:he.w+he.U*7-(hn+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,YE(he)):WE(he)}}function N(_e,Ue,Be,he){for(var Bt=0,Qe=Ue.length,hn=Be.length,Sn,tn;Bt<Qe;){if(he>=hn)return-1;if(Sn=Ue.charCodeAt(Bt++),Sn===37){if(Sn=Ue.charAt(Bt++),tn=L[Sn in Ik?Ue.charAt(Bt++):Sn],!tn||(he=tn(_e,Be,he))<0)return-1}else if(Sn!=Be.charCodeAt(he++))return-1}return he}function M(_e,Ue,Be){var he=h.exec(Ue.slice(Be));return he?(_e.p=m.get(he[0].toLowerCase()),Be+he[0].length):-1}function B(_e,Ue,Be){var he=b.exec(Ue.slice(Be));return he?(_e.w=E.get(he[0].toLowerCase()),Be+he[0].length):-1}function j(_e,Ue,Be){var he=p.exec(Ue.slice(Be));return he?(_e.w=v.get(he[0].toLowerCase()),Be+he[0].length):-1}function q(_e,Ue,Be){var he=R.exec(Ue.slice(Be));return he?(_e.m=C.get(he[0].toLowerCase()),Be+he[0].length):-1}function V(_e,Ue,Be){var he=T.exec(Ue.slice(Be));return he?(_e.m=A.get(he[0].toLowerCase()),Be+he[0].length):-1}function ve(_e,Ue,Be){return N(_e,e,Ue,Be)}function Ee(_e,Ue,Be){return N(_e,n,Ue,Be)}function Z(_e,Ue,Be){return N(_e,r,Ue,Be)}function ce(_e){return u[_e.getDay()]}function we(_e){return a[_e.getDay()]}function Le(_e){return f[_e.getMonth()]}function F(_e){return l[_e.getMonth()]}function ue(_e){return i[+(_e.getHours()>=12)]}function ae(_e){return 1+~~(_e.getMonth()/3)}function me(_e){return u[_e.getUTCDay()]}function Re(_e){return a[_e.getUTCDay()]}function De(_e){return f[_e.getUTCMonth()]}function Me(_e){return l[_e.getUTCMonth()]}function en(_e){return i[+(_e.getUTCHours()>=12)]}function mt(_e){return 1+~~(_e.getUTCMonth()/3)}return{format:function(_e){var Ue=$(_e+="",P);return Ue.toString=function(){return _e},Ue},parse:function(_e){var Ue=D(_e+="",!1);return Ue.toString=function(){return _e},Ue},utcFormat:function(_e){var Ue=$(_e+="",U);return Ue.toString=function(){return _e},Ue},utcParse:function(_e){var Ue=D(_e+="",!0);return Ue.toString=function(){return _e},Ue}}}var Ik={"-":"",_:" ",0:"0"},Un=/^\s*\d+/,iie=/^%/,aie=/[\\^$*+?|[\]().{}]/g;function rt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function sie(t){return t.replace(aie,"\\$&")}function Ad(t){return new RegExp("^(?:"+t.map(sie).join("|")+")","i")}function Sd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function oie(t,e,n){var r=Un.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function uie(t,e,n){var r=Un.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function lie(t,e,n){var r=Un.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function cie(t,e,n){var r=Un.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function fie(t,e,n){var r=Un.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function xk(t,e,n){var r=Un.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Rk(t,e,n){var r=Un.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function hie(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function die(t,e,n){var r=Un.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function mie(t,e,n){var r=Un.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Pk(t,e,n){var r=Un.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function pie(t,e,n){var r=Un.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Ck(t,e,n){var r=Un.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function gie(t,e,n){var r=Un.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function yie(t,e,n){var r=Un.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function vie(t,e,n){var r=Un.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function _ie(t,e,n){var r=Un.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function bie(t,e,n){var r=iie.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function wie(t,e,n){var r=Un.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Eie(t,e,n){var r=Un.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Ok(t,e){return rt(t.getDate(),e,2)}function Tie(t,e){return rt(t.getHours(),e,2)}function Aie(t,e){return rt(t.getHours()%12||12,e,2)}function Sie(t,e){return rt(1+hp.count(gs(t),t),e,3)}function w6(t,e){return rt(t.getMilliseconds(),e,3)}function Iie(t,e){return w6(t,e)+"000"}function xie(t,e){return rt(t.getMonth()+1,e,2)}function Rie(t,e){return rt(t.getMinutes(),e,2)}function Pie(t,e){return rt(t.getSeconds(),e,2)}function Cie(t){var e=t.getDay();return e===0?7:e}function Oie(t,e){return rt(F_.count(gs(t)-1,t),e,2)}function E6(t){var e=t.getDay();return e>=4||e===0?Tf(t):Tf.ceil(t)}function Die(t,e){return t=E6(t),rt(Tf.count(gs(t),t)+(gs(t).getDay()===4),e,2)}function Nie(t){return t.getDay()}function kie(t,e){return rt(Pv.count(gs(t)-1,t),e,2)}function Mie(t,e){return rt(t.getFullYear()%100,e,2)}function Vie(t,e){return t=E6(t),rt(t.getFullYear()%100,e,2)}function Lie(t,e){return rt(t.getFullYear()%1e4,e,4)}function jie(t,e){var n=t.getDay();return t=n>=4||n===0?Tf(t):Tf.ceil(t),rt(t.getFullYear()%1e4,e,4)}function Uie(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+rt(e/60|0,"0",2)+rt(e%60,"0",2)}function Dk(t,e){return rt(t.getUTCDate(),e,2)}function Bie(t,e){return rt(t.getUTCHours(),e,2)}function qie(t,e){return rt(t.getUTCHours()%12||12,e,2)}function zie(t,e){return rt(1+z_.count(ys(t),t),e,3)}function T6(t,e){return rt(t.getUTCMilliseconds(),e,3)}function Fie(t,e){return T6(t,e)+"000"}function $ie(t,e){return rt(t.getUTCMonth()+1,e,2)}function Hie(t,e){return rt(t.getUTCMinutes(),e,2)}function Gie(t,e){return rt(t.getUTCSeconds(),e,2)}function Kie(t){var e=t.getUTCDay();return e===0?7:e}function Wie(t,e){return rt($_.count(ys(t)-1,t),e,2)}function A6(t){var e=t.getUTCDay();return e>=4||e===0?Af(t):Af.ceil(t)}function Yie(t,e){return t=A6(t),rt(Af.count(ys(t),t)+(ys(t).getUTCDay()===4),e,2)}function Qie(t){return t.getUTCDay()}function Xie(t,e){return rt(Cv.count(ys(t)-1,t),e,2)}function Jie(t,e){return rt(t.getUTCFullYear()%100,e,2)}function Zie(t,e){return t=A6(t),rt(t.getUTCFullYear()%100,e,2)}function eae(t,e){return rt(t.getUTCFullYear()%1e4,e,4)}function tae(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Af(t):Af.ceil(t),rt(t.getUTCFullYear()%1e4,e,4)}function nae(){return"+0000"}function Nk(){return"%"}function kk(t){return+t}function Mk(t){return Math.floor(+t/1e3)}var Dc,S6,I6;rae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function rae(t){return Dc=rie(t),S6=Dc.format,Dc.parse,I6=Dc.utcFormat,Dc.utcParse,Dc}function iae(t){return new Date(t)}function aae(t){return t instanceof Date?+t:+new Date(+t)}function VI(t,e,n,r,i,a,u,l,f,h){var m=EI(),p=m.invert,v=m.domain,b=h(".%L"),E=h(":%S"),T=h("%I:%M"),A=h("%I %p"),R=h("%a %d"),C=h("%b %d"),P=h("%B"),U=h("%Y");function L($){return(f($)<$?b:l($)<$?E:u($)<$?T:a($)<$?A:r($)<$?i($)<$?R:C:n($)<$?P:U)($)}return m.invert=function($){return new Date(p($))},m.domain=function($){return arguments.length?v(Array.from($,aae)):v().map(iae)},m.ticks=function($){var D=v();return t(D[0],D[D.length-1],$??10)},m.tickFormat=function($,D){return D==null?L:h(D)},m.nice=function($){var D=v();return(!$||typeof $.range!="function")&&($=e(D[0],D[D.length-1],$??10)),$?v(h6(D,$)):m},m.copy=function(){return fp(m,VI(t,e,n,r,i,a,u,l,f,h))},m}function sae(){return Si.apply(VI(tie,nie,gs,kI,F_,hp,DI,CI,Wu,S6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function oae(){return Si.apply(VI(Zre,eie,ys,MI,$_,z_,NI,OI,Wu,I6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function H_(){var t=0,e=1,n,r,i,a,u=pr,l=!1,f;function h(p){return p==null||isNaN(p=+p)?f:u(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(p){return arguments.length?(l=!!p,h):l},h.interpolator=function(p){return arguments.length?(u=p,h):u};function m(p){return function(v){var b,E;return arguments.length?([b,E]=v,u=p(b,E),h):[u(0),u(1)]}}return h.range=m(Gf),h.rangeRound=m(wI),h.unknown=function(p){return arguments.length?(f=p,h):f},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),h}}function Ho(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function x6(){var t=$o(H_()(pr));return t.copy=function(){return Ho(t,x6())},Is.apply(t,arguments)}function R6(){var t=SI(H_()).domain([1,10]);return t.copy=function(){return Ho(t,R6()).base(t.base())},Is.apply(t,arguments)}function P6(){var t=II(H_());return t.copy=function(){return Ho(t,P6()).constant(t.constant())},Is.apply(t,arguments)}function LI(){var t=xI(H_());return t.copy=function(){return Ho(t,LI()).exponent(t.exponent())},Is.apply(t,arguments)}function uae(){return LI.apply(null,arguments).exponent(.5)}function C6(){var t=[],e=pr;function n(r){if(r!=null&&!isNaN(r=+r))return e((lp(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Eo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Kne(t,a/r))},n.copy=function(){return C6(e).domain(t)},Is.apply(n,arguments)}function G_(){var t=0,e=.5,n=1,r=1,i,a,u,l,f,h=pr,m,p=!1,v;function b(T){return isNaN(T=+T)?v:(T=.5+((T=+m(T))-a)*(r*T<r*a?l:f),h(p?Math.max(0,Math.min(1,T)):T))}b.domain=function(T){return arguments.length?([t,e,n]=T,i=m(t=+t),a=m(e=+e),u=m(n=+n),l=i===a?0:.5/(a-i),f=a===u?0:.5/(u-a),r=a<i?-1:1,b):[t,e,n]},b.clamp=function(T){return arguments.length?(p=!!T,b):p},b.interpolator=function(T){return arguments.length?(h=T,b):h};function E(T){return function(A){var R,C,P;return arguments.length?([R,C,P]=A,h=bre(T,[R,C,P]),b):[h(0),h(.5),h(1)]}}return b.range=E(Gf),b.rangeRound=E(wI),b.unknown=function(T){return arguments.length?(v=T,b):v},function(T){return m=T,i=T(t),a=T(e),u=T(n),l=i===a?0:.5/(a-i),f=a===u?0:.5/(u-a),r=a<i?-1:1,b}}function O6(){var t=$o(G_()(pr));return t.copy=function(){return Ho(t,O6())},Is.apply(t,arguments)}function D6(){var t=SI(G_()).domain([.1,1,10]);return t.copy=function(){return Ho(t,D6()).base(t.base())},Is.apply(t,arguments)}function N6(){var t=II(G_());return t.copy=function(){return Ho(t,N6()).constant(t.constant())},Is.apply(t,arguments)}function jI(){var t=xI(G_());return t.copy=function(){return Ho(t,jI()).exponent(t.exponent())},Is.apply(t,arguments)}function lae(){return jI.apply(null,arguments).exponent(.5)}const Vd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:vI,scaleDiverging:O6,scaleDivergingLog:D6,scaleDivergingPow:jI,scaleDivergingSqrt:lae,scaleDivergingSymlog:N6,scaleIdentity:f6,scaleImplicit:NA,scaleLinear:c6,scaleLog:d6,scaleOrdinal:yI,scalePoint:Qne,scalePow:RI,scaleQuantile:g6,scaleQuantize:y6,scaleRadial:p6,scaleSequential:x6,scaleSequentialLog:R6,scaleSequentialPow:LI,scaleSequentialQuantile:C6,scaleSequentialSqrt:uae,scaleSequentialSymlog:P6,scaleSqrt:Fre,scaleSymlog:m6,scaleThreshold:v6,scaleTime:sae,scaleUtc:oae,tickFormat:l6},Symbol.toStringTag,{value:"Module"}));var Go=t=>t.chartData,cae=re([Go],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),UI=(t,e,n,r)=>r?cae(t):Go(t);function Sf(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(ei(e)&&ei(n))return!0}return!1}function Vk(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function fae(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(ei(n))i=n;else if(typeof n=="function")return;if(ei(r))a=r;else if(typeof r=="function")return;var u=[i,a];if(Sf(u))return u}}function hae(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Sf(r))return Vk(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,u,l;if(i==="auto")e!=null&&(u=Math.min(...e));else if(Se(i))u=i;else if(typeof i=="function")try{e!=null&&(u=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&S2.test(i)){var f=S2.exec(i);if(f==null||e==null)u=void 0;else{var h=+f[1];u=e[0]-h}}else u=e==null?void 0:e[0];if(a==="auto")e!=null&&(l=Math.max(...e));else if(Se(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&I2.test(a)){var m=I2.exec(a);if(m==null||e==null)l=void 0;else{var p=+m[1];l=e[1]+p}}else l=e==null?void 0:e[1];var v=[u,l];if(Sf(v))return e==null?v:Vk(v,e,n)}}}var Kf=1e9,dae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},qI,Mt=!0,Ti="[DecimalError] ",nl=Ti+"Invalid argument: ",BI=Ti+"Exponent out of range: ",Wf=Math.floor,Mu=Math.pow,mae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Gr,Dn=1e7,It=7,k6=9007199254740991,Ov=Wf(k6/It),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*It;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Te.dividedBy=Te.div=function(t){return us(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,n=e.constructor;return wt(us(e,new n(t),0,1),n.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return cn(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Gr))throw Error(Ti+"NaN");if(n.s<1)throw Error(Ti+(n.s?"NaN":"-Infinity"));return n.eq(Gr)?new r(0):(Mt=!1,e=us(Dm(n,a),Dm(t,a),a),Mt=!0,wt(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?L6(e,t):M6(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ti+"NaN");return n.s?(Mt=!1,e=us(n,t,0,1).times(t),Mt=!0,n.minus(e)):wt(new r(n),i)};Te.naturalExponential=Te.exp=function(){return V6(this)};Te.naturalLogarithm=Te.ln=function(){return Dm(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?M6(e,t):L6(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(nl+t);if(e=cn(i)+1,r=i.d.length-1,n=r*It+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Te.squareRoot=Te.sqrt=function(){var t,e,n,r,i,a,u,l=this,f=l.constructor;if(l.s<1){if(!l.s)return new f(0);throw Error(Ti+"NaN")}for(t=cn(l),Mt=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=ga(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Wf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=u=n+3;;)if(a=r,r=a.plus(us(l,a,u+2)).times(.5),ga(a.d).slice(0,u)===(e=ga(r.d)).slice(0,u)){if(e=e.slice(u-3,u+1),i==u&&e=="4999"){if(wt(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;u+=4}return Mt=!0,wt(r,n)};Te.times=Te.mul=function(t){var e,n,r,i,a,u,l,f,h,m=this,p=m.constructor,v=m.d,b=(t=new p(t)).d;if(!m.s||!t.s)return new p(0);for(t.s*=m.s,n=m.e+t.e,f=v.length,h=b.length,f<h&&(a=v,v=b,b=a,u=f,f=h,h=u),a=[],u=f+h,r=u;r--;)a.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)l=a[i]+b[r]*v[i-r-1]+e,a[i--]=l%Dn|0,e=l/Dn|0;a[i]=(a[i]+e)%Dn|0}for(;!a[--u];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Mt?wt(t,p.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ia(t,0,Kf),e===void 0?e=r.rounding:Ia(e,0,8),wt(n,t+cn(n)+1,e))};Te.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=_l(r,!0):(Ia(t,0,Kf),e===void 0?e=i.rounding:Ia(e,0,8),r=wt(new i(r),t+1,e),n=_l(r,!0,t+1)),n};Te.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?_l(i):(Ia(t,0,Kf),e===void 0?e=a.rounding:Ia(e,0,8),r=wt(new a(i),t+cn(i)+1,e),n=_l(r.abs(),!1,t+cn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return wt(new e(t),cn(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,n,r,i,a,u,l=this,f=l.constructor,h=12,m=+(t=new f(t));if(!t.s)return new f(Gr);if(l=new f(l),!l.s){if(t.s<1)throw Error(Ti+"Infinity");return l}if(l.eq(Gr))return l;if(r=f.precision,t.eq(Gr))return wt(l,r);if(e=t.e,n=t.d.length-1,u=e>=n,a=l.s,u){if((n=m<0?-m:m)<=k6){for(i=new f(Gr),e=Math.ceil(r/It+4),Mt=!1;n%2&&(i=i.times(l),jk(i.d,e)),n=Wf(n/2),n!==0;)l=l.times(l),jk(l.d,e);return Mt=!0,t.s<0?new f(Gr).div(i):wt(i,r)}}else if(a<0)throw Error(Ti+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Mt=!1,i=t.times(Dm(l,r+h)),Mt=!0,i=V6(i),i.s=a,i};Te.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=cn(i),r=_l(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ia(t,1,Kf),e===void 0?e=a.rounding:Ia(e,0,8),i=wt(new a(i),t,e),n=cn(i),r=_l(i,t<=n||n<=a.toExpNeg,t)),r};Te.toSignificantDigits=Te.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ia(t,1,Kf),e===void 0?e=r.rounding:Ia(e,0,8)),wt(new r(n),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=cn(t),n=t.constructor;return _l(t,e<=n.toExpNeg||e>=n.toExpPos)};function M6(t,e){var n,r,i,a,u,l,f,h,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Mt?wt(e,p):e;if(f=t.d,h=e.d,u=t.e,i=e.e,f=f.slice(),a=u-i,a){for(a<0?(r=f,a=-a,l=h.length):(r=h,i=u,l=f.length),u=Math.ceil(p/It),l=u>l?u+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=f.length,a=h.length,l-a<0&&(a=l,r=h,h=f,f=r),n=0;a;)n=(f[--a]=f[a]+h[a]+n)/Dn|0,f[a]%=Dn;for(n&&(f.unshift(n),++i),l=f.length;f[--l]==0;)f.pop();return e.d=f,e.e=i,Mt?wt(e,p):e}function Ia(t,e,n){if(t!==~~t||t<e||t>n)throw Error(nl+t)}function ga(t){var e,n,r,i=t.length-1,a="",u=t[0];if(i>0){for(a+=u,e=1;e<i;e++)r=t[e]+"",n=It-r.length,n&&(a+=co(n)),a+=r;u=t[e],r=u+"",n=It-r.length,n&&(a+=co(n))}else if(u===0)return"0";for(;u%10===0;)u/=10;return a+u}var us=(function(){function t(r,i){var a,u=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+u,r[l]=a%Dn|0,u=a/Dn|0;return u&&r.unshift(u),r}function e(r,i,a,u){var l,f;if(a!=u)f=a>u?1:-1;else for(l=f=0;l<a;l++)if(r[l]!=i[l]){f=r[l]>i[l]?1:-1;break}return f}function n(r,i,a){for(var u=0;a--;)r[a]-=u,u=r[a]<i[a]?1:0,r[a]=u*Dn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,u){var l,f,h,m,p,v,b,E,T,A,R,C,P,U,L,$,D,N,M=r.constructor,B=r.s==i.s?1:-1,j=r.d,q=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(Ti+"Division by zero");for(f=r.e-i.e,D=q.length,L=j.length,b=new M(B),E=b.d=[],h=0;q[h]==(j[h]||0);)++h;if(q[h]>(j[h]||0)&&--f,a==null?C=a=M.precision:u?C=a+(cn(r)-cn(i))+1:C=a,C<0)return new M(0);if(C=C/It+2|0,h=0,D==1)for(m=0,q=q[0],C++;(h<L||m)&&C--;h++)P=m*Dn+(j[h]||0),E[h]=P/q|0,m=P%q|0;else{for(m=Dn/(q[0]+1)|0,m>1&&(q=t(q,m),j=t(j,m),D=q.length,L=j.length),U=D,T=j.slice(0,D),A=T.length;A<D;)T[A++]=0;N=q.slice(),N.unshift(0),$=q[0],q[1]>=Dn/2&&++$;do m=0,l=e(q,T,D,A),l<0?(R=T[0],D!=A&&(R=R*Dn+(T[1]||0)),m=R/$|0,m>1?(m>=Dn&&(m=Dn-1),p=t(q,m),v=p.length,A=T.length,l=e(p,T,v,A),l==1&&(m--,n(p,D<v?N:q,v))):(m==0&&(l=m=1),p=q.slice()),v=p.length,v<A&&p.unshift(0),n(T,p,A),l==-1&&(A=T.length,l=e(q,T,D,A),l<1&&(m++,n(T,D<A?N:q,A))),A=T.length):l===0&&(m++,T=[0]),E[h++]=m,l&&T[0]?T[A++]=j[U]||0:(T=[j[U]],A=1);while((U++<L||T[0]!==void 0)&&C--)}return E[0]||E.shift(),b.e=f,wt(b,u?a+cn(b)+1:a)}})();function V6(t,e){var n,r,i,a,u,l,f=0,h=0,m=t.constructor,p=m.precision;if(cn(t)>16)throw Error(BI+cn(t));if(!t.s)return new m(Gr);for(Mt=!1,l=p,u=new m(.03125);t.abs().gte(.1);)t=t.times(u),h+=5;for(r=Math.log(Mu(2,h))/Math.LN10*2+5|0,l+=r,n=i=a=new m(Gr),m.precision=l;;){if(i=wt(i.times(t),l),n=n.times(++f),u=a.plus(us(i,n,l)),ga(u.d).slice(0,l)===ga(a.d).slice(0,l)){for(;h--;)a=wt(a.times(a),l);return m.precision=p,e==null?(Mt=!0,wt(a,p)):a}a=u}}function cn(t){for(var e=t.e*It,n=t.d[0];n>=10;n/=10)e++;return e}function QE(t,e,n){if(e>t.LN10.sd())throw Mt=!0,n&&(t.precision=n),Error(Ti+"LN10 precision limit exceeded");return wt(new t(t.LN10),e)}function co(t){for(var e="";t--;)e+="0";return e}function Dm(t,e){var n,r,i,a,u,l,f,h,m,p=1,v=10,b=t,E=b.d,T=b.constructor,A=T.precision;if(b.s<1)throw Error(Ti+(b.s?"NaN":"-Infinity"));if(b.eq(Gr))return new T(0);if(e==null?(Mt=!1,h=A):h=e,b.eq(10))return e==null&&(Mt=!0),QE(T,h);if(h+=v,T.precision=h,n=ga(E),r=n.charAt(0),a=cn(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=ga(b.d),r=n.charAt(0),p++;a=cn(b),r>1?(b=new T("0."+n),a++):b=new T(r+"."+n.slice(1))}else return f=QE(T,h+2,A).times(a+""),b=Dm(new T(r+"."+n.slice(1)),h-v).plus(f),T.precision=A,e==null?(Mt=!0,wt(b,A)):b;for(l=u=b=us(b.minus(Gr),b.plus(Gr),h),m=wt(b.times(b),h),i=3;;){if(u=wt(u.times(m),h),f=l.plus(us(u,new T(i),h)),ga(f.d).slice(0,h)===ga(l.d).slice(0,h))return l=l.times(2),a!==0&&(l=l.plus(QE(T,h+2,A).times(a+""))),l=us(l,new T(p),h),T.precision=A,e==null?(Mt=!0,wt(l,A)):l;l=f,i+=2}}function Lk(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Wf(n/It),t.d=[],r=(n+1)%It,n<0&&(r+=It),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=It;r<i;)t.d.push(+e.slice(r,r+=It));e=e.slice(r),r=It-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Mt&&(t.e>Ov||t.e<-Ov))throw Error(BI+n)}else t.s=0,t.e=0,t.d=[0];return t}function wt(t,e,n){var r,i,a,u,l,f,h,m,p=t.d;for(u=1,a=p[0];a>=10;a/=10)u++;if(r=e-u,r<0)r+=It,i=e,h=p[m=0];else{if(m=Math.ceil((r+1)/It),a=p.length,m>=a)return t;for(h=a=p[m],u=1;a>=10;a/=10)u++;r%=It,i=r-It+u}if(n!==void 0&&(a=Mu(10,u-i-1),l=h/a%10|0,f=e<0||p[m+1]!==void 0||h%a,f=n<4?(l||f)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||f||n==6&&(r>0?i>0?h/Mu(10,u-i):0:p[m-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return f?(a=cn(t),p.length=1,e=e-a-1,p[0]=Mu(10,(It-e%It)%It),t.e=Wf(-e/It)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=m,a=1,m--):(p.length=m+1,a=Mu(10,It-r),p[m]=i>0?(h/Mu(10,u-i)%Mu(10,i)|0)*a:0),f)for(;;)if(m==0){(p[0]+=a)==Dn&&(p[0]=1,++t.e);break}else{if(p[m]+=a,p[m]!=Dn)break;p[m--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(Mt&&(t.e>Ov||t.e<-Ov))throw Error(BI+cn(t));return t}function L6(t,e){var n,r,i,a,u,l,f,h,m,p,v=t.constructor,b=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Mt?wt(e,b):e;if(f=t.d,p=e.d,r=e.e,h=t.e,f=f.slice(),u=h-r,u){for(m=u<0,m?(n=f,u=-u,l=p.length):(n=p,r=h,l=f.length),i=Math.max(Math.ceil(b/It),l)+2,u>i&&(u=i,n.length=1),n.reverse(),i=u;i--;)n.push(0);n.reverse()}else{for(i=f.length,l=p.length,m=i<l,m&&(l=i),i=0;i<l;i++)if(f[i]!=p[i]){m=f[i]<p[i];break}u=0}for(m&&(n=f,f=p,p=n,e.s=-e.s),l=f.length,i=p.length-l;i>0;--i)f[l++]=0;for(i=p.length;i>u;){if(f[--i]<p[i]){for(a=i;a&&f[--a]===0;)f[a]=Dn-1;--f[a],f[i]+=Dn}f[i]-=p[i]}for(;f[--l]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Mt?wt(e,b):e):new v(0)}function _l(t,e,n){var r,i=cn(t),a=ga(t.d),u=a.length;return e?(n&&(r=n-u)>0?a=a.charAt(0)+"."+a.slice(1)+co(r):u>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+co(-i-1)+a,n&&(r=n-u)>0&&(a+=co(r))):i>=u?(a+=co(i+1-u),n&&(r=n-i-1)>0&&(a=a+"."+co(r))):((r=i+1)<u&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-u)>0&&(i+1===u&&(a+="."),a+=co(r))),t.s<0?"-"+a:a}function jk(t,e){if(t.length>e)return t.length=e,!0}function j6(t){var e,n,r;function i(a){var u=this;if(!(u instanceof i))return new i(a);if(u.constructor=i,a instanceof i){u.s=a.s,u.e=a.e,u.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(nl+a);if(a>0)u.s=1;else if(a<0)a=-a,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(a===~~a&&a<1e7){u.e=0,u.d=[a];return}return Lk(u,a.toString())}else if(typeof a!="string")throw Error(nl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),u.s=-1):u.s=1,mae.test(a))Lk(u,a);else throw Error(nl+a)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=j6,i.config=i.set=pae,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function pae(t){if(!t||typeof t!="object")throw Error(Ti+"Object expected");var e,n,r,i=["precision",1,Kf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Wf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(nl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(nl+n+": "+r);return this}var qI=j6(dae);Gr=new qI(1);const ct=qI;var gae=t=>t,U6={},B6=t=>t===U6,Uk=t=>function e(){return arguments.length===0||arguments.length===1&&B6(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},q6=(t,e)=>t===1?e:Uk(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(u=>u!==U6).length;return a>=t?e(...r):q6(t-a,Uk(function(){for(var u=arguments.length,l=new Array(u),f=0;f<u;f++)l[f]=arguments[f];var h=r.map(m=>B6(m)?l.shift():m);return e(...h,...l)}))}),K_=t=>q6(t.length,t),LA=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},yae=K_((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),vae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return gae;var i=n.reverse(),a=i[0],u=i.slice(1);return function(){return u.reduce((l,f)=>f(l),a(...arguments))}},jA=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),z6=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((u,l)=>{var f;return u===((f=e)===null||f===void 0?void 0:f[l])})||(e=i,n=t(...i)),n}};function F6(t){var e;return t===0?e=1:e=Math.floor(new ct(t).abs().log(10).toNumber())+1,e}function $6(t,e,n){for(var r=new ct(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}K_((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});K_((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});K_((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var H6=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},G6=(t,e,n)=>{if(t.lte(0))return new ct(0);var r=F6(t.toNumber()),i=new ct(10).pow(r),a=t.div(i),u=r!==1?.05:.1,l=new ct(Math.ceil(a.div(u).toNumber())).add(n).mul(u),f=l.mul(i);return e?new ct(f.toNumber()):new ct(Math.ceil(f.toNumber()))},_ae=(t,e,n)=>{var r=new ct(1),i=new ct(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new ct(10).pow(F6(t)-1),i=new ct(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new ct(Math.floor(t)))}else t===0?i=new ct(Math.floor((e-1)/2)):n||(i=new ct(Math.floor(t)));var u=Math.floor((e-1)/2),l=vae(yae(f=>i.add(new ct(f-u).mul(r)).toNumber()),LA);return l(0,e)},K6=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new ct(0),tickMin:new ct(0),tickMax:new ct(0)};var u=G6(new ct(n).sub(e).div(r-1),i,a),l;e<=0&&n>=0?l=new ct(0):(l=new ct(e).add(n).div(2),l=l.sub(new ct(l).mod(u)));var f=Math.ceil(l.sub(e).div(u).toNumber()),h=Math.ceil(new ct(n).sub(l).div(u).toNumber()),m=f+h+1;return m>r?K6(e,n,r,i,a+1):(m<r&&(h=n>0?h+(r-m):h,f=n>0?f:f+(r-m)),{step:u,tickMin:l.sub(new ct(f).mul(u)),tickMax:l.add(new ct(h).mul(u))})};function bae(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[u,l]=H6([e,n]);if(u===-1/0||l===1/0){var f=l===1/0?[u,...LA(0,r-1).map(()=>1/0)]:[...LA(0,r-1).map(()=>-1/0),l];return e>n?jA(f):f}if(u===l)return _ae(u,r,i);var{step:h,tickMin:m,tickMax:p}=K6(u,l,a,i,0),v=$6(m,p.add(new ct(.1).mul(h)),h);return e>n?jA(v):v}function wae(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,u]=H6([n,r]);if(a===-1/0||u===1/0)return[n,r];if(a===u)return[a];var l=Math.max(e,2),f=G6(new ct(u).sub(a).div(l-1),i,0),h=[...$6(new ct(a),new ct(u),f),u];return i===!1&&(h=h.map(m=>Math.round(m))),n>r?jA(h):h}var Eae=z6(bae),Tae=z6(wae),W6=t=>t.rootProps.maxBarSize,Aae=t=>t.rootProps.barGap,Y6=t=>t.rootProps.barCategoryGap,Sae=t=>t.rootProps.barSize,W_=t=>t.rootProps.stackOffset,zI=t=>t.options.chartName,FI=t=>t.rootProps.syncId,Q6=t=>t.rootProps.syncMethod,$I=t=>t.options.eventEmitter,Za={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Fr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Y_=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Iae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Za.angleAxisId,includeHidden:!1,name:void 0,reversed:Za.reversed,scale:Za.scale,tick:Za.tick,tickCount:void 0,ticks:void 0,type:Za.type,unit:void 0},xae={allowDataOverflow:Fr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Fr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fr.scale,tick:Fr.tick,tickCount:Fr.tickCount,ticks:void 0,type:Fr.type,unit:void 0},Rae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Za.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Za.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Za.scale,tick:Za.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Pae={allowDataOverflow:Fr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Fr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fr.scale,tick:Fr.tick,tickCount:Fr.tickCount,ticks:void 0,type:"category",unit:void 0},HI=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Rae:Iae,GI=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Pae:xae,Q_=t=>t.polarOptions,KI=re([As,Ss,jn],Nee),X6=re([Q_,KI],(t,e)=>{if(t!=null)return Bi(t.innerRadius,e,0)}),J6=re([Q_,KI],(t,e)=>{if(t!=null)return Bi(t.outerRadius,e,e*.8)}),Cae=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},Z6=re([Q_],Cae);re([HI,Z6],Y_);var eB=re([KI,X6,J6],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});re([GI,eB],Y_);var tB=re([dt,Q_,X6,J6,As,Ss],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:u,cy:l,startAngle:f,endAngle:h}=e;return{cx:Bi(u,i,i/2),cy:Bi(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),fn=(t,e)=>e,X_=(t,e,n)=>n;function WI(t){return t==null?void 0:t.id}var Tn=t=>{var e=dt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Yf=t=>t.tooltip.settings.axisId,An=t=>{var e=Tn(t),n=Yf(t);return dp(t,e,n)};function nB(t,e,n){var{chartData:r=[]}=e,i=n==null?void 0:n.dataKey,a=new Map;return t.forEach(u=>{var l,f=(l=u.data)!==null&&l!==void 0?l:r;if(!(f==null||f.length===0)){var h=WI(u);f.forEach((m,p)=>{var v=i==null?p:String(vr(m,i,null)),b=vr(m,u.dataKey,0),E;a.has(v)?E=a.get(v):E={},Object.assign(E,{[h]:b}),a.set(v,E)})}}),Array.from(a.values())}function J_(t){return t.stackId!=null&&t.dataKey!=null}function Bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bk(Object(n),!0).forEach(function(r){Oae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oae(t,e,n){return(e=Dae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dae(t){var e=Nae(t,"string");return typeof e=="symbol"?e:e+""}function Nae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UA=[0,"auto"],Br={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},xs=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??Br},qr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:UA,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:j_},Ko=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??qr},kae={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},YI=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??kae},Cr=(t,e,n)=>{switch(e){case"xAxis":return xs(t,n);case"yAxis":return Ko(t,n);case"zAxis":return YI(t,n);case"angleAxis":return HI(t,n);case"radiusAxis":return GI(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Mae=(t,e,n)=>{switch(e){case"xAxis":return xs(t,n);case"yAxis":return Ko(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},dp=(t,e,n)=>{switch(e){case"xAxis":return xs(t,n);case"yAxis":return Ko(t,n);case"angleAxis":return HI(t,n);case"radiusAxis":return GI(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},rB=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function iB(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var QI=t=>t.graphicalItems.cartesianItems,Vae=re([fn,X_],iB),aB=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),mp=re([QI,Cr,Vae],aB),sB=re([mp],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(J_)),oB=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),uB=re([mp],oB),lB=t=>t.map(e=>e.data).filter(Boolean).flat(1),Lae=re([mp],lB),cB=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},XI=re([Lae,UI],cB),fB=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:vr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:vr(i,r)}))):t.map(r=>({value:r})),Z_=re([XI,Cr,mp],fB);function hB(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Cl(t){return t.filter(e=>Sa(e)||e instanceof Date).map(Number).filter(e=>Jr(e)===!1)}function jae(t,e,n){return!n||typeof e!="number"||Jr(e)?[]:n.length?Cl(n.flatMap(r=>{var i=vr(t,r.dataKey),a,u;if(Array.isArray(i)?[a,u]=i:a=u=i,!(!ei(a)||!ei(u)))return[e-a,e+u]})):[]}var Uae=re([sB,UI,An],nB),dB=(t,e,n)=>{var r={},i=e.reduce((a,u)=>(u.stackId==null||(a[u.stackId]==null&&(a[u.stackId]=[]),a[u.stackId].push(u)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[u,l]=a,f=l.map(WI);return[u,{stackedData:Yee(t,f,n),graphicalItems:l}]}))},BA=re([Uae,sB,W_],dB),mB=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var a=ete(t,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Bae=re([BA,Go,fn],mB),pB=(t,e,n,r,i)=>n.length>0?t.flatMap(a=>n.flatMap(u=>{var l,f,h=(l=r[u.id])===null||l===void 0?void 0:l.filter(p=>hB(i,p)),m=vr(a,(f=e.dataKey)!==null&&f!==void 0?f:u.dataKey);return{value:m,errorDomain:jae(a,m,h)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(a=>({value:vr(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),e0=t=>t.errorBars,gB=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>hB(n,r));re([uB,e0,fn],gB);var qae=re([XI,Cr,uB,e0,fn],pB);function zae(t){var{value:e}=t;if(Sa(e)||e instanceof Date)return e}var qk=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Cl(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Fae=(t,e,n)=>{var r=t.map(zae).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&CU(r))?Z3(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},JI=t=>{var e;if(t==null||!("domain"in t))return UA;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Cl(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:UA},Nv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),u=Math.min(...a),l=Math.max(...a);return[u,l]}},yB=t=>t.referenceElements.dots,Qf=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),$ae=re([yB,fn,X_],Qf),vB=t=>t.referenceElements.areas,Hae=re([vB,fn,X_],Qf),_B=t=>t.referenceElements.lines,Gae=re([_B,fn,X_],Qf),bB=(t,e)=>{var n=Cl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Kae=re($ae,fn,bB),wB=(t,e)=>{var n=Cl(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Wae=re([Hae,fn],wB),EB=(t,e)=>{var n=Cl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Yae=re(Gae,fn,EB),Qae=re(Kae,Yae,Wae,(t,e,n)=>Nv(t,n,e)),Xae=re([Cr],JI),TB=(t,e,n,r,i,a,u)=>{var l=fae(e,t.allowDataOverflow);if(l!=null)return l;var f=a==="vertical"&&u==="xAxis"||a==="horizontal"&&u==="yAxis",h=f?Nv(n,i,qk(r)):Nv(i,qk(r));return hae(e,h,t.allowDataOverflow)},Jae=re([Cr,Xae,Bae,qae,Qae,dt,fn],TB),Zae=[0,1],AB=(t,e,n,r,i,a,u)=>{if(!((t==null||n==null||n.length===0)&&u===void 0)){var{dataKey:l,type:f}=t,h=xl(e,a);return h&&l==null?Z3(0,n.length):f==="category"?Fae(r,t,h):i==="expand"?Zae:u}},ZI=re([Cr,dt,XI,Z_,W_,fn,Jae],AB),SB=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:u}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":u==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":u==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(ip(a));return l in Vd?l:"point"}}},pp=re([Cr,dt,rB,zI,fn],SB);function ese(t){if(t!=null){if(t in Vd)return Vd[t]();var e="scale".concat(ip(t));if(e in Vd)return Vd[e]()}}function ex(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=ese(e);if(i!=null){var a=i.domain(n).range(r);return $ee(a),a}}}var IB=(t,e,n)=>{var r=JI(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Sf(t))return Eae(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Sf(t))return Tae(t,e.tickCount,e.allowDecimals)}},tx=re([ZI,dp,pp],IB),xB=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Sf(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],u=e[1],l=n[n.length-1];return[Math.min(i,a),Math.max(u,l)]}return e},tse=re([Cr,ZI,tx,fn],xB),nse=re(Z_,Cr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Cl(t.map(l=>l.value))).sort((l,f)=>l-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var u=r[a+1]-r[a];n=Math.min(n,u)}return n/i}}),RB=re(nse,dt,Y6,jn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!ei(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var u=Bi(n,t*a),l=t*a/2;return l-u-(l-u)/a*u}return 0}),rse=(t,e)=>{var n=xs(t,e);return n==null||typeof n.padding!="string"?0:RB(t,"xAxis",e,n.padding)},ise=(t,e)=>{var n=Ko(t,e);return n==null||typeof n.padding!="string"?0:RB(t,"yAxis",e,n.padding)},ase=re(xs,rse,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),sse=re(Ko,ise,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),ose=re([jn,ase,B_,U_,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),use=re([jn,dt,sse,B_,U_,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:u}=i;return a?[r.height-u.bottom,u.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),gp=(t,e,n,r)=>{var i;switch(e){case"xAxis":return ose(t,n,r);case"yAxis":return use(t,n,r);case"zAxis":return(i=YI(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return Z6(t);case"radiusAxis":return eB(t,n);default:return}},PB=re([Cr,gp],Y_),Xf=re([Cr,pp,tse,PB],ex);re([mp,e0,fn],gB);function CB(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var t0=(t,e)=>e,n0=(t,e,n)=>n,lse=re(fI,t0,n0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(CB)),cse=re(hI,t0,n0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(CB)),OB=(t,e)=>({width:t.width,height:e.height}),fse=(t,e)=>{var n=typeof e.width=="number"?e.width:j_;return{width:n,height:t.height}},DB=re(jn,xs,OB),hse=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},dse=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},mse=re(Ss,jn,lse,t0,n0,(t,e,n,r,i)=>{var a={},u;return n.forEach(l=>{var f=OB(e,l);u==null&&(u=hse(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;a[l.id]=u-Number(h)*f.height,u+=(h?-1:1)*f.height}),a}),pse=re(As,jn,cse,t0,n0,(t,e,n,r,i)=>{var a={},u;return n.forEach(l=>{var f=fse(e,l);u==null&&(u=dse(e,r,t));var h=r==="left"&&!i||r==="right"&&i;a[l.id]=u-Number(h)*f.width,u+=(h?-1:1)*f.width}),a}),gse=(t,e)=>{var n=jn(t),r=xs(t,e);if(r!=null){var i=mse(t,r.orientation,r.mirror),a=i[e];return a==null?{x:n.left,y:0}:{x:n.left,y:a}}},yse=(t,e)=>{var n=jn(t),r=Ko(t,e);if(r!=null){var i=pse(t,r.orientation,r.mirror),a=i[e];return a==null?{x:0,y:n.top}:{x:a,y:n.top}}},NB=re(jn,Ko,(t,e)=>{var n=typeof e.width=="number"?e.width:j_;return{width:n,height:t.height}}),zk=(t,e,n)=>{switch(e){case"xAxis":return DB(t,n).width;case"yAxis":return NB(t,n).height;default:return}},kB=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:u}=n,l=xl(t,r),f=e.map(h=>h.value);if(u&&l&&a==="category"&&i&&CU(f))return f}},nx=re([dt,Z_,Cr,fn],kB),MB=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,u=xl(t,r);if(u&&(i==="number"||a!=="auto"))return e.map(l=>l.value)}},rx=re([dt,Z_,dp,fn],MB),Fk=re([dt,Mae,pp,Xf,nx,rx,gp,tx,fn],(t,e,n,r,i,a,u,l,f)=>{if(e==null)return null;var h=xl(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:a,duplicateDomain:i,isCategorical:h,niceTicks:l,range:u,realScaleType:n,scale:r}}),vse=(t,e,n,r,i,a,u,l,f)=>{if(!(e==null||r==null)){var h=xl(t,f),{type:m,ticks:p,tickCount:v}=e,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=m==="category"&&r.bandwidth?r.bandwidth()/b:0;E=f==="angleAxis"&&a!=null&&a.length>=2?Rr(a[0]-a[1])*2*E:E;var T=p||i;if(T){var A=T.map((R,C)=>{var P=u?u.indexOf(R):R;return{index:C,coordinate:r(P)+E,value:R,offset:E}});return A.filter(R=>!Jr(R.coordinate))}return h&&l?l.map((R,C)=>({coordinate:r(R)+E,value:R,index:C,offset:E})):r.ticks?r.ticks(v).map(R=>({coordinate:r(R)+E,value:R,offset:E})):r.domain().map((R,C)=>({coordinate:r(R)+E,value:u?u[R]:R,index:C,offset:E}))}},VB=re([dt,dp,pp,Xf,tx,gp,nx,rx,fn],vse),_se=(t,e,n,r,i,a,u)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=xl(t,u),{tickCount:f}=e,h=0;return h=u==="angleAxis"&&(r==null?void 0:r.length)>=2?Rr(r[0]-r[1])*2*h:h,l&&a?a.map((m,p)=>({coordinate:n(m)+h,value:m,index:p,offset:h})):n.ticks?n.ticks(f).map(m=>({coordinate:n(m)+h,value:m,offset:h})):n.domain().map((m,p)=>({coordinate:n(m)+h,value:i?i[m]:m,index:p,offset:h}))}},If=re([dt,dp,Xf,gp,nx,rx,fn],_se),xf=re(Cr,Xf,(t,e)=>{if(!(t==null||e==null))return Dv(Dv({},t),{},{scale:e})}),bse=re([Cr,pp,ZI,PB],ex);re((t,e,n)=>YI(t,n),bse,(t,e)=>{if(!(t==null||e==null))return Dv(Dv({},t),{},{scale:e})});var wse=re([dt,fI,hI],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),LB=t=>t.options.defaultTooltipEventType,jB=t=>t.options.validateTooltipEventTypes;function UB(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function ix(t,e){var n=LB(t),r=jB(t);return UB(e,n,r)}function Ese(t){return Ce(e=>ix(e,t))}var BB=(t,e)=>{var n,r=Number(e);if(!(Jr(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Tse=t=>t.tooltip.settings,ho={active:!1,index:null,dataKey:void 0,coordinate:void 0},Ase={itemInteraction:{click:ho,hover:ho},axisInteraction:{click:ho,hover:ho},keyboardInteraction:ho,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},qB=ti({name:"tooltip",initialState:Ase,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=os(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Sse,removeTooltipEntrySettings:Ise,setTooltipSettingsState:xse,setActiveMouseOverItemIndex:zB,mouseLeaveItem:Rse,mouseLeaveChart:FB,setActiveClickItemIndex:Pse,setMouseOverAxisIndex:$B,setMouseClickAxisIndex:Cse,setSyncInteraction:qA,setKeyboardInteraction:zA}=qB.actions,Ose=qB.reducer;function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(r){Dse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dse(t,e,n){return(e=Nse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nse(t){var e=kse(t,"string");return typeof e=="symbol"?e:e+""}function kse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mse(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Vse(t){return t.index!=null}var HB=(t,e,n,r)=>{if(e==null)return ho;var i=Mse(t,e,n);if(i==null)return ho;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Vse(i)){if(a)return cy(cy({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return cy(cy({},ho),{},{coordinate:i.coordinate})},ax=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!ei(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},GB=(t,e,n,r,i,a,u,l)=>{if(!(a==null||l==null)){var f=u[0],h=f==null?void 0:l(f.positions,a);if(h!=null)return h;var m=i==null?void 0:i[Number(a)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:m.coordinate}}}},KB=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var u;return((u=a.settings)===null||u===void 0?void 0:u.dataKey)===i})},yp=t=>t.options.tooltipPayloadSearcher,Jf=t=>t.tooltip;function Hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(n),!0).forEach(function(r){Lse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lse(t,e,n){return(e=jse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jse(t){var e=Use(t,"string");return typeof e=="symbol"?e:e+""}function Use(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bse(t,e){return t??e}var WB=(t,e,n,r,i,a,u)=>{if(!(e==null||a==null)){var{chartData:l,computedData:f,dataStartIndex:h,dataEndIndex:m}=n,p=[];return t.reduce((v,b)=>{var E,{dataDefinedOnItem:T,settings:A}=b,R=Bse(T,l),C=Array.isArray(R)?D3(R,h,m):R,P=(E=A==null?void 0:A.dataKey)!==null&&E!==void 0?E:r==null?void 0:r.dataKey,U=A==null?void 0:A.nameKey,L;if(r!=null&&r.dataKey&&Array.isArray(C)&&!Array.isArray(C[0])&&u==="axis"?L=VX(C,r.dataKey,i):L=a(C,e,f,U),Array.isArray(L))L.forEach(D=>{var N=Gk(Gk({},A),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});v.push(x2({tooltipEntrySettings:N,dataKey:D.dataKey,payload:D.payload,value:vr(D.payload,D.dataKey),name:D.name}))});else{var $;v.push(x2({tooltipEntrySettings:A,dataKey:P,payload:L,value:vr(L,P),name:($=vr(L,U))!==null&&$!==void 0?$:A==null?void 0:A.name}))}return v},p)}},sx=re([An,dt,rB,zI,Tn],SB),qse=re([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),zse=re([Tn,Yf],iB),vp=re([qse,An,zse],aB),Fse=re([vp],t=>t.filter(J_)),$se=re([vp],lB),Zf=re([$se,Go],cB),Hse=re([Fse,Go,An],nB),ox=re([Zf,An,vp],fB),Gse=re([An],JI),Kse=re([vp],t=>t.filter(J_)),Wse=re([Hse,Kse,W_],dB),Yse=re([Wse,Go,Tn],mB),Qse=re([vp],oB),Xse=re([Zf,An,Qse,e0,Tn],pB),Jse=re([yB,Tn,Yf],Qf),Zse=re([Jse,Tn],bB),eoe=re([vB,Tn,Yf],Qf),toe=re([eoe,Tn],wB),noe=re([_B,Tn,Yf],Qf),roe=re([noe,Tn],EB),ioe=re([Zse,roe,toe],Nv),aoe=re([An,Gse,Yse,Xse,ioe,dt,Tn],TB),YB=re([An,dt,Zf,ox,W_,Tn,aoe],AB),soe=re([YB,An,sx],IB),ooe=re([An,YB,soe,Tn],xB),QB=t=>{var e=Tn(t),n=Yf(t),r=!1;return gp(t,e,n,r)},XB=re([An,QB],Y_),JB=re([An,sx,ooe,XB],ex),uoe=re([dt,ox,An,Tn],kB),loe=re([dt,ox,An,Tn],MB),coe=(t,e,n,r,i,a,u,l)=>{if(e){var{type:f}=e,h=xl(t,l);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=f==="category"&&r.bandwidth?r.bandwidth()/m:0;return p=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Rr(i[0]-i[1])*2*p:p,h&&u?u.map((v,b)=>({coordinate:r(v)+p,value:v,index:b,offset:p})):r.domain().map((v,b)=>({coordinate:r(v)+p,value:a?a[v]:v,index:b,offset:p}))}}},Rs=re([dt,An,sx,JB,QB,uoe,loe,Tn],coe),ux=re([LB,jB,Tse],(t,e,n)=>UB(n.shared,t,e)),ZB=t=>t.tooltip.settings.trigger,lx=t=>t.tooltip.settings.defaultIndex,r0=re([Jf,ux,ZB,lx],HB),Rf=re([r0,Zf],ax),e5=re([Rs,Rf],BB),t5=re([r0],t=>{if(t)return t.dataKey}),n5=re([Jf,ux,ZB,lx],KB),foe=re([As,Ss,dt,jn,Rs,lx,n5,yp],GB),hoe=re([r0,foe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),doe=re([r0],t=>t.active),moe=re([n5,Rf,Go,An,e5,yp,ux],WB);re([moe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){poe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function poe(t,e,n){return(e=goe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function goe(t){var e=yoe(t,"string");return typeof e=="symbol"?e:e+""}function yoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var voe=()=>Ce(An),_oe=()=>{var t=voe(),e=Ce(Rs),n=Ce(JB);return cI(Wk(Wk({},t),{},{scale:n}),e)},boe=()=>Ce(zI),cx=(t,e)=>e,r5=(t,e,n)=>n,fx=(t,e,n,r)=>r,woe=re(Rs,t=>D_(t,e=>e.coordinate)),hx=re([Jf,cx,r5,fx],HB),i5=re([hx,Zf],ax),Eoe=(t,e,n)=>{if(e!=null){var r=Jf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},a5=re([Jf,cx,r5,fx],KB),kv=re([As,Ss,dt,jn,Rs,fx,a5,yp],GB),Toe=re([hx,kv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),s5=re(Rs,i5,BB),Aoe=re([a5,i5,Go,An,s5,yp,cx],WB),Soe=re([hx],t=>({isActive:t.active,activeIndex:t.index})),Ioe=(t,e,n,r,i,a,u,l)=>{if(!(!t||!e||!r||!i||!a)){var f=tte(t.chartX,t.chartY,e,n,l);if(f){var h=rte(f,e),m=zee(h,u,a,r,i),p=nte(e,a,m,f);return{activeIndex:String(m),activeCoordinate:p}}}};function FA(){return FA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FA.apply(null,arguments)}function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){xoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xoe(t,e,n){return(e=Roe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Roe(t){var e=Poe(t,"string");return typeof e=="symbol"?e:e+""}function Poe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Coe(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:u,cursor:l,tooltipEventType:f,chartName:h}=t,m=e,p=n,v=r;if(!l||!m||h!=="ScatterChart"&&f!=="axis")return null;var b,E;if(h==="ScatterChart")b=m,E=Hte;else if(h==="BarChart")b=Gte(u,m,i,a),E=Y3;else if(u==="radial"){var{cx:T,cy:A,radius:R,startAngle:C,endAngle:P}=Q3(m);b={cx:T,cy:A,startAngle:C,endAngle:P,innerRadius:R,outerRadius:R},E=J3}else b={points:Cne(u,m,i)},E=Vte;var U=typeof l=="object"&&"className"in l?l.className:void 0,L=fy(fy(fy(fy({stroke:"#ccc",pointerEvents:"none"},i),b),Mn(l,!1)),{},{payload:p,payloadIndex:v,className:Rt("recharts-tooltip-cursor",U)});return x.isValidElement(l)?x.cloneElement(l,L):x.createElement(E,L)}function Ooe(t){var e=_oe(),n=j3(),r=mI(),i=boe();return x.createElement(Coe,FA({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var o5=x.createContext(null),Doe=()=>x.useContext(o5),XE={exports:{}},Qk;function Noe(){return Qk||(Qk=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,m){this.fn=f,this.context=h,this.once=m||!1}function a(f,h,m,p,v){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new i(m,p||f,v),E=n?n+h:h;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],b]:f._events[E].push(b):(f._events[E]=b,f._eventsCount++),f}function u(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],m,p;if(this._eventsCount===0)return h;for(p in m=this._events)e.call(m,p)&&h.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},l.prototype.listeners=function(h){var m=n?n+h:h,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,b=p.length,E=new Array(b);v<b;v++)E[v]=p[v].fn;return E},l.prototype.listenerCount=function(h){var m=n?n+h:h,p=this._events[m];return p?p.fn?1:p.length:0},l.prototype.emit=function(h,m,p,v,b,E){var T=n?n+h:h;if(!this._events[T])return!1;var A=this._events[T],R=arguments.length,C,P;if(A.fn){switch(A.once&&this.removeListener(h,A.fn,void 0,!0),R){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,m),!0;case 3:return A.fn.call(A.context,m,p),!0;case 4:return A.fn.call(A.context,m,p,v),!0;case 5:return A.fn.call(A.context,m,p,v,b),!0;case 6:return A.fn.call(A.context,m,p,v,b,E),!0}for(P=1,C=new Array(R-1);P<R;P++)C[P-1]=arguments[P];A.fn.apply(A.context,C)}else{var U=A.length,L;for(P=0;P<U;P++)switch(A[P].once&&this.removeListener(h,A[P].fn,void 0,!0),R){case 1:A[P].fn.call(A[P].context);break;case 2:A[P].fn.call(A[P].context,m);break;case 3:A[P].fn.call(A[P].context,m,p);break;case 4:A[P].fn.call(A[P].context,m,p,v);break;default:if(!C)for(L=1,C=new Array(R-1);L<R;L++)C[L-1]=arguments[L];A[P].fn.apply(A[P].context,C)}}return!0},l.prototype.on=function(h,m,p){return a(this,h,m,p,!1)},l.prototype.once=function(h,m,p){return a(this,h,m,p,!0)},l.prototype.removeListener=function(h,m,p,v){var b=n?n+h:h;if(!this._events[b])return this;if(!m)return u(this,b),this;var E=this._events[b];if(E.fn)E.fn===m&&(!v||E.once)&&(!p||E.context===p)&&u(this,b);else{for(var T=0,A=[],R=E.length;T<R;T++)(E[T].fn!==m||v&&!E[T].once||p&&E[T].context!==p)&&A.push(E[T]);A.length?this._events[b]=A.length===1?A[0]:A:u(this,b)}return this},l.prototype.removeAllListeners=function(h){var m;return h?(m=n?n+h:h,this._events[m]&&u(this,m)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(XE)),XE.exports}var koe=Noe();const Moe=qi(koe);var Nm=new Moe,$A="recharts.syncEvent.tooltip",Xk="recharts.syncEvent.brush";function Voe(t,e){if(e){var n=Number.parseInt(e,10);if(!Jr(n))return t==null?void 0:t[n]}}var Loe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},u5=ti({name:"options",initialState:Loe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),joe=u5.reducer,{createEventEmitter:Uoe}=u5.actions;function Boe(t){return t.tooltip.syncInteraction}var qoe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},l5=ti({name:"chartData",initialState:qoe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:Jk,setDataStartEndIndexes:zoe,setComputedData:Ude}=l5.actions,Foe=l5.reducer,c5=()=>{};function $oe(){var t=Ce(FI),e=Ce($I),n=Ln(),r=Ce(Q6),i=Ce(Rs),a=mI(),u=dI(),l=Ce(f=>f.rootProps.className);x.useEffect(()=>{if(t==null)return c5;var f=(h,m,p)=>{if(e!==p&&t===h){if(r==="index"){n(m);return}if(i!=null){var v;if(typeof r=="function"){var b={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},E=r(i,b);v=i[E]}else r==="value"&&(v=i.find($=>String($.value)===m.payload.label));var{coordinate:T}=m.payload;if(v==null||m.payload.active===!1||T==null||u==null){n(qA({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:A,y:R}=T,C=Math.min(A,u.x+u.width),P=Math.min(R,u.y+u.height),U={x:a==="horizontal"?v.coordinate:C,y:a==="horizontal"?P:v.coordinate},L=qA({active:m.payload.active,coordinate:U,dataKey:m.payload.dataKey,index:String(v.index),label:m.payload.label});n(L)}}};return Nm.on($A,f),()=>{Nm.off($A,f)}},[l,n,e,t,r,i,a,u])}function Hoe(){var t=Ce(FI),e=Ce($I),n=Ln();x.useEffect(()=>{if(t==null)return c5;var r=(i,a,u)=>{e!==u&&t===i&&n(zoe(a))};return Nm.on(Xk,r),()=>{Nm.off(Xk,r)}},[n,e,t])}function Goe(){var t=Ln();x.useEffect(()=>{t(Uoe())},[t]),$oe(),Hoe()}function Koe(t,e,n,r,i,a){var u=Ce(v=>Eoe(v,t,e)),l=Ce($I),f=Ce(FI),h=Ce(Q6),m=Ce(Boe),p=m==null?void 0:m.active;x.useEffect(()=>{if(!p&&f!=null&&l!=null){var v=qA({active:a,coordinate:n,dataKey:u,index:i,label:typeof r=="number"?String(r):r});Nm.emit($A,f,v,l)}},[p,n,u,i,r,l,f,h,a])}function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){Woe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Woe(t,e,n){return(e=Yoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yoe(t){var e=Qoe(t,"string");return typeof e=="symbol"?e:e+""}function Qoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xoe(t){return t.dataKey}function Joe(t,e){return x.isValidElement(t)?x.cloneElement(t,e):typeof t=="function"?x.createElement(t,e):x.createElement(Ete,e)}var tM=[],Zoe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!up.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function eue(t){var e=Fo(t,Zoe),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:u,filterNull:l,isAnimationActive:f,offset:h,payloadUniqBy:m,position:p,reverseDirection:v,useTranslate3d:b,wrapperStyle:E,cursor:T,shared:A,trigger:R,defaultIndex:C,portal:P,axisId:U}=e,L=Ln(),$=typeof C=="number"?String(C):C;x.useEffect(()=>{L(xse({shared:A,trigger:R,axisId:U,active:n,defaultIndex:$}))},[L,A,R,U,n,$]);var D=dI(),N=z3(),M=Ese(A),{activeIndex:B,isActive:j}=Ce(De=>Soe(De,M,R,$)),q=Ce(De=>Aoe(De,M,R,$)),V=Ce(De=>s5(De,M,R,$)),ve=Ce(De=>Toe(De,M,R,$)),Ee=q,Z=Doe(),ce=n??j,[we,Le]=OZ([Ee,ce]),F=M==="axis"?V:void 0;Koe(M,R,ve,F,B,ce);var ue=P??Z;if(ue==null)return null;var ae=Ee??tM;ce||(ae=tM),l&&ae.length&&(ae=rZ(Ee.filter(De=>De.value!=null&&(De.hide!==!0||e.includeHidden)),m,Xoe));var me=ae.length>0,Re=x.createElement(Pte,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:f,active:ce,coordinate:ve,hasPayload:me,offset:h,position:p,reverseDirection:v,useTranslate3d:b,viewBox:D,wrapperStyle:E,lastBoundingBox:we,innerRef:Le,hasPortalFromProps:!!P},Joe(u,eM(eM({},e),{},{payload:ae,label:F,active:ce,coordinate:ve,accessibilityLayer:N})));return x.createElement(x.Fragment,null,s9.createPortal(Re,ue),ce&&x.createElement(Ooe,{cursor:T,tooltipEventType:M,coordinate:ve,payload:Ee,index:B}))}var JE={},ZE={},eT={},nM;function tue(){return nM||(nM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let u,l=null;const f=a!=null&&a.includes("leading"),h=a==null||a.includes("trailing"),m=()=>{l!==null&&(n.apply(u,l),u=void 0,l=null)},p=()=>{h&&m(),T()};let v=null;const b=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},r)},E=()=>{v!==null&&(clearTimeout(v),v=null)},T=()=>{E(),u=void 0,l=null},A=()=>{m()},R=function(...C){if(i!=null&&i.aborted)return;u=this,l=C;const P=v==null;b(),f&&P&&m()};return R.schedule=b,R.cancel=T,R.flush=A,i==null||i.addEventListener("abort",T,{once:!0}),R}t.debounce=e})(eT)),eT}var rM;function nue(){return rM||(rM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tue();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:u=!1,trailing:l=!0,maxWait:f}=a,h=Array(2);u&&(h[0]="leading"),l&&(h[1]="trailing");let m,p=null;const v=e.debounce(function(...T){m=r.apply(this,T),p=null},i,{edges:h}),b=function(...T){return f!=null&&(p===null&&(p=Date.now()),Date.now()-p>=f)?(m=r.apply(this,T),p=Date.now(),v.cancel(),v.schedule(),m):(v.apply(this,T),m)},E=()=>(v.flush(),m);return b.cancel=v.cancel,b.flush=E,b}t.debounce=n})(ZE)),ZE}var iM;function rue(){return iM||(iM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nue();function n(r,i=0,a={}){const{leading:u=!0,trailing:l=!0}=a;return e.debounce(r,i,{leading:u,maxWait:i,trailing:l})}t.throttle=n})(JE)),JE}var tT,aM;function iue(){return aM||(aM=1,tT=rue().throttle),tT}var aue=iue();const sue=qi(aue);var Jd=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function sM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(n),!0).forEach(function(r){oue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oue(t,e,n){return(e=uue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uue(t){var e=lue(t,"string");return typeof e=="symbol"?e:e+""}function lue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cue=x.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:u=0,minHeight:l,maxHeight:f,children:h,debounce:m=0,id:p,className:v,onResize:b,style:E={}}=t,T=x.useRef(null),A=x.useRef();A.current=b,x.useImperativeHandle(e,()=>T.current);var[R,C]=x.useState({containerWidth:r.width,containerHeight:r.height}),P=x.useCallback((L,$)=>{C(D=>{var N=Math.round(L),M=Math.round($);return D.containerWidth===N&&D.containerHeight===M?D:{containerWidth:N,containerHeight:M}})},[]);x.useEffect(()=>{var L=M=>{var B,{width:j,height:q}=M[0].contentRect;P(j,q),(B=A.current)===null||B===void 0||B.call(A,j,q)};m>0&&(L=sue(L,m,{trailing:!0,leading:!1}));var $=new ResizeObserver(L),{width:D,height:N}=T.current.getBoundingClientRect();return P(D,N),$.observe(T.current),()=>{$.disconnect()}},[P,m]);var U=x.useMemo(()=>{var{containerWidth:L,containerHeight:$}=R;if(L<0||$<0)return null;Jd(Hu(i)||Hu(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),Jd(!n||n>0,"The aspect(%s) must be greater than zero.",n);var D=Hu(i)?L:i,N=Hu(a)?$:a;return n&&n>0&&(D?N=D/n:N&&(D=N*n),f&&N>f&&(N=f)),Jd(D>0||N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,N,i,a,u,l,n),x.Children.map(h,M=>x.cloneElement(M,{width:D,height:N,style:nT({width:D,height:N},M.props.style)}))},[n,h,a,f,l,u,R,i]);return x.createElement("div",{id:p?"".concat(p):void 0,className:Rt("recharts-responsive-container",v),style:nT(nT({},E),{},{width:i,height:a,minWidth:u,minHeight:l,maxHeight:f}),ref:T},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},U))}),f5=t=>null;f5.displayName="Cell";function fue(t,e,n){return(e=hue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hue(t){var e=due(t,"string");return typeof e=="symbol"?e:e+""}function due(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class mue{constructor(e){fue(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function oM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(n),!0).forEach(function(r){gue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gue(t,e,n){return(e=yue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yue(t){var e=vue(t,"string");return typeof e=="symbol"?e:e+""}function vue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _ue={cacheSize:2e3,enableCache:!0},h5=pue({},_ue),uM=new mue(h5.cacheSize),bue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},lM="recharts_measurement_span";function wue(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",u=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(u,"|").concat(l)}var cM=(t,e)=>{try{var n=document.getElementById(lM);n||(n=document.createElement("span"),n.setAttribute("id",lM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,bue,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Zd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||up.isSsr)return{width:0,height:0};if(!h5.enableCache)return cM(e,n);var r=wue(e,n),i=uM.get(r);if(i)return i;var a=cM(e,n);return uM.set(r,a),a},fM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Eue=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Tue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,d5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Aue=Object.keys(d5),Bc="NaN";function Sue(t,e){return t*d5[e]}class Tr{static parse(e){var n,[,r,i]=(n=Tue.exec(e))!==null&&n!==void 0?n:[];return new Tr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Jr(e)&&(this.unit=""),n!==""&&!Eue.test(n)&&(this.num=NaN,this.unit=""),Aue.includes(n)&&(this.num=Sue(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Tr(NaN,""):new Tr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Tr(NaN,""):new Tr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Tr(NaN,""):new Tr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Tr(NaN,""):new Tr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Jr(this.num)}}function m5(t){if(t.includes(Bc))return Bc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=fM.exec(e))!==null&&n!==void 0?n:[],u=Tr.parse(r??""),l=Tr.parse(a??""),f=i==="*"?u.multiply(l):u.divide(l);if(f.isNaN())return Bc;e=e.replace(fM,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,m,p,v]=(h=hM.exec(e))!==null&&h!==void 0?h:[],b=Tr.parse(m??""),E=Tr.parse(v??""),T=p==="+"?b.add(E):b.subtract(E);if(T.isNaN())return Bc;e=e.replace(hM,T.toString())}return e}var dM=/\(([^()]*)\)/;function Iue(t){for(var e=t,n;(n=dM.exec(e))!=null;){var[,r]=n;e=e.replace(dM,m5(r))}return e}function xue(t){var e=t.replace(/\s+/g,"");return e=Iue(e),e=m5(e),e}function Rue(t){try{return xue(t)}catch{return Bc}}function rT(t){var e=Rue(t.slice(5,-1));return e===Bc?"":e}var Pue=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Cue=["dx","dy","angle","className","breakAll"];function HA(){return HA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HA.apply(null,arguments)}function mM(t,e){if(t==null)return{};var n,r,i=Oue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Oue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var p5=/[ \f\n\r\t\v\u2028\u2029]+/,g5=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];bn(e)||(n?i=e.toString().split(""):i=e.toString().split(p5));var a=i.map(l=>({word:l,width:Zd(l,r).width})),u=n?0:Zd(" ",r).width;return{wordsWithComputedWidth:a,spaceWidth:u}}catch{return null}},Due=(t,e,n,r,i)=>{var{maxLines:a,children:u,style:l,breakAll:f}=t,h=Se(a),m=u,p=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return j.reduce((q,V)=>{var{word:ve,width:Ee}=V,Z=q[q.length-1];if(Z&&(r==null||i||Z.width+Ee+n<Number(r)))Z.words.push(ve),Z.width+=Ee+n;else{var ce={words:[ve],width:Ee};q.push(ce)}return q},[])},v=p(e),b=B=>B.reduce((j,q)=>j.width>q.width?j:q);if(!h||i)return v;var E=v.length>a||b(v).width>Number(r);if(!E)return v;for(var T="…",A=B=>{var j=m.slice(0,B),q=g5({breakAll:f,style:l,children:j+T}).wordsWithComputedWidth,V=p(q),ve=V.length>a||b(V).width>Number(r);return[ve,V]},R=0,C=m.length-1,P=0,U;R<=C&&P<=m.length-1;){var L=Math.floor((R+C)/2),$=L-1,[D,N]=A($),[M]=A(L);if(!D&&!M&&(R=L+1),D&&M&&(C=L-1),!D&&M){U=N;break}P++}return U||v},pM=t=>{var e=bn(t)?[]:t.toString().split(p5);return[{words:e}]},Nue=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:u}=t;if((e||n)&&!up.isSsr){var l,f,h=g5({breakAll:a,children:r,style:i});if(h){var{wordsWithComputedWidth:m,spaceWidth:p}=h;l=m,f=p}else return pM(r);return Due({breakAll:a,children:r,maxLines:u,style:i},l,f,e,n)}return pM(r)},gM="#808080",dx=x.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:u=!1,textAnchor:l="start",verticalAnchor:f="end",fill:h=gM}=t,m=mM(t,Pue),p=x.useMemo(()=>Nue({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:u,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,u,m.style,m.width]),{dx:v,dy:b,angle:E,className:T,breakAll:A}=m,R=mM(m,Cue);if(!Sa(n)||!Sa(r))return null;var C=n+(Se(v)?v:0),P=r+(Se(b)?b:0),U;switch(f){case"start":U=rT("calc(".concat(a,")"));break;case"middle":U=rT("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:U=rT("calc(".concat(p.length-1," * -").concat(i,")"));break}var L=[];if(u){var $=p[0].width,{width:D}=m;L.push("scale(".concat(Se(D)?D/$:1,")"))}return E&&L.push("rotate(".concat(E,", ").concat(C,", ").concat(P,")")),L.length&&(R.transform=L.join(" ")),x.createElement("text",HA({},Mn(R,!0),{ref:e,x:C,y:P,className:Rt("recharts-text",T),textAnchor:l,fill:h.includes("url")?gM:h}),p.map((N,M)=>{var B=N.words.join(A?"":" ");return x.createElement("tspan",{x:C,dy:M===0?U:i,key:"".concat(B,"-").concat(M)},B)}))});dx.displayName="Text";var kue=["offset"],Mue=["labelRef"];function yM(t,e){if(t==null)return{};var n,r,i=Vue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(n),!0).forEach(function(r){Lue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lue(t,e,n){return(e=jue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jue(t){var e=Uue(t,"string");return typeof e=="symbol"?e:e+""}function Uue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function es(){return es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},es.apply(null,arguments)}var Bue=t=>{var{value:e,formatter:n}=t,r=bn(t.children)?e:t.children;return typeof n=="function"?n(r):r},mx=t=>t!=null&&typeof t=="function",que=(t,e)=>{var n=Rr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},zue=(t,e,n,r)=>{var{position:i,offset:a,className:u}=t,{cx:l,cy:f,innerRadius:h,outerRadius:m,startAngle:p,endAngle:v,clockWise:b}=r,E=(h+m)/2,T=que(p,v),A=T>=0?1:-1,R,C;i==="insideStart"?(R=p+A*a,C=b):i==="insideEnd"?(R=v-A*a,C=!b):i==="end"&&(R=v+A*a,C=b),C=T<=0?C:!C;var P=Yn(l,f,E,R),U=Yn(l,f,E,R+(C?1:-1)*359),L="M".concat(P.x,",").concat(P.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(C?0:1,`,
    `).concat(U.x,",").concat(U.y),$=bn(t.id)?Am("recharts-radial-line-"):t.id;return x.createElement("text",es({},n,{dominantBaseline:"central",className:Rt("recharts-radial-bar-label",u)}),x.createElement("defs",null,x.createElement("path",{id:$,d:L})),x.createElement("textPath",{xlinkHref:"#".concat($)},e))},Fue=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:u,startAngle:l,endAngle:f}=t,h=(l+f)/2;if(n==="outside"){var{x:m,y:p}=Yn(r,i,u+e,h);return{x:m,y:p,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+u)/2,{x:b,y:E}=Yn(r,i,v,h);return{x:b,y:E,textAnchor:"middle",verticalAnchor:"middle"}},$ue=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:a,y:u,width:l,height:f}=e,h=f>=0?1:-1,m=h*r,p=h>0?"end":"start",v=h>0?"start":"end",b=l>=0?1:-1,E=b*r,T=b>0?"end":"start",A=b>0?"start":"end";if(i==="top"){var R={x:a+l/2,y:u-h*r,textAnchor:"middle",verticalAnchor:p};return $t($t({},R),n?{height:Math.max(u-n.y,0),width:l}:{})}if(i==="bottom"){var C={x:a+l/2,y:u+f+m,textAnchor:"middle",verticalAnchor:v};return $t($t({},C),n?{height:Math.max(n.y+n.height-(u+f),0),width:l}:{})}if(i==="left"){var P={x:a-E,y:u+f/2,textAnchor:T,verticalAnchor:"middle"};return $t($t({},P),n?{width:Math.max(P.x-n.x,0),height:f}:{})}if(i==="right"){var U={x:a+l+E,y:u+f/2,textAnchor:A,verticalAnchor:"middle"};return $t($t({},U),n?{width:Math.max(n.x+n.width-U.x,0),height:f}:{})}var L=n?{width:l,height:f}:{};return i==="insideLeft"?$t({x:a+E,y:u+f/2,textAnchor:A,verticalAnchor:"middle"},L):i==="insideRight"?$t({x:a+l-E,y:u+f/2,textAnchor:T,verticalAnchor:"middle"},L):i==="insideTop"?$t({x:a+l/2,y:u+m,textAnchor:"middle",verticalAnchor:v},L):i==="insideBottom"?$t({x:a+l/2,y:u+f-m,textAnchor:"middle",verticalAnchor:p},L):i==="insideTopLeft"?$t({x:a+E,y:u+m,textAnchor:A,verticalAnchor:v},L):i==="insideTopRight"?$t({x:a+l-E,y:u+m,textAnchor:T,verticalAnchor:v},L):i==="insideBottomLeft"?$t({x:a+E,y:u+f-m,textAnchor:A,verticalAnchor:p},L):i==="insideBottomRight"?$t({x:a+l-E,y:u+f-m,textAnchor:T,verticalAnchor:p},L):i&&typeof i=="object"&&(Se(i.x)||Hu(i.x))&&(Se(i.y)||Hu(i.y))?$t({x:a+Bi(i.x,l),y:u+Bi(i.y,f),textAnchor:"end",verticalAnchor:"end"},L):$t({x:a+l/2,y:u+f/2,textAnchor:"middle",verticalAnchor:"middle"},L)},Hue=t=>"cx"in t&&Se(t.cx);function Hr(t){var{offset:e=5}=t,n=yM(t,kue),r=$t({offset:e},n),{viewBox:i,position:a,value:u,children:l,content:f,className:h="",textBreakAll:m,labelRef:p}=r,v=Ce(tB),b=dI(),E=a==="center"?b:v??b,T=i||E;if(!T||bn(u)&&bn(l)&&!x.isValidElement(f)&&typeof f!="function")return null;var A=$t($t({},r),{},{viewBox:T});if(x.isValidElement(f)){var{labelRef:R}=A,C=yM(A,Mue);return x.cloneElement(f,C)}var P;if(typeof f=="function"){if(P=x.createElement(f,A),x.isValidElement(P))return P}else P=Bue(r);var U=Hue(T),L=Mn(r,!0);if(U&&(a==="insideStart"||a==="insideEnd"||a==="end"))return zue(r,P,L,T);var $=U?Fue(T,r.offset,r.position):$ue(r,T);return x.createElement(dx,es({ref:p,className:Rt("recharts-label",h)},L,$,{breakAll:m}),P)}Hr.displayName="Label";var y5=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:a,r:u,radius:l,innerRadius:f,outerRadius:h,x:m,y:p,top:v,left:b,width:E,height:T,clockWise:A,labelViewBox:R}=t;if(R)return R;if(Se(E)&&Se(T)){if(Se(m)&&Se(p))return{x:m,y:p,width:E,height:T};if(Se(v)&&Se(b))return{x:v,y:b,width:E,height:T}}if(Se(m)&&Se(p))return{x:m,y:p,width:0,height:0};if(Se(e)&&Se(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:a||r||0,innerRadius:f||0,outerRadius:h||l||u||0,clockWise:A};if(t.viewBox)return t.viewBox},Gue=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?x.createElement(Hr,es({key:"label-implicit"},r)):Sa(t)?x.createElement(Hr,es({key:"label-implicit",value:t},r)):x.isValidElement(t)?t.type===Hr?x.cloneElement(t,$t({key:"label-implicit"},r)):x.createElement(Hr,es({key:"label-implicit",content:t},r)):mx(t)?x.createElement(Hr,es({key:"label-implicit",content:t},r)):t&&typeof t=="object"?x.createElement(Hr,es({},t,{key:"label-implicit"},r)):null},Kue=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:a}=e,u=y5(e),l=Y1(i,Hr).map((h,m)=>x.cloneElement(h,{viewBox:n||u,key:"label-".concat(m)}));if(!r)return l;var f=Gue(e.label,n||u,a);return[f,...l]};Hr.parseViewBox=y5;Hr.renderCallByParent=Kue;var iT={},aT={},_M;function Wue(){return _M||(_M=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(aT)),aT}var sT={},bM;function Yue(){return bM||(bM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(sT)),sT}var wM;function Que(){return wM||(wM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Wue(),n=Yue(),r=Z1();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(iT)),iT}var oT,EM;function Xue(){return EM||(EM=1,oT=Que().last),oT}var Jue=Xue();const Zue=qi(Jue);var ele=["valueAccessor"],tle=["data","dataKey","clockWise","id","textBreakAll"];function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mv.apply(null,arguments)}function TM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TM(Object(n),!0).forEach(function(r){nle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nle(t,e,n){return(e=rle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rle(t){var e=ile(t,"string");return typeof e=="symbol"?e:e+""}function ile(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SM(t,e){if(t==null)return{};var n,r,i=ale(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ale(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sle=t=>Array.isArray(t.value)?Zue(t.value):t.value;function rl(t){var{valueAccessor:e=sle}=t,n=SM(t,ele),{data:r,dataKey:i,clockWise:a,id:u,textBreakAll:l}=n,f=SM(n,tle);return!r||!r.length?null:x.createElement(Mo,{className:"recharts-label-list"},r.map((h,m)=>{var p=bn(i)?e(h,m):vr(h&&h.payload,i),v=bn(u)?{}:{id:"".concat(u,"-").concat(m)};return x.createElement(Hr,Mv({},Mn(h,!0),f,v,{parentViewBox:h.parentViewBox,value:p,textBreakAll:l,viewBox:Hr.parseViewBox(bn(a)?h:AM(AM({},h),{},{clockWise:a})),key:"label-".concat(m),index:m}))}))}rl.displayName="LabelList";function ole(t,e){return t?t===!0?x.createElement(rl,{key:"labelList-implicit",data:e}):x.isValidElement(t)||mx(t)?x.createElement(rl,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?x.createElement(rl,Mv({data:e},t,{key:"labelList-implicit"})):null:null}function ule(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=Y1(r,rl).map((u,l)=>x.cloneElement(u,{data:e,key:"labelList-".concat(l)}));if(!n)return i;var a=ole(t.label,e);return[a,...i]}rl.renderCallByParent=ule;var lle={radiusAxis:{},angleAxis:{}},v5=ti({name:"polarAxis",initialState:lle,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Bde,removeRadiusAxis:qde,addAngleAxis:zde,removeAngleAxis:Fde}=v5.actions,cle=v5.reducer,uT={},IM;function fle(){return IM||(IM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(uT)),uT}var lT,xM;function hle(){return xM||(xM=1,lT=fle().isPlainObject),lT}var dle=hle();const mle=qi(dle);function Vv(){return Vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vv.apply(null,arguments)}var RM=(t,e,n,r,i)=>{var a=n-r,u;return u="M ".concat(t,",").concat(e),u+="L ".concat(t+n,",").concat(e),u+="L ".concat(t+n-a/2,",").concat(e+i),u+="L ".concat(t+n-a/2-r,",").concat(e+i),u+="L ".concat(t,",").concat(e," Z"),u},ple={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gle=t=>{var e=Fo(t,ple),n=x.useRef(),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&i(A)}catch{}},[]);var{x:a,y:u,upperWidth:l,lowerWidth:f,height:h,className:m}=e,{animationEasing:p,animationDuration:v,animationBegin:b,isUpdateAnimationActive:E}=e;if(a!==+a||u!==+u||l!==+l||f!==+f||h!==+h||l===0&&f===0||h===0)return null;var T=Rt("recharts-trapezoid",m);return E?x.createElement(bv,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:h,x:a,y:u},to:{upperWidth:l,lowerWidth:f,height:h,x:a,y:u},duration:v,animationEasing:p,isActive:E},A=>{var{upperWidth:R,lowerWidth:C,height:P,x:U,y:L}=A;return x.createElement(bv,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,easing:p},x.createElement("path",Vv({},Mn(e,!0),{className:T,d:RM(U,L,R,C,P),ref:n})))}):x.createElement("g",null,x.createElement("path",Vv({},Mn(e,!0),{className:T,d:RM(a,u,l,f,h)})))},yle=["option","shapeType","propTransformer","activeClassName","isActive"];function vle(t,e){if(t==null)return{};var n,r,i=_le(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _le(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function PM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PM(Object(n),!0).forEach(function(r){ble(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ble(t,e,n){return(e=wle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wle(t){var e=Ele(t,"string");return typeof e=="symbol"?e:e+""}function Ele(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tle(t,e){return Lv(Lv({},e),t)}function Ale(t,e){return t==="symbols"}function CM(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return x.createElement(Y3,n);case"trapezoid":return x.createElement(gle,n);case"sector":return x.createElement(J3,n);case"symbols":if(Ale(e))return x.createElement(XU,n);break;default:return null}}function Sle(t){return x.isValidElement(t)?t.props:t}function Ile(t){var{option:e,shapeType:n,propTransformer:r=Tle,activeClassName:i="recharts-active-shape",isActive:a}=t,u=vle(t,yle),l;if(x.isValidElement(e))l=x.cloneElement(e,Lv(Lv({},u),Sle(e)));else if(typeof e=="function")l=e(u);else if(mle(e)&&typeof e!="boolean"){var f=r(e,u);l=x.createElement(CM,{shapeType:n,elementProps:f})}else{var h=u;l=x.createElement(CM,{shapeType:n,elementProps:h})}return a?x.createElement(Mo,{className:i},l):l}var _5=(t,e)=>{var n=Ln();return(r,i)=>a=>{t==null||t(r,i,a),n(zB({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},b5=t=>{var e=Ln();return(n,r)=>i=>{t==null||t(n,r,i),e(Rse())}},w5=(t,e)=>{var n=Ln();return(r,i)=>a=>{t==null||t(r,i,a),n(Pse({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function xle(t){var{fn:e,args:n}=t,r=Ln(),i=Ai();return x.useEffect(()=>{if(!i){var a=e(n);return r(Sse(a)),()=>{r(Ise(a))}}},[e,n,r,i]),null}var Rle=()=>{};function Ple(t){var{legendPayload:e}=t,n=Ln(),r=Ai();return x.useEffect(()=>r?Rle:(n(pte(e)),()=>{n(gte(e))}),[n,r,e]),null}function Cle(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(Am(e)),r=x.useRef(t);return r.current!==t&&(n.current=Am(e),r.current=t),n.current}var cT,Ole=()=>{var[t]=x.useState(()=>Am("uid-"));return t},Dle=(cT=xz.useId)!==null&&cT!==void 0?cT:Ole;function Nle(t,e){var n=Dle();return e||(t?"".concat(t,"-").concat(n):n)}var kle=x.createContext(void 0),Mle=t=>{var{id:e,type:n,children:r}=t,i=Nle("recharts-".concat(n),e);return x.createElement(kle.Provider,{value:i},r(i))},Vle={cartesianItems:[],polarItems:[]},E5=ti({name:"graphicalItems",initialState:Vle,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=os(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=os(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=os(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Lle,replaceCartesianGraphicalItem:jle,removeCartesianGraphicalItem:Ule,addPolarGraphicalItem:$de,removePolarGraphicalItem:Hde}=E5.actions,Ble=E5.reducer;function qle(t){var e=Ln(),n=x.useRef(null);return x.useEffect(()=>{n.current===null?e(Lle(t)):n.current!==t&&e(jle({prev:n.current,next:t})),n.current=t},[e,t]),x.useEffect(()=>()=>{n.current&&(e(Ule(n.current)),n.current=null)},[e]),null}function zle(){}var Fle={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},OM={t:0},fT={t:1};function $le(t){var e=Fo(t,Fle),{isActive:n,canBegin:r,duration:i,easing:a,begin:u,onAnimationEnd:l,onAnimationStart:f,children:h}=e,m=W3("JavascriptAnimate",e.animationManager),[p,v]=x.useState(n?OM:fT),b=x.useRef(null);return x.useEffect(()=>{n||v(fT)},[n]),x.useEffect(()=>{if(!n||!r)return zle;var E=K3(OM,fT,H3(a),i,v,m.getTimeoutController()),T=()=>{b.current=E()};return m.start([f,u,T,i,l]),()=>{m.stop(),b.current&&b.current(),l()}},[n,r,i,a,u,f,l,m]),h(p.t)}var Hle=re([jn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Gle=re([Hle,As,Ss],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),T5=()=>Ce(Gle),Kle="Invariant failed";function Wle(t,e){throw new Error(Kle)}var Yle=["x","y"];function GA(){return GA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GA.apply(null,arguments)}function DM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Id(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(n),!0).forEach(function(r){Qle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qle(t,e,n){return(e=Xle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xle(t){var e=Jle(t,"string");return typeof e=="symbol"?e:e+""}function Jle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zle(t,e){if(t==null)return{};var n,r,i=ece(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ece(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tce(t,e){var{x:n,y:r}=t,i=Zle(t,Yle),a="".concat(n),u=parseInt(a,10),l="".concat(r),f=parseInt(l,10),h="".concat(e.height||i.height),m=parseInt(h,10),p="".concat(e.width||i.width),v=parseInt(p,10);return Id(Id(Id(Id(Id({},e),i),u?{x:u}:{}),f?{y:f}:{}),{},{height:m,width:v,name:e.name,radius:e.radius})}function A5(t){return x.createElement(Ile,GA({shapeType:"rectangle",propTransformer:tce,activeClassName:"recharts-active-bar"},t))}var nce=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Se(e))return e;var a=Se(r)||bn(r);return a?e(r,i):(a||Wle(),n)}},rce={},S5=ti({name:"errorBars",initialState:rce,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Gde,removeErrorBar:Kde}=S5.actions,ice=S5.reducer,ace=["children"];function sce(t,e){if(t==null)return{};var n,r,i=oce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var uce={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},lce=x.createContext(uce);function cce(t){var{children:e}=t,n=sce(t,ace);return x.createElement(lce.Provider,{value:n},e)}function I5(t,e){var n,r,i=Ce(h=>xs(h,t)),a=Ce(h=>Ko(h,e)),u=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Br.allowDataOverflow,l=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:qr.allowDataOverflow,f=u||l;return{needClip:f,needClipX:u,needClipY:l}}function fce(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=T5(),{needClipX:a,needClipY:u,needClip:l}=I5(e,n);if(!l)return null;var{x:f,y:h,width:m,height:p}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:a?f:f-m/2,y:u?h:h-p/2,width:a?m:m*2,height:u?p:p*2}))}var hce=["onMouseEnter","onMouseLeave","onClick"],dce=["value","background","tooltipPosition"],mce=["id"],pce=["onMouseEnter","onClick","onMouseLeave"];function Pf(){return Pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pf.apply(null,arguments)}function NM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NM(Object(n),!0).forEach(function(r){gce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gce(t,e,n){return(e=yce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yce(t){var e=vce(t,"string");return typeof e=="symbol"?e:e+""}function vce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jv(t,e){if(t==null)return{};var n,r,i=_ce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _ce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bce=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:M3(n,e),payload:t}]};function wce(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:u,unit:l}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:M3(a,e),hide:u,type:t.tooltipType,color:t.fill,unit:l}}}function Ece(t){var e=Ce(Rf),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:u,onMouseLeave:l,onClick:f}=a,h=jv(a,hce),m=_5(u,r),p=b5(l),v=w5(f,r);if(!i||n==null)return null;var b=Mn(i,!1);return x.createElement(x.Fragment,null,n.map((E,T)=>{var{value:A,background:R,tooltipPosition:C}=E,P=jv(E,dce);if(!R)return null;var U=m(E,T),L=p(E,T),$=v(E,T),D=ir(ir(ir(ir(ir({option:i,isActive:String(T)===e},P),{},{fill:"#eee"},R),b),W1(h,E,T)),{},{onMouseEnter:U,onMouseLeave:L,onClick:$,dataKey:r,index:T,className:"recharts-bar-background-rectangle"});return x.createElement(A5,Pf({key:"background-bar-".concat(T)},D))}))}function x5(t){var{data:e,props:n,showLabels:r}=t,i=ap(n),{id:a}=i,u=jv(i,mce),{shape:l,dataKey:f,activeBar:h}=n,m=Ce(Rf),p=Ce(t5),{onMouseEnter:v,onClick:b,onMouseLeave:E}=n,T=jv(n,pce),A=_5(v,f),R=b5(E),C=w5(b,f);return e?x.createElement(x.Fragment,null,e.map((P,U)=>{var L=h&&String(U)===m&&(p==null||f===p),$=L?h:l,D=ir(ir(ir({},u),P),{},{isActive:L,option:$,index:U,dataKey:f});return x.createElement(Mo,Pf({className:"recharts-bar-rectangle"},W1(T,P,U),{onMouseEnter:A(P,U),onMouseLeave:R(P,U),onClick:C(P,U),key:"rectangle-".concat(P==null?void 0:P.x,"-").concat(P==null?void 0:P.y,"-").concat(P==null?void 0:P.value,"-").concat(U)}),x.createElement(A5,D))}),r&&rl.renderCallByParent(n,e)):null}function Tce(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:u,animationDuration:l,animationEasing:f,onAnimationEnd:h,onAnimationStart:m}=e,p=n.current,v=Cle(e,"recharts-bar-"),[b,E]=x.useState(!1),T=x.useCallback(()=>{typeof h=="function"&&h(),E(!1)},[h]),A=x.useCallback(()=>{typeof m=="function"&&m(),E(!0)},[m]);return x.createElement($le,{begin:u,duration:l,isActive:a,easing:f,onAnimationEnd:T,onAnimationStart:A,key:v},R=>{var C=R===1?r:r==null?void 0:r.map((P,U)=>{var L=p&&p[U];if(L)return ir(ir({},P),{},{x:Oc(L.x,P.x,R),y:Oc(L.y,P.y,R),width:Oc(L.width,P.width,R),height:Oc(L.height,P.height,R)});if(i==="horizontal"){var $=Oc(0,P.height,R);return ir(ir({},P),{},{y:P.y+P.height-$,height:$})}var D=Oc(0,P.width,R);return ir(ir({},P),{},{width:D})});return R>0&&(n.current=C??null),C==null?null:x.createElement(Mo,null,x.createElement(x5,{props:e,data:C,showLabels:!b}))})}function Ace(t){var{data:e,isAnimationActive:n}=t,r=x.useRef(null);return n&&e&&e.length&&(r.current==null||r.current!==e)?x.createElement(Tce,{previousRectanglesRef:r,props:t}):x.createElement(x5,{props:t,data:e,showLabels:!0})}var R5=0,Sce=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:vr(t,e)}};class Ice extends x.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:u,needClip:l,background:f,id:h}=this.props;if(e)return null;var m=Rt("recharts-bar",i),p=h;return x.createElement(Mo,{className:m,id:h},l&&x.createElement("defs",null,x.createElement(fce,{clipPathId:p,xAxisId:a,yAxisId:u})),x.createElement(Mo,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(p,")"):void 0},x.createElement(Ece,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),x.createElement(Ace,this.props)),this.props.children)}}var xce={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!up.isSsr,legendType:"rect",minPointSize:R5,xAxisId:0,yAxisId:0};function Rce(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:u,animationBegin:l,animationDuration:f,animationEasing:h,isAnimationActive:m}=t,{needClip:p}=I5(e,n),v=mI(),b=Ai(),E=Y1(t.children,f5),T=Ce(C=>tfe(C,e,n,b,t.id,E));if(v!=="vertical"&&v!=="horizontal")return null;var A,R=T==null?void 0:T[0];return R==null||R.height==null||R.width==null?A=0:A=v==="vertical"?R.height/2:R.width/2,x.createElement(cce,{xAxisId:e,yAxisId:n,data:T,dataPointFormatter:Sce,errorBarOffset:A},x.createElement(Ice,Pf({},t,{layout:v,needClip:p,data:T,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:u,animationBegin:l,animationDuration:f,animationEasing:h,isAnimationActive:m})))}function Pce(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:u,yAxis:l,xAxisTicks:f,yAxisTicks:h,stackedData:m,displayedData:p,offset:v,cells:b}=t,E=e==="horizontal"?l:u,T=m?E.scale.domain():null,A=Xee({numericAxis:E});return p.map((R,C)=>{var P,U,L,$,D,N;m?P=Hee(m[C],T):(P=vr(R,n),Array.isArray(P)||(P=[A,P]));var M=nce(r,R5)(P[1],C);if(e==="horizontal"){var B,[j,q]=[l.scale(P[0]),l.scale(P[1])];U=A2({axis:u,ticks:f,bandSize:a,offset:i.offset,entry:R,index:C}),L=(B=q??j)!==null&&B!==void 0?B:void 0,$=i.size;var V=j-q;if(D=Jr(V)?0:V,N={x:U,y:v.top,width:$,height:v.height},Math.abs(M)>0&&Math.abs(D)<Math.abs(M)){var ve=Rr(D||M)*(Math.abs(M)-Math.abs(D));L-=ve,D+=ve}}else{var[Ee,Z]=[u.scale(P[0]),u.scale(P[1])];if(U=Ee,L=A2({axis:l,ticks:h,bandSize:a,offset:i.offset,entry:R,index:C}),$=Z-Ee,D=i.size,N={x:v.left,y:L,width:v.width,height:D},Math.abs(M)>0&&Math.abs($)<Math.abs(M)){var ce=Rr($||M)*(Math.abs(M)-Math.abs($));$+=ce}}if(U==null||L==null||$==null||D==null)return null;var we=ir(ir({},R),{},{x:U,y:L,width:$,height:D,value:m?P:P[1],payload:R,background:N,tooltipPosition:{x:U+$/2,y:L+D/2}},b&&b[C]&&b[C].props);return we}).filter(Boolean)}function P5(t){var e=Fo(t,xce),n=Ai();return x.createElement(Mle,{id:e.id,type:"bar"},r=>x.createElement(x.Fragment,null,x.createElement(Ple,{legendPayload:bce(e)}),x.createElement(xle,{fn:wce,args:e}),x.createElement(qle,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:Qee(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),x.createElement(Rce,Pf({},e,{id:r}))))}P5.displayName="Bar";function kM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(n),!0).forEach(function(r){Cce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cce(t,e,n){return(e=Oce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oce(t){var e=Dce(t,"string");return typeof e=="symbol"?e:e+""}function Dce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nce=(t,e)=>e,kce=(t,e,n)=>n,Mce=(t,e,n,r)=>r,Vce=(t,e,n,r,i)=>i,_p=re([QI,Vce],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Lce=re([_p],t=>t==null?void 0:t.maxBarSize),jce=(t,e,n,r,i,a)=>a,MM=(t,e,n)=>{var r=n??t;if(!bn(r))return Bi(r,e,0)},Uce=re([dt,QI,Nce,kce,Mce],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Bce=(t,e,n,r)=>{var i=dt(t);return i==="horizontal"?BA(t,"yAxis",n,r):BA(t,"xAxis",e,r)},qce=(t,e,n)=>{var r=dt(t);return r==="horizontal"?zk(t,"xAxis",e):zk(t,"yAxis",n)},zce=(t,e,n)=>{var r={},i=t.filter(J_),a=t.filter(h=>h.stackId==null),u=i.reduce((h,m)=>(h[m.stackId]||(h[m.stackId]=[]),h[m.stackId].push(m),h),r),l=Object.entries(u).map(h=>{var[m,p]=h,v=p.map(E=>E.dataKey),b=MM(e,n,p[0].barSize);return{stackId:m,dataKeys:v,barSize:b}}),f=a.map(h=>{var m=[h.dataKey].filter(v=>v!=null),p=MM(e,n,h.barSize);return{stackId:void 0,dataKeys:m,barSize:p}});return[...l,...f]},Fce=re([Uce,Sae,qce],zce),$ce=(t,e,n,r,i)=>{var a,u,l=_p(t,e,n,r,i);if(l!=null){var f=dt(t),h=W6(t),{maxBarSize:m}=l,p=bn(m)?h:m,v,b;return f==="horizontal"?(v=xf(t,"xAxis",e,r),b=If(t,"xAxis",e,r)):(v=xf(t,"yAxis",n,r),b=If(t,"yAxis",n,r)),(a=(u=cI(v,b,!0))!==null&&u!==void 0?u:p)!==null&&a!==void 0?a:0}},C5=(t,e,n,r)=>{var i=dt(t),a,u;return i==="horizontal"?(a=xf(t,"xAxis",e,r),u=If(t,"xAxis",e,r)):(a=xf(t,"yAxis",n,r),u=If(t,"yAxis",n,r)),cI(a,u)};function Hce(t,e,n,r,i){var a=r.length;if(!(a<1)){var u=Bi(t,n,0,!0),l,f=[];if(ei(r[0].barSize)){var h=!1,m=n/a,p=r.reduce((R,C)=>R+(C.barSize||0),0);p+=(a-1)*u,p>=n&&(p-=(a-1)*u,u=0),p>=n&&m>0&&(h=!0,m*=.9,p=a*m);var v=(n-p)/2>>0,b={offset:v-u,size:0};l=r.reduce((R,C)=>{var P,U={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:b.offset+b.size+u,size:h?m:(P=C.barSize)!==null&&P!==void 0?P:0}},L=[...R,U];return b=L[L.length-1].position,L},f)}else{var E=Bi(e,n,0,!0);n-2*E-(a-1)*u<=0&&(u=0);var T=(n-2*E-(a-1)*u)/a;T>1&&(T>>=0);var A=ei(i)?Math.min(T,i):T;l=r.reduce((R,C,P)=>[...R,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:E+(T+u)*P+(T-A)/2,size:A}}],f)}return l}}var Gce=(t,e,n,r,i,a,u)=>{var l=bn(u)?e:u,f=Hce(n,r,i!==a?i:a,t,l);return i!==a&&f!=null&&(f=f.map(h=>hy(hy({},h),{},{position:hy(hy({},h.position),{},{offset:h.position.offset-i/2})}))),f},Kce=re([Fce,W6,Aae,Y6,$ce,C5,Lce],Gce),Wce=(t,e,n,r)=>xf(t,"xAxis",e,r),Yce=(t,e,n,r)=>xf(t,"yAxis",n,r),Qce=(t,e,n,r)=>If(t,"xAxis",e,r),Xce=(t,e,n,r)=>If(t,"yAxis",n,r),Jce=re([Kce,_p],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Zce=(t,e)=>{var n=WI(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(u=>u.key===n)}}}},efe=re([Bce,_p],Zce),tfe=re([jn,Wce,Yce,Qce,Xce,Jce,dt,UI,C5,efe,_p,jce],(t,e,n,r,i,a,u,l,f,h,m,p)=>{var{chartData:v,dataStartIndex:b,dataEndIndex:E}=l;if(!(m==null||a==null||u!=="horizontal"&&u!=="vertical"||e==null||n==null||r==null||i==null||f==null)){var{data:T}=m,A;if(T!=null&&T.length>0?A=T:A=v==null?void 0:v.slice(b,E+1),A!=null)return Pce({layout:u,barSettings:m,pos:a,bandSize:f,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:h,displayedData:A,offset:t,cells:p})}}),nfe=t=>{var{chartData:e}=t,n=Ln(),r=Ai();return x.useEffect(()=>r?()=>{}:(n(Jk(e)),()=>{n(Jk(void 0))}),[e,n,r]),null},VM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},O5=ti({name:"brush",initialState:VM,reducers:{setBrushSettings(t,e){return e.payload==null?VM:e.payload}}}),{setBrushSettings:Wde}=O5.actions,rfe=O5.reducer;function ife(t,e,n){return(e=afe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function afe(t){var e=sfe(t,"string");return typeof e=="symbol"?e:e+""}function sfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class px{static create(e){return new px(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+u}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}ife(px,"EPS",1e-4);function ofe(t){return(t%180+180)%180}var ufe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=ofe(i),u=a*Math.PI/180,l=Math.atan(r/n),f=u>l&&u<Math.PI-l?r/Math.sin(u):n/Math.cos(u);return Math.abs(f)},lfe={dots:[],areas:[],lines:[]},D5=ti({name:"referenceElements",initialState:lfe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=os(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=os(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=os(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Yde,removeDot:Qde,addArea:Xde,removeArea:Jde,addLine:Zde,removeLine:eme}=D5.actions,cfe=D5.reducer,ffe=x.createContext(void 0),hfe=t=>{var{children:e}=t,[n]=x.useState("".concat(Am("recharts"),"-clip")),r=T5();if(r==null)return null;var{x:i,y:a,width:u,height:l}=r;return x.createElement(ffe.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:a,height:l,width:u}))),e)};function hT(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function N5(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function dfe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return ufe(r,n)}function mfe(t,e,n){var r=n==="width",{x:i,y:a,width:u,height:l}=t;return e===1?{start:r?i:a,end:r?i+u:a+l}:{start:r?i+u:a+l,end:r?i:a}}function Uv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function pfe(t,e){return N5(t,e+1)}function gfe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:u,end:l}=e,f=0,h=1,m=u,p=function(){var E=r==null?void 0:r[f];if(E===void 0)return{v:N5(r,h)};var T=f,A,R=()=>(A===void 0&&(A=n(E,T)),A),C=E.coordinate,P=f===0||Uv(t,C,R,m,l);P||(f=0,m=u,h+=1),P&&(m=C+t*(R()/2+i),f+=h)},v;h<=a.length;)if(v=p(),v)return v.v;return[]}function LM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(n),!0).forEach(function(r){yfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yfe(t,e,n){return(e=vfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vfe(t){var e=_fe(t,"string");return typeof e=="symbol"?e:e+""}function _fe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bfe(t,e,n,r,i){for(var a=(r||[]).slice(),u=a.length,{start:l}=e,{end:f}=e,h=function(v){var b=a[v],E,T=()=>(E===void 0&&(E=n(b,v)),E);if(v===u-1){var A=t*(b.coordinate+t*T()/2-f);a[v]=b=nr(nr({},b),{},{tickCoord:A>0?b.coordinate-A*t:b.coordinate})}else a[v]=b=nr(nr({},b),{},{tickCoord:b.coordinate});var R=Uv(t,b.tickCoord,T,l,f);R&&(f=b.tickCoord-t*(T()/2+i),a[v]=nr(nr({},b),{},{isShow:!0}))},m=u-1;m>=0;m--)h(m);return a}function wfe(t,e,n,r,i,a){var u=(r||[]).slice(),l=u.length,{start:f,end:h}=e;if(a){var m=r[l-1],p=n(m,l-1),v=t*(m.coordinate+t*p/2-h);u[l-1]=m=nr(nr({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate});var b=Uv(t,m.tickCoord,()=>p,f,h);b&&(h=m.tickCoord-t*(p/2+i),u[l-1]=nr(nr({},m),{},{isShow:!0}))}for(var E=a?l-1:l,T=function(C){var P=u[C],U,L=()=>(U===void 0&&(U=n(P,C)),U);if(C===0){var $=t*(P.coordinate-t*L()/2-f);u[C]=P=nr(nr({},P),{},{tickCoord:$<0?P.coordinate-$*t:P.coordinate})}else u[C]=P=nr(nr({},P),{},{tickCoord:P.coordinate});var D=Uv(t,P.tickCoord,L,f,h);D&&(f=P.tickCoord+t*(L()/2+i),u[C]=nr(nr({},P),{},{isShow:!0}))},A=0;A<E;A++)T(A);return u}function gx(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:u,orientation:l,interval:f,tickFormatter:h,unit:m,angle:p}=t;if(!i||!i.length||!r)return[];if(Se(f)||up.isSsr){var v;return(v=pfe(i,Se(f)?f:0))!==null&&v!==void 0?v:[]}var b=[],E=l==="top"||l==="bottom"?"width":"height",T=m&&E==="width"?Zd(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(P,U)=>{var L=typeof h=="function"?h(P.value,U):P.value;return E==="width"?dfe(Zd(L,{fontSize:e,letterSpacing:n}),T,p):Zd(L,{fontSize:e,letterSpacing:n})[E]},R=i.length>=2?Rr(i[1].coordinate-i[0].coordinate):1,C=mfe(a,R,E);return f==="equidistantPreserveStart"?gfe(R,C,A,i,u):(f==="preserveStart"||f==="preserveStartEnd"?b=wfe(R,C,A,i,u,f==="preserveStartEnd"):b=bfe(R,C,A,i,u),b.filter(P=>P.isShow))}var Efe=["viewBox"],Tfe=["viewBox"];function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qc.apply(null,arguments)}function jM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(n),!0).forEach(function(r){yx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UM(t,e){if(t==null)return{};var n,r,i=Afe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Afe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yx(t,e,n){return(e=Sfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sfe(t){var e=Ife(t,"string");return typeof e=="symbol"?e:e+""}function Ife(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Wo extends x.Component{constructor(e){super(e),this.tickRefs=x.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=UM(e,Efe),a=this.props,{viewBox:u}=a,l=UM(a,Tfe);return!hT(r,u)||!hT(i,l)||!hT(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:a,orientation:u,tickSize:l,mirror:f,tickMargin:h}=this.props,m,p,v,b,E,T,A=f?-1:1,R=e.tickSize||l,C=Se(e.tickCoord)?e.tickCoord:e.coordinate;switch(u){case"top":m=p=e.coordinate,b=r+ +!f*a,v=b-A*R,T=v-A*h,E=C;break;case"left":v=b=e.coordinate,p=n+ +!f*i,m=p-A*R,E=m-A*h,T=C;break;case"right":v=b=e.coordinate,p=n+ +f*i,m=p+A*R,E=m+A*h,T=C;break;default:m=p=e.coordinate,b=r+ +f*a,v=b+A*R,T=v+A*h,E=C;break}return{line:{x1:m,y1:v,x2:p,y2:b},tick:{x:E,y:T}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:a,mirror:u,axisLine:l}=this.props,f=vn(vn(vn({},Mn(this.props,!1)),Mn(l,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!u||a==="bottom"&&u);f=vn(vn({},f),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var m=+(a==="left"&&!u||a==="right"&&u);f=vn(vn({},f),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+i})}return x.createElement("line",qc({},f,{className:Rt("recharts-cartesian-axis-line",gl(l,"className"))}))}static renderTickItem(e,n,r){var i,a=Rt(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(e))i=x.cloneElement(e,vn(vn({},n),{},{className:a}));else if(typeof e=="function")i=e(vn(vn({},n),{},{className:a}));else{var u="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(u=Rt(u,e.className)),i=x.createElement(dx,qc({},n,{className:u}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:a,tick:u,tickFormatter:l,unit:f,padding:h}=this.props,m=gx(vn(vn({},this.props),{},{ticks:r}),e,n),p=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),b=ap(this.props),E=Mn(u,!1),T=vn(vn({},b),{},{fill:"none"},Mn(i,!1)),A=m.map((R,C)=>{var{line:P,tick:U}=this.getTickLineCoord(R),L=vn(vn(vn(vn({textAnchor:p,verticalAnchor:v},b),{},{stroke:"none",fill:a},E),U),{},{index:C,payload:R,visibleTicksCount:m.length,tickFormatter:l,padding:h});return x.createElement(Mo,qc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},W1(this.props,R,C)),i&&x.createElement("line",qc({},T,P,{className:Rt("recharts-cartesian-axis-tick-line",gl(i,"className"))})),u&&Wo.renderTickItem(u,L,"".concat(typeof l=="function"?l(R.value,C):R.value).concat(f||"")))});return A.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},A):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:a}=this.props;if(a)return null;var{ticks:u}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:x.createElement(Mo,{className:Rt("recharts-cartesian-axis",i),ref:l=>{if(l){var f=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(f);var h=f[0];if(h){var m=window.getComputedStyle(h).fontSize,p=window.getComputedStyle(h).letterSpacing;(m!==this.state.fontSize||p!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(h).fontSize,letterSpacing:window.getComputedStyle(h).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,u),Hr.renderCallByParent(this.props))}}yx(Wo,"displayName","CartesianAxis");yx(Wo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var xfe=["x1","y1","x2","y2","key"],Rfe=["offset"],Pfe=["xAxisId","yAxisId"],Cfe=["xAxisId","yAxisId"];function BM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(n),!0).forEach(function(r){Ofe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ofe(t,e,n){return(e=Dfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dfe(t){var e=Nfe(t,"string");return typeof e=="symbol"?e:e+""}function Nfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yu(){return Yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yu.apply(null,arguments)}function Bv(t,e){if(t==null)return{};var n,r,i=kfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Mfe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:u,ry:l}=t;return x.createElement("rect",{x:r,y:i,ry:l,width:a,height:u,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function k5(t,e){var n;if(x.isValidElement(t))n=x.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:a,y2:u,key:l}=e,f=Bv(e,xfe),h=ap(f),{offset:m}=h,p=Bv(h,Rfe);n=x.createElement("line",Yu({},p,{x1:r,y1:i,x2:a,y2:u,fill:"none",key:l}))}return n}function Vfe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:u}=t,l=Bv(t,Pfe),f=i.map((h,m)=>{var p=ar(ar({},l),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(m),index:m});return k5(r,p)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Lfe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:u}=t,l=Bv(t,Cfe),f=i.map((h,m)=>{var p=ar(ar({},l),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(m),index:m});return k5(r,p)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function jfe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:u,horizontalPoints:l,horizontal:f=!0}=t;if(!f||!e||!e.length)return null;var h=l.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==h[0]&&h.unshift(0);var m=h.map((p,v)=>{var b=!h[v+1],E=b?i+u-p:h[v+1]-p;if(E<=0)return null;var T=v%e.length;return x.createElement("rect",{key:"react-".concat(v),y:p,x:r,height:E,width:a,stroke:"none",fill:e[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Ufe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:u,height:l,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var h=f.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==h[0]&&h.unshift(0);var m=h.map((p,v)=>{var b=!h[v+1],E=b?i+u-p:h[v+1]-p;if(E<=0)return null;var T=v%n.length;return x.createElement("rect",{key:"react-".concat(v),x:p,y:a,width:E,height:l,stroke:"none",fill:n[T],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Bfe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return N3(gx(ar(ar(ar({},Wo.defaultProps),n),{},{ticks:k3(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},qfe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return N3(gx(ar(ar(ar({},Wo.defaultProps),n),{},{ticks:k3(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},zfe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function M5(t){var e=U3(),n=B3(),r=j3(),i=ar(ar({},Fo(t,zfe)),{},{x:Se(t.x)?t.x:r.left,y:Se(t.y)?t.y:r.top,width:Se(t.width)?t.width:r.width,height:Se(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:u,x:l,y:f,width:h,height:m,syncWithTicks:p,horizontalValues:v,verticalValues:b}=i,E=Ai(),T=Ce(M=>Fk(M,"xAxis",a,E)),A=Ce(M=>Fk(M,"yAxis",u,E));if(!Se(h)||h<=0||!Se(m)||m<=0||!Se(l)||l!==+l||!Se(f)||f!==+f)return null;var R=i.verticalCoordinatesGenerator||Bfe,C=i.horizontalCoordinatesGenerator||qfe,{horizontalPoints:P,verticalPoints:U}=i;if((!P||!P.length)&&typeof C=="function"){var L=v&&v.length,$=C({yAxis:A?ar(ar({},A),{},{ticks:L?v:A.ticks}):void 0,width:e,height:n,offset:r},L?!0:p);Jd(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof $,"]")),Array.isArray($)&&(P=$)}if((!U||!U.length)&&typeof R=="function"){var D=b&&b.length,N=R({xAxis:T?ar(ar({},T),{},{ticks:D?b:T.ticks}):void 0,width:e,height:n,offset:r},D?!0:p);Jd(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(U=N)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(Mfe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(jfe,Yu({},i,{horizontalPoints:P})),x.createElement(Ufe,Yu({},i,{verticalPoints:U})),x.createElement(Vfe,Yu({},i,{offset:r,horizontalPoints:P,xAxis:T,yAxis:A})),x.createElement(Lfe,Yu({},i,{offset:r,verticalPoints:U,xAxis:T,yAxis:A})))}M5.displayName="CartesianGrid";function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){Ffe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ffe(t,e,n){return(e=$fe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $fe(t){var e=Hfe(t,"string");return typeof e=="symbol"?e:e+""}function Hfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gfe={xAxis:{},yAxis:{},zAxis:{}},V5=ti({name:"cartesianAxis",initialState:Gfe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=zM(zM({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:Kfe,removeXAxis:Wfe,addYAxis:Yfe,removeYAxis:Qfe,addZAxis:tme,removeZAxis:nme,updateYAxisWidth:Xfe}=V5.actions,Jfe=V5.reducer,Zfe=["children"],ehe=["dangerouslySetInnerHTML","ticks"];function L5(t,e,n){return(e=the(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function the(t){var e=nhe(t,"string");return typeof e=="symbol"?e:e+""}function nhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KA(){return KA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KA.apply(null,arguments)}function j5(t,e){if(t==null)return{};var n,r,i=rhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ihe(t){var e=Ln(),n=x.useMemo(()=>{var{children:a}=t,u=j5(t,Zfe);return u},[t]),r=Ce(a=>xs(a,n.id)),i=n===r;return x.useEffect(()=>(e(Kfe(n)),()=>{e(Wfe(n))}),[n,e]),i?t.children:null}var ahe=t=>{var{xAxisId:e,className:n}=t,r=Ce(L3),i=Ai(),a="xAxis",u=Ce(b=>Xf(b,a,e,i)),l=Ce(b=>VB(b,a,e,i)),f=Ce(b=>DB(b,e)),h=Ce(b=>gse(b,e));if(f==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:p}=t,v=j5(t,ehe);return x.createElement(Wo,KA({},v,{scale:u,x:h.x,y:h.y,width:f.width,height:f.height,className:Rt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l}))},she=t=>{var e,n,r,i,a;return x.createElement(ihe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(a=t.tick)!==null&&a!==void 0?a:!0,tickFormatter:t.tickFormatter},x.createElement(ahe,t))};class vx extends x.Component{render(){return x.createElement(she,this.props)}}L5(vx,"displayName","XAxis");L5(vx,"defaultProps",{allowDataOverflow:Br.allowDataOverflow,allowDecimals:Br.allowDecimals,allowDuplicatedCategory:Br.allowDuplicatedCategory,height:Br.height,hide:!1,mirror:Br.mirror,orientation:Br.orientation,padding:Br.padding,reversed:Br.reversed,scale:Br.scale,tickCount:Br.tickCount,type:Br.type,xAxisId:0});var ohe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,u=0;if(e){e.forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>u&&(u=p.width)}});var l=n?n.getBoundingClientRect().width:0,f=i+a,h=u+f+l+(n?r:0);return Math.round(h)}return 0},uhe=["dangerouslySetInnerHTML","ticks"];function U5(t,e,n){return(e=lhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lhe(t){var e=che(t,"string");return typeof e=="symbol"?e:e+""}function che(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WA(){return WA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WA.apply(null,arguments)}function fhe(t,e){if(t==null)return{};var n,r,i=hhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function dhe(t){var e=Ln();return x.useEffect(()=>(e(Yfe(t)),()=>{e(Qfe(t))}),[t,e]),null}var mhe=t=>{var e,{yAxisId:n,className:r,width:i,label:a}=t,u=x.useRef(null),l=x.useRef(null),f=Ce(L3),h=Ai(),m=Ln(),p="yAxis",v=Ce(P=>Xf(P,p,n,h)),b=Ce(P=>NB(P,n)),E=Ce(P=>yse(P,n)),T=Ce(P=>VB(P,p,n,h));if(x.useLayoutEffect(()=>{var P;if(!(i!=="auto"||!b||mx(a)||x.isValidElement(a))){var U=u.current,L=U==null||(P=U.tickRefs)===null||P===void 0?void 0:P.current,{tickSize:$,tickMargin:D}=U.props,N=ohe({ticks:L,label:l.current,labelGapWithTick:5,tickSize:$,tickMargin:D});Math.round(b.width)!==Math.round(N)&&m(Xfe({id:n,width:N}))}},[u,u==null||(e=u.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,b==null?void 0:b.width,b,m,a,n,i]),b==null||E==null)return null;var{dangerouslySetInnerHTML:A,ticks:R}=t,C=fhe(t,uhe);return x.createElement(Wo,WA({},C,{ref:u,labelRef:l,scale:v,x:E.x,y:E.y,width:b.width,height:b.height,className:Rt("recharts-".concat(p," ").concat(p),r),viewBox:f,ticks:T}))},phe=t=>{var e,n,r,i,a;return x.createElement(x.Fragment,null,x.createElement(dhe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(a=t.tick)!==null&&a!==void 0?a:!0,tickFormatter:t.tickFormatter}),x.createElement(mhe,t))},ghe={allowDataOverflow:qr.allowDataOverflow,allowDecimals:qr.allowDecimals,allowDuplicatedCategory:qr.allowDuplicatedCategory,hide:!1,mirror:qr.mirror,orientation:qr.orientation,padding:qr.padding,reversed:qr.reversed,scale:qr.scale,tickCount:qr.tickCount,type:qr.type,width:qr.width,yAxisId:0};class _x extends x.Component{render(){return x.createElement(phe,this.props)}}U5(_x,"displayName","YAxis");U5(_x,"defaultProps",ghe);var dT={exports:{}},mT={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FM;function yhe(){if(FM)return mT;FM=1;var t=Cf();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,u=t.useMemo,l=t.useDebugValue;return mT.useSyncExternalStoreWithSelector=function(f,h,m,p,v){var b=i(null);if(b.current===null){var E={hasValue:!1,value:null};b.current=E}else E=b.current;b=u(function(){function A(L){if(!R){if(R=!0,C=L,L=p(L),v!==void 0&&E.hasValue){var $=E.value;if(v($,L))return P=$}return P=L}if($=P,n(C,L))return $;var D=p(L);return v!==void 0&&v($,D)?(C=L,$):(C=L,P=D)}var R=!1,C,P,U=m===void 0?null:m;return[function(){return A(h())},U===null?void 0:function(){return A(U())}]},[h,m,p,v]);var T=r(f,b[0],b[1]);return a(function(){E.hasValue=!0,E.value=T},[T]),l(T),T},mT}var $M;function vhe(){return $M||($M=1,dT.exports=yhe()),dT.exports}vhe();function _he(t){t()}function bhe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){_he(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var HM={notify(){},get:()=>[]};function whe(t,e){let n,r=HM,i=0,a=!1;function u(T){m();const A=r.subscribe(T);let R=!1;return()=>{R||(R=!0,A(),p())}}function l(){r.notify()}function f(){E.onStateChange&&E.onStateChange()}function h(){return a}function m(){i++,n||(n=t.subscribe(f),r=bhe())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=HM)}function v(){a||(a=!0,m())}function b(){a&&(a=!1,p())}const E={addNestedSub:u,notifyNestedSubs:l,handleChangeWrapper:f,isSubscribed:h,trySubscribe:v,tryUnsubscribe:b,getListeners:()=>r};return E}var Ehe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",The=Ehe(),Ahe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",She=Ahe(),Ihe=()=>The||She?x.useLayoutEffect:x.useEffect,xhe=Ihe(),pT=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function Rhe(){if(!x.createContext)return{};const t=gT[pT]??(gT[pT]=new Map);let e=t.get(x.createContext);return e||(e=x.createContext(null),t.set(x.createContext,e)),e}var Phe=Rhe();function Che(t){const{children:e,context:n,serverState:r,store:i}=t,a=x.useMemo(()=>{const f=whe(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),u=x.useMemo(()=>i.getState(),[i]);xhe(()=>{const{subscription:f}=a;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),u!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[a,u]);const l=n||Phe;return x.createElement(l.Provider,{value:a},e)}var Ohe=Che,Dhe=(t,e)=>e,bx=re([Dhe,dt,tB,Tn,XB,Rs,woe,jn],Ioe),wx=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},B5=Ei("mouseClick"),q5=op();q5.startListening({actionCreator:B5,effect:(t,e)=>{var n=t.payload,r=bx(e.getState(),wx(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(Cse({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var YA=Ei("mouseMove"),z5=op();z5.startListening({actionCreator:YA,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=ix(r,r.tooltip.settings.shared),a=bx(r,wx(n));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?e.dispatch($B({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(FB()))}});function Nhe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var GM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},F5=ti({name:"rootProps",initialState:GM,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:GM.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),khe=F5.reducer,{updateOptions:Mhe}=F5.actions,$5=ti({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:rme}=$5.actions,Vhe=$5.reducer,H5=Ei("keyDown"),G5=Ei("focus"),Ex=op();Ex.startListening({actionCreator:H5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var u=Number(ax(i,Zf(n))),l=Rs(n);if(a==="Enter"){var f=kv(n,"axis","hover",String(i.index));e.dispatch(zA({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var h=wse(n),m=h==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,v=u+p*m;if(!(l==null||v>=l.length||v<0)){var b=kv(n,"axis","hover",String(v));e.dispatch(zA({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});Ex.startListening({actionCreator:G5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",u=kv(n,"axis","hover",String(a));e.dispatch(zA({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:u}))}}}});var gi=Ei("externalEvent"),K5=op();K5.startListening({actionCreator:gi,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:hoe(n),activeDataKey:t5(n),activeIndex:Rf(n),activeLabel:e5(n),activeTooltipIndex:Rf(n),isTooltipActive:doe(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Lhe=re([Jf],t=>t.tooltipItemPayloads),jhe=re([Lhe,yp,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var u=e(a,n);return u}}}),W5=Ei("touchMove"),Y5=op();Y5.startListening({actionCreator:W5,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=ix(r,r.tooltip.settings.shared);if(i==="axis"){var a=bx(r,wx({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch($B({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var u,l=n.touches[0],f=document.elementFromPoint(l.clientX,l.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(ate),m=(u=f.getAttribute(ste))!==null&&u!==void 0?u:void 0,p=jhe(e.getState(),h,m);e.dispatch(zB({activeDataKey:m,activeIndex:h,activeCoordinate:p}))}}});var Uhe=l3({brush:rfe,cartesianAxis:Jfe,chartData:Foe,errorBars:ice,graphicalItems:Ble,layout:Ree,legend:yte,options:joe,polarAxis:cle,polarOptions:Vhe,referenceElements:cfe,rootProps:khe,tooltip:Ose}),Bhe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return ZZ({reducer:Uhe,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([q5.middleware,z5.middleware,Ex.middleware,K5.middleware,Y5.middleware]),devTools:{serialize:{replacer:Nhe},name:"recharts-".concat(n)}})};function qhe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Ai(),a=x.useRef(null);if(i)return n;a.current==null&&(a.current=Bhe(e,r));var u=iI;return x.createElement(Ohe,{context:u,store:a.current},n)}function zhe(t){var{layout:e,width:n,height:r,margin:i}=t,a=Ln(),u=Ai();return x.useEffect(()=>{u||(a(See(e)),a(Iee({width:n,height:r})),a(Aee(i)))},[a,u,e,n,r,i]),null}function Fhe(t){var e=Ln();return x.useEffect(()=>{e(Mhe(t))},[e,t]),null}var $he=["children"];function Hhe(t,e){if(t==null)return{};var n,r,i=Ghe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ghe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qv(){return qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qv.apply(null,arguments)}var Khe={width:"100%",height:"100%"},Whe=x.forwardRef((t,e)=>{var n=U3(),r=B3(),i=z3();if(!yv(n)||!yv(r))return null;var{children:a,otherAttributes:u,title:l,desc:f}=t,h,m;return typeof u.tabIndex=="number"?h=u.tabIndex:h=i?0:void 0,typeof u.role=="string"?m=u.role:m=i?"application":void 0,x.createElement(NU,qv({},u,{title:l,desc:f,role:m,tabIndex:h,width:n,height:r,style:Khe,ref:e}),a)}),Yhe=t=>{var{children:e}=t,n=Ce(B_);if(!n)return null;var{width:r,height:i,y:a,x:u}=n;return x.createElement(NU,{width:r,height:i,x:u,y:a},e)},KM=x.forwardRef((t,e)=>{var{children:n}=t,r=Hhe(t,$he),i=Ai();return i?x.createElement(Yhe,null,n):x.createElement(Whe,qv({ref:e},r),n)});function Qhe(){var t=Ln(),[e,n]=x.useState(null),r=Ce(ite);return x.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;ei(a)&&a!==r&&t(xee(a))}},[e,t,r]),n}function WM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xhe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WM(Object(n),!0).forEach(function(r){Jhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jhe(t,e,n){return(e=Zhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zhe(t){var e=ede(t,"string");return typeof e=="symbol"?e:e+""}function ede(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tde=x.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:u,onDoubleClick:l,onMouseDown:f,onMouseEnter:h,onMouseLeave:m,onMouseMove:p,onMouseUp:v,onTouchEnd:b,onTouchMove:E,onTouchStart:T,style:A,width:R}=t,C=Ln(),[P,U]=x.useState(null),[L,$]=x.useState(null);Goe();var D=Qhe(),N=x.useCallback(ae=>{D(ae),typeof e=="function"&&e(ae),U(ae),$(ae)},[D,e,U,$]),M=x.useCallback(ae=>{C(B5(ae)),C(gi({handler:a,reactEvent:ae}))},[C,a]),B=x.useCallback(ae=>{C(YA(ae)),C(gi({handler:h,reactEvent:ae}))},[C,h]),j=x.useCallback(ae=>{C(FB()),C(gi({handler:m,reactEvent:ae}))},[C,m]),q=x.useCallback(ae=>{C(YA(ae)),C(gi({handler:p,reactEvent:ae}))},[C,p]),V=x.useCallback(()=>{C(G5())},[C]),ve=x.useCallback(ae=>{C(H5(ae.key))},[C]),Ee=x.useCallback(ae=>{C(gi({handler:u,reactEvent:ae}))},[C,u]),Z=x.useCallback(ae=>{C(gi({handler:l,reactEvent:ae}))},[C,l]),ce=x.useCallback(ae=>{C(gi({handler:f,reactEvent:ae}))},[C,f]),we=x.useCallback(ae=>{C(gi({handler:v,reactEvent:ae}))},[C,v]),Le=x.useCallback(ae=>{C(gi({handler:T,reactEvent:ae}))},[C,T]),F=x.useCallback(ae=>{C(W5(ae)),C(gi({handler:E,reactEvent:ae}))},[C,E]),ue=x.useCallback(ae=>{C(gi({handler:b,reactEvent:ae}))},[C,b]);return x.createElement(o5.Provider,{value:P},x.createElement(YX.Provider,{value:L},x.createElement("div",{className:Rt("recharts-wrapper",r),style:Xhe({position:"relative",cursor:"default",width:R,height:i},A),onClick:M,onContextMenu:Ee,onDoubleClick:Z,onFocus:V,onKeyDown:ve,onMouseDown:ce,onMouseEnter:B,onMouseLeave:j,onMouseMove:q,onMouseUp:we,onTouchEnd:ue,onTouchMove:F,onTouchStart:Le,ref:N},n)))}),nde=["children","className","width","height","style","compact","title","desc"];function rde(t,e){if(t==null)return{};var n,r,i=ide(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ide(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ade=x.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:a,style:u,compact:l,title:f,desc:h}=t,m=rde(t,nde),p=ap(m);return l?x.createElement(KM,{otherAttributes:p,title:f,desc:h},n):x.createElement(tde,{className:r,style:u,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},x.createElement(KM,{otherAttributes:p,title:f,desc:h,ref:e},x.createElement(hfe,null,n)))}),sde=["width","height"];function QA(){return QA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QA.apply(null,arguments)}function ode(t,e){if(t==null)return{};var n,r,i=ude(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ude(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lde={top:5,right:5,bottom:5,left:5},cde={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:lde,reverseStackOrder:!1,syncMethod:"index"},fde=x.forwardRef(function(e,n){var r,i=Fo(e.categoricalChartProps,cde),{width:a,height:u}=i,l=ode(i,sde);if(!yv(a)||!yv(u))return null;var{chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:m,tooltipPayloadSearcher:p,categoricalChartProps:v}=e,b={chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:m,tooltipPayloadSearcher:p,eventEmitter:void 0};return x.createElement(qhe,{preloadedState:{options:b},reduxStoreName:(r=v.id)!==null&&r!==void 0?r:f},x.createElement(nfe,{chartData:v.data}),x.createElement(zhe,{width:a,height:u,layout:i.layout,margin:i.margin}),x.createElement(Fhe,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(ade,QA({},l,{width:a,height:u,ref:n})))}),hde=["axis","item"],dde=x.forwardRef((t,e)=>x.createElement(fde,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:hde,tooltipPayloadSearcher:Voe,categoricalChartProps:t,ref:e}));const mde=({data:t})=>!t||t.length===0?H.jsx("p",{className:"text-stone-400 text-center py-8",children:"Нет данных для отображения."}):H.jsx(cue,{width:"100%",height:300,children:H.jsxs(dde,{data:t,margin:{top:5,right:20,left:-10,bottom:5},children:[H.jsx(M5,{strokeDasharray:"3 3",stroke:"#44403c"}),H.jsx(vx,{dataKey:"label",stroke:"#a8a29e",fontSize:12,tickLine:!1,axisLine:!1}),H.jsx(_x,{stroke:"#a8a29e",fontSize:12,tickLine:!1,axisLine:!1,allowDecimals:!1}),H.jsx(eue,{contentStyle:{backgroundColor:"#292524",border:"1px solid #57534e",borderRadius:"0.375rem"},labelStyle:{color:"#f59e0b"},itemStyle:{color:"#d6d3d1"},formatter:e=>[e,"Просмотры"]}),H.jsx(P5,{dataKey:"value",fill:"#f59e0b",radius:[4,4,0,0]})]})}),pde=({codeword:t,onUpdate:e,onDelete:n})=>{const[r,i]=x.useState(t.usedMessage),[a,u]=x.useState(t.introText||"ВАШЕ КОДОВОЕ СЛОВО:"),[l,f]=x.useState(t.note||""),[h,m]=x.useState(!1),[p,v]=x.useState([]),[b,E]=x.useState(!1),[T,A]=x.useState(""),[R,C]=x.useState("day"),P=`${window.location.origin}${window.location.pathname}#/view?c=${t.id}`,U=`https://api.qrserver.com/v1/create-qr-code/?size=256x256&data=${encodeURIComponent(P)}`,L=async()=>{E(!0),A(""),v([]);try{const j=(await kn.firestore().collection("codewords").doc(t.id).collection("viewEvents").orderBy("viewedAt","asc").get()).docs.map(ve=>ve.data().viewedAt.toDate());if(j.length===0){E(!1);return}const q={};j.forEach(ve=>{let Ee="";R==="day"?Ee=ve.toLocaleDateString("ru-RU",{year:"2-digit",month:"2-digit",day:"2-digit"}):Ee=ve.toLocaleDateString("ru-RU",{year:"2-digit",month:"2-digit",day:"2-digit"})+` ${ve.getHours()}:00`,q[Ee]=(q[Ee]||0)+1});const V=Object.keys(q).map(ve=>({label:ve,value:q[ve]}));v(V)}catch(D){console.error("Error fetching stats:",D),A("Не удалось загрузить статистику.")}finally{E(!1)}};x.useEffect(()=>{h&&L()},[h,R]);const $=async()=>{try{const D=await fetch(U);if(!D.ok)throw new Error("QR code fetch failed");const N=await D.blob(),M=window.URL.createObjectURL(N),B=document.createElement("a");B.href=M;const j=t.word.replace(/[^a-z0-9а-яё]/gi,"_").toLowerCase();B.setAttribute("download",`qr_${j}.png`),document.body.appendChild(B),B.click(),B.parentNode&&B.parentNode.removeChild(B),window.URL.revokeObjectURL(M)}catch(D){console.error("Failed to download QR code",D),alert("Не удалось скачать QR-код.")}};return H.jsxs(H.Fragment,{children:[H.jsxs("div",{className:"bg-stone-800/70 border border-stone-700 p-4 rounded-md grid grid-cols-1 md:grid-cols-3 gap-4 items-start",children:[H.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[H.jsx("img",{src:U,alt:"QR Code",className:"w-36 h-36 border-2 border-stone-600 rounded-md"}),H.jsxs("button",{onClick:$,className:"flex items-center justify-center gap-2 w-full bg-stone-600 hover:bg-stone-500 text-stone-200 px-3 py-2 rounded-md text-sm transition-colors",children:[H.jsx(TX,{}),"Скачать QR"]}),H.jsx("a",{href:P,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-amber-400 hover:text-amber-300 break-all text-center pt-1",children:P})]}),H.jsxs("div",{className:"md:col-span-2 space-y-3",children:[H.jsxs("div",{children:[H.jsx("label",{htmlFor:`introText_${t.id}`,className:"text-sm font-bold text-stone-400 block",children:"Вступительный текст:"}),H.jsx("input",{id:`introText_${t.id}`,type:"text",value:a,onChange:D=>u(D.target.value),onBlur:()=>e(t.id,{introText:a}),className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-3 py-1 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-bold text-stone-400 block",children:"Кодовое слово:"}),H.jsx("p",{className:"text-lg bg-stone-900 p-2 rounded-md font-bold text-stone-100 break-words",children:t.word})]}),H.jsxs("div",{children:[H.jsx("label",{htmlFor:`usedMsg_${t.id}`,className:"text-sm font-bold text-stone-400 block",children:"Сообщение (если использовано):"}),H.jsx("input",{id:`usedMsg_${t.id}`,type:"text",value:r,onChange:D=>i(D.target.value),onBlur:()=>e(t.id,{usedMessage:r}),className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-3 py-1 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"})]}),H.jsxs("div",{children:[H.jsx("label",{htmlFor:`note_${t.id}`,className:"text-sm font-bold text-stone-400 block",children:"Заметка (видна только вам):"}),H.jsx("textarea",{id:`note_${t.id}`,value:l,onChange:D=>f(D.target.value),onBlur:()=>e(t.id,{note:l}),className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-3 py-1 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all h-20 resize-y",placeholder:"Любые пометки по этому коду..."})]}),H.jsxs("div",{className:"flex items-center justify-between pt-2",children:[H.jsxs("label",{htmlFor:`toggle_${t.id}`,className:"flex items-center cursor-pointer",children:[H.jsxs("div",{className:"relative",children:[H.jsx("input",{type:"checkbox",id:`toggle_${t.id}`,className:"sr-only",checked:t.isUsed,onChange:()=>e(t.id,{isUsed:!t.isUsed})}),H.jsx("div",{className:`block ${t.isUsed?"bg-amber-500":"bg-stone-600"} w-14 h-8 rounded-full transition-colors`}),H.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-transform ${t.isUsed?"transform translate-x-6":""}`})]}),H.jsx("div",{className:"ml-3 text-stone-300 font-semibold",children:t.isUsed?"ИСПОЛЬЗОВАНО":"АКТИВНО"})]}),H.jsxs("div",{className:"flex items-center gap-2 text-stone-400",children:[H.jsxs("div",{className:"flex items-center gap-1",title:"Просмотры",children:[H.jsx(AX,{}),H.jsx("span",{children:t.views||0})]}),H.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-1 bg-sky-800 hover:bg-sky-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[H.jsx(SX,{}),"Статистика"]}),H.jsxs("button",{onClick:()=>n(t.id),className:"flex items-center gap-1 bg-red-800 hover:bg-red-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[H.jsx(SU,{}),"Удалить"]})]})]})]})]}),h&&H.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",onClick:()=>m(!1),role:"dialog","aria-modal":"true","aria-labelledby":"stats-modal-title",children:H.jsxs("div",{className:"bg-stone-800 border border-stone-700 rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col",onClick:D=>D.stopPropagation(),children:[H.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-stone-700",children:[H.jsx("h3",{id:"stats-modal-title",className:"font-display text-2xl text-amber-400",children:"Статистика просмотров"}),H.jsx("button",{onClick:()=>m(!1),className:"text-stone-400 hover:text-white text-3xl leading-none","aria-label":"Close",children:"×"})]}),H.jsxs("div",{className:"p-4 flex-grow overflow-y-auto",children:[H.jsxs("div",{className:"flex gap-2 mb-4",children:[H.jsx("button",{onClick:()=>C("day"),className:`px-4 py-2 rounded-md font-semibold ${R==="day"?"bg-amber-500 text-stone-900":"bg-stone-700 text-stone-300 hover:bg-stone-600"}`,children:"По дням"}),H.jsx("button",{onClick:()=>C("hour"),className:`px-4 py-2 rounded-md font-semibold ${R==="hour"?"bg-amber-500 text-stone-900":"bg-stone-700 text-stone-300 hover:bg-stone-600"}`,children:"По часам"})]}),b&&H.jsx("p",{className:"animate-pulse text-center py-8 font-display text-xl text-stone-400",children:"ЗАГРУЗКА СТАТИСТИКИ..."}),T&&H.jsx("p",{className:"text-red-500 text-center py-8",children:T}),!b&&!T&&H.jsx(mde,{data:p})]})]})})]})},gde=({game:t,onDelete:e})=>{var i;const n=(i=t.createdAt)==null?void 0:i.toDate().toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}),r=()=>{window.location.hash=`#/admin/quest/${t.id}`};return H.jsxs("div",{className:"bg-stone-800/70 border border-stone-700 p-4 rounded-md flex justify-between items-center",children:[H.jsxs("div",{children:[H.jsx("h4",{className:"text-xl font-bold text-stone-100",children:t.title}),H.jsxs("div",{className:"text-sm text-stone-400 mt-1",children:[H.jsx("span",{className:`inline-block px-2 py-0.5 rounded-md mr-2 text-xs font-semibold ${t.status==="published"?"bg-green-900/50 text-green-300":"bg-sky-900/50 text-sky-300"}`,children:t.status==="published"?"Опубликован":"Черновик"}),H.jsxs("span",{children:["Создан: ",n||"N/A"]})]})]}),H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsxs("button",{onClick:r,className:"flex items-center gap-1 bg-blue-800 hover:bg-blue-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[H.jsx(IX,{})," Редактировать"]}),H.jsxs("button",{onClick:()=>e(t.id),className:"flex items-center gap-1 bg-red-800 hover:bg-red-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[H.jsx(SU,{})," Удалить"]})]})]})},yde=()=>{const[t,e]=x.useState(""),[n,r]=x.useState(""),[i,a]=x.useState(""),{login:u}=MS(),l=async f=>{f.preventDefault(),a("");try{await u(t,n)}catch(h){a("Ошибка входа. Проверьте почту и пароль."),console.error(h)}};return H.jsx("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:H.jsxs("div",{className:"w-full max-w-sm p-8 bg-stone-800/50 border border-stone-700 rounded-md shadow-lg",children:[H.jsx("h2",{className:"font-display text-3xl text-center text-stone-200 mb-6 tracking-wider",children:"ВХОД В ПАНЕЛЬ"}),H.jsxs("form",{onSubmit:l,className:"space-y-4",children:[H.jsx("input",{type:"email",value:t,onChange:f=>e(f.target.value),placeholder:"Email",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all","aria-label":"Email",required:!0}),H.jsx("input",{type:"password",value:n,onChange:f=>r(f.target.value),placeholder:"Пароль",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all","aria-label":"Password",required:!0}),H.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center font-display text-xl bg-amber-500 text-stone-900 py-2 rounded-md hover:bg-amber-400 transition-colors",children:[H.jsx(bX,{}),"ВОЙТИ"]}),i&&H.jsx("p",{className:"text-red-500 text-center text-sm mt-4",children:i})]})]})})},YM=()=>{const{currentUser:t,logout:e,changePassword:n}=MS(),[r,i]=x.useState("codewords"),[a,u]=x.useState([]),[l,f]=x.useState(""),[h,m]=x.useState("Этот код уже был использован."),[p,v]=x.useState("ВАШЕ КОДОВОЕ СЛОВО:"),[b,E]=x.useState([]),[T,A]=x.useState(""),[R,C]=x.useState(""),[P,U]=x.useState({type:"",text:""}),L=kn.firestore();if(x.useEffect(()=>{if(t){if(r==="codewords"){const ve=L.collection("codewords").orderBy("createdAt","desc").onSnapshot(Ee=>{const Z=Ee.docs.map(ce=>({...ce.data(),id:ce.id}));u(Z)},Ee=>{console.error("Error fetching codewords:",Ee),alert("Не удалось загрузить кодовые слова.")});return()=>ve()}else if(r==="quests"){const ve=L.collection("games").orderBy("createdAt","desc").onSnapshot(Ee=>{const Z=Ee.docs.map(ce=>({...ce.data(),id:ce.id}));E(Z)},Ee=>{console.error("Error fetching games:",Ee),alert("Не удалось загрузить квесты.")});return()=>ve()}}},[r,L,t]),!t)return H.jsx("div",{className:"container mx-auto p-4",children:H.jsx(yde,{})});const $=async V=>{if(V.preventDefault(),l.trim()!=="")try{await L.collection("codewords").add({word:l.trim(),isUsed:!1,usedMessage:h.trim()||"Этот код уже был использован.",introText:p.trim()||"ВАШЕ КОДОВОЕ СЛОВО:",note:"",createdAt:kn.firestore.FieldValue.serverTimestamp(),views:0}),f(""),v("ВАШЕ КОДОВОЕ СЛОВО:"),m("Этот код уже был использован.")}catch(ve){console.error("Error adding codeword: ",ve),alert("Ошибка при добавлении кода.")}},D=async(V,ve)=>{const Ee=L.collection("codewords").doc(V);try{await Ee.update(ve)}catch(Z){console.error("Error updating codeword: ",Z),alert("Ошибка при обновлении кода.")}},N=async V=>{if(window.confirm("Вы уверены, что хотите удалить этот код? Это действие необратимо."))try{const Ee=await L.collection("codewords").doc(V).collection("viewEvents").get(),Z=L.batch();Ee.docs.forEach(ce=>Z.delete(ce.ref)),await Z.commit(),await L.collection("codewords").doc(V).delete()}catch(ve){console.error("Error deleting codeword:",ve),alert("Ошибка при удалении кода.")}},M=async V=>{if(V.preventDefault(),T.trim()!=="")try{const ve=`quest_${Date.now()}`;await L.collection("games").add({title:T.trim(),status:"draft",createdAt:kn.firestore.FieldValue.serverTimestamp(),updatedAt:kn.firestore.FieldValue.serverTimestamp(),dsl:{format:"bk-quest@1",meta:{id:ve,title:T.trim(),version:1,defaultLocale:"ru"},assets:{images:{},audio:{}},state:{vars:{},inventory:[]},nodes:{start:{text:"This is the beginning."}}}}),A("")}catch(ve){console.error("Error adding quest: ",ve),alert("Ошибка при создании квеста.")}},B=async V=>{if(window.confirm("Вы уверены, что хотите удалить этот квест? Все его данные будут стерты навсегда.")){const ve=L.collection("games").doc(V);try{await ve.delete()}catch(Ee){console.error("Error deleting quest:",Ee),alert("Ошибка при удалении квеста.")}}},j=async V=>{if(V.preventDefault(),U({type:"",text:""}),window.confirm("Вы уверены, что хотите изменить пароль?"))try{await n(R),U({type:"success",text:"Пароль успешно изменен!"}),C("")}catch(ve){U({type:"error",text:`Ошибка: ${ve.message}`})}},q=({tabName:V,label:ve,children:Ee})=>H.jsxs("button",{onClick:()=>i(V),className:`flex items-center justify-center w-full px-4 py-3 font-display text-xl rounded-t-md transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-500
            ${r===V?"bg-stone-800/50 text-amber-400 border-b-2 border-amber-400":"bg-stone-900/50 text-stone-400 hover:bg-stone-800/50"}`,children:[Ee,ve]});return H.jsxs("div",{className:"container mx-auto py-8 px-4",children:[H.jsxs("div",{className:"flex justify-between items-center mb-6",children:[H.jsx("h2",{className:"font-display text-4xl text-stone-200",children:"Панель управления"}),H.jsx("button",{onClick:e,className:"bg-stone-700 hover:bg-stone-600 text-stone-200 font-semibold py-2 px-4 rounded-md transition-colors",children:"Выйти"})]}),H.jsxs("div",{className:"bg-stone-800/50 border border-stone-700 p-6 rounded-md mb-8",children:[H.jsx("h3",{className:"font-display text-2xl text-amber-400 mb-4",children:"Изменить пароль"}),H.jsxs("form",{onSubmit:j,className:"space-y-4",children:[H.jsx("input",{type:"password",value:R,onChange:V=>C(V.target.value),placeholder:"Новый пароль (минимум 6 символов)",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),H.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center font-display text-xl bg-amber-500 text-stone-900 py-2 rounded-md hover:bg-amber-400 transition-colors",children:[H.jsx(IU,{})," Сохранить пароль"]}),P.text&&H.jsx("p",{className:P.type==="success"?"text-green-400":"text-red-500",children:P.text})]})]}),H.jsxs("div",{className:"flex mb-[-1px]",children:[H.jsx(q,{tabName:"codewords",label:"Кодовые слова",children:H.jsx(RX,{})}),H.jsx(q,{tabName:"quests",label:"Квесты",children:H.jsx(xX,{})})]}),H.jsxs("div",{className:"bg-stone-800/50 border border-stone-700 p-6 rounded-b-md rounded-tr-md",children:[r==="codewords"&&H.jsxs(H.Fragment,{children:[H.jsxs("div",{className:"mb-8",children:[H.jsx("h3",{className:"font-display text-2xl text-amber-400 mb-4",children:"Добавить новый код"}),H.jsxs("form",{onSubmit:$,className:"space-y-4",children:[H.jsx("input",{type:"text",value:p,onChange:V=>v(V.target.value),placeholder:"Вступительный текст (обращение)",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),H.jsx("input",{type:"text",value:l,onChange:V=>f(V.target.value),placeholder:"Новое кодовое слово",required:!0,className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),H.jsx("input",{type:"text",value:h,onChange:V=>m(V.target.value),placeholder:"Сообщение если код использован",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),H.jsx("button",{type:"submit",className:"w-full font-display text-xl bg-amber-500 text-stone-900 py-2 rounded-md hover:bg-amber-400 transition-colors",children:"Создать QR-код"})]})]}),H.jsx("div",{className:"space-y-4",children:a.map(V=>H.jsx(pde,{codeword:V,onUpdate:D,onDelete:N},V.id))})]}),r==="quests"&&H.jsxs(H.Fragment,{children:[H.jsxs("div",{className:"mb-8",children:[H.jsx("h3",{className:"font-display text-2xl text-amber-400 mb-4",children:"Создать новый квест"}),H.jsxs("form",{onSubmit:M,className:"flex gap-4",children:[H.jsx("input",{type:"text",value:T,onChange:V=>A(V.target.value),placeholder:"Название квеста",required:!0,className:"flex-grow bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),H.jsx("button",{type:"submit",className:"font-display text-xl bg-amber-500 text-stone-900 py-2 px-6 rounded-md hover:bg-amber-400 transition-colors",children:"Создать"})]})]}),H.jsx("div",{className:"space-y-4",children:b.length>0?b.map(V=>H.jsx(gde,{game:V,onDelete:B},V.id)):H.jsx("p",{className:"text-stone-400 text-center py-4",children:"Квесты еще не созданы."})})]})]})]})},vde=({codeId:t})=>{const[e,n]=x.useState(null),[r,i]=x.useState("loading"),[a,u]=x.useState(!1),l=kn.firestore();x.useEffect(()=>{if(t){const h=l.collection("codewords").doc(t);(async()=>{try{const p=await h.get();if(p.exists){const v={id:p.id,...p.data()};n(v),i("found");const b=`viewed-${t}`;sessionStorage.getItem(b)||(await h.update({views:kn.firestore.FieldValue.increment(1)}),await h.collection("viewEvents").add({viewedAt:kn.firestore.FieldValue.serverTimestamp()}),sessionStorage.setItem(b,"true"))}else i("not-found")}catch(p){console.error("Failed to fetch codeword from Firestore:",p),i("error")}})()}else i("not-found")},[t,l]);const f=()=>{e&&!e.isUsed&&(navigator.clipboard.writeText(e.word),u(!0),setTimeout(()=>u(!1),2e3))};return r==="loading"?H.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:H.jsx("p",{className:"font-display text-2xl text-stone-400 animate-pulse",children:"ПОИСК КОДА..."})}):r==="not-found"||r==="error"?H.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center p-4",children:[H.jsx("h2",{className:"font-display text-6xl text-red-500",children:"404"}),H.jsx("p",{className:"text-stone-300 text-xl mt-2",children:"Код не найден."}),H.jsx("p",{className:"text-stone-500",children:"Возможно, ссылка неверна или код был удален."})]}):e&&e.isUsed?H.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center p-4",children:[H.jsx("h2",{className:"font-display text-5xl text-amber-500",children:"КОД ИСПОЛЬЗОВАН"}),H.jsx("p",{className:"text-stone-300 text-xl mt-4 max-w-lg",children:e.usedMessage})]}):H.jsx("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center p-4",children:H.jsxs("div",{className:"w-full max-w-2xl bg-stone-800/50 border-2 border-stone-700 p-8 rounded-lg shadow-2xl shadow-black/50",children:[H.jsx("p",{className:"text-stone-400 font-display text-2xl tracking-wide",children:(e==null?void 0:e.introText)||"ВАШЕ КОДОВОЕ СЛОВО:"}),H.jsx("p",{className:"text-amber-400 font-bold text-3xl md:text-5xl my-4 break-words select-all tracking-widest",children:e==null?void 0:e.word}),H.jsxs("button",{onClick:f,className:"w-full flex items-center justify-center gap-3 mt-6 bg-stone-700 hover:bg-amber-500 hover:text-stone-900 text-stone-200 font-display text-2xl py-3 rounded-md transition-all duration-300",children:[a?H.jsx(EX,{}):H.jsx(wX,{}),a?"СКОПИРОВАНО!":"СКОПИРОВАТЬ КОД"]})]})})},_de=({questId:t})=>{const[e,n]=x.useState(null),[r,i]=x.useState(""),[a,u]=x.useState(""),[l,f]=x.useState(!0),[h,m]=x.useState(""),[p,v]=x.useState(!1),[b,E]=x.useState("idle"),T=kn.firestore();x.useEffect(()=>{if(!t){m("Квест не найден."),f(!1);return}f(!0),m("");const P=T.collection("games").doc(t).onSnapshot(U=>{if(U.exists){const L={id:U.id,...U.data()};n(L),u(L.title),i(JSON.stringify(L.dsl,null,2))}else m("Квест не найден.");f(!1)},U=>{console.error("Error fetching quest:",U),m("Ошибка при загрузке квеста."),f(!1)});return()=>P()},[t,T]);const A=x.useCallback(async()=>{if(!t)return;v(!0),E("idle");let C;try{C=JSON.parse(r)}catch(U){E("error"),alert(`Ошибка в JSON синтаксисе: ${U.message}`),v(!1);return}const P=T.collection("games").doc(t);try{C.meta&&typeof C.meta=="object"&&(C.meta.title=a.trim()),await P.update({title:a.trim(),dsl:C,updatedAt:kn.firestore.FieldValue.serverTimestamp()}),E("success"),setTimeout(()=>E("idle"),3e3)}catch(U){console.error("Error saving quest:",U),E("error"),alert("Не удалось сохранить изменения.")}finally{v(!1)}},[t,T,a,r]),R=()=>{window.location.hash="#/admin"};return l?H.jsx("div",{className:"text-center p-8 font-display text-2xl text-stone-400 animate-pulse",children:"ЗАГРУЗКА РЕДАКТОРА..."}):h?H.jsxs("div",{className:"text-center p-8",children:[H.jsx("p",{className:"text-2xl text-red-500",children:h}),H.jsx("button",{onClick:R,className:"mt-4 bg-stone-700 hover:bg-stone-600 text-stone-200 font-semibold py-2 px-4 rounded-md transition-colors",children:"← Назад к панели"})]}):H.jsxs("div",{className:"container mx-auto py-8 px-4",children:[H.jsxs("div",{className:"flex justify-between items-center mb-6",children:[H.jsx("h2",{className:"font-display text-4xl text-stone-200",children:"Редактор квеста"}),H.jsx("button",{onClick:R,className:"bg-stone-700 hover:bg-stone-600 text-stone-200 font-semibold py-2 px-4 rounded-md transition-colors",children:"← Назад к панели"})]}),H.jsxs("div",{className:"bg-stone-800/50 border border-stone-700 p-6 rounded-md space-y-6",children:[H.jsxs("div",{children:[H.jsx("label",{htmlFor:"questTitle",className:"text-sm font-bold text-stone-400 block mb-1",children:"Название квеста:"}),H.jsx("input",{id:"questTitle",type:"text",value:a,onChange:C=>u(C.target.value),className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all text-xl"})]}),H.jsxs("div",{children:[H.jsx("label",{htmlFor:"questDsl",className:"text-sm font-bold text-stone-400 block mb-1",children:"Сценарий (JSON DSL):"}),H.jsx("textarea",{id:"questDsl",value:r,onChange:C=>i(C.target.value),className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all h-[60vh] resize-y font-mono text-sm",placeholder:"Вставьте сюда JSON вашего квеста...",spellCheck:"false"})]}),H.jsxs("div",{className:"flex items-center gap-4",children:[H.jsxs("button",{onClick:A,disabled:p,className:"w-full flex items-center justify-center font-display text-xl bg-amber-500 text-stone-900 py-2 rounded-md hover:bg-amber-400 transition-colors disabled:bg-stone-600 disabled:cursor-not-allowed",children:[H.jsx(IU,{})," ",p?"СОХРАНЕНИЕ...":"СОХРАНИТЬ ИЗМЕНЕНИЯ"]}),b==="success"&&H.jsx("p",{className:"text-green-400",children:"Сохранено!"}),b==="error"&&H.jsx("p",{className:"text-red-500",children:"Ошибка сохранения."})]})]})]})},bde=()=>H.jsx("header",{className:"bg-black/50 border-b-2 border-amber-500/50 p-4 sticky top-0 z-10",children:H.jsxs("div",{className:"container mx-auto text-center",children:[H.jsx("h1",{className:"font-display text-4xl md:text-5xl text-amber-400 tracking-widest",children:"B_KOMHATE"}),H.jsx("p",{className:"text-stone-400 text-sm tracking-wider",children:"QUEST & CODEWORD PLATFORM"})]})}),wde=()=>{const{currentUser:t}=MS(),e=xa(),n=()=>{const[a]=e9(),u=a.get("c");return H.jsx(vde,{codeId:u})},r=()=>{const{questId:a}=cF();return H.jsx(_de,{questId:a})};return e.pathname.startsWith("/admin")&&!t?H.jsx(fw,{to:"/",replace:!0}):e.pathname==="/"&&t?H.jsx(fw,{to:"/admin",replace:!0}):H.jsxs(SF,{children:[H.jsx(Nc,{path:"/view",element:H.jsx(n,{})}),H.jsx(Nc,{path:"/admin",element:H.jsx(YM,{})}),H.jsx(Nc,{path:"/admin/quest/:questId",element:H.jsx(r,{})}),H.jsx(Nc,{path:"/",element:t?H.jsx(fw,{to:"/admin"}):H.jsx(YM,{})}),H.jsx(Nc,{path:"*",element:H.jsx(Ede,{})})]})},Ede=()=>H.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center p-4",children:[H.jsx("h2",{className:"font-display text-6xl text-red-500",children:"404"}),H.jsx("p",{className:"text-stone-300 text-xl mt-2",children:"Страница не найдена."}),H.jsx("a",{href:"/#/admin",className:"text-amber-400 hover:text-amber-300 mt-4",children:"Перейти в панель управления"})]}),Tde=()=>H.jsx("div",{className:"min-h-screen bg-stone-900 bg-[url('data:image/svg+xml,%3Csvg%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%220%200%2040%2040%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%3E%3Cg%20fill%3D%22%23292524%22%20fill-opacity%3D%220.4%22%20fill-rule%3D%22evenodd%22%3E%3Cpath%20d%3D%22M0%2040L40%200H20L0%2020M40%2040V20L20%2040%22/%3E%3C/g%3E%3C/svg%3E')]",children:H.jsx(JG,{children:H.jsxs(YF,{children:[H.jsx(bde,{}),H.jsx("main",{children:H.jsx(wde,{})})]})})}),Ade={apiKey:"AIzaSyCZh_PwX7LZfXujZiHGH9T-8uA17hNQGBY",authDomain:"bkomhate-site.firebaseapp.com",projectId:"bkomhate-site",storageBucket:"bkomhate-site.appspot.com",messagingSenderId:"37549082348",appId:"1:37549082348:web:cf0c6c4f504b40192887c9"};kn.apps.length||kn.initializeApp(Ade);const Q5=document.getElementById("root");if(!Q5)throw new Error("Could not find root element to mount to");const Sde=kz.createRoot(Q5);Sde.render(H.jsx(QM.StrictMode,{children:H.jsx(Tde,{})}));
