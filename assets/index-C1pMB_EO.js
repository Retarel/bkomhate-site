var Rq=Object.defineProperty;var Pq=(t,e,n)=>e in t?Rq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var A0=(t,e,n)=>Pq(t,typeof e!="symbol"?e+"":e,n);function Mq(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function hi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var w0={exports:{}},Rf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o1;function Dq(){if(o1)return Rf;o1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var s=null;if(o!==void 0&&(s=""+o),i.key!==void 0&&(s=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:o}}return Rf.Fragment=e,Rf.jsx=n,Rf.jsxs=n,Rf}var a1;function Nq(){return a1||(a1=1,w0.exports=Dq()),w0.exports}var z=Nq(),b0={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s1;function Oq(){if(s1)return Fe;s1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),y=Symbol.iterator;function _(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,w={};function C(j,ue,ae){this.props=j,this.context=ue,this.refs=w,this.updater=ae||S}C.prototype.isReactComponent={},C.prototype.setState=function(j,ue){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ue,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function R(){}R.prototype=C.prototype;function D(j,ue,ae){this.props=j,this.context=ue,this.refs=w,this.updater=ae||S}var I=D.prototype=new R;I.constructor=D,A(I,C.prototype),I.isPureReactComponent=!0;var $=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function O(j,ue,ae,he,we,Ie){return ae=Ie.ref,{$$typeof:t,type:j,key:ue,ref:ae!==void 0?ae:null,props:Ie}}function k(j,ue){return O(j.type,ue,void 0,void 0,void 0,j.props)}function N(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function q(j){var ue={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ae){return ue[ae]})}var B=/\/+/g;function F(j,ue){return typeof j=="object"&&j!==null&&j.key!=null?q(""+j.key):ue.toString(36)}function H(){}function Ae(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(H,H):(j.status="pending",j.then(function(ue){j.status==="pending"&&(j.status="fulfilled",j.value=ue)},function(ue){j.status==="pending"&&(j.status="rejected",j.reason=ue)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function ye(j,ue,ae,he,we){var Ie=typeof j;(Ie==="undefined"||Ie==="boolean")&&(j=null);var Oe=!1;if(j===null)Oe=!0;else switch(Ie){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(j.$$typeof){case t:case e:Oe=!0;break;case h:return Oe=j._init,ye(Oe(j._payload),ue,ae,he,we)}}if(Oe)return we=we(j),Oe=he===""?"."+F(j,0):he,$(we)?(ae="",Oe!=null&&(ae=Oe.replace(B,"$&/")+"/"),ye(we,ue,ae,"",function(ge){return ge})):we!=null&&(N(we)&&(we=k(we,ae+(we.key==null||j&&j.key===we.key?"":(""+we.key).replace(B,"$&/")+"/")+Oe)),ue.push(we)),1;Oe=0;var Ht=he===""?".":he+":";if($(j))for(var ft=0;ft<j.length;ft++)he=j[ft],Ie=Ht+F(he,ft),Oe+=ye(he,ue,ae,Ie,we);else if(ft=_(j),typeof ft=="function")for(j=ft.call(j),ft=0;!(he=j.next()).done;)he=he.value,Ie=Ht+F(he,ft++),Oe+=ye(he,ue,ae,Ie,we);else if(Ie==="object"){if(typeof j.then=="function")return ye(Ae(j),ue,ae,he,we);throw ue=String(j),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function Z(j,ue,ae){if(j==null)return j;var he=[],we=0;return ye(j,he,"","",function(Ie){return ue.call(ae,Ie,we++)}),he}function de(j){if(j._status===-1){var ue=j._result;ue=ue(),ue.then(function(ae){(j._status===0||j._status===-1)&&(j._status=1,j._result=ae)},function(ae){(j._status===0||j._status===-1)&&(j._status=2,j._result=ae)}),j._status===-1&&(j._status=0,j._result=ue)}if(j._status===1)return j._result.default;throw j._result}var ve=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function Le(){}return Fe.Children={map:Z,forEach:function(j,ue,ae){Z(j,function(){ue.apply(this,arguments)},ae)},count:function(j){var ue=0;return Z(j,function(){ue++}),ue},toArray:function(j){return Z(j,function(ue){return ue})||[]},only:function(j){if(!N(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Fe.Component=C,Fe.Fragment=n,Fe.Profiler=i,Fe.PureComponent=D,Fe.StrictMode=r,Fe.Suspense=f,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(j){return U.H.useMemoCache(j)}},Fe.cache=function(j){return function(){return j.apply(null,arguments)}},Fe.cloneElement=function(j,ue,ae){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var he=A({},j.props),we=j.key,Ie=void 0;if(ue!=null)for(Oe in ue.ref!==void 0&&(Ie=void 0),ue.key!==void 0&&(we=""+ue.key),ue)!G.call(ue,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&ue.ref===void 0||(he[Oe]=ue[Oe]);var Oe=arguments.length-2;if(Oe===1)he.children=ae;else if(1<Oe){for(var Ht=Array(Oe),ft=0;ft<Oe;ft++)Ht[ft]=arguments[ft+2];he.children=Ht}return O(j.type,we,void 0,void 0,Ie,he)},Fe.createContext=function(j){return j={$$typeof:s,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},Fe.createElement=function(j,ue,ae){var he,we={},Ie=null;if(ue!=null)for(he in ue.key!==void 0&&(Ie=""+ue.key),ue)G.call(ue,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(we[he]=ue[he]);var Oe=arguments.length-2;if(Oe===1)we.children=ae;else if(1<Oe){for(var Ht=Array(Oe),ft=0;ft<Oe;ft++)Ht[ft]=arguments[ft+2];we.children=Ht}if(j&&j.defaultProps)for(he in Oe=j.defaultProps,Oe)we[he]===void 0&&(we[he]=Oe[he]);return O(j,Ie,void 0,void 0,null,we)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(j){return{$$typeof:u,render:j}},Fe.isValidElement=N,Fe.lazy=function(j){return{$$typeof:h,_payload:{_status:-1,_result:j},_init:de}},Fe.memo=function(j,ue){return{$$typeof:c,type:j,compare:ue===void 0?null:ue}},Fe.startTransition=function(j){var ue=U.T,ae={};U.T=ae;try{var he=j(),we=U.S;we!==null&&we(ae,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Le,ve)}catch(Ie){ve(Ie)}finally{U.T=ue}},Fe.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},Fe.use=function(j){return U.H.use(j)},Fe.useActionState=function(j,ue,ae){return U.H.useActionState(j,ue,ae)},Fe.useCallback=function(j,ue){return U.H.useCallback(j,ue)},Fe.useContext=function(j){return U.H.useContext(j)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(j,ue){return U.H.useDeferredValue(j,ue)},Fe.useEffect=function(j,ue,ae){var he=U.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect(j,ue)},Fe.useId=function(){return U.H.useId()},Fe.useImperativeHandle=function(j,ue,ae){return U.H.useImperativeHandle(j,ue,ae)},Fe.useInsertionEffect=function(j,ue){return U.H.useInsertionEffect(j,ue)},Fe.useLayoutEffect=function(j,ue){return U.H.useLayoutEffect(j,ue)},Fe.useMemo=function(j,ue){return U.H.useMemo(j,ue)},Fe.useOptimistic=function(j,ue){return U.H.useOptimistic(j,ue)},Fe.useReducer=function(j,ue,ae){return U.H.useReducer(j,ue,ae)},Fe.useRef=function(j){return U.H.useRef(j)},Fe.useState=function(j){return U.H.useState(j)},Fe.useSyncExternalStore=function(j,ue,ae){return U.H.useSyncExternalStore(j,ue,ae)},Fe.useTransition=function(){return U.H.useTransition()},Fe.version="19.1.1",Fe}var l1;function Ju(){return l1||(l1=1,b0.exports=Oq()),b0.exports}var M=Ju();const hO=hi(M),kq=Mq({__proto__:null,default:hO},[M]);var C0={exports:{}},Pf={},x0={exports:{}},I0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1;function Lq(){return u1||(u1=1,(function(t){function e(Z,de){var ve=Z.length;Z.push(de);e:for(;0<ve;){var Le=ve-1>>>1,j=Z[Le];if(0<i(j,de))Z[Le]=de,Z[ve]=j,ve=Le;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var de=Z[0],ve=Z.pop();if(ve!==de){Z[0]=ve;e:for(var Le=0,j=Z.length,ue=j>>>1;Le<ue;){var ae=2*(Le+1)-1,he=Z[ae],we=ae+1,Ie=Z[we];if(0>i(he,ve))we<j&&0>i(Ie,he)?(Z[Le]=Ie,Z[we]=ve,Le=we):(Z[Le]=he,Z[ae]=ve,Le=ae);else if(we<j&&0>i(Ie,ve))Z[Le]=Ie,Z[we]=ve,Le=we;else break e}}return de}function i(Z,de){var ve=Z.sortIndex-de.sortIndex;return ve!==0?ve:Z.id-de.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var f=[],c=[],h=1,y=null,_=3,S=!1,A=!1,w=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function $(Z){for(var de=n(c);de!==null;){if(de.callback===null)r(c);else if(de.startTime<=Z)r(c),de.sortIndex=de.expirationTime,e(f,de);else break;de=n(c)}}function U(Z){if(w=!1,$(Z),!A)if(n(f)!==null)A=!0,G||(G=!0,F());else{var de=n(c);de!==null&&ye(U,de.startTime-Z)}}var G=!1,O=-1,k=5,N=-1;function q(){return C?!0:!(t.unstable_now()-N<k)}function B(){if(C=!1,G){var Z=t.unstable_now();N=Z;var de=!0;try{e:{A=!1,w&&(w=!1,D(O),O=-1),S=!0;var ve=_;try{t:{for($(Z),y=n(f);y!==null&&!(y.expirationTime>Z&&q());){var Le=y.callback;if(typeof Le=="function"){y.callback=null,_=y.priorityLevel;var j=Le(y.expirationTime<=Z);if(Z=t.unstable_now(),typeof j=="function"){y.callback=j,$(Z),de=!0;break t}y===n(f)&&r(f),$(Z)}else r(f);y=n(f)}if(y!==null)de=!0;else{var ue=n(c);ue!==null&&ye(U,ue.startTime-Z),de=!1}}break e}finally{y=null,_=ve,S=!1}de=void 0}}finally{de?F():G=!1}}}var F;if(typeof I=="function")F=function(){I(B)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Ae=H.port2;H.port1.onmessage=B,F=function(){Ae.postMessage(null)}}else F=function(){R(B,0)};function ye(Z,de){O=R(function(){Z(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(Z){switch(_){case 1:case 2:case 3:var de=3;break;default:de=_}var ve=_;_=de;try{return Z()}finally{_=ve}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(Z,de){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ve=_;_=Z;try{return de()}finally{_=ve}},t.unstable_scheduleCallback=function(Z,de,ve){var Le=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Le+ve:Le):ve=Le,Z){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ve+j,Z={id:h++,callback:de,priorityLevel:Z,startTime:ve,expirationTime:j,sortIndex:-1},ve>Le?(Z.sortIndex=ve,e(c,Z),n(f)===null&&Z===n(c)&&(w?(D(O),O=-1):w=!0,ye(U,ve-Le))):(Z.sortIndex=j,e(f,Z),A||S||(A=!0,G||(G=!0,F()))),Z},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(Z){var de=_;return function(){var ve=_;_=de;try{return Z.apply(this,arguments)}finally{_=ve}}}})(I0)),I0}var c1;function Vq(){return c1||(c1=1,x0.exports=Lq()),x0.exports}var R0={exports:{}},Un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f1;function Uq(){if(f1)return Un;f1=1;var t=Ju();function e(f){var c="https://react.dev/errors/"+f;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,c,h){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:f,containerInfo:c,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,c){if(f==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Un.createPortal=function(f,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return o(f,c,null,h)},Un.flushSync=function(f){var c=s.T,h=r.p;try{if(s.T=null,r.p=2,f)return f()}finally{s.T=c,r.p=h,r.d.f()}},Un.preconnect=function(f,c){typeof f=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(f,c))},Un.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Un.preinit=function(f,c){if(typeof f=="string"&&c&&typeof c.as=="string"){var h=c.as,y=u(h,c.crossOrigin),_=typeof c.integrity=="string"?c.integrity:void 0,S=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;h==="style"?r.d.S(f,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:S}):h==="script"&&r.d.X(f,{crossOrigin:y,integrity:_,fetchPriority:S,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Un.preinitModule=function(f,c){if(typeof f=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var h=u(c.as,c.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(f)},Un.preload=function(f,c){if(typeof f=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var h=c.as,y=u(h,c.crossOrigin);r.d.L(f,h,{crossOrigin:y,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Un.preloadModule=function(f,c){if(typeof f=="string")if(c){var h=u(c.as,c.crossOrigin);r.d.m(f,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(f)},Un.requestFormReset=function(f){r.d.r(f)},Un.unstable_batchedUpdates=function(f,c){return f(c)},Un.useFormState=function(f,c,h){return s.H.useFormState(f,c,h)},Un.useFormStatus=function(){return s.H.useHostTransitionStatus()},Un.version="19.1.1",Un}var d1;function pO(){if(d1)return R0.exports;d1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),R0.exports=Uq(),R0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h1;function Bq(){if(h1)return Pf;h1=1;var t=Vq(),e=Ju(),n=pO();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function s(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(o(a)!==a)throw Error(r(188))}function f(a){var l=a.alternate;if(!l){if(l=o(a),l===null)throw Error(r(188));return l!==a?null:a}for(var d=a,g=l;;){var T=d.return;if(T===null)break;var E=T.alternate;if(E===null){if(g=T.return,g!==null){d=g;continue}break}if(T.child===E.child){for(E=T.child;E;){if(E===d)return u(T),a;if(E===g)return u(T),l;E=E.sibling}throw Error(r(188))}if(d.return!==g.return)d=T,g=E;else{for(var P=!1,L=T.child;L;){if(L===d){P=!0,d=T,g=E;break}if(L===g){P=!0,g=T,d=E;break}L=L.sibling}if(!P){for(L=E.child;L;){if(L===d){P=!0,d=E,g=T;break}if(L===g){P=!0,g=E,d=T;break}L=L.sibling}if(!P)throw Error(r(189))}}if(d.alternate!==g)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:l}function c(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=c(a),l!==null)return l;a=a.sibling}return null}var h=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),I=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function F(a){return a===null||typeof a!="object"?null:(a=B&&a[B]||a["@@iterator"],typeof a=="function"?a:null)}var H=Symbol.for("react.client.reference");function Ae(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===H?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case C:return"Profiler";case w:return"StrictMode";case U:return"Suspense";case G:return"SuspenseList";case N:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case I:return(a.displayName||"Context")+".Provider";case D:return(a._context.displayName||"Context")+".Consumer";case $:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case O:return l=a.displayName||null,l!==null?l:Ae(a.type)||"Memo";case k:l=a._payload,a=a._init;try{return Ae(a(l))}catch{}}return null}var ye=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Le=[],j=-1;function ue(a){return{current:a}}function ae(a){0>j||(a.current=Le[j],Le[j]=null,j--)}function he(a,l){j++,Le[j]=a.current,a.current=l}var we=ue(null),Ie=ue(null),Oe=ue(null),Ht=ue(null);function ft(a,l){switch(he(Oe,l),he(Ie,a),he(we,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?Nx(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=Nx(l),a=Ox(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ae(we),he(we,a)}function ge(){ae(we),ae(Ie),ae(Oe)}function Ve(a){a.memoizedState!==null&&he(Ht,a);var l=we.current,d=Ox(l,a.type);l!==d&&(he(Ie,a),he(we,d))}function qe(a){Ie.current===a&&(ae(we),ae(Ie)),Ht.current===a&&(ae(Ht),wf._currentValue=ve)}var fe=Object.prototype.hasOwnProperty,Dt=t.unstable_scheduleCallback,We=t.unstable_cancelCallback,en=t.unstable_shouldYield,hn=t.unstable_requestPaint,zt=t.unstable_now,_l=t.unstable_getCurrentPriorityLevel,Ec=t.unstable_ImmediatePriority,Tl=t.unstable_UserBlockingPriority,ts=t.unstable_NormalPriority,wy=t.unstable_LowPriority,El=t.unstable_IdlePriority,Sc=t.log,oh=t.unstable_setDisableYieldValue,Nt=null,at=null;function lr(a){if(typeof Sc=="function"&&oh(a),at&&typeof at.setStrictMode=="function")try{at.setStrictMode(Nt,a)}catch{}}var Ln=Math.clz32?Math.clz32:ns,ah=Math.log,by=Math.LN2;function ns(a){return a>>>=0,a===0?32:31-(ah(a)/by|0)|0}var rs=256,is=4194304;function ei(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Sl(a,l,d){var g=a.pendingLanes;if(g===0)return 0;var T=0,E=a.suspendedLanes,P=a.pingedLanes;a=a.warmLanes;var L=g&134217727;return L!==0?(g=L&~E,g!==0?T=ei(g):(P&=L,P!==0?T=ei(P):d||(d=L&~a,d!==0&&(T=ei(d))))):(L=g&~E,L!==0?T=ei(L):P!==0?T=ei(P):d||(d=g&~a,d!==0&&(T=ei(d)))),T===0?0:l!==0&&l!==T&&(l&E)===0&&(E=T&-T,d=l&-l,E>=d||E===32&&(d&4194048)!==0)?l:T}function os(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function Ac(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(){var a=rs;return rs<<=1,(rs&4194048)===0&&(rs=256),a}function bc(){var a=is;return is<<=1,(is&62914560)===0&&(is=4194304),a}function Yi(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function Wi(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Cc(a,l,d,g,T,E){var P=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var L=a.entanglements,K=a.expirationTimes,X=a.hiddenUpdates;for(d=P&~d;0<d;){var ie=31-Ln(d),le=1<<ie;L[ie]=0,K[ie]=-1;var ee=X[ie];if(ee!==null)for(X[ie]=null,ie=0;ie<ee.length;ie++){var te=ee[ie];te!==null&&(te.lane&=-536870913)}d&=~le}g!==0&&vi(a,g,0),E!==0&&T===0&&a.tag!==0&&(a.suspendedLanes|=E&~(P&~l))}function vi(a,l,d){a.pendingLanes|=l,a.suspendedLanes&=~l;var g=31-Ln(l);a.entangledLanes|=l,a.entanglements[g]=a.entanglements[g]|1073741824|d&4194090}function xc(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var g=31-Ln(d),T=1<<g;T&l|a[g]&l&&(a[g]|=l),d&=~T}}function Yo(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Al(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Wo(){var a=de.p;return a!==0?a:(a=window.event,a===void 0?32:Zx(a.type))}function sh(a,l){var d=de.p;try{return de.p=a,l()}finally{de.p=d}}var Ct=Math.random().toString(36).slice(2),tn="__reactFiber$"+Ct,Gt="__reactProps$"+Ct,Pr="__reactContainer$"+Ct,Ic="__reactEvents$"+Ct,Cy="__reactListeners$"+Ct,Jo="__reactHandles$"+Ct,lh="__reactResources$"+Ct,as="__reactMarker$"+Ct;function Qo(a){delete a[tn],delete a[Gt],delete a[Ic],delete a[Cy],delete a[Jo]}function Ji(a){var l=a[tn];if(l)return l;for(var d=a.parentNode;d;){if(l=d[Pr]||d[tn]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=Ux(a);a!==null;){if(d=a[tn])return d;a=Ux(a)}return l}a=d,d=a.parentNode}return null}function _i(a){if(a=a[tn]||a[Pr]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function Ti(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function Kn(a){var l=a[lh];return l||(l=a[lh]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Ut(a){a[as]=!0}var Rc=new Set,wl={};function ti(a,l){Qi(a,l),Qi(a+"Capture",l)}function Qi(a,l){for(wl[a]=l,a=0;a<l.length;a++)Rc.add(l[a])}var uh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ch={},ss={};function fh(a){return fe.call(ss,a)?!0:fe.call(ch,a)?!1:uh.test(a)?ss[a]=!0:(ch[a]=!0,!1)}function Xo(a,l,d){if(fh(l))if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+d)}}function Ei(a,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+d)}}function bn(a,l,d,g){if(g===null)a.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(l,d,""+g)}}var ls,dh;function Xi(a){if(ls===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);ls=l&&l[1]||"",dh=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ls+a+dh}var bl=!1;function Cl(a,l){if(!a||bl)return"";bl=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(te){var ee=te}Reflect.construct(a,[],le)}else{try{le.call()}catch(te){ee=te}a.call(le.prototype)}}else{try{throw Error()}catch(te){ee=te}(le=a())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=g.DetermineComponentFrameRoot(),P=E[0],L=E[1];if(P&&L){var K=P.split(`
`),X=L.split(`
`);for(T=g=0;g<K.length&&!K[g].includes("DetermineComponentFrameRoot");)g++;for(;T<X.length&&!X[T].includes("DetermineComponentFrameRoot");)T++;if(g===K.length||T===X.length)for(g=K.length-1,T=X.length-1;1<=g&&0<=T&&K[g]!==X[T];)T--;for(;1<=g&&0<=T;g--,T--)if(K[g]!==X[T]){if(g!==1||T!==1)do if(g--,T--,0>T||K[g]!==X[T]){var ie=`
`+K[g].replace(" at new "," at ");return a.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",a.displayName)),ie}while(1<=g&&0<=T);break}}}finally{bl=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?Xi(d):""}function Pc(a){switch(a.tag){case 26:case 27:case 5:return Xi(a.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 15:return Cl(a.type,!1);case 11:return Cl(a.type.render,!1);case 1:return Cl(a.type,!0);case 31:return Xi("Activity");default:return""}}function xl(a){try{var l="";do l+=Pc(a),a=a.return;while(a);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function jn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Mc(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function xy(a){var l=Mc(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),g=""+a[l];if(!a.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var T=d.get,E=d.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return T.call(this)},set:function(P){g=""+P,E.call(this,P)}}),Object.defineProperty(a,l,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(P){g=""+P},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Il(a){a._valueTracker||(a._valueTracker=xy(a))}function Dc(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return a&&(g=Mc(a)?a.checked?"true":"false":a.value),a=g,a!==d?(l.setValue(a),!0):!1}function us(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Iy=/[\n"\\]/g;function Kt(a){return a.replace(Iy,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function ur(a,l,d,g,T,E,P,L){a.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?a.type=P:a.removeAttribute("type"),l!=null?P==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+jn(l)):a.value!==""+jn(l)&&(a.value=""+jn(l)):P!=="submit"&&P!=="reset"||a.removeAttribute("value"),l!=null?Zo(a,P,jn(l)):d!=null?Zo(a,P,jn(d)):g!=null&&a.removeAttribute("value"),T==null&&E!=null&&(a.defaultChecked=!!E),T!=null&&(a.checked=T&&typeof T!="function"&&typeof T!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?a.name=""+jn(L):a.removeAttribute("name")}function cs(a,l,d,g,T,E,P,L){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(a.type=E),l!=null||d!=null){if(!(E!=="submit"&&E!=="reset"||l!=null))return;d=d!=null?""+jn(d):"",l=l!=null?""+jn(l):d,L||l===a.value||(a.value=l),a.defaultValue=l}g=g??T,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=L?a.checked:!!g,a.defaultChecked=!!g,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(a.name=P)}function Zo(a,l,d){l==="number"&&us(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function Zi(a,l,d,g){if(a=a.options,l){l={};for(var T=0;T<d.length;T++)l["$"+d[T]]=!0;for(d=0;d<a.length;d++)T=l.hasOwnProperty("$"+a[d].value),a[d].selected!==T&&(a[d].selected=T),T&&g&&(a[d].defaultSelected=!0)}else{for(d=""+jn(d),l=null,T=0;T<a.length;T++){if(a[T].value===d){a[T].selected=!0,g&&(a[T].defaultSelected=!0);return}l!==null||a[T].disabled||(l=a[T])}l!==null&&(l.selected=!0)}}function dt(a,l,d){if(l!=null&&(l=""+jn(l),l!==a.value&&(a.value=l),d==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=d!=null?""+jn(d):""}function fs(a,l,d,g){if(l==null){if(g!=null){if(d!=null)throw Error(r(92));if(ye(g)){if(1<g.length)throw Error(r(93));g=g[0]}d=g}d==null&&(d=""),l=d}d=jn(l),a.defaultValue=d,g=a.textContent,g===d&&g!==""&&g!==null&&(a.value=g)}function Mr(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var ds=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hh(a,l,d){var g=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":g?a.setProperty(l,d):typeof d!="number"||d===0||ds.has(l)?l==="float"?a.cssFloat=d:a[l]=(""+d).trim():a[l]=d+"px"}function Nc(a,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var T in l)g=l[T],l.hasOwnProperty(T)&&d[T]!==g&&hh(a,T,g)}else for(var E in l)l.hasOwnProperty(E)&&hh(a,E,l[E])}function Oc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ry=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Py=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rl(a){return Py.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var eo=null;function Dr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var to=null,no=null;function kc(a){var l=_i(a);if(l&&(a=l.stateNode)){var d=a[Gt]||null;e:switch(a=l.stateNode,l.type){case"input":if(ur(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Kt(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==a&&g.form===a.form){var T=g[Gt]||null;if(!T)throw Error(r(90));ur(g,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(l=0;l<d.length;l++)g=d[l],g.form===a.form&&Dc(g)}break e;case"textarea":dt(a,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Zi(a,!!d.multiple,l,!1)}}}var Si=!1;function ph(a,l,d){if(Si)return a(l,d);Si=!0;try{var g=a(l);return g}finally{if(Si=!1,(to!==null||no!==null)&&(sp(),to&&(l=to,a=no,no=to=null,kc(l),a)))for(l=0;l<a.length;l++)kc(a[l])}}function hs(a,l){var d=a.stateNode;if(d===null)return null;var g=d[Gt]||null;if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if(ni)try{var ps={};Object.defineProperty(ps,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",ps,ps),window.removeEventListener("test",ps,ps)}catch{Nr=!1}var Ai=null,ea=null,ro=null;function Lc(){if(ro)return ro;var a,l=ea,d=l.length,g,T="value"in Ai?Ai.value:Ai.textContent,E=T.length;for(a=0;a<d&&l[a]===T[a];a++);var P=d-a;for(g=1;g<=P&&l[d-g]===T[E-g];g++);return ro=T.slice(a,1<g?1-g:void 0)}function wi(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function bi(){return!0}function Vc(){return!1}function pn(a){function l(d,g,T,E,P){this._reactName=d,this._targetInst=T,this.type=g,this.nativeEvent=E,this.target=P,this.currentTarget=null;for(var L in a)a.hasOwnProperty(L)&&(d=a[L],this[L]=d?d(E):E[L]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?bi:Vc,this.isPropagationStopped=Vc,this}return h(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),l}var it={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pl=pn(it),ms=h({},it,{view:0,detail:0}),mh=pn(ms),Ml,Dl,Ci,gs=h({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ci&&(Ci&&a.type==="mousemove"?(Ml=a.screenX-Ci.screenX,Dl=a.screenY-Ci.screenY):Dl=Ml=0,Ci=a),Ml)},movementY:function(a){return"movementY"in a?a.movementY:Dl}}),Or=pn(gs),gh=h({},gs,{dataTransfer:0}),My=pn(gh),ys=h({},ms,{relatedTarget:0}),Nl=pn(ys),Uc=h({},it,{animationName:0,elapsedTime:0,pseudoElement:0}),Ol=pn(Uc),yh=h({},it,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),kl=pn(yh),Dy=h({},it,{data:0}),Bc=pn(Dy),vs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_h={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qc(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=_h[a])?!!l[a]:!1}function _s(){return qc}var Th=h({},ms,{key:function(a){if(a.key){var l=vs[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=wi(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?vh[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(a){return a.type==="keypress"?wi(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?wi(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Ll=pn(Th),Eh=h({},gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fc=pn(Eh),io=h({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),Sh=pn(io),Ah=h({},it,{propertyName:0,elapsedTime:0,pseudoElement:0}),wh=pn(Ah),bh=h({},gs,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Vl=pn(bh),Yn=h({},it,{newState:0,oldState:0}),Ch=pn(Yn),xh=[9,13,27,32],xi=ni&&"CompositionEvent"in window,v=null;ni&&"documentMode"in document&&(v=document.documentMode);var b=ni&&"TextEvent"in window&&!v,x=ni&&(!xi||v&&8<v&&11>=v),V=" ",J=!1;function ne(a,l){switch(a){case"keyup":return xh.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pe(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Je=!1;function nn(a,l){switch(a){case"compositionend":return pe(l);case"keypress":return l.which!==32?null:(J=!0,V);case"textInput":return a=l.data,a===V&&J?null:a;default:return null}}function Qe(a,l){if(Je)return a==="compositionend"||!xi&&ne(a,l)?(a=Lc(),ro=ea=Ai=null,Je=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return x&&l.locale!=="ko"?null:l.data;default:return null}}var mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rn(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!mn[a.type]:l==="textarea"}function oo(a,l,d,g){to?no?no.push(g):no=[g]:to=g,l=hp(l,"onChange"),0<l.length&&(d=new Pl("onChange","change",null,d,g),a.push({event:d,listeners:l}))}var Cn=null,Ii=null;function $c(a){Ix(a,0)}function Ih(a){var l=Ti(a);if(Dc(l))return a}function Ww(a,l){if(a==="change")return l}var Jw=!1;if(ni){var Ny;if(ni){var Oy="oninput"in document;if(!Oy){var Qw=document.createElement("div");Qw.setAttribute("oninput","return;"),Oy=typeof Qw.oninput=="function"}Ny=Oy}else Ny=!1;Jw=Ny&&(!document.documentMode||9<document.documentMode)}function Xw(){Cn&&(Cn.detachEvent("onpropertychange",Zw),Ii=Cn=null)}function Zw(a){if(a.propertyName==="value"&&Ih(Ii)){var l=[];oo(l,Ii,a,Dr(a)),ph($c,l)}}function oB(a,l,d){a==="focusin"?(Xw(),Cn=l,Ii=d,Cn.attachEvent("onpropertychange",Zw)):a==="focusout"&&Xw()}function aB(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ih(Ii)}function sB(a,l){if(a==="click")return Ih(l)}function lB(a,l){if(a==="input"||a==="change")return Ih(l)}function uB(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var cr=typeof Object.is=="function"?Object.is:uB;function Hc(a,l){if(cr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var T=d[g];if(!fe.call(l,T)||!cr(a[T],l[T]))return!1}return!0}function eb(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function tb(a,l){var d=eb(a);a=0;for(var g;d;){if(d.nodeType===3){if(g=a+d.textContent.length,a<=l&&g>=l)return{node:d,offset:l-a};a=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=eb(d)}}function nb(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?nb(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function rb(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=us(a.document);l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=us(a.document)}return l}function ky(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var cB=ni&&"documentMode"in document&&11>=document.documentMode,Ul=null,Ly=null,zc=null,Vy=!1;function ib(a,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Vy||Ul==null||Ul!==us(g)||(g=Ul,"selectionStart"in g&&ky(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),zc&&Hc(zc,g)||(zc=g,g=hp(Ly,"onSelect"),0<g.length&&(l=new Pl("onSelect","select",null,l,d),a.push({event:l,listeners:g}),l.target=Ul)))}function Ts(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var Bl={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionrun:Ts("Transition","TransitionRun"),transitionstart:Ts("Transition","TransitionStart"),transitioncancel:Ts("Transition","TransitionCancel"),transitionend:Ts("Transition","TransitionEnd")},Uy={},ob={};ni&&(ob=document.createElement("div").style,"AnimationEvent"in window||(delete Bl.animationend.animation,delete Bl.animationiteration.animation,delete Bl.animationstart.animation),"TransitionEvent"in window||delete Bl.transitionend.transition);function Es(a){if(Uy[a])return Uy[a];if(!Bl[a])return a;var l=Bl[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in ob)return Uy[a]=l[d];return a}var ab=Es("animationend"),sb=Es("animationiteration"),lb=Es("animationstart"),fB=Es("transitionrun"),dB=Es("transitionstart"),hB=Es("transitioncancel"),ub=Es("transitionend"),cb=new Map,By="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");By.push("scrollEnd");function ri(a,l){cb.set(a,l),ti(l,[a])}var fb=new WeakMap;function kr(a,l){if(typeof a=="object"&&a!==null){var d=fb.get(a);return d!==void 0?d:(l={value:a,source:l,stack:xl(l)},fb.set(a,l),l)}return{value:a,source:l,stack:xl(l)}}var Lr=[],ql=0,qy=0;function Rh(){for(var a=ql,l=qy=ql=0;l<a;){var d=Lr[l];Lr[l++]=null;var g=Lr[l];Lr[l++]=null;var T=Lr[l];Lr[l++]=null;var E=Lr[l];if(Lr[l++]=null,g!==null&&T!==null){var P=g.pending;P===null?T.next=T:(T.next=P.next,P.next=T),g.pending=T}E!==0&&db(d,T,E)}}function Ph(a,l,d,g){Lr[ql++]=a,Lr[ql++]=l,Lr[ql++]=d,Lr[ql++]=g,qy|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function Fy(a,l,d,g){return Ph(a,l,d,g),Mh(a)}function Fl(a,l){return Ph(a,null,null,l),Mh(a)}function db(a,l,d){a.lanes|=d;var g=a.alternate;g!==null&&(g.lanes|=d);for(var T=!1,E=a.return;E!==null;)E.childLanes|=d,g=E.alternate,g!==null&&(g.childLanes|=d),E.tag===22&&(a=E.stateNode,a===null||a._visibility&1||(T=!0)),a=E,E=E.return;return a.tag===3?(E=a.stateNode,T&&l!==null&&(T=31-Ln(d),a=E.hiddenUpdates,g=a[T],g===null?a[T]=[l]:g.push(l),l.lane=d|536870912),E):null}function Mh(a){if(50<gf)throw gf=0,jv=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var $l={};function pB(a,l,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(a,l,d,g){return new pB(a,l,d,g)}function $y(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ao(a,l){var d=a.alternate;return d===null?(d=fr(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function hb(a,l){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,l=d.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Dh(a,l,d,g,T,E){var P=0;if(g=a,typeof a=="function")$y(a)&&(P=1);else if(typeof a=="string")P=gq(a,d,we.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case N:return a=fr(31,d,l,T),a.elementType=N,a.lanes=E,a;case A:return Ss(d.children,T,E,l);case w:P=8,T|=24;break;case C:return a=fr(12,d,l,T|2),a.elementType=C,a.lanes=E,a;case U:return a=fr(13,d,l,T),a.elementType=U,a.lanes=E,a;case G:return a=fr(19,d,l,T),a.elementType=G,a.lanes=E,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R:case I:P=10;break e;case D:P=9;break e;case $:P=11;break e;case O:P=14;break e;case k:P=16,g=null;break e}P=29,d=Error(r(130,a===null?"null":typeof a,"")),g=null}return l=fr(P,d,l,T),l.elementType=a,l.type=g,l.lanes=E,l}function Ss(a,l,d,g){return a=fr(7,a,g,l),a.lanes=d,a}function Hy(a,l,d){return a=fr(6,a,null,l),a.lanes=d,a}function zy(a,l,d){return l=fr(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var Hl=[],zl=0,Nh=null,Oh=0,Vr=[],Ur=0,As=null,so=1,lo="";function ws(a,l){Hl[zl++]=Oh,Hl[zl++]=Nh,Nh=a,Oh=l}function pb(a,l,d){Vr[Ur++]=so,Vr[Ur++]=lo,Vr[Ur++]=As,As=a;var g=so;a=lo;var T=32-Ln(g)-1;g&=~(1<<T),d+=1;var E=32-Ln(l)+T;if(30<E){var P=T-T%5;E=(g&(1<<P)-1).toString(32),g>>=P,T-=P,so=1<<32-Ln(l)+T|d<<T|g,lo=E+a}else so=1<<E|d<<T|g,lo=a}function Gy(a){a.return!==null&&(ws(a,1),pb(a,1,0))}function Ky(a){for(;a===Nh;)Nh=Hl[--zl],Hl[zl]=null,Oh=Hl[--zl],Hl[zl]=null;for(;a===As;)As=Vr[--Ur],Vr[Ur]=null,lo=Vr[--Ur],Vr[Ur]=null,so=Vr[--Ur],Vr[Ur]=null}var Wn=null,Ot=null,nt=!1,bs=null,Ri=!1,jy=Error(r(519));function Cs(a){var l=Error(r(418,""));throw jc(kr(l,a)),jy}function mb(a){var l=a.stateNode,d=a.type,g=a.memoizedProps;switch(l[tn]=a,l[Gt]=g,d){case"dialog":Ge("cancel",l),Ge("close",l);break;case"iframe":case"object":case"embed":Ge("load",l);break;case"video":case"audio":for(d=0;d<vf.length;d++)Ge(vf[d],l);break;case"source":Ge("error",l);break;case"img":case"image":case"link":Ge("error",l),Ge("load",l);break;case"details":Ge("toggle",l);break;case"input":Ge("invalid",l),cs(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),Il(l);break;case"select":Ge("invalid",l);break;case"textarea":Ge("invalid",l),fs(l,g.value,g.defaultValue,g.children),Il(l)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||g.suppressHydrationWarning===!0||Dx(l.textContent,d)?(g.popover!=null&&(Ge("beforetoggle",l),Ge("toggle",l)),g.onScroll!=null&&Ge("scroll",l),g.onScrollEnd!=null&&Ge("scrollend",l),g.onClick!=null&&(l.onclick=pp),l=!0):l=!1,l||Cs(a)}function gb(a){for(Wn=a.return;Wn;)switch(Wn.tag){case 5:case 13:Ri=!1;return;case 27:case 3:Ri=!0;return;default:Wn=Wn.return}}function Gc(a){if(a!==Wn)return!1;if(!nt)return gb(a),nt=!0,!1;var l=a.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||u0(a.type,a.memoizedProps)),d=!d),d&&Ot&&Cs(a),gb(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(d=a.data,d==="/$"){if(l===0){Ot=oi(a.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++;a=a.nextSibling}Ot=null}}else l===27?(l=Ot,ga(a.type)?(a=h0,h0=null,Ot=a):Ot=l):Ot=Wn?oi(a.stateNode.nextSibling):null;return!0}function Kc(){Ot=Wn=null,nt=!1}function yb(){var a=bs;return a!==null&&(er===null?er=a:er.push.apply(er,a),bs=null),a}function jc(a){bs===null?bs=[a]:bs.push(a)}var Yy=ue(null),xs=null,uo=null;function ta(a,l,d){he(Yy,l._currentValue),l._currentValue=d}function co(a){a._currentValue=Yy.current,ae(Yy)}function Wy(a,l,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),a===d)break;a=a.return}}function Jy(a,l,d,g){var T=a.child;for(T!==null&&(T.return=a);T!==null;){var E=T.dependencies;if(E!==null){var P=T.child;E=E.firstContext;e:for(;E!==null;){var L=E;E=T;for(var K=0;K<l.length;K++)if(L.context===l[K]){E.lanes|=d,L=E.alternate,L!==null&&(L.lanes|=d),Wy(E.return,d,a),g||(P=null);break e}E=L.next}}else if(T.tag===18){if(P=T.return,P===null)throw Error(r(341));P.lanes|=d,E=P.alternate,E!==null&&(E.lanes|=d),Wy(P,d,a),P=null}else P=T.child;if(P!==null)P.return=T;else for(P=T;P!==null;){if(P===a){P=null;break}if(T=P.sibling,T!==null){T.return=P.return,P=T;break}P=P.return}T=P}}function Yc(a,l,d,g){a=null;for(var T=l,E=!1;T!==null;){if(!E){if((T.flags&524288)!==0)E=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var P=T.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var L=T.type;cr(T.pendingProps.value,P.value)||(a!==null?a.push(L):a=[L])}}else if(T===Ht.current){if(P=T.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(a!==null?a.push(wf):a=[wf])}T=T.return}a!==null&&Jy(l,a,d,g),l.flags|=262144}function kh(a){for(a=a.firstContext;a!==null;){if(!cr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Is(a){xs=a,uo=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Vn(a){return vb(xs,a)}function Lh(a,l){return xs===null&&Is(a),vb(a,l)}function vb(a,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},uo===null){if(a===null)throw Error(r(308));uo=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else uo=uo.next=l;return d}var mB=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(d,g){a.push(g)}};this.abort=function(){l.aborted=!0,a.forEach(function(d){return d()})}},gB=t.unstable_scheduleCallback,yB=t.unstable_NormalPriority,on={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qy(){return{controller:new mB,data:new Map,refCount:0}}function Wc(a){a.refCount--,a.refCount===0&&gB(yB,function(){a.controller.abort()})}var Jc=null,Xy=0,Gl=0,Kl=null;function vB(a,l){if(Jc===null){var d=Jc=[];Xy=0,Gl=e0(),Kl={status:"pending",value:void 0,then:function(g){d.push(g)}}}return Xy++,l.then(_b,_b),l}function _b(){if(--Xy===0&&Jc!==null){Kl!==null&&(Kl.status="fulfilled");var a=Jc;Jc=null,Gl=0,Kl=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function _B(a,l){var d=[],g={status:"pending",value:null,reason:null,then:function(T){d.push(T)}};return a.then(function(){g.status="fulfilled",g.value=l;for(var T=0;T<d.length;T++)(0,d[T])(l)},function(T){for(g.status="rejected",g.reason=T,T=0;T<d.length;T++)(0,d[T])(void 0)}),g}var Tb=Z.S;Z.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&vB(a,l),Tb!==null&&Tb(a,l)};var Rs=ue(null);function Zy(){var a=Rs.current;return a!==null?a:_t.pooledCache}function Vh(a,l){l===null?he(Rs,Rs.current):he(Rs,l.pool)}function Eb(){var a=Zy();return a===null?null:{parent:on._currentValue,pool:a}}var Qc=Error(r(460)),Sb=Error(r(474)),Uh=Error(r(542)),ev={then:function(){}};function Ab(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Bh(){}function wb(a,l,d){switch(d=a[d],d===void 0?a.push(l):d!==l&&(l.then(Bh,Bh),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Cb(a),a;default:if(typeof l.status=="string")l.then(Bh,Bh);else{if(a=_t,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(g){if(l.status==="pending"){var T=l;T.status="fulfilled",T.value=g}},function(g){if(l.status==="pending"){var T=l;T.status="rejected",T.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Cb(a),a}throw Xc=l,Qc}}var Xc=null;function bb(){if(Xc===null)throw Error(r(459));var a=Xc;return Xc=null,a}function Cb(a){if(a===Qc||a===Uh)throw Error(r(483))}var na=!1;function tv(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nv(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ra(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ia(a,l,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(st&2)!==0){var T=g.pending;return T===null?l.next=l:(l.next=T.next,T.next=l),g.pending=l,l=Mh(a),db(a,null,d),l}return Ph(a,g,l,d),Mh(a)}function Zc(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var g=l.lanes;g&=a.pendingLanes,d|=g,l.lanes=d,xc(a,d)}}function rv(a,l){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var T=null,E=null;if(d=d.firstBaseUpdate,d!==null){do{var P={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};E===null?T=E=P:E=E.next=P,d=d.next}while(d!==null);E===null?T=E=l:E=E.next=l}else T=E=l;d={baseState:g.baseState,firstBaseUpdate:T,lastBaseUpdate:E,shared:g.shared,callbacks:g.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}var iv=!1;function ef(){if(iv){var a=Kl;if(a!==null)throw a}}function tf(a,l,d,g){iv=!1;var T=a.updateQueue;na=!1;var E=T.firstBaseUpdate,P=T.lastBaseUpdate,L=T.shared.pending;if(L!==null){T.shared.pending=null;var K=L,X=K.next;K.next=null,P===null?E=X:P.next=X,P=K;var ie=a.alternate;ie!==null&&(ie=ie.updateQueue,L=ie.lastBaseUpdate,L!==P&&(L===null?ie.firstBaseUpdate=X:L.next=X,ie.lastBaseUpdate=K))}if(E!==null){var le=T.baseState;P=0,ie=X=K=null,L=E;do{var ee=L.lane&-536870913,te=ee!==L.lane;if(te?(Xe&ee)===ee:(g&ee)===ee){ee!==0&&ee===Gl&&(iv=!0),ie!==null&&(ie=ie.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var ke=a,Re=L;ee=l;var mt=d;switch(Re.tag){case 1:if(ke=Re.payload,typeof ke=="function"){le=ke.call(mt,le,ee);break e}le=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Re.payload,ee=typeof ke=="function"?ke.call(mt,le,ee):ke,ee==null)break e;le=h({},le,ee);break e;case 2:na=!0}}ee=L.callback,ee!==null&&(a.flags|=64,te&&(a.flags|=8192),te=T.callbacks,te===null?T.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ie===null?(X=ie=te,K=le):ie=ie.next=te,P|=ee;if(L=L.next,L===null){if(L=T.shared.pending,L===null)break;te=L,L=te.next,te.next=null,T.lastBaseUpdate=te,T.shared.pending=null}}while(!0);ie===null&&(K=le),T.baseState=K,T.firstBaseUpdate=X,T.lastBaseUpdate=ie,E===null&&(T.shared.lanes=0),da|=P,a.lanes=P,a.memoizedState=le}}function xb(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function Ib(a,l){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)xb(d[a],l)}var jl=ue(null),qh=ue(0);function Rb(a,l){a=vo,he(qh,a),he(jl,l),vo=a|l.baseLanes}function ov(){he(qh,vo),he(jl,jl.current)}function av(){vo=qh.current,ae(jl),ae(qh)}var oa=0,$e=null,ht=null,jt=null,Fh=!1,Yl=!1,Ps=!1,$h=0,nf=0,Wl=null,TB=0;function Bt(){throw Error(r(321))}function sv(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!cr(a[d],l[d]))return!1;return!0}function lv(a,l,d,g,T,E){return oa=E,$e=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Z.H=a===null||a.memoizedState===null?dC:hC,Ps=!1,E=d(g,T),Ps=!1,Yl&&(E=Mb(l,d,g,T)),Pb(a),E}function Pb(a){Z.H=Yh;var l=ht!==null&&ht.next!==null;if(oa=0,jt=ht=$e=null,Fh=!1,nf=0,Wl=null,l)throw Error(r(300));a===null||gn||(a=a.dependencies,a!==null&&kh(a)&&(gn=!0))}function Mb(a,l,d,g){$e=a;var T=0;do{if(Yl&&(Wl=null),nf=0,Yl=!1,25<=T)throw Error(r(301));if(T+=1,jt=ht=null,a.updateQueue!=null){var E=a.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}Z.H=xB,E=l(d,g)}while(Yl);return E}function EB(){var a=Z.H,l=a.useState()[0];return l=typeof l.then=="function"?rf(l):l,a=a.useState()[0],(ht!==null?ht.memoizedState:null)!==a&&($e.flags|=1024),l}function uv(){var a=$h!==0;return $h=0,a}function cv(a,l,d){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~d}function fv(a){if(Fh){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Fh=!1}oa=0,jt=ht=$e=null,Yl=!1,nf=$h=0,Wl=null}function Xn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?$e.memoizedState=jt=a:jt=jt.next=a,jt}function Yt(){if(ht===null){var a=$e.alternate;a=a!==null?a.memoizedState:null}else a=ht.next;var l=jt===null?$e.memoizedState:jt.next;if(l!==null)jt=l,ht=a;else{if(a===null)throw $e.alternate===null?Error(r(467)):Error(r(310));ht=a,a={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},jt===null?$e.memoizedState=jt=a:jt=jt.next=a}return jt}function dv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rf(a){var l=nf;return nf+=1,Wl===null&&(Wl=[]),a=wb(Wl,a,l),l=$e,(jt===null?l.memoizedState:jt.next)===null&&(l=l.alternate,Z.H=l===null||l.memoizedState===null?dC:hC),a}function Hh(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return rf(a);if(a.$$typeof===I)return Vn(a)}throw Error(r(438,String(a)))}function hv(a){var l=null,d=$e.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var g=$e.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(T){return T.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=dv(),$e.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(a),g=0;g<a;g++)d[g]=q;return l.index++,d}function fo(a,l){return typeof l=="function"?l(a):l}function zh(a){var l=Yt();return pv(l,ht,a)}function pv(a,l,d){var g=a.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=d;var T=a.baseQueue,E=g.pending;if(E!==null){if(T!==null){var P=T.next;T.next=E.next,E.next=P}l.baseQueue=T=E,g.pending=null}if(E=a.baseState,T===null)a.memoizedState=E;else{l=T.next;var L=P=null,K=null,X=l,ie=!1;do{var le=X.lane&-536870913;if(le!==X.lane?(Xe&le)===le:(oa&le)===le){var ee=X.revertLane;if(ee===0)K!==null&&(K=K.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),le===Gl&&(ie=!0);else if((oa&ee)===ee){X=X.next,ee===Gl&&(ie=!0);continue}else le={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},K===null?(L=K=le,P=E):K=K.next=le,$e.lanes|=ee,da|=ee;le=X.action,Ps&&d(E,le),E=X.hasEagerState?X.eagerState:d(E,le)}else ee={lane:le,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},K===null?(L=K=ee,P=E):K=K.next=ee,$e.lanes|=le,da|=le;X=X.next}while(X!==null&&X!==l);if(K===null?P=E:K.next=L,!cr(E,a.memoizedState)&&(gn=!0,ie&&(d=Kl,d!==null)))throw d;a.memoizedState=E,a.baseState=P,a.baseQueue=K,g.lastRenderedState=E}return T===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function mv(a){var l=Yt(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var g=d.dispatch,T=d.pending,E=l.memoizedState;if(T!==null){d.pending=null;var P=T=T.next;do E=a(E,P.action),P=P.next;while(P!==T);cr(E,l.memoizedState)||(gn=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),d.lastRenderedState=E}return[E,g]}function Db(a,l,d){var g=$e,T=Yt(),E=nt;if(E){if(d===void 0)throw Error(r(407));d=d()}else d=l();var P=!cr((ht||T).memoizedState,d);P&&(T.memoizedState=d,gn=!0),T=T.queue;var L=kb.bind(null,g,T,a);if(of(2048,8,L,[a]),T.getSnapshot!==l||P||jt!==null&&jt.memoizedState.tag&1){if(g.flags|=2048,Jl(9,Gh(),Ob.bind(null,g,T,d,l),null),_t===null)throw Error(r(349));E||(oa&124)!==0||Nb(g,l,d)}return d}function Nb(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=$e.updateQueue,l===null?(l=dv(),$e.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function Ob(a,l,d,g){l.value=d,l.getSnapshot=g,Lb(l)&&Vb(a)}function kb(a,l,d){return d(function(){Lb(l)&&Vb(a)})}function Lb(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!cr(a,d)}catch{return!0}}function Vb(a){var l=Fl(a,2);l!==null&&gr(l,a,2)}function gv(a){var l=Xn();if(typeof a=="function"){var d=a;if(a=d(),Ps){lr(!0);try{d()}finally{lr(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:a},l}function Ub(a,l,d,g){return a.baseState=d,pv(a,ht,typeof g=="function"?g:fo)}function SB(a,l,d,g,T){if(jh(a))throw Error(r(485));if(a=l.action,a!==null){var E={payload:T,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){E.listeners.push(P)}};Z.T!==null?d(!0):E.isTransition=!1,g(E),d=l.pending,d===null?(E.next=l.pending=E,Bb(l,E)):(E.next=d.next,l.pending=d.next=E)}}function Bb(a,l){var d=l.action,g=l.payload,T=a.state;if(l.isTransition){var E=Z.T,P={};Z.T=P;try{var L=d(T,g),K=Z.S;K!==null&&K(P,L),qb(a,l,L)}catch(X){yv(a,l,X)}finally{Z.T=E}}else try{E=d(T,g),qb(a,l,E)}catch(X){yv(a,l,X)}}function qb(a,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){Fb(a,l,g)},function(g){return yv(a,l,g)}):Fb(a,l,d)}function Fb(a,l,d){l.status="fulfilled",l.value=d,$b(l),a.state=d,l=a.pending,l!==null&&(d=l.next,d===l?a.pending=null:(d=d.next,l.next=d,Bb(a,d)))}function yv(a,l,d){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=d,$b(l),l=l.next;while(l!==g)}a.action=null}function $b(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function Hb(a,l){return l}function zb(a,l){if(nt){var d=_t.formState;if(d!==null){e:{var g=$e;if(nt){if(Ot){t:{for(var T=Ot,E=Ri;T.nodeType!==8;){if(!E){T=null;break t}if(T=oi(T.nextSibling),T===null){T=null;break t}}E=T.data,T=E==="F!"||E==="F"?T:null}if(T){Ot=oi(T.nextSibling),g=T.data==="F!";break e}}Cs(g)}g=!1}g&&(l=d[0])}}return d=Xn(),d.memoizedState=d.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hb,lastRenderedState:l},d.queue=g,d=uC.bind(null,$e,g),g.dispatch=d,g=gv(!1),E=Sv.bind(null,$e,!1,g.queue),g=Xn(),T={state:l,dispatch:null,action:a,pending:null},g.queue=T,d=SB.bind(null,$e,T,E,d),T.dispatch=d,g.memoizedState=a,[l,d,!1]}function Gb(a){var l=Yt();return Kb(l,ht,a)}function Kb(a,l,d){if(l=pv(a,l,Hb)[0],a=zh(fo)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=rf(l)}catch(P){throw P===Qc?Uh:P}else g=l;l=Yt();var T=l.queue,E=T.dispatch;return d!==l.memoizedState&&($e.flags|=2048,Jl(9,Gh(),AB.bind(null,T,d),null)),[g,E,a]}function AB(a,l){a.action=l}function jb(a){var l=Yt(),d=ht;if(d!==null)return Kb(l,d,a);Yt(),l=l.memoizedState,d=Yt();var g=d.queue.dispatch;return d.memoizedState=a,[l,g,!1]}function Jl(a,l,d,g){return a={tag:a,create:d,deps:g,inst:l,next:null},l=$e.updateQueue,l===null&&(l=dv(),$e.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,l.lastEffect=a),a}function Gh(){return{destroy:void 0,resource:void 0}}function Yb(){return Yt().memoizedState}function Kh(a,l,d,g){var T=Xn();g=g===void 0?null:g,$e.flags|=a,T.memoizedState=Jl(1|l,Gh(),d,g)}function of(a,l,d,g){var T=Yt();g=g===void 0?null:g;var E=T.memoizedState.inst;ht!==null&&g!==null&&sv(g,ht.memoizedState.deps)?T.memoizedState=Jl(l,E,d,g):($e.flags|=a,T.memoizedState=Jl(1|l,E,d,g))}function Wb(a,l){Kh(8390656,8,a,l)}function Jb(a,l){of(2048,8,a,l)}function Qb(a,l){return of(4,2,a,l)}function Xb(a,l){return of(4,4,a,l)}function Zb(a,l){if(typeof l=="function"){a=a();var d=l(a);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function eC(a,l,d){d=d!=null?d.concat([a]):null,of(4,4,Zb.bind(null,l,a),d)}function vv(){}function tC(a,l){var d=Yt();l=l===void 0?null:l;var g=d.memoizedState;return l!==null&&sv(l,g[1])?g[0]:(d.memoizedState=[a,l],a)}function nC(a,l){var d=Yt();l=l===void 0?null:l;var g=d.memoizedState;if(l!==null&&sv(l,g[1]))return g[0];if(g=a(),Ps){lr(!0);try{a()}finally{lr(!1)}}return d.memoizedState=[g,l],g}function _v(a,l,d){return d===void 0||(oa&1073741824)!==0?a.memoizedState=l:(a.memoizedState=d,a=ox(),$e.lanes|=a,da|=a,d)}function rC(a,l,d,g){return cr(d,l)?d:jl.current!==null?(a=_v(a,d,g),cr(a,l)||(gn=!0),a):(oa&42)===0?(gn=!0,a.memoizedState=d):(a=ox(),$e.lanes|=a,da|=a,l)}function iC(a,l,d,g,T){var E=de.p;de.p=E!==0&&8>E?E:8;var P=Z.T,L={};Z.T=L,Sv(a,!1,l,d);try{var K=T(),X=Z.S;if(X!==null&&X(L,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var ie=_B(K,g);af(a,l,ie,mr(a))}else af(a,l,g,mr(a))}catch(le){af(a,l,{then:function(){},status:"rejected",reason:le},mr())}finally{de.p=E,Z.T=P}}function wB(){}function Tv(a,l,d,g){if(a.tag!==5)throw Error(r(476));var T=oC(a).queue;iC(a,T,l,ve,d===null?wB:function(){return aC(a),d(g)})}function oC(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:ve},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:d},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function aC(a){var l=oC(a).next.queue;af(a,l,{},mr())}function Ev(){return Vn(wf)}function sC(){return Yt().memoizedState}function lC(){return Yt().memoizedState}function bB(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var d=mr();a=ra(d);var g=ia(l,a,d);g!==null&&(gr(g,l,d),Zc(g,l,d)),l={cache:Qy()},a.payload=l;return}l=l.return}}function CB(a,l,d){var g=mr();d={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},jh(a)?cC(l,d):(d=Fy(a,l,d,g),d!==null&&(gr(d,a,g),fC(d,l,g)))}function uC(a,l,d){var g=mr();af(a,l,d,g)}function af(a,l,d,g){var T={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(jh(a))cC(l,T);else{var E=a.alternate;if(a.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var P=l.lastRenderedState,L=E(P,d);if(T.hasEagerState=!0,T.eagerState=L,cr(L,P))return Ph(a,l,T,0),_t===null&&Rh(),!1}catch{}finally{}if(d=Fy(a,l,T,g),d!==null)return gr(d,a,g),fC(d,l,g),!0}return!1}function Sv(a,l,d,g){if(g={lane:2,revertLane:e0(),action:g,hasEagerState:!1,eagerState:null,next:null},jh(a)){if(l)throw Error(r(479))}else l=Fy(a,d,g,2),l!==null&&gr(l,a,2)}function jh(a){var l=a.alternate;return a===$e||l!==null&&l===$e}function cC(a,l){Yl=Fh=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function fC(a,l,d){if((d&4194048)!==0){var g=l.lanes;g&=a.pendingLanes,d|=g,l.lanes=d,xc(a,d)}}var Yh={readContext:Vn,use:Hh,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt},dC={readContext:Vn,use:Hh,useCallback:function(a,l){return Xn().memoizedState=[a,l===void 0?null:l],a},useContext:Vn,useEffect:Wb,useImperativeHandle:function(a,l,d){d=d!=null?d.concat([a]):null,Kh(4194308,4,Zb.bind(null,l,a),d)},useLayoutEffect:function(a,l){return Kh(4194308,4,a,l)},useInsertionEffect:function(a,l){Kh(4,2,a,l)},useMemo:function(a,l){var d=Xn();l=l===void 0?null:l;var g=a();if(Ps){lr(!0);try{a()}finally{lr(!1)}}return d.memoizedState=[g,l],g},useReducer:function(a,l,d){var g=Xn();if(d!==void 0){var T=d(l);if(Ps){lr(!0);try{d(l)}finally{lr(!1)}}}else T=l;return g.memoizedState=g.baseState=T,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:T},g.queue=a,a=a.dispatch=CB.bind(null,$e,a),[g.memoizedState,a]},useRef:function(a){var l=Xn();return a={current:a},l.memoizedState=a},useState:function(a){a=gv(a);var l=a.queue,d=uC.bind(null,$e,l);return l.dispatch=d,[a.memoizedState,d]},useDebugValue:vv,useDeferredValue:function(a,l){var d=Xn();return _v(d,a,l)},useTransition:function(){var a=gv(!1);return a=iC.bind(null,$e,a.queue,!0,!1),Xn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,d){var g=$e,T=Xn();if(nt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),_t===null)throw Error(r(349));(Xe&124)!==0||Nb(g,l,d)}T.memoizedState=d;var E={value:d,getSnapshot:l};return T.queue=E,Wb(kb.bind(null,g,E,a),[a]),g.flags|=2048,Jl(9,Gh(),Ob.bind(null,g,E,d,l),null),d},useId:function(){var a=Xn(),l=_t.identifierPrefix;if(nt){var d=lo,g=so;d=(g&~(1<<32-Ln(g)-1)).toString(32)+d,l="«"+l+"R"+d,d=$h++,0<d&&(l+="H"+d.toString(32)),l+="»"}else d=TB++,l="«"+l+"r"+d.toString(32)+"»";return a.memoizedState=l},useHostTransitionStatus:Ev,useFormState:zb,useActionState:zb,useOptimistic:function(a){var l=Xn();l.memoizedState=l.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=Sv.bind(null,$e,!0,d),d.dispatch=l,[a,l]},useMemoCache:hv,useCacheRefresh:function(){return Xn().memoizedState=bB.bind(null,$e)}},hC={readContext:Vn,use:Hh,useCallback:tC,useContext:Vn,useEffect:Jb,useImperativeHandle:eC,useInsertionEffect:Qb,useLayoutEffect:Xb,useMemo:nC,useReducer:zh,useRef:Yb,useState:function(){return zh(fo)},useDebugValue:vv,useDeferredValue:function(a,l){var d=Yt();return rC(d,ht.memoizedState,a,l)},useTransition:function(){var a=zh(fo)[0],l=Yt().memoizedState;return[typeof a=="boolean"?a:rf(a),l]},useSyncExternalStore:Db,useId:sC,useHostTransitionStatus:Ev,useFormState:Gb,useActionState:Gb,useOptimistic:function(a,l){var d=Yt();return Ub(d,ht,a,l)},useMemoCache:hv,useCacheRefresh:lC},xB={readContext:Vn,use:Hh,useCallback:tC,useContext:Vn,useEffect:Jb,useImperativeHandle:eC,useInsertionEffect:Qb,useLayoutEffect:Xb,useMemo:nC,useReducer:mv,useRef:Yb,useState:function(){return mv(fo)},useDebugValue:vv,useDeferredValue:function(a,l){var d=Yt();return ht===null?_v(d,a,l):rC(d,ht.memoizedState,a,l)},useTransition:function(){var a=mv(fo)[0],l=Yt().memoizedState;return[typeof a=="boolean"?a:rf(a),l]},useSyncExternalStore:Db,useId:sC,useHostTransitionStatus:Ev,useFormState:jb,useActionState:jb,useOptimistic:function(a,l){var d=Yt();return ht!==null?Ub(d,ht,a,l):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:hv,useCacheRefresh:lC},Ql=null,sf=0;function Wh(a){var l=sf;return sf+=1,Ql===null&&(Ql=[]),wb(Ql,a,l)}function lf(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Jh(a,l){throw l.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function pC(a){var l=a._init;return l(a._payload)}function mC(a){function l(W,Y){if(a){var Q=W.deletions;Q===null?(W.deletions=[Y],W.flags|=16):Q.push(Y)}}function d(W,Y){if(!a)return null;for(;Y!==null;)l(W,Y),Y=Y.sibling;return null}function g(W){for(var Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function T(W,Y){return W=ao(W,Y),W.index=0,W.sibling=null,W}function E(W,Y,Q){return W.index=Q,a?(Q=W.alternate,Q!==null?(Q=Q.index,Q<Y?(W.flags|=67108866,Y):Q):(W.flags|=67108866,Y)):(W.flags|=1048576,Y)}function P(W){return a&&W.alternate===null&&(W.flags|=67108866),W}function L(W,Y,Q,se){return Y===null||Y.tag!==6?(Y=Hy(Q,W.mode,se),Y.return=W,Y):(Y=T(Y,Q),Y.return=W,Y)}function K(W,Y,Q,se){var Ee=Q.type;return Ee===A?ie(W,Y,Q.props.children,se,Q.key):Y!==null&&(Y.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===k&&pC(Ee)===Y.type)?(Y=T(Y,Q.props),lf(Y,Q),Y.return=W,Y):(Y=Dh(Q.type,Q.key,Q.props,null,W.mode,se),lf(Y,Q),Y.return=W,Y)}function X(W,Y,Q,se){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==Q.containerInfo||Y.stateNode.implementation!==Q.implementation?(Y=zy(Q,W.mode,se),Y.return=W,Y):(Y=T(Y,Q.children||[]),Y.return=W,Y)}function ie(W,Y,Q,se,Ee){return Y===null||Y.tag!==7?(Y=Ss(Q,W.mode,se,Ee),Y.return=W,Y):(Y=T(Y,Q),Y.return=W,Y)}function le(W,Y,Q){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Hy(""+Y,W.mode,Q),Y.return=W,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case _:return Q=Dh(Y.type,Y.key,Y.props,null,W.mode,Q),lf(Q,Y),Q.return=W,Q;case S:return Y=zy(Y,W.mode,Q),Y.return=W,Y;case k:var se=Y._init;return Y=se(Y._payload),le(W,Y,Q)}if(ye(Y)||F(Y))return Y=Ss(Y,W.mode,Q,null),Y.return=W,Y;if(typeof Y.then=="function")return le(W,Wh(Y),Q);if(Y.$$typeof===I)return le(W,Lh(W,Y),Q);Jh(W,Y)}return null}function ee(W,Y,Q,se){var Ee=Y!==null?Y.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ee!==null?null:L(W,Y,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case _:return Q.key===Ee?K(W,Y,Q,se):null;case S:return Q.key===Ee?X(W,Y,Q,se):null;case k:return Ee=Q._init,Q=Ee(Q._payload),ee(W,Y,Q,se)}if(ye(Q)||F(Q))return Ee!==null?null:ie(W,Y,Q,se,null);if(typeof Q.then=="function")return ee(W,Y,Wh(Q),se);if(Q.$$typeof===I)return ee(W,Y,Lh(W,Q),se);Jh(W,Q)}return null}function te(W,Y,Q,se,Ee){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return W=W.get(Q)||null,L(Y,W,""+se,Ee);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case _:return W=W.get(se.key===null?Q:se.key)||null,K(Y,W,se,Ee);case S:return W=W.get(se.key===null?Q:se.key)||null,X(Y,W,se,Ee);case k:var He=se._init;return se=He(se._payload),te(W,Y,Q,se,Ee)}if(ye(se)||F(se))return W=W.get(Q)||null,ie(Y,W,se,Ee,null);if(typeof se.then=="function")return te(W,Y,Q,Wh(se),Ee);if(se.$$typeof===I)return te(W,Y,Q,Lh(Y,se),Ee);Jh(Y,se)}return null}function ke(W,Y,Q,se){for(var Ee=null,He=null,be=Y,Pe=Y=0,vn=null;be!==null&&Pe<Q.length;Pe++){be.index>Pe?(vn=be,be=null):vn=be.sibling;var et=ee(W,be,Q[Pe],se);if(et===null){be===null&&(be=vn);break}a&&be&&et.alternate===null&&l(W,be),Y=E(et,Y,Pe),He===null?Ee=et:He.sibling=et,He=et,be=vn}if(Pe===Q.length)return d(W,be),nt&&ws(W,Pe),Ee;if(be===null){for(;Pe<Q.length;Pe++)be=le(W,Q[Pe],se),be!==null&&(Y=E(be,Y,Pe),He===null?Ee=be:He.sibling=be,He=be);return nt&&ws(W,Pe),Ee}for(be=g(be);Pe<Q.length;Pe++)vn=te(be,W,Pe,Q[Pe],se),vn!==null&&(a&&vn.alternate!==null&&be.delete(vn.key===null?Pe:vn.key),Y=E(vn,Y,Pe),He===null?Ee=vn:He.sibling=vn,He=vn);return a&&be.forEach(function(Ea){return l(W,Ea)}),nt&&ws(W,Pe),Ee}function Re(W,Y,Q,se){if(Q==null)throw Error(r(151));for(var Ee=null,He=null,be=Y,Pe=Y=0,vn=null,et=Q.next();be!==null&&!et.done;Pe++,et=Q.next()){be.index>Pe?(vn=be,be=null):vn=be.sibling;var Ea=ee(W,be,et.value,se);if(Ea===null){be===null&&(be=vn);break}a&&be&&Ea.alternate===null&&l(W,be),Y=E(Ea,Y,Pe),He===null?Ee=Ea:He.sibling=Ea,He=Ea,be=vn}if(et.done)return d(W,be),nt&&ws(W,Pe),Ee;if(be===null){for(;!et.done;Pe++,et=Q.next())et=le(W,et.value,se),et!==null&&(Y=E(et,Y,Pe),He===null?Ee=et:He.sibling=et,He=et);return nt&&ws(W,Pe),Ee}for(be=g(be);!et.done;Pe++,et=Q.next())et=te(be,W,Pe,et.value,se),et!==null&&(a&&et.alternate!==null&&be.delete(et.key===null?Pe:et.key),Y=E(et,Y,Pe),He===null?Ee=et:He.sibling=et,He=et);return a&&be.forEach(function(Iq){return l(W,Iq)}),nt&&ws(W,Pe),Ee}function mt(W,Y,Q,se){if(typeof Q=="object"&&Q!==null&&Q.type===A&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case _:e:{for(var Ee=Q.key;Y!==null;){if(Y.key===Ee){if(Ee=Q.type,Ee===A){if(Y.tag===7){d(W,Y.sibling),se=T(Y,Q.props.children),se.return=W,W=se;break e}}else if(Y.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===k&&pC(Ee)===Y.type){d(W,Y.sibling),se=T(Y,Q.props),lf(se,Q),se.return=W,W=se;break e}d(W,Y);break}else l(W,Y);Y=Y.sibling}Q.type===A?(se=Ss(Q.props.children,W.mode,se,Q.key),se.return=W,W=se):(se=Dh(Q.type,Q.key,Q.props,null,W.mode,se),lf(se,Q),se.return=W,W=se)}return P(W);case S:e:{for(Ee=Q.key;Y!==null;){if(Y.key===Ee)if(Y.tag===4&&Y.stateNode.containerInfo===Q.containerInfo&&Y.stateNode.implementation===Q.implementation){d(W,Y.sibling),se=T(Y,Q.children||[]),se.return=W,W=se;break e}else{d(W,Y);break}else l(W,Y);Y=Y.sibling}se=zy(Q,W.mode,se),se.return=W,W=se}return P(W);case k:return Ee=Q._init,Q=Ee(Q._payload),mt(W,Y,Q,se)}if(ye(Q))return ke(W,Y,Q,se);if(F(Q)){if(Ee=F(Q),typeof Ee!="function")throw Error(r(150));return Q=Ee.call(Q),Re(W,Y,Q,se)}if(typeof Q.then=="function")return mt(W,Y,Wh(Q),se);if(Q.$$typeof===I)return mt(W,Y,Lh(W,Q),se);Jh(W,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,Y!==null&&Y.tag===6?(d(W,Y.sibling),se=T(Y,Q),se.return=W,W=se):(d(W,Y),se=Hy(Q,W.mode,se),se.return=W,W=se),P(W)):d(W,Y)}return function(W,Y,Q,se){try{sf=0;var Ee=mt(W,Y,Q,se);return Ql=null,Ee}catch(be){if(be===Qc||be===Uh)throw be;var He=fr(29,be,null,W.mode);return He.lanes=se,He.return=W,He}finally{}}}var Xl=mC(!0),gC=mC(!1),Br=ue(null),Pi=null;function aa(a){var l=a.alternate;he(an,an.current&1),he(Br,a),Pi===null&&(l===null||jl.current!==null||l.memoizedState!==null)&&(Pi=a)}function yC(a){if(a.tag===22){if(he(an,an.current),he(Br,a),Pi===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(Pi=a)}}else sa()}function sa(){he(an,an.current),he(Br,Br.current)}function ho(a){ae(Br),Pi===a&&(Pi=null),ae(an)}var an=ue(0);function Qh(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d0(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Av(a,l,d,g){l=a.memoizedState,d=d(g,l),d=d==null?l:h({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var wv={enqueueSetState:function(a,l,d){a=a._reactInternals;var g=mr(),T=ra(g);T.payload=l,d!=null&&(T.callback=d),l=ia(a,T,g),l!==null&&(gr(l,a,g),Zc(l,a,g))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var g=mr(),T=ra(g);T.tag=1,T.payload=l,d!=null&&(T.callback=d),l=ia(a,T,g),l!==null&&(gr(l,a,g),Zc(l,a,g))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=mr(),g=ra(d);g.tag=2,l!=null&&(g.callback=l),l=ia(a,g,d),l!==null&&(gr(l,a,d),Zc(l,a,d))}};function vC(a,l,d,g,T,E,P){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,E,P):l.prototype&&l.prototype.isPureReactComponent?!Hc(d,g)||!Hc(T,E):!0}function _C(a,l,d,g){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==a&&wv.enqueueReplaceState(l,l.state,null)}function Ms(a,l){var d=l;if("ref"in l){d={};for(var g in l)g!=="ref"&&(d[g]=l[g])}if(a=a.defaultProps){d===l&&(d=h({},d));for(var T in a)d[T]===void 0&&(d[T]=a[T])}return d}var Xh=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function TC(a){Xh(a)}function EC(a){console.error(a)}function SC(a){Xh(a)}function Zh(a,l){try{var d=a.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function AC(a,l,d){try{var g=a.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function bv(a,l,d){return d=ra(d),d.tag=3,d.payload={element:null},d.callback=function(){Zh(a,l)},d}function wC(a){return a=ra(a),a.tag=3,a}function bC(a,l,d,g){var T=d.type.getDerivedStateFromError;if(typeof T=="function"){var E=g.value;a.payload=function(){return T(E)},a.callback=function(){AC(l,d,g)}}var P=d.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(a.callback=function(){AC(l,d,g),typeof T!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var L=g.stack;this.componentDidCatch(g.value,{componentStack:L!==null?L:""})})}function IB(a,l,d,g,T){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=d.alternate,l!==null&&Yc(l,d,T,!0),d=Br.current,d!==null){switch(d.tag){case 13:return Pi===null?Wv():d.alternate===null&&kt===0&&(kt=3),d.flags&=-257,d.flags|=65536,d.lanes=T,g===ev?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([g]):l.add(g),Qv(a,g,T)),!1;case 22:return d.flags|=65536,g===ev?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([g]):d.add(g)),Qv(a,g,T)),!1}throw Error(r(435,d.tag))}return Qv(a,g,T),Wv(),!1}if(nt)return l=Br.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=T,g!==jy&&(a=Error(r(422),{cause:g}),jc(kr(a,d)))):(g!==jy&&(l=Error(r(423),{cause:g}),jc(kr(l,d))),a=a.current.alternate,a.flags|=65536,T&=-T,a.lanes|=T,g=kr(g,d),T=bv(a.stateNode,g,T),rv(a,T),kt!==4&&(kt=2)),!1;var E=Error(r(520),{cause:g});if(E=kr(E,d),mf===null?mf=[E]:mf.push(E),kt!==4&&(kt=2),l===null)return!0;g=kr(g,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,a=T&-T,d.lanes|=a,a=bv(d.stateNode,g,a),rv(d,a),!1;case 1:if(l=d.type,E=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ha===null||!ha.has(E))))return d.flags|=65536,T&=-T,d.lanes|=T,T=wC(T),bC(T,a,d,g),rv(d,T),!1}d=d.return}while(d!==null);return!1}var CC=Error(r(461)),gn=!1;function xn(a,l,d,g){l.child=a===null?gC(l,null,d,g):Xl(l,a.child,d,g)}function xC(a,l,d,g,T){d=d.render;var E=l.ref;if("ref"in g){var P={};for(var L in g)L!=="ref"&&(P[L]=g[L])}else P=g;return Is(l),g=lv(a,l,d,P,E,T),L=uv(),a!==null&&!gn?(cv(a,l,T),po(a,l,T)):(nt&&L&&Gy(l),l.flags|=1,xn(a,l,g,T),l.child)}function IC(a,l,d,g,T){if(a===null){var E=d.type;return typeof E=="function"&&!$y(E)&&E.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=E,RC(a,l,E,g,T)):(a=Dh(d.type,null,g,l,l.mode,T),a.ref=l.ref,a.return=l,l.child=a)}if(E=a.child,!Nv(a,T)){var P=E.memoizedProps;if(d=d.compare,d=d!==null?d:Hc,d(P,g)&&a.ref===l.ref)return po(a,l,T)}return l.flags|=1,a=ao(E,g),a.ref=l.ref,a.return=l,l.child=a}function RC(a,l,d,g,T){if(a!==null){var E=a.memoizedProps;if(Hc(E,g)&&a.ref===l.ref)if(gn=!1,l.pendingProps=g=E,Nv(a,T))(a.flags&131072)!==0&&(gn=!0);else return l.lanes=a.lanes,po(a,l,T)}return Cv(a,l,d,g,T)}function PC(a,l,d){var g=l.pendingProps,T=g.children,E=a!==null?a.memoizedState:null;if(g.mode==="hidden"){if((l.flags&128)!==0){if(g=E!==null?E.baseLanes|d:d,a!==null){for(T=l.child=a.child,E=0;T!==null;)E=E|T.lanes|T.childLanes,T=T.sibling;l.childLanes=E&~g}else l.childLanes=0,l.child=null;return MC(a,l,g,d)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Vh(l,E!==null?E.cachePool:null),E!==null?Rb(l,E):ov(),yC(l);else return l.lanes=l.childLanes=536870912,MC(a,l,E!==null?E.baseLanes|d:d,d)}else E!==null?(Vh(l,E.cachePool),Rb(l,E),sa(),l.memoizedState=null):(a!==null&&Vh(l,null),ov(),sa());return xn(a,l,T,d),l.child}function MC(a,l,d,g){var T=Zy();return T=T===null?null:{parent:on._currentValue,pool:T},l.memoizedState={baseLanes:d,cachePool:T},a!==null&&Vh(l,null),ov(),yC(l),a!==null&&Yc(a,l,g,!0),null}function ep(a,l){var d=l.ref;if(d===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(a===null||a.ref!==d)&&(l.flags|=4194816)}}function Cv(a,l,d,g,T){return Is(l),d=lv(a,l,d,g,void 0,T),g=uv(),a!==null&&!gn?(cv(a,l,T),po(a,l,T)):(nt&&g&&Gy(l),l.flags|=1,xn(a,l,d,T),l.child)}function DC(a,l,d,g,T,E){return Is(l),l.updateQueue=null,d=Mb(l,g,d,T),Pb(a),g=uv(),a!==null&&!gn?(cv(a,l,E),po(a,l,E)):(nt&&g&&Gy(l),l.flags|=1,xn(a,l,d,E),l.child)}function NC(a,l,d,g,T){if(Is(l),l.stateNode===null){var E=$l,P=d.contextType;typeof P=="object"&&P!==null&&(E=Vn(P)),E=new d(g,E),l.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=wv,l.stateNode=E,E._reactInternals=l,E=l.stateNode,E.props=g,E.state=l.memoizedState,E.refs={},tv(l),P=d.contextType,E.context=typeof P=="object"&&P!==null?Vn(P):$l,E.state=l.memoizedState,P=d.getDerivedStateFromProps,typeof P=="function"&&(Av(l,d,P,g),E.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(P=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),P!==E.state&&wv.enqueueReplaceState(E,E.state,null),tf(l,g,E,T),ef(),E.state=l.memoizedState),typeof E.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(a===null){E=l.stateNode;var L=l.memoizedProps,K=Ms(d,L);E.props=K;var X=E.context,ie=d.contextType;P=$l,typeof ie=="object"&&ie!==null&&(P=Vn(ie));var le=d.getDerivedStateFromProps;ie=typeof le=="function"||typeof E.getSnapshotBeforeUpdate=="function",L=l.pendingProps!==L,ie||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(L||X!==P)&&_C(l,E,g,P),na=!1;var ee=l.memoizedState;E.state=ee,tf(l,g,E,T),ef(),X=l.memoizedState,L||ee!==X||na?(typeof le=="function"&&(Av(l,d,le,g),X=l.memoizedState),(K=na||vC(l,d,K,g,ee,X,P))?(ie||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(l.flags|=4194308)):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=X),E.props=g,E.state=X,E.context=P,g=K):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{E=l.stateNode,nv(a,l),P=l.memoizedProps,ie=Ms(d,P),E.props=ie,le=l.pendingProps,ee=E.context,X=d.contextType,K=$l,typeof X=="object"&&X!==null&&(K=Vn(X)),L=d.getDerivedStateFromProps,(X=typeof L=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==le||ee!==K)&&_C(l,E,g,K),na=!1,ee=l.memoizedState,E.state=ee,tf(l,g,E,T),ef();var te=l.memoizedState;P!==le||ee!==te||na||a!==null&&a.dependencies!==null&&kh(a.dependencies)?(typeof L=="function"&&(Av(l,d,L,g),te=l.memoizedState),(ie=na||vC(l,d,ie,g,ee,te,K)||a!==null&&a.dependencies!==null&&kh(a.dependencies))?(X||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(g,te,K),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(g,te,K)),typeof E.componentDidUpdate=="function"&&(l.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof E.componentDidUpdate!="function"||P===a.memoizedProps&&ee===a.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&ee===a.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=te),E.props=g,E.state=te,E.context=K,g=ie):(typeof E.componentDidUpdate!="function"||P===a.memoizedProps&&ee===a.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&ee===a.memoizedState||(l.flags|=1024),g=!1)}return E=g,ep(a,l),g=(l.flags&128)!==0,E||g?(E=l.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:E.render(),l.flags|=1,a!==null&&g?(l.child=Xl(l,a.child,null,T),l.child=Xl(l,null,d,T)):xn(a,l,d,T),l.memoizedState=E.state,a=l.child):a=po(a,l,T),a}function OC(a,l,d,g){return Kc(),l.flags|=256,xn(a,l,d,g),l.child}var xv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Iv(a){return{baseLanes:a,cachePool:Eb()}}function Rv(a,l,d){return a=a!==null?a.childLanes&~d:0,l&&(a|=qr),a}function kC(a,l,d){var g=l.pendingProps,T=!1,E=(l.flags&128)!==0,P;if((P=E)||(P=a!==null&&a.memoizedState===null?!1:(an.current&2)!==0),P&&(T=!0,l.flags&=-129),P=(l.flags&32)!==0,l.flags&=-33,a===null){if(nt){if(T?aa(l):sa(),nt){var L=Ot,K;if(K=L){e:{for(K=L,L=Ri;K.nodeType!==8;){if(!L){L=null;break e}if(K=oi(K.nextSibling),K===null){L=null;break e}}L=K}L!==null?(l.memoizedState={dehydrated:L,treeContext:As!==null?{id:so,overflow:lo}:null,retryLane:536870912,hydrationErrors:null},K=fr(18,null,null,0),K.stateNode=L,K.return=l,l.child=K,Wn=l,Ot=null,K=!0):K=!1}K||Cs(l)}if(L=l.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return d0(L)?l.lanes=32:l.lanes=536870912,null;ho(l)}return L=g.children,g=g.fallback,T?(sa(),T=l.mode,L=tp({mode:"hidden",children:L},T),g=Ss(g,T,d,null),L.return=l,g.return=l,L.sibling=g,l.child=L,T=l.child,T.memoizedState=Iv(d),T.childLanes=Rv(a,P,d),l.memoizedState=xv,g):(aa(l),Pv(l,L))}if(K=a.memoizedState,K!==null&&(L=K.dehydrated,L!==null)){if(E)l.flags&256?(aa(l),l.flags&=-257,l=Mv(a,l,d)):l.memoizedState!==null?(sa(),l.child=a.child,l.flags|=128,l=null):(sa(),T=g.fallback,L=l.mode,g=tp({mode:"visible",children:g.children},L),T=Ss(T,L,d,null),T.flags|=2,g.return=l,T.return=l,g.sibling=T,l.child=g,Xl(l,a.child,null,d),g=l.child,g.memoizedState=Iv(d),g.childLanes=Rv(a,P,d),l.memoizedState=xv,l=T);else if(aa(l),d0(L)){if(P=L.nextSibling&&L.nextSibling.dataset,P)var X=P.dgst;P=X,g=Error(r(419)),g.stack="",g.digest=P,jc({value:g,source:null,stack:null}),l=Mv(a,l,d)}else if(gn||Yc(a,l,d,!1),P=(d&a.childLanes)!==0,gn||P){if(P=_t,P!==null&&(g=d&-d,g=(g&42)!==0?1:Yo(g),g=(g&(P.suspendedLanes|d))!==0?0:g,g!==0&&g!==K.retryLane))throw K.retryLane=g,Fl(a,g),gr(P,a,g),CC;L.data==="$?"||Wv(),l=Mv(a,l,d)}else L.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=K.treeContext,Ot=oi(L.nextSibling),Wn=l,nt=!0,bs=null,Ri=!1,a!==null&&(Vr[Ur++]=so,Vr[Ur++]=lo,Vr[Ur++]=As,so=a.id,lo=a.overflow,As=l),l=Pv(l,g.children),l.flags|=4096);return l}return T?(sa(),T=g.fallback,L=l.mode,K=a.child,X=K.sibling,g=ao(K,{mode:"hidden",children:g.children}),g.subtreeFlags=K.subtreeFlags&65011712,X!==null?T=ao(X,T):(T=Ss(T,L,d,null),T.flags|=2),T.return=l,g.return=l,g.sibling=T,l.child=g,g=T,T=l.child,L=a.child.memoizedState,L===null?L=Iv(d):(K=L.cachePool,K!==null?(X=on._currentValue,K=K.parent!==X?{parent:X,pool:X}:K):K=Eb(),L={baseLanes:L.baseLanes|d,cachePool:K}),T.memoizedState=L,T.childLanes=Rv(a,P,d),l.memoizedState=xv,g):(aa(l),d=a.child,a=d.sibling,d=ao(d,{mode:"visible",children:g.children}),d.return=l,d.sibling=null,a!==null&&(P=l.deletions,P===null?(l.deletions=[a],l.flags|=16):P.push(a)),l.child=d,l.memoizedState=null,d)}function Pv(a,l){return l=tp({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function tp(a,l){return a=fr(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Mv(a,l,d){return Xl(l,a.child,null,d),a=Pv(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function LC(a,l,d){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l),Wy(a.return,l,d)}function Dv(a,l,d,g,T){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:T}:(E.isBackwards=l,E.rendering=null,E.renderingStartTime=0,E.last=g,E.tail=d,E.tailMode=T)}function VC(a,l,d){var g=l.pendingProps,T=g.revealOrder,E=g.tail;if(xn(a,l,g.children,d),g=an.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&LC(a,d,l);else if(a.tag===19)LC(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}switch(he(an,g),T){case"forwards":for(d=l.child,T=null;d!==null;)a=d.alternate,a!==null&&Qh(a)===null&&(T=d),d=d.sibling;d=T,d===null?(T=l.child,l.child=null):(T=d.sibling,d.sibling=null),Dv(l,!1,T,d,E);break;case"backwards":for(d=null,T=l.child,l.child=null;T!==null;){if(a=T.alternate,a!==null&&Qh(a)===null){l.child=T;break}a=T.sibling,T.sibling=d,d=T,T=a}Dv(l,!0,d,null,E);break;case"together":Dv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function po(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),da|=l.lanes,(d&l.childLanes)===0)if(a!==null){if(Yc(a,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,d=ao(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=ao(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function Nv(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&kh(a)))}function RB(a,l,d){switch(l.tag){case 3:ft(l,l.stateNode.containerInfo),ta(l,on,a.memoizedState.cache),Kc();break;case 27:case 5:Ve(l);break;case 4:ft(l,l.stateNode.containerInfo);break;case 10:ta(l,l.type,l.memoizedProps.value);break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(aa(l),l.flags|=128,null):(d&l.child.childLanes)!==0?kC(a,l,d):(aa(l),a=po(a,l,d),a!==null?a.sibling:null);aa(l);break;case 19:var T=(a.flags&128)!==0;if(g=(d&l.childLanes)!==0,g||(Yc(a,l,d,!1),g=(d&l.childLanes)!==0),T){if(g)return VC(a,l,d);l.flags|=128}if(T=l.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),he(an,an.current),g)break;return null;case 22:case 23:return l.lanes=0,PC(a,l,d);case 24:ta(l,on,a.memoizedState.cache)}return po(a,l,d)}function UC(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps)gn=!0;else{if(!Nv(a,d)&&(l.flags&128)===0)return gn=!1,RB(a,l,d);gn=(a.flags&131072)!==0}else gn=!1,nt&&(l.flags&1048576)!==0&&pb(l,Oh,l.index);switch(l.lanes=0,l.tag){case 16:e:{a=l.pendingProps;var g=l.elementType,T=g._init;if(g=T(g._payload),l.type=g,typeof g=="function")$y(g)?(a=Ms(g,a),l.tag=1,l=NC(null,l,g,a,d)):(l.tag=0,l=Cv(null,l,g,a,d));else{if(g!=null){if(T=g.$$typeof,T===$){l.tag=11,l=xC(null,l,g,a,d);break e}else if(T===O){l.tag=14,l=IC(null,l,g,a,d);break e}}throw l=Ae(g)||g,Error(r(306,l,""))}}return l;case 0:return Cv(a,l,l.type,l.pendingProps,d);case 1:return g=l.type,T=Ms(g,l.pendingProps),NC(a,l,g,T,d);case 3:e:{if(ft(l,l.stateNode.containerInfo),a===null)throw Error(r(387));g=l.pendingProps;var E=l.memoizedState;T=E.element,nv(a,l),tf(l,g,null,d);var P=l.memoizedState;if(g=P.cache,ta(l,on,g),g!==E.cache&&Jy(l,[on],d,!0),ef(),g=P.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:P.cache},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){l=OC(a,l,g,d);break e}else if(g!==T){T=kr(Error(r(424)),l),jc(T),l=OC(a,l,g,d);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Ot=oi(a.firstChild),Wn=l,nt=!0,bs=null,Ri=!0,d=gC(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Kc(),g===T){l=po(a,l,d);break e}xn(a,l,g,d)}l=l.child}return l;case 26:return ep(a,l),a===null?(d=$x(l.type,null,l.pendingProps,null))?l.memoizedState=d:nt||(d=l.type,a=l.pendingProps,g=mp(Oe.current).createElement(d),g[tn]=l,g[Gt]=a,Rn(g,d,a),Ut(g),l.stateNode=g):l.memoizedState=$x(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Ve(l),a===null&&nt&&(g=l.stateNode=Bx(l.type,l.pendingProps,Oe.current),Wn=l,Ri=!0,T=Ot,ga(l.type)?(h0=T,Ot=oi(g.firstChild)):Ot=T),xn(a,l,l.pendingProps.children,d),ep(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&nt&&((T=g=Ot)&&(g=rq(g,l.type,l.pendingProps,Ri),g!==null?(l.stateNode=g,Wn=l,Ot=oi(g.firstChild),Ri=!1,T=!0):T=!1),T||Cs(l)),Ve(l),T=l.type,E=l.pendingProps,P=a!==null?a.memoizedProps:null,g=E.children,u0(T,E)?g=null:P!==null&&u0(T,P)&&(l.flags|=32),l.memoizedState!==null&&(T=lv(a,l,EB,null,null,d),wf._currentValue=T),ep(a,l),xn(a,l,g,d),l.child;case 6:return a===null&&nt&&((a=d=Ot)&&(d=iq(d,l.pendingProps,Ri),d!==null?(l.stateNode=d,Wn=l,Ot=null,a=!0):a=!1),a||Cs(l)),null;case 13:return kC(a,l,d);case 4:return ft(l,l.stateNode.containerInfo),g=l.pendingProps,a===null?l.child=Xl(l,null,g,d):xn(a,l,g,d),l.child;case 11:return xC(a,l,l.type,l.pendingProps,d);case 7:return xn(a,l,l.pendingProps,d),l.child;case 8:return xn(a,l,l.pendingProps.children,d),l.child;case 12:return xn(a,l,l.pendingProps.children,d),l.child;case 10:return g=l.pendingProps,ta(l,l.type,g.value),xn(a,l,g.children,d),l.child;case 9:return T=l.type._context,g=l.pendingProps.children,Is(l),T=Vn(T),g=g(T),l.flags|=1,xn(a,l,g,d),l.child;case 14:return IC(a,l,l.type,l.pendingProps,d);case 15:return RC(a,l,l.type,l.pendingProps,d);case 19:return VC(a,l,d);case 31:return g=l.pendingProps,d=l.mode,g={mode:g.mode,children:g.children},a===null?(d=tp(g,d),d.ref=l.ref,l.child=d,d.return=l,l=d):(d=ao(a.child,g),d.ref=l.ref,l.child=d,d.return=l,l=d),l;case 22:return PC(a,l,d);case 24:return Is(l),g=Vn(on),a===null?(T=Zy(),T===null&&(T=_t,E=Qy(),T.pooledCache=E,E.refCount++,E!==null&&(T.pooledCacheLanes|=d),T=E),l.memoizedState={parent:g,cache:T},tv(l),ta(l,on,T)):((a.lanes&d)!==0&&(nv(a,l),tf(l,null,null,d),ef()),T=a.memoizedState,E=l.memoizedState,T.parent!==g?(T={parent:g,cache:g},l.memoizedState=T,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=T),ta(l,on,g)):(g=E.cache,ta(l,on,g),g!==T.cache&&Jy(l,[on],d,!0))),xn(a,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function mo(a){a.flags|=4}function BC(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!jx(l)){if(l=Br.current,l!==null&&((Xe&4194048)===Xe?Pi!==null:(Xe&62914560)!==Xe&&(Xe&536870912)===0||l!==Pi))throw Xc=ev,Sb;a.flags|=8192}}function np(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?bc():536870912,a.lanes|=l,nu|=l)}function uf(a,l){if(!nt)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Pt(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(l)for(var T=a.child;T!==null;)d|=T.lanes|T.childLanes,g|=T.subtreeFlags&65011712,g|=T.flags&65011712,T.return=a,T=T.sibling;else for(T=a.child;T!==null;)d|=T.lanes|T.childLanes,g|=T.subtreeFlags,g|=T.flags,T.return=a,T=T.sibling;return a.subtreeFlags|=g,a.childLanes=d,l}function PB(a,l,d){var g=l.pendingProps;switch(Ky(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(l),null;case 1:return Pt(l),null;case 3:return d=l.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),co(on),ge(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(Gc(l)?mo(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,yb())),Pt(l),null;case 26:return d=l.memoizedState,a===null?(mo(l),d!==null?(Pt(l),BC(l,d)):(Pt(l),l.flags&=-16777217)):d?d!==a.memoizedState?(mo(l),Pt(l),BC(l,d)):(Pt(l),l.flags&=-16777217):(a.memoizedProps!==g&&mo(l),Pt(l),l.flags&=-16777217),null;case 27:qe(l),d=Oe.current;var T=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==g&&mo(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Pt(l),null}a=we.current,Gc(l)?mb(l):(a=Bx(T,g,d),l.stateNode=a,mo(l))}return Pt(l),null;case 5:if(qe(l),d=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==g&&mo(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Pt(l),null}if(a=we.current,Gc(l))mb(l);else{switch(T=mp(Oe.current),a){case 1:a=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:a=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":a=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":a=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":a=T.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof g.is=="string"?T.createElement("select",{is:g.is}):T.createElement("select"),g.multiple?a.multiple=!0:g.size&&(a.size=g.size);break;default:a=typeof g.is=="string"?T.createElement(d,{is:g.is}):T.createElement(d)}}a[tn]=l,a[Gt]=g;e:for(T=l.child;T!==null;){if(T.tag===5||T.tag===6)a.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===l)break e;for(;T.sibling===null;){if(T.return===null||T.return===l)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}l.stateNode=a;e:switch(Rn(a,d,g),d){case"button":case"input":case"select":case"textarea":a=!!g.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&mo(l)}}return Pt(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==g&&mo(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(a=Oe.current,Gc(l)){if(a=l.stateNode,d=l.memoizedProps,g=null,T=Wn,T!==null)switch(T.tag){case 27:case 5:g=T.memoizedProps}a[tn]=l,a=!!(a.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||Dx(a.nodeValue,d)),a||Cs(l)}else a=mp(a).createTextNode(g),a[tn]=l,l.stateNode=a}return Pt(l),null;case 13:if(g=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(T=Gc(l),g!==null&&g.dehydrated!==null){if(a===null){if(!T)throw Error(r(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[tn]=l}else Kc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Pt(l),T=!1}else T=yb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=T),T=!0;if(!T)return l.flags&256?(ho(l),l):(ho(l),null)}if(ho(l),(l.flags&128)!==0)return l.lanes=d,l;if(d=g!==null,a=a!==null&&a.memoizedState!==null,d){g=l.child,T=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(T=g.alternate.memoizedState.cachePool.pool);var E=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(E=g.memoizedState.cachePool.pool),E!==T&&(g.flags|=2048)}return d!==a&&d&&(l.child.flags|=8192),np(l,l.updateQueue),Pt(l),null;case 4:return ge(),a===null&&i0(l.stateNode.containerInfo),Pt(l),null;case 10:return co(l.type),Pt(l),null;case 19:if(ae(an),T=l.memoizedState,T===null)return Pt(l),null;if(g=(l.flags&128)!==0,E=T.rendering,E===null)if(g)uf(T,!1);else{if(kt!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(E=Qh(a),E!==null){for(l.flags|=128,uf(T,!1),a=E.updateQueue,l.updateQueue=a,np(l,a),l.subtreeFlags=0,a=d,d=l.child;d!==null;)hb(d,a),d=d.sibling;return he(an,an.current&1|2),l.child}a=a.sibling}T.tail!==null&&zt()>op&&(l.flags|=128,g=!0,uf(T,!1),l.lanes=4194304)}else{if(!g)if(a=Qh(E),a!==null){if(l.flags|=128,g=!0,a=a.updateQueue,l.updateQueue=a,np(l,a),uf(T,!0),T.tail===null&&T.tailMode==="hidden"&&!E.alternate&&!nt)return Pt(l),null}else 2*zt()-T.renderingStartTime>op&&d!==536870912&&(l.flags|=128,g=!0,uf(T,!1),l.lanes=4194304);T.isBackwards?(E.sibling=l.child,l.child=E):(a=T.last,a!==null?a.sibling=E:l.child=E,T.last=E)}return T.tail!==null?(l=T.tail,T.rendering=l,T.tail=l.sibling,T.renderingStartTime=zt(),l.sibling=null,a=an.current,he(an,g?a&1|2:a&1),l):(Pt(l),null);case 22:case 23:return ho(l),av(),g=l.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(d&536870912)!==0&&(l.flags&128)===0&&(Pt(l),l.subtreeFlags&6&&(l.flags|=8192)):Pt(l),d=l.updateQueue,d!==null&&np(l,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==d&&(l.flags|=2048),a!==null&&ae(Rs),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),co(on),Pt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function MB(a,l){switch(Ky(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return co(on),ge(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return qe(l),null;case 13:if(ho(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Kc()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return ae(an),null;case 4:return ge(),null;case 10:return co(l.type),null;case 22:case 23:return ho(l),av(),a!==null&&ae(Rs),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return co(on),null;case 25:return null;default:return null}}function qC(a,l){switch(Ky(l),l.tag){case 3:co(on),ge();break;case 26:case 27:case 5:qe(l);break;case 4:ge();break;case 13:ho(l);break;case 19:ae(an);break;case 10:co(l.type);break;case 22:case 23:ho(l),av(),a!==null&&ae(Rs);break;case 24:co(on)}}function cf(a,l){try{var d=l.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var T=g.next;d=T;do{if((d.tag&a)===a){g=void 0;var E=d.create,P=d.inst;g=E(),P.destroy=g}d=d.next}while(d!==T)}}catch(L){yt(l,l.return,L)}}function la(a,l,d){try{var g=l.updateQueue,T=g!==null?g.lastEffect:null;if(T!==null){var E=T.next;g=E;do{if((g.tag&a)===a){var P=g.inst,L=P.destroy;if(L!==void 0){P.destroy=void 0,T=l;var K=d,X=L;try{X()}catch(ie){yt(T,K,ie)}}}g=g.next}while(g!==E)}}catch(ie){yt(l,l.return,ie)}}function FC(a){var l=a.updateQueue;if(l!==null){var d=a.stateNode;try{Ib(l,d)}catch(g){yt(a,a.return,g)}}}function $C(a,l,d){d.props=Ms(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(g){yt(a,l,g)}}function ff(a,l){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof d=="function"?a.refCleanup=d(g):d.current=g}}catch(T){yt(a,l,T)}}function Mi(a,l){var d=a.ref,g=a.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(T){yt(a,l,T)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(T){yt(a,l,T)}else d.current=null}function HC(a){var l=a.type,d=a.memoizedProps,g=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(T){yt(a,a.return,T)}}function Ov(a,l,d){try{var g=a.stateNode;XB(g,a.type,d,l),g[Gt]=l}catch(T){yt(a,a.return,T)}}function zC(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ga(a.type)||a.tag===4}function kv(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||zC(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ga(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Lv(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(a),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=pp));else if(g!==4&&(g===27&&ga(a.type)&&(d=a.stateNode,l=null),a=a.child,a!==null))for(Lv(a,l,d),a=a.sibling;a!==null;)Lv(a,l,d),a=a.sibling}function rp(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(g!==4&&(g===27&&ga(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(rp(a,l,d),a=a.sibling;a!==null;)rp(a,l,d),a=a.sibling}function GC(a){var l=a.stateNode,d=a.memoizedProps;try{for(var g=a.type,T=l.attributes;T.length;)l.removeAttributeNode(T[0]);Rn(l,g,d),l[tn]=a,l[Gt]=d}catch(E){yt(a,a.return,E)}}var go=!1,qt=!1,Vv=!1,KC=typeof WeakSet=="function"?WeakSet:Set,yn=null;function DB(a,l){if(a=a.containerInfo,s0=Ep,a=rb(a),ky(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var T=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{d.nodeType,E.nodeType}catch{d=null;break e}var P=0,L=-1,K=-1,X=0,ie=0,le=a,ee=null;t:for(;;){for(var te;le!==d||T!==0&&le.nodeType!==3||(L=P+T),le!==E||g!==0&&le.nodeType!==3||(K=P+g),le.nodeType===3&&(P+=le.nodeValue.length),(te=le.firstChild)!==null;)ee=le,le=te;for(;;){if(le===a)break t;if(ee===d&&++X===T&&(L=P),ee===E&&++ie===g&&(K=P),(te=le.nextSibling)!==null)break;le=ee,ee=le.parentNode}le=te}d=L===-1||K===-1?null:{start:L,end:K}}else d=null}d=d||{start:0,end:0}}else d=null;for(l0={focusedElem:a,selectionRange:d},Ep=!1,yn=l;yn!==null;)if(l=yn,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,yn=a;else for(;yn!==null;){switch(l=yn,E=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&E!==null){a=void 0,d=l,T=E.memoizedProps,E=E.memoizedState,g=d.stateNode;try{var ke=Ms(d.type,T,d.elementType===d.type);a=g.getSnapshotBeforeUpdate(ke,E),g.__reactInternalSnapshotBeforeUpdate=a}catch(Re){yt(d,d.return,Re)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,d=a.nodeType,d===9)f0(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":f0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,yn=a;break}yn=l.return}}function jC(a,l,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:ua(a,d),g&4&&cf(5,d);break;case 1:if(ua(a,d),g&4)if(a=d.stateNode,l===null)try{a.componentDidMount()}catch(P){yt(d,d.return,P)}else{var T=Ms(d.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(T,l,a.__reactInternalSnapshotBeforeUpdate)}catch(P){yt(d,d.return,P)}}g&64&&FC(d),g&512&&ff(d,d.return);break;case 3:if(ua(a,d),g&64&&(a=d.updateQueue,a!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{Ib(a,l)}catch(P){yt(d,d.return,P)}}break;case 27:l===null&&g&4&&GC(d);case 26:case 5:ua(a,d),l===null&&g&4&&HC(d),g&512&&ff(d,d.return);break;case 12:ua(a,d);break;case 13:ua(a,d),g&4&&JC(a,d),g&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=FB.bind(null,d),oq(a,d))));break;case 22:if(g=d.memoizedState!==null||go,!g){l=l!==null&&l.memoizedState!==null||qt,T=go;var E=qt;go=g,(qt=l)&&!E?ca(a,d,(d.subtreeFlags&8772)!==0):ua(a,d),go=T,qt=E}break;case 30:break;default:ua(a,d)}}function YC(a){var l=a.alternate;l!==null&&(a.alternate=null,YC(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&Qo(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var xt=null,Zn=!1;function yo(a,l,d){for(d=d.child;d!==null;)WC(a,l,d),d=d.sibling}function WC(a,l,d){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(Nt,d)}catch{}switch(d.tag){case 26:qt||Mi(d,l),yo(a,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:qt||Mi(d,l);var g=xt,T=Zn;ga(d.type)&&(xt=d.stateNode,Zn=!1),yo(a,l,d),Tf(d.stateNode),xt=g,Zn=T;break;case 5:qt||Mi(d,l);case 6:if(g=xt,T=Zn,xt=null,yo(a,l,d),xt=g,Zn=T,xt!==null)if(Zn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(d.stateNode)}catch(E){yt(d,l,E)}else try{xt.removeChild(d.stateNode)}catch(E){yt(d,l,E)}break;case 18:xt!==null&&(Zn?(a=xt,Vx(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),If(a)):Vx(xt,d.stateNode));break;case 4:g=xt,T=Zn,xt=d.stateNode.containerInfo,Zn=!0,yo(a,l,d),xt=g,Zn=T;break;case 0:case 11:case 14:case 15:qt||la(2,d,l),qt||la(4,d,l),yo(a,l,d);break;case 1:qt||(Mi(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"&&$C(d,l,g)),yo(a,l,d);break;case 21:yo(a,l,d);break;case 22:qt=(g=qt)||d.memoizedState!==null,yo(a,l,d),qt=g;break;default:yo(a,l,d)}}function JC(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{If(a)}catch(d){yt(l,l.return,d)}}function NB(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new KC),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new KC),l;default:throw Error(r(435,a.tag))}}function Uv(a,l){var d=NB(a);l.forEach(function(g){var T=$B.bind(null,a,g);d.has(g)||(d.add(g),g.then(T,T))})}function dr(a,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var T=d[g],E=a,P=l,L=P;e:for(;L!==null;){switch(L.tag){case 27:if(ga(L.type)){xt=L.stateNode,Zn=!1;break e}break;case 5:xt=L.stateNode,Zn=!1;break e;case 3:case 4:xt=L.stateNode.containerInfo,Zn=!0;break e}L=L.return}if(xt===null)throw Error(r(160));WC(E,P,T),xt=null,Zn=!1,E=T.alternate,E!==null&&(E.return=null),T.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)QC(l,a),l=l.sibling}var ii=null;function QC(a,l){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:dr(l,a),hr(a),g&4&&(la(3,a,a.return),cf(3,a),la(5,a,a.return));break;case 1:dr(l,a),hr(a),g&512&&(qt||d===null||Mi(d,d.return)),g&64&&go&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var T=ii;if(dr(l,a),hr(a),g&512&&(qt||d===null||Mi(d,d.return)),g&4){var E=d!==null?d.memoizedState:null;if(g=a.memoizedState,d===null)if(g===null)if(a.stateNode===null){e:{g=a.type,d=a.memoizedProps,T=T.ownerDocument||T;t:switch(g){case"title":E=T.getElementsByTagName("title")[0],(!E||E[as]||E[tn]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=T.createElement(g),T.head.insertBefore(E,T.querySelector("head > title"))),Rn(E,g,d),E[tn]=a,Ut(E),g=E;break e;case"link":var P=Gx("link","href",T).get(g+(d.href||""));if(P){for(var L=0;L<P.length;L++)if(E=P[L],E.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&E.getAttribute("rel")===(d.rel==null?null:d.rel)&&E.getAttribute("title")===(d.title==null?null:d.title)&&E.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){P.splice(L,1);break t}}E=T.createElement(g),Rn(E,g,d),T.head.appendChild(E);break;case"meta":if(P=Gx("meta","content",T).get(g+(d.content||""))){for(L=0;L<P.length;L++)if(E=P[L],E.getAttribute("content")===(d.content==null?null:""+d.content)&&E.getAttribute("name")===(d.name==null?null:d.name)&&E.getAttribute("property")===(d.property==null?null:d.property)&&E.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&E.getAttribute("charset")===(d.charSet==null?null:d.charSet)){P.splice(L,1);break t}}E=T.createElement(g),Rn(E,g,d),T.head.appendChild(E);break;default:throw Error(r(468,g))}E[tn]=a,Ut(E),g=E}a.stateNode=g}else Kx(T,a.type,a.stateNode);else a.stateNode=zx(T,g,a.memoizedProps);else E!==g?(E===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):E.count--,g===null?Kx(T,a.type,a.stateNode):zx(T,g,a.memoizedProps)):g===null&&a.stateNode!==null&&Ov(a,a.memoizedProps,d.memoizedProps)}break;case 27:dr(l,a),hr(a),g&512&&(qt||d===null||Mi(d,d.return)),d!==null&&g&4&&Ov(a,a.memoizedProps,d.memoizedProps);break;case 5:if(dr(l,a),hr(a),g&512&&(qt||d===null||Mi(d,d.return)),a.flags&32){T=a.stateNode;try{Mr(T,"")}catch(te){yt(a,a.return,te)}}g&4&&a.stateNode!=null&&(T=a.memoizedProps,Ov(a,T,d!==null?d.memoizedProps:T)),g&1024&&(Vv=!0);break;case 6:if(dr(l,a),hr(a),g&4){if(a.stateNode===null)throw Error(r(162));g=a.memoizedProps,d=a.stateNode;try{d.nodeValue=g}catch(te){yt(a,a.return,te)}}break;case 3:if(vp=null,T=ii,ii=gp(l.containerInfo),dr(l,a),ii=T,hr(a),g&4&&d!==null&&d.memoizedState.isDehydrated)try{If(l.containerInfo)}catch(te){yt(a,a.return,te)}Vv&&(Vv=!1,XC(a));break;case 4:g=ii,ii=gp(a.stateNode.containerInfo),dr(l,a),hr(a),ii=g;break;case 12:dr(l,a),hr(a);break;case 13:dr(l,a),hr(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(zv=zt()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Uv(a,g)));break;case 22:T=a.memoizedState!==null;var K=d!==null&&d.memoizedState!==null,X=go,ie=qt;if(go=X||T,qt=ie||K,dr(l,a),qt=ie,go=X,hr(a),g&8192)e:for(l=a.stateNode,l._visibility=T?l._visibility&-2:l._visibility|1,T&&(d===null||K||go||qt||Ds(a)),d=null,l=a;;){if(l.tag===5||l.tag===26){if(d===null){K=d=l;try{if(E=K.stateNode,T)P=E.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{L=K.stateNode;var le=K.memoizedProps.style,ee=le!=null&&le.hasOwnProperty("display")?le.display:null;L.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){yt(K,K.return,te)}}}else if(l.tag===6){if(d===null){K=l;try{K.stateNode.nodeValue=T?"":K.memoizedProps}catch(te){yt(K,K.return,te)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=a.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,Uv(a,d))));break;case 19:dr(l,a),hr(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Uv(a,g)));break;case 30:break;case 21:break;default:dr(l,a),hr(a)}}function hr(a){var l=a.flags;if(l&2){try{for(var d,g=a.return;g!==null;){if(zC(g)){d=g;break}g=g.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var T=d.stateNode,E=kv(a);rp(a,E,T);break;case 5:var P=d.stateNode;d.flags&32&&(Mr(P,""),d.flags&=-33);var L=kv(a);rp(a,L,P);break;case 3:case 4:var K=d.stateNode.containerInfo,X=kv(a);Lv(a,X,K);break;default:throw Error(r(161))}}catch(ie){yt(a,a.return,ie)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function XC(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;XC(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function ua(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)jC(a,l.alternate,l),l=l.sibling}function Ds(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:la(4,l,l.return),Ds(l);break;case 1:Mi(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&$C(l,l.return,d),Ds(l);break;case 27:Tf(l.stateNode);case 26:case 5:Mi(l,l.return),Ds(l);break;case 22:l.memoizedState===null&&Ds(l);break;case 30:Ds(l);break;default:Ds(l)}a=a.sibling}}function ca(a,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,T=a,E=l,P=E.flags;switch(E.tag){case 0:case 11:case 15:ca(T,E,d),cf(4,E);break;case 1:if(ca(T,E,d),g=E,T=g.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(X){yt(g,g.return,X)}if(g=E,T=g.updateQueue,T!==null){var L=g.stateNode;try{var K=T.shared.hiddenCallbacks;if(K!==null)for(T.shared.hiddenCallbacks=null,T=0;T<K.length;T++)xb(K[T],L)}catch(X){yt(g,g.return,X)}}d&&P&64&&FC(E),ff(E,E.return);break;case 27:GC(E);case 26:case 5:ca(T,E,d),d&&g===null&&P&4&&HC(E),ff(E,E.return);break;case 12:ca(T,E,d);break;case 13:ca(T,E,d),d&&P&4&&JC(T,E);break;case 22:E.memoizedState===null&&ca(T,E,d),ff(E,E.return);break;case 30:break;default:ca(T,E,d)}l=l.sibling}}function Bv(a,l){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&Wc(d))}function qv(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Wc(a))}function Di(a,l,d,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)ZC(a,l,d,g),l=l.sibling}function ZC(a,l,d,g){var T=l.flags;switch(l.tag){case 0:case 11:case 15:Di(a,l,d,g),T&2048&&cf(9,l);break;case 1:Di(a,l,d,g);break;case 3:Di(a,l,d,g),T&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Wc(a)));break;case 12:if(T&2048){Di(a,l,d,g),a=l.stateNode;try{var E=l.memoizedProps,P=E.id,L=E.onPostCommit;typeof L=="function"&&L(P,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(K){yt(l,l.return,K)}}else Di(a,l,d,g);break;case 13:Di(a,l,d,g);break;case 23:break;case 22:E=l.stateNode,P=l.alternate,l.memoizedState!==null?E._visibility&2?Di(a,l,d,g):df(a,l):E._visibility&2?Di(a,l,d,g):(E._visibility|=2,Zl(a,l,d,g,(l.subtreeFlags&10256)!==0)),T&2048&&Bv(P,l);break;case 24:Di(a,l,d,g),T&2048&&qv(l.alternate,l);break;default:Di(a,l,d,g)}}function Zl(a,l,d,g,T){for(T=T&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var E=a,P=l,L=d,K=g,X=P.flags;switch(P.tag){case 0:case 11:case 15:Zl(E,P,L,K,T),cf(8,P);break;case 23:break;case 22:var ie=P.stateNode;P.memoizedState!==null?ie._visibility&2?Zl(E,P,L,K,T):df(E,P):(ie._visibility|=2,Zl(E,P,L,K,T)),T&&X&2048&&Bv(P.alternate,P);break;case 24:Zl(E,P,L,K,T),T&&X&2048&&qv(P.alternate,P);break;default:Zl(E,P,L,K,T)}l=l.sibling}}function df(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=a,g=l,T=g.flags;switch(g.tag){case 22:df(d,g),T&2048&&Bv(g.alternate,g);break;case 24:df(d,g),T&2048&&qv(g.alternate,g);break;default:df(d,g)}l=l.sibling}}var hf=8192;function eu(a){if(a.subtreeFlags&hf)for(a=a.child;a!==null;)ex(a),a=a.sibling}function ex(a){switch(a.tag){case 26:eu(a),a.flags&hf&&a.memoizedState!==null&&vq(ii,a.memoizedState,a.memoizedProps);break;case 5:eu(a);break;case 3:case 4:var l=ii;ii=gp(a.stateNode.containerInfo),eu(a),ii=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=hf,hf=16777216,eu(a),hf=l):eu(a));break;default:eu(a)}}function tx(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function pf(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];yn=g,rx(g,a)}tx(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)nx(a),a=a.sibling}function nx(a){switch(a.tag){case 0:case 11:case 15:pf(a),a.flags&2048&&la(9,a,a.return);break;case 3:pf(a);break;case 12:pf(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,ip(a)):pf(a);break;default:pf(a)}}function ip(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];yn=g,rx(g,a)}tx(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:la(8,l,l.return),ip(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,ip(l));break;default:ip(l)}a=a.sibling}}function rx(a,l){for(;yn!==null;){var d=yn;switch(d.tag){case 0:case 11:case 15:la(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Wc(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,yn=g;else e:for(d=a;yn!==null;){g=yn;var T=g.sibling,E=g.return;if(YC(g),g===d){yn=null;break e}if(T!==null){T.return=E,yn=T;break e}yn=E}}}var OB={getCacheForType:function(a){var l=Vn(on),d=l.data.get(a);return d===void 0&&(d=a(),l.data.set(a,d)),d}},kB=typeof WeakMap=="function"?WeakMap:Map,st=0,_t=null,ze=null,Xe=0,lt=0,pr=null,fa=!1,tu=!1,Fv=!1,vo=0,kt=0,da=0,Ns=0,$v=0,qr=0,nu=0,mf=null,er=null,Hv=!1,zv=0,op=1/0,ap=null,ha=null,In=0,pa=null,ru=null,iu=0,Gv=0,Kv=null,ix=null,gf=0,jv=null;function mr(){if((st&2)!==0&&Xe!==0)return Xe&-Xe;if(Z.T!==null){var a=Gl;return a!==0?a:e0()}return Wo()}function ox(){qr===0&&(qr=(Xe&536870912)===0||nt?wc():536870912);var a=Br.current;return a!==null&&(a.flags|=32),qr}function gr(a,l,d){(a===_t&&(lt===2||lt===9)||a.cancelPendingCommit!==null)&&(ou(a,0),ma(a,Xe,qr,!1)),Wi(a,d),((st&2)===0||a!==_t)&&(a===_t&&((st&2)===0&&(Ns|=d),kt===4&&ma(a,Xe,qr,!1)),Ni(a))}function ax(a,l,d){if((st&6)!==0)throw Error(r(327));var g=!d&&(l&124)===0&&(l&a.expiredLanes)===0||os(a,l),T=g?UB(a,l):Jv(a,l,!0),E=g;do{if(T===0){tu&&!g&&ma(a,l,0,!1);break}else{if(d=a.current.alternate,E&&!LB(d)){T=Jv(a,l,!1),E=!1;continue}if(T===2){if(E=l,a.errorRecoveryDisabledLanes&E)var P=0;else P=a.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){l=P;e:{var L=a;T=mf;var K=L.current.memoizedState.isDehydrated;if(K&&(ou(L,P).flags|=256),P=Jv(L,P,!1),P!==2){if(Fv&&!K){L.errorRecoveryDisabledLanes|=E,Ns|=E,T=4;break e}E=er,er=T,E!==null&&(er===null?er=E:er.push.apply(er,E))}T=P}if(E=!1,T!==2)continue}}if(T===1){ou(a,0),ma(a,l,0,!0);break}e:{switch(g=a,E=T,E){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:ma(g,l,qr,!fa);break e;case 2:er=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(T=zv+300-zt(),10<T)){if(ma(g,l,qr,!fa),Sl(g,0,!0)!==0)break e;g.timeoutHandle=kx(sx.bind(null,g,d,er,ap,Hv,l,qr,Ns,nu,fa,E,2,-0,0),T);break e}sx(g,d,er,ap,Hv,l,qr,Ns,nu,fa,E,0,-0,0)}}break}while(!0);Ni(a)}function sx(a,l,d,g,T,E,P,L,K,X,ie,le,ee,te){if(a.timeoutHandle=-1,le=l.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(Af={stylesheets:null,count:0,unsuspend:yq},ex(l),le=_q(),le!==null)){a.cancelPendingCommit=le(px.bind(null,a,l,E,d,g,T,P,L,K,ie,1,ee,te)),ma(a,E,P,!X);return}px(a,l,E,d,g,T,P,L,K)}function LB(a){for(var l=a;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var T=d[g],E=T.getSnapshot;T=T.value;try{if(!cr(E(),T))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ma(a,l,d,g){l&=~$v,l&=~Ns,a.suspendedLanes|=l,a.pingedLanes&=~l,g&&(a.warmLanes|=l),g=a.expirationTimes;for(var T=l;0<T;){var E=31-Ln(T),P=1<<E;g[E]=-1,T&=~P}d!==0&&vi(a,d,l)}function sp(){return(st&6)===0?(yf(0),!1):!0}function Yv(){if(ze!==null){if(lt===0)var a=ze.return;else a=ze,uo=xs=null,fv(a),Ql=null,sf=0,a=ze;for(;a!==null;)qC(a.alternate,a),a=a.return;ze=null}}function ou(a,l){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,eq(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),Yv(),_t=a,ze=d=ao(a.current,null),Xe=l,lt=0,pr=null,fa=!1,tu=os(a,l),Fv=!1,nu=qr=$v=Ns=da=kt=0,er=mf=null,Hv=!1,(l&8)!==0&&(l|=l&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=l;0<g;){var T=31-Ln(g),E=1<<T;l|=a[T],g&=~E}return vo=l,Rh(),d}function lx(a,l){$e=null,Z.H=Yh,l===Qc||l===Uh?(l=bb(),lt=3):l===Sb?(l=bb(),lt=4):lt=l===CC?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,pr=l,ze===null&&(kt=1,Zh(a,kr(l,a.current)))}function ux(){var a=Z.H;return Z.H=Yh,a===null?Yh:a}function cx(){var a=Z.A;return Z.A=OB,a}function Wv(){kt=4,fa||(Xe&4194048)!==Xe&&Br.current!==null||(tu=!0),(da&134217727)===0&&(Ns&134217727)===0||_t===null||ma(_t,Xe,qr,!1)}function Jv(a,l,d){var g=st;st|=2;var T=ux(),E=cx();(_t!==a||Xe!==l)&&(ap=null,ou(a,l)),l=!1;var P=kt;e:do try{if(lt!==0&&ze!==null){var L=ze,K=pr;switch(lt){case 8:Yv(),P=6;break e;case 3:case 2:case 9:case 6:Br.current===null&&(l=!0);var X=lt;if(lt=0,pr=null,au(a,L,K,X),d&&tu){P=0;break e}break;default:X=lt,lt=0,pr=null,au(a,L,K,X)}}VB(),P=kt;break}catch(ie){lx(a,ie)}while(!0);return l&&a.shellSuspendCounter++,uo=xs=null,st=g,Z.H=T,Z.A=E,ze===null&&(_t=null,Xe=0,Rh()),P}function VB(){for(;ze!==null;)fx(ze)}function UB(a,l){var d=st;st|=2;var g=ux(),T=cx();_t!==a||Xe!==l?(ap=null,op=zt()+500,ou(a,l)):tu=os(a,l);e:do try{if(lt!==0&&ze!==null){l=ze;var E=pr;t:switch(lt){case 1:lt=0,pr=null,au(a,l,E,1);break;case 2:case 9:if(Ab(E)){lt=0,pr=null,dx(l);break}l=function(){lt!==2&&lt!==9||_t!==a||(lt=7),Ni(a)},E.then(l,l);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:Ab(E)?(lt=0,pr=null,dx(l)):(lt=0,pr=null,au(a,l,E,7));break;case 5:var P=null;switch(ze.tag){case 26:P=ze.memoizedState;case 5:case 27:var L=ze;if(!P||jx(P)){lt=0,pr=null;var K=L.sibling;if(K!==null)ze=K;else{var X=L.return;X!==null?(ze=X,lp(X)):ze=null}break t}}lt=0,pr=null,au(a,l,E,5);break;case 6:lt=0,pr=null,au(a,l,E,6);break;case 8:Yv(),kt=6;break e;default:throw Error(r(462))}}BB();break}catch(ie){lx(a,ie)}while(!0);return uo=xs=null,Z.H=g,Z.A=T,st=d,ze!==null?0:(_t=null,Xe=0,Rh(),kt)}function BB(){for(;ze!==null&&!en();)fx(ze)}function fx(a){var l=UC(a.alternate,a,vo);a.memoizedProps=a.pendingProps,l===null?lp(a):ze=l}function dx(a){var l=a,d=l.alternate;switch(l.tag){case 15:case 0:l=DC(d,l,l.pendingProps,l.type,void 0,Xe);break;case 11:l=DC(d,l,l.pendingProps,l.type.render,l.ref,Xe);break;case 5:fv(l);default:qC(d,l),l=ze=hb(l,vo),l=UC(d,l,vo)}a.memoizedProps=a.pendingProps,l===null?lp(a):ze=l}function au(a,l,d,g){uo=xs=null,fv(l),Ql=null,sf=0;var T=l.return;try{if(IB(a,T,l,d,Xe)){kt=1,Zh(a,kr(d,a.current)),ze=null;return}}catch(E){if(T!==null)throw ze=T,E;kt=1,Zh(a,kr(d,a.current)),ze=null;return}l.flags&32768?(nt||g===1?a=!0:tu||(Xe&536870912)!==0?a=!1:(fa=a=!0,(g===2||g===9||g===3||g===6)&&(g=Br.current,g!==null&&g.tag===13&&(g.flags|=16384))),hx(l,a)):lp(l)}function lp(a){var l=a;do{if((l.flags&32768)!==0){hx(l,fa);return}a=l.return;var d=PB(l.alternate,l,vo);if(d!==null){ze=d;return}if(l=l.sibling,l!==null){ze=l;return}ze=l=a}while(l!==null);kt===0&&(kt=5)}function hx(a,l){do{var d=MB(a.alternate,a);if(d!==null){d.flags&=32767,ze=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(a=a.sibling,a!==null)){ze=a;return}ze=a=d}while(a!==null);kt=6,ze=null}function px(a,l,d,g,T,E,P,L,K){a.cancelPendingCommit=null;do up();while(In!==0);if((st&6)!==0)throw Error(r(327));if(l!==null){if(l===a.current)throw Error(r(177));if(E=l.lanes|l.childLanes,E|=qy,Cc(a,d,E,P,L,K),a===_t&&(ze=_t=null,Xe=0),ru=l,pa=a,iu=d,Gv=E,Kv=T,ix=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,HB(ts,function(){return _x(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=Z.T,Z.T=null,T=de.p,de.p=2,P=st,st|=4;try{DB(a,l,d)}finally{st=P,de.p=T,Z.T=g}}In=1,mx(),gx(),yx()}}function mx(){if(In===1){In=0;var a=pa,l=ru,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=Z.T,Z.T=null;var g=de.p;de.p=2;var T=st;st|=4;try{QC(l,a);var E=l0,P=rb(a.containerInfo),L=E.focusedElem,K=E.selectionRange;if(P!==L&&L&&L.ownerDocument&&nb(L.ownerDocument.documentElement,L)){if(K!==null&&ky(L)){var X=K.start,ie=K.end;if(ie===void 0&&(ie=X),"selectionStart"in L)L.selectionStart=X,L.selectionEnd=Math.min(ie,L.value.length);else{var le=L.ownerDocument||document,ee=le&&le.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),ke=L.textContent.length,Re=Math.min(K.start,ke),mt=K.end===void 0?Re:Math.min(K.end,ke);!te.extend&&Re>mt&&(P=mt,mt=Re,Re=P);var W=tb(L,Re),Y=tb(L,mt);if(W&&Y&&(te.rangeCount!==1||te.anchorNode!==W.node||te.anchorOffset!==W.offset||te.focusNode!==Y.node||te.focusOffset!==Y.offset)){var Q=le.createRange();Q.setStart(W.node,W.offset),te.removeAllRanges(),Re>mt?(te.addRange(Q),te.extend(Y.node,Y.offset)):(Q.setEnd(Y.node,Y.offset),te.addRange(Q))}}}}for(le=[],te=L;te=te.parentNode;)te.nodeType===1&&le.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<le.length;L++){var se=le[L];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Ep=!!s0,l0=s0=null}finally{st=T,de.p=g,Z.T=d}}a.current=l,In=2}}function gx(){if(In===2){In=0;var a=pa,l=ru,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=Z.T,Z.T=null;var g=de.p;de.p=2;var T=st;st|=4;try{jC(a,l.alternate,l)}finally{st=T,de.p=g,Z.T=d}}In=3}}function yx(){if(In===4||In===3){In=0,hn();var a=pa,l=ru,d=iu,g=ix;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?In=5:(In=0,ru=pa=null,vx(a,a.pendingLanes));var T=a.pendingLanes;if(T===0&&(ha=null),Al(d),l=l.stateNode,at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(Nt,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=Z.T,T=de.p,de.p=2,Z.T=null;try{for(var E=a.onRecoverableError,P=0;P<g.length;P++){var L=g[P];E(L.value,{componentStack:L.stack})}}finally{Z.T=l,de.p=T}}(iu&3)!==0&&up(),Ni(a),T=a.pendingLanes,(d&4194090)!==0&&(T&42)!==0?a===jv?gf++:(gf=0,jv=a):gf=0,yf(0)}}function vx(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Wc(l)))}function up(a){return mx(),gx(),yx(),_x()}function _x(){if(In!==5)return!1;var a=pa,l=Gv;Gv=0;var d=Al(iu),g=Z.T,T=de.p;try{de.p=32>d?32:d,Z.T=null,d=Kv,Kv=null;var E=pa,P=iu;if(In=0,ru=pa=null,iu=0,(st&6)!==0)throw Error(r(331));var L=st;if(st|=4,nx(E.current),ZC(E,E.current,P,d),st=L,yf(0,!1),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(Nt,E)}catch{}return!0}finally{de.p=T,Z.T=g,vx(a,l)}}function Tx(a,l,d){l=kr(d,l),l=bv(a.stateNode,l,2),a=ia(a,l,2),a!==null&&(Wi(a,2),Ni(a))}function yt(a,l,d){if(a.tag===3)Tx(a,a,d);else for(;l!==null;){if(l.tag===3){Tx(l,a,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ha===null||!ha.has(g))){a=kr(d,a),d=wC(2),g=ia(l,d,2),g!==null&&(bC(d,g,l,a),Wi(g,2),Ni(g));break}}l=l.return}}function Qv(a,l,d){var g=a.pingCache;if(g===null){g=a.pingCache=new kB;var T=new Set;g.set(l,T)}else T=g.get(l),T===void 0&&(T=new Set,g.set(l,T));T.has(d)||(Fv=!0,T.add(d),a=qB.bind(null,a,l,d),l.then(a,a))}function qB(a,l,d){var g=a.pingCache;g!==null&&g.delete(l),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,_t===a&&(Xe&d)===d&&(kt===4||kt===3&&(Xe&62914560)===Xe&&300>zt()-zv?(st&2)===0&&ou(a,0):$v|=d,nu===Xe&&(nu=0)),Ni(a)}function Ex(a,l){l===0&&(l=bc()),a=Fl(a,l),a!==null&&(Wi(a,l),Ni(a))}function FB(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),Ex(a,d)}function $B(a,l){var d=0;switch(a.tag){case 13:var g=a.stateNode,T=a.memoizedState;T!==null&&(d=T.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(l),Ex(a,d)}function HB(a,l){return Dt(a,l)}var cp=null,su=null,Xv=!1,fp=!1,Zv=!1,Os=0;function Ni(a){a!==su&&a.next===null&&(su===null?cp=su=a:su=su.next=a),fp=!0,Xv||(Xv=!0,GB())}function yf(a,l){if(!Zv&&fp){Zv=!0;do for(var d=!1,g=cp;g!==null;){if(a!==0){var T=g.pendingLanes;if(T===0)var E=0;else{var P=g.suspendedLanes,L=g.pingedLanes;E=(1<<31-Ln(42|a)+1)-1,E&=T&~(P&~L),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(d=!0,bx(g,E))}else E=Xe,E=Sl(g,g===_t?E:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(E&3)===0||os(g,E)||(d=!0,bx(g,E));g=g.next}while(d);Zv=!1}}function zB(){Sx()}function Sx(){fp=Xv=!1;var a=0;Os!==0&&(ZB()&&(a=Os),Os=0);for(var l=zt(),d=null,g=cp;g!==null;){var T=g.next,E=Ax(g,l);E===0?(g.next=null,d===null?cp=T:d.next=T,T===null&&(su=d)):(d=g,(a!==0||(E&3)!==0)&&(fp=!0)),g=T}yf(a)}function Ax(a,l){for(var d=a.suspendedLanes,g=a.pingedLanes,T=a.expirationTimes,E=a.pendingLanes&-62914561;0<E;){var P=31-Ln(E),L=1<<P,K=T[P];K===-1?((L&d)===0||(L&g)!==0)&&(T[P]=Ac(L,l)):K<=l&&(a.expiredLanes|=L),E&=~L}if(l=_t,d=Xe,d=Sl(a,a===l?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,d===0||a===l&&(lt===2||lt===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&We(g),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||os(a,d)){if(l=d&-d,l===a.callbackPriority)return l;switch(g!==null&&We(g),Al(d)){case 2:case 8:d=Tl;break;case 32:d=ts;break;case 268435456:d=El;break;default:d=ts}return g=wx.bind(null,a),d=Dt(d,g),a.callbackPriority=l,a.callbackNode=d,l}return g!==null&&g!==null&&We(g),a.callbackPriority=2,a.callbackNode=null,2}function wx(a,l){if(In!==0&&In!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(up()&&a.callbackNode!==d)return null;var g=Xe;return g=Sl(a,a===_t?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(ax(a,g,l),Ax(a,zt()),a.callbackNode!=null&&a.callbackNode===d?wx.bind(null,a):null)}function bx(a,l){if(up())return null;ax(a,l,!0)}function GB(){tq(function(){(st&6)!==0?Dt(Ec,zB):Sx()})}function e0(){return Os===0&&(Os=wc()),Os}function Cx(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Rl(""+a)}function xx(a,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,a.id&&d.setAttribute("form",a.id),l.parentNode.insertBefore(d,l),a=new FormData(a),d.parentNode.removeChild(d),a}function KB(a,l,d,g,T){if(l==="submit"&&d&&d.stateNode===T){var E=Cx((T[Gt]||null).action),P=g.submitter;P&&(l=(l=P[Gt]||null)?Cx(l.formAction):P.getAttribute("formAction"),l!==null&&(E=l,P=null));var L=new Pl("action","action",null,g,T);a.push({event:L,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Os!==0){var K=P?xx(T,P):new FormData(T);Tv(d,{pending:!0,data:K,method:T.method,action:E},null,K)}}else typeof E=="function"&&(L.preventDefault(),K=P?xx(T,P):new FormData(T),Tv(d,{pending:!0,data:K,method:T.method,action:E},E,K))},currentTarget:T}]})}}for(var t0=0;t0<By.length;t0++){var n0=By[t0],jB=n0.toLowerCase(),YB=n0[0].toUpperCase()+n0.slice(1);ri(jB,"on"+YB)}ri(ab,"onAnimationEnd"),ri(sb,"onAnimationIteration"),ri(lb,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(fB,"onTransitionRun"),ri(dB,"onTransitionStart"),ri(hB,"onTransitionCancel"),ri(ub,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vf));function Ix(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var g=a[d],T=g.event;g=g.listeners;e:{var E=void 0;if(l)for(var P=g.length-1;0<=P;P--){var L=g[P],K=L.instance,X=L.currentTarget;if(L=L.listener,K!==E&&T.isPropagationStopped())break e;E=L,T.currentTarget=X;try{E(T)}catch(ie){Xh(ie)}T.currentTarget=null,E=K}else for(P=0;P<g.length;P++){if(L=g[P],K=L.instance,X=L.currentTarget,L=L.listener,K!==E&&T.isPropagationStopped())break e;E=L,T.currentTarget=X;try{E(T)}catch(ie){Xh(ie)}T.currentTarget=null,E=K}}}}function Ge(a,l){var d=l[Ic];d===void 0&&(d=l[Ic]=new Set);var g=a+"__bubble";d.has(g)||(Rx(l,a,2,!1),d.add(g))}function r0(a,l,d){var g=0;l&&(g|=4),Rx(d,a,g,l)}var dp="_reactListening"+Math.random().toString(36).slice(2);function i0(a){if(!a[dp]){a[dp]=!0,Rc.forEach(function(d){d!=="selectionchange"&&(WB.has(d)||r0(d,!1,a),r0(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[dp]||(l[dp]=!0,r0("selectionchange",!1,l))}}function Rx(a,l,d,g){switch(Zx(l)){case 2:var T=Sq;break;case 8:T=Aq;break;default:T=v0}d=T.bind(null,l,d,a),T=void 0,!Nr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(T=!0),g?T!==void 0?a.addEventListener(l,d,{capture:!0,passive:T}):a.addEventListener(l,d,!0):T!==void 0?a.addEventListener(l,d,{passive:T}):a.addEventListener(l,d,!1)}function o0(a,l,d,g,T){var E=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var P=g.tag;if(P===3||P===4){var L=g.stateNode.containerInfo;if(L===T)break;if(P===4)for(P=g.return;P!==null;){var K=P.tag;if((K===3||K===4)&&P.stateNode.containerInfo===T)return;P=P.return}for(;L!==null;){if(P=Ji(L),P===null)return;if(K=P.tag,K===5||K===6||K===26||K===27){g=E=P;continue e}L=L.parentNode}}g=g.return}ph(function(){var X=E,ie=Dr(d),le=[];e:{var ee=cb.get(a);if(ee!==void 0){var te=Pl,ke=a;switch(a){case"keypress":if(wi(d)===0)break e;case"keydown":case"keyup":te=Ll;break;case"focusin":ke="focus",te=Nl;break;case"focusout":ke="blur",te=Nl;break;case"beforeblur":case"afterblur":te=Nl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Or;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=My;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Sh;break;case ab:case sb:case lb:te=Ol;break;case ub:te=wh;break;case"scroll":case"scrollend":te=mh;break;case"wheel":te=Vl;break;case"copy":case"cut":case"paste":te=kl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Fc;break;case"toggle":case"beforetoggle":te=Ch}var Re=(l&4)!==0,mt=!Re&&(a==="scroll"||a==="scrollend"),W=Re?ee!==null?ee+"Capture":null:ee;Re=[];for(var Y=X,Q;Y!==null;){var se=Y;if(Q=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Q===null||W===null||(se=hs(Y,W),se!=null&&Re.push(_f(Y,se,Q))),mt)break;Y=Y.return}0<Re.length&&(ee=new te(ee,ke,null,d,ie),le.push({event:ee,listeners:Re}))}}if((l&7)===0){e:{if(ee=a==="mouseover"||a==="pointerover",te=a==="mouseout"||a==="pointerout",ee&&d!==eo&&(ke=d.relatedTarget||d.fromElement)&&(Ji(ke)||ke[Pr]))break e;if((te||ee)&&(ee=ie.window===ie?ie:(ee=ie.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(ke=d.relatedTarget||d.toElement,te=X,ke=ke?Ji(ke):null,ke!==null&&(mt=o(ke),Re=ke.tag,ke!==mt||Re!==5&&Re!==27&&Re!==6)&&(ke=null)):(te=null,ke=X),te!==ke)){if(Re=Or,se="onMouseLeave",W="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(Re=Fc,se="onPointerLeave",W="onPointerEnter",Y="pointer"),mt=te==null?ee:Ti(te),Q=ke==null?ee:Ti(ke),ee=new Re(se,Y+"leave",te,d,ie),ee.target=mt,ee.relatedTarget=Q,se=null,Ji(ie)===X&&(Re=new Re(W,Y+"enter",ke,d,ie),Re.target=Q,Re.relatedTarget=mt,se=Re),mt=se,te&&ke)t:{for(Re=te,W=ke,Y=0,Q=Re;Q;Q=lu(Q))Y++;for(Q=0,se=W;se;se=lu(se))Q++;for(;0<Y-Q;)Re=lu(Re),Y--;for(;0<Q-Y;)W=lu(W),Q--;for(;Y--;){if(Re===W||W!==null&&Re===W.alternate)break t;Re=lu(Re),W=lu(W)}Re=null}else Re=null;te!==null&&Px(le,ee,te,Re,!1),ke!==null&&mt!==null&&Px(le,mt,ke,Re,!0)}}e:{if(ee=X?Ti(X):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var Ee=Ww;else if(rn(ee))if(Jw)Ee=lB;else{Ee=aB;var He=oB}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?X&&Oc(X.elementType)&&(Ee=Ww):Ee=sB;if(Ee&&(Ee=Ee(a,X))){oo(le,Ee,d,ie);break e}He&&He(a,ee,X),a==="focusout"&&X&&ee.type==="number"&&X.memoizedProps.value!=null&&Zo(ee,"number",ee.value)}switch(He=X?Ti(X):window,a){case"focusin":(rn(He)||He.contentEditable==="true")&&(Ul=He,Ly=X,zc=null);break;case"focusout":zc=Ly=Ul=null;break;case"mousedown":Vy=!0;break;case"contextmenu":case"mouseup":case"dragend":Vy=!1,ib(le,d,ie);break;case"selectionchange":if(cB)break;case"keydown":case"keyup":ib(le,d,ie)}var be;if(xi)e:{switch(a){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Je?ne(a,d)&&(Pe="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Pe="onCompositionStart");Pe&&(x&&d.locale!=="ko"&&(Je||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Je&&(be=Lc()):(Ai=ie,ea="value"in Ai?Ai.value:Ai.textContent,Je=!0)),He=hp(X,Pe),0<He.length&&(Pe=new Bc(Pe,a,null,d,ie),le.push({event:Pe,listeners:He}),be?Pe.data=be:(be=pe(d),be!==null&&(Pe.data=be)))),(be=b?nn(a,d):Qe(a,d))&&(Pe=hp(X,"onBeforeInput"),0<Pe.length&&(He=new Bc("onBeforeInput","beforeinput",null,d,ie),le.push({event:He,listeners:Pe}),He.data=be)),KB(le,a,X,d,ie)}Ix(le,l)})}function _f(a,l,d){return{instance:a,listener:l,currentTarget:d}}function hp(a,l){for(var d=l+"Capture",g=[];a!==null;){var T=a,E=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||E===null||(T=hs(a,d),T!=null&&g.unshift(_f(a,T,E)),T=hs(a,l),T!=null&&g.push(_f(a,T,E))),a.tag===3)return g;a=a.return}return[]}function lu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Px(a,l,d,g,T){for(var E=l._reactName,P=[];d!==null&&d!==g;){var L=d,K=L.alternate,X=L.stateNode;if(L=L.tag,K!==null&&K===g)break;L!==5&&L!==26&&L!==27||X===null||(K=X,T?(X=hs(d,E),X!=null&&P.unshift(_f(d,X,K))):T||(X=hs(d,E),X!=null&&P.push(_f(d,X,K)))),d=d.return}P.length!==0&&a.push({event:l,listeners:P})}var JB=/\r\n?/g,QB=/\u0000|\uFFFD/g;function Mx(a){return(typeof a=="string"?a:""+a).replace(JB,`
`).replace(QB,"")}function Dx(a,l){return l=Mx(l),Mx(a)===l}function pp(){}function pt(a,l,d,g,T,E){switch(d){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||Mr(a,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&Mr(a,""+g);break;case"className":Ei(a,"class",g);break;case"tabIndex":Ei(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Ei(a,d,g);break;case"style":Nc(a,g,E);break;case"data":if(l!=="object"){Ei(a,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||d!=="href")){a.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=Rl(""+g),a.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(d==="formAction"?(l!=="input"&&pt(a,l,"name",T.name,T,null),pt(a,l,"formEncType",T.formEncType,T,null),pt(a,l,"formMethod",T.formMethod,T,null),pt(a,l,"formTarget",T.formTarget,T,null)):(pt(a,l,"encType",T.encType,T,null),pt(a,l,"method",T.method,T,null),pt(a,l,"target",T.target,T,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=Rl(""+g),a.setAttribute(d,g);break;case"onClick":g!=null&&(a.onclick=pp);break;case"onScroll":g!=null&&Ge("scroll",a);break;case"onScrollEnd":g!=null&&Ge("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(d=g.__html,d!=null){if(T.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}d=Rl(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""+g):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":g===!0?a.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,g):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(d,g):a.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(d):a.setAttribute(d,g);break;case"popover":Ge("beforetoggle",a),Ge("toggle",a),Xo(a,"popover",g);break;case"xlinkActuate":bn(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":bn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":bn(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":bn(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":bn(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":bn(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":bn(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":bn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":bn(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Xo(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Ry.get(d)||d,Xo(a,d,g))}}function a0(a,l,d,g,T,E){switch(d){case"style":Nc(a,g,E);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(d=g.__html,d!=null){if(T.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"children":typeof g=="string"?Mr(a,g):(typeof g=="number"||typeof g=="bigint")&&Mr(a,""+g);break;case"onScroll":g!=null&&Ge("scroll",a);break;case"onScrollEnd":g!=null&&Ge("scrollend",a);break;case"onClick":g!=null&&(a.onclick=pp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wl.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(T=d.endsWith("Capture"),l=d.slice(2,T?d.length-7:void 0),E=a[Gt]||null,E=E!=null?E[d]:null,typeof E=="function"&&a.removeEventListener(l,E,T),typeof g=="function")){typeof E!="function"&&E!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(l,g,T);break e}d in a?a[d]=g:g===!0?a.setAttribute(d,""):Xo(a,d,g)}}}function Rn(a,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",a),Ge("load",a);var g=!1,T=!1,E;for(E in d)if(d.hasOwnProperty(E)){var P=d[E];if(P!=null)switch(E){case"src":g=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:pt(a,l,E,P,d,null)}}T&&pt(a,l,"srcSet",d.srcSet,d,null),g&&pt(a,l,"src",d.src,d,null);return;case"input":Ge("invalid",a);var L=E=P=T=null,K=null,X=null;for(g in d)if(d.hasOwnProperty(g)){var ie=d[g];if(ie!=null)switch(g){case"name":T=ie;break;case"type":P=ie;break;case"checked":K=ie;break;case"defaultChecked":X=ie;break;case"value":E=ie;break;case"defaultValue":L=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,l));break;default:pt(a,l,g,ie,d,null)}}cs(a,E,L,K,X,P,T,!1),Il(a);return;case"select":Ge("invalid",a),g=P=E=null;for(T in d)if(d.hasOwnProperty(T)&&(L=d[T],L!=null))switch(T){case"value":E=L;break;case"defaultValue":P=L;break;case"multiple":g=L;default:pt(a,l,T,L,d,null)}l=E,d=P,a.multiple=!!g,l!=null?Zi(a,!!g,l,!1):d!=null&&Zi(a,!!g,d,!0);return;case"textarea":Ge("invalid",a),E=T=g=null;for(P in d)if(d.hasOwnProperty(P)&&(L=d[P],L!=null))switch(P){case"value":g=L;break;case"defaultValue":T=L;break;case"children":E=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:pt(a,l,P,L,d,null)}fs(a,g,T,E),Il(a);return;case"option":for(K in d)if(d.hasOwnProperty(K)&&(g=d[K],g!=null))switch(K){case"selected":a.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:pt(a,l,K,g,d,null)}return;case"dialog":Ge("beforetoggle",a),Ge("toggle",a),Ge("cancel",a),Ge("close",a);break;case"iframe":case"object":Ge("load",a);break;case"video":case"audio":for(g=0;g<vf.length;g++)Ge(vf[g],a);break;case"image":Ge("error",a),Ge("load",a);break;case"details":Ge("toggle",a);break;case"embed":case"source":case"link":Ge("error",a),Ge("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in d)if(d.hasOwnProperty(X)&&(g=d[X],g!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:pt(a,l,X,g,d,null)}return;default:if(Oc(l)){for(ie in d)d.hasOwnProperty(ie)&&(g=d[ie],g!==void 0&&a0(a,l,ie,g,d,void 0));return}}for(L in d)d.hasOwnProperty(L)&&(g=d[L],g!=null&&pt(a,l,L,g,d,null))}function XB(a,l,d,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,E=null,P=null,L=null,K=null,X=null,ie=null;for(te in d){var le=d[te];if(d.hasOwnProperty(te)&&le!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":K=le;default:g.hasOwnProperty(te)||pt(a,l,te,null,g,le)}}for(var ee in g){var te=g[ee];if(le=d[ee],g.hasOwnProperty(ee)&&(te!=null||le!=null))switch(ee){case"type":E=te;break;case"name":T=te;break;case"checked":X=te;break;case"defaultChecked":ie=te;break;case"value":P=te;break;case"defaultValue":L=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,l));break;default:te!==le&&pt(a,l,ee,te,g,le)}}ur(a,P,L,K,X,ie,E,T);return;case"select":te=P=L=ee=null;for(E in d)if(K=d[E],d.hasOwnProperty(E)&&K!=null)switch(E){case"value":break;case"multiple":te=K;default:g.hasOwnProperty(E)||pt(a,l,E,null,g,K)}for(T in g)if(E=g[T],K=d[T],g.hasOwnProperty(T)&&(E!=null||K!=null))switch(T){case"value":ee=E;break;case"defaultValue":L=E;break;case"multiple":P=E;default:E!==K&&pt(a,l,T,E,g,K)}l=L,d=P,g=te,ee!=null?Zi(a,!!d,ee,!1):!!g!=!!d&&(l!=null?Zi(a,!!d,l,!0):Zi(a,!!d,d?[]:"",!1));return;case"textarea":te=ee=null;for(L in d)if(T=d[L],d.hasOwnProperty(L)&&T!=null&&!g.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:pt(a,l,L,null,g,T)}for(P in g)if(T=g[P],E=d[P],g.hasOwnProperty(P)&&(T!=null||E!=null))switch(P){case"value":ee=T;break;case"defaultValue":te=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:T!==E&&pt(a,l,P,T,g,E)}dt(a,ee,te);return;case"option":for(var ke in d)if(ee=d[ke],d.hasOwnProperty(ke)&&ee!=null&&!g.hasOwnProperty(ke))switch(ke){case"selected":a.selected=!1;break;default:pt(a,l,ke,null,g,ee)}for(K in g)if(ee=g[K],te=d[K],g.hasOwnProperty(K)&&ee!==te&&(ee!=null||te!=null))switch(K){case"selected":a.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:pt(a,l,K,ee,g,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in d)ee=d[Re],d.hasOwnProperty(Re)&&ee!=null&&!g.hasOwnProperty(Re)&&pt(a,l,Re,null,g,ee);for(X in g)if(ee=g[X],te=d[X],g.hasOwnProperty(X)&&ee!==te&&(ee!=null||te!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,l));break;default:pt(a,l,X,ee,g,te)}return;default:if(Oc(l)){for(var mt in d)ee=d[mt],d.hasOwnProperty(mt)&&ee!==void 0&&!g.hasOwnProperty(mt)&&a0(a,l,mt,void 0,g,ee);for(ie in g)ee=g[ie],te=d[ie],!g.hasOwnProperty(ie)||ee===te||ee===void 0&&te===void 0||a0(a,l,ie,ee,g,te);return}}for(var W in d)ee=d[W],d.hasOwnProperty(W)&&ee!=null&&!g.hasOwnProperty(W)&&pt(a,l,W,null,g,ee);for(le in g)ee=g[le],te=d[le],!g.hasOwnProperty(le)||ee===te||ee==null&&te==null||pt(a,l,le,ee,g,te)}var s0=null,l0=null;function mp(a){return a.nodeType===9?a:a.ownerDocument}function Nx(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ox(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function u0(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var c0=null;function ZB(){var a=window.event;return a&&a.type==="popstate"?a===c0?!1:(c0=a,!0):(c0=null,!1)}var kx=typeof setTimeout=="function"?setTimeout:void 0,eq=typeof clearTimeout=="function"?clearTimeout:void 0,Lx=typeof Promise=="function"?Promise:void 0,tq=typeof queueMicrotask=="function"?queueMicrotask:typeof Lx<"u"?function(a){return Lx.resolve(null).then(a).catch(nq)}:kx;function nq(a){setTimeout(function(){throw a})}function ga(a){return a==="head"}function Vx(a,l){var d=l,g=0,T=0;do{var E=d.nextSibling;if(a.removeChild(d),E&&E.nodeType===8)if(d=E.data,d==="/$"){if(0<g&&8>g){d=g;var P=a.ownerDocument;if(d&1&&Tf(P.documentElement),d&2&&Tf(P.body),d&4)for(d=P.head,Tf(d),P=d.firstChild;P;){var L=P.nextSibling,K=P.nodeName;P[as]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&P.rel.toLowerCase()==="stylesheet"||d.removeChild(P),P=L}}if(T===0){a.removeChild(E),If(l);return}T--}else d==="$"||d==="$?"||d==="$!"?T++:g=d.charCodeAt(0)-48;else g=0;d=E}while(d);If(l)}function f0(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":f0(d),Qo(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function rq(a,l,d,g){for(;a.nodeType===1;){var T=d;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[as])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(E=a.getAttribute("rel"),E==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(E!==T.rel||a.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||a.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||a.getAttribute("title")!==(T.title==null?null:T.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(E=a.getAttribute("src"),(E!==(T.src==null?null:T.src)||a.getAttribute("type")!==(T.type==null?null:T.type)||a.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&E&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var E=T.name==null?null:""+T.name;if(T.type==="hidden"&&a.getAttribute("name")===E)return a}else return a;if(a=oi(a.nextSibling),a===null)break}return null}function iq(a,l,d){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=oi(a.nextSibling),a===null))return null;return a}function d0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function oq(a,l){var d=a.ownerDocument;if(a.data!=="$?"||d.readyState==="complete")l();else{var g=function(){l(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function oi(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var h0=null;function Ux(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return a;l--}else d==="/$"&&l++}a=a.previousSibling}return null}function Bx(a,l,d){switch(l=mp(d),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Tf(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);Qo(a)}var Fr=new Map,qx=new Set;function gp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var _o=de.d;de.d={f:aq,r:sq,D:lq,C:uq,L:cq,m:fq,X:hq,S:dq,M:pq};function aq(){var a=_o.f(),l=sp();return a||l}function sq(a){var l=_i(a);l!==null&&l.tag===5&&l.type==="form"?aC(l):_o.r(a)}var uu=typeof document>"u"?null:document;function Fx(a,l,d){var g=uu;if(g&&typeof l=="string"&&l){var T=Kt(l);T='link[rel="'+a+'"][href="'+T+'"]',typeof d=="string"&&(T+='[crossorigin="'+d+'"]'),qx.has(T)||(qx.add(T),a={rel:a,crossOrigin:d,href:l},g.querySelector(T)===null&&(l=g.createElement("link"),Rn(l,"link",a),Ut(l),g.head.appendChild(l)))}}function lq(a){_o.D(a),Fx("dns-prefetch",a,null)}function uq(a,l){_o.C(a,l),Fx("preconnect",a,l)}function cq(a,l,d){_o.L(a,l,d);var g=uu;if(g&&a&&l){var T='link[rel="preload"][as="'+Kt(l)+'"]';l==="image"&&d&&d.imageSrcSet?(T+='[imagesrcset="'+Kt(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(T+='[imagesizes="'+Kt(d.imageSizes)+'"]')):T+='[href="'+Kt(a)+'"]';var E=T;switch(l){case"style":E=cu(a);break;case"script":E=fu(a)}Fr.has(E)||(a=h({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:a,as:l},d),Fr.set(E,a),g.querySelector(T)!==null||l==="style"&&g.querySelector(Ef(E))||l==="script"&&g.querySelector(Sf(E))||(l=g.createElement("link"),Rn(l,"link",a),Ut(l),g.head.appendChild(l)))}}function fq(a,l){_o.m(a,l);var d=uu;if(d&&a){var g=l&&typeof l.as=="string"?l.as:"script",T='link[rel="modulepreload"][as="'+Kt(g)+'"][href="'+Kt(a)+'"]',E=T;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=fu(a)}if(!Fr.has(E)&&(a=h({rel:"modulepreload",href:a},l),Fr.set(E,a),d.querySelector(T)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Sf(E)))return}g=d.createElement("link"),Rn(g,"link",a),Ut(g),d.head.appendChild(g)}}}function dq(a,l,d){_o.S(a,l,d);var g=uu;if(g&&a){var T=Kn(g).hoistableStyles,E=cu(a);l=l||"default";var P=T.get(E);if(!P){var L={loading:0,preload:null};if(P=g.querySelector(Ef(E)))L.loading=5;else{a=h({rel:"stylesheet",href:a,"data-precedence":l},d),(d=Fr.get(E))&&p0(a,d);var K=P=g.createElement("link");Ut(K),Rn(K,"link",a),K._p=new Promise(function(X,ie){K.onload=X,K.onerror=ie}),K.addEventListener("load",function(){L.loading|=1}),K.addEventListener("error",function(){L.loading|=2}),L.loading|=4,yp(P,l,g)}P={type:"stylesheet",instance:P,count:1,state:L},T.set(E,P)}}}function hq(a,l){_o.X(a,l);var d=uu;if(d&&a){var g=Kn(d).hoistableScripts,T=fu(a),E=g.get(T);E||(E=d.querySelector(Sf(T)),E||(a=h({src:a,async:!0},l),(l=Fr.get(T))&&m0(a,l),E=d.createElement("script"),Ut(E),Rn(E,"link",a),d.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(T,E))}}function pq(a,l){_o.M(a,l);var d=uu;if(d&&a){var g=Kn(d).hoistableScripts,T=fu(a),E=g.get(T);E||(E=d.querySelector(Sf(T)),E||(a=h({src:a,async:!0,type:"module"},l),(l=Fr.get(T))&&m0(a,l),E=d.createElement("script"),Ut(E),Rn(E,"link",a),d.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(T,E))}}function $x(a,l,d,g){var T=(T=Oe.current)?gp(T):null;if(!T)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=cu(d.href),d=Kn(T).hoistableStyles,g=d.get(l),g||(g={type:"style",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=cu(d.href);var E=Kn(T).hoistableStyles,P=E.get(a);if(P||(T=T.ownerDocument||T,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(a,P),(E=T.querySelector(Ef(a)))&&!E._p&&(P.instance=E,P.state.loading=5),Fr.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Fr.set(a,d),E||mq(T,a,d,P.state))),l&&g===null)throw Error(r(528,""));return P}if(l&&g!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=fu(d),d=Kn(T).hoistableScripts,g=d.get(l),g||(g={type:"script",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function cu(a){return'href="'+Kt(a)+'"'}function Ef(a){return'link[rel="stylesheet"]['+a+"]"}function Hx(a){return h({},a,{"data-precedence":a.precedence,precedence:null})}function mq(a,l,d,g){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=a.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),Rn(l,"link",d),Ut(l),a.head.appendChild(l))}function fu(a){return'[src="'+Kt(a)+'"]'}function Sf(a){return"script[async]"+a}function zx(a,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var g=a.querySelector('style[data-href~="'+Kt(d.href)+'"]');if(g)return l.instance=g,Ut(g),g;var T=h({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),Ut(g),Rn(g,"style",T),yp(g,d.precedence,a),l.instance=g;case"stylesheet":T=cu(d.href);var E=a.querySelector(Ef(T));if(E)return l.state.loading|=4,l.instance=E,Ut(E),E;g=Hx(d),(T=Fr.get(T))&&p0(g,T),E=(a.ownerDocument||a).createElement("link"),Ut(E);var P=E;return P._p=new Promise(function(L,K){P.onload=L,P.onerror=K}),Rn(E,"link",g),l.state.loading|=4,yp(E,d.precedence,a),l.instance=E;case"script":return E=fu(d.src),(T=a.querySelector(Sf(E)))?(l.instance=T,Ut(T),T):(g=d,(T=Fr.get(E))&&(g=h({},d),m0(g,T)),a=a.ownerDocument||a,T=a.createElement("script"),Ut(T),Rn(T,"link",g),a.head.appendChild(T),l.instance=T);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,yp(g,d.precedence,a));return l.instance}function yp(a,l,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=g.length?g[g.length-1]:null,E=T,P=0;P<g.length;P++){var L=g[P];if(L.dataset.precedence===l)E=L;else if(E!==T)break}E?E.parentNode.insertBefore(a,E.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(a,l.firstChild))}function p0(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function m0(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var vp=null;function Gx(a,l,d){if(vp===null){var g=new Map,T=vp=new Map;T.set(d,g)}else T=vp,g=T.get(d),g||(g=new Map,T.set(d,g));if(g.has(a))return g;for(g.set(a,null),d=d.getElementsByTagName(a),T=0;T<d.length;T++){var E=d[T];if(!(E[as]||E[tn]||a==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var P=E.getAttribute(l)||"";P=a+P;var L=g.get(P);L?L.push(E):g.set(P,[E])}}return g}function Kx(a,l,d){a=a.ownerDocument||a,a.head.insertBefore(d,l==="title"?a.querySelector("head > title"):null)}function gq(a,l,d){if(d===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function jx(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Af=null;function yq(){}function vq(a,l,d){if(Af===null)throw Error(r(475));var g=Af;if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var T=cu(d.href),E=a.querySelector(Ef(T));if(E){a=E._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(g.count++,g=_p.bind(g),a.then(g,g)),l.state.loading|=4,l.instance=E,Ut(E);return}E=a.ownerDocument||a,d=Hx(d),(T=Fr.get(T))&&p0(d,T),E=E.createElement("link"),Ut(E);var P=E;P._p=new Promise(function(L,K){P.onload=L,P.onerror=K}),Rn(E,"link",d),l.instance=E}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(g.count++,l=_p.bind(g),a.addEventListener("load",l),a.addEventListener("error",l))}}function _q(){if(Af===null)throw Error(r(475));var a=Af;return a.stylesheets&&a.count===0&&g0(a,a.stylesheets),0<a.count?function(l){var d=setTimeout(function(){if(a.stylesheets&&g0(a,a.stylesheets),a.unsuspend){var g=a.unsuspend;a.unsuspend=null,g()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(d)}}:null}function _p(){if(this.count--,this.count===0){if(this.stylesheets)g0(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Tp=null;function g0(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Tp=new Map,l.forEach(Tq,a),Tp=null,_p.call(a))}function Tq(a,l){if(!(l.state.loading&4)){var d=Tp.get(a);if(d)var g=d.get(null);else{d=new Map,Tp.set(a,d);for(var T=a.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<T.length;E++){var P=T[E];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(d.set(P.dataset.precedence,P),g=P)}g&&d.set(null,g)}T=l.instance,P=T.getAttribute("data-precedence"),E=d.get(P)||g,E===g&&d.set(null,T),d.set(P,T),this.count++,g=_p.bind(this),T.addEventListener("load",g),T.addEventListener("error",g),E?E.parentNode.insertBefore(T,E.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(T,a.firstChild)),l.state.loading|=4}}var wf={$$typeof:I,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function Eq(a,l,d,g,T,E,P,L){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yi(0),this.hiddenUpdates=Yi(null),this.identifierPrefix=g,this.onUncaughtError=T,this.onCaughtError=E,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Yx(a,l,d,g,T,E,P,L,K,X,ie,le){return a=new Eq(a,l,d,P,L,K,X,le),l=1,E===!0&&(l|=24),E=fr(3,null,null,l),a.current=E,E.stateNode=a,l=Qy(),l.refCount++,a.pooledCache=l,l.refCount++,E.memoizedState={element:g,isDehydrated:d,cache:l},tv(E),a}function Wx(a){return a?(a=$l,a):$l}function Jx(a,l,d,g,T,E){T=Wx(T),g.context===null?g.context=T:g.pendingContext=T,g=ra(l),g.payload={element:d},E=E===void 0?null:E,E!==null&&(g.callback=E),d=ia(a,g,l),d!==null&&(gr(d,a,l),Zc(d,a,l))}function Qx(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function y0(a,l){Qx(a,l),(a=a.alternate)&&Qx(a,l)}function Xx(a){if(a.tag===13){var l=Fl(a,67108864);l!==null&&gr(l,a,67108864),y0(a,67108864)}}var Ep=!0;function Sq(a,l,d,g){var T=Z.T;Z.T=null;var E=de.p;try{de.p=2,v0(a,l,d,g)}finally{de.p=E,Z.T=T}}function Aq(a,l,d,g){var T=Z.T;Z.T=null;var E=de.p;try{de.p=8,v0(a,l,d,g)}finally{de.p=E,Z.T=T}}function v0(a,l,d,g){if(Ep){var T=_0(g);if(T===null)o0(a,l,g,Sp,d),e1(a,g);else if(bq(T,a,l,d,g))g.stopPropagation();else if(e1(a,g),l&4&&-1<wq.indexOf(a)){for(;T!==null;){var E=_i(T);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var P=ei(E.pendingLanes);if(P!==0){var L=E;for(L.pendingLanes|=2,L.entangledLanes|=2;P;){var K=1<<31-Ln(P);L.entanglements[1]|=K,P&=~K}Ni(E),(st&6)===0&&(op=zt()+500,yf(0))}}break;case 13:L=Fl(E,2),L!==null&&gr(L,E,2),sp(),y0(E,2)}if(E=_0(g),E===null&&o0(a,l,g,Sp,d),E===T)break;T=E}T!==null&&g.stopPropagation()}else o0(a,l,g,null,d)}}function _0(a){return a=Dr(a),T0(a)}var Sp=null;function T0(a){if(Sp=null,a=Ji(a),a!==null){var l=o(a);if(l===null)a=null;else{var d=l.tag;if(d===13){if(a=s(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Sp=a,null}function Zx(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_l()){case Ec:return 2;case Tl:return 8;case ts:case wy:return 32;case El:return 268435456;default:return 32}default:return 32}}var E0=!1,ya=null,va=null,_a=null,bf=new Map,Cf=new Map,Ta=[],wq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e1(a,l){switch(a){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":bf.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cf.delete(l.pointerId)}}function xf(a,l,d,g,T,E){return a===null||a.nativeEvent!==E?(a={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:E,targetContainers:[T]},l!==null&&(l=_i(l),l!==null&&Xx(l)),a):(a.eventSystemFlags|=g,l=a.targetContainers,T!==null&&l.indexOf(T)===-1&&l.push(T),a)}function bq(a,l,d,g,T){switch(l){case"focusin":return ya=xf(ya,a,l,d,g,T),!0;case"dragenter":return va=xf(va,a,l,d,g,T),!0;case"mouseover":return _a=xf(_a,a,l,d,g,T),!0;case"pointerover":var E=T.pointerId;return bf.set(E,xf(bf.get(E)||null,a,l,d,g,T)),!0;case"gotpointercapture":return E=T.pointerId,Cf.set(E,xf(Cf.get(E)||null,a,l,d,g,T)),!0}return!1}function t1(a){var l=Ji(a.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=s(d),l!==null){a.blockedOn=l,sh(a.priority,function(){if(d.tag===13){var g=mr();g=Yo(g);var T=Fl(d,g);T!==null&&gr(T,d,g),y0(d,g)}});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Ap(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=_0(a.nativeEvent);if(d===null){d=a.nativeEvent;var g=new d.constructor(d.type,d);eo=g,d.target.dispatchEvent(g),eo=null}else return l=_i(d),l!==null&&Xx(l),a.blockedOn=d,!1;l.shift()}return!0}function n1(a,l,d){Ap(a)&&d.delete(l)}function Cq(){E0=!1,ya!==null&&Ap(ya)&&(ya=null),va!==null&&Ap(va)&&(va=null),_a!==null&&Ap(_a)&&(_a=null),bf.forEach(n1),Cf.forEach(n1)}function wp(a,l){a.blockedOn===l&&(a.blockedOn=null,E0||(E0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Cq)))}var bp=null;function r1(a){bp!==a&&(bp=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){bp===a&&(bp=null);for(var l=0;l<a.length;l+=3){var d=a[l],g=a[l+1],T=a[l+2];if(typeof g!="function"){if(T0(g||d)===null)continue;break}var E=_i(d);E!==null&&(a.splice(l,3),l-=3,Tv(E,{pending:!0,data:T,method:d.method,action:g},g,T))}}))}function If(a){function l(K){return wp(K,a)}ya!==null&&wp(ya,a),va!==null&&wp(va,a),_a!==null&&wp(_a,a),bf.forEach(l),Cf.forEach(l);for(var d=0;d<Ta.length;d++){var g=Ta[d];g.blockedOn===a&&(g.blockedOn=null)}for(;0<Ta.length&&(d=Ta[0],d.blockedOn===null);)t1(d),d.blockedOn===null&&Ta.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var T=d[g],E=d[g+1],P=T[Gt]||null;if(typeof E=="function")P||r1(d);else if(P){var L=null;if(E&&E.hasAttribute("formAction")){if(T=E,P=E[Gt]||null)L=P.formAction;else if(T0(T)!==null)continue}else L=P.action;typeof L=="function"?d[g+1]=L:(d.splice(g,3),g-=3),r1(d)}}}function S0(a){this._internalRoot=a}Cp.prototype.render=S0.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,g=mr();Jx(d,g,a,l,null,null)},Cp.prototype.unmount=S0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;Jx(a.current,2,null,a,null,null),sp(),l[Pr]=null}};function Cp(a){this._internalRoot=a}Cp.prototype.unstable_scheduleHydration=function(a){if(a){var l=Wo();a={blockedOn:null,target:a,priority:l};for(var d=0;d<Ta.length&&l!==0&&l<Ta[d].priority;d++);Ta.splice(d,0,a),d===0&&t1(a)}};var i1=e.version;if(i1!=="19.1.1")throw Error(r(527,i1,"19.1.1"));de.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(l),a=a!==null?c(a):null,a=a===null?null:a.stateNode,a};var xq={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xp.isDisabled&&xp.supportsFiber)try{Nt=xp.inject(xq),at=xp}catch{}}return Pf.createRoot=function(a,l){if(!i(a))throw Error(r(299));var d=!1,g="",T=TC,E=EC,P=SC,L=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(T=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(P=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(L=l.unstable_transitionCallbacks)),l=Yx(a,1,!1,null,null,d,g,T,E,P,L,null),a[Pr]=l.current,i0(a),new S0(l)},Pf.hydrateRoot=function(a,l,d){if(!i(a))throw Error(r(299));var g=!1,T="",E=TC,P=EC,L=SC,K=null,X=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onUncaughtError!==void 0&&(E=d.onUncaughtError),d.onCaughtError!==void 0&&(P=d.onCaughtError),d.onRecoverableError!==void 0&&(L=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(K=d.unstable_transitionCallbacks),d.formState!==void 0&&(X=d.formState)),l=Yx(a,1,!0,l,d??null,g,T,E,P,L,K,X),l.context=Wx(null),d=l.current,g=mr(),g=Yo(g),T=ra(g),T.callback=null,ia(d,T,g),d=g,l.current.lanes=d,Wi(l,d),Ni(l),a[Pr]=l.current,i0(a),new Cp(l)},Pf.version="19.1.1",Pf}var p1;function qq(){if(p1)return C0.exports;p1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),C0.exports=Bq(),C0.exports}var Fq=qq();const $q=hi(Fq);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var m1="popstate";function Hq(t={}){function e(i,o){let{pathname:s="/",search:u="",hash:f=""}=ll(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),DT("",{pathname:s,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),u="";if(s&&s.getAttribute("href")){let f=i.location.href,c=f.indexOf("#");u=c===-1?f:f.slice(0,c)}return u+"#"+(typeof o=="string"?o:od(o))}function r(i,o){Wr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return Gq(e,n,r,t)}function Rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zq(){return Math.random().toString(36).substring(2,10)}function g1(t,e){return{usr:t.state,key:t.key,idx:e}}function DT(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ll(e):e,state:n,key:e&&e.key||r||zq()}}function od({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ll(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Gq(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,u="POP",f=null,c=h();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function h(){return(s.state||{idx:null}).idx}function y(){u="POP";let C=h(),R=C==null?null:C-c;c=C,f&&f({action:u,location:w.location,delta:R})}function _(C,R){u="PUSH";let D=DT(w.location,C,R);n&&n(D,C),c=h()+1;let I=g1(D,c),$=w.createHref(D);try{s.pushState(I,"",$)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign($)}o&&f&&f({action:u,location:w.location,delta:1})}function S(C,R){u="REPLACE";let D=DT(w.location,C,R);n&&n(D,C),c=h();let I=g1(D,c),$=w.createHref(D);s.replaceState(I,"",$),o&&f&&f({action:u,location:w.location,delta:0})}function A(C){return Kq(C)}let w={get action(){return u},get location(){return t(i,s)},listen(C){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(m1,y),f=C,()=>{i.removeEventListener(m1,y),f=null}},createHref(C){return e(i,C)},createURL:A,encodeLocation(C){let R=A(C);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:_,replace:S,go(C){return s.go(C)}};return w}function Kq(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Rt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:od(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function mO(t,e,n="/"){return jq(t,e,n,!1)}function jq(t,e,n,r){let i=typeof e=="string"?ll(e):e,o=Po(i.pathname||"/",n);if(o==null)return null;let s=gO(t);Yq(s);let u=null;for(let f=0;u==null&&f<s.length;++f){let c=o6(o);u=r6(s[f],c,r)}return u}function gO(t,e=[],n=[],r="",i=!1){let o=(s,u,f=i,c)=>{let h={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:u,route:s};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&f)return;Rt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let y=Co([r,h.relativePath]),_=n.concat(h);s.children&&s.children.length>0&&(Rt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),gO(s.children,e,_,y,f)),!(s.path==null&&!s.index)&&e.push({path:y,score:t6(y,s.index),routesMeta:_})};return t.forEach((s,u)=>{var f;if(s.path===""||!((f=s.path)!=null&&f.includes("?")))o(s,u);else for(let c of yO(s.path))o(s,u,!0,c)}),e}function yO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=yO(r.join("/")),u=[];return u.push(...s.map(f=>f===""?o:[o,f].join("/"))),i&&u.push(...s),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function Yq(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:n6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Wq=/^:[\w-]+$/,Jq=3,Qq=2,Xq=1,Zq=10,e6=-2,y1=t=>t==="*";function t6(t,e){let n=t.split("/"),r=n.length;return n.some(y1)&&(r+=e6),e&&(r+=Qq),n.filter(i=>!y1(i)).reduce((i,o)=>i+(Wq.test(o)?Jq:o===""?Xq:Zq),r)}function n6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function r6(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let u=0;u<r.length;++u){let f=r[u],c=u===r.length-1,h=o==="/"?e:e.slice(o.length)||"/",y=mm({path:f.relativePath,caseSensitive:f.caseSensitive,end:c},h),_=f.route;if(!y&&c&&n&&!r[r.length-1].route.index&&(y=mm({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!y)return null;Object.assign(i,y.params),s.push({params:i,pathname:Co([o,y.pathname]),pathnameBase:u6(Co([o,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(o=Co([o,y.pathnameBase]))}return s}function mm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=i6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:y},_)=>{if(h==="*"){let A=u[_]||"";s=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const S=u[_];return y&&!S?c[h]=void 0:c[h]=(S||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function i6(t,e=!1,n=!0){Wr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function o6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Po(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function a6(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ll(t):t;return{pathname:n?n.startsWith("/")?n:s6(n,e):e,search:c6(r),hash:f6(i)}}function s6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function P0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function l6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function uS(t){let e=l6(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function cS(t,e,n,r=!1){let i;typeof t=="string"?i=ll(t):(i={...t},Rt(!i.pathname||!i.pathname.includes("?"),P0("?","pathname","search",i)),Rt(!i.pathname||!i.pathname.includes("#"),P0("#","pathname","hash",i)),Rt(!i.search||!i.search.includes("#"),P0("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,u;if(s==null)u=n;else{let y=e.length-1;if(!r&&s.startsWith("..")){let _=s.split("/");for(;_[0]==="..";)_.shift(),y-=1;i.pathname=_.join("/")}u=y>=0?e[y]:"/"}let f=a6(i,u),c=s&&s!=="/"&&s.endsWith("/"),h=(o||s===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(c||h)&&(f.pathname+="/"),f}var Co=t=>t.join("/").replace(/\/\/+/g,"/"),u6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),c6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,f6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function d6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var vO=["POST","PUT","PATCH","DELETE"];new Set(vO);var h6=["GET",...vO];new Set(h6);var Qu=M.createContext(null);Qu.displayName="DataRouter";var Tg=M.createContext(null);Tg.displayName="DataRouterState";M.createContext(!1);var _O=M.createContext({isTransitioning:!1});_O.displayName="ViewTransition";var p6=M.createContext(new Map);p6.displayName="Fetchers";var m6=M.createContext(null);m6.displayName="Await";var pi=M.createContext(null);pi.displayName="Navigation";var xd=M.createContext(null);xd.displayName="Location";var mi=M.createContext({outlet:null,matches:[],isDataRoute:!1});mi.displayName="Route";var fS=M.createContext(null);fS.displayName="RouteError";function g6(t,{relative:e}={}){Rt(Xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=M.useContext(pi),{hash:i,pathname:o,search:s}=Id(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:Co([n,o])),r.createHref({pathname:u,search:s,hash:i})}function Xu(){return M.useContext(xd)!=null}function Ki(){return Rt(Xu(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(xd).location}var TO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function EO(t){M.useContext(pi).static||M.useLayoutEffect(t)}function dS(){let{isDataRoute:t}=M.useContext(mi);return t?R6():y6()}function y6(){Rt(Xu(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(Qu),{basename:e,navigator:n}=M.useContext(pi),{matches:r}=M.useContext(mi),{pathname:i}=Ki(),o=JSON.stringify(uS(r)),s=M.useRef(!1);return EO(()=>{s.current=!0}),M.useCallback((f,c={})=>{if(Wr(s.current,TO),!s.current)return;if(typeof f=="number"){n.go(f);return}let h=cS(f,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Co([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,o,i,t])}M.createContext(null);function SO(){let{matches:t}=M.useContext(mi),e=t[t.length-1];return e?e.params:{}}function Id(t,{relative:e}={}){let{matches:n}=M.useContext(mi),{pathname:r}=Ki(),i=JSON.stringify(uS(n));return M.useMemo(()=>cS(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function v6(t,e){return AO(t,e)}function AO(t,e,n,r,i){var D;Rt(Xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=M.useContext(pi),{matches:s}=M.useContext(mi),u=s[s.length-1],f=u?u.params:{},c=u?u.pathname:"/",h=u?u.pathnameBase:"/",y=u&&u.route;{let I=y&&y.path||"";wO(c,!y||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let _=Ki(),S;if(e){let I=typeof e=="string"?ll(e):e;Rt(h==="/"||((D=I.pathname)==null?void 0:D.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${I.pathname}" was given in the \`location\` prop.`),S=I}else S=_;let A=S.pathname||"/",w=A;if(h!=="/"){let I=h.replace(/^\//,"").split("/");w="/"+A.replace(/^\//,"").split("/").slice(I.length).join("/")}let C=mO(t,{pathname:w});Wr(y||C!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Wr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=A6(C&&C.map(I=>Object.assign({},I,{params:Object.assign({},f,I.params),pathname:Co([h,o.encodeLocation?o.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?h:Co([h,o.encodeLocation?o.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),s,n,r,i);return e&&R?M.createElement(xd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},R):R}function _6(){let t=I6(),e=d6(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=M.createElement(M.Fragment,null,M.createElement("p",null,"💿 Hey developer 👋"),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:o},"ErrorBoundary")," or"," ",M.createElement("code",{style:o},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,s)}var T6=M.createElement(_6,null),E6=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?M.createElement(mi.Provider,{value:this.props.routeContext},M.createElement(fS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function S6({routeContext:t,match:e,children:n}){let r=M.useContext(Qu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(mi.Provider,{value:t},n)}function A6(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,s=n==null?void 0:n.errors;if(s!=null){let c=o.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);Rt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),o=o.slice(0,Math.min(o.length,c+1))}let u=!1,f=-1;if(n)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=c),h.route.id){let{loaderData:y,errors:_}=n,S=h.route.loader&&!y.hasOwnProperty(h.route.id)&&(!_||_[h.route.id]===void 0);if(h.route.lazy||S){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((c,h,y)=>{let _,S=!1,A=null,w=null;n&&(_=s&&h.route.id?s[h.route.id]:void 0,A=h.route.errorElement||T6,u&&(f<0&&y===0?(wO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,w=null):f===y&&(S=!0,w=h.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,y+1)),R=()=>{let D;return _?D=A:S?D=w:h.route.Component?D=M.createElement(h.route.Component,null):h.route.element?D=h.route.element:D=c,M.createElement(S6,{match:h,routeContext:{outlet:c,matches:C,isDataRoute:n!=null},children:D})};return n&&(h.route.ErrorBoundary||h.route.errorElement||y===0)?M.createElement(E6,{location:n.location,revalidation:n.revalidation,component:A,error:_,children:R(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:r}):R()},null)}function hS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w6(t){let e=M.useContext(Qu);return Rt(e,hS(t)),e}function b6(t){let e=M.useContext(Tg);return Rt(e,hS(t)),e}function C6(t){let e=M.useContext(mi);return Rt(e,hS(t)),e}function pS(t){let e=C6(t),n=e.matches[e.matches.length-1];return Rt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function x6(){return pS("useRouteId")}function I6(){var r;let t=M.useContext(fS),e=b6("useRouteError"),n=pS("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function R6(){let{router:t}=w6("useNavigate"),e=pS("useNavigate"),n=M.useRef(!1);return EO(()=>{n.current=!0}),M.useCallback(async(i,o={})=>{Wr(n.current,TO),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var v1={};function wO(t,e,n){!e&&!v1[t]&&(v1[t]=!0,Wr(!1,n))}M.memo(P6);function P6({routes:t,future:e,state:n,unstable_onError:r}){return AO(t,void 0,n,r,e)}function M6({to:t,replace:e,state:n,relative:r}){Rt(Xu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=M.useContext(pi);Wr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=M.useContext(mi),{pathname:s}=Ki(),u=dS(),f=cS(t,uS(o),s,r==="path"),c=JSON.stringify(f);return M.useEffect(()=>{u(JSON.parse(c),{replace:e,state:n,relative:r})},[u,c,r,e,n]),null}function yr(t){Rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function D6({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Rt(!Xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=ll(n));let{pathname:f="/",search:c="",hash:h="",state:y=null,key:_="default"}=n,S=M.useMemo(()=>{let A=Po(f,s);return A==null?null:{location:{pathname:A,search:c,hash:h,state:y,key:_},navigationType:r}},[s,f,c,h,y,_,r]);return Wr(S!=null,`<Router basename="${s}"> is not able to match the URL "${f}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:M.createElement(pi.Provider,{value:u},M.createElement(xd.Provider,{children:e,value:S}))}function _1({children:t,location:e}){return v6(NT(t),e)}function NT(t,e=[]){let n=[];return M.Children.forEach(t,(r,i)=>{if(!M.isValidElement(r))return;let o=[...e,i];if(r.type===M.Fragment){n.push.apply(n,NT(r.props.children,o));return}Rt(r.type===yr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=NT(r.props.children,o)),n.push(s)}),n}var Xp="get",Zp="application/x-www-form-urlencoded";function Eg(t){return t!=null&&typeof t.tagName=="string"}function N6(t){return Eg(t)&&t.tagName.toLowerCase()==="button"}function O6(t){return Eg(t)&&t.tagName.toLowerCase()==="form"}function k6(t){return Eg(t)&&t.tagName.toLowerCase()==="input"}function L6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function V6(t,e){return t.button===0&&(!e||e==="_self")&&!L6(t)}var Ip=null;function U6(){if(Ip===null)try{new FormData(document.createElement("form"),0),Ip=!1}catch{Ip=!0}return Ip}var B6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function M0(t){return t!=null&&!B6.has(t)?(Wr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zp}"`),null):t}function q6(t,e){let n,r,i,o,s;if(O6(t)){let u=t.getAttribute("action");r=u?Po(u,e):null,n=t.getAttribute("method")||Xp,i=M0(t.getAttribute("enctype"))||Zp,o=new FormData(t)}else if(N6(t)||k6(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||u.getAttribute("action");if(r=f?Po(f,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Xp,i=M0(t.getAttribute("formenctype"))||M0(u.getAttribute("enctype"))||Zp,o=new FormData(u,t),!U6()){let{name:c,type:h,value:y}=t;if(h==="image"){let _=c?`${c}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else c&&o.append(c,y)}}else{if(Eg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xp,r=null,i=Zp,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function F6(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Po(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function $6(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function H6(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function z6(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await $6(o,n);return s.links?s.links():[]}return[]}));return Y6(r.flat(1).filter(H6).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function T1(t,e,n,r,i,o){let s=(f,c)=>n[c]?f.route.id!==n[c].route.id:!0,u=(f,c)=>{var h;return n[c].pathname!==f.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,c)=>s(f,c)||u(f,c)):o==="data"?e.filter((f,c)=>{var y;let h=r.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(s(f,c)||u(f,c))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function G6(t,e,{includeHydrateFallback:n}={}){return K6(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function K6(t){return[...new Set(t)]}function j6(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Y6(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(j6(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function bO(){let t=M.useContext(Qu);return mS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function W6(){let t=M.useContext(Tg);return mS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var gS=M.createContext(void 0);gS.displayName="FrameworkContext";function CO(){let t=M.useContext(gS);return mS(t,"You must render this element inside a <HydratedRouter> element"),t}function J6(t,e){let n=M.useContext(gS),[r,i]=M.useState(!1),[o,s]=M.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:c,onMouseLeave:h,onTouchStart:y}=e,_=M.useRef(null);M.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let w=R=>{R.forEach(D=>{s(D.isIntersecting)})},C=new IntersectionObserver(w,{threshold:.5});return _.current&&C.observe(_.current),()=>{C.disconnect()}}},[t]),M.useEffect(()=>{if(r){let w=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(w)}}},[r]);let S=()=>{i(!0)},A=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,_,{}]:[o,_,{onFocus:Mf(u,S),onBlur:Mf(f,A),onMouseEnter:Mf(c,S),onMouseLeave:Mf(h,A),onTouchStart:Mf(y,S)}]:[!1,_,{}]}function Mf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Q6({page:t,...e}){let{router:n}=bO(),r=M.useMemo(()=>mO(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?M.createElement(Z6,{page:t,matches:r,...e}):null}function X6(t){let{manifest:e,routeModules:n}=CO(),[r,i]=M.useState([]);return M.useEffect(()=>{let o=!1;return z6(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function Z6({page:t,matches:e,...n}){let r=Ki(),{manifest:i,routeModules:o}=CO(),{basename:s}=bO(),{loaderData:u,matches:f}=W6(),c=M.useMemo(()=>T1(t,e,f,i,r,"data"),[t,e,f,i,r]),h=M.useMemo(()=>T1(t,e,f,i,r,"assets"),[t,e,f,i,r]),y=M.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,w=!1;if(e.forEach(R=>{var I;let D=i.routes[R.route.id];!D||!D.hasLoader||(!c.some($=>$.route.id===R.route.id)&&R.route.id in u&&((I=o[R.route.id])!=null&&I.shouldRevalidate)||D.hasClientLoader?w=!0:A.add(R.route.id))}),A.size===0)return[];let C=F6(t,s,"data");return w&&A.size>0&&C.searchParams.set("_routes",e.filter(R=>A.has(R.route.id)).map(R=>R.route.id).join(",")),[C.pathname+C.search]},[s,u,r,i,c,e,t,o]),_=M.useMemo(()=>G6(h,i),[h,i]),S=X6(h);return M.createElement(M.Fragment,null,y.map(A=>M.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),_.map(A=>M.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),S.map(({key:A,link:w})=>M.createElement("link",{key:A,nonce:n.nonce,...w})))}function eF(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var xO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xO&&(window.__reactRouterVersion="7.8.2")}catch{}function tF({basename:t,children:e,window:n}){let r=M.useRef();r.current==null&&(r.current=Hq({window:n,v5Compat:!0}));let i=r.current,[o,s]=M.useState({action:i.action,location:i.location}),u=M.useCallback(f=>{M.startTransition(()=>s(f))},[s]);return M.useLayoutEffect(()=>i.listen(u),[i,u]),M.createElement(D6,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var IO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RO=M.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:u,target:f,to:c,preventScrollReset:h,viewTransition:y,..._},S){let{basename:A}=M.useContext(pi),w=typeof c=="string"&&IO.test(c),C,R=!1;if(typeof c=="string"&&w&&(C=c,xO))try{let N=new URL(window.location.href),q=c.startsWith("//")?new URL(N.protocol+c):new URL(c),B=Po(q.pathname,A);q.origin===N.origin&&B!=null?c=B+q.search+q.hash:R=!0}catch{Wr(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=g6(c,{relative:i}),[I,$,U]=J6(r,_),G=oF(c,{replace:s,state:u,target:f,preventScrollReset:h,relative:i,viewTransition:y});function O(N){e&&e(N),N.defaultPrevented||G(N)}let k=M.createElement("a",{..._,...U,href:C||D,onClick:R||o?e:O,ref:eF(S,$),target:f,"data-discover":!w&&n==="render"?"true":void 0});return I&&!w?M.createElement(M.Fragment,null,k,M.createElement(Q6,{page:D})):k});RO.displayName="Link";var nF=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:u,children:f,...c},h){let y=Id(s,{relative:c.relative}),_=Ki(),S=M.useContext(Tg),{navigator:A,basename:w}=M.useContext(pi),C=S!=null&&cF(y)&&u===!0,R=A.encodeLocation?A.encodeLocation(y).pathname:y.pathname,D=_.pathname,I=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(D=D.toLowerCase(),I=I?I.toLowerCase():null,R=R.toLowerCase()),I&&w&&(I=Po(I,w)||I);const $=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let U=D===R||!i&&D.startsWith(R)&&D.charAt($)==="/",G=I!=null&&(I===R||!i&&I.startsWith(R)&&I.charAt(R.length)==="/"),O={isActive:U,isPending:G,isTransitioning:C},k=U?e:void 0,N;typeof r=="function"?N=r(O):N=[r,U?"active":null,G?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let q=typeof o=="function"?o(O):o;return M.createElement(RO,{...c,"aria-current":k,className:N,ref:h,style:q,to:s,viewTransition:u},typeof f=="function"?f(O):f)});nF.displayName="NavLink";var rF=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=Xp,action:u,onSubmit:f,relative:c,preventScrollReset:h,viewTransition:y,..._},S)=>{let A=lF(),w=uF(u,{relative:c}),C=s.toLowerCase()==="get"?"get":"post",R=typeof u=="string"&&IO.test(u),D=I=>{if(f&&f(I),I.defaultPrevented)return;I.preventDefault();let $=I.nativeEvent.submitter,U=($==null?void 0:$.getAttribute("formmethod"))||s;A($||I.currentTarget,{fetcherKey:e,method:U,navigate:n,replace:i,state:o,relative:c,preventScrollReset:h,viewTransition:y})};return M.createElement("form",{ref:S,method:C,action:w,onSubmit:r?f:D,..._,"data-discover":!R&&t==="render"?"true":void 0})});rF.displayName="Form";function iF(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PO(t){let e=M.useContext(Qu);return Rt(e,iF(t)),e}function oF(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let u=dS(),f=Ki(),c=Id(t,{relative:o});return M.useCallback(h=>{if(V6(h,e)){h.preventDefault();let y=n!==void 0?n:od(f)===od(c);u(t,{replace:y,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[f,u,c,n,r,e,t,i,o,s])}var aF=0,sF=()=>`__${String(++aF)}__`;function lF(){let{router:t}=PO("useSubmit"),{basename:e}=M.useContext(pi),n=x6();return M.useCallback(async(r,i={})=>{let{action:o,method:s,encType:u,formData:f,body:c}=q6(r,e);if(i.navigate===!1){let h=i.fetcherKey||sF();await t.fetch(h,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:c,formMethod:i.method||s,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:c,formMethod:i.method||s,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function uF(t,{relative:e}={}){let{basename:n}=M.useContext(pi),r=M.useContext(mi);Rt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Id(t||".",{relative:e})},s=Ki();if(t==null){o.search=s.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(h=>h==="")){u.delete("index"),f.filter(y=>y).forEach(y=>u.append("index",y));let h=u.toString();o.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Co([n,o.pathname])),od(o)}function cF(t,{relative:e}={}){let n=M.useContext(_O);Rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=PO("useViewTransitionState"),i=Id(t,{relative:e});if(!n.isTransitioning)return!1;let o=Po(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Po(n.nextLocation.pathname,r)||n.nextLocation.pathname;return mm(i.pathname,s)!=null||mm(i.pathname,o)!=null}var fF=pO();const dF=()=>{};var E1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},hF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],u=t[n++],f=((i&7)<<18|(o&63)<<12|(s&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},DO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,u=s?t[i+1]:0,f=i+2<t.length,c=f?t[i+2]:0,h=o>>2,y=(o&3)<<4|u>>4;let _=(u&15)<<2|c>>6,S=c&63;f||(S=64,s||(_=64)),r.push(n[h],n[y],n[_],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(MO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||c==null||y==null)throw new pF;const _=o<<2|u>>4;if(r.push(_),c!==64){const S=u<<4&240|c>>2;if(r.push(S),y!==64){const A=c<<6&192|y;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mF=function(t){const e=MO(t);return DO.encodeByteArray(e,!0)},gm=function(t){return mF(t).replace(/\./g,"")},NO=function(t){try{return DO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=()=>gF().__FIREBASE_DEFAULTS__,vF=()=>{if(typeof process>"u"||typeof E1>"u")return;const t=E1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_F=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NO(t[1]);return e&&JSON.parse(e)},Sg=()=>{try{return dF()||yF()||vF()||_F()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OO=t=>{var e,n;return(n=(e=Sg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},TF=t=>{const e=OO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kO=()=>{var t;return(t=Sg())==null?void 0:t.config},LO=t=>{var e;return(e=Sg())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VO(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[gm(JSON.stringify(n)),gm(JSON.stringify(s)),""].join(".")}const Wf={};function AF(){const t={prod:[],emulator:[]};for(const e of Object.keys(Wf))Wf[e]?t.emulator.push(e):t.prod.push(e);return t}function wF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let S1=!1;function UO(t,e){if(typeof window>"u"||typeof document>"u"||!Zu(window.location.host)||Wf[t]===e||Wf[t]||S1)return;Wf[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",o=AF().prod.length>0;function s(){const _=document.getElementById(r);_&&_.remove()}function u(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,S){_.setAttribute("width","24"),_.setAttribute("id",S),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function c(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{S1=!0,s()},_}function h(_,S){_.setAttribute("id",S),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=wF(r),S=n("text"),A=document.getElementById(S)||document.createElement("span"),w=n("learnmore"),C=document.getElementById(w)||document.createElement("a"),R=n("preprendIcon"),D=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const I=_.element;u(I),h(C,w);const $=c();f(D,R),I.append(D,A,C,$),document.body.appendChild(I)}o?(A.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gn())}function CF(){var e;const t=(e=Sg())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PF(){const t=Gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function MF(){return!CF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DF(){try{return typeof indexedDB=="object"}catch{return!1}}function NF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF="FirebaseError";class qo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OF,Object.setPrototypeOf(this,qo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rd.prototype.create)}}class Rd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?kF(o,r):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new qo(i,u,r)}}function kF(t,e){return t.replace(LF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const LF=/\{\$([^}]+)}/g;function VF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(A1(o)&&A1(s)){if(!Xs(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function A1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ff(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function $f(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function UF(t,e){const n=new BF(t,e);return n.subscribe.bind(n)}class BF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");qF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=D0),i.error===void 0&&(i.error=D0),i.complete===void 0&&(i.complete=D0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function D0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t){return t&&t._delegate?t._delegate:t}class Zs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FF=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new EF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HF(e))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ks){return this.instances.has(e)}getOptions(e=ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$F(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ks){return this.component?this.component.multipleInstances?e:ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function $F(t){return t===ks?void 0:t}function HF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const GF={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},KF=Ke.INFO,jF={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},YF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=jF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yS{constructor(e){this.name=e,this._logLevel=KF,this._logHandler=YF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const WF=(t,e)=>e.some(n=>t instanceof n);let w1,b1;function JF(){return w1||(w1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QF(){return b1||(b1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BO=new WeakMap,OT=new WeakMap,qO=new WeakMap,N0=new WeakMap,vS=new WeakMap;function XF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Na(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&BO.set(n,t)}).catch(()=>{}),vS.set(e,t),e}function ZF(t){if(OT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});OT.set(t,e)}let kT={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return OT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Na(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function e5(t){kT=t(kT)}function t5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(O0(this),e,...n);return qO.set(r,e.sort?e.sort():[e]),Na(r)}:QF().includes(t)?function(...e){return t.apply(O0(this),e),Na(BO.get(this))}:function(...e){return Na(t.apply(O0(this),e))}}function n5(t){return typeof t=="function"?t5(t):(t instanceof IDBTransaction&&ZF(t),WF(t,JF())?new Proxy(t,kT):t)}function Na(t){if(t instanceof IDBRequest)return XF(t);if(N0.has(t))return N0.get(t);const e=n5(t);return e!==t&&(N0.set(t,e),vS.set(e,t)),e}const O0=t=>vS.get(t);function r5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),u=Na(s);return r&&s.addEventListener("upgradeneeded",f=>{r(Na(s.result),f.oldVersion,f.newVersion,Na(s.transaction),f)}),n&&s.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),u}const i5=["get","getKey","getAll","getAllKeys","count"],o5=["put","add","delete","clear"],k0=new Map;function C1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(k0.get(e))return k0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=o5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||i5.includes(n)))return;const o=async function(s,...u){const f=this.transaction(s,i?"readwrite":"readonly");let c=f.store;return r&&(c=c.index(u.shift())),(await Promise.all([c[n](...u),i&&f.done]))[0]};return k0.set(e,o),o}e5(t=>({...t,get:(e,n,r)=>C1(e,n)||t.get(e,n,r),has:(e,n)=>!!C1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function s5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const LT="@firebase/app",x1="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=new yS("@firebase/app"),l5="@firebase/app-compat",u5="@firebase/analytics-compat",c5="@firebase/analytics",f5="@firebase/app-check-compat",d5="@firebase/app-check",h5="@firebase/auth",p5="@firebase/auth-compat",m5="@firebase/database",g5="@firebase/data-connect",y5="@firebase/database-compat",v5="@firebase/functions",_5="@firebase/functions-compat",T5="@firebase/installations",E5="@firebase/installations-compat",S5="@firebase/messaging",A5="@firebase/messaging-compat",w5="@firebase/performance",b5="@firebase/performance-compat",C5="@firebase/remote-config",x5="@firebase/remote-config-compat",I5="@firebase/storage",R5="@firebase/storage-compat",P5="@firebase/firestore",M5="@firebase/ai",D5="@firebase/firestore-compat",N5="firebase",O5="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="[DEFAULT]",k5={[LT]:"fire-core",[l5]:"fire-core-compat",[c5]:"fire-analytics",[u5]:"fire-analytics-compat",[d5]:"fire-app-check",[f5]:"fire-app-check-compat",[h5]:"fire-auth",[p5]:"fire-auth-compat",[m5]:"fire-rtdb",[g5]:"fire-data-connect",[y5]:"fire-rtdb-compat",[v5]:"fire-fn",[_5]:"fire-fn-compat",[T5]:"fire-iid",[E5]:"fire-iid-compat",[S5]:"fire-fcm",[A5]:"fire-fcm-compat",[w5]:"fire-perf",[b5]:"fire-perf-compat",[C5]:"fire-rc",[x5]:"fire-rc-compat",[I5]:"fire-gcs",[R5]:"fire-gcs-compat",[P5]:"fire-fst",[D5]:"fire-fst-compat",[M5]:"fire-vertex","fire-js":"fire-js",[N5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=new Map,L5=new Map,UT=new Map;function I1(t,e){try{t.container.addComponent(e)}catch(n){Mo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Mu(t){const e=t.name;if(UT.has(e))return Mo.debug(`There were multiple attempts to register component ${e}.`),!1;UT.set(e,t);for(const n of ym.values())I1(n,t);for(const n of L5.values())I1(n,t);return!0}function _S(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ai(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oa=new Rd("app","Firebase",V5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=O5;function FO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:VT,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Oa.create("bad-app-name",{appName:String(i)});if(n||(n=kO()),!n)throw Oa.create("no-options");const o=ym.get(i);if(o){if(Xs(n,o.options)&&Xs(r,o.config))return o;throw Oa.create("duplicate-app",{appName:i})}const s=new zF(i);for(const f of UT.values())s.addComponent(f);const u=new U5(n,r,s);return ym.set(i,u),u}function $O(t=VT){const e=ym.get(t);if(!e&&t===VT&&kO())return FO();if(!e)throw Oa.create("no-app",{appName:t});return e}function ka(t,e,n){let r=k5[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mo.warn(s.join(" "));return}Mu(new Zs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5="firebase-heartbeat-database",q5=1,ad="firebase-heartbeat-store";let L0=null;function HO(){return L0||(L0=r5(B5,q5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ad)}catch(n){console.warn(n)}}}}).catch(t=>{throw Oa.create("idb-open",{originalErrorMessage:t.message})})),L0}async function F5(t){try{const n=(await HO()).transaction(ad),r=await n.objectStore(ad).get(zO(t));return await n.done,r}catch(e){if(e instanceof qo)Mo.warn(e.message);else{const n=Oa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mo.warn(n.message)}}}async function R1(t,e){try{const r=(await HO()).transaction(ad,"readwrite");await r.objectStore(ad).put(e,zO(t)),await r.done}catch(n){if(n instanceof qo)Mo.warn(n.message);else{const r=Oa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mo.warn(r.message)}}}function zO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5=1024,H5=30;class z5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new K5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=P1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>H5){const s=j5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Mo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=P1(),{heartbeatsToSend:r,unsentEntries:i}=G5(this._heartbeatsCache.heartbeats),o=gm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Mo.warn(n),""}}}function P1(){return new Date().toISOString().substring(0,10)}function G5(t,e=$5){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),M1(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),M1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class K5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DF()?NF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await F5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return R1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return R1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function M1(t){return gm(JSON.stringify({version:2,heartbeats:t})).length}function j5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(t){Mu(new Zs("platform-logger",e=>new a5(e),"PRIVATE")),Mu(new Zs("heartbeat",e=>new z5(e),"PRIVATE")),ka(LT,x1,t),ka(LT,x1,"esm2020"),ka("fire-js","")}Y5("");var W5="firebase",J5="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ka(W5,J5,"app");function GO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Q5=GO,KO=new Rd("auth","Firebase",GO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=new yS("@firebase/auth");function X5(t,...e){vm.logLevel<=Ke.WARN&&vm.warn(`Auth (${ec}): ${t}`,...e)}function em(t,...e){vm.logLevel<=Ke.ERROR&&vm.error(`Auth (${ec}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t,...e){throw TS(t,...e)}function Li(t,...e){return TS(t,...e)}function jO(t,e,n){const r={...Q5(),[e]:n};return new Rd("auth","Firebase",r).create(e,{appName:t.name})}function La(t){return jO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KO.create(t,...e)}function De(t,e,...n){if(!t)throw TS(e,...n)}function So(t){const e="INTERNAL ASSERTION FAILED: "+t;throw em(e),new Error(e)}function Do(t,e){t||So(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Z5(){return D1()==="http:"||D1()==="https:"}function D1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Z5()||IF()||"connection"in navigator)?navigator.onLine:!0}function t9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){this.shortDelay=e,this.longDelay=n,Do(n>e,"Short delay should be less than long delay!"),this.isMobile=bF()||RF()}get(){return e9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t,e){Do(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;So("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;So("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;So("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],i9=new Md(3e4,6e4);function ul(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Fo(t,e,n,r,i={}){return WO(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const u=Pd({key:t.config.apiKey,...s}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:f,...o};return xF()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Zu(t.emulatorConfig.host)&&(c.credentials="include"),YO.fetch()(await JO(t,t.config.apiHost,n,u),c)})}async function WO(t,e,n){t._canInitEmulator=!1;const r={...n9,...e};try{const i=new a9(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Rp(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const u=o.ok?s.errorMessage:s.error.message,[f,c]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rp(t,"credential-already-in-use",s);if(f==="EMAIL_EXISTS")throw Rp(t,"email-already-in-use",s);if(f==="USER_DISABLED")throw Rp(t,"user-disabled",s);const h=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw jO(t,h,c);ci(t,h)}}catch(i){if(i instanceof qo)throw i;ci(t,"network-request-failed",{message:String(i)})}}async function Ag(t,e,n,r,i={}){const o=await Fo(t,e,n,r,i);return"mfaPendingCredential"in o&&ci(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function JO(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?ES(t.config,i):`${t.config.apiScheme}://${i}`;return r9.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function o9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class a9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Li(this.auth,"network-request-failed")),i9.get())})}}function Rp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Li(t,e,r);return i.customData._tokenResponse=n,i}function N1(t){return t!==void 0&&t.enterprise!==void 0}class s9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return o9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function l9(t,e){return Fo(t,"GET","/v2/recaptchaConfig",ul(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u9(t,e){return Fo(t,"POST","/v1/accounts:delete",e)}async function _m(t,e){return Fo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function c9(t,e=!1){const n=Vt(t),r=await n.getIdToken(e),i=SS(r);De(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Jf(V0(i.auth_time)),issuedAtTime:Jf(V0(i.iat)),expirationTime:Jf(V0(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function V0(t){return Number(t)*1e3}function SS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return em("JWT malformed, contained fewer than 3 sections"),null;try{const i=NO(n);return i?JSON.parse(i):(em("Failed to decode base64 JWT payload"),null)}catch(i){return em("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function O1(t){const e=SS(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Du(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof qo&&f9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function f9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jf(this.lastLoginAt),this.creationTime=Jf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tm(t){var y;const e=t.auth,n=await t.getIdToken(),r=await Du(t,_m(e,{idToken:n}));De(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(y=i.providerUserInfo)!=null&&y.length?QO(i.providerUserInfo):[],s=p9(t.providerData,o),u=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=u?f:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new qT(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function h9(t){const e=Vt(t);await Tm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function p9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function QO(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m9(t,e){const n=await WO(t,{},async()=>{const r=Pd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await JO(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return t.emulatorConfig&&Zu(t.emulatorConfig.host)&&(f.credentials="include"),YO.fetch()(s,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function g9(t,e){return Fo(t,"POST","/v2/accounts:revokeToken",ul(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):O1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=O1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await m9(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Su;return r&&(De(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(De(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(De(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Su,this.toJSON())}_performRefresh(){return So("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ui{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new d9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new qT(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Du(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return c9(this,e)}reload(){return h9(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ui({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Tm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(La(this.auth));const e=await this.getIdToken();return await Du(this,u9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,u=n.tenantId??void 0,f=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:S,providerData:A,stsTokenManager:w}=n;De(y&&w,e,"internal-error");const C=Su.fromJSON(this.name,w);De(typeof y=="string",e,"internal-error"),Sa(r,e.name),Sa(i,e.name),De(typeof _=="boolean",e,"internal-error"),De(typeof S=="boolean",e,"internal-error"),Sa(o,e.name),Sa(s,e.name),Sa(u,e.name),Sa(f,e.name),Sa(c,e.name),Sa(h,e.name);const R=new ui({uid:y,auth:e,email:i,emailVerified:_,displayName:r,isAnonymous:S,photoURL:s,phoneNumber:o,tenantId:u,stsTokenManager:C,createdAt:c,lastLoginAt:h});return A&&Array.isArray(A)&&(R.providerData=A.map(D=>({...D}))),f&&(R._redirectEventId=f),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Su;i.updateFromServerResponse(n);const o=new ui({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Tm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];De(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?QO(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new Su;u.updateFromIdToken(r);const f=new ui({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new qT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,c),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=new Map;function Ao(t){Do(t instanceof Function,"Expected a class definition");let e=k1.get(t);return e?(Do(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,k1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XO.type="NONE";const L1=XO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(t,e,n){return`firebase:${t}:${e}:${n}`}class Au{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=tm(this.userKey,i.apiKey,o),this.fullPersistenceKey=tm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _m(this.auth,{idToken:e}).catch(()=>{});return n?ui._fromGetAccountInfoResponse(this.auth,n,e):null}return ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Au(Ao(L1),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||Ao(L1);const s=tm(r,e.config.apiKey,e.name);let u=null;for(const c of n)try{const h=await c._get(s);if(h){let y;if(typeof h=="string"){const _=await _m(e,{idToken:h}).catch(()=>{});if(!_)break;y=await ui._fromGetAccountInfoResponse(e,_,h)}else y=ui._fromJSON(e,h);c!==o&&(u=y),o=c;break}}catch{}const f=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Au(o,e,r):(o=f[0],u&&await o._set(s,u.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new Au(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(n2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(i2(e))return"Blackberry";if(o2(e))return"Webos";if(e2(e))return"Safari";if((e.includes("chrome/")||t2(e))&&!e.includes("edge/"))return"Chrome";if(r2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ZO(t=Gn()){return/firefox\//i.test(t)}function e2(t=Gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function t2(t=Gn()){return/crios\//i.test(t)}function n2(t=Gn()){return/iemobile/i.test(t)}function r2(t=Gn()){return/android/i.test(t)}function i2(t=Gn()){return/blackberry/i.test(t)}function o2(t=Gn()){return/webos/i.test(t)}function AS(t=Gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function y9(t=Gn()){var e;return AS(t)&&!!((e=window.navigator)!=null&&e.standalone)}function v9(){return PF()&&document.documentMode===10}function a2(t=Gn()){return AS(t)||r2(t)||o2(t)||i2(t)||/windows phone/i.test(t)||n2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(t,e=[]){let n;switch(t){case"Browser":n=V1(Gn());break;case"Worker":n=`${V1(Gn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ec}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,u)=>{try{const f=e(o);s(f)}catch(f){u(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T9(t,e={}){return Fo(t,"GET","/v2/passwordPolicy",ul(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9=6;class S9{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??E9,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U1(this),this.idTokenSubscription=new U1(this),this.beforeStateQueue=new _9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ao(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Au.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _m(this,{idToken:e}),r=await ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(ai(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,u=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!s||s===u)&&(f!=null&&f.user)&&(r=f.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Tm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=t9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ai(this.app))return Promise.reject(La(this));const n=e?Vt(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(La(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ai(this.app)?Promise.reject(La(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ao(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await T9(this),n=new S9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await g9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ao(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await Au.create(this,[Ao(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(u,this,"internal-error"),u.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{s=!0,f()}}else{const f=e.addObserver(n);return()=>{s=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=s2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&X5(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function tc(t){return Vt(t)}class U1{constructor(e){this.auth=e,this.observer=null,this.addObserver=UF(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function w9(t){wg=t}function l2(t){return wg.loadJS(t)}function b9(){return wg.recaptchaEnterpriseScript}function C9(){return wg.gapiScript}function x9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class I9{constructor(){this.enterprise=new R9}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class R9{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const P9="recaptcha-enterprise",u2="NO_RECAPTCHA";class M9{constructor(e){this.type=P9,this.auth=tc(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,u)=>{l9(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const c=new s9(f);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(f=>{u(f)})})}function i(o,s,u){const f=window.grecaptcha;N1(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(u2)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new I9().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(u=>{if(!n&&N1(window.grecaptcha))i(u,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let f=b9();f.length!==0&&(f+=u),l2(f).then(()=>{i(u,o,s)}).catch(c=>{s(c)})}}).catch(u=>{s(u)})})}}async function B1(t,e,n,r=!1,i=!1){const o=new M9(t);let s;if(i)s=u2;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,c=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:s}):Object.assign(u,{captchaResponse:s}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function q1(t,e,n,r,i){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await B1(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await B1(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(t,e){const n=_S(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Xs(o,e??{}))return i;ci(i,"already-initialized")}return n.initialize({options:e})}function N9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ao);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function O9(t,e,n){const r=tc(t);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=c2(e),{host:s,port:u}=k9(e),f=u===null?"":`:${u}`,c={url:`${o}//${s}${f}/`},h=Object.freeze({host:s,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(Xs(c,r.config.emulator)&&Xs(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Zu(s)?(VO(`${o}//${s}${f}`),UO("Auth",!0)):L9()}function c2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function k9(t){const e=c2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:F1(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:F1(s)}}}function F1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function L9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return So("not implemented")}_getIdTokenResponse(e){return So("not implemented")}_linkToIdToken(e,n){return So("not implemented")}_getReauthenticationResolver(e){return So("not implemented")}}async function V9(t,e){return Fo(t,"POST","/v1/accounts:update",e)}async function U9(t,e){return Fo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B9(t,e){return Ag(t,"POST","/v1/accounts:signInWithPassword",ul(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q9(t,e){return Ag(t,"POST","/v1/accounts:signInWithEmailLink",ul(t,e))}async function F9(t,e){return Ag(t,"POST","/v1/accounts:signInWithEmailLink",ul(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends wS{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new sd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new sd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return q1(e,n,"signInWithPassword",B9);case"emailLink":return q9(e,{email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return q1(e,r,"signUpPassword",U9);case"emailLink":return F9(e,{idToken:n,email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(t,e){return Ag(t,"POST","/v1/accounts:signInWithIdp",ul(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9="http://localhost";class el extends wS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new el(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new el(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return wu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wu(e,n)}buildRequest(){const e={requestUri:$9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function z9(t){const e=Ff($f(t)).link,n=e?Ff($f(e)).deep_link_id:null,r=Ff($f(t)).deep_link_id;return(r?Ff($f(r)).link:null)||r||n||e||t}class bS{constructor(e){const n=Ff($f(e)),r=n.apiKey??null,i=n.oobCode??null,o=H9(n.mode??null);De(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=z9(e);try{return new bS(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this.providerId=nc.PROVIDER_ID}static credential(e,n){return sd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=bS.parseLink(n);return De(r,"argument-error"),sd._fromEmailAndCode(e,r.code,r.tenantId)}}nc.PROVIDER_ID="password";nc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd extends f2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends Dd{constructor(){super("facebook.com")}static credential(e){return el._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ca.credential(e.oauthAccessToken)}catch{return null}}}Ca.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ca.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends Dd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return el._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xa.credentialFromTaggedObject(e)}static credentialFromError(e){return xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xa.credential(n,r)}catch{return null}}}xa.GOOGLE_SIGN_IN_METHOD="google.com";xa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends Dd{constructor(){super("github.com")}static credential(e){return el._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ia.credential(e.oauthAccessToken)}catch{return null}}}Ia.GITHUB_SIGN_IN_METHOD="github.com";Ia.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Dd{constructor(){super("twitter.com")}static credential(e,n){return el._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ra.credential(n,r)}catch{return null}}}Ra.TWITTER_SIGN_IN_METHOD="twitter.com";Ra.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await ui._fromIdTokenResponse(e,r,i),s=$1(r);return new Nu({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=$1(r);return new Nu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function $1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em extends qo{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Em.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Em(e,n,r,i)}}function d2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Em._fromErrorAndOperation(t,o,e,r):o})}async function G9(t,e,n=!1){const r=await Du(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Nu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K9(t,e,n=!1){const{auth:r}=t;if(ai(r.app))return Promise.reject(La(r));const i="reauthenticate";try{const o=await Du(t,d2(r,i,e,t),n);De(o.idToken,r,"internal-error");const s=SS(o.idToken);De(s,r,"internal-error");const{sub:u}=s;return De(t.uid===u,r,"user-mismatch"),Nu._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ci(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h2(t,e,n=!1){if(ai(t.app))return Promise.reject(La(t));const r="signIn",i=await d2(t,r,e),o=await Nu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function j9(t,e){return h2(tc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y9(t){const e=tc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function W9(t,e,n){return ai(t.app)?Promise.reject(La(t)):j9(Vt(t),nc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Y9(t),r})}function J9(t,e){return Q9(Vt(t),null,e)}async function Q9(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(o.password=n);const s=await Du(t,V9(r,o));await t._updateTokensIfNecessary(s,!0)}function X9(t,e,n,r){return Vt(t).onIdTokenChanged(e,n,r)}function Z9(t,e,n){return Vt(t).beforeAuthStateChanged(e,n)}function e$(t,e,n,r){return Vt(t).onAuthStateChanged(e,n,r)}function t$(t){return Vt(t).signOut()}const Sm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sm,"1"),this.storage.removeItem(Sm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n$=1e3,r$=10;class m2 extends p2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=a2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,u,f)=>{this.notifyListeners(s,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);v9()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,r$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},n$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}m2.type="LOCAL";const i$=m2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2 extends p2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}g2.type="SESSION";const y2=g2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new bg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(s).map(async c=>c(n.origin,o)),f=await o$(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((u,f)=>{const c=CS("",20);i.port1.start();const h=setTimeout(()=>{f(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(y){const _=y;if(_.data.eventId===c)switch(_.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(_.data.response);break;default:clearTimeout(h),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(){return window}function s$(t){Vi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function l$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function u$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function c$(){return v2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="firebaseLocalStorageDb",f$=1,Am="firebaseLocalStorage",T2="fbase_key";class Nd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cg(t,e){return t.transaction([Am],e?"readwrite":"readonly").objectStore(Am)}function d$(){const t=indexedDB.deleteDatabase(_2);return new Nd(t).toPromise()}function FT(){const t=indexedDB.open(_2,f$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Am,{keyPath:T2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Am)?e(r):(r.close(),await d$(),e(await FT()))})})}async function H1(t,e,n){const r=Cg(t,!0).put({[T2]:e,value:n});return new Nd(r).toPromise()}async function h$(t,e){const n=Cg(t,!1).get(e),r=await new Nd(n).toPromise();return r===void 0?null:r.value}function z1(t,e){const n=Cg(t,!0).delete(e);return new Nd(n).toPromise()}const p$=800,m$=3;class E2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await FT(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>m$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return v2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bg._getInstance(c$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await l$(),!this.activeServiceWorker)return;this.sender=new a$(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||u$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await FT();return await H1(e,Sm,"1"),await z1(e,Sm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>H1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>h$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>z1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Cg(i,!1).getAll();return new Nd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),p$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}E2.type="LOCAL";const g$=E2;new Md(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y$(t,e){return e?Ao(e):(De(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS extends wS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function v$(t){return h2(t.auth,new xS(t),t.bypassAuthState)}function _$(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),K9(n,new xS(t),t.bypassAuthState)}async function T$(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),G9(n,new xS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:u}=e;if(s){this.reject(s);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return v$;case"linkViaPopup":case"linkViaRedirect":return T$;case"reauthViaPopup":case"reauthViaRedirect":return _$;default:ci(this.auth,"internal-error")}}resolve(e){Do(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Do(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E$=new Md(2e3,1e4);class vu extends S2{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,vu.currentPopupAction&&vu.currentPopupAction.cancel(),vu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Do(this.filter.length===1,"Popup operations only handle one event");const e=CS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,E$.get())};e()}}vu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$="pendingRedirect",nm=new Map;class A$ extends S2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=nm.get(this.auth._key());if(!e){try{const r=await w$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}nm.set(this.auth._key(),e)}return this.bypassAuthState||nm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function w$(t,e){const n=x$(e),r=C$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function b$(t,e){nm.set(t._key(),e)}function C$(t){return Ao(t._redirectPersistence)}function x$(t){return tm(S$,t.config.apiKey,t.name)}async function I$(t,e,n=!1){if(ai(t.app))return Promise.reject(La(t));const r=tc(t),i=y$(r,e),s=await new A$(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$=600*1e3;class P${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!M$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!A2(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Li(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=R$&&this.cachedEventUids.clear(),this.cachedEventUids.has(G1(e))}saveEventToCache(e){this.cachedEventUids.add(G1(e)),this.lastProcessedEventTime=Date.now()}}function G1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function A2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function M$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D$(t,e={}){return Fo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,O$=/^https?/;async function k$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await D$(t);for(const n of e)try{if(L$(n))return}catch{}ci(t,"unauthorized-domain")}function L$(t){const e=BT(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!O$.test(n))return!1;if(N$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$=new Md(3e4,6e4);function K1(){const t=Vi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function U$(t){return new Promise((e,n)=>{var i,o,s;function r(){K1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{K1(),n(Li(t,"network-request-failed"))},timeout:V$.get()})}if((o=(i=Vi().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=Vi().gapi)!=null&&s.load)r();else{const u=x9("iframefcb");return Vi()[u]=()=>{gapi.load?r():n(Li(t,"network-request-failed"))},l2(`${C9()}?onload=${u}`).catch(f=>n(f))}}).catch(e=>{throw rm=null,e})}let rm=null;function B$(t){return rm=rm||U$(t),rm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$=new Md(5e3,15e3),F$="__/auth/iframe",$$="emulator/auth/iframe",H$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function G$(t){const e=t.config;De(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ES(e,$$):`https://${t.config.authDomain}/${F$}`,r={apiKey:e.apiKey,appName:t.name,v:ec},i=z$.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Pd(r).slice(1)}`}async function K$(t){const e=await B$(t),n=Vi().gapi;return De(n,t,"internal-error"),e.open({where:document.body,url:G$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:H$,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Li(t,"network-request-failed"),u=Vi().setTimeout(()=>{o(s)},q$.get());function f(){Vi().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Y$=500,W$=600,J$="_blank",Q$="http://localhost";class j1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function X$(t,e,n,r=Y$,i=W$){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...j$,width:r.toString(),height:i.toString(),top:o,left:s},c=Gn().toLowerCase();n&&(u=t2(c)?J$:n),ZO(c)&&(e=e||Q$,f.scrollbars="yes");const h=Object.entries(f).reduce((_,[S,A])=>`${_}${S}=${A},`,"");if(y9(c)&&u!=="_self")return Z$(e||"",u),new j1(null);const y=window.open(e||"",u,h);De(y,t,"popup-blocked");try{y.focus()}catch{}return new j1(y)}function Z$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH="__/auth/handler",tH="emulator/auth/handler",nH=encodeURIComponent("fac");async function Y1(t,e,n,r,i,o){De(t.config.authDomain,t,"auth-domain-config-required"),De(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ec,eventId:i};if(e instanceof f2){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",VF(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,y]of Object.entries({}))s[h]=y}if(e instanceof Dd){const h=e.getScopes().filter(y=>y!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const u=s;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const f=await t._getAppCheckToken(),c=f?`#${nH}=${encodeURIComponent(f)}`:"";return`${rH(t)}?${Pd(u).slice(1)}${c}`}function rH({config:t}){return t.emulator?ES(t,tH):`https://${t.authDomain}/${eH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="webStorageSupport";class iH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=y2,this._completeRedirectFn=I$,this._overrideRedirectResult=b$}async _openPopup(e,n,r,i){var s;Do((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Y1(e,n,r,BT(),i);return X$(e,o,CS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await Y1(e,n,r,BT(),i);return s$(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Do(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await K$(e),r=new P$(e);return n.register("authEvent",i=>(De(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(U0,{type:U0},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[U0];o!==void 0&&n(!!o),ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=k$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return a2()||e2()||AS()}}const oH=iH;var W1="@firebase/auth",J1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lH(t){Mu(new Zs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=r.options;De(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:s,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s2(t)},c=new A9(r,i,o,f);return N9(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Mu(new Zs("auth-internal",e=>{const n=tc(e.getProvider("auth").getImmediate());return(r=>new aH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ka(W1,J1,sH(t)),ka(W1,J1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uH=300,cH=LO("authIdTokenMaxAge")||uH;let Q1=null;const fH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>cH)return;const i=n==null?void 0:n.token;Q1!==i&&(Q1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function dH(t=$O()){const e=_S(t,"auth");if(e.isInitialized())return e.getImmediate();const n=D9(t,{popupRedirectResolver:oH,persistence:[g$,i$,y2]}),r=LO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=fH(o.toString());Z9(n,s,()=>s(n.currentUser)),X9(n,u=>s(u))}}const i=OO("auth");return i&&O9(n,`http://${i}`),n}function hH(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}w9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Li("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",hH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lH("Browser");var X1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Va,w2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,k){function N(){}N.prototype=k.prototype,O.D=k.prototype,O.prototype=new N,O.prototype.constructor=O,O.C=function(q,B,F){for(var H=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)H[Ae-2]=arguments[Ae];return k.prototype[B].apply(q,H)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,k,N){N||(N=0);var q=Array(16);if(typeof k=="string")for(var B=0;16>B;++B)q[B]=k.charCodeAt(N++)|k.charCodeAt(N++)<<8|k.charCodeAt(N++)<<16|k.charCodeAt(N++)<<24;else for(B=0;16>B;++B)q[B]=k[N++]|k[N++]<<8|k[N++]<<16|k[N++]<<24;k=O.g[0],N=O.g[1],B=O.g[2];var F=O.g[3],H=k+(F^N&(B^F))+q[0]+3614090360&4294967295;k=N+(H<<7&4294967295|H>>>25),H=F+(B^k&(N^B))+q[1]+3905402710&4294967295,F=k+(H<<12&4294967295|H>>>20),H=B+(N^F&(k^N))+q[2]+606105819&4294967295,B=F+(H<<17&4294967295|H>>>15),H=N+(k^B&(F^k))+q[3]+3250441966&4294967295,N=B+(H<<22&4294967295|H>>>10),H=k+(F^N&(B^F))+q[4]+4118548399&4294967295,k=N+(H<<7&4294967295|H>>>25),H=F+(B^k&(N^B))+q[5]+1200080426&4294967295,F=k+(H<<12&4294967295|H>>>20),H=B+(N^F&(k^N))+q[6]+2821735955&4294967295,B=F+(H<<17&4294967295|H>>>15),H=N+(k^B&(F^k))+q[7]+4249261313&4294967295,N=B+(H<<22&4294967295|H>>>10),H=k+(F^N&(B^F))+q[8]+1770035416&4294967295,k=N+(H<<7&4294967295|H>>>25),H=F+(B^k&(N^B))+q[9]+2336552879&4294967295,F=k+(H<<12&4294967295|H>>>20),H=B+(N^F&(k^N))+q[10]+4294925233&4294967295,B=F+(H<<17&4294967295|H>>>15),H=N+(k^B&(F^k))+q[11]+2304563134&4294967295,N=B+(H<<22&4294967295|H>>>10),H=k+(F^N&(B^F))+q[12]+1804603682&4294967295,k=N+(H<<7&4294967295|H>>>25),H=F+(B^k&(N^B))+q[13]+4254626195&4294967295,F=k+(H<<12&4294967295|H>>>20),H=B+(N^F&(k^N))+q[14]+2792965006&4294967295,B=F+(H<<17&4294967295|H>>>15),H=N+(k^B&(F^k))+q[15]+1236535329&4294967295,N=B+(H<<22&4294967295|H>>>10),H=k+(B^F&(N^B))+q[1]+4129170786&4294967295,k=N+(H<<5&4294967295|H>>>27),H=F+(N^B&(k^N))+q[6]+3225465664&4294967295,F=k+(H<<9&4294967295|H>>>23),H=B+(k^N&(F^k))+q[11]+643717713&4294967295,B=F+(H<<14&4294967295|H>>>18),H=N+(F^k&(B^F))+q[0]+3921069994&4294967295,N=B+(H<<20&4294967295|H>>>12),H=k+(B^F&(N^B))+q[5]+3593408605&4294967295,k=N+(H<<5&4294967295|H>>>27),H=F+(N^B&(k^N))+q[10]+38016083&4294967295,F=k+(H<<9&4294967295|H>>>23),H=B+(k^N&(F^k))+q[15]+3634488961&4294967295,B=F+(H<<14&4294967295|H>>>18),H=N+(F^k&(B^F))+q[4]+3889429448&4294967295,N=B+(H<<20&4294967295|H>>>12),H=k+(B^F&(N^B))+q[9]+568446438&4294967295,k=N+(H<<5&4294967295|H>>>27),H=F+(N^B&(k^N))+q[14]+3275163606&4294967295,F=k+(H<<9&4294967295|H>>>23),H=B+(k^N&(F^k))+q[3]+4107603335&4294967295,B=F+(H<<14&4294967295|H>>>18),H=N+(F^k&(B^F))+q[8]+1163531501&4294967295,N=B+(H<<20&4294967295|H>>>12),H=k+(B^F&(N^B))+q[13]+2850285829&4294967295,k=N+(H<<5&4294967295|H>>>27),H=F+(N^B&(k^N))+q[2]+4243563512&4294967295,F=k+(H<<9&4294967295|H>>>23),H=B+(k^N&(F^k))+q[7]+1735328473&4294967295,B=F+(H<<14&4294967295|H>>>18),H=N+(F^k&(B^F))+q[12]+2368359562&4294967295,N=B+(H<<20&4294967295|H>>>12),H=k+(N^B^F)+q[5]+4294588738&4294967295,k=N+(H<<4&4294967295|H>>>28),H=F+(k^N^B)+q[8]+2272392833&4294967295,F=k+(H<<11&4294967295|H>>>21),H=B+(F^k^N)+q[11]+1839030562&4294967295,B=F+(H<<16&4294967295|H>>>16),H=N+(B^F^k)+q[14]+4259657740&4294967295,N=B+(H<<23&4294967295|H>>>9),H=k+(N^B^F)+q[1]+2763975236&4294967295,k=N+(H<<4&4294967295|H>>>28),H=F+(k^N^B)+q[4]+1272893353&4294967295,F=k+(H<<11&4294967295|H>>>21),H=B+(F^k^N)+q[7]+4139469664&4294967295,B=F+(H<<16&4294967295|H>>>16),H=N+(B^F^k)+q[10]+3200236656&4294967295,N=B+(H<<23&4294967295|H>>>9),H=k+(N^B^F)+q[13]+681279174&4294967295,k=N+(H<<4&4294967295|H>>>28),H=F+(k^N^B)+q[0]+3936430074&4294967295,F=k+(H<<11&4294967295|H>>>21),H=B+(F^k^N)+q[3]+3572445317&4294967295,B=F+(H<<16&4294967295|H>>>16),H=N+(B^F^k)+q[6]+76029189&4294967295,N=B+(H<<23&4294967295|H>>>9),H=k+(N^B^F)+q[9]+3654602809&4294967295,k=N+(H<<4&4294967295|H>>>28),H=F+(k^N^B)+q[12]+3873151461&4294967295,F=k+(H<<11&4294967295|H>>>21),H=B+(F^k^N)+q[15]+530742520&4294967295,B=F+(H<<16&4294967295|H>>>16),H=N+(B^F^k)+q[2]+3299628645&4294967295,N=B+(H<<23&4294967295|H>>>9),H=k+(B^(N|~F))+q[0]+4096336452&4294967295,k=N+(H<<6&4294967295|H>>>26),H=F+(N^(k|~B))+q[7]+1126891415&4294967295,F=k+(H<<10&4294967295|H>>>22),H=B+(k^(F|~N))+q[14]+2878612391&4294967295,B=F+(H<<15&4294967295|H>>>17),H=N+(F^(B|~k))+q[5]+4237533241&4294967295,N=B+(H<<21&4294967295|H>>>11),H=k+(B^(N|~F))+q[12]+1700485571&4294967295,k=N+(H<<6&4294967295|H>>>26),H=F+(N^(k|~B))+q[3]+2399980690&4294967295,F=k+(H<<10&4294967295|H>>>22),H=B+(k^(F|~N))+q[10]+4293915773&4294967295,B=F+(H<<15&4294967295|H>>>17),H=N+(F^(B|~k))+q[1]+2240044497&4294967295,N=B+(H<<21&4294967295|H>>>11),H=k+(B^(N|~F))+q[8]+1873313359&4294967295,k=N+(H<<6&4294967295|H>>>26),H=F+(N^(k|~B))+q[15]+4264355552&4294967295,F=k+(H<<10&4294967295|H>>>22),H=B+(k^(F|~N))+q[6]+2734768916&4294967295,B=F+(H<<15&4294967295|H>>>17),H=N+(F^(B|~k))+q[13]+1309151649&4294967295,N=B+(H<<21&4294967295|H>>>11),H=k+(B^(N|~F))+q[4]+4149444226&4294967295,k=N+(H<<6&4294967295|H>>>26),H=F+(N^(k|~B))+q[11]+3174756917&4294967295,F=k+(H<<10&4294967295|H>>>22),H=B+(k^(F|~N))+q[2]+718787259&4294967295,B=F+(H<<15&4294967295|H>>>17),H=N+(F^(B|~k))+q[9]+3951481745&4294967295,O.g[0]=O.g[0]+k&4294967295,O.g[1]=O.g[1]+(B+(H<<21&4294967295|H>>>11))&4294967295,O.g[2]=O.g[2]+B&4294967295,O.g[3]=O.g[3]+F&4294967295}r.prototype.u=function(O,k){k===void 0&&(k=O.length);for(var N=k-this.blockSize,q=this.B,B=this.h,F=0;F<k;){if(B==0)for(;F<=N;)i(this,O,F),F+=this.blockSize;if(typeof O=="string"){for(;F<k;)if(q[B++]=O.charCodeAt(F++),B==this.blockSize){i(this,q),B=0;break}}else for(;F<k;)if(q[B++]=O[F++],B==this.blockSize){i(this,q),B=0;break}}this.h=B,this.o+=k},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var k=1;k<O.length-8;++k)O[k]=0;var N=8*this.o;for(k=O.length-8;k<O.length;++k)O[k]=N&255,N/=256;for(this.u(O),O=Array(16),k=N=0;4>k;++k)for(var q=0;32>q;q+=8)O[N++]=this.g[k]>>>q&255;return O};function o(O,k){var N=u;return Object.prototype.hasOwnProperty.call(N,O)?N[O]:N[O]=k(O)}function s(O,k){this.h=k;for(var N=[],q=!0,B=O.length-1;0<=B;B--){var F=O[B]|0;q&&F==k||(N[B]=F,q=!1)}this.g=N}var u={};function f(O){return-128<=O&&128>O?o(O,function(k){return new s([k|0],0>k?-1:0)}):new s([O|0],0>O?-1:0)}function c(O){if(isNaN(O)||!isFinite(O))return y;if(0>O)return C(c(-O));for(var k=[],N=1,q=0;O>=N;q++)k[q]=O/N|0,N*=4294967296;return new s(k,0)}function h(O,k){if(O.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(O.charAt(0)=="-")return C(h(O.substring(1),k));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=c(Math.pow(k,8)),q=y,B=0;B<O.length;B+=8){var F=Math.min(8,O.length-B),H=parseInt(O.substring(B,B+F),k);8>F?(F=c(Math.pow(k,F)),q=q.j(F).add(c(H))):(q=q.j(N),q=q.add(c(H)))}return q}var y=f(0),_=f(1),S=f(16777216);t=s.prototype,t.m=function(){if(w(this))return-C(this).m();for(var O=0,k=1,N=0;N<this.g.length;N++){var q=this.i(N);O+=(0<=q?q:4294967296+q)*k,k*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(A(this))return"0";if(w(this))return"-"+C(this).toString(O);for(var k=c(Math.pow(O,6)),N=this,q="";;){var B=$(N,k).g;N=R(N,B.j(k));var F=((0<N.g.length?N.g[0]:N.h)>>>0).toString(O);if(N=B,A(N))return F+q;for(;6>F.length;)F="0"+F;q=F+q}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function A(O){if(O.h!=0)return!1;for(var k=0;k<O.g.length;k++)if(O.g[k]!=0)return!1;return!0}function w(O){return O.h==-1}t.l=function(O){return O=R(this,O),w(O)?-1:A(O)?0:1};function C(O){for(var k=O.g.length,N=[],q=0;q<k;q++)N[q]=~O.g[q];return new s(N,~O.h).add(_)}t.abs=function(){return w(this)?C(this):this},t.add=function(O){for(var k=Math.max(this.g.length,O.g.length),N=[],q=0,B=0;B<=k;B++){var F=q+(this.i(B)&65535)+(O.i(B)&65535),H=(F>>>16)+(this.i(B)>>>16)+(O.i(B)>>>16);q=H>>>16,F&=65535,H&=65535,N[B]=H<<16|F}return new s(N,N[N.length-1]&-2147483648?-1:0)};function R(O,k){return O.add(C(k))}t.j=function(O){if(A(this)||A(O))return y;if(w(this))return w(O)?C(this).j(C(O)):C(C(this).j(O));if(w(O))return C(this.j(C(O)));if(0>this.l(S)&&0>O.l(S))return c(this.m()*O.m());for(var k=this.g.length+O.g.length,N=[],q=0;q<2*k;q++)N[q]=0;for(q=0;q<this.g.length;q++)for(var B=0;B<O.g.length;B++){var F=this.i(q)>>>16,H=this.i(q)&65535,Ae=O.i(B)>>>16,ye=O.i(B)&65535;N[2*q+2*B]+=H*ye,D(N,2*q+2*B),N[2*q+2*B+1]+=F*ye,D(N,2*q+2*B+1),N[2*q+2*B+1]+=H*Ae,D(N,2*q+2*B+1),N[2*q+2*B+2]+=F*Ae,D(N,2*q+2*B+2)}for(q=0;q<k;q++)N[q]=N[2*q+1]<<16|N[2*q];for(q=k;q<2*k;q++)N[q]=0;return new s(N,0)};function D(O,k){for(;(O[k]&65535)!=O[k];)O[k+1]+=O[k]>>>16,O[k]&=65535,k++}function I(O,k){this.g=O,this.h=k}function $(O,k){if(A(k))throw Error("division by zero");if(A(O))return new I(y,y);if(w(O))return k=$(C(O),k),new I(C(k.g),C(k.h));if(w(k))return k=$(O,C(k)),new I(C(k.g),k.h);if(30<O.g.length){if(w(O)||w(k))throw Error("slowDivide_ only works with positive integers.");for(var N=_,q=k;0>=q.l(O);)N=U(N),q=U(q);var B=G(N,1),F=G(q,1);for(q=G(q,2),N=G(N,2);!A(q);){var H=F.add(q);0>=H.l(O)&&(B=B.add(N),F=H),q=G(q,1),N=G(N,1)}return k=R(O,B.j(k)),new I(B,k)}for(B=y;0<=O.l(k);){for(N=Math.max(1,Math.floor(O.m()/k.m())),q=Math.ceil(Math.log(N)/Math.LN2),q=48>=q?1:Math.pow(2,q-48),F=c(N),H=F.j(k);w(H)||0<H.l(O);)N-=q,F=c(N),H=F.j(k);A(F)&&(F=_),B=B.add(F),O=R(O,H)}return new I(B,O)}t.A=function(O){return $(this,O).h},t.and=function(O){for(var k=Math.max(this.g.length,O.g.length),N=[],q=0;q<k;q++)N[q]=this.i(q)&O.i(q);return new s(N,this.h&O.h)},t.or=function(O){for(var k=Math.max(this.g.length,O.g.length),N=[],q=0;q<k;q++)N[q]=this.i(q)|O.i(q);return new s(N,this.h|O.h)},t.xor=function(O){for(var k=Math.max(this.g.length,O.g.length),N=[],q=0;q<k;q++)N[q]=this.i(q)^O.i(q);return new s(N,this.h^O.h)};function U(O){for(var k=O.g.length+1,N=[],q=0;q<k;q++)N[q]=O.i(q)<<1|O.i(q-1)>>>31;return new s(N,O.h)}function G(O,k){var N=k>>5;k%=32;for(var q=O.g.length-N,B=[],F=0;F<q;F++)B[F]=0<k?O.i(F+N)>>>k|O.i(F+N+1)<<32-k:O.i(F+N);return new s(B,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,w2=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=h,Va=s}).apply(typeof X1<"u"?X1:typeof self<"u"?self:typeof window<"u"?window:{});var Pp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var b2,Hf,C2,im,$T,x2,I2,R2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,b,x){return v==Array.prototype||v==Object.prototype||(v[b]=x.value),v};function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pp=="object"&&Pp];for(var b=0;b<v.length;++b){var x=v[b];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(v,b){if(b)e:{var x=r;v=v.split(".");for(var V=0;V<v.length-1;V++){var J=v[V];if(!(J in x))break e;x=x[J]}v=v[v.length-1],V=x[v],b=b(V),b!=V&&b!=null&&e(x,v,{configurable:!0,writable:!0,value:b})}}function o(v,b){v instanceof String&&(v+="");var x=0,V=!1,J={next:function(){if(!V&&x<v.length){var ne=x++;return{value:b(ne,v[ne]),done:!1}}return V=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(v){return v||function(){return o(this,function(b,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},u=this||self;function f(v){var b=typeof v;return b=b!="object"?b:v?Array.isArray(v)?"array":b:"null",b=="array"||b=="object"&&typeof v.length=="number"}function c(v){var b=typeof v;return b=="object"&&v!=null||b=="function"}function h(v,b,x){return v.call.apply(v.bind,arguments)}function y(v,b,x){if(!v)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,V),v.apply(b,J)}}return function(){return v.apply(b,arguments)}}function _(v,b,x){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:y,_.apply(null,arguments)}function S(v,b){var x=Array.prototype.slice.call(arguments,1);return function(){var V=x.slice();return V.push.apply(V,arguments),v.apply(this,V)}}function A(v,b){function x(){}x.prototype=b.prototype,v.aa=b.prototype,v.prototype=new x,v.prototype.constructor=v,v.Qb=function(V,J,ne){for(var pe=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)pe[Je-2]=arguments[Je];return b.prototype[J].apply(V,pe)}}function w(v){const b=v.length;if(0<b){const x=Array(b);for(let V=0;V<b;V++)x[V]=v[V];return x}return[]}function C(v,b){for(let x=1;x<arguments.length;x++){const V=arguments[x];if(f(V)){const J=v.length||0,ne=V.length||0;v.length=J+ne;for(let pe=0;pe<ne;pe++)v[J+pe]=V[pe]}else v.push(V)}}class R{constructor(b,x){this.i=b,this.j=x,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function D(v){return/^[\s\xa0]*$/.test(v)}function I(){var v=u.navigator;return v&&(v=v.userAgent)?v:""}function $(v){return $[" "](v),v}$[" "]=function(){};var U=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function G(v,b,x){for(const V in v)b.call(x,v[V],V,v)}function O(v,b){for(const x in v)b.call(void 0,v[x],x,v)}function k(v){const b={};for(const x in v)b[x]=v[x];return b}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(v,b){let x,V;for(let J=1;J<arguments.length;J++){V=arguments[J];for(x in V)v[x]=V[x];for(let ne=0;ne<N.length;ne++)x=N[ne],Object.prototype.hasOwnProperty.call(V,x)&&(v[x]=V[x])}}function B(v){var b=1;v=v.split(":");const x=[];for(;0<b&&v.length;)x.push(v.shift()),b--;return v.length&&x.push(v.join(":")),x}function F(v){u.setTimeout(()=>{throw v},0)}function H(){var v=Le;let b=null;return v.g&&(b=v.g,v.g=v.g.next,v.g||(v.h=null),b.next=null),b}class Ae{constructor(){this.h=this.g=null}add(b,x){const V=ye.get();V.set(b,x),this.h?this.h.next=V:this.g=V,this.h=V}}var ye=new R(()=>new Z,v=>v.reset());class Z{constructor(){this.next=this.g=this.h=null}set(b,x){this.h=b,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ve=!1,Le=new Ae,j=()=>{const v=u.Promise.resolve(void 0);de=()=>{v.then(ue)}};var ue=()=>{for(var v;v=H();){try{v.h.call(v.g)}catch(x){F(x)}var b=ye;b.j(v),100>b.h&&(b.h++,v.next=b.g,b.g=v)}ve=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(v,b){this.type=v,this.g=this.target=b,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var we=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var v=!1,b=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const x=()=>{};u.addEventListener("test",x,b),u.removeEventListener("test",x,b)}catch{}return v})();function Ie(v,b){if(he.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var x=this.type=v.type,V=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=b,b=v.relatedTarget){if(U){e:{try{$(b.nodeName);var J=!0;break e}catch{}J=!1}J||(b=null)}}else x=="mouseover"?b=v.fromElement:x=="mouseout"&&(b=v.toElement);this.relatedTarget=b,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:Oe[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&Ie.aa.h.call(this)}}A(Ie,he);var Oe={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var Ht="closure_listenable_"+(1e6*Math.random()|0),ft=0;function ge(v,b,x,V,J){this.listener=v,this.proxy=null,this.src=b,this.type=x,this.capture=!!V,this.ha=J,this.key=++ft,this.da=this.fa=!1}function Ve(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function qe(v){this.src=v,this.g={},this.h=0}qe.prototype.add=function(v,b,x,V,J){var ne=v.toString();v=this.g[ne],v||(v=this.g[ne]=[],this.h++);var pe=Dt(v,b,V,J);return-1<pe?(b=v[pe],x||(b.fa=!1)):(b=new ge(b,this.src,ne,!!V,J),b.fa=x,v.push(b)),b};function fe(v,b){var x=b.type;if(x in v.g){var V=v.g[x],J=Array.prototype.indexOf.call(V,b,void 0),ne;(ne=0<=J)&&Array.prototype.splice.call(V,J,1),ne&&(Ve(b),v.g[x].length==0&&(delete v.g[x],v.h--))}}function Dt(v,b,x,V){for(var J=0;J<v.length;++J){var ne=v[J];if(!ne.da&&ne.listener==b&&ne.capture==!!x&&ne.ha==V)return J}return-1}var We="closure_lm_"+(1e6*Math.random()|0),en={};function hn(v,b,x,V,J){if(Array.isArray(b)){for(var ne=0;ne<b.length;ne++)hn(v,b[ne],x,V,J);return null}return x=oh(x),v&&v[Ht]?v.K(b,x,c(V)?!!V.capture:!1,J):zt(v,b,x,!1,V,J)}function zt(v,b,x,V,J,ne){if(!b)throw Error("Invalid event type");var pe=c(J)?!!J.capture:!!J,Je=El(v);if(Je||(v[We]=Je=new qe(v)),x=Je.add(b,x,V,pe,ne),x.proxy)return x;if(V=_l(),x.proxy=V,V.src=v,V.listener=x,v.addEventListener)we||(J=pe),J===void 0&&(J=!1),v.addEventListener(b.toString(),V,J);else if(v.attachEvent)v.attachEvent(ts(b.toString()),V);else if(v.addListener&&v.removeListener)v.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return x}function _l(){function v(x){return b.call(v.src,v.listener,x)}const b=wy;return v}function Ec(v,b,x,V,J){if(Array.isArray(b))for(var ne=0;ne<b.length;ne++)Ec(v,b[ne],x,V,J);else V=c(V)?!!V.capture:!!V,x=oh(x),v&&v[Ht]?(v=v.i,b=String(b).toString(),b in v.g&&(ne=v.g[b],x=Dt(ne,x,V,J),-1<x&&(Ve(ne[x]),Array.prototype.splice.call(ne,x,1),ne.length==0&&(delete v.g[b],v.h--)))):v&&(v=El(v))&&(b=v.g[b.toString()],v=-1,b&&(v=Dt(b,x,V,J)),(x=-1<v?b[v]:null)&&Tl(x))}function Tl(v){if(typeof v!="number"&&v&&!v.da){var b=v.src;if(b&&b[Ht])fe(b.i,v);else{var x=v.type,V=v.proxy;b.removeEventListener?b.removeEventListener(x,V,v.capture):b.detachEvent?b.detachEvent(ts(x),V):b.addListener&&b.removeListener&&b.removeListener(V),(x=El(b))?(fe(x,v),x.h==0&&(x.src=null,b[We]=null)):Ve(v)}}}function ts(v){return v in en?en[v]:en[v]="on"+v}function wy(v,b){if(v.da)v=!0;else{b=new Ie(b,this);var x=v.listener,V=v.ha||v.src;v.fa&&Tl(v),v=x.call(V,b)}return v}function El(v){return v=v[We],v instanceof qe?v:null}var Sc="__closure_events_fn_"+(1e9*Math.random()>>>0);function oh(v){return typeof v=="function"?v:(v[Sc]||(v[Sc]=function(b){return v.handleEvent(b)}),v[Sc])}function Nt(){ae.call(this),this.i=new qe(this),this.M=this,this.F=null}A(Nt,ae),Nt.prototype[Ht]=!0,Nt.prototype.removeEventListener=function(v,b,x,V){Ec(this,v,b,x,V)};function at(v,b){var x,V=v.F;if(V)for(x=[];V;V=V.F)x.push(V);if(v=v.M,V=b.type||b,typeof b=="string")b=new he(b,v);else if(b instanceof he)b.target=b.target||v;else{var J=b;b=new he(V,v),q(b,J)}if(J=!0,x)for(var ne=x.length-1;0<=ne;ne--){var pe=b.g=x[ne];J=lr(pe,V,!0,b)&&J}if(pe=b.g=v,J=lr(pe,V,!0,b)&&J,J=lr(pe,V,!1,b)&&J,x)for(ne=0;ne<x.length;ne++)pe=b.g=x[ne],J=lr(pe,V,!1,b)&&J}Nt.prototype.N=function(){if(Nt.aa.N.call(this),this.i){var v=this.i,b;for(b in v.g){for(var x=v.g[b],V=0;V<x.length;V++)Ve(x[V]);delete v.g[b],v.h--}}this.F=null},Nt.prototype.K=function(v,b,x,V){return this.i.add(String(v),b,!1,x,V)},Nt.prototype.L=function(v,b,x,V){return this.i.add(String(v),b,!0,x,V)};function lr(v,b,x,V){if(b=v.i.g[String(b)],!b)return!0;b=b.concat();for(var J=!0,ne=0;ne<b.length;++ne){var pe=b[ne];if(pe&&!pe.da&&pe.capture==x){var Je=pe.listener,nn=pe.ha||pe.src;pe.fa&&fe(v.i,pe),J=Je.call(nn,V)!==!1&&J}}return J&&!V.defaultPrevented}function Ln(v,b,x){if(typeof v=="function")x&&(v=_(v,x));else if(v&&typeof v.handleEvent=="function")v=_(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:u.setTimeout(v,b||0)}function ah(v){v.g=Ln(()=>{v.g=null,v.i&&(v.i=!1,ah(v))},v.l);const b=v.h;v.h=null,v.m.apply(null,b)}class by extends ae{constructor(b,x){super(),this.m=b,this.l=x,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:ah(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ns(v){ae.call(this),this.h=v,this.g={}}A(ns,ae);var rs=[];function is(v){G(v.g,function(b,x){this.g.hasOwnProperty(x)&&Tl(b)},v),v.g={}}ns.prototype.N=function(){ns.aa.N.call(this),is(this)},ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ei=u.JSON.stringify,Sl=u.JSON.parse,os=class{stringify(v){return u.JSON.stringify(v,void 0)}parse(v){return u.JSON.parse(v,void 0)}};function Ac(){}Ac.prototype.h=null;function wc(v){return v.h||(v.h=v.i())}function bc(){}var Yi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wi(){he.call(this,"d")}A(Wi,he);function Cc(){he.call(this,"c")}A(Cc,he);var vi={},xc=null;function Yo(){return xc=xc||new Nt}vi.La="serverreachability";function Al(v){he.call(this,vi.La,v)}A(Al,he);function Wo(v){const b=Yo();at(b,new Al(b))}vi.STAT_EVENT="statevent";function sh(v,b){he.call(this,vi.STAT_EVENT,v),this.stat=b}A(sh,he);function Ct(v){const b=Yo();at(b,new sh(b,v))}vi.Ma="timingevent";function tn(v,b){he.call(this,vi.Ma,v),this.size=b}A(tn,he);function Gt(v,b){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){v()},b)}function Pr(){this.g=!0}Pr.prototype.xa=function(){this.g=!1};function Ic(v,b,x,V,J,ne){v.info(function(){if(v.g)if(ne)for(var pe="",Je=ne.split("&"),nn=0;nn<Je.length;nn++){var Qe=Je[nn].split("=");if(1<Qe.length){var mn=Qe[0];Qe=Qe[1];var rn=mn.split("_");pe=2<=rn.length&&rn[1]=="type"?pe+(mn+"="+Qe+"&"):pe+(mn+"=redacted&")}}else pe=null;else pe=ne;return"XMLHTTP REQ ("+V+") [attempt "+J+"]: "+b+`
`+x+`
`+pe})}function Cy(v,b,x,V,J,ne,pe){v.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+J+"]: "+b+`
`+x+`
`+ne+" "+pe})}function Jo(v,b,x,V){v.info(function(){return"XMLHTTP TEXT ("+b+"): "+as(v,x)+(V?" "+V:"")})}function lh(v,b){v.info(function(){return"TIMEOUT: "+b})}Pr.prototype.info=function(){};function as(v,b){if(!v.g)return b;if(!b)return null;try{var x=JSON.parse(b);if(x){for(v=0;v<x.length;v++)if(Array.isArray(x[v])){var V=x[v];if(!(2>V.length)){var J=V[1];if(Array.isArray(J)&&!(1>J.length)){var ne=J[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var pe=1;pe<J.length;pe++)J[pe]=""}}}}return ei(x)}catch{return b}}var Qo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ji={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_i;function Ti(){}A(Ti,Ac),Ti.prototype.g=function(){return new XMLHttpRequest},Ti.prototype.i=function(){return{}},_i=new Ti;function Kn(v,b,x,V){this.j=v,this.i=b,this.l=x,this.R=V||1,this.U=new ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ut}function Ut(){this.i=null,this.g="",this.h=!1}var Rc={},wl={};function ti(v,b,x){v.L=1,v.v=fs(ur(b)),v.m=x,v.P=!0,Qi(v,null)}function Qi(v,b){v.F=Date.now(),ss(v),v.A=ur(v.v);var x=v.A,V=v.R;Array.isArray(V)||(V=[String(V)]),kc(x.i,"t",V),v.C=0,x=v.j.J,v.h=new Ut,v.g=wh(v.j,x?b:null,!v.m),0<v.O&&(v.M=new by(_(v.Y,v,v.g),v.O)),b=v.U,x=v.g,V=v.ca;var J="readystatechange";Array.isArray(J)||(J&&(rs[0]=J.toString()),J=rs);for(var ne=0;ne<J.length;ne++){var pe=hn(x,J[ne],V||b.handleEvent,!1,b.h||b);if(!pe)break;b.g[pe.key]=pe}b=v.H?k(v.H):{},v.m?(v.u||(v.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,b)):(v.u="GET",v.g.ea(v.A,v.u,null,b)),Wo(),Ic(v.i,v.u,v.A,v.l,v.R,v.m)}Kn.prototype.ca=function(v){v=v.target;const b=this.M;b&&Or(v)==3?b.j():this.Y(v)},Kn.prototype.Y=function(v){try{if(v==this.g)e:{const rn=Or(this.g);var b=this.g.Ba();const oo=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||gh(this.g)))){this.J||rn!=4||b==7||(b==8||0>=oo?Wo(3):Wo(2)),Xo(this);var x=this.g.Z();this.X=x;t:if(uh(this)){var V=gh(this.g);v="";var J=V.length,ne=Or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bn(this),Ei(this);var pe="";break t}this.h.i=new u.TextDecoder}for(b=0;b<J;b++)this.h.h=!0,v+=this.h.i.decode(V[b],{stream:!(ne&&b==J-1)});V.length=0,this.h.g+=v,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=x==200,Cy(this.i,this.u,this.A,this.l,this.R,rn,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,nn=this.g;if((Je=nn.g?nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(Je)){var Qe=Je;break t}}Qe=null}if(x=Qe)Jo(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ls(this,x);else{this.o=!1,this.s=3,Ct(12),bn(this),Ei(this);break e}}if(this.P){x=!0;let Cn;for(;!this.J&&this.C<pe.length;)if(Cn=ch(this,pe),Cn==wl){rn==4&&(this.s=4,Ct(14),x=!1),Jo(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==Rc){this.s=4,Ct(15),Jo(this.i,this.l,pe,"[Invalid Chunk]"),x=!1;break}else Jo(this.i,this.l,Cn,null),ls(this,Cn);if(uh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||pe.length!=0||this.h.h||(this.s=1,Ct(16),x=!1),this.o=this.o&&x,!x)Jo(this.i,this.l,pe,"[Invalid Chunked Response]"),bn(this),Ei(this);else if(0<pe.length&&!this.W){this.W=!0;var mn=this.j;mn.g==this&&mn.ba&&!mn.M&&(mn.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),_s(mn),mn.M=!0,Ct(11))}}else Jo(this.i,this.l,pe,null),ls(this,pe);rn==4&&bn(this),this.o&&!this.J&&(rn==4?Eh(this.j,this):(this.o=!1,ss(this)))}else My(this.g),x==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),bn(this),Ei(this)}}}catch{}finally{}};function uh(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function ch(v,b){var x=v.C,V=b.indexOf(`
`,x);return V==-1?wl:(x=Number(b.substring(x,V)),isNaN(x)?Rc:(V+=1,V+x>b.length?wl:(b=b.slice(V,V+x),v.C=V+x,b)))}Kn.prototype.cancel=function(){this.J=!0,bn(this)};function ss(v){v.S=Date.now()+v.I,fh(v,v.I)}function fh(v,b){if(v.B!=null)throw Error("WatchDog timer not null");v.B=Gt(_(v.ba,v),b)}function Xo(v){v.B&&(u.clearTimeout(v.B),v.B=null)}Kn.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(lh(this.i,this.A),this.L!=2&&(Wo(),Ct(17)),bn(this),this.s=2,Ei(this)):fh(this,this.S-v)};function Ei(v){v.j.G==0||v.J||Eh(v.j,v)}function bn(v){Xo(v);var b=v.M;b&&typeof b.ma=="function"&&b.ma(),v.M=null,is(v.U),v.g&&(b=v.g,v.g=null,b.abort(),b.ma())}function ls(v,b){try{var x=v.j;if(x.G!=0&&(x.g==v||Pc(x.h,v))){if(!v.K&&Pc(x.h,v)&&x.G==3){try{var V=x.Da.g.parse(b)}catch{V=null}if(Array.isArray(V)&&V.length==3){var J=V;if(J[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<v.F)Ll(x),Ol(x);else break e;qc(x),Ct(18)}}else x.za=J[1],0<x.za-x.T&&37500>J[2]&&x.F&&x.v==0&&!x.C&&(x.C=Gt(_(x.Za,x),6e3));if(1>=Cl(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else io(x,11)}else if((v.K||x.g==v)&&Ll(x),!D(b))for(J=x.Da.g.parse(b),b=0;b<J.length;b++){let Qe=J[b];if(x.T=Qe[0],Qe=Qe[1],x.G==2)if(Qe[0]=="c"){x.K=Qe[1],x.ia=Qe[2];const mn=Qe[3];mn!=null&&(x.la=mn,x.j.info("VER="+x.la));const rn=Qe[4];rn!=null&&(x.Aa=rn,x.j.info("SVER="+x.Aa));const oo=Qe[5];oo!=null&&typeof oo=="number"&&0<oo&&(V=1.5*oo,x.L=V,x.j.info("backChannelRequestTimeoutMs_="+V)),V=x;const Cn=v.g;if(Cn){const Ii=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ii){var ne=V.h;ne.g||Ii.indexOf("spdy")==-1&&Ii.indexOf("quic")==-1&&Ii.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(xl(ne,ne.h),ne.h=null))}if(V.D){const $c=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;$c&&(V.ya=$c,dt(V.I,V.D,$c))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-v.F,x.j.info("Handshake RTT: "+x.R+"ms")),V=x;var pe=v;if(V.qa=Ah(V,V.J?V.ia:null,V.W),pe.K){jn(V.h,pe);var Je=pe,nn=V.L;nn&&(Je.I=nn),Je.B&&(Xo(Je),ss(Je)),V.g=pe}else _h(V);0<x.i.length&&kl(x)}else Qe[0]!="stop"&&Qe[0]!="close"||io(x,7);else x.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?io(x,7):Uc(x):Qe[0]!="noop"&&x.l&&x.l.ta(Qe),x.v=0)}}Wo(4)}catch{}}var dh=class{constructor(v,b){this.g=v,this.map=b}};function Xi(v){this.l=v||10,u.PerformanceNavigationTiming?(v=u.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bl(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function Cl(v){return v.h?1:v.g?v.g.size:0}function Pc(v,b){return v.h?v.h==b:v.g?v.g.has(b):!1}function xl(v,b){v.g?v.g.add(b):v.h=b}function jn(v,b){v.h&&v.h==b?v.h=null:v.g&&v.g.has(b)&&v.g.delete(b)}Xi.prototype.cancel=function(){if(this.i=Mc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Mc(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let b=v.i;for(const x of v.g.values())b=b.concat(x.D);return b}return w(v.i)}function xy(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(f(v)){for(var b=[],x=v.length,V=0;V<x;V++)b.push(v[V]);return b}b=[],x=0;for(V in v)b[x++]=v[V];return b}function Il(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(f(v)||typeof v=="string"){var b=[];v=v.length;for(var x=0;x<v;x++)b.push(x);return b}b=[],x=0;for(const V in v)b[x++]=V;return b}}}function Dc(v,b){if(v.forEach&&typeof v.forEach=="function")v.forEach(b,void 0);else if(f(v)||typeof v=="string")Array.prototype.forEach.call(v,b,void 0);else for(var x=Il(v),V=xy(v),J=V.length,ne=0;ne<J;ne++)b.call(void 0,V[ne],x&&x[ne],v)}var us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Iy(v,b){if(v){v=v.split("&");for(var x=0;x<v.length;x++){var V=v[x].indexOf("="),J=null;if(0<=V){var ne=v[x].substring(0,V);J=v[x].substring(V+1)}else ne=v[x];b(ne,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Kt(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof Kt){this.h=v.h,cs(this,v.j),this.o=v.o,this.g=v.g,Zo(this,v.s),this.l=v.l;var b=v.i,x=new eo;x.i=b.i,b.g&&(x.g=new Map(b.g),x.h=b.h),Zi(this,x),this.m=v.m}else v&&(b=String(v).match(us))?(this.h=!1,cs(this,b[1]||"",!0),this.o=Mr(b[2]||""),this.g=Mr(b[3]||"",!0),Zo(this,b[4]),this.l=Mr(b[5]||"",!0),Zi(this,b[6]||"",!0),this.m=Mr(b[7]||"")):(this.h=!1,this.i=new eo(null,this.h))}Kt.prototype.toString=function(){var v=[],b=this.j;b&&v.push(ds(b,Nc,!0),":");var x=this.g;return(x||b=="file")&&(v.push("//"),(b=this.o)&&v.push(ds(b,Nc,!0),"@"),v.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&v.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&v.push("/"),v.push(ds(x,x.charAt(0)=="/"?Ry:Oc,!0))),(x=this.i.toString())&&v.push("?",x),(x=this.m)&&v.push("#",ds(x,Rl)),v.join("")};function ur(v){return new Kt(v)}function cs(v,b,x){v.j=x?Mr(b,!0):b,v.j&&(v.j=v.j.replace(/:$/,""))}function Zo(v,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);v.s=b}else v.s=null}function Zi(v,b,x){b instanceof eo?(v.i=b,ph(v.i,v.h)):(x||(b=ds(b,Py)),v.i=new eo(b,v.h))}function dt(v,b,x){v.i.set(b,x)}function fs(v){return dt(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function Mr(v,b){return v?b?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function ds(v,b,x){return typeof v=="string"?(v=encodeURI(v).replace(b,hh),x&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function hh(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Nc=/[#\/\?@]/g,Oc=/[#\?:]/g,Ry=/[#\?]/g,Py=/[#\?@]/g,Rl=/#/g;function eo(v,b){this.h=this.g=null,this.i=v||null,this.j=!!b}function Dr(v){v.g||(v.g=new Map,v.h=0,v.i&&Iy(v.i,function(b,x){v.add(decodeURIComponent(b.replace(/\+/g," ")),x)}))}t=eo.prototype,t.add=function(v,b){Dr(this),this.i=null,v=Si(this,v);var x=this.g.get(v);return x||this.g.set(v,x=[]),x.push(b),this.h+=1,this};function to(v,b){Dr(v),b=Si(v,b),v.g.has(b)&&(v.i=null,v.h-=v.g.get(b).length,v.g.delete(b))}function no(v,b){return Dr(v),b=Si(v,b),v.g.has(b)}t.forEach=function(v,b){Dr(this),this.g.forEach(function(x,V){x.forEach(function(J){v.call(b,J,V,this)},this)},this)},t.na=function(){Dr(this);const v=Array.from(this.g.values()),b=Array.from(this.g.keys()),x=[];for(let V=0;V<b.length;V++){const J=v[V];for(let ne=0;ne<J.length;ne++)x.push(b[V])}return x},t.V=function(v){Dr(this);let b=[];if(typeof v=="string")no(this,v)&&(b=b.concat(this.g.get(Si(this,v))));else{v=Array.from(this.g.values());for(let x=0;x<v.length;x++)b=b.concat(v[x])}return b},t.set=function(v,b){return Dr(this),this.i=null,v=Si(this,v),no(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[b]),this.h+=1,this},t.get=function(v,b){return v?(v=this.V(v),0<v.length?String(v[0]):b):b};function kc(v,b,x){to(v,b),0<x.length&&(v.i=null,v.g.set(Si(v,b),w(x)),v.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],b=Array.from(this.g.keys());for(var x=0;x<b.length;x++){var V=b[x];const ne=encodeURIComponent(String(V)),pe=this.V(V);for(V=0;V<pe.length;V++){var J=ne;pe[V]!==""&&(J+="="+encodeURIComponent(String(pe[V]))),v.push(J)}}return this.i=v.join("&")};function Si(v,b){return b=String(b),v.j&&(b=b.toLowerCase()),b}function ph(v,b){b&&!v.j&&(Dr(v),v.i=null,v.g.forEach(function(x,V){var J=V.toLowerCase();V!=J&&(to(this,V),kc(this,J,x))},v)),v.j=b}function hs(v,b){const x=new Pr;if(u.Image){const V=new Image;V.onload=S(Nr,x,"TestLoadImage: loaded",!0,b,V),V.onerror=S(Nr,x,"TestLoadImage: error",!1,b,V),V.onabort=S(Nr,x,"TestLoadImage: abort",!1,b,V),V.ontimeout=S(Nr,x,"TestLoadImage: timeout",!1,b,V),u.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=v}else b(!1)}function ni(v,b){const x=new Pr,V=new AbortController,J=setTimeout(()=>{V.abort(),Nr(x,"TestPingServer: timeout",!1,b)},1e4);fetch(v,{signal:V.signal}).then(ne=>{clearTimeout(J),ne.ok?Nr(x,"TestPingServer: ok",!0,b):Nr(x,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(J),Nr(x,"TestPingServer: error",!1,b)})}function Nr(v,b,x,V,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),V(x)}catch{}}function ps(){this.g=new os}function Ai(v,b,x){const V=x||"";try{Dc(v,function(J,ne){let pe=J;c(J)&&(pe=ei(J)),b.push(V+ne+"="+encodeURIComponent(pe))})}catch(J){throw b.push(V+"type="+encodeURIComponent("_badmap")),J}}function ea(v){this.l=v.Ub||null,this.j=v.eb||!1}A(ea,Ac),ea.prototype.g=function(){return new ro(this.l,this.j)},ea.prototype.i=(function(v){return function(){return v}})({});function ro(v,b){Nt.call(this),this.D=v,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(ro,Nt),t=ro.prototype,t.open=function(v,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=b,this.readyState=1,bi(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(b.body=v),(this.D||u).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wi(this)),this.readyState=0},t.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lc(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lc(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}t.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var b=v.value?v.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!v.done}))&&(this.response=this.responseText+=b)}v.done?wi(this):bi(this),this.readyState==3&&Lc(this)}},t.Ra=function(v){this.g&&(this.response=this.responseText=v,wi(this))},t.Qa=function(v){this.g&&(this.response=v,wi(this))},t.ga=function(){this.g&&wi(this)};function wi(v){v.readyState=4,v.l=null,v.j=null,v.v=null,bi(v)}t.setRequestHeader=function(v,b){this.u.append(v,b)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],b=this.h.entries();for(var x=b.next();!x.done;)x=x.value,v.push(x[0]+": "+x[1]),x=b.next();return v.join(`\r
`)};function bi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(ro.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Vc(v){let b="";return G(v,function(x,V){b+=V,b+=":",b+=x,b+=`\r
`}),b}function pn(v,b,x){e:{for(V in x){var V=!1;break e}V=!0}V||(x=Vc(x),typeof v=="string"?x!=null&&encodeURIComponent(String(x)):dt(v,b,x))}function it(v){Nt.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(it,Nt);var Pl=/^https?$/i,ms=["POST","PUT"];t=it.prototype,t.Ha=function(v){this.J=v},t.ea=function(v,b,x,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);b=b?b.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_i.g(),this.v=this.o?wc(this.o):wc(_i),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(b,String(v),!0),this.B=!1}catch(ne){mh(this,ne);return}if(v=x||"",x=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var J in V)x.set(J,V[J]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ne of V.keys())x.set(ne,V.get(ne));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(x.keys()).find(ne=>ne.toLowerCase()=="content-type"),J=u.FormData&&v instanceof u.FormData,!(0<=Array.prototype.indexOf.call(ms,b,void 0))||V||J||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,pe]of x)this.g.setRequestHeader(ne,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gs(this),this.u=!0,this.g.send(v),this.u=!1}catch(ne){mh(this,ne)}};function mh(v,b){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=b,v.m=5,Ml(v),Ci(v)}function Ml(v){v.A||(v.A=!0,at(v,"complete"),at(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,at(this,"complete"),at(this,"abort"),Ci(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ci(this,!0)),it.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Dl(this):this.bb())},t.bb=function(){Dl(this)};function Dl(v){if(v.h&&typeof s<"u"&&(!v.v[1]||Or(v)!=4||v.Z()!=2)){if(v.u&&Or(v)==4)Ln(v.Ea,0,v);else if(at(v,"readystatechange"),Or(v)==4){v.h=!1;try{const pe=v.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var x;if(!(x=b)){var V;if(V=pe===0){var J=String(v.D).match(us)[1]||null;!J&&u.self&&u.self.location&&(J=u.self.location.protocol.slice(0,-1)),V=!Pl.test(J?J.toLowerCase():"")}x=V}if(x)at(v,"complete"),at(v,"success");else{v.m=6;try{var ne=2<Or(v)?v.g.statusText:""}catch{ne=""}v.l=ne+" ["+v.Z()+"]",Ml(v)}}finally{Ci(v)}}}}function Ci(v,b){if(v.g){gs(v);const x=v.g,V=v.v[0]?()=>{}:null;v.g=null,v.v=null,b||at(v,"ready");try{x.onreadystatechange=V}catch{}}}function gs(v){v.I&&(u.clearTimeout(v.I),v.I=null)}t.isActive=function(){return!!this.g};function Or(v){return v.g?v.g.readyState:0}t.Z=function(){try{return 2<Or(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(v){if(this.g){var b=this.g.responseText;return v&&b.indexOf(v)==0&&(b=b.substring(v.length)),Sl(b)}};function gh(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function My(v){const b={};v=(v.g&&2<=Or(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<v.length;V++){if(D(v[V]))continue;var x=B(v[V]);const J=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const ne=b[J]||[];b[J]=ne,ne.push(x)}O(b,function(V){return V.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ys(v,b,x){return x&&x.internalChannelParams&&x.internalChannelParams[v]||b}function Nl(v){this.Aa=0,this.i=[],this.j=new Pr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ys("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ys("baseRetryDelayMs",5e3,v),this.cb=ys("retryDelaySeedMs",1e4,v),this.Wa=ys("forwardChannelMaxRetries",2,v),this.wa=ys("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new Xi(v&&v.concurrentRequestLimit),this.Da=new ps,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Nl.prototype,t.la=8,t.G=1,t.connect=function(v,b,x,V){Ct(0),this.W=v,this.H=b||{},x&&V!==void 0&&(this.H.OSID=x,this.H.OAID=V),this.F=this.X,this.I=Ah(this,null,this.W),kl(this)};function Uc(v){if(yh(v),v.G==3){var b=v.U++,x=ur(v.I);if(dt(x,"SID",v.K),dt(x,"RID",b),dt(x,"TYPE","terminate"),vs(v,x),b=new Kn(v,v.j,b),b.L=2,b.v=fs(ur(x)),x=!1,u.navigator&&u.navigator.sendBeacon)try{x=u.navigator.sendBeacon(b.v.toString(),"")}catch{}!x&&u.Image&&(new Image().src=b.v,x=!0),x||(b.g=wh(b.j,null),b.g.ea(b.v)),b.F=Date.now(),ss(b)}Sh(v)}function Ol(v){v.g&&(_s(v),v.g.cancel(),v.g=null)}function yh(v){Ol(v),v.u&&(u.clearTimeout(v.u),v.u=null),Ll(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&u.clearTimeout(v.s),v.s=null)}function kl(v){if(!bl(v.h)&&!v.s){v.s=!0;var b=v.Ga;de||j(),ve||(de(),ve=!0),Le.add(b,v),v.B=0}}function Dy(v,b){return Cl(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=b.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=Gt(_(v.Ga,v,b),Fc(v,v.B)),v.B++,!0)}t.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const J=new Kn(this,this.j,v);let ne=this.o;if(this.S&&(ne?(ne=k(ne),q(ne,this.S)):ne=this.S),this.m!==null||this.O||(J.H=ne,ne=null),this.P)e:{for(var b=0,x=0;x<this.i.length;x++){t:{var V=this.i[x];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(b+=V,4096<b){b=x;break e}if(b===4096||x===this.i.length-1){b=x+1;break e}}b=1e3}else b=1e3;b=vh(this,J,b),x=ur(this.I),dt(x,"RID",v),dt(x,"CVER",22),this.D&&dt(x,"X-HTTP-Session-Id",this.D),vs(this,x),ne&&(this.O?b="headers="+encodeURIComponent(String(Vc(ne)))+"&"+b:this.m&&pn(x,this.m,ne)),xl(this.h,J),this.Ua&&dt(x,"TYPE","init"),this.P?(dt(x,"$req",b),dt(x,"SID","null"),J.T=!0,ti(J,x,null)):ti(J,x,b),this.G=2}}else this.G==3&&(v?Bc(this,v):this.i.length==0||bl(this.h)||Bc(this))};function Bc(v,b){var x;b?x=b.l:x=v.U++;const V=ur(v.I);dt(V,"SID",v.K),dt(V,"RID",x),dt(V,"AID",v.T),vs(v,V),v.m&&v.o&&pn(V,v.m,v.o),x=new Kn(v,v.j,x,v.B+1),v.m===null&&(x.H=v.o),b&&(v.i=b.D.concat(v.i)),b=vh(v,x,1e3),x.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),xl(v.h,x),ti(x,V,b)}function vs(v,b){v.H&&G(v.H,function(x,V){dt(b,V,x)}),v.l&&Dc({},function(x,V){dt(b,V,x)})}function vh(v,b,x){x=Math.min(v.i.length,x);var V=v.l?_(v.l.Na,v.l,v):null;e:{var J=v.i;let ne=-1;for(;;){const pe=["count="+x];ne==-1?0<x?(ne=J[0].g,pe.push("ofs="+ne)):ne=0:pe.push("ofs="+ne);let Je=!0;for(let nn=0;nn<x;nn++){let Qe=J[nn].g;const mn=J[nn].map;if(Qe-=ne,0>Qe)ne=Math.max(0,J[nn].g-100),Je=!1;else try{Ai(mn,pe,"req"+Qe+"_")}catch{V&&V(mn)}}if(Je){V=pe.join("&");break e}}}return v=v.i.splice(0,x),b.D=v,V}function _h(v){if(!v.g&&!v.u){v.Y=1;var b=v.Fa;de||j(),ve||(de(),ve=!0),Le.add(b,v),v.v=0}}function qc(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=Gt(_(v.Fa,v),Fc(v,v.v)),v.v++,!0)}t.Fa=function(){if(this.u=null,Th(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=Gt(_(this.ab,this),v)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),Ol(this),Th(this))};function _s(v){v.A!=null&&(u.clearTimeout(v.A),v.A=null)}function Th(v){v.g=new Kn(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var b=ur(v.qa);dt(b,"RID","rpc"),dt(b,"SID",v.K),dt(b,"AID",v.T),dt(b,"CI",v.F?"0":"1"),!v.F&&v.ja&&dt(b,"TO",v.ja),dt(b,"TYPE","xmlhttp"),vs(v,b),v.m&&v.o&&pn(b,v.m,v.o),v.L&&(v.g.I=v.L);var x=v.g;v=v.ia,x.L=1,x.v=fs(ur(b)),x.m=null,x.P=!0,Qi(x,v)}t.Za=function(){this.C!=null&&(this.C=null,Ol(this),qc(this),Ct(19))};function Ll(v){v.C!=null&&(u.clearTimeout(v.C),v.C=null)}function Eh(v,b){var x=null;if(v.g==b){Ll(v),_s(v),v.g=null;var V=2}else if(Pc(v.h,b))x=b.D,jn(v.h,b),V=1;else return;if(v.G!=0){if(b.o)if(V==1){x=b.m?b.m.length:0,b=Date.now()-b.F;var J=v.B;V=Yo(),at(V,new tn(V,x)),kl(v)}else _h(v);else if(J=b.s,J==3||J==0&&0<b.X||!(V==1&&Dy(v,b)||V==2&&qc(v)))switch(x&&0<x.length&&(b=v.h,b.i=b.i.concat(x)),J){case 1:io(v,5);break;case 4:io(v,10);break;case 3:io(v,6);break;default:io(v,2)}}}function Fc(v,b){let x=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(x*=2),x*b}function io(v,b){if(v.j.info("Error code "+b),b==2){var x=_(v.fb,v),V=v.Xa;const J=!V;V=new Kt(V||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||cs(V,"https"),fs(V),J?hs(V.toString(),x):ni(V.toString(),x)}else Ct(2);v.G=0,v.l&&v.l.sa(b),Sh(v),yh(v)}t.fb=function(v){v?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Sh(v){if(v.G=0,v.ka=[],v.l){const b=Mc(v.h);(b.length!=0||v.i.length!=0)&&(C(v.ka,b),C(v.ka,v.i),v.h.i.length=0,w(v.i),v.i.length=0),v.l.ra()}}function Ah(v,b,x){var V=x instanceof Kt?ur(x):new Kt(x);if(V.g!="")b&&(V.g=b+"."+V.g),Zo(V,V.s);else{var J=u.location;V=J.protocol,b=b?b+"."+J.hostname:J.hostname,J=+J.port;var ne=new Kt(null);V&&cs(ne,V),b&&(ne.g=b),J&&Zo(ne,J),x&&(ne.l=x),V=ne}return x=v.D,b=v.ya,x&&b&&dt(V,x,b),dt(V,"VER",v.la),vs(v,V),V}function wh(v,b,x){if(b&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=v.Ca&&!v.pa?new it(new ea({eb:x})):new it(v.pa),b.Ha(v.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bh(){}t=bh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Vl(){}Vl.prototype.g=function(v,b){return new Yn(v,b)};function Yn(v,b){Nt.call(this),this.g=new Nl(b),this.l=v,this.h=b&&b.messageUrlParams||null,v=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(v?v["X-WebChannel-Content-Type"]=b.messageContentType:v={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(v?v["X-WebChannel-Client-Profile"]=b.va:v={"X-WebChannel-Client-Profile":b.va}),this.g.S=v,(v=b&&b.Sb)&&!D(v)&&(this.g.m=v),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!D(b)&&(this.g.D=b,v=this.h,v!==null&&b in v&&(v=this.h,b in v&&delete v[b])),this.j=new xi(this)}A(Yn,Nt),Yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yn.prototype.close=function(){Uc(this.g)},Yn.prototype.o=function(v){var b=this.g;if(typeof v=="string"){var x={};x.__data__=v,v=x}else this.u&&(x={},x.__data__=ei(v),v=x);b.i.push(new dh(b.Ya++,v)),b.G==3&&kl(b)},Yn.prototype.N=function(){this.g.l=null,delete this.j,Uc(this.g),delete this.g,Yn.aa.N.call(this)};function Ch(v){Wi.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var b=v.__sm__;if(b){e:{for(const x in b){v=x;break e}v=void 0}(this.i=v)&&(v=this.i,b=b!==null&&v in b?b[v]:void 0),this.data=b}else this.data=v}A(Ch,Wi);function xh(){Cc.call(this),this.status=1}A(xh,Cc);function xi(v){this.g=v}A(xi,bh),xi.prototype.ua=function(){at(this.g,"a")},xi.prototype.ta=function(v){at(this.g,new Ch(v))},xi.prototype.sa=function(v){at(this.g,new xh)},xi.prototype.ra=function(){at(this.g,"b")},Vl.prototype.createWebChannel=Vl.prototype.g,Yn.prototype.send=Yn.prototype.o,Yn.prototype.open=Yn.prototype.m,Yn.prototype.close=Yn.prototype.close,R2=function(){return new Vl},I2=function(){return Yo()},x2=vi,$T={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qo.NO_ERROR=0,Qo.TIMEOUT=8,Qo.HTTP_ERROR=6,im=Qo,Ji.COMPLETE="complete",C2=Ji,bc.EventType=Yi,Yi.OPEN="a",Yi.CLOSE="b",Yi.ERROR="c",Yi.MESSAGE="d",Nt.prototype.listen=Nt.prototype.K,Hf=bc,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,b2=it}).apply(typeof Pp<"u"?Pp:typeof self<"u"?self:typeof window<"u"?window:{});const Z1="@firebase/firestore",eI="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fn.UNAUTHENTICATED=new Fn(null),Fn.GOOGLE_CREDENTIALS=new Fn("google-credentials-uid"),Fn.FIRST_PARTY=new Fn("first-party-uid"),Fn.MOCK_USER=new Fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=new yS("@firebase/firestore");function pu(){return tl.logLevel}function _e(t,...e){if(tl.logLevel<=Ke.DEBUG){const n=e.map(IS);tl.debug(`Firestore (${rc}): ${t}`,...n)}}function No(t,...e){if(tl.logLevel<=Ke.ERROR){const n=e.map(IS);tl.error(`Firestore (${rc}): ${t}`,...n)}}function Ou(t,...e){if(tl.logLevel<=Ke.WARN){const n=e.map(IS);tl.warn(`Firestore (${rc}): ${t}`,...n)}}function IS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,P2(t,r,n)}function P2(t,e,n){let r=`FIRESTORE (${rc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw No(r),new Error(r)}function ot(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||P2(e,i,r)}function Be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends qo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Fn.UNAUTHENTICATED)))}shutdown(){}}class mH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class gH{constructor(e){this.t=e,this.currentUser=Fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ot(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new xo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new xo,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new xo)}}),0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ot(typeof r.accessToken=="string",31837,{l:r}),new M2(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new Fn(e)}}class yH{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vH{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new yH(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _H{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ai(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ot(this.o===void 0,3512);const r=o=>{o.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,_e("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new tI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ot(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new tI(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=TH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function HT(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return B0(i)===B0(o)?je(i,o):B0(i)?1:-1}return je(t.length,e.length)}const EH=55296,SH=57343;function B0(t){const e=t.charCodeAt(0);return e>=EH&&e<=SH}function ku(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="__name__";class Oi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Oi.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return je(e.length,n.length)}static compareSegments(e,n){const r=Oi.isNumericId(e),i=Oi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Oi.extractNumericId(e).compare(Oi.extractNumericId(n)):HT(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Va.fromString(e.substring(4,e.length-2))}}class Et extends Oi{construct(e,n,r){return new Et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Et(n)}static emptyPath(){return new Et([])}}const AH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends Oi{construct(e,n,r){return new Nn(e,n,r)}static isValidIdentifier(e){return AH.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nI}static keyField(){return new Nn([nI])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new me(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new me(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new me(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new me(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(n)}static emptyPath(){return new Nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(Et.fromString(e))}static fromName(e){return new xe(Et.fromString(e).popFirst(5))}static empty(){return new xe(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new Et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(t,e,n){if(!n)throw new me(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wH(t,e,n,r){if(e===!0&&r===!0)throw new me(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rI(t){if(!xe.isDocumentKey(t))throw new me(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iI(t){if(xe.isDocumentKey(t))throw new me(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function N2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function xg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne(12329,{type:typeof t})}function br(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xg(t);throw new me(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Od(t,e){if(!N2(t))throw new me(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new me(oe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=-62135596800,aI=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*aI);return new wt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<oI)throw new me(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aI}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Od(e,wt._jsonSchema))return new wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-oI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wt._jsonSchemaVersion="firestore/timestamp/1.0",wt._jsonSchema={type:Qt("string",wt._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new wt(0,0))}static max(){return new Ue(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=-1;function bH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ue.fromTimestamp(r===1e9?new wt(n+1,0):new wt(n,r));return new Fa(i,xe.empty(),e)}function CH(t){return new Fa(t.readTime,t.key,ld)}class Fa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fa(Ue.min(),xe.empty(),ld)}static max(){return new Fa(Ue.max(),xe.empty(),ld)}}function xH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==IH)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.reject(n)}static resolve(e){return new ce(((n,r)=>{n(e)}))}static reject(e){return new ce(((n,r)=>{r(e)}))}static waitFor(e){return new ce(((n,r)=>{let i=0,o=0,s=!1;e.forEach((u=>{++i,u.next((()=>{++o,s&&o===i&&n()}),(f=>r(f)))})),s=!0,o===i&&n()}))}static or(e){let n=ce.resolve(!1);for(const r of e)n=n.next((i=>i?ce.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new ce(((r,i)=>{const o=e.length,s=new Array(o);let u=0;for(let f=0;f<o;f++){const c=f;n(e[c]).next((h=>{s[c]=h,++u,u===o&&r(s)}),(h=>i(h)))}}))}static doWhile(e,n){return new ce(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function PH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function oc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ig.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=-1;function Rg(t){return t==null}function wm(t){return t===0&&1/t==-1/0}function MH(t){return typeof t=="number"&&Number.isInteger(t)&&!wm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="";function DH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=sI(e)),e=NH(t.get(n),e);return sI(e)}function NH(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case O2:n+="";break;default:n+=o}}return n}function sI(t){return t+O2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ya(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function k2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){this.comparator=e,this.root=n||Mn.EMPTY}insert(e,n){return new Mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mn.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mp(this.root,e,this.comparator,!0)}}class Mp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Mn.RED,this.left=i??Mn.EMPTY,this.right=o??Mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Mn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Mn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}Mn.EMPTY=null,Mn.RED=!0,Mn.BLACK=!1;Mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uI(this.data.getIterator())}getIteratorFrom(e){return new uI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ln(this.comparator);return n.data=e,n}}class uI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new Ar([])}unionWith(e){let n=new ln(Nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ar(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ku(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new L2("Invalid base64 string: "+o):o}})(e);return new kn(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new kn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const OH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $a(t){if(ot(!!t,39018),typeof t=="string"){let e=0;const n=OH.exec(t);if(ot(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ft(t.seconds),nanos:Ft(t.nanos)}}function Ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ha(t){return typeof t=="string"?kn.fromBase64String(t):kn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="server_timestamp",U2="__type__",B2="__previous_value__",q2="__local_write_time__";function MS(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[U2])==null?void 0:r.stringValue)===V2}function Pg(t){const e=t.mapValue.fields[B2];return MS(e)?Pg(e):e}function ud(t){const e=$a(t.mapValue.fields[q2].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(e,n,r,i,o,s,u,f,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=c,this.isUsingEmulator=h}}const bm="(default)";class cd{constructor(e,n){this.projectId=e,this.database=n||bm}static empty(){return new cd("","")}get isDefaultDatabase(){return this.database===bm}isEqual(e){return e instanceof cd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="__type__",LH="__max__",Dp={mapValue:{}},$2="__vector__",Cm="value";function za(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?MS(t)?4:UH(t)?9007199254740991:VH(t)?10:11:Ne(28295,{value:t})}function Hi(t,e){if(t===e)return!0;const n=za(t);if(n!==za(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ud(t).isEqual(ud(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=$a(i.timestampValue),u=$a(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Ha(i.bytesValue).isEqual(Ha(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ft(i.geoPointValue.latitude)===Ft(o.geoPointValue.latitude)&&Ft(i.geoPointValue.longitude)===Ft(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ft(i.integerValue)===Ft(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ft(i.doubleValue),u=Ft(o.doubleValue);return s===u?wm(s)===wm(u):isNaN(s)&&isNaN(u)}return!1})(t,e);case 9:return ku(t.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return(function(i,o){const s=i.mapValue.fields||{},u=o.mapValue.fields||{};if(lI(s)!==lI(u))return!1;for(const f in s)if(s.hasOwnProperty(f)&&(u[f]===void 0||!Hi(s[f],u[f])))return!1;return!0})(t,e);default:return Ne(52216,{left:t})}}function fd(t,e){return(t.values||[]).find((n=>Hi(n,e)))!==void 0}function Lu(t,e){if(t===e)return 0;const n=za(t),r=za(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return(function(o,s){const u=Ft(o.integerValue||o.doubleValue),f=Ft(s.integerValue||s.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return cI(t.timestampValue,e.timestampValue);case 4:return cI(ud(t),ud(e));case 5:return HT(t.stringValue,e.stringValue);case 6:return(function(o,s){const u=Ha(o),f=Ha(s);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){const u=o.split("/"),f=s.split("/");for(let c=0;c<u.length&&c<f.length;c++){const h=je(u[c],f[c]);if(h!==0)return h}return je(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){const u=je(Ft(o.latitude),Ft(s.latitude));return u!==0?u:je(Ft(o.longitude),Ft(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return fI(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var _,S,A,w;const u=o.fields||{},f=s.fields||{},c=(_=u[Cm])==null?void 0:_.arrayValue,h=(S=f[Cm])==null?void 0:S.arrayValue,y=je(((A=c==null?void 0:c.values)==null?void 0:A.length)||0,((w=h==null?void 0:h.values)==null?void 0:w.length)||0);return y!==0?y:fI(c,h)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Dp.mapValue&&s===Dp.mapValue)return 0;if(o===Dp.mapValue)return 1;if(s===Dp.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),c=s.fields||{},h=Object.keys(c);f.sort(),h.sort();for(let y=0;y<f.length&&y<h.length;++y){const _=HT(f[y],h[y]);if(_!==0)return _;const S=Lu(u[f[y]],c[h[y]]);if(S!==0)return S}return je(f.length,h.length)})(t.mapValue,e.mapValue);default:throw Ne(23264,{he:n})}}function cI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=$a(t),r=$a(e),i=je(n.seconds,r.seconds);return i!==0?i:je(n.nanos,r.nanos)}function fI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Lu(n[i],r[i]);if(o)return o}return je(n.length,r.length)}function Vu(t){return zT(t)}function zT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=$a(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ha(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return xe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=zT(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${zT(n.fields[s])}`;return i+"}"})(t.mapValue):Ne(61005,{value:t})}function om(t){switch(za(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pg(t);return e?16+om(e):16;case 5:return 2*t.stringValue.length;case 6:return Ha(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+om(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Ya(r.fields,((o,s)=>{i+=o.length+om(s)})),i})(t.mapValue);default:throw Ne(13486,{value:t})}}function dI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function GT(t){return!!t&&"integerValue"in t}function DS(t){return!!t&&"arrayValue"in t}function hI(t){return!!t&&"nullValue"in t}function pI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function am(t){return!!t&&"mapValue"in t}function VH(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[F2])==null?void 0:r.stringValue)===$2}function Qf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ya(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Qf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qf(t.arrayValue.values[n]);return e}return{...t}}function UH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===LH}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.value=e}static empty(){return new ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!am(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qf(n)}setAll(e){let n=Nn.emptyPath(),r={},i=[];e.forEach(((s,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=u.popLast()}s?r[u.lastSegment()]=Qf(s):i.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());am(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];am(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ya(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new ir(Qf(this.value))}}function H2(t){const e=[];return Ya(t.fields,((n,r)=>{const i=new Nn([n]);if(am(r)){const o=H2(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)})),new Ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n,r,i,o,s,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=u}static newInvalidDocument(e){return new $n(e,0,Ue.min(),Ue.min(),Ue.min(),ir.empty(),0)}static newFoundDocument(e,n,r,i){return new $n(e,1,n,Ue.min(),r,i,0)}static newNoDocument(e,n){return new $n(e,2,n,Ue.min(),Ue.min(),ir.empty(),0)}static newUnknownDocument(e,n){return new $n(e,3,n,Ue.min(),Ue.min(),ir.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n){this.position=e,this.inclusive=n}}function mI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=xe.comparator(xe.fromName(s.referenceValue),n.key):r=Lu(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function gI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Hi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n="asc"){this.field=e,this.dir=n}}function BH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{}class Jt extends z2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new FH(e,n,r):n==="array-contains"?new zH(e,r):n==="in"?new GH(e,r):n==="not-in"?new KH(e,r):n==="array-contains-any"?new jH(e,r):new Jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $H(e,r):new HH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Lu(n,this.value)):n!==null&&za(this.value)===za(n)&&this.matchesComparison(Lu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends z2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fi(e,n)}matches(e){return G2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function G2(t){return t.op==="and"}function K2(t){return qH(t)&&G2(t)}function qH(t){for(const e of t.filters)if(e instanceof fi)return!1;return!0}function KT(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+Vu(t.value);if(K2(t))return t.filters.map((e=>KT(e))).join(",");{const e=t.filters.map((n=>KT(n))).join(",");return`${t.op}(${e})`}}function j2(t,e){return t instanceof Jt?(function(r,i){return i instanceof Jt&&r.op===i.op&&r.field.isEqual(i.field)&&Hi(r.value,i.value)})(t,e):t instanceof fi?(function(r,i){return i instanceof fi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,s,u)=>o&&j2(s,i.filters[u])),!0):!1})(t,e):void Ne(19439)}function Y2(t){return t instanceof Jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Vu(n.value)}`})(t):t instanceof fi?(function(n){return n.op.toString()+" {"+n.getFilters().map(Y2).join(" ,")+"}"})(t):"Filter"}class FH extends Jt{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class $H extends Jt{constructor(e,n){super(e,"in",n),this.keys=W2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class HH extends Jt{constructor(e,n){super(e,"not-in",n),this.keys=W2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function W2(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>xe.fromName(r.referenceValue)))}class zH extends Jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return DS(n)&&fd(n.arrayValue,this.value)}}class GH extends Jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fd(this.value.arrayValue,n)}}class KH extends Jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(fd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fd(this.value.arrayValue,n)}}class jH extends Jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!DS(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>fd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(e,n=null,r=[],i=[],o=null,s=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=u,this.Te=null}}function yI(t,e=null,n=[],r=[],i=null,o=null,s=null){return new YH(t,e,n,r,i,o,s)}function NS(t){const e=Be(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>KT(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Rg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Vu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Vu(r))).join(",")),e.Te=n}return e.Te}function OS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!BH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!j2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gI(t.startAt,e.startAt)&&gI(t.endAt,e.endAt)}function jT(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n=null,r=[],i=[],o=null,s="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function WH(t,e,n,r,i,o,s,u){return new ac(t,e,n,r,i,o,s,u)}function Mg(t){return new ac(t)}function vI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function J2(t){return t.collectionGroup!==null}function Xf(t){const e=Be(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new ln(Nn.comparator);return s.filters.forEach((f=>{f.getFlattenedFilters().forEach((c=>{c.isInequality()&&(u=u.add(c.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new dd(o,r))})),n.has(Nn.keyField().canonicalString())||e.Ie.push(new dd(Nn.keyField(),r))}return e.Ie}function Ui(t){const e=Be(t);return e.Ee||(e.Ee=JH(e,Xf(t))),e.Ee}function JH(t,e){if(t.limitType==="F")return yI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new dd(i.field,o)}));const n=t.endAt?new xm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xm(t.startAt.position,t.startAt.inclusive):null;return yI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function YT(t,e){const n=t.filters.concat([e]);return new ac(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function WT(t,e,n){return new ac(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dg(t,e){return OS(Ui(t),Ui(e))&&t.limitType===e.limitType}function Q2(t){return`${NS(Ui(t))}|lt:${t.limitType}`}function mu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>Y2(i))).join(", ")}]`),Rg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Vu(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Vu(i))).join(",")),`Target(${r})`})(Ui(t))}; limitType=${t.limitType})`}function Ng(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):xe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of Xf(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,u,f){const c=mI(s,u,f);return s.inclusive?c<=0:c<0})(r.startAt,Xf(r),i)||r.endAt&&!(function(s,u,f){const c=mI(s,u,f);return s.inclusive?c>=0:c>0})(r.endAt,Xf(r),i))})(t,e)}function QH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function X2(t){return(e,n)=>{let r=!1;for(const i of Xf(t)){const o=XH(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function XH(t,e,n){const r=t.field.isKeyField()?xe.comparator(e.key,n.key):(function(o,s,u){const f=s.data.field(o),c=u.data.field(o);return f!==null&&c!==null?Lu(f,c):Ne(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ya(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return k2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZH=new Mt(xe.comparator);function Oo(){return ZH}const Z2=new Mt(xe.comparator);function zf(...t){let e=Z2;for(const n of t)e=e.insert(n.key,n);return e}function ek(t){let e=Z2;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function qs(){return Zf()}function tk(){return Zf()}function Zf(){return new cl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const ez=new Mt(xe.comparator),tz=new ln(xe.comparator);function Ye(...t){let e=tz;for(const n of t)e=e.add(n);return e}const nz=new ln(je);function rz(){return nz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wm(e)?"-0":e}}function nk(t){return{integerValue:""+t}}function rk(t,e){return MH(e)?nk(e):kS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(){this._=void 0}}function iz(t,e,n){return t instanceof hd?(function(i,o){const s={fields:{[U2]:{stringValue:V2},[q2]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&MS(o)&&(o=Pg(o)),o&&(s.fields[B2]=o),{mapValue:s}})(n,e):t instanceof pd?ok(t,e):t instanceof md?ak(t,e):(function(i,o){const s=ik(i,o),u=_I(s)+_I(i.Ae);return GT(s)&&GT(i.Ae)?nk(u):kS(i.serializer,u)})(t,e)}function oz(t,e,n){return t instanceof pd?ok(t,e):t instanceof md?ak(t,e):n}function ik(t,e){return t instanceof gd?(function(r){return GT(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class hd extends Og{}class pd extends Og{constructor(e){super(),this.elements=e}}function ok(t,e){const n=sk(e);for(const r of t.elements)n.some((i=>Hi(i,r)))||n.push(r);return{arrayValue:{values:n}}}class md extends Og{constructor(e){super(),this.elements=e}}function ak(t,e){let n=sk(e);for(const r of t.elements)n=n.filter((i=>!Hi(i,r)));return{arrayValue:{values:n}}}class gd extends Og{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function _I(t){return Ft(t.integerValue||t.doubleValue)}function sk(t){return DS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,n){this.field=e,this.transform=n}}function az(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof pd&&i instanceof pd||r instanceof md&&i instanceof md?ku(r.elements,i.elements,Hi):r instanceof gd&&i instanceof gd?Hi(r.Ae,i.Ae):r instanceof hd&&i instanceof hd})(t.transform,e.transform)}class sz{constructor(e,n){this.version=e,this.transformResults=n}}class ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kg{}function uk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Lg(t.key,ar.none()):new kd(t.key,t.data,ar.none());{const n=t.data,r=ir.empty();let i=new ln(Nn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Wa(t.key,r,new Ar(i.toArray()),ar.none())}}function lz(t,e,n){t instanceof kd?(function(i,o,s){const u=i.value.clone(),f=EI(i.fieldTransforms,o,s.transformResults);u.setAll(f),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):t instanceof Wa?(function(i,o,s){if(!sm(i.precondition,o))return void o.convertToUnknownDocument(s.version);const u=EI(i.fieldTransforms,o,s.transformResults),f=o.data;f.setAll(ck(i)),f.setAll(u),o.convertToFoundDocument(s.version,f).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function ed(t,e,n,r){return t instanceof kd?(function(o,s,u,f){if(!sm(o.precondition,s))return u;const c=o.value.clone(),h=SI(o.fieldTransforms,f,s);return c.setAll(h),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null})(t,e,n,r):t instanceof Wa?(function(o,s,u,f){if(!sm(o.precondition,s))return u;const c=SI(o.fieldTransforms,f,s),h=s.data;return h.setAll(ck(o)),h.setAll(c),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(t,e,n,r):(function(o,s,u){return sm(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u})(t,e,n)}function uz(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=ik(r.transform,i||null);o!=null&&(n===null&&(n=ir.empty()),n.set(r.field,o))}return n||null}function TI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ku(r,i,((o,s)=>az(o,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kd extends kg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Wa extends kg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ck(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function EI(t,e,n){const r=new Map;ot(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,u=e.data.field(o.field);r.set(o.field,oz(s,u,n[i]))}return r}function SI(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,iz(o,s,e))}return r}class Lg extends kg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cz extends kg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&lz(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ed(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ed(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tk();return this.mutations.forEach((i=>{const o=e.get(i.key),s=o.overlayedDocument;let u=this.applyToLocalView(s,o.mutatedFields);u=n.has(i.key)?null:u;const f=uk(s,u);f!==null&&r.set(i.key,f),s.isValidDocument()||s.convertToNoDocument(Ue.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&ku(this.mutations,e.mutations,((n,r)=>TI(n,r)))&&ku(this.baseMutations,e.baseMutations,((n,r)=>TI(n,r)))}}class LS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ot(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return ez})();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new LS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt,Ze;function pz(t){switch(t){case oe.OK:return Ne(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ne(15467,{code:t})}}function fk(t){if(t===void 0)return No("GRPC error has no .code"),oe.UNKNOWN;switch(t){case Wt.OK:return oe.OK;case Wt.CANCELLED:return oe.CANCELLED;case Wt.UNKNOWN:return oe.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return oe.INTERNAL;case Wt.UNAVAILABLE:return oe.UNAVAILABLE;case Wt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Wt.NOT_FOUND:return oe.NOT_FOUND;case Wt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Wt.ABORTED:return oe.ABORTED;case Wt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Wt.DATA_LOSS:return oe.DATA_LOSS;default:return Ne(39323,{code:t})}}(Ze=Wt||(Wt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz=new Va([4294967295,4294967295],0);function AI(t){const e=mz().encode(t),n=new w2;return n.update(e),new Uint8Array(n.digest())}function wI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Va([n,r],0),new Va([i,o],0)]}class VS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gf(`Invalid padding: ${n}`);if(r<0)throw new Gf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Gf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Va.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Va.fromNumber(r)));return i.compare(gz)===1&&(i=new Va([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=AI(e),[r,i]=wI(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new VS(o,i,n);return r.forEach((u=>s.insert(u))),s}insert(e){if(this.ge===0)return;const n=AI(e),[r,i]=wI(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Gf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ld.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vg(Ue.min(),i,new Mt(je),Oo(),Ye())}}class Ld{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ld(r,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class dk{constructor(e,n){this.targetId=e,this.Ce=n}}class hk{constructor(e,n,r=kn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class bI{constructor(){this.ve=0,this.Fe=CI(),this.Me=kn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),r=Ye();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ne(38017,{changeType:o})}})),new Ld(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=CI()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yz{constructor(e){this.Ge=e,this.ze=new Map,this.je=Oo(),this.Je=Np(),this.He=Np(),this.Ye=new Mt(je)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(jT(o))if(r===0){const s=new xe(o.path);this.et(n,s,$n.newNoDocument(s,Ue.min()))}else ot(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const u=this.ut(e),f=u?this.ct(u,e,s):1;if(f!==0){this.it(n);const c=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,u;try{s=Ha(r).toUint8Array()}catch(f){if(f instanceof L2)return Ou("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new VS(s,i,o)}catch(f){return Ou(f instanceof Gf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const s=this.Ge.ht(),u=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,s)=>{const u=this.ot(s);if(u){if(o.current&&jT(u.target)){const f=new xe(u.target.path);this.It(f).has(s)||this.Et(s,f)||this.et(s,f,$n.newNoDocument(f,e))}o.Be&&(n.set(s,o.ke()),o.qe())}}));let r=Ye();this.He.forEach(((o,s)=>{let u=!0;s.forEachWhile((f=>{const c=this.ot(f);return!c||c.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,s)=>s.setReadTime(e)));const i=new Vg(e,n,this.Ye,this.je,r);return this.je=Oo(),this.Je=Np(),this.He=Np(),this.Ye=new Mt(je),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new bI,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ln(je),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ln(je),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new bI),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Np(){return new Mt(xe.comparator)}function CI(){return new Mt(xe.comparator)}const vz={asc:"ASCENDING",desc:"DESCENDING"},_z={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tz={and:"AND",or:"OR"};class Ez{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function JT(t,e){return t.useProto3Json||Rg(e)?e:{value:e}}function Im(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Sz(t,e){return Im(t,e.toTimestamp())}function Bi(t){return ot(!!t,49232),Ue.fromTimestamp((function(n){const r=$a(n);return new wt(r.seconds,r.nanos)})(t))}function US(t,e){return QT(t,e).canonicalString()}function QT(t,e){const n=(function(i){return new Et(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function mk(t){const e=Et.fromString(t);return ot(Tk(e),10190,{key:e.toString()}),e}function XT(t,e){return US(t.databaseId,e.path)}function q0(t,e){const n=mk(e);if(n.get(1)!==t.databaseId.projectId)throw new me(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(yk(n))}function gk(t,e){return US(t.databaseId,e)}function Az(t){const e=mk(t);return e.length===4?Et.emptyPath():yk(e)}function ZT(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yk(t){return ot(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function xI(t,e,n){return{name:XT(t,e),fields:n.value.mapValue.fields}}function wz(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ne(39313,{state:c})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(c,h){return c.useProto3Json?(ot(h===void 0||typeof h=="string",58123),kn.fromBase64String(h||"")):(ot(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),kn.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&(function(c){const h=c.code===void 0?oe.UNKNOWN:fk(c.code);return new me(h,c.message||"")})(s);n=new hk(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=q0(t,r.document.name),o=Bi(r.document.updateTime),s=r.document.createTime?Bi(r.document.createTime):Ue.min(),u=new ir({mapValue:{fields:r.document.fields}}),f=$n.newFoundDocument(i,o,s,u),c=r.targetIds||[],h=r.removedTargetIds||[];n=new lm(c,h,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=q0(t,r.document),o=r.readTime?Bi(r.readTime):Ue.min(),s=$n.newNoDocument(i,o),u=r.removedTargetIds||[];n=new lm([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=q0(t,r.document),o=r.removedTargetIds||[];n=new lm([],o,i,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new hz(i,o),u=r.targetId;n=new dk(u,s)}}return n}function bz(t,e){let n;if(e instanceof kd)n={update:xI(t,e.key,e.value)};else if(e instanceof Lg)n={delete:XT(t,e.key)};else if(e instanceof Wa)n={update:xI(t,e.key,e.data),updateMask:Oz(e.fieldMask)};else{if(!(e instanceof cz))return Ne(16599,{Vt:e.type});n={verify:XT(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,s){const u=s.transform;if(u instanceof hd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof pd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof md)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof gd)return{fieldPath:s.field.canonicalString(),increment:u.Ae};throw Ne(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:Sz(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ne(27497)})(t,e.precondition)),n}function Cz(t,e){return t&&t.length>0?(ot(e!==void 0,14353),t.map((n=>(function(i,o){let s=i.updateTime?Bi(i.updateTime):Bi(o);return s.isEqual(Ue.min())&&(s=Bi(o)),new sz(s,i.transformResults||[])})(n,e)))):[]}function xz(t,e){return{documents:[gk(t,e.path)]}}function Iz(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gk(t,i);const o=(function(c){if(c.length!==0)return _k(fi.create(c,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const s=(function(c){if(c.length!==0)return c.map((h=>(function(_){return{field:gu(_.field),direction:Mz(_.dir)}})(h)))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);const u=JT(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{ft:n,parent:i}}function Rz(t){let e=Az(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ot(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(y){const _=vk(y);return _ instanceof fi&&K2(_)?_.getFilters():[_]})(n.where));let s=[];n.orderBy&&(s=(function(y){return y.map((_=>(function(A){return new dd(yu(A.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(_)))})(n.orderBy));let u=null;n.limit&&(u=(function(y){let _;return _=typeof y=="object"?y.value:y,Rg(_)?null:_})(n.limit));let f=null;n.startAt&&(f=(function(y){const _=!!y.before,S=y.values||[];return new xm(S,_)})(n.startAt));let c=null;return n.endAt&&(c=(function(y){const _=!y.before,S=y.values||[];return new xm(S,_)})(n.endAt)),WH(e,i,s,o,u,"F",f,c)}function Pz(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vk(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yu(n.unaryFilter.field);return Jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=yu(n.unaryFilter.field);return Jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=yu(n.unaryFilter.field);return Jt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=yu(n.unaryFilter.field);return Jt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Jt.create(yu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return fi.create(n.compositeFilter.filters.map((r=>vk(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(n.compositeFilter.op))})(t):Ne(30097,{filter:t})}function Mz(t){return vz[t]}function Dz(t){return _z[t]}function Nz(t){return Tz[t]}function gu(t){return{fieldPath:t.canonicalString()}}function yu(t){return Nn.fromServerFormat(t.fieldPath)}function _k(t){return t instanceof Jt?(function(n){if(n.op==="=="){if(pI(n.value))return{unaryFilter:{field:gu(n.field),op:"IS_NAN"}};if(hI(n.value))return{unaryFilter:{field:gu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pI(n.value))return{unaryFilter:{field:gu(n.field),op:"IS_NOT_NAN"}};if(hI(n.value))return{unaryFilter:{field:gu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gu(n.field),op:Dz(n.op),value:n.value}}})(t):t instanceof fi?(function(n){const r=n.getFilters().map((i=>_k(i)));return r.length===1?r[0]:{compositeFilter:{op:Nz(n.op),filters:r}}})(t):Ne(54877,{filter:t})}function Oz(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Tk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n,r,i,o=Ue.min(),s=Ue.min(),u=kn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e){this.yt=e}}function Lz(t){const e=Rz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?WT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(){this.Cn=new Uz}addToCollectionParentIndex(e,n){return this.Cn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(Fa.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(Fa.min())}updateCollectionGroup(e,n,r){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class Uz{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ln(Et.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ln(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ek=41943040;class rr{static withCacheSize(e){return new rr(e,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr.DEFAULT_COLLECTION_PERCENTILE=10,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rr.DEFAULT=new rr(Ek,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rr.DISABLED=new rr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Uu(0)}static cr(){return new Uu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="LruGarbageCollector",Bz=1048576;function PI([t,e],[n,r]){const i=je(t,n);return i===0?je(e,r):i}class qz{constructor(e){this.Ir=e,this.buffer=new ln(PI),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();PI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Fz{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_e(RI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){oc(n)?_e(RI,"Ignoring IndexedDB error during garbage collection: ",n):await ic(n)}await this.Vr(3e5)}))}}class $z{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(Ig.ce);const r=new qz(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(II)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),II):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,u,f,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,s=Date.now(),this.nthSequenceNumber(e,i)))).next((y=>(r=y,u=Date.now(),this.removeTargets(e,r,n)))).next((y=>(o=y,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(c=Date.now(),pu()<=Ke.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(u-s)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${y} documents in `+(c-f)+`ms
Total Duration: ${c-h}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y}))))}}function Hz(t,e){return new $z(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(){this.changes=new cl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&ed(r.mutation,i,Ar.empty(),wt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ye()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ye()){const i=qs();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let s=zf();return o.forEach(((u,f)=>{s=s.insert(u,f.overlayedDocument)})),s}))))}getOverlayedDocuments(e,n){const r=qs();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ye())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((s,u)=>{n.set(s,u)}))}))}computeViews(e,n,r,i){let o=Oo();const s=Zf(),u=(function(){return Zf()})();return n.forEach(((f,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Wa)?o=o.insert(c.key,c):h!==void 0?(s.set(c.key,h.mutation.getFieldMask()),ed(h.mutation,c,h.mutation.getFieldMask(),wt.now())):s.set(c.key,Ar.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((c,h)=>s.set(c,h))),n.forEach(((c,h)=>u.set(c,new Gz(h,s.get(c)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Zf();let i=new Mt(((s,u)=>s-u)),o=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((s=>{for(const u of s)u.keys().forEach((f=>{const c=n.get(f);if(c===null)return;let h=r.get(f)||Ar.empty();h=u.applyToLocalView(c,h),r.set(f,h);const y=(i.get(u.batchId)||Ye()).add(f);i=i.insert(u.batchId,y)}))})).next((()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),c=f.key,h=f.value,y=tk();h.forEach((_=>{if(!o.has(_)){const S=uk(n.get(_),r.get(_));S!==null&&y.set(_,S),o=o.add(_)}})),s.push(this.documentOverlayCache.saveOverlays(e,c,y))}return ce.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return xe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):J2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ce.resolve(qs());let u=ld,f=o;return s.next((c=>ce.forEach(c,((h,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),o.get(h)?ce.resolve():this.remoteDocumentCache.getEntry(e,h).next((_=>{f=f.insert(h,_)}))))).next((()=>this.populateOverlays(e,c,o))).next((()=>this.computeViews(e,f,c,Ye()))).next((h=>({batchId:u,changes:ek(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next((r=>{let i=zf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=zf();return this.indexManager.getCollectionParents(e,o).next((u=>ce.forEach(u,(f=>{const c=(function(y,_){return new ac(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next((h=>{h.forEach(((y,_)=>{s=s.insert(y,_)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((s=>{o.forEach(((f,c)=>{const h=c.getKey();s.get(h)===null&&(s=s.insert(h,$n.newInvalidDocument(h)))}));let u=zf();return s.forEach(((f,c)=>{const h=o.get(f);h!==void 0&&ed(h.mutation,c,Ar.empty(),wt.now()),Ng(n,c)&&(u=u.insert(f,c))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ce.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Bi(i.createTime)}})(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:Lz(i.bundledQuery),readTime:Bi(i.readTime)}})(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(){this.overlays=new Mt(xe.comparator),this.qr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qs();return ce.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.St(e,n,o)})),ce.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),ce.resolve()}getOverlaysForCollection(e,n,r){const i=qs(),o=n.length+1,s=new xe(n.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const f=u.getNext().value,c=f.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Mt(((c,h)=>c-h));const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=o.get(c.largestBatchId);h===null&&(h=qs(),o=o.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const u=qs(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((c,h)=>u.set(c,h))),!(u.size()>=i)););return ce.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new dz(n,r));let o=this.qr.get(n);o===void 0&&(o=Ye(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(){this.sessionToken=kn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.Qr=new ln(_n.$r),this.Ur=new ln(_n.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new _n(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new _n(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new xe(new Et([])),r=new _n(n,e),i=new _n(n,e+1),o=[];return this.Ur.forEachInRange([r,i],(s=>{this.Gr(s),o.push(s.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new xe(new Et([])),r=new _n(n,e),i=new _n(n,e+1);let o=Ye();return this.Ur.forEachInRange([r,i],(s=>{o=o.add(s.key)})),o}containsKey(e){const n=new _n(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _n{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return xe.comparator(e.key,n.key)||je(e.Yr,n.Yr)}static Kr(e,n){return je(e.Yr,n.Yr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ln(_n.$r)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new fz(o,n,r,i);this.mutationQueue.push(s);for(const u of i)this.Zr=this.Zr.add(new _n(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ce.resolve(s)}lookupMutationBatch(e,n){return ce.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?PS:this.tr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _n(n,0),i=new _n(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(s=>{const u=this.Xr(s.Yr);o.push(u)})),ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ln(je);return n.forEach((i=>{const o=new _n(i,0),s=new _n(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],(u=>{r=r.add(u.Yr)}))})),ce.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;xe.isDocumentKey(o)||(o=o.child(""));const s=new _n(new xe(o),0);let u=new ln(je);return this.Zr.forEachWhile((f=>{const c=f.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(u=u.add(f.Yr)),!0)}),s),ce.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){ot(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ce.forEach(n.mutations,(i=>{const o=new _n(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new _n(n,0),i=this.Zr.firstAfterOrEqual(r);return ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(e){this.ri=e,this.docs=(function(){return new Mt(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():$n.newInvalidDocument(n))}getEntries(e,n){let r=Oo();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():$n.newInvalidDocument(i))})),ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Oo();const s=n.path,u=new xe(s.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:c,value:{document:h}}=f.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||xH(CH(h),r)<=0||(i.has(h.key)||Ng(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ne(9500)}ii(e,n){return ce.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Xz(this)}getSize(e){return ce.resolve(this.size)}}class Xz extends zz{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ce.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(e){this.persistence=e,this.si=new cl((n=>NS(n)),OS),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.oi=0,this._i=new BS,this.targetCount=0,this.ai=Uu.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ce.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Uu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.Pr(n),ce.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach(((s,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ce.waitFor(o).next((()=>i))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ce.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ce.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((s=>{o.push(i.markPotentiallyOrphaned(e,s))})),ce.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ce.resolve(r)}containsKey(e,n){return ce.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ig(0),this.li=!1,this.li=!0,this.hi=new Wz,this.referenceDelegate=e(this),this.Pi=new Zz(this),this.indexManager=new Vz,this.remoteDocumentCache=(function(i){return new Qz(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new kz(n),this.Ii=new jz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Yz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Jz(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const i=new eG(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,n){return ce.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class eG extends RH{constructor(e){super(),this.currentSequenceNumber=e}}class qS{constructor(e){this.persistence=e,this.Ri=new BS,this.Vi=null}static mi(e){return new qS(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ce.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.fi,(r=>{const i=xe.fromPath(r);return this.gi(e,i).next((o=>{o||n.removeEntry(i,Ue.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ce.or([()=>ce.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Rm{constructor(e,n){this.persistence=e,this.pi=new cl((r=>DH(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Hz(this,n)}static mi(e,n){return new Rm(e,n)}Ei(){}di(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ce.forEach(this.pi,((r,i)=>this.br(e,r,i).next((o=>o?ce.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(s=>this.br(e,s,n).next((u=>{u||(r++,o.removeEntry(s,Ue.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=om(e.data.value)),n}br(e,n,r){return ce.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ce.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ye(),i=Ye();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new FS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return MF()?8:PH(Gn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next((s=>{o.result=s})).next((()=>{if(!o.result)return this.ws(e,n,i,r).next((s=>{o.result=s}))})).next((()=>{if(o.result)return;const s=new tG;return this.Ss(e,n,s).next((u=>{if(o.result=u,this.Vs)return this.bs(e,n,s,u.size)}))})).next((()=>o.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(pu()<=Ke.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",mu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ce.resolve()):(pu()<=Ke.DEBUG&&_e("QueryEngine","Query:",mu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(pu()<=Ke.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",mu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(n))):ce.resolve())}ys(e,n){if(vI(n))return ce.resolve(null);let r=Ui(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=WT(n,null,"F"),r=Ui(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const s=Ye(...o);return this.ps.getDocuments(e,s).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const c=this.Ds(n,u);return this.Cs(n,c,s,f.readTime)?this.ys(e,WT(n,null,"F")):this.vs(e,c,n,f)}))))})))))}ws(e,n,r,i){return vI(n)||i.isEqual(Ue.min())?ce.resolve(null):this.ps.getDocuments(e,r).next((o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?ce.resolve(null):(pu()<=Ke.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),mu(n)),this.vs(e,s,n,bH(i,ld)).next((u=>u)))}))}Ds(e,n){let r=new ln(X2(e));return n.forEach(((i,o)=>{Ng(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return pu()<=Ke.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",mu(n)),this.ps.getDocumentsMatchingQuery(e,n,Fa.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((s=>{o=o.insert(s.key,s)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="LocalStore",rG=3e8;class iG{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Mt(je),this.xs=new cl((o=>NS(o)),OS),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Kz(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function oG(t,e,n,r){return new iG(t,e,n,r)}async function Ak(t,e){const n=Be(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const s=[],u=[];let f=Ye();for(const c of i){s.push(c.batchId);for(const h of c.mutations)f=f.add(h.key)}for(const c of o){u.push(c.batchId);for(const h of c.mutations)f=f.add(h.key)}return n.localDocuments.getDocuments(r,f).next((c=>({Ls:c,removedBatchIds:s,addedBatchIds:u})))}))}))}function aG(t,e){const n=Be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,c,h){const y=c.batch,_=y.keys();let S=ce.resolve();return _.forEach((A=>{S=S.next((()=>h.getEntry(f,A))).next((w=>{const C=c.docVersions.get(A);ot(C!==null,48541),w.version.compareTo(C)<0&&(y.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),h.addEntry(w)))}))})),S.next((()=>u.mutationQueue.removeMutationBatch(f,y)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=Ye();for(let c=0;c<u.mutationResults.length;++c)u.mutationResults[c].transformResults.length>0&&(f=f.add(u.batch.mutations[c].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function wk(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function sG(t,e){const n=Be(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((h,y)=>{const _=i.get(y);if(!_)return;u.push(n.Pi.removeMatchingKeys(o,h.removedDocuments,y).next((()=>n.Pi.addMatchingKeys(o,h.addedDocuments,y))));let S=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?S=S.withResumeToken(kn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):h.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(h.resumeToken,r)),i=i.insert(y,S),(function(w,C,R){return w.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=rG?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0})(_,S,h)&&u.push(n.Pi.updateTargetData(o,S))}));let f=Oo(),c=Ye();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))})),u.push(lG(o,s,e.documentUpdates).next((h=>{f=h.ks,c=h.qs}))),!r.isEqual(Ue.min())){const h=n.Pi.getLastRemoteSnapshotVersion(o).next((y=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(h)}return ce.waitFor(u).next((()=>s.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,f,c))).next((()=>f))})).then((o=>(n.Ms=i,o)))}function lG(t,e,n){let r=Ye(),i=Ye();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let s=Oo();return n.forEach(((u,f)=>{const c=o.get(u);f.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(Ue.min())?(e.removeEntry(u,f.readTime),s=s.insert(u,f)):!c.isValidDocument()||f.version.compareTo(c.version)>0||f.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(f),s=s.insert(u,f)):_e($S,"Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",f.version)})),{ks:s,qs:i}}))}function uG(t,e){const n=Be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=PS),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function cG(t,e){const n=Be(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((o=>o?(i=o,ce.resolve(i)):n.Pi.allocateTargetId(r).next((s=>(i=new Ma(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function eE(t,e,n){const r=Be(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!oc(s))throw s;_e($S,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function MI(t,e,n){const r=Be(t);let i=Ue.min(),o=Ye();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(f,c,h){const y=Be(f),_=y.xs.get(h);return _!==void 0?ce.resolve(y.Ms.get(_)):y.Pi.getTargetData(c,h)})(r,s,Ui(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,u.targetId).next((f=>{o=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:Ue.min(),n?o:Ye()))).next((u=>(fG(r,QH(e),u),{documents:u,Qs:o})))))}function fG(t,e,n){let r=t.Os.get(e)||Ue.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class DI{constructor(){this.activeTargetIds=rz()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dG{constructor(){this.Mo=new DI,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new DI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="ConnectivityMonitor";class OI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_e(NI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_e(NI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Op=null;function tE(){return Op===null?Op=(function(){return 268435456+Math.round(2147483648*Math.random())})():Op++,"0x"+Op.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="RestConnection",pG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mG{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===bm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=tE(),u=this.zo(e,n.toUriEncodedString());_e(F0,`Sending RPC '${e}' ${s}:`,u,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,o);const{host:c}=new URL(u),h=Zu(c);return this.Jo(e,u,f,r,h).then((y=>(_e(F0,`Received RPC '${e}' ${s}: `,y),y)),(y=>{throw Ou(F0,`RPC '${e}' ${s} failed with error: `,y,"url: ",u,"request:",r),y}))}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,n){const r=pG[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn="WebChannelConnection";class yG extends mG{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=tE();return new Promise(((u,f)=>{const c=new b2;c.setWithCredentials(!0),c.listenOnce(C2.COMPLETE,(()=>{try{switch(c.getLastErrorCode()){case im.NO_ERROR:const y=c.getResponseJson();_e(Bn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(y)),u(y);break;case im.TIMEOUT:_e(Bn,`RPC '${e}' ${s} timed out`),f(new me(oe.DEADLINE_EXCEEDED,"Request time out"));break;case im.HTTP_ERROR:const _=c.getStatus();if(_e(Bn,`RPC '${e}' ${s} failed with status:`,_,"response text:",c.getResponseText()),_>0){let S=c.getResponseJson();Array.isArray(S)&&(S=S[0]);const A=S==null?void 0:S.error;if(A&&A.status&&A.message){const w=(function(R){const D=R.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(D)>=0?D:oe.UNKNOWN})(A.status);f(new me(w,A.message))}else f(new me(oe.UNKNOWN,"Server responded with status "+c.getStatus()))}else f(new me(oe.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{_e(Bn,`RPC '${e}' ${s} completed.`)}}));const h=JSON.stringify(i);_e(Bn,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=tE(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=R2(),u=I2(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(f.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const h=o.join("");_e(Bn,`Creating RPC '${e}' stream ${i}: ${h}`,f);const y=s.createWebChannel(h,f);this.I_(y);let _=!1,S=!1;const A=new gG({Yo:C=>{S?_e(Bn,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(_||(_e(Bn,`Opening RPC '${e}' stream ${i} transport.`),y.open(),_=!0),_e(Bn,`RPC '${e}' stream ${i} sending:`,C),y.send(C))},Zo:()=>y.close()}),w=(C,R,D)=>{C.listen(R,(I=>{try{D(I)}catch($){setTimeout((()=>{throw $}),0)}}))};return w(y,Hf.EventType.OPEN,(()=>{S||(_e(Bn,`RPC '${e}' stream ${i} transport opened.`),A.o_())})),w(y,Hf.EventType.CLOSE,(()=>{S||(S=!0,_e(Bn,`RPC '${e}' stream ${i} transport closed`),A.a_(),this.E_(y))})),w(y,Hf.EventType.ERROR,(C=>{S||(S=!0,Ou(Bn,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),A.a_(new me(oe.UNAVAILABLE,"The operation could not be completed")))})),w(y,Hf.EventType.MESSAGE,(C=>{var R;if(!S){const D=C.data[0];ot(!!D,16349);const I=D,$=(I==null?void 0:I.error)||((R=I[0])==null?void 0:R.error);if($){_e(Bn,`RPC '${e}' stream ${i} received error:`,$);const U=$.status;let G=(function(N){const q=Wt[N];if(q!==void 0)return fk(q)})(U),O=$.message;G===void 0&&(G=oe.INTERNAL,O="Unknown error status: "+U+" with message "+$.message),S=!0,A.a_(new me(G,O)),y.close()}else _e(Bn,`RPC '${e}' stream ${i} received:`,D),A.u_(D)}})),w(u,x2.STAT_EVENT,(C=>{C.stat===$T.PROXY?_e(Bn,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===$T.NOPROXY&&_e(Bn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function $0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t){return new Ez(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="PersistentStream";class Ck{constructor(e,n,r,i,o,s,u,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bk(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(No(n.toString()),No("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new me(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(kI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(_e(kI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vG extends Ck{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=wz(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ue.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ue.min():s.readTime?Bi(s.readTime):Ue.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ZT(this.serializer),n.addTarget=(function(o,s){let u;const f=s.target;if(u=jT(f)?{documents:xz(o,f)}:{query:Iz(o,f).ft},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=pk(o,s.resumeToken);const c=JT(o,s.expectedCount);c!==null&&(u.expectedCount=c)}else if(s.snapshotVersion.compareTo(Ue.min())>0){u.readTime=Im(o,s.snapshotVersion.toTimestamp());const c=JT(o,s.expectedCount);c!==null&&(u.expectedCount=c)}return u})(this.serializer,e);const r=Pz(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ZT(this.serializer),n.removeTarget=e,this.q_(n)}}class _G extends Ck{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Cz(e.writeResults,e.commitTime),r=Bi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ZT(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>bz(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{}class EG extends TG{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new me(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,s])=>this.connection.Go(e,QT(n,r),i,o,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(oe.UNKNOWN,o.toString())}))}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,u])=>this.connection.Ho(e,QT(n,r),i,s,u,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new me(oe.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class SG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(No(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl="RemoteStore";class AG{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((s=>{r.enqueueAndForget((async()=>{fl(this)&&(_e(nl,"Restarting streams for network reachability change."),await(async function(f){const c=Be(f);c.Ea.add(4),await Vd(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Bg(c)})(this))}))})),this.Ra=new SG(r,i)}}async function Bg(t){if(fl(t))for(const e of t.da)await e(!0)}async function Vd(t){for(const e of t.da)await e(!1)}function xk(t,e){const n=Be(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),KS(n)?GS(n):sc(n).O_()&&zS(n,e))}function HS(t,e){const n=Be(t),r=sc(n);n.Ia.delete(e),r.O_()&&Ik(n,e),n.Ia.size===0&&(r.O_()?r.L_():fl(n)&&n.Ra.set("Unknown"))}function zS(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}sc(t).Y_(e)}function Ik(t,e){t.Va.Ue(e),sc(t).Z_(e)}function GS(t){t.Va=new yz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),sc(t).start(),t.Ra.ua()}function KS(t){return fl(t)&&!sc(t).x_()&&t.Ia.size>0}function fl(t){return Be(t).Ea.size===0}function Rk(t){t.Va=void 0}async function wG(t){t.Ra.set("Online")}async function bG(t){t.Ia.forEach(((e,n)=>{zS(t,e)}))}async function CG(t,e){Rk(t),KS(t)?(t.Ra.ha(e),GS(t)):t.Ra.set("Unknown")}async function xG(t,e,n){if(t.Ra.set("Online"),e instanceof hk&&e.state===2&&e.cause)try{await(async function(i,o){const s=o.cause;for(const u of o.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,s),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){_e(nl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pm(t,r)}else if(e instanceof lm?t.Va.Ze(e):e instanceof dk?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ue.min()))try{const r=await wk(t.localStore);n.compareTo(r)>=0&&await(function(o,s){const u=o.Va.Tt(s);return u.targetChanges.forEach(((f,c)=>{if(f.resumeToken.approximateByteSize()>0){const h=o.Ia.get(c);h&&o.Ia.set(c,h.withResumeToken(f.resumeToken,s))}})),u.targetMismatches.forEach(((f,c)=>{const h=o.Ia.get(f);if(!h)return;o.Ia.set(f,h.withResumeToken(kn.EMPTY_BYTE_STRING,h.snapshotVersion)),Ik(o,f);const y=new Ma(h.target,f,c,h.sequenceNumber);zS(o,y)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){_e(nl,"Failed to raise snapshot:",r),await Pm(t,r)}}async function Pm(t,e,n){if(!oc(e))throw e;t.Ea.add(1),await Vd(t),t.Ra.set("Offline"),n||(n=()=>wk(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_e(nl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Bg(t)}))}function Pk(t,e){return e().catch((n=>Pm(t,n,e)))}async function qg(t){const e=Be(t),n=Ga(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:PS;for(;IG(e);)try{const i=await uG(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,RG(e,i)}catch(i){await Pm(e,i)}Mk(e)&&Dk(e)}function IG(t){return fl(t)&&t.Ta.length<10}function RG(t,e){t.Ta.push(e);const n=Ga(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Mk(t){return fl(t)&&!Ga(t).x_()&&t.Ta.length>0}function Dk(t){Ga(t).start()}async function PG(t){Ga(t).ra()}async function MG(t){const e=Ga(t);for(const n of t.Ta)e.ea(n.mutations)}async function DG(t,e,n){const r=t.Ta.shift(),i=LS.from(r,e,n);await Pk(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await qg(t)}async function NG(t,e){e&&Ga(t).X_&&await(async function(r,i){if((function(s){return pz(s)&&s!==oe.ABORTED})(i.code)){const o=r.Ta.shift();Ga(r).B_(),await Pk(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await qg(r)}})(t,e),Mk(t)&&Dk(t)}async function LI(t,e){const n=Be(t);n.asyncQueue.verifyOperationInProgress(),_e(nl,"RemoteStore received new credentials");const r=fl(n);n.Ea.add(3),await Vd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Bg(n)}async function OG(t,e){const n=Be(t);e?(n.Ea.delete(2),await Bg(n)):e||(n.Ea.add(2),await Vd(n),n.Ra.set("Unknown"))}function sc(t){return t.ma||(t.ma=(function(n,r,i){const o=Be(n);return o.sa(),new vG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:wG.bind(null,t),t_:bG.bind(null,t),r_:CG.bind(null,t),H_:xG.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),KS(t)?GS(t):t.Ra.set("Unknown")):(await t.ma.stop(),Rk(t))}))),t.ma}function Ga(t){return t.fa||(t.fa=(function(n,r,i){const o=Be(n);return o.sa(),new _G(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:PG.bind(null,t),r_:NG.bind(null,t),ta:MG.bind(null,t),na:DG.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await qg(t)):(await t.fa.stop(),t.Ta.length>0&&(_e(nl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new xo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,u=new jS(e,n,s,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function YS(t,e){if(No("AsyncQueue",`${e}: ${t}`),oc(t))return new me(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{static emptySet(e){return new bu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=zf(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(){this.ga=new Mt(xe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Bu{constructor(e,n,r,i,o,s,u,f,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach((u=>{s.push({type:0,doc:u})})),new Bu(e,n,bu.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class LG{constructor(){this.queries=UI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Be(n),o=i.queries;i.queries=UI(),o.forEach(((s,u)=>{for(const f of u.Sa)f.onError(r)}))})(this,new me(oe.ABORTED,"Firestore shutting down"))}}function UI(){return new cl((t=>Q2(t)),Dg)}async function WS(t,e){const n=Be(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new kG,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const u=YS(s,`Initialization of query '${mu(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&QS(n)}async function JS(t,e){const n=Be(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function VG(t,e){const n=Be(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const u of s.Sa)u.Fa(i)&&(r=!0);s.wa=i}}r&&QS(n)}function UG(t,e,n){const r=Be(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function QS(t){t.Ca.forEach((e=>{e.next()}))}var nE,BI;(BI=nE||(nE={})).Ma="default",BI.Cache="cache";class XS{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Bu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Bu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==nE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.key=e}}class Ok{constructor(e){this.key=e}}class BG{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=X2(e),this.tu=new bu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new VI,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,y)=>{const _=i.get(h),S=Ng(this.query,y)?y:null,A=!!_&&this.mutatedKeys.has(_.key),w=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let C=!1;_&&S?_.data.isEqual(S.data)?A!==w&&(r.track({type:3,doc:S}),C=!0):this.su(_,S)||(r.track({type:2,doc:S}),C=!0,(f&&this.eu(S,f)>0||c&&this.eu(S,c)<0)&&(u=!0)):!_&&S?(r.track({type:0,doc:S}),C=!0):_&&!S&&(r.track({type:1,doc:_}),C=!0,(f||c)&&(u=!0)),C&&(S?(s=s.add(S),o=w?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Cs:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((h,y)=>(function(S,A){const w=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:C})}};return w(S)-w(A)})(h.type,y.type)||this.eu(h.doc,y.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,c=f!==this.Za;return this.Za=f,s.length!==0||c?{snapshot:new Bu(this.query,e.tu,o,s,e.mutatedKeys,f===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new VI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Ok(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new Nk(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Bu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ZS="SyncEngine";class qG{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class FG{constructor(e){this.key=e,this.hu=!1}}class $G{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new cl((u=>Q2(u)),Dg),this.Iu=new Map,this.Eu=new Set,this.du=new Mt(xe.comparator),this.Au=new Map,this.Ru=new BS,this.Vu={},this.mu=new Map,this.fu=Uu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HG(t,e,n=!0){const r=qk(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await kk(r,e,n,!0),i}async function zG(t,e){const n=qk(t);await kk(n,e,!0,!1)}async function kk(t,e,n,r){const i=await cG(t.localStore,Ui(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await GG(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&xk(t.remoteStore,i),u}async function GG(t,e,n,r,i){t.pu=(y,_,S)=>(async function(w,C,R,D){let I=C.view.ru(R);I.Cs&&(I=await MI(w.localStore,C.query,!1).then((({documents:O})=>C.view.ru(O,I))));const $=D&&D.targetChanges.get(C.targetId),U=D&&D.targetMismatches.get(C.targetId)!=null,G=C.view.applyChanges(I,w.isPrimaryClient,$,U);return FI(w,C.targetId,G.au),G.snapshot})(t,y,_,S);const o=await MI(t.localStore,e,!0),s=new BG(e,o.Qs),u=s.ru(o.documents),f=Ld.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(u,t.isPrimaryClient,f);FI(t,n,c.au);const h=new qG(e,n,s);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function KG(t,e,n){const r=Be(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((s=>!Dg(s,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await eE(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&HS(r.remoteStore,i.targetId),rE(r,i.targetId)})).catch(ic)):(rE(r,i.targetId),await eE(r.localStore,i.targetId,!0))}async function jG(t,e){const n=Be(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),HS(n.remoteStore,r.targetId))}async function YG(t,e,n){const r=t8(t);try{const i=await(function(s,u){const f=Be(s),c=wt.now(),h=u.reduce(((S,A)=>S.add(A.key)),Ye());let y,_;return f.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let A=Oo(),w=Ye();return f.Ns.getEntries(S,h).next((C=>{A=C,A.forEach(((R,D)=>{D.isValidDocument()||(w=w.add(R))}))})).next((()=>f.localDocuments.getOverlayedDocuments(S,A))).next((C=>{y=C;const R=[];for(const D of u){const I=uz(D,y.get(D.key).overlayedDocument);I!=null&&R.push(new Wa(D.key,I,H2(I.value.mapValue),ar.exists(!0)))}return f.mutationQueue.addMutationBatch(S,c,R,u)})).next((C=>{_=C;const R=C.applyToLocalDocumentSet(y,w);return f.documentOverlayCache.saveOverlays(S,C.batchId,R)}))})).then((()=>({batchId:_.batchId,changes:ek(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,u,f){let c=s.Vu[s.currentUser.toKey()];c||(c=new Mt(je)),c=c.insert(u,f),s.Vu[s.currentUser.toKey()]=c})(r,i.batchId,n),await Ud(r,i.changes),await qg(r.remoteStore)}catch(i){const o=YS(i,"Failed to persist write");n.reject(o)}}async function Lk(t,e){const n=Be(t);try{const r=await sG(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const s=n.Au.get(o);s&&(ot(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?ot(s.hu,14607):i.removedDocuments.size>0&&(ot(s.hu,42227),s.hu=!1))})),await Ud(n,r,e)}catch(r){await ic(r)}}function qI(t,e,n){const r=Be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,s)=>{const u=s.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(s,u){const f=Be(s);f.onlineState=u;let c=!1;f.queries.forEach(((h,y)=>{for(const _ of y.Sa)_.va(u)&&(c=!0)})),c&&QS(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function WG(t,e,n){const r=Be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new Mt(xe.comparator);s=s.insert(o,$n.newNoDocument(o,Ue.min()));const u=Ye().add(o),f=new Vg(Ue.min(),new Map,new Mt(je),s,u);await Lk(r,f),r.du=r.du.remove(o),r.Au.delete(e),eA(r)}else await eE(r.localStore,e,!1).then((()=>rE(r,e,n))).catch(ic)}async function JG(t,e){const n=Be(t),r=e.batch.batchId;try{const i=await aG(n.localStore,e);Uk(n,r,null),Vk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ud(n,i)}catch(i){await ic(i)}}async function QG(t,e,n){const r=Be(t);try{const i=await(function(s,u){const f=Be(s);return f.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let h;return f.mutationQueue.lookupMutationBatch(c,u).next((y=>(ot(y!==null,37113),h=y.keys(),f.mutationQueue.removeMutationBatch(c,y)))).next((()=>f.mutationQueue.performConsistencyCheck(c))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(c,h,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h))).next((()=>f.localDocuments.getDocuments(c,h)))}))})(r.localStore,e);Uk(r,e,n),Vk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ud(r,i)}catch(i){await ic(i)}}function Vk(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Uk(t,e,n){const r=Be(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function rE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||Bk(t,r)}))}function Bk(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(HS(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),eA(t))}function FI(t,e,n){for(const r of n)r instanceof Nk?(t.Ru.addReference(r.key,e),XG(t,r)):r instanceof Ok?(_e(ZS,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Bk(t,r.key)):Ne(19791,{wu:r})}function XG(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(_e(ZS,"New document in limbo: "+n),t.Eu.add(r),eA(t))}function eA(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new xe(Et.fromString(e)),r=t.fu.next();t.Au.set(r,new FG(n)),t.du=t.du.insert(n,r),xk(t.remoteStore,new Ma(Ui(Mg(n.path)),r,"TargetPurposeLimboResolution",Ig.ce))}}async function Ud(t,e,n){const r=Be(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{s.push(r.pu(f,e,n).then((c=>{var h;if((c||n)&&r.isPrimaryClient){const y=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(c){i.push(c);const y=FS.As(f.targetId,c);o.push(y)}})))})),await Promise.all(s),r.Pu.H_(i),await(async function(f,c){const h=Be(f);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>ce.forEach(c,(_=>ce.forEach(_.Es,(S=>h.persistence.referenceDelegate.addReference(y,_.targetId,S))).next((()=>ce.forEach(_.ds,(S=>h.persistence.referenceDelegate.removeReference(y,_.targetId,S)))))))))}catch(y){if(!oc(y))throw y;_e($S,"Failed to update sequence numbers: "+y)}for(const y of c){const _=y.targetId;if(!y.fromCache){const S=h.Ms.get(_),A=S.snapshotVersion,w=S.withLastLimboFreeSnapshotVersion(A);h.Ms=h.Ms.insert(_,w)}}})(r.localStore,o))}async function ZG(t,e){const n=Be(t);if(!n.currentUser.isEqual(e)){_e(ZS,"User change. New user:",e.toKey());const r=await Ak(n.localStore,e);n.currentUser=e,(function(o,s){o.mu.forEach((u=>{u.forEach((f=>{f.reject(new me(oe.CANCELLED,s))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ud(n,r.Ls)}}function e8(t,e){const n=Be(t),r=n.Au.get(e);if(r&&r.hu)return Ye().add(r.key);{let i=Ye();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const u=n.Tu.get(s);i=i.unionWith(u.view.nu)}return i}}function qk(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WG.bind(null,e),e.Pu.H_=VG.bind(null,e.eventManager),e.Pu.yu=UG.bind(null,e.eventManager),e}function t8(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QG.bind(null,e),e}class Mm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ug(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return oG(this.persistence,new nG,e.initialUser,this.serializer)}Cu(e){return new Sk(qS.mi,this.serializer)}Du(e){return new dG}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mm.provider={build:()=>new Mm};class n8 extends Mm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ot(this.persistence.referenceDelegate instanceof Rm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Fz(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?rr.withCacheSize(this.cacheSizeBytes):rr.DEFAULT;return new Sk((r=>Rm.mi(r,n)),this.serializer)}}class iE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZG.bind(null,this.syncEngine),await OG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new LG})()}createDatastore(e){const n=Ug(e.databaseInfo.databaseId),r=(function(o){return new yG(o)})(e.databaseInfo);return(function(o,s,u,f){return new EG(o,s,u,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,s,u){return new AG(r,i,o,s,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>qI(this.syncEngine,n,0)),(function(){return OI.v()?new OI:new hG})())}createSyncEngine(e,n){return(function(i,o,s,u,f,c,h){const y=new $G(i,o,s,u,f,c);return h&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=Be(i);_e(nl,"RemoteStore shutting down."),o.Ea.add(5),await Vd(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}iE.provider={build:()=>new iE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):No("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="FirestoreClient";class r8{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fn.UNAUTHENTICATED,this.clientId=RS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async s=>{_e(Ka,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(_e(Ka,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=YS(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function H0(t,e){t.asyncQueue.verifyOperationInProgress(),_e(Ka,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Ak(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function $I(t,e){t.asyncQueue.verifyOperationInProgress();const n=await i8(t);_e(Ka,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>LI(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>LI(e.remoteStore,i))),t._onlineComponents=e}async function i8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(Ka,"Using user provided OfflineComponentProvider");try{await H0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===oe.FAILED_PRECONDITION||i.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Ou("Error using user provided cache. Falling back to memory cache: "+n),await H0(t,new Mm)}}else _e(Ka,"Using default OfflineComponentProvider"),await H0(t,new n8(void 0));return t._offlineComponents}async function Fk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(Ka,"Using user provided OnlineComponentProvider"),await $I(t,t._uninitializedComponentsProvider._online)):(_e(Ka,"Using default OnlineComponentProvider"),await $I(t,new iE))),t._onlineComponents}function o8(t){return Fk(t).then((e=>e.syncEngine))}async function Dm(t){const e=await Fk(t),n=e.eventManager;return n.onListen=HG.bind(null,e.syncEngine),n.onUnlisten=KG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zG.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jG.bind(null,e.syncEngine),n}function a8(t,e,n={}){const r=new xo;return t.asyncQueue.enqueueAndForget((async()=>(function(o,s,u,f,c){const h=new tA({next:_=>{h.Nu(),s.enqueueAndForget((()=>JS(o,y)));const S=_.docs.has(u);!S&&_.fromCache?c.reject(new me(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&_.fromCache&&f&&f.source==="server"?c.reject(new me(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(_)},error:_=>c.reject(_)}),y=new XS(Mg(u.path),h,{includeMetadataChanges:!0,qa:!0});return WS(o,y)})(await Dm(t),t.asyncQueue,e,n,r))),r.promise}function s8(t,e,n={}){const r=new xo;return t.asyncQueue.enqueueAndForget((async()=>(function(o,s,u,f,c){const h=new tA({next:_=>{h.Nu(),s.enqueueAndForget((()=>JS(o,y))),_.fromCache&&f.source==="server"?c.reject(new me(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(_)},error:_=>c.reject(_)}),y=new XS(u,h,{includeMetadataChanges:!0,qa:!0});return WS(o,y)})(await Dm(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk="firestore.googleapis.com",zI=!0;class GI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hk,this.ssl=zI}else this.host=e.host,this.ssl=e.ssl??zI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ek;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Bz)throw new me(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$k(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new pH;switch(r.type){case"firstParty":return new vH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=HI.get(n);r&&(_e("ComponentProvider","Removing Datastore"),HI.delete(n),r.terminate())})(this),Promise.resolve()}}function l8(t,e,n,r={}){var c;t=br(t,Fg);const i=Zu(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(VO(`https://${u}`),UO("Firestore",!0)),o.host!==Hk&&o.host!==u&&Ou("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:u,ssl:i,emulatorOptions:r};if(!Xs(f,s)&&(t._setSettings(f),r.mockUserToken)){let h,y;if(typeof r.mockUserToken=="string")h=r.mockUserToken,y=Fn.MOCK_USER;else{h=SF(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new me(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Fn(_)}t._authCredentials=new mH(new M2(h,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ja(this.firestore,e,this._query)}}class $t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $t(this.firestore,e,this._key)}toJSON(){return{type:$t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Od(n,$t._jsonSchema))return new $t(e,r||null,new xe(Et.fromString(n.referencePath)))}}$t._jsonSchemaVersion="firestore/documentReference/1.0",$t._jsonSchema={type:Qt("string",$t._jsonSchemaVersion),referencePath:Qt("string")};class Ua extends Ja{constructor(e,n,r){super(e,n,Mg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new xe(e))}withConverter(e){return new Ua(this.firestore,e,this._path)}}function Bs(t,e,...n){if(t=Vt(t),D2("collection","path",e),t instanceof Fg){const r=Et.fromString(e,...n);return iI(r),new Ua(t,null,r)}{if(!(t instanceof $t||t instanceof Ua))throw new me(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return iI(r),new Ua(t.firestore,null,r)}}function Ba(t,e,...n){if(t=Vt(t),arguments.length===1&&(e=RS.newId()),D2("doc","path",e),t instanceof Fg){const r=Et.fromString(e,...n);return rI(r),new $t(t,null,new xe(r))}{if(!(t instanceof $t||t instanceof Ua))throw new me(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return rI(r),new $t(t.firestore,t instanceof Ua?t.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="AsyncQueue";class jI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bk(this,"async_queue_retry"),this._c=()=>{const r=$0();r&&_e(KI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=$0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=$0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new xo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!oc(e))throw e;_e(KI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,No("INTERNAL UNHANDLED ERROR: ",YI(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=jS.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Ne(47125,{Pc:YI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function YI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}class ko extends Fg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new jI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jI(e),this._firestoreClient=void 0,await e}}}function u8(t,e){const n=typeof t=="object"?t:$O(),r=typeof t=="string"?t:bm,i=_S(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=TF("firestore");o&&l8(i,...o)}return i}function Bd(t){if(t._terminated)throw new me(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||c8(t),t._firestoreClient}function c8(t){var r,i,o;const e=t._freezeSettings(),n=(function(u,f,c,h){return new kH(u,f,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,$k(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new r8(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(u){const f=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kr(kn.fromBase64String(e))}catch(n){throw new me(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Kr(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Od(e,Kr._jsonSchema))return Kr.fromBase64String(e.bytes)}}Kr._jsonSchemaVersion="firestore/bytes/1.0",Kr._jsonSchema={type:Qt("string",Kr._jsonSchemaVersion),bytes:Qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(e){if(Od(e,qi._jsonSchema))return new qi(e.latitude,e.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:Qt("string",qi._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Od(e,Fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Fi(e.vectorValues);throw new me(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fi._jsonSchemaVersion="firestore/vectorValue/1.0",Fi._jsonSchema={type:Qt("string",Fi._jsonSchemaVersion),vectorValues:Qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8=/^__.*__$/;class d8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wa(e,this.data,this.fieldMask,n,this.fieldTransforms):new kd(e,this.data,n,this.fieldTransforms)}}class zk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Wa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Gk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:t})}}class nA{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new nA({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Nm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Gk(this.Ac)&&f8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class h8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ug(e)}Cc(e,n,r,i=!1){return new nA({Ac:e,methodName:n,Dc:r,path:Nn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $g(t){const e=t._freezeSettings(),n=Ug(t._databaseId);return new h8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Kk(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);oA("Data must be an object, but it was:",s,r);const u=Wk(r,s);let f,c;if(o.merge)f=new Ar(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const y of o.mergeFields){const _=oE(e,y,n);if(!s.contains(_))throw new me(oe.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Qk(h,_)||h.push(_)}f=new Ar(h),c=s.fieldTransforms.filter((y=>f.covers(y.field)))}else f=null,c=s.fieldTransforms;return new d8(new ir(u),f,c)}class Hg extends Fd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hg}}class rA extends Fd{_toFieldTransform(e){return new lk(e.path,new hd)}isEqual(e){return e instanceof rA}}class iA extends Fd{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new gd(e.serializer,rk(e.serializer,this.Fc));return new lk(e.path,n)}isEqual(e){return e instanceof iA&&this.Fc===e.Fc}}function jk(t,e,n,r){const i=t.Cc(1,e,n);oA("Data must be an object, but it was:",i,r);const o=[],s=ir.empty();Ya(r,((f,c)=>{const h=aA(e,f,n);c=Vt(c);const y=i.yc(h);if(c instanceof Hg)o.push(h);else{const _=$d(c,y);_!=null&&(o.push(h),s.set(h,_))}}));const u=new Ar(o);return new zk(s,u,i.fieldTransforms)}function Yk(t,e,n,r,i,o){const s=t.Cc(1,e,n),u=[oE(e,r,n)],f=[i];if(o.length%2!=0)throw new me(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)u.push(oE(e,o[_])),f.push(o[_+1]);const c=[],h=ir.empty();for(let _=u.length-1;_>=0;--_)if(!Qk(c,u[_])){const S=u[_];let A=f[_];A=Vt(A);const w=s.yc(S);if(A instanceof Hg)c.push(S);else{const C=$d(A,w);C!=null&&(c.push(S),h.set(S,C))}}const y=new Ar(c);return new zk(h,y,s.fieldTransforms)}function p8(t,e,n,r=!1){return $d(n,t.Cc(r?4:3,e))}function $d(t,e){if(Jk(t=Vt(t)))return oA("Unsupported field value:",e,t),Wk(t,e);if(t instanceof Fd)return(function(r,i){if(!Gk(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let s=0;for(const u of r){let f=$d(u,i.wc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=wt.fromDate(r);return{timestampValue:Im(i.serializer,o)}}if(r instanceof wt){const o=new wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Im(i.serializer,o)}}if(r instanceof qi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kr)return{bytesValue:pk(i.serializer,r._byteString)};if(r instanceof $t){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:US(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fi)return(function(s,u){return{mapValue:{fields:{[F2]:{stringValue:$2},[Cm]:{arrayValue:{values:s.toArray().map((c=>{if(typeof c!="number")throw u.Sc("VectorValues must only contain numeric values.");return kS(u.serializer,c)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${xg(r)}`)})(t,e)}function Wk(t,e){const n={};return k2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ya(t,((r,i)=>{const o=$d(i,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function Jk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof qi||t instanceof Kr||t instanceof $t||t instanceof Fd||t instanceof Fi)}function oA(t,e,n){if(!Jk(n)||!N2(n)){const r=xg(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function oE(t,e,n){if((e=Vt(e))instanceof qd)return e._internalPath;if(typeof e=="string")return aA(t,e);throw Nm("Field path arguments must be of type string or ",t,!1,void 0,n)}const m8=new RegExp("[~\\*/\\[\\]]");function aA(t,e,n){if(e.search(m8)>=0)throw Nm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qd(...e.split("."))._internalPath}catch{throw Nm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nm(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||s)&&(f+=" (found",o&&(f+=` in field ${r}`),s&&(f+=` in document ${i}`),f+=")"),new me(oe.INVALID_ARGUMENT,u+t+f)}function Qk(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class g8 extends Xk{data(){return super.data()}}function sA(t,e){return typeof e=="string"?aA(t,e):e instanceof qd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lA{}class eL extends lA{}function um(t,e,...n){let r=[];e instanceof lA&&r.push(e),r=r.concat(n),(function(o){const s=o.filter((f=>f instanceof cA)).length,u=o.filter((f=>f instanceof uA)).length;if(s>1||s>0&&u>0)throw new me(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class uA extends eL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new uA(e,n,r)}_apply(e){const n=this._parse(e);return tL(e._query,n),new Ja(e.firestore,e.converter,YT(e._query,n))}_parse(e){const n=$g(e.firestore);return(function(o,s,u,f,c,h,y){let _;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new me(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){QI(y,h);const A=[];for(const w of y)A.push(JI(f,o,w));_={arrayValue:{values:A}}}else _=JI(f,o,y)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||QI(y,h),_=p8(u,s,y,h==="in"||h==="not-in");return Jt.create(c,h,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class cA extends lA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cA(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:fi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i;const u=o.getFlattenedFilters();for(const f of u)tL(s,f),s=YT(s,f)})(e._query,n),new Ja(e.firestore,e.converter,YT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fA extends eL{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new fA(e,n)}_apply(e){const n=(function(i,o,s){if(i.startAt!==null)throw new me(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new me(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dd(o,s)})(e._query,this._field,this._direction);return new Ja(e.firestore,e.converter,(function(i,o){const s=i.explicitOrderBy.concat([o]);return new ac(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function aE(t,e="asc"){const n=e,r=sA("orderBy",t);return fA._create(r,n)}function JI(t,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new me(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!J2(e)&&n.indexOf("/")!==-1)throw new me(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Et.fromString(n));if(!xe.isDocumentKey(r))throw new me(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dI(t,new xe(r))}if(n instanceof $t)return dI(t,n._key);throw new me(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xg(n)}.`)}function QI(t,e){if(!Array.isArray(t)||t.length===0)throw new me(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tL(t,e){const n=(function(i,o){for(const s of i)for(const u of s.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new me(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class y8{convertValue(e,n="none"){switch(za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ya(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Cm].arrayValue)==null?void 0:i.values)==null?void 0:o.map((s=>Ft(s.doubleValue)));return new Fi(n)}convertGeoPoint(e){return new qi(Ft(e.latitude),Ft(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Pg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ud(e));default:return null}}convertTimestamp(e){const n=$a(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Et.fromString(e);ot(Tk(r),9688,{name:e});const i=new cd(r.get(1),r.get(3)),o=new xe(r.popFirst(5));return i.isEqual(n)||No(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Kf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gs extends Xk{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Gs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gs._jsonSchema={type:Qt("string",Gs._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class cm extends Gs{data(e={}){return super.data(e)}}class Ks{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Kf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new cm(this._firestore,this._userDataWriter,r.key,r,new Kf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((u=>{const f=new cm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Kf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const f=new cm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Kf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return u.type!==0&&(c=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(s=s.add(u.doc),h=s.indexOf(u.doc.key)),{type:v8(u.type),doc:f,oldIndex:c,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ks._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=RS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function v8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t){t=br(t,$t);const e=br(t.firestore,ko);return a8(Bd(e),t._key).then((n=>oL(e,t,n)))}Ks._jsonSchemaVersion="firestore/querySnapshot/1.0",Ks._jsonSchema={type:Qt("string",Ks._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class dA extends y8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,n)}}function iL(t){t=br(t,Ja);const e=br(t.firestore,ko),n=Bd(e),r=new dA(e);return Zk(t._query),s8(n,t._query).then((i=>new Ks(e,r,t,i)))}function hA(t,e,n,...r){t=br(t,$t);const i=br(t.firestore,ko),o=$g(i);let s;return s=typeof(e=Vt(e))=="string"||e instanceof qd?Yk(o,"updateDoc",t._key,e,n,r):jk(o,"updateDoc",t._key,e),zg(i,[s.toMutation(t._key,ar.exists(!0))])}function XI(t){return zg(br(t.firestore,ko),[new Lg(t._key,ar.none())])}function sE(t,e){const n=br(t.firestore,ko),r=Ba(t),i=nL(t.converter,e);return zg(n,[Kk($g(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ar.exists(!1))]).then((()=>r))}function lE(t,...e){var f,c,h;t=Vt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||WI(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(WI(e[r])){const y=e[r];e[r]=(f=y.next)==null?void 0:f.bind(y),e[r+1]=(c=y.error)==null?void 0:c.bind(y),e[r+2]=(h=y.complete)==null?void 0:h.bind(y)}let o,s,u;if(t instanceof $t)s=br(t.firestore,ko),u=Mg(t._key.path),o={next:y=>{e[r]&&e[r](oL(s,t,y))},error:e[r+1],complete:e[r+2]};else{const y=br(t,Ja);s=br(y.firestore,ko),u=y._query;const _=new dA(s);o={next:S=>{e[r]&&e[r](new Ks(s,_,y,S))},error:e[r+1],complete:e[r+2]},Zk(t._query)}return(function(_,S,A,w){const C=new tA(w),R=new XS(S,C,A);return _.asyncQueue.enqueueAndForget((async()=>WS(await Dm(_),R))),()=>{C.Nu(),_.asyncQueue.enqueueAndForget((async()=>JS(await Dm(_),R)))}})(Bd(s),u,i,o)}function zg(t,e){return(function(r,i){const o=new xo;return r.asyncQueue.enqueueAndForget((async()=>YG(await o8(r),i,o))),o.promise})(Bd(t),e)}function oL(t,e,n){const r=n.docs.get(e._key),i=new dA(t);return new Gs(t,i,e._key,r,new Kf(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=$g(e)}set(e,n,r){this._verifyNotCommitted();const i=z0(e,this._firestore),o=nL(i.converter,n,r),s=Kk(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,ar.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=z0(e,this._firestore);let s;return s=typeof(n=Vt(n))=="string"||n instanceof qd?Yk(this._dataReader,"WriteBatch.update",o._key,n,r,i):jk(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,ar.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=z0(e,this._firestore);return this._mutations=this._mutations.concat(new Lg(n._key,ar.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new me(oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function z0(t,e){if((t=Vt(t)).firestore!==e)throw new me(oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function td(){return new rA("serverTimestamp")}function T8(t){return new iA("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(t){return Bd(t=br(t,ko)),new _8(t,(e=>zg(t,e)))}(function(e,n=!0){(function(i){rc=i})(ec),Mu(new Zs("firestore",((r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),u=new ko(new gH(r.getProvider("auth-internal")),new _H(s,r.getProvider("app-check-internal")),(function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new me(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cd(c.options.projectId,h)})(s,i),s);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),ka(Z1,eI,e),ka(Z1,eI,"esm2020")})();const aL={apiKey:"AIzaSyCZh_PwX7LZfXujZiHGH9T-8uA17hNQGBY",authDomain:"bkomhate-site.firebaseapp.com",projectId:"bkomhate-site",storageBucket:"bkomhate-site.appspot.com",messagingSenderId:"37549082348",appId:"1:37549082348:web:cf0c6c4f504b40192887c9"},sL=FO(aL),nd=dH(sL),tr=u8(sL),lL=M.createContext({currentUser:null,loading:!0}),S8=()=>M.useContext(lL),A8=({children:t})=>{const[e,n]=M.useState(null),[r,i]=M.useState(!0);M.useEffect(()=>e$(nd,u=>{n(u),i(!1)}),[]);const o={currentUser:e,loading:r};return z.jsx(lL.Provider,{value:o,children:t})};function uL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=uL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function bt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=uL(t))&&(r&&(r+=" "),r+=e);return r}var G0={},K0={},ZI;function w8(){return ZI||(ZI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(K0)),K0}var j0={},eR;function cL(){return eR||(eR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(j0)),j0}var Y0={},tR;function fL(){return tR||(tR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(Y0)),Y0}var W0={},nR;function pA(){return nR||(nR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let o=0,s="",u="",f=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<i;){const c=n[o];u?c==="\\"&&o+1<i?(o++,s+=n[o]):c===u?u="":s+=c:f?c==='"'||c==="'"?u=c:c==="]"?(f=!1,r.push(s),s=""):s+=c:c==="["?(f=!0,s&&(r.push(s),s="")):c==="."?s&&(r.push(s),s=""):s+=c,o++}return s&&r.push(s),r}t.toPath=e})(W0)),W0}var rR;function mA(){return rR||(rR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w8(),n=cL(),r=fL(),i=pA();function o(u,f,c){if(u==null)return c;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return c;const h=u[f];return h===void 0?n.isDeepKey(f)?o(u,i.toPath(f),c):c:h}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const h=u[f];return h===void 0?c:h}default:{if(Array.isArray(f))return s(u,f,c);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return c;const h=u[f];return h===void 0?c:h}}}function s(u,f,c){if(f.length===0)return c;let h=u;for(let y=0;y<f.length;y++){if(h==null||e.isUnsafeProperty(f[y]))return c;h=h[f[y]]}return h===void 0?c:h}t.get=o})(G0)),G0}var J0,iR;function b8(){return iR||(iR=1,J0=mA().get),J0}var C8=b8();const rl=hi(C8);var Q0={exports:{}},gt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oR;function x8(){if(oR)return gt;oR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.view_transition"),S=Symbol.for("react.client.reference");function A(w){if(typeof w=="object"&&w!==null){var C=w.$$typeof;switch(C){case t:switch(w=w.type,w){case n:case i:case r:case f:case c:case _:return w;default:switch(w=w&&w.$$typeof,w){case s:case u:case y:case h:return w;case o:return w;default:return C}}case e:return C}}}return gt.ContextConsumer=o,gt.ContextProvider=s,gt.Element=t,gt.ForwardRef=u,gt.Fragment=n,gt.Lazy=y,gt.Memo=h,gt.Portal=e,gt.Profiler=i,gt.StrictMode=r,gt.Suspense=f,gt.SuspenseList=c,gt.isContextConsumer=function(w){return A(w)===o},gt.isContextProvider=function(w){return A(w)===s},gt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},gt.isForwardRef=function(w){return A(w)===u},gt.isFragment=function(w){return A(w)===n},gt.isLazy=function(w){return A(w)===y},gt.isMemo=function(w){return A(w)===h},gt.isPortal=function(w){return A(w)===e},gt.isProfiler=function(w){return A(w)===i},gt.isStrictMode=function(w){return A(w)===r},gt.isSuspense=function(w){return A(w)===f},gt.isSuspenseList=function(w){return A(w)===c},gt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===f||w===c||typeof w=="object"&&w!==null&&(w.$$typeof===y||w.$$typeof===h||w.$$typeof===s||w.$$typeof===o||w.$$typeof===u||w.$$typeof===S||w.getModuleId!==void 0)},gt.typeOf=A,gt}var aR;function I8(){return aR||(aR=1,Q0.exports=x8()),Q0.exports}var R8=I8(),wr=t=>t===0?0:t>0?1:-1,Jr=t=>typeof t=="number"&&t!=+t,Fs=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ce=t=>(typeof t=="number"||t instanceof Number)&&!Jr(t),zi=t=>Ce(t)||typeof t=="string",P8=0,yd=t=>{var e=++P8;return"".concat(t||"").concat(e)},di=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ce(e)&&typeof e!="string")return r;var o;if(Fs(e)){if(n==null)return r;var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Jr(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},dL=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function du(t,e,n){return Ce(t)&&Ce(e)?t+n*(e-t):e}function M8(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):rl(r,e))===n)}var un=t=>t===null||typeof t>"u",Hd=t=>un(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),D8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function gA(t){if(typeof t!="string")return!1;var e=D8;return e.includes(t)}var N8=["viewBox","children"],sR=["points","pathLength"],X0={svg:N8,polygon:sR,polyline:sR},O8=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(M.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{gA(i)&&(r[i]=(o=>n[i](n,o)))}),r},k8=(t,e,n)=>r=>(t(e,n,r),null),yA=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];gA(i)&&typeof o=="function"&&(r||(r={}),r[i]=k8(o,e,n))}),r},L8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function hL(t){if(typeof t!="string")return!1;var e=L8;return e.includes(t)}function Gg(t){var e=Object.entries(t).filter(n=>{var[r]=n;return hL(r)});return Object.fromEntries(e)}var lR=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",uR=null,Z0=null,pL=t=>{if(t===uR&&Array.isArray(Z0))return Z0;var e=[];return M.Children.forEach(t,n=>{un(n)||(R8.isFragment(n)?e=e.concat(pL(n.props.children)):e.push(n))}),Z0=e,uR=t,e};function vA(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>lR(i)):r=[lR(e)],pL(t).forEach(i=>{var o=rl(i,"type.displayName")||rl(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}var V8=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var o=(i=r&&(X0==null?void 0:X0[r]))!==null&&i!==void 0?i:[],s=e.startsWith("data-"),u=typeof t!="function"&&(!!r&&o.includes(e)||hL(e)),f=!!n&&gA(e);return s||u||f},En=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(M.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(o=>{var s;V8((s=r)===null||s===void 0?void 0:s[o],o,e,n)&&(i[o]=r[o])}),i},U8=["children","width","height","viewBox","className","style","title","desc"];function uE(){return uE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uE.apply(null,arguments)}function B8(t,e){if(t==null)return{};var n,r,i=q8(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function q8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mL=M.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:s,style:u,title:f,desc:c}=t,h=B8(t,U8),y=o||{width:r,height:i,x:0,y:0},_=bt("recharts-surface",s);return M.createElement("svg",uE({},En(h,!0,"svg"),{className:_,width:r,height:i,style:u,viewBox:"".concat(y.x," ").concat(y.y," ").concat(y.width," ").concat(y.height),ref:e}),M.createElement("title",null,f),M.createElement("desc",null,c),n)}),F8=["children","className"];function cE(){return cE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cE.apply(null,arguments)}function $8(t,e){if(t==null)return{};var n,r,i=H8(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function H8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ja=M.forwardRef((t,e)=>{var{children:n,className:r}=t,i=$8(t,F8),o=bt("recharts-layer",r);return M.createElement("g",cE({className:o},En(i,!0),{ref:e}),n)}),z8=M.createContext(null);function Tt(t){return function(){return t}}const gL=Math.cos,Om=Math.sin,gi=Math.sqrt,km=Math.PI,Kg=2*km,fE=Math.PI,dE=2*fE,Ls=1e-6,G8=dE-Ls;function yL(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function K8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return yL;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class j8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?yL:K8(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,u=this._y1,f=r-e,c=i-n,h=s-e,y=u-n,_=h*h+y*y;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(_>Ls)if(!(Math.abs(y*f-c*h)>Ls)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let S=r-s,A=i-u,w=f*f+c*c,C=S*S+A*A,R=Math.sqrt(w),D=Math.sqrt(_),I=o*Math.tan((fE-Math.acos((w+_-C)/(2*R*D)))/2),$=I/D,U=I/R;Math.abs($-1)>Ls&&this._append`L${e+$*h},${n+$*y}`,this._append`A${o},${o},0,0,${+(y*S>h*A)},${this._x1=e+U*f},${this._y1=n+U*c}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),c=e+u,h=n+f,y=1^s,_=s?i-o:o-i;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>Ls||Math.abs(this._y1-h)>Ls)&&this._append`L${c},${h}`,r&&(_<0&&(_=_%dE+dE),_>G8?this._append`A${r},${r},0,1,${y},${e-u},${n-f}A${r},${r},0,1,${y},${this._x1=c},${this._y1=h}`:_>Ls&&this._append`A${r},${r},0,${+(_>=fE)},${y},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function _A(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new j8(e)}function TA(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function vL(t){this._context=t}vL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function jg(t){return new vL(t)}function _L(t){return t[0]}function TL(t){return t[1]}function EL(t,e){var n=Tt(!0),r=null,i=jg,o=null,s=_A(u);t=typeof t=="function"?t:t===void 0?_L:Tt(t),e=typeof e=="function"?e:e===void 0?TL:Tt(e);function u(f){var c,h=(f=TA(f)).length,y,_=!1,S;for(r==null&&(o=i(S=s())),c=0;c<=h;++c)!(c<h&&n(y=f[c],c,f))===_&&((_=!_)?o.lineStart():o.lineEnd()),_&&o.point(+t(y,c,f),+e(y,c,f));if(S)return o=null,S+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Tt(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Tt(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Tt(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),u):r},u}function kp(t,e,n){var r=null,i=Tt(!0),o=null,s=jg,u=null,f=_A(c);t=typeof t=="function"?t:t===void 0?_L:Tt(+t),e=typeof e=="function"?e:Tt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?TL:Tt(+n);function c(y){var _,S,A,w=(y=TA(y)).length,C,R=!1,D,I=new Array(w),$=new Array(w);for(o==null&&(u=s(D=f())),_=0;_<=w;++_){if(!(_<w&&i(C=y[_],_,y))===R)if(R=!R)S=_,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),A=_-1;A>=S;--A)u.point(I[A],$[A]);u.lineEnd(),u.areaEnd()}R&&(I[_]=+t(C,_,y),$[_]=+e(C,_,y),u.point(r?+r(C,_,y):I[_],n?+n(C,_,y):$[_]))}if(D)return u=null,D+""||null}function h(){return EL().defined(i).curve(s).context(o)}return c.x=function(y){return arguments.length?(t=typeof y=="function"?y:Tt(+y),r=null,c):t},c.x0=function(y){return arguments.length?(t=typeof y=="function"?y:Tt(+y),c):t},c.x1=function(y){return arguments.length?(r=y==null?null:typeof y=="function"?y:Tt(+y),c):r},c.y=function(y){return arguments.length?(e=typeof y=="function"?y:Tt(+y),n=null,c):e},c.y0=function(y){return arguments.length?(e=typeof y=="function"?y:Tt(+y),c):e},c.y1=function(y){return arguments.length?(n=y==null?null:typeof y=="function"?y:Tt(+y),c):n},c.lineX0=c.lineY0=function(){return h().x(t).y(e)},c.lineY1=function(){return h().x(t).y(n)},c.lineX1=function(){return h().x(r).y(e)},c.defined=function(y){return arguments.length?(i=typeof y=="function"?y:Tt(!!y),c):i},c.curve=function(y){return arguments.length?(s=y,o!=null&&(u=s(o)),c):s},c.context=function(y){return arguments.length?(y==null?o=u=null:u=s(o=y),c):o},c}class SL{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Y8(t){return new SL(t,!0)}function W8(t){return new SL(t,!1)}const EA={draw(t,e){const n=gi(e/km);t.moveTo(n,0),t.arc(0,0,n,0,Kg)}},J8={draw(t,e){const n=gi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},AL=gi(1/3),Q8=AL*2,X8={draw(t,e){const n=gi(e/Q8),r=n*AL;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Z8={draw(t,e){const n=gi(e),r=-n/2;t.rect(r,r,n,n)}},e7=.8908130915292852,wL=Om(km/10)/Om(7*km/10),t7=Om(Kg/10)*wL,n7=-gL(Kg/10)*wL,r7={draw(t,e){const n=gi(e*e7),r=t7*n,i=n7*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=Kg*o/5,u=gL(s),f=Om(s);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},e_=gi(3),i7={draw(t,e){const n=-gi(e/(e_*3));t.moveTo(0,n*2),t.lineTo(-e_*n,-n),t.lineTo(e_*n,-n),t.closePath()}},$r=-.5,Hr=gi(3)/2,hE=1/gi(12),o7=(hE/2+1)*3,a7={draw(t,e){const n=gi(e/o7),r=n/2,i=n*hE,o=r,s=n*hE+n,u=-o,f=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(u,f),t.lineTo($r*r-Hr*i,Hr*r+$r*i),t.lineTo($r*o-Hr*s,Hr*o+$r*s),t.lineTo($r*u-Hr*f,Hr*u+$r*f),t.lineTo($r*r+Hr*i,$r*i-Hr*r),t.lineTo($r*o+Hr*s,$r*s-Hr*o),t.lineTo($r*u+Hr*f,$r*f-Hr*u),t.closePath()}};function s7(t,e){let n=null,r=_A(i);t=typeof t=="function"?t:Tt(t||EA),e=typeof e=="function"?e:Tt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Tt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Tt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Lm(){}function Vm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function bL(t){this._context=t}bL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function l7(t){return new bL(t)}function CL(t){this._context=t}CL.prototype={areaStart:Lm,areaEnd:Lm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Vm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function u7(t){return new CL(t)}function xL(t){this._context=t}xL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Vm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function c7(t){return new xL(t)}function IL(t){this._context=t}IL.prototype={areaStart:Lm,areaEnd:Lm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function f7(t){return new IL(t)}function cR(t){return t<0?-1:1}function fR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),u=(o*i+s*r)/(r+i);return(cR(o)+cR(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(u))||0}function dR(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function t_(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,s-u*n,o,s)}function Um(t){this._context=t}Um.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:t_(this,this._t0,dR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,t_(this,dR(this,n=fR(this,t,e)),n);break;default:t_(this,this._t0,n=fR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function RL(t){this._context=new PL(t)}(RL.prototype=Object.create(Um.prototype)).point=function(t,e){Um.prototype.point.call(this,e,t)};function PL(t){this._context=t}PL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function d7(t){return new Um(t)}function h7(t){return new RL(t)}function ML(t){this._context=t}ML.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=hR(t),i=hR(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function hR(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function p7(t){return new ML(t)}function Yg(t,e){this._context=t,this._t=e}Yg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function m7(t){return new Yg(t,.5)}function g7(t){return new Yg(t,0)}function y7(t){return new Yg(t,1)}function qu(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,u=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function pE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function v7(t,e){return t[e]}function _7(t){const e=[];return e.key=t,e}function T7(){var t=Tt([]),e=pE,n=qu,r=v7;function i(o){var s=Array.from(t.apply(this,arguments),_7),u,f=s.length,c=-1,h;for(const y of o)for(u=0,++c;u<f;++u)(s[u][c]=[0,+r(y,s[u].key,c,o)]).data=y;for(u=0,h=TA(e(s));u<f;++u)s[h[u]].index=u;return n(s,h),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Tt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Tt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?pE:typeof o=="function"?o:Tt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??qu,i):n},i}function E7(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}qu(t,e)}}function S7(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,u=0;s<i;++s)u+=t[s][n][1]||0;r[n][1]+=r[n][0]=-u/2}qu(t,e)}}function A7(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var u=0,f=0,c=0;u<s;++u){for(var h=t[e[u]],y=h[r][1]||0,_=h[r-1][1]||0,S=(y-_)/2,A=0;A<u;++A){var w=t[e[A]],C=w[r][1]||0,R=w[r-1][1]||0;S+=C-R}f+=y,c+=S*y}i[r-1][1]+=i[r-1][0]=n,f&&(n-=c/f)}i[r-1][1]+=i[r-1][0]=n,qu(t,e)}}var w7=["type","size","sizeType"];function mE(){return mE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mE.apply(null,arguments)}function pR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(n),!0).forEach(function(r){b7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b7(t,e,n){return(e=C7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C7(t){var e=x7(t,"string");return typeof e=="symbol"?e:e+""}function x7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I7(t,e){if(t==null)return{};var n,r,i=R7(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function R7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var DL={symbolCircle:EA,symbolCross:J8,symbolDiamond:X8,symbolSquare:Z8,symbolStar:r7,symbolTriangle:i7,symbolWye:a7},P7=Math.PI/180,M7=t=>{var e="symbol".concat(Hd(t));return DL[e]||EA},D7=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*P7;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},N7=(t,e)=>{DL["symbol".concat(Hd(t))]=e},NL=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=I7(t,w7),o=mR(mR({},i),{},{type:e,size:n,sizeType:r}),s=()=>{var y=M7(e),_=s7().type(y).size(D7(n,r,e));return _()},{className:u,cx:f,cy:c}=o,h=En(o,!0);return f===+f&&c===+c&&n===+n?M.createElement("path",mE({},h,{className:bt("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(c,")"),d:s()})):null};NL.registerSymbol=N7;var n_={},r_={},gR;function O7(){return gR||(gR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const s=n[o],u=r(s);i.has(u)||i.set(u,s)}return Array.from(i.values())}t.uniqBy=e})(r_)),r_}var i_={},yR;function OL(){return yR||(yR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(i_)),i_}var o_={},a_={},s_={},vR;function k7(){return vR||(vR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(s_)),s_}var _R;function SA(){return _R||(_R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=k7();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(a_)),a_}var l_={},TR;function L7(){return TR||(TR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(l_)),l_}var ER;function V7(){return ER||(ER=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SA(),n=L7();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(o_)),o_}var u_={},c_={},SR;function U7(){return SR||(SR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mA();function n(r){return function(i){return e.get(i,r)}}t.property=n})(c_)),c_}var f_={},d_={},h_={},p_={},AR;function kL(){return AR||(AR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(p_)),p_}var m_={},wR;function LL(){return wR||(wR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(m_)),m_}var g_={},bR;function AA(){return bR||(bR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(g_)),g_}var CR;function B7(){return CR||(CR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wA(),n=kL(),r=LL(),i=AA();function o(y,_,S){return typeof S!="function"?e.isMatch(y,_):s(y,_,function A(w,C,R,D,I,$){const U=S(w,C,R,D,I,$);return U!==void 0?!!U:s(w,C,A,$)},new Map)}function s(y,_,S,A){if(_===y)return!0;switch(typeof _){case"object":return u(y,_,S,A);case"function":return Object.keys(_).length>0?s(y,{..._},S,A):i.eq(y,_);default:return n.isObject(y)?typeof _=="string"?_==="":!0:i.eq(y,_)}}function u(y,_,S,A){if(_==null)return!0;if(Array.isArray(_))return c(y,_,S,A);if(_ instanceof Map)return f(y,_,S,A);if(_ instanceof Set)return h(y,_,S,A);const w=Object.keys(_);if(y==null)return w.length===0;if(w.length===0)return!0;if(A&&A.has(_))return A.get(_)===y;A&&A.set(_,y);try{for(let C=0;C<w.length;C++){const R=w[C];if(!r.isPrimitive(y)&&!(R in y)||_[R]===void 0&&y[R]!==void 0||_[R]===null&&y[R]!==null||!S(y[R],_[R],R,y,_,A))return!1}return!0}finally{A&&A.delete(_)}}function f(y,_,S,A){if(_.size===0)return!0;if(!(y instanceof Map))return!1;for(const[w,C]of _.entries()){const R=y.get(w);if(S(R,C,w,y,_,A)===!1)return!1}return!0}function c(y,_,S,A){if(_.length===0)return!0;if(!Array.isArray(y))return!1;const w=new Set;for(let C=0;C<_.length;C++){const R=_[C];let D=!1;for(let I=0;I<y.length;I++){if(w.has(I))continue;const $=y[I];let U=!1;if(S($,R,C,y,_,A)&&(U=!0),U){w.add(I),D=!0;break}}if(!D)return!1}return!0}function h(y,_,S,A){return _.size===0?!0:y instanceof Set?c([...y],[..._],S,A):!1}t.isMatchWith=o,t.isSetMatch=h})(h_)),h_}var xR;function wA(){return xR||(xR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B7();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(d_)),d_}var y_={},v_={},__={},IR;function VL(){return IR||(IR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(__)),__}var T_={},RR;function bA(){return RR||(RR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(T_)),T_}var E_={},PR;function CA(){return PR||(PR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",s="[object Symbol]",u="[object Date]",f="[object Map]",c="[object Set]",h="[object Array]",y="[object Function]",_="[object ArrayBuffer]",S="[object Object]",A="[object Error]",w="[object DataView]",C="[object Uint8Array]",R="[object Uint8ClampedArray]",D="[object Uint16Array]",I="[object Uint32Array]",$="[object BigUint64Array]",U="[object Int8Array]",G="[object Int16Array]",O="[object Int32Array]",k="[object BigInt64Array]",N="[object Float32Array]",q="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=_,t.arrayTag=h,t.bigInt64ArrayTag=k,t.bigUint64ArrayTag=$,t.booleanTag=i,t.dataViewTag=w,t.dateTag=u,t.errorTag=A,t.float32ArrayTag=N,t.float64ArrayTag=q,t.functionTag=y,t.int16ArrayTag=G,t.int32ArrayTag=O,t.int8ArrayTag=U,t.mapTag=f,t.numberTag=r,t.objectTag=S,t.regexpTag=e,t.setTag=c,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=D,t.uint32ArrayTag=I,t.uint8ArrayTag=C,t.uint8ClampedArrayTag=R})(E_)),E_}var S_={},MR;function q7(){return MR||(MR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(S_)),S_}var DR;function UL(){return DR||(DR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VL(),n=bA(),r=CA(),i=LL(),o=q7();function s(h,y){return u(h,void 0,h,new Map,y)}function u(h,y,_,S=new Map,A=void 0){const w=A==null?void 0:A(h,y,_,S);if(w!==void 0)return w;if(i.isPrimitive(h))return h;if(S.has(h))return S.get(h);if(Array.isArray(h)){const C=new Array(h.length);S.set(h,C);for(let R=0;R<h.length;R++)C[R]=u(h[R],R,_,S,A);return Object.hasOwn(h,"index")&&(C.index=h.index),Object.hasOwn(h,"input")&&(C.input=h.input),C}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const C=new RegExp(h.source,h.flags);return C.lastIndex=h.lastIndex,C}if(h instanceof Map){const C=new Map;S.set(h,C);for(const[R,D]of h)C.set(R,u(D,R,_,S,A));return C}if(h instanceof Set){const C=new Set;S.set(h,C);for(const R of h)C.add(u(R,void 0,_,S,A));return C}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const C=new(Object.getPrototypeOf(h)).constructor(h.length);S.set(h,C);for(let R=0;R<h.length;R++)C[R]=u(h[R],R,_,S,A);return C}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const C=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return S.set(h,C),f(C,h,_,S,A),C}if(typeof File<"u"&&h instanceof File){const C=new File([h],h.name,{type:h.type});return S.set(h,C),f(C,h,_,S,A),C}if(h instanceof Blob){const C=new Blob([h],{type:h.type});return S.set(h,C),f(C,h,_,S,A),C}if(h instanceof Error){const C=new h.constructor;return S.set(h,C),C.message=h.message,C.name=h.name,C.stack=h.stack,C.cause=h.cause,f(C,h,_,S,A),C}if(typeof h=="object"&&c(h)){const C=Object.create(Object.getPrototypeOf(h));return S.set(h,C),f(C,h,_,S,A),C}return h}function f(h,y,_=h,S,A){const w=[...Object.keys(y),...e.getSymbols(y)];for(let C=0;C<w.length;C++){const R=w[C],D=Object.getOwnPropertyDescriptor(h,R);(D==null||D.writable)&&(h[R]=u(y[R],R,_,S,A))}}function c(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=u,t.copyProperties=f})(v_)),v_}var NR;function F7(){return NR||(NR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UL();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(y_)),y_}var OR;function $7(){return OR||(OR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wA(),n=F7();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(f_)),f_}var A_={},w_={},b_={},kR;function H7(){return kR||(kR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UL(),n=CA();function r(i,o){return e.cloneDeepWith(i,(s,u,f,c)=>{const h=o==null?void 0:o(s,u,f,c);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const y=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(y,i),y}case n.argumentsTag:{const y={};return e.copyProperties(y,i),y.length=i.length,y[Symbol.iterator]=i[Symbol.iterator],y}default:return}})}t.cloneDeepWith=r})(b_)),b_}var LR;function z7(){return LR||(LR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H7();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(w_)),w_}var C_={},x_={},VR;function BL(){return VR||(VR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(x_)),x_}var I_={},UR;function G7(){return UR||(UR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bA();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(I_)),I_}var BR;function K7(){return BR||(BR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cL(),n=BL(),r=G7(),i=pA();function o(s,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&e.isDeepKey(u)&&(s==null?void 0:s[u])==null?f=i.toPath(u):f=[u],f.length===0)return!1;let c=s;for(let h=0;h<f.length;h++){const y=f[h];if((c==null||!Object.hasOwn(c,y))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(y)&&y<c.length))return!1;c=c[y]}return!0}t.has=o})(C_)),C_}var qR;function j7(){return qR||(qR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wA(),n=fL(),r=z7(),i=mA(),o=K7();function s(u,f){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(c){const h=i.get(c,u);return h===void 0?o.has(c,u):f===void 0?h===void 0:e.isMatch(h,f)}}t.matchesProperty=s})(A_)),A_}var FR;function Y7(){return FR||(FR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OL(),n=U7(),r=$7(),i=j7();function o(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=o})(u_)),u_}var $R;function W7(){return $R||($R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O7(),n=OL(),r=V7(),i=Y7();function o(s,u=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(u)):[]}t.uniqBy=o})(n_)),n_}var R_,HR;function J7(){return HR||(HR=1,R_=W7().uniqBy),R_}var Q7=J7();const zR=hi(Q7);function X7(t,e,n){return e===!0?zR(t,n):typeof e=="function"?zR(t,e):t}var P_={exports:{}},M_={},D_={exports:{}},N_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GR;function Z7(){if(GR)return N_;GR=1;var t=Ju();function e(y,_){return y===_&&(y!==0||1/y===1/_)||y!==y&&_!==_}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,s=t.useDebugValue;function u(y,_){var S=_(),A=r({inst:{value:S,getSnapshot:_}}),w=A[0].inst,C=A[1];return o(function(){w.value=S,w.getSnapshot=_,f(w)&&C({inst:w})},[y,S,_]),i(function(){return f(w)&&C({inst:w}),y(function(){f(w)&&C({inst:w})})},[y]),s(S),S}function f(y){var _=y.getSnapshot;y=y.value;try{var S=_();return!n(y,S)}catch{return!0}}function c(y,_){return _()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:u;return N_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,N_}var KR;function eK(){return KR||(KR=1,D_.exports=Z7()),D_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jR;function tK(){if(jR)return M_;jR=1;var t=Ju(),e=eK();function n(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,s=t.useEffect,u=t.useMemo,f=t.useDebugValue;return M_.useSyncExternalStoreWithSelector=function(c,h,y,_,S){var A=o(null);if(A.current===null){var w={hasValue:!1,value:null};A.current=w}else w=A.current;A=u(function(){function R(G){if(!D){if(D=!0,I=G,G=_(G),S!==void 0&&w.hasValue){var O=w.value;if(S(O,G))return $=O}return $=G}if(O=$,r(I,G))return O;var k=_(G);return S!==void 0&&S(O,k)?(I=G,O):(I=G,$=k)}var D=!1,I,$,U=y===void 0?null:y;return[function(){return R(h())},U===null?void 0:function(){return R(U())}]},[h,y,_,S]);var C=i(c,A[0],A[1]);return s(function(){w.hasValue=!0,w.value=C},[C]),f(C),C},M_}var YR;function nK(){return YR||(YR=1,P_.exports=tK()),P_.exports}var rK=nK(),xA=M.createContext(null),iK=t=>t,Sn=()=>{var t=M.useContext(xA);return t?t.store.dispatch:iK},fm=()=>{},oK=()=>fm,aK=(t,e)=>t===e;function Me(t){var e=M.useContext(xA);return rK.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:oK,e?e.store.getState:fm,e?e.store.getState:fm,e?t:fm,aK)}function sK(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function lK(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function uK(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var WR=t=>Array.isArray(t)?t:[t];function cK(t){const e=Array.isArray(t[0])?t[0]:t;return uK(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function fK(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var dK=class{constructor(t){this.value=t}deref(){return this.value}},hK=typeof WeakRef<"u"?WeakRef:dK,pK=0,JR=1;function Lp(){return{s:pK,v:void 0,o:null,p:null}}function qL(t,e={}){let n=Lp();const{resultEqualityCheck:r}=e;let i,o=0;function s(){var y;let u=n;const{length:f}=arguments;for(let _=0,S=f;_<S;_++){const A=arguments[_];if(typeof A=="function"||typeof A=="object"&&A!==null){let w=u.o;w===null&&(u.o=w=new WeakMap);const C=w.get(A);C===void 0?(u=Lp(),w.set(A,u)):u=C}else{let w=u.p;w===null&&(u.p=w=new Map);const C=w.get(A);C===void 0?(u=Lp(),w.set(A,u)):u=C}}const c=u;let h;if(u.s===JR)h=u.v;else if(h=t.apply(null,arguments),o++,r){const _=((y=i==null?void 0:i.deref)==null?void 0:y.call(i))??i;_!=null&&r(_,h)&&(h=_,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new hK(h):h}return c.s=JR,c.v=h,h}return s.clearCache=()=>{n=Lp(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function mK(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,s=0,u,f={},c=i.pop();typeof c=="object"&&(f=c,c=i.pop()),sK(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const h={...n,...f},{memoize:y,memoizeOptions:_=[],argsMemoize:S=qL,argsMemoizeOptions:A=[]}=h,w=WR(_),C=WR(A),R=cK(i),D=y(function(){return o++,c.apply(null,arguments)},...w),I=S(function(){s++;const U=fK(R,arguments);return u=D.apply(null,U),u},...C);return Object.assign(I,{resultFunc:c,memoizedResultFunc:D,dependencies:R,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:y,argsMemoize:S})};return Object.assign(r,{withTypes:()=>r}),r}var re=mK(qL),gK=Object.assign((t,e=re)=>{lK(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((s,u,f)=>(s[n[f]]=u,s),{}))},{withTypes:()=>gK}),O_={},k_={},L_={},QR;function yK(){return QR||(QR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const s=e(r),u=e(i);if(s===u&&s===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-s:s-u}return 0};t.compareValues=n})(L_)),L_}var V_={},U_={},XR;function FL(){return XR||(XR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(U_)),U_}var ZR;function vK(){return ZR||(ZR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FL(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||s!=null&&Object.hasOwn(s,o)}t.isKey=i})(V_)),V_}var eP;function _K(){return eP||(eP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yK(),n=vK(),r=pA();function i(o,s,u,f){if(o==null)return[];u=f?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(S=>String(S));const c=(S,A)=>{let w=S;for(let C=0;C<A.length&&w!=null;++C)w=w[A[C]];return w},h=(S,A)=>A==null||S==null?A:typeof S=="object"&&"key"in S?Object.hasOwn(A,S.key)?A[S.key]:c(A,S.path):typeof S=="function"?S(A):Array.isArray(S)?c(A,S):typeof A=="object"?A[S]:A,y=s.map(S=>(Array.isArray(S)&&S.length===1&&(S=S[0]),S==null||typeof S=="function"||Array.isArray(S)||n.isKey(S)?S:{key:S,path:r.toPath(S)}));return o.map(S=>({original:S,criteria:y.map(A=>h(A,S))})).slice().sort((S,A)=>{for(let w=0;w<y.length;w++){const C=e.compareValues(S.criteria[w],A.criteria[w],u[w]);if(C!==0)return C}return 0}).map(S=>S.original)}t.orderBy=i})(k_)),k_}var B_={},tP;function TK(){return tP||(tP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),s=(u,f)=>{for(let c=0;c<u.length;c++){const h=u[c];Array.isArray(h)&&f<o?s(h,f+1):i.push(h)}};return s(n,0),i}t.flatten=e})(B_)),B_}var q_={},nP;function $L(){return nP||(nP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BL(),n=SA(),r=kL(),i=AA();function o(s,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&e.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.eq(f[u],s):!1}t.isIterateeCall=o})(q_)),q_}var rP;function EK(){return rP||(rP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_K(),n=TK(),r=$L();function i(o,...s){const u=s.length;return u>1&&r.isIterateeCall(o,s[0],s[1])?s=[]:u>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(o,n.flatten(s),["asc"])}t.sortBy=i})(O_)),O_}var F_,iP;function SK(){return iP||(iP=1,F_=EK().sortBy),F_}var AK=SK();const Wg=hi(AK);var HL=t=>t.legend.settings,wK=t=>t.legend.size,bK=t=>t.legend.payload;re([bK,HL],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Wg(r,n):r});var Vp=1;function CK(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=M.useState({height:0,left:0,top:0,width:0}),r=M.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),s={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(s.height-e.height)>Vp||Math.abs(s.left-e.left)>Vp||Math.abs(s.top-e.top)>Vp||Math.abs(s.width-e.width)>Vp)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Pn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var xK=typeof Symbol=="function"&&Symbol.observable||"@@observable",oP=xK,$_=()=>Math.random().toString(36).substring(7).split("").join("."),IK={INIT:`@@redux/INIT${$_()}`,REPLACE:`@@redux/REPLACE${$_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${$_()}`},Bm=IK;function IA(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function zL(t,e,n){if(typeof t!="function")throw new Error(Pn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Pn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Pn(1));return n(zL)(t,e)}let r=t,i=e,o=new Map,s=o,u=0,f=!1;function c(){s===o&&(s=new Map,o.forEach((C,R)=>{s.set(R,C)}))}function h(){if(f)throw new Error(Pn(3));return i}function y(C){if(typeof C!="function")throw new Error(Pn(4));if(f)throw new Error(Pn(5));let R=!0;c();const D=u++;return s.set(D,C),function(){if(R){if(f)throw new Error(Pn(6));R=!1,c(),s.delete(D),o=null}}}function _(C){if(!IA(C))throw new Error(Pn(7));if(typeof C.type>"u")throw new Error(Pn(8));if(typeof C.type!="string")throw new Error(Pn(17));if(f)throw new Error(Pn(9));try{f=!0,i=r(i,C)}finally{f=!1}return(o=s).forEach(D=>{D()}),C}function S(C){if(typeof C!="function")throw new Error(Pn(10));r=C,_({type:Bm.REPLACE})}function A(){const C=y;return{subscribe(R){if(typeof R!="object"||R===null)throw new Error(Pn(11));function D(){const $=R;$.next&&$.next(h())}return D(),{unsubscribe:C(D)}},[oP](){return this}}}return _({type:Bm.INIT}),{dispatch:_,subscribe:y,getState:h,replaceReducer:S,[oP]:A}}function RK(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Bm.INIT})>"u")throw new Error(Pn(12));if(typeof n(void 0,{type:Bm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Pn(13))})}function GL(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const s=e[o];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{RK(n)}catch(o){i=o}return function(s={},u){if(i)throw i;let f=!1;const c={};for(let h=0;h<r.length;h++){const y=r[h],_=n[y],S=s[y],A=_(S,u);if(typeof A>"u")throw u&&u.type,new Error(Pn(14));c[y]=A,f=f||A!==S}return f=f||r.length!==Object.keys(s).length,f?c:s}}function qm(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function PK(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(Pn(15))};const s={getState:i.getState,dispatch:(f,...c)=>o(f,...c)},u=t.map(f=>f(s));return o=qm(...u)(i.dispatch),{...i,dispatch:o}}}function KL(t){return IA(t)&&"type"in t&&typeof t.type=="string"}var jL=Symbol.for("immer-nothing"),aP=Symbol.for("immer-draftable"),xr=Symbol.for("immer-state");function si(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Fu=Object.getPrototypeOf;function il(t){return!!t&&!!t[xr]}function Lo(t){var e;return t?YL(t)||Array.isArray(t)||!!t[aP]||!!((e=t.constructor)!=null&&e[aP])||zd(t)||Qg(t):!1}var MK=Object.prototype.constructor.toString();function YL(t){if(!t||typeof t!="object")return!1;const e=Fu(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===MK}function Fm(t,e){Jg(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Jg(t){const e=t[xr];return e?e.type_:Array.isArray(t)?1:zd(t)?2:Qg(t)?3:0}function gE(t,e){return Jg(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function WL(t,e,n){const r=Jg(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function DK(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function zd(t){return t instanceof Map}function Qg(t){return t instanceof Set}function Vs(t){return t.copy_||t.base_}function yE(t,e){if(zd(t))return new Map(t);if(Qg(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=YL(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[xr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],u=r[s];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[s]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[s]})}return Object.create(Fu(t),r)}else{const r=Fu(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function RA(t,e=!1){return Xg(t)||il(t)||!Lo(t)||(Jg(t)>1&&Object.defineProperties(t,{set:{value:Up},add:{value:Up},clear:{value:Up},delete:{value:Up}}),Object.freeze(t),e&&Object.values(t).forEach(n=>RA(n,!0))),t}function Up(){si(2)}function Xg(t){return Object.isFrozen(t)}var NK={};function ol(t){const e=NK[t];return e||si(0,t),e}var vd;function JL(){return vd}function OK(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function sP(t,e){e&&(ol("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function vE(t){_E(t),t.drafts_.forEach(kK),t.drafts_=null}function _E(t){t===vd&&(vd=t.parent_)}function lP(t){return vd=OK(vd,t)}function kK(t){const e=t[xr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function uP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[xr].modified_&&(vE(e),si(4)),Lo(t)&&(t=$m(e,t),e.parent_||Hm(e,t)),e.patches_&&ol("Patches").generateReplacementPatches_(n[xr].base_,t,e.patches_,e.inversePatches_)):t=$m(e,n,[]),vE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==jL?t:void 0}function $m(t,e,n){if(Xg(e))return e;const r=e[xr];if(!r)return Fm(e,(i,o)=>cP(t,r,e,i,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Hm(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),Fm(o,(u,f)=>cP(t,r,i,u,f,n,s)),Hm(t,i,!1),n&&t.patches_&&ol("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function cP(t,e,n,r,i,o,s){if(il(i)){const u=o&&e&&e.type_!==3&&!gE(e.assigned_,r)?o.concat(r):void 0,f=$m(t,i,u);if(WL(n,r,f),il(f))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Lo(i)&&!Xg(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;$m(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(zd(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Hm(t,i)}}function Hm(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&RA(e,n)}function LK(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:JL(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=PA;n&&(i=[r],o=_d);const{revoke:s,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=s,u}var PA={get(t,e){if(e===xr)return t;const n=Vs(t);if(!gE(n,e))return VK(t,n,e);const r=n[e];return t.finalized_||!Lo(r)?r:r===H_(t.base_,e)?(z_(t),t.copy_[e]=EE(r,t)):r},has(t,e){return e in Vs(t)},ownKeys(t){return Reflect.ownKeys(Vs(t))},set(t,e,n){const r=QL(Vs(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=H_(Vs(t),e),o=i==null?void 0:i[xr];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(DK(n,i)&&(n!==void 0||gE(t.base_,e)))return!0;z_(t),TE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return H_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,z_(t),TE(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Vs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){si(11)},getPrototypeOf(t){return Fu(t.base_)},setPrototypeOf(){si(12)}},_d={};Fm(PA,(t,e)=>{_d[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});_d.deleteProperty=function(t,e){return _d.set.call(this,t,e,void 0)};_d.set=function(t,e,n){return PA.set.call(this,t[0],e,n,t[0])};function H_(t,e){const n=t[xr];return(n?Vs(n):t)[e]}function VK(t,e,n){var i;const r=QL(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function QL(t,e){if(!(e in t))return;let n=Fu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Fu(n)}}function TE(t){t.modified_||(t.modified_=!0,t.parent_&&TE(t.parent_))}function z_(t){t.copy_||(t.copy_=yE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var UK=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const s=this;return function(f=o,...c){return s.produce(f,h=>n.call(this,h,...c))}}typeof n!="function"&&si(6),r!==void 0&&typeof r!="function"&&si(7);let i;if(Lo(e)){const o=lP(this),s=EE(e,void 0);let u=!0;try{i=n(s),u=!1}finally{u?vE(o):_E(o)}return sP(o,r),uP(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===jL&&(i=void 0),this.autoFreeze_&&RA(i,!0),r){const o=[],s=[];ol("Patches").generateReplacementPatches_(e,i,o,s),r(o,s)}return i}else si(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...u)=>this.produceWithPatches(s,f=>e(f,...u));let r,i;return[this.produce(e,n,(s,u)=>{r=s,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Lo(t)||si(8),il(t)&&(t=Io(t));const e=lP(this),n=EE(t,void 0);return n[xr].isManual_=!0,_E(e),n}finishDraft(t,e){const n=t&&t[xr];(!n||!n.isManual_)&&si(9);const{scope_:r}=n;return sP(r,e),uP(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=ol("Patches").applyPatches_;return il(t)?r(t,e):this.produce(t,i=>r(i,e))}};function EE(t,e){const n=zd(t)?ol("MapSet").proxyMap_(t,e):Qg(t)?ol("MapSet").proxySet_(t,e):LK(t,e);return(e?e.scope_:JL()).drafts_.push(n),n}function Io(t){return il(t)||si(10,t),XL(t)}function XL(t){if(!Lo(t)||Xg(t))return t;const e=t[xr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=yE(t,e.scope_.immer_.useStrictShallowCopy_)}else n=yE(t,!0);return Fm(n,(r,i)=>{WL(n,r,XL(i))}),e&&(e.finalized_=!1),n}var BK=new UK,ZL=BK.produce;function eV(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var qK=eV(),FK=eV,$K=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qm:qm.apply(null,arguments)};function Qr(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Cr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>KL(r)&&r.type===t,n}var tV=class jf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,jf.prototype)}static get[Symbol.species](){return jf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new jf(...e[0].concat(this)):new jf(...e.concat(this))}};function fP(t){return Lo(t)?ZL(t,()=>{}):t}function Bp(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function HK(t){return typeof t=="boolean"}var zK=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let s=new tV;return n&&(HK(n)?s.push(qK):s.push(FK(n.extraArgument))),s},GK="RTK_autoBatch",dP=t=>e=>{setTimeout(e,t)},KK=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,s=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:dP(10):t.type==="callback"?t.queueNotification:dP(t.timeout),c=()=>{s=!1,o&&(o=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const y=()=>i&&h(),_=r.subscribe(y);return u.add(h),()=>{_(),u.delete(h)}},dispatch(h){var y;try{return i=!((y=h==null?void 0:h.meta)!=null&&y[GK]),o=!i,o&&(s||(s=!0,f(c))),r.dispatch(h)}finally{i=!0}}})},jK=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new tV(t);return r&&i.push(KK(typeof r=="object"?r:void 0)),i};function YK(t){const e=zK(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(IA(n))u=GL(n);else throw new Error(Cr(1));let f;typeof r=="function"?f=r(e):f=e();let c=qm;i&&(c=$K({trace:!1,...typeof i=="object"&&i}));const h=PK(...f),y=jK(h);let _=typeof s=="function"?s(y):y();const S=c(..._);return zL(u,o,S)}function nV(t){const e={},n=[];let r;const i={addCase(o,s){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Cr(28));if(u in e)throw new Error(Cr(29));return e[u]=s,i},addAsyncThunk(o,s){return s.pending&&(e[o.pending.type]=s.pending),s.rejected&&(e[o.rejected.type]=s.rejected),s.fulfilled&&(e[o.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:o.settled,reducer:s.settled}),i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function WK(t){return typeof t=="function"}function JK(t,e){let[n,r,i]=nV(e),o;if(WK(t))o=()=>fP(t());else{const u=fP(t);o=()=>u}function s(u=o(),f){let c=[n[f.type],...r.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return c.filter(h=>!!h).length===0&&(c=[i]),c.reduce((h,y)=>{if(y)if(il(h)){const S=y(h,f);return S===void 0?h:S}else{if(Lo(h))return ZL(h,_=>y(_,f));{const _=y(h,f);if(_===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return _}}return h},u)}return s.getInitialState=o,s}var QK="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",XK=(t=21)=>{let e="",n=t;for(;n--;)e+=QK[Math.random()*64|0];return e},ZK=Symbol.for("rtk-slice-createasyncthunk");function ej(t,e){return`${t}/${e}`}function tj({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[ZK];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(Cr(11));const u=(typeof i.reducers=="function"?i.reducers(rj()):i.reducers)||{},f=Object.keys(u),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase($,U){const G=typeof $=="string"?$:$.type;if(!G)throw new Error(Cr(12));if(G in c.sliceCaseReducersByType)throw new Error(Cr(13));return c.sliceCaseReducersByType[G]=U,h},addMatcher($,U){return c.sliceMatchers.push({matcher:$,reducer:U}),h},exposeAction($,U){return c.actionCreators[$]=U,h},exposeCaseReducer($,U){return c.sliceCaseReducersByName[$]=U,h}};f.forEach($=>{const U=u[$],G={reducerName:$,type:ej(o,$),createNotation:typeof i.reducers=="function"};oj(U)?sj(G,U,h,e):ij(G,U,h)});function y(){const[$={},U=[],G=void 0]=typeof i.extraReducers=="function"?nV(i.extraReducers):[i.extraReducers],O={...$,...c.sliceCaseReducersByType};return JK(i.initialState,k=>{for(let N in O)k.addCase(N,O[N]);for(let N of c.sliceMatchers)k.addMatcher(N.matcher,N.reducer);for(let N of U)k.addMatcher(N.matcher,N.reducer);G&&k.addDefaultCase(G)})}const _=$=>$,S=new Map,A=new WeakMap;let w;function C($,U){return w||(w=y()),w($,U)}function R(){return w||(w=y()),w.getInitialState()}function D($,U=!1){function G(k){let N=k[$];return typeof N>"u"&&U&&(N=Bp(A,G,R)),N}function O(k=_){const N=Bp(S,U,()=>new WeakMap);return Bp(N,k,()=>{const q={};for(const[B,F]of Object.entries(i.selectors??{}))q[B]=nj(F,k,()=>Bp(A,k,R),U);return q})}return{reducerPath:$,getSelectors:O,get selectors(){return O(G)},selectSlice:G}}const I={name:o,reducer:C,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:R,...D(s),injectInto($,{reducerPath:U,...G}={}){const O=U??s;return $.inject({reducerPath:O,reducer:C},G),{...I,...D(O,!0)}}};return I}}function nj(t,e,n,r){function i(o,...s){let u=e(o);return typeof u>"u"&&r&&(u=n()),t(u,...s)}return i.unwrapped=t,i}var Rr=tj();function rj(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function ij({type:t,reducerName:e,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!aj(r))throw new Error(Cr(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,s?Qr(t,s):Qr(t))}function oj(t){return t._reducerDefinitionType==="asyncThunk"}function aj(t){return t._reducerDefinitionType==="reducerWithPrepare"}function sj({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Cr(18));const{payloadCreator:o,fulfilled:s,pending:u,rejected:f,settled:c,options:h}=n,y=i(t,o,h);r.exposeAction(e,y),s&&r.addCase(y.fulfilled,s),u&&r.addCase(y.pending,u),f&&r.addCase(y.rejected,f),c&&r.addMatcher(y.settled,c),r.exposeCaseReducer(e,{fulfilled:s||qp,pending:u||qp,rejected:f||qp,settled:c||qp})}function qp(){}var lj="task",rV="listener",iV="completed",MA="cancelled",uj=`task-${MA}`,cj=`task-${iV}`,SE=`${rV}-${MA}`,fj=`${rV}-${iV}`,Zg=class{constructor(t){A0(this,"name","TaskAbortError");A0(this,"message");this.code=t,this.message=`${lj} ${MA} (reason: ${t})`}},DA=(t,e)=>{if(typeof t!="function")throw new TypeError(Cr(32))},zm=()=>{},oV=(t,e=zm)=>(t.catch(e),t),aV=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),js=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Ys=t=>{if(t.aborted){const{reason:e}=t;throw new Zg(e)}};function sV(t,e){let n=zm;return new Promise((r,i)=>{const o=()=>i(new Zg(t.reason));if(t.aborted){o();return}n=aV(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=zm})}var dj=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Zg?"cancelled":"rejected",error:n}}finally{e==null||e()}},Gm=t=>e=>oV(sV(t,e).then(n=>(Ys(t),n))),lV=t=>{const e=Gm(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Cu}=Object,hP={},ey="listenerMiddleware",hj=(t,e)=>{const n=r=>aV(t,()=>js(r,t.reason));return(r,i)=>{DA(r);const o=new AbortController;n(o);const s=dj(async()=>{Ys(t),Ys(o.signal);const u=await r({pause:Gm(o.signal),delay:lV(o.signal),signal:o.signal});return Ys(o.signal),u},()=>js(o,cj));return i!=null&&i.autoJoin&&e.push(s.catch(zm)),{result:Gm(t)(s),cancel(){js(o,uj)}}}},pj=(t,e)=>{const n=async(r,i)=>{Ys(e);let o=()=>{};const u=[new Promise((f,c)=>{let h=t({predicate:r,effect:(y,_)=>{_.unsubscribe(),f([y,_.getState(),_.getOriginalState()])}});o=()=>{h(),c()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await sV(e,Promise.race(u));return Ys(e),f}finally{o()}};return(r,i)=>oV(n(r,i))},uV=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=Qr(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Cr(21));return DA(o),{predicate:i,type:e,effect:o}},cV=Cu(t=>{const{type:e,predicate:n,effect:r}=uV(t);return{id:XK(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Cr(22))}}},{withTypes:()=>cV}),pP=(t,e)=>{const{type:n,effect:r,predicate:i}=uV(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},AE=t=>{t.pending.forEach(e=>{js(e,SE)})},mj=t=>()=>{t.forEach(AE),t.clear()},mP=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},fV=Cu(Qr(`${ey}/add`),{withTypes:()=>fV}),gj=Qr(`${ey}/removeAll`),dV=Cu(Qr(`${ey}/remove`),{withTypes:()=>dV}),yj=(...t)=>{console.error(`${ey}/error`,...t)},Gd=(t={})=>{const e=new Map,{extra:n,onError:r=yj}=t;DA(r);const i=h=>(h.unsubscribe=()=>e.delete(h.id),e.set(h.id,h),y=>{h.unsubscribe(),y!=null&&y.cancelActive&&AE(h)}),o=h=>{const y=pP(e,h)??cV(h);return i(y)};Cu(o,{withTypes:()=>o});const s=h=>{const y=pP(e,h);return y&&(y.unsubscribe(),h.cancelActive&&AE(y)),!!y};Cu(s,{withTypes:()=>s});const u=async(h,y,_,S)=>{const A=new AbortController,w=pj(o,A.signal),C=[];try{h.pending.add(A),await Promise.resolve(h.effect(y,Cu({},_,{getOriginalState:S,condition:(R,D)=>w(R,D).then(Boolean),take:w,delay:lV(A.signal),pause:Gm(A.signal),extra:n,signal:A.signal,fork:hj(A.signal,C),unsubscribe:h.unsubscribe,subscribe:()=>{e.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((R,D,I)=>{R!==A&&(js(R,SE),I.delete(R))})},cancel:()=>{js(A,SE),h.pending.delete(A)},throwIfCancelled:()=>{Ys(A.signal)}})))}catch(R){R instanceof Zg||mP(r,R,{raisedBy:"effect"})}finally{await Promise.all(C),js(A,fj),h.pending.delete(A)}},f=mj(e);return{middleware:h=>y=>_=>{if(!KL(_))return y(_);if(fV.match(_))return o(_.payload);if(gj.match(_)){f();return}if(dV.match(_))return s(_.payload);let S=h.getState();const A=()=>{if(S===hP)throw new Error(Cr(23));return S};let w;try{if(w=y(_),e.size>0){const C=h.getState(),R=Array.from(e.values());for(const D of R){let I=!1;try{I=D.predicate(_,C,S)}catch($){I=!1,mP(r,$,{raisedBy:"predicate"})}I&&u(D,_,h,A)}}}finally{S=hP}return w},startListening:o,stopListening:s,clearListeners:f}};function Cr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var vj={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},hV=Rr({name:"chartLayout",initialState:vj,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:_j,setLayout:Tj,setChartSize:Ej,setScale:Sj}=hV.actions,Aj=hV.reducer;function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(n),!0).forEach(function(r){wj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wj(t,e,n){return(e=bj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bj(t){var e=Cj(t,"string");return typeof e=="symbol"?e:e+""}function Cj(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Km=Math.PI/180,xj=t=>t*180/Math.PI,On=(t,e,n,r)=>({x:t+Math.cos(-Km*r)*n,y:e+Math.sin(-Km*r)*n}),Ij=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Rj=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},Pj=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,s=Rj({x:n,y:r},{x:i,y:o});if(s<=0)return{radius:s,angle:0};var u=(n-i)/s,f=Math.acos(u);return r>o&&(f=2*Math.PI-f),{radius:s,angle:xj(f),angleInRadian:f}},Mj=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},Dj=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return t+s*360},Nj=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:o}=Pj({x:n,y:r},e),{innerRadius:s,outerRadius:u}=e;if(i<s||i>u||i===0)return null;var{startAngle:f,endAngle:c}=Mj(e),h=o,y;if(f<=c){for(;h>c;)h-=360;for(;h<f;)h+=360;y=h>=f&&h<=c}else{for(;h>f;)h-=360;for(;h<c;)h+=360;y=h>=c&&h<=f}return y?yP(yP({},e),{},{radius:i,angle:Dj(h,e)}):null};function pV(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function vP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vP(Object(n),!0).forEach(function(r){Oj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oj(t,e,n){return(e=kj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kj(t){var e=Lj(t,"string");return typeof e=="symbol"?e:e+""}function Lj(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qn(t,e,n){return un(t)||un(e)?n:zi(e)?rl(t,e,n):typeof e=="function"?e(t):n}var Vj=(t,e,n,r,i)=>{var o,s=-1,u=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<u;f++){var c=f>0?n[f-1].coordinate:n[u-1].coordinate,h=n[f].coordinate,y=f>=u-1?n[0].coordinate:n[f+1].coordinate,_=void 0;if(wr(h-c)!==wr(y-h)){var S=[];if(wr(y-h)===wr(i[1]-i[0])){_=y;var A=h+i[1]-i[0];S[0]=Math.min(A,(A+c)/2),S[1]=Math.max(A,(A+c)/2)}else{_=c;var w=y+i[1]-i[0];S[0]=Math.min(h,(w+h)/2),S[1]=Math.max(h,(w+h)/2)}var C=[Math.min(h,(_+h)/2),Math.max(h,(_+h)/2)];if(t>C[0]&&t<=C[1]||t>=S[0]&&t<=S[1]){({index:s}=n[f]);break}}else{var R=Math.min(c,y),D=Math.max(c,y);if(t>(R+h)/2&&t<=(D+h)/2){({index:s}=n[f]);break}}}else if(e){for(var I=0;I<u;I++)if(I===0&&t<=(e[I].coordinate+e[I+1].coordinate)/2||I>0&&I<u-1&&t>(e[I].coordinate+e[I-1].coordinate)/2&&t<=(e[I].coordinate+e[I+1].coordinate)/2||I===u-1&&t>(e[I].coordinate+e[I-1].coordinate)/2){({index:s}=e[I]);break}}return s},Uj=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:s,layout:u}=e;if((u==="vertical"||u==="horizontal"&&s==="middle")&&o!=="center"&&Ce(t[o]))return Gr(Gr({},t),{},{[o]:t[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&s!=="middle"&&Ce(t[s]))return Gr(Gr({},t),{},{[s]:t[s]+(i||0)})}return t},dl=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",_P=1e-4,Bj=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-_P,o=Math.max(r[0],r[1])+_P,s=t(e[0]),u=t(e[n-1]);(s<i||s>o||u<i||u>o)&&t.domain([e[0],e[n-1]])}},qj=(t,e)=>{if(!e||e.length!==2||!Ce(e[0])||!Ce(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ce(t[0])||t[0]<n)&&(i[0]=n),(!Ce(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Fj=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,s=0;s<e;++s){var u=Jr(t[s][n][1])?t[s][n][0]:t[s][n][1];u>=0?(t[s][n][0]=i,t[s][n][1]=i+u,i=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+u,o=t[s][n][1])}},$j=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var s=Jr(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=i,t[o][n][1]=i+s,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Hj={sign:Fj,expand:E7,none:qu,silhouette:S7,wiggle:A7,positive:$j},zj=(t,e,n)=>{var r=Hj[n],i=T7().keys(e).value((o,s)=>+Qn(o,s,0)).order(pE).offset(r);return i(t)};function Gj(t){return t==null?void 0:String(t)}var TP=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:o,index:s}=t;if(e.type==="category")return n[s]?n[s].coordinate+r:null;var u=Qn(o,e.dataKey,e.scale.domain()[s]);return un(u)?null:e.scale(u)-i/2+r},Kj=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},jj=t=>{var e=t.flat(2).filter(Ce);return[Math.min(...e),Math.max(...e)]},Yj=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Wj=(t,e,n)=>{if(t!=null)return Yj(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:s}=o,u=s.reduce((f,c)=>{var h=pV(c,e,n),y=jj(h);return[Math.min(f[0],y[0]),Math.max(f[1],y[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},EP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NA=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Wg(e,h=>h.coordinate),o=1/0,s=1,u=i.length;s<u;s++){var f=i[s],c=i[s-1];o=Math.min((f.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function AP(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return Gr(Gr({},e),{},{dataKey:n,payload:r,value:i,name:o})}function mV(t,e){if(t)return String(t);if(typeof e=="string")return e}function Jj(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var o=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return o?{x:t,y:e}:null}return r?Nj({x:t,y:e},r):null}var Qj=(t,e,n,r)=>{var i=e.find(c=>c&&c.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,{radius:s}=r;return Gr(Gr(Gr({},r),On(r.cx,r.cy,s,o)),{},{angle:o,radius:s})}var u=i.coordinate,{angle:f}=r;return Gr(Gr(Gr({},r),On(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{x:0,y:0}},Xj=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,$o=t=>t.layout.width,Ho=t=>t.layout.height,Zj=t=>t.layout.scale,gV=t=>t.layout.margin,OA=re(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),kA=re(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),eY="data-recharts-item-index",tY="data-recharts-item-data-key",ty=60;function wP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Aa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(n),!0).forEach(function(r){nY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nY(t,e,n){return(e=rY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rY(t){var e=iY(t,"string");return typeof e=="symbol"?e:e+""}function iY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oY=t=>t.brush.height,An=re([$o,Ho,gV,oY,OA,kA,HL,wK],(t,e,n,r,i,o,s,u)=>{var f=o.reduce((A,w)=>{var{orientation:C}=w;if(!w.mirror&&!w.hide){var R=typeof w.width=="number"?w.width:ty;return Aa(Aa({},A),{},{[C]:A[C]+R})}return A},{left:n.left||0,right:n.right||0}),c=i.reduce((A,w)=>{var{orientation:C}=w;return!w.mirror&&!w.hide?Aa(Aa({},A),{},{[C]:rl(A,"".concat(C))+w.height}):A},{top:n.top||0,bottom:n.bottom||0}),h=Aa(Aa({},c),f),y=h.bottom;h.bottom+=r,h=Uj(h,s,u);var _=t-h.left-h.right,S=e-h.top-h.bottom;return Aa(Aa({brushBottom:y},h),{},{width:Math.max(_,0),height:Math.max(S,0)})}),aY=re(An,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),yV=re($o,Ho,(t,e)=>({x:0,y:0,width:t,height:e})),sY=M.createContext(null),yi=()=>M.useContext(sY)!=null,ny=t=>t.brush,ry=re([ny,An,gV],(t,e,n)=>({height:t.height,x:Ce(t.x)?t.x:e.left,y:Ce(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Ce(t.width)?t.width:e.width})),LA=()=>{var t,e=yi(),n=Me(aY),r=Me(ry),i=(t=Me(ny))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},lY={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},uY=()=>{var t;return(t=Me(An))!==null&&t!==void 0?t:lY},cY=()=>Me($o),fY=()=>Me(Ho),ct=t=>t.layout.layoutType,VA=()=>Me(ct),dY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},vV=Rr({name:"legend",initialState:dY,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Io(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:Jme,setLegendSettings:Qme,addLegendPayload:hY,removeLegendPayload:pY}=vV.actions,mY=vV.reducer;function wE(){return wE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wE.apply(null,arguments)}function bP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(n),!0).forEach(function(r){gY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gY(t,e,n){return(e=yY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yY(t){var e=vY(t,"string");return typeof e=="symbol"?e:e+""}function vY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Y(t){return Array.isArray(t)&&zi(t[0])&&zi(t[1])?t.join(" ~ "):t}var TY=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:s,itemSorter:u,wrapperClassName:f,labelClassName:c,label:h,labelFormatter:y,accessibilityLayer:_=!1}=t,S=()=>{if(o&&o.length){var U={padding:0,margin:0},G=(u?Wg(o,u):o).map((O,k)=>{if(O.type==="none")return null;var N=O.formatter||s||_Y,{value:q,name:B}=O,F=q,H=B;if(N){var Ae=N(q,B,O,k,o);if(Array.isArray(Ae))[F,H]=Ae;else if(Ae!=null)F=Ae;else return null}var ye=G_({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},r);return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:ye},zi(H)?M.createElement("span",{className:"recharts-tooltip-item-name"},H):null,zi(H)?M.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,M.createElement("span",{className:"recharts-tooltip-item-value"},F),M.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:U},G)}return null},A=G_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=G_({margin:0},i),C=!un(h),R=C?h:"",D=bt("recharts-default-tooltip",f),I=bt("recharts-tooltip-label",c);C&&y&&o!==void 0&&o!==null&&(R=y(h,o));var $=_?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",wE({className:D,style:A},$),M.createElement("p",{className:I,style:w},M.isValidElement(R)?R:"".concat(R)),S())},Df="recharts-tooltip-wrapper",EY={visibility:"hidden"};function SY(t){var{coordinate:e,translateX:n,translateY:r}=t;return bt(Df,{["".concat(Df,"-right")]:Ce(n)&&e&&Ce(e.x)&&n>=e.x,["".concat(Df,"-left")]:Ce(n)&&e&&Ce(e.x)&&n<e.x,["".concat(Df,"-bottom")]:Ce(r)&&e&&Ce(e.y)&&r>=e.y,["".concat(Df,"-top")]:Ce(r)&&e&&Ce(e.y)&&r<e.y})}function CP(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:u,viewBox:f,viewBoxDimension:c}=t;if(o&&Ce(o[r]))return o[r];var h=n[r]-u-(i>0?i:0),y=n[r]+i;if(e[r])return s[r]?h:y;var _=f[r];if(_==null)return 0;if(s[r]){var S=h,A=_;return S<A?Math.max(y,_):Math.max(h,_)}if(c==null)return 0;var w=y+u,C=_+c;return w>C?Math.max(h,_):Math.max(y,_)}function AY(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function wY(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:s,useTranslate3d:u,viewBox:f}=t,c,h,y;return s.height>0&&s.width>0&&n?(h=CP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:f,viewBoxDimension:f.width}),y=CP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:f,viewBoxDimension:f.height}),c=AY({translateX:h,translateY:y,useTranslate3d:u})):c=EY,{cssProperties:c,cssClasses:SY({translateX:h,translateY:y,coordinate:n})}}function xP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(n),!0).forEach(function(r){bE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bE(t,e,n){return(e=bY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bY(t){var e=CY(t,"string");return typeof e=="symbol"?e:e+""}function CY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class xY extends M.PureComponent{constructor(){super(...arguments),bE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),bE(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:s,hasPayload:u,isAnimationActive:f,offset:c,position:h,reverseDirection:y,useTranslate3d:_,viewBox:S,wrapperStyle:A,lastBoundingBox:w,innerRef:C,hasPortalFromProps:R}=this.props,{cssClasses:D,cssProperties:I}=wY({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:c,position:h,reverseDirection:y,tooltipBox:{height:w.height,width:w.width},useTranslate3d:_,viewBox:S}),$=R?{}:Fp(Fp({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),U=Fp(Fp({},$),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},A);return M.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:D,style:U,ref:C},o)}}var IY=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Kd={isSsr:IY()},_V=()=>Me(t=>t.rootProps.accessibilityLayer);function Ir(t){return Number.isFinite(t)}function jm(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function CE(){return CE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CE.apply(null,arguments)}function IP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(n),!0).forEach(function(r){RY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RY(t,e,n){return(e=PY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PY(t){var e=MY(t,"string");return typeof e=="symbol"?e:e+""}function MY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PP={curveBasisClosed:u7,curveBasisOpen:c7,curveBasis:l7,curveBumpX:Y8,curveBumpY:W8,curveLinearClosed:f7,curveLinear:jg,curveMonotoneX:d7,curveMonotoneY:h7,curveNatural:p7,curveStep:m7,curveStepAfter:y7,curveStepBefore:g7},$p=t=>Ir(t.x)&&Ir(t.y),Nf=t=>t.x,Of=t=>t.y,DY=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Hd(t));return(n==="curveMonotone"||n==="curveBump")&&e?PP["".concat(n).concat(e==="vertical"?"Y":"X")]:PP[n]||jg},NY=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,s=DY(e,i),u=o?n.filter($p):n,f;if(Array.isArray(r)){var c=o?r.filter(y=>$p(y)):r,h=u.map((y,_)=>RP(RP({},y),{},{base:c[_]}));return i==="vertical"?f=kp().y(Of).x1(Nf).x0(y=>y.base.x):f=kp().x(Nf).y1(Of).y0(y=>y.base.y),f.defined($p).curve(s),f(h)}return i==="vertical"&&Ce(r)?f=kp().y(Of).x1(Nf).x0(r):Ce(r)?f=kp().x(Nf).y1(Of).y0(r):f=EL().x(Nf).y(Of),f.defined($p).curve(s),f(u)},OY=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?NY(t):r;return M.createElement("path",CE({},Gg(t),O8(t),{className:bt("recharts-curve",e),d:o===null?void 0:o,ref:i}))},kY=["x","y","top","left","width","height","className"];function xE(){return xE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xE.apply(null,arguments)}function MP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(n),!0).forEach(function(r){VY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VY(t,e,n){return(e=UY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UY(t){var e=BY(t,"string");return typeof e=="symbol"?e:e+""}function BY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qY(t,e){if(t==null)return{};var n,r,i=FY(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function FY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $Y=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),HY=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:s=0,className:u}=t,f=qY(t,kY),c=LY({x:e,y:n,top:r,left:i,width:o,height:s},f);return!Ce(e)||!Ce(n)||!Ce(o)||!Ce(s)||!Ce(r)||!Ce(i)?null:M.createElement("path",xE({},En(c,!0),{className:bt("recharts-cross",u),d:$Y(e,n,o,s,r,i)}))};function zY(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function DP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(n),!0).forEach(function(r){KY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KY(t,e,n){return(e=jY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jY(t){var e=YY(t,"string");return typeof e=="symbol"?e:e+""}function YY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hl(t,e){var n=GY({},t),r=e,i=Object.keys(e),o=i.reduce((s,u)=>(s[u]===void 0&&r[u]!==void 0&&(s[u]=r[u]),s),n);return o}var K_={},j_={},Y_={},NP;function WY(){return NP||(NP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e})(Y_)),Y_}var OP;function JY(){return OP||(OP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WY(),n=VL(),r=bA(),i=CA(),o=AA();function s(c,h,y){return u(c,h,void 0,void 0,void 0,void 0,y)}function u(c,h,y,_,S,A,w){const C=w(c,h,y,_,S,A);if(C!==void 0)return C;if(typeof c==typeof h)switch(typeof c){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return c===h;case"number":return c===h||Object.is(c,h);case"function":return c===h;case"object":return f(c,h,A,w)}return f(c,h,A,w)}function f(c,h,y,_){if(Object.is(c,h))return!0;let S=r.getTag(c),A=r.getTag(h);if(S===i.argumentsTag&&(S=i.objectTag),A===i.argumentsTag&&(A=i.objectTag),S!==A)return!1;switch(S){case i.stringTag:return c.toString()===h.toString();case i.numberTag:{const R=c.valueOf(),D=h.valueOf();return o.eq(R,D)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(c.valueOf(),h.valueOf());case i.regexpTag:return c.source===h.source&&c.flags===h.flags;case i.functionTag:return c===h}y=y??new Map;const w=y.get(c),C=y.get(h);if(w!=null&&C!=null)return w===h;y.set(c,h),y.set(h,c);try{switch(S){case i.mapTag:{if(c.size!==h.size)return!1;for(const[R,D]of c.entries())if(!h.has(R)||!u(D,h.get(R),R,c,h,y,_))return!1;return!0}case i.setTag:{if(c.size!==h.size)return!1;const R=Array.from(c.values()),D=Array.from(h.values());for(let I=0;I<R.length;I++){const $=R[I],U=D.findIndex(G=>u($,G,void 0,c,h,y,_));if(U===-1)return!1;D.splice(U,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(c)!==Buffer.isBuffer(h)||c.length!==h.length)return!1;for(let R=0;R<c.length;R++)if(!u(c[R],h[R],R,c,h,y,_))return!1;return!0}case i.arrayBufferTag:return c.byteLength!==h.byteLength?!1:f(new Uint8Array(c),new Uint8Array(h),y,_);case i.dataViewTag:return c.byteLength!==h.byteLength||c.byteOffset!==h.byteOffset?!1:f(new Uint8Array(c),new Uint8Array(h),y,_);case i.errorTag:return c.name===h.name&&c.message===h.message;case i.objectTag:{if(!(f(c.constructor,h.constructor,y,_)||e.isPlainObject(c)&&e.isPlainObject(h)))return!1;const D=[...Object.keys(c),...n.getSymbols(c)],I=[...Object.keys(h),...n.getSymbols(h)];if(D.length!==I.length)return!1;for(let $=0;$<D.length;$++){const U=D[$],G=c[U];if(!Object.hasOwn(h,U))return!1;const O=h[U];if(!u(G,O,U,c,h,y,_))return!1}return!0}default:return!1}}finally{y.delete(c),y.delete(h)}}t.isEqualWith=s})(j_)),j_}var W_={},kP;function QY(){return kP||(kP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(W_)),W_}var LP;function XY(){return LP||(LP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JY(),n=QY();function r(i,o){return e.isEqualWith(i,o,n.noop)}t.isEqual=r})(K_)),K_}var J_,VP;function ZY(){return VP||(VP=1,J_=XY().isEqual),J_}var eW=ZY();const tW=hi(eW);var Ym=1e-4,TV=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],EV=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),UP=(t,e)=>n=>{var r=TV(t,e);return EV(r,n)},nW=(t,e)=>n=>{var r=TV(t,e),i=[...r.map((o,s)=>o*s).slice(1),0];return EV(i,n)},BP=function(){for(var e,n,r,i,o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];if(s.length===1)switch(s[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var f=s[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([e,r,n,i]=f[1].split(")")[0].split(",").map(A=>parseFloat(A)))}}else s.length===4&&([e,r,n,i]=s);var c=UP(e,n),h=UP(r,i),y=nW(e,n),_=A=>A>1?1:A<0?0:A,S=A=>{for(var w=A>1?1:A,C=w,R=0;R<8;++R){var D=c(C)-w,I=y(C);if(Math.abs(D-w)<Ym||I<Ym)return h(C);C=_(C-D/I)}return h(C)};return S.isStepper=!1,S},rW=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(s,u,f)=>{var c=-(s-u)*n,h=f*r,y=f+(c-h)*i/1e3,_=f*i/1e3+s;return Math.abs(_-u)<Ym&&Math.abs(y)<Ym?[u,0]:[_,y]};return o.isStepper=!0,o.dt=i,o},SV=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return BP(t);case"spring":return rW();default:if(t.split("(")[0]==="cubic-bezier")return BP(t)}return typeof t=="function"?t:null};function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){iW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iW(t,e,n){return(e=oW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oW(t){var e=aW(t,"string");return typeof e=="symbol"?e:e+""}function aW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sW=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),lW=(t,e,n)=>t.map(r=>"".concat(sW(r)," ").concat(e,"ms ").concat(n)).join(","),uW=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Td=(t,e)=>Object.keys(e).reduce((n,r)=>FP(FP({},n),{},{[r]:t(r,e[r])}),{});function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(r){cW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cW(t,e,n){return(e=fW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fW(t){var e=dW(t,"string");return typeof e=="symbol"?e:e+""}function dW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wm=(t,e,n)=>t+(e-t)*n,IE=t=>{var{from:e,to:n}=t;return e!==n},AV=(t,e,n)=>{var r=Td((i,o)=>{if(IE(o)){var[s,u]=t(o.from,o.to,o.velocity);return Dn(Dn({},o),{},{from:s,velocity:u})}return o},e);return n<1?Td((i,o)=>IE(o)?Dn(Dn({},o),{},{velocity:Wm(o.velocity,r[i].velocity,n),from:Wm(o.from,r[i].from,n)}):o,e):AV(t,r,n-1)};function hW(t,e,n,r,i,o){var s,u=r.reduce((_,S)=>Dn(Dn({},_),{},{[S]:{from:t[S],velocity:0,to:e[S]}}),{}),f=()=>Td((_,S)=>S.from,u),c=()=>!Object.values(u).filter(IE).length,h=null,y=_=>{s||(s=_);var S=_-s,A=S/n.dt;u=AV(n,u,A),i(Dn(Dn(Dn({},t),e),f())),s=_,c()||(h=o.setTimeout(y))};return()=>(h=o.setTimeout(y),()=>{h()})}function pW(t,e,n,r,i,o,s){var u=null,f=i.reduce((y,_)=>Dn(Dn({},y),{},{[_]:[t[_],e[_]]}),{}),c,h=y=>{c||(c=y);var _=(y-c)/r,S=Td((w,C)=>Wm(...C,n(_)),f);if(o(Dn(Dn(Dn({},t),e),S)),_<1)u=s.setTimeout(h);else{var A=Td((w,C)=>Wm(...C,n(1)),f);o(Dn(Dn(Dn({},t),e),A))}};return()=>(u=s.setTimeout(h),()=>{u()})}const wV=(t,e,n,r,i,o)=>{var s=uW(t,e);return n.isStepper===!0?hW(t,e,n,s,i,o):pW(t,e,n,r,s,i,o)};function mW(t){var e,n=()=>null,r=!1,i=null,o=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var u=s,[f,...c]=u;if(typeof f=="number"){i=t.setTimeout(o.bind(null,c),f);return}o(f),i=t.setTimeout(o.bind(null,c));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),o(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class gW{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}function yW(){return mW(new gW)}var vW=M.createContext(yW);function bV(t,e){var n=M.useContext(vW);return M.useMemo(()=>e??n(t),[t,e,n])}var _W=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function RE(){return RE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RE.apply(null,arguments)}function TW(t,e){if(t==null)return{};var n,r,i=EW(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function EW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){$s(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $s(t,e,n){return(e=SW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SW(t){var e=AW(t,"string");return typeof e=="symbol"?e:e+""}function AW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class UA extends M.PureComponent{constructor(e,n){super(e,n),$s(this,"mounted",!1),$s(this,"manager",void 0),$s(this,"stopJSAnimation",null),$s(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:o,to:s,children:u,duration:f,animationManager:c}=this.props;if(this.manager=c,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||f<=0){this.state={style:{}},typeof u=="function"&&(this.state={style:s});return}if(o){if(typeof u=="function"){this.state={style:o};return}this.state={style:i?{[i]:o}:o}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:o,to:s,from:u}=this.props,{style:f}=this.state;if(r){if(!n){var c={style:i?{[i]:s}:s};this.state&&f&&(i&&f[i]!==s||!i&&f!==s)&&this.setState(c);return}if(!(tW(e.to,s)&&e.canBegin&&e.isActive)){var h=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=h||o?u:e.to;if(this.state&&f){var _={style:i?{[i]:y}:y};(i&&f[i]!==y||!i&&f!==y)&&this.setState(_)}this.runAnimation(wa(wa({},this.props),{},{from:y,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:o,begin:s,onAnimationEnd:u,onAnimationStart:f}=e,c=wV(n,r,SV(o),i,this.changeStyle,this.manager.getTimeoutController()),h=()=>{this.stopJSAnimation=c()};this.manager.start([f,s,h,i,u])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:o,easing:s,onAnimationStart:u,onAnimationEnd:f,children:c}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof s=="function"||typeof c=="function"||s==="spring"){this.runJSAnimation(e);return}var h=i?{[i]:o}:o,y=lW(Object.keys(h),r,s);this.manager.start([u,n,wa(wa({},h),{},{transition:y}),r,f])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:o,easing:s,isActive:u,from:f,to:c,canBegin:h,onAnimationEnd:y,shouldReAnimate:_,onAnimationReStart:S,animationManager:A}=e,w=TW(e,_W),C=M.Children.count(n),R=this.state.style;if(typeof n=="function")return n(R);if(!u||C===0||i<=0)return n;var D=I=>{var{style:$={},className:U}=I.props,G=M.cloneElement(I,wa(wa({},w),{},{style:wa(wa({},$),R),className:U}));return G};return C===1?D(M.Children.only(n)):M.createElement("div",null,M.Children.map(n,I=>D(I)))}}$s(UA,"displayName","Animate");$s(UA,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Jm(t){var e,n=bV((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return M.createElement(UA,RE({},t,{animationManager:n}))}function Qm(){return Qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qm.apply(null,arguments)}var zP=(t,e,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,u=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,c;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],y=0,_=4;y<_;y++)h[y]=i[y]>o?o:i[y];c="M".concat(t,",").concat(e+s*h[0]),h[0]>0&&(c+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(t+u*h[0],",").concat(e)),c+="L ".concat(t+n-u*h[1],",").concat(e),h[1]>0&&(c+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+s*h[1])),c+="L ".concat(t+n,",").concat(e+r-s*h[2]),h[2]>0&&(c+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(t+n-u*h[2],",").concat(e+r)),c+="L ".concat(t+u*h[3],",").concat(e+r),h[3]>0&&(c+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-s*h[3])),c+="Z"}else if(o>0&&i===+i&&i>0){var S=Math.min(o,i);c="M ".concat(t,",").concat(e+s*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(t+u*S,",").concat(e,`
            L `).concat(t+n-u*S,",").concat(e,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(t+n,",").concat(e+s*S,`
            L `).concat(t+n,",").concat(e+r-s*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(t+n-u*S,",").concat(e+r,`
            L `).concat(t+u*S,",").concat(e+r,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(t,",").concat(e+r-s*S," Z")}else c="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return c},wW={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},CV=t=>{var e=hl(t,wW),n=M.useRef(null),[r,i]=M.useState(-1);M.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var R=n.current.getTotalLength();R&&i(R)}catch{}},[]);var{x:o,y:s,width:u,height:f,radius:c,className:h}=e,{animationEasing:y,animationDuration:_,animationBegin:S,isAnimationActive:A,isUpdateAnimationActive:w}=e;if(o!==+o||s!==+s||u!==+u||f!==+f||u===0||f===0)return null;var C=bt("recharts-rectangle",h);return w?M.createElement(Jm,{canBegin:r>0,from:{width:u,height:f,x:o,y:s},to:{width:u,height:f,x:o,y:s},duration:_,animationEasing:y,isActive:w},R=>{var{width:D,height:I,x:$,y:U}=R;return M.createElement(Jm,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:S,duration:_,isActive:A,easing:y},M.createElement("path",Qm({},En(e,!0),{className:C,d:zP($,U,D,I,c),ref:n})))}):M.createElement("path",Qm({},En(e,!0),{className:C,d:zP(o,s,u,f,c)}))};function xV(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,s=On(e,n,r,i),u=On(e,n,r,o);return{points:[s,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function PE(){return PE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PE.apply(null,arguments)}var bW=(t,e)=>{var n=wr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Hp=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:s,cornerRadius:u,cornerIsExternal:f}=t,c=u*(s?1:-1)+r,h=Math.asin(u/c)/Km,y=f?i:i+o*h,_=On(e,n,c,y),S=On(e,n,r,y),A=f?i-o*h:i,w=On(e,n,c*Math.cos(h*Km),A);return{center:_,circleTangency:S,lineTangency:w,theta:h}},IV=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:s}=t,u=bW(o,s),f=o+u,c=On(e,n,i,o),h=On(e,n,i,f),y="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var _=On(e,n,r,o),S=On(e,n,r,f);y+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=f),`,
            `).concat(_.x,",").concat(_.y," Z")}else y+="L ".concat(e,",").concat(n," Z");return y},CW=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:u,startAngle:f,endAngle:c}=t,h=wr(c-f),{circleTangency:y,lineTangency:_,theta:S}=Hp({cx:e,cy:n,radius:i,angle:f,sign:h,cornerRadius:o,cornerIsExternal:u}),{circleTangency:A,lineTangency:w,theta:C}=Hp({cx:e,cy:n,radius:i,angle:c,sign:-h,cornerRadius:o,cornerIsExternal:u}),R=u?Math.abs(f-c):Math.abs(f-c)-S-C;if(R<0)return s?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):IV({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:c});var D="M ".concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(h<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:I,lineTangency:$,theta:U}=Hp({cx:e,cy:n,radius:r,angle:f,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:G,lineTangency:O,theta:k}=Hp({cx:e,cy:n,radius:r,angle:c,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),N=u?Math.abs(f-c):Math.abs(f-c)-U-k;if(N<0&&o===0)return"".concat(D,"L").concat(e,",").concat(n,"Z");D+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(G.x,",").concat(G.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(N>180),",").concat(+(h>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat($.x,",").concat($.y,"Z")}else D+="L".concat(e,",").concat(n,"Z");return D},xW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},RV=t=>{var e=hl(t,xW),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:s,forceCornerRadius:u,cornerIsExternal:f,startAngle:c,endAngle:h,className:y}=e;if(o<i||c===h)return null;var _=bt("recharts-sector",y),S=o-i,A=di(s,S,0,!0),w;return A>0&&Math.abs(c-h)<360?w=CW({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(A,S/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:c,endAngle:h}):w=IV({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:h}),M.createElement("path",PE({},En(e,!0),{className:_,d:w}))};function IW(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:u,cy:f,innerRadius:c,outerRadius:h,angle:y}=e,_=On(u,f,c,y),S=On(u,f,h,y);r=_.x,i=_.y,o=S.x,s=S.y}else return xV(e);return[{x:r,y:i},{x:o,y:s}]}var Q_={},X_={},Z_={},GP;function RW(){return GP||(GP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FL();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Z_)),Z_}var KP;function PW(){return KP||(KP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RW();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(X_)),X_}var jP;function MW(){return jP||(jP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$L(),n=PW();function r(i,o,s){s&&typeof s!="number"&&e.isIterateeCall(i,o,s)&&(o=s=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),s=s===void 0?i<o?1:-1:n.toFinite(s);const u=Math.max(Math.ceil((o-i)/(s||1)),0),f=new Array(u);for(let c=0;c<u;c++)f[c]=i,i+=s;return f}t.range=r})(Q_)),Q_}var eT,YP;function DW(){return YP||(YP=1,eT=MW().range),eT}var NW=DW();const PV=hi(NW);function qa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function OW(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function BA(t){let e,n,r;t.length!==2?(e=qa,n=(u,f)=>qa(t(u),f),r=(u,f)=>t(u)-f):(e=t===qa||t===OW?t:kW,n=t,r=t);function i(u,f,c=0,h=u.length){if(c<h){if(e(f,f)!==0)return h;do{const y=c+h>>>1;n(u[y],f)<0?c=y+1:h=y}while(c<h)}return c}function o(u,f,c=0,h=u.length){if(c<h){if(e(f,f)!==0)return h;do{const y=c+h>>>1;n(u[y],f)<=0?c=y+1:h=y}while(c<h)}return c}function s(u,f,c=0,h=u.length){const y=i(u,f,c,h-1);return y>c&&r(u[y-1],f)>-r(u[y],f)?y-1:y}return{left:i,center:s,right:o}}function kW(){return 0}function MV(t){return t===null?NaN:+t}function*LW(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const VW=BA(qa),jd=VW.right;BA(MV).center;class WP extends Map{constructor(e,n=qW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(JP(this,e))}has(e){return super.has(JP(this,e))}set(e,n){return super.set(UW(this,e),n)}delete(e){return super.delete(BW(this,e))}}function JP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function UW({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function BW({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function qW(t){return t!==null&&typeof t=="object"?t.valueOf():t}function FW(t=qa){if(t===qa)return DV;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function DV(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const $W=Math.sqrt(50),HW=Math.sqrt(10),zW=Math.sqrt(2);function Xm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=$W?10:o>=HW?5:o>=zW?2:1;let u,f,c;return i<0?(c=Math.pow(10,-i)/s,u=Math.round(t*c),f=Math.round(e*c),u/c<t&&++u,f/c>e&&--f,c=-c):(c=Math.pow(10,i)*s,u=Math.round(t/c),f=Math.round(e/c),u*c<t&&++u,f*c>e&&--f),f<u&&.5<=n&&n<2?Xm(t,e,n*2):[u,f,c]}function ME(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Xm(e,t,n):Xm(t,e,n);if(!(o>=i))return[];const u=o-i+1,f=new Array(u);if(r)if(s<0)for(let c=0;c<u;++c)f[c]=(o-c)/-s;else for(let c=0;c<u;++c)f[c]=(o-c)*s;else if(s<0)for(let c=0;c<u;++c)f[c]=(i+c)/-s;else for(let c=0;c<u;++c)f[c]=(i+c)*s;return f}function DE(t,e,n){return e=+e,t=+t,n=+n,Xm(t,e,n)[2]}function NE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?DE(e,t,n):DE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function QP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function XP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function NV(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?DV:FW(i);r>n;){if(r-n>600){const f=r-n+1,c=e-n+1,h=Math.log(f),y=.5*Math.exp(2*h/3),_=.5*Math.sqrt(h*y*(f-y)/f)*(c-f/2<0?-1:1),S=Math.max(n,Math.floor(e-c*y/f+_)),A=Math.min(r,Math.floor(e+(f-c)*y/f+_));NV(t,e,S,A,i)}const o=t[e];let s=n,u=r;for(kf(t,n,e),i(t[r],o)>0&&kf(t,n,r);s<u;){for(kf(t,s,u),++s,--u;i(t[s],o)<0;)++s;for(;i(t[u],o)>0;)--u}i(t[n],o)===0?kf(t,n,u):(++u,kf(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function kf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function GW(t,e,n){if(t=Float64Array.from(LW(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return XP(t);if(e>=1)return QP(t);var r,i=(r-1)*e,o=Math.floor(i),s=QP(NV(t,o).subarray(0,o+1)),u=XP(t.subarray(o+1));return s+(u-s)*(i-o)}}function KW(t,e,n=MV){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return s+(u-s)*(i-o)}}function jW(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Zr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function zo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const OE=Symbol("implicit");function qA(){var t=new WP,e=[],n=[],r=OE;function i(o){let s=t.get(o);if(s===void 0){if(r!==OE)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new WP;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return qA(e,n).unknown(r)},Zr.apply(i,arguments),i}function FA(){var t=qA().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,u=!1,f=0,c=0,h=.5;delete t.unknown;function y(){var _=e().length,S=i<r,A=S?i:r,w=S?r:i;o=(w-A)/Math.max(1,_-f+c*2),u&&(o=Math.floor(o)),A+=(w-A-o*(_-f))*h,s=o*(1-f),u&&(A=Math.round(A),s=Math.round(s));var C=jW(_).map(function(R){return A+o*R});return n(S?C.reverse():C)}return t.domain=function(_){return arguments.length?(e(_),y()):e()},t.range=function(_){return arguments.length?([r,i]=_,r=+r,i=+i,y()):[r,i]},t.rangeRound=function(_){return[r,i]=_,r=+r,i=+i,u=!0,y()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(_){return arguments.length?(u=!!_,y()):u},t.padding=function(_){return arguments.length?(f=Math.min(1,c=+_),y()):f},t.paddingInner=function(_){return arguments.length?(f=Math.min(1,_),y()):f},t.paddingOuter=function(_){return arguments.length?(c=+_,y()):c},t.align=function(_){return arguments.length?(h=Math.max(0,Math.min(1,_)),y()):h},t.copy=function(){return FA(e(),[r,i]).round(u).paddingInner(f).paddingOuter(c).align(h)},Zr.apply(y(),arguments)}function OV(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return OV(e())},t}function YW(){return OV(FA.apply(null,arguments).paddingInner(1))}function $A(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function kV(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Yd(){}var Ed=.7,Zm=1/Ed,xu="\\s*([+-]?\\d+)\\s*",Sd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",WW=/^#([0-9a-f]{3,8})$/,JW=new RegExp(`^rgb\\(${xu},${xu},${xu}\\)$`),QW=new RegExp(`^rgb\\(${$i},${$i},${$i}\\)$`),XW=new RegExp(`^rgba\\(${xu},${xu},${xu},${Sd}\\)$`),ZW=new RegExp(`^rgba\\(${$i},${$i},${$i},${Sd}\\)$`),eJ=new RegExp(`^hsl\\(${Sd},${$i},${$i}\\)$`),tJ=new RegExp(`^hsla\\(${Sd},${$i},${$i},${Sd}\\)$`),ZP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$A(Yd,Ad,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:eM,formatHex:eM,formatHex8:nJ,formatHsl:rJ,formatRgb:tM,toString:tM});function eM(){return this.rgb().formatHex()}function nJ(){return this.rgb().formatHex8()}function rJ(){return LV(this).formatHsl()}function tM(){return this.rgb().formatRgb()}function Ad(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=WW.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?nM(e):n===3?new or(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?zp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?zp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=JW.exec(t))?new or(e[1],e[2],e[3],1):(e=QW.exec(t))?new or(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=XW.exec(t))?zp(e[1],e[2],e[3],e[4]):(e=ZW.exec(t))?zp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=eJ.exec(t))?oM(e[1],e[2]/100,e[3]/100,1):(e=tJ.exec(t))?oM(e[1],e[2]/100,e[3]/100,e[4]):ZP.hasOwnProperty(t)?nM(ZP[t]):t==="transparent"?new or(NaN,NaN,NaN,0):null}function nM(t){return new or(t>>16&255,t>>8&255,t&255,1)}function zp(t,e,n,r){return r<=0&&(t=e=n=NaN),new or(t,e,n,r)}function iJ(t){return t instanceof Yd||(t=Ad(t)),t?(t=t.rgb(),new or(t.r,t.g,t.b,t.opacity)):new or}function kE(t,e,n,r){return arguments.length===1?iJ(t):new or(t,e,n,r??1)}function or(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}$A(or,kE,kV(Yd,{brighter(t){return t=t==null?Zm:Math.pow(Zm,t),new or(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ed:Math.pow(Ed,t),new or(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new or(Ws(this.r),Ws(this.g),Ws(this.b),eg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rM,formatHex:rM,formatHex8:oJ,formatRgb:iM,toString:iM}));function rM(){return`#${Hs(this.r)}${Hs(this.g)}${Hs(this.b)}`}function oJ(){return`#${Hs(this.r)}${Hs(this.g)}${Hs(this.b)}${Hs((isNaN(this.opacity)?1:this.opacity)*255)}`}function iM(){const t=eg(this.opacity);return`${t===1?"rgb(":"rgba("}${Ws(this.r)}, ${Ws(this.g)}, ${Ws(this.b)}${t===1?")":`, ${t})`}`}function eg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ws(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Hs(t){return t=Ws(t),(t<16?"0":"")+t.toString(16)}function oM(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new li(t,e,n,r)}function LV(t){if(t instanceof li)return new li(t.h,t.s,t.l,t.opacity);if(t instanceof Yd||(t=Ad(t)),!t)return new li;if(t instanceof li)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,u=o-i,f=(o+i)/2;return u?(e===o?s=(n-r)/u+(n<r)*6:n===o?s=(r-e)/u+2:s=(e-n)/u+4,u/=f<.5?o+i:2-o-i,s*=60):u=f>0&&f<1?0:s,new li(s,u,f,t.opacity)}function aJ(t,e,n,r){return arguments.length===1?LV(t):new li(t,e,n,r??1)}function li(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}$A(li,aJ,kV(Yd,{brighter(t){return t=t==null?Zm:Math.pow(Zm,t),new li(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ed:Math.pow(Ed,t),new li(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new or(tT(t>=240?t-240:t+120,i,r),tT(t,i,r),tT(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new li(aM(this.h),Gp(this.s),Gp(this.l),eg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=eg(this.opacity);return`${t===1?"hsl(":"hsla("}${aM(this.h)}, ${Gp(this.s)*100}%, ${Gp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function aM(t){return t=(t||0)%360,t<0?t+360:t}function Gp(t){return Math.max(0,Math.min(1,t||0))}function tT(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const HA=t=>()=>t;function sJ(t,e){return function(n){return t+n*e}}function lJ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function uJ(t){return(t=+t)==1?VV:function(e,n){return n-e?lJ(e,n,t):HA(isNaN(e)?n:e)}}function VV(t,e){var n=e-t;return n?sJ(t,n):HA(isNaN(t)?e:t)}const sM=(function t(e){var n=uJ(e);function r(i,o){var s=n((i=kE(i)).r,(o=kE(o)).r),u=n(i.g,o.g),f=n(i.b,o.b),c=VV(i.opacity,o.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=f(h),i.opacity=c(h),i+""}}return r.gamma=t,r})(1);function cJ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function fJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function dJ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=lc(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(u){for(s=0;s<r;++s)o[s]=i[s](u);return o}}function hJ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function tg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function pJ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=lc(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var LE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nT=new RegExp(LE.source,"g");function mJ(t){return function(){return t}}function gJ(t){return function(e){return t(e)+""}}function yJ(t,e){var n=LE.lastIndex=nT.lastIndex=0,r,i,o,s=-1,u=[],f=[];for(t=t+"",e=e+"";(r=LE.exec(t))&&(i=nT.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[s]?u[s]+=o:u[++s]=o),(r=r[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,f.push({i:s,x:tg(r,i)})),n=nT.lastIndex;return n<e.length&&(o=e.slice(n),u[s]?u[s]+=o:u[++s]=o),u.length<2?f[0]?gJ(f[0].x):mJ(e):(e=f.length,function(c){for(var h=0,y;h<e;++h)u[(y=f[h]).i]=y.x(c);return u.join("")})}function lc(t,e){var n=typeof e,r;return e==null||n==="boolean"?HA(e):(n==="number"?tg:n==="string"?(r=Ad(e))?(e=r,sM):yJ:e instanceof Ad?sM:e instanceof Date?hJ:fJ(e)?cJ:Array.isArray(e)?dJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?pJ:tg)(t,e)}function zA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function vJ(t,e){e===void 0&&(e=t,t=lc);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var u=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[u](s-u)}}function _J(t){return function(){return t}}function ng(t){return+t}var lM=[0,1];function Jn(t){return t}function VE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:_J(isNaN(e)?NaN:.5)}function TJ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function EJ(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=VE(i,r),o=n(s,o)):(r=VE(r,i),o=n(o,s)),function(u){return o(r(u))}}function SJ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=VE(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(u){var f=jd(t,u,1,r)-1;return o[f](i[f](u))}}function Wd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function iy(){var t=lM,e=lM,n=lc,r,i,o,s=Jn,u,f,c;function h(){var _=Math.min(t.length,e.length);return s!==Jn&&(s=TJ(t[0],t[_-1])),u=_>2?SJ:EJ,f=c=null,y}function y(_){return _==null||isNaN(_=+_)?o:(f||(f=u(t.map(r),e,n)))(r(s(_)))}return y.invert=function(_){return s(i((c||(c=u(e,t.map(r),tg)))(_)))},y.domain=function(_){return arguments.length?(t=Array.from(_,ng),h()):t.slice()},y.range=function(_){return arguments.length?(e=Array.from(_),h()):e.slice()},y.rangeRound=function(_){return e=Array.from(_),n=zA,h()},y.clamp=function(_){return arguments.length?(s=_?!0:Jn,h()):s!==Jn},y.interpolate=function(_){return arguments.length?(n=_,h()):n},y.unknown=function(_){return arguments.length?(o=_,y):o},function(_,S){return r=_,i=S,h()}}function GA(){return iy()(Jn,Jn)}function AJ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function rg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function $u(t){return t=rg(Math.abs(t)),t?t[1]:NaN}function wJ(t,e){return function(n,r){for(var i=n.length,o=[],s=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),o.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[s=(s+1)%t.length];return o.reverse().join(e)}}function bJ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var CJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wd(t){if(!(e=CJ.exec(t)))throw new Error("invalid format: "+t);var e;return new KA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}wd.prototype=KA.prototype;function KA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}KA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xJ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var UV;function IJ(t,e){var n=rg(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(UV=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+rg(t,Math.max(0,e+o-1))[0]}function uM(t,e){var n=rg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const cM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:AJ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>uM(t*100,e),r:uM,s:IJ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function fM(t){return t}var dM=Array.prototype.map,hM=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function RJ(t){var e=t.grouping===void 0||t.thousands===void 0?fM:wJ(dM.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?fM:bJ(dM.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function c(y){y=wd(y);var _=y.fill,S=y.align,A=y.sign,w=y.symbol,C=y.zero,R=y.width,D=y.comma,I=y.precision,$=y.trim,U=y.type;U==="n"?(D=!0,U="g"):cM[U]||(I===void 0&&(I=12),$=!0,U="g"),(C||_==="0"&&S==="=")&&(C=!0,_="0",S="=");var G=w==="$"?n:w==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():"",O=w==="$"?r:/[%p]/.test(U)?s:"",k=cM[U],N=/[defgprs%]/.test(U);I=I===void 0?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function q(B){var F=G,H=O,Ae,ye,Z;if(U==="c")H=k(B)+H,B="";else{B=+B;var de=B<0||1/B<0;if(B=isNaN(B)?f:k(Math.abs(B),I),$&&(B=xJ(B)),de&&+B==0&&A!=="+"&&(de=!1),F=(de?A==="("?A:u:A==="-"||A==="("?"":A)+F,H=(U==="s"?hM[8+UV/3]:"")+H+(de&&A==="("?")":""),N){for(Ae=-1,ye=B.length;++Ae<ye;)if(Z=B.charCodeAt(Ae),48>Z||Z>57){H=(Z===46?i+B.slice(Ae+1):B.slice(Ae))+H,B=B.slice(0,Ae);break}}}D&&!C&&(B=e(B,1/0));var ve=F.length+B.length+H.length,Le=ve<R?new Array(R-ve+1).join(_):"";switch(D&&C&&(B=e(Le+B,Le.length?R-H.length:1/0),Le=""),S){case"<":B=F+B+H+Le;break;case"=":B=F+Le+B+H;break;case"^":B=Le.slice(0,ve=Le.length>>1)+F+B+H+Le.slice(ve);break;default:B=Le+F+B+H;break}return o(B)}return q.toString=function(){return y+""},q}function h(y,_){var S=c((y=wd(y),y.type="f",y)),A=Math.max(-8,Math.min(8,Math.floor($u(_)/3)))*3,w=Math.pow(10,-A),C=hM[8+A/3];return function(R){return S(w*R)+C}}return{format:c,formatPrefix:h}}var Kp,jA,BV;PJ({thousands:",",grouping:[3],currency:["$",""]});function PJ(t){return Kp=RJ(t),jA=Kp.format,BV=Kp.formatPrefix,Kp}function MJ(t){return Math.max(0,-$u(Math.abs(t)))}function DJ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($u(e)/3)))*3-$u(Math.abs(t)))}function NJ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,$u(e)-$u(t))+1}function qV(t,e,n,r){var i=NE(t,e,n),o;switch(r=wd(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=DJ(i,s))&&(r.precision=o),BV(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=NJ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=MJ(i))&&(r.precision=o-(r.type==="%")*2);break}}return jA(r)}function Qa(t){var e=t.domain;return t.ticks=function(n){var r=e();return ME(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return qV(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],u=r[o],f,c,h=10;for(u<s&&(c=s,s=u,u=c,c=i,i=o,o=c);h-- >0;){if(c=DE(s,u,n),c===f)return r[i]=s,r[o]=u,e(r);if(c>0)s=Math.floor(s/c)*c,u=Math.ceil(u/c)*c;else if(c<0)s=Math.ceil(s*c)/c,u=Math.floor(u*c)/c;else break;f=c}return t},t}function FV(){var t=GA();return t.copy=function(){return Wd(t,FV())},Zr.apply(t,arguments),Qa(t)}function $V(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,ng),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return $V(t).unknown(e)},t=arguments.length?Array.from(t,ng):[0,1],Qa(n)}function HV(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function pM(t){return Math.log(t)}function mM(t){return Math.exp(t)}function OJ(t){return-Math.log(-t)}function kJ(t){return-Math.exp(-t)}function LJ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function VJ(t){return t===10?LJ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function UJ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function gM(t){return(e,n)=>-t(-e,n)}function YA(t){const e=t(pM,mM),n=e.domain;let r=10,i,o;function s(){return i=UJ(r),o=VJ(r),n()[0]<0?(i=gM(i),o=gM(o),t(OJ,kJ)):t(pM,mM),e}return e.base=function(u){return arguments.length?(r=+u,s()):r},e.domain=function(u){return arguments.length?(n(u),s()):n()},e.ticks=u=>{const f=n();let c=f[0],h=f[f.length-1];const y=h<c;y&&([c,h]=[h,c]);let _=i(c),S=i(h),A,w;const C=u==null?10:+u;let R=[];if(!(r%1)&&S-_<C){if(_=Math.floor(_),S=Math.ceil(S),c>0){for(;_<=S;++_)for(A=1;A<r;++A)if(w=_<0?A/o(-_):A*o(_),!(w<c)){if(w>h)break;R.push(w)}}else for(;_<=S;++_)for(A=r-1;A>=1;--A)if(w=_>0?A/o(-_):A*o(_),!(w<c)){if(w>h)break;R.push(w)}R.length*2<C&&(R=ME(c,h,C))}else R=ME(_,S,Math.min(S-_,C)).map(o);return y?R.reverse():R},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=wd(f)).precision==null&&(f.trim=!0),f=jA(f)),u===1/0)return f;const c=Math.max(1,r*u/e.ticks().length);return h=>{let y=h/o(Math.round(i(h)));return y*r<r-.5&&(y*=r),y<=c?f(h):""}},e.nice=()=>n(HV(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function zV(){const t=YA(iy()).domain([1,10]);return t.copy=()=>Wd(t,zV()).base(t.base()),Zr.apply(t,arguments),t}function yM(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function vM(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function WA(t){var e=1,n=t(yM(e),vM(e));return n.constant=function(r){return arguments.length?t(yM(e=+r),vM(e)):e},Qa(n)}function GV(){var t=WA(iy());return t.copy=function(){return Wd(t,GV()).constant(t.constant())},Zr.apply(t,arguments)}function _M(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function BJ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function qJ(t){return t<0?-t*t:t*t}function JA(t){var e=t(Jn,Jn),n=1;function r(){return n===1?t(Jn,Jn):n===.5?t(BJ,qJ):t(_M(n),_M(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Qa(e)}function QA(){var t=JA(iy());return t.copy=function(){return Wd(t,QA()).exponent(t.exponent())},Zr.apply(t,arguments),t}function FJ(){return QA.apply(null,arguments).exponent(.5)}function TM(t){return Math.sign(t)*t*t}function $J(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function KV(){var t=GA(),e=[0,1],n=!1,r;function i(o){var s=$J(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(TM(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,ng)).map(TM)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return KV(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Zr.apply(i,arguments),Qa(i)}function jV(){var t=[],e=[],n=[],r;function i(){var s=0,u=Math.max(1,e.length);for(n=new Array(u-1);++s<u;)n[s-1]=KW(t,s/u);return o}function o(s){return s==null||isNaN(s=+s)?r:e[jd(n,s)]}return o.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(qa),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return jV().domain(t).range(e).unknown(r)},Zr.apply(o,arguments)}function YV(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(f){return f!=null&&f<=f?i[jd(r,f,0,n)]:o}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return s}return s.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},s.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},s.invertExtent=function(f){var c=i.indexOf(f);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(f){return arguments.length&&(o=f),s},s.thresholds=function(){return r.slice()},s.copy=function(){return YV().domain([t,e]).range(i).unknown(o)},Zr.apply(Qa(s),arguments)}function WV(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[jd(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return WV().domain(t).range(e).unknown(n)},Zr.apply(i,arguments)}const rT=new Date,iT=new Date;function cn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),u=i.ceil(o);return o-s<u-o?s:u},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,u)=>{const f=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<s)||!(u>0))return f;let c;do f.push(c=new Date(+o)),e(o,u),t(o);while(c<o&&o<s);return f},i.filter=o=>cn(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!o(s););else for(;--u>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(rT.setTime(+o),iT.setTime(+s),t(rT),t(iT),Math.floor(n(rT,iT))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const ig=cn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ig.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?cn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ig);ig.range;const wo=1e3,jr=wo*60,bo=jr*60,Vo=bo*24,XA=Vo*7,EM=Vo*30,oT=Vo*365,zs=cn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*wo)},(t,e)=>(e-t)/wo,t=>t.getUTCSeconds());zs.range;const ZA=cn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wo)},(t,e)=>{t.setTime(+t+e*jr)},(t,e)=>(e-t)/jr,t=>t.getMinutes());ZA.range;const ew=cn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*jr)},(t,e)=>(e-t)/jr,t=>t.getUTCMinutes());ew.range;const tw=cn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wo-t.getMinutes()*jr)},(t,e)=>{t.setTime(+t+e*bo)},(t,e)=>(e-t)/bo,t=>t.getHours());tw.range;const nw=cn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*bo)},(t,e)=>(e-t)/bo,t=>t.getUTCHours());nw.range;const Jd=cn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*jr)/Vo,t=>t.getDate()-1);Jd.range;const oy=cn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vo,t=>t.getUTCDate()-1);oy.range;const JV=cn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vo,t=>Math.floor(t/Vo));JV.range;function pl(t){return cn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*jr)/XA)}const ay=pl(0),og=pl(1),HJ=pl(2),zJ=pl(3),Hu=pl(4),GJ=pl(5),KJ=pl(6);ay.range;og.range;HJ.range;zJ.range;Hu.range;GJ.range;KJ.range;function ml(t){return cn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/XA)}const sy=ml(0),ag=ml(1),jJ=ml(2),YJ=ml(3),zu=ml(4),WJ=ml(5),JJ=ml(6);sy.range;ag.range;jJ.range;YJ.range;zu.range;WJ.range;JJ.range;const rw=cn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());rw.range;const iw=cn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());iw.range;const Uo=cn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Uo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:cn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Uo.range;const Bo=cn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Bo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:cn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Bo.range;function QV(t,e,n,r,i,o){const s=[[zs,1,wo],[zs,5,5*wo],[zs,15,15*wo],[zs,30,30*wo],[o,1,jr],[o,5,5*jr],[o,15,15*jr],[o,30,30*jr],[i,1,bo],[i,3,3*bo],[i,6,6*bo],[i,12,12*bo],[r,1,Vo],[r,2,2*Vo],[n,1,XA],[e,1,EM],[e,3,3*EM],[t,1,oT]];function u(c,h,y){const _=h<c;_&&([c,h]=[h,c]);const S=y&&typeof y.range=="function"?y:f(c,h,y),A=S?S.range(c,+h+1):[];return _?A.reverse():A}function f(c,h,y){const _=Math.abs(h-c)/y,S=BA(([,,C])=>C).right(s,_);if(S===s.length)return t.every(NE(c/oT,h/oT,y));if(S===0)return ig.every(Math.max(NE(c,h,y),1));const[A,w]=s[_/s[S-1][2]<s[S][2]/_?S-1:S];return A.every(w)}return[u,f]}const[QJ,XJ]=QV(Bo,iw,sy,JV,nw,ew),[ZJ,eQ]=QV(Uo,rw,ay,Jd,tw,ZA);function aT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function sT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Lf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function tQ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,u=t.months,f=t.shortMonths,c=Vf(i),h=Uf(i),y=Vf(o),_=Uf(o),S=Vf(s),A=Uf(s),w=Vf(u),C=Uf(u),R=Vf(f),D=Uf(f),I={a:de,A:ve,b:Le,B:j,c:null,d:xM,e:xM,f:wQ,g:OQ,G:LQ,H:EQ,I:SQ,j:AQ,L:XV,m:bQ,M:CQ,p:ue,q:ae,Q:PM,s:MM,S:xQ,u:IQ,U:RQ,V:PQ,w:MQ,W:DQ,x:null,X:null,y:NQ,Y:kQ,Z:VQ,"%":RM},$={a:he,A:we,b:Ie,B:Oe,c:null,d:IM,e:IM,f:FQ,g:QQ,G:ZQ,H:UQ,I:BQ,j:qQ,L:eU,m:$Q,M:HQ,p:Ht,q:ft,Q:PM,s:MM,S:zQ,u:GQ,U:KQ,V:jQ,w:YQ,W:WQ,x:null,X:null,y:JQ,Y:XQ,Z:eX,"%":RM},U={a:q,A:B,b:F,B:H,c:Ae,d:bM,e:bM,f:yQ,g:wM,G:AM,H:CM,I:CM,j:hQ,L:gQ,m:dQ,M:pQ,p:N,q:fQ,Q:_Q,s:TQ,S:mQ,u:aQ,U:sQ,V:lQ,w:oQ,W:uQ,x:ye,X:Z,y:wM,Y:AM,Z:cQ,"%":vQ};I.x=G(n,I),I.X=G(r,I),I.c=G(e,I),$.x=G(n,$),$.X=G(r,$),$.c=G(e,$);function G(ge,Ve){return function(qe){var fe=[],Dt=-1,We=0,en=ge.length,hn,zt,_l;for(qe instanceof Date||(qe=new Date(+qe));++Dt<en;)ge.charCodeAt(Dt)===37&&(fe.push(ge.slice(We,Dt)),(zt=SM[hn=ge.charAt(++Dt)])!=null?hn=ge.charAt(++Dt):zt=hn==="e"?" ":"0",(_l=Ve[hn])&&(hn=_l(qe,zt)),fe.push(hn),We=Dt+1);return fe.push(ge.slice(We,Dt)),fe.join("")}}function O(ge,Ve){return function(qe){var fe=Lf(1900,void 0,1),Dt=k(fe,ge,qe+="",0),We,en;if(Dt!=qe.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(Ve&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(We=sT(Lf(fe.y,0,1)),en=We.getUTCDay(),We=en>4||en===0?ag.ceil(We):ag(We),We=oy.offset(We,(fe.V-1)*7),fe.y=We.getUTCFullYear(),fe.m=We.getUTCMonth(),fe.d=We.getUTCDate()+(fe.w+6)%7):(We=aT(Lf(fe.y,0,1)),en=We.getDay(),We=en>4||en===0?og.ceil(We):og(We),We=Jd.offset(We,(fe.V-1)*7),fe.y=We.getFullYear(),fe.m=We.getMonth(),fe.d=We.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),en="Z"in fe?sT(Lf(fe.y,0,1)).getUTCDay():aT(Lf(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(en+5)%7:fe.w+fe.U*7-(en+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,sT(fe)):aT(fe)}}function k(ge,Ve,qe,fe){for(var Dt=0,We=Ve.length,en=qe.length,hn,zt;Dt<We;){if(fe>=en)return-1;if(hn=Ve.charCodeAt(Dt++),hn===37){if(hn=Ve.charAt(Dt++),zt=U[hn in SM?Ve.charAt(Dt++):hn],!zt||(fe=zt(ge,qe,fe))<0)return-1}else if(hn!=qe.charCodeAt(fe++))return-1}return fe}function N(ge,Ve,qe){var fe=c.exec(Ve.slice(qe));return fe?(ge.p=h.get(fe[0].toLowerCase()),qe+fe[0].length):-1}function q(ge,Ve,qe){var fe=S.exec(Ve.slice(qe));return fe?(ge.w=A.get(fe[0].toLowerCase()),qe+fe[0].length):-1}function B(ge,Ve,qe){var fe=y.exec(Ve.slice(qe));return fe?(ge.w=_.get(fe[0].toLowerCase()),qe+fe[0].length):-1}function F(ge,Ve,qe){var fe=R.exec(Ve.slice(qe));return fe?(ge.m=D.get(fe[0].toLowerCase()),qe+fe[0].length):-1}function H(ge,Ve,qe){var fe=w.exec(Ve.slice(qe));return fe?(ge.m=C.get(fe[0].toLowerCase()),qe+fe[0].length):-1}function Ae(ge,Ve,qe){return k(ge,e,Ve,qe)}function ye(ge,Ve,qe){return k(ge,n,Ve,qe)}function Z(ge,Ve,qe){return k(ge,r,Ve,qe)}function de(ge){return s[ge.getDay()]}function ve(ge){return o[ge.getDay()]}function Le(ge){return f[ge.getMonth()]}function j(ge){return u[ge.getMonth()]}function ue(ge){return i[+(ge.getHours()>=12)]}function ae(ge){return 1+~~(ge.getMonth()/3)}function he(ge){return s[ge.getUTCDay()]}function we(ge){return o[ge.getUTCDay()]}function Ie(ge){return f[ge.getUTCMonth()]}function Oe(ge){return u[ge.getUTCMonth()]}function Ht(ge){return i[+(ge.getUTCHours()>=12)]}function ft(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var Ve=G(ge+="",I);return Ve.toString=function(){return ge},Ve},parse:function(ge){var Ve=O(ge+="",!1);return Ve.toString=function(){return ge},Ve},utcFormat:function(ge){var Ve=G(ge+="",$);return Ve.toString=function(){return ge},Ve},utcParse:function(ge){var Ve=O(ge+="",!0);return Ve.toString=function(){return ge},Ve}}}var SM={"-":"",_:" ",0:"0"},wn=/^\s*\d+/,nQ=/^%/,rQ=/[\\^$*+?|[\]().{}]/g;function tt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function iQ(t){return t.replace(rQ,"\\$&")}function Vf(t){return new RegExp("^(?:"+t.map(iQ).join("|")+")","i")}function Uf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function oQ(t,e,n){var r=wn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function aQ(t,e,n){var r=wn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function sQ(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function lQ(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function uQ(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function AM(t,e,n){var r=wn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function wM(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function cQ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fQ(t,e,n){var r=wn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function dQ(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function bM(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function hQ(t,e,n){var r=wn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function CM(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function pQ(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function mQ(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function gQ(t,e,n){var r=wn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function yQ(t,e,n){var r=wn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function vQ(t,e,n){var r=nQ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function _Q(t,e,n){var r=wn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function TQ(t,e,n){var r=wn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function xM(t,e){return tt(t.getDate(),e,2)}function EQ(t,e){return tt(t.getHours(),e,2)}function SQ(t,e){return tt(t.getHours()%12||12,e,2)}function AQ(t,e){return tt(1+Jd.count(Uo(t),t),e,3)}function XV(t,e){return tt(t.getMilliseconds(),e,3)}function wQ(t,e){return XV(t,e)+"000"}function bQ(t,e){return tt(t.getMonth()+1,e,2)}function CQ(t,e){return tt(t.getMinutes(),e,2)}function xQ(t,e){return tt(t.getSeconds(),e,2)}function IQ(t){var e=t.getDay();return e===0?7:e}function RQ(t,e){return tt(ay.count(Uo(t)-1,t),e,2)}function ZV(t){var e=t.getDay();return e>=4||e===0?Hu(t):Hu.ceil(t)}function PQ(t,e){return t=ZV(t),tt(Hu.count(Uo(t),t)+(Uo(t).getDay()===4),e,2)}function MQ(t){return t.getDay()}function DQ(t,e){return tt(og.count(Uo(t)-1,t),e,2)}function NQ(t,e){return tt(t.getFullYear()%100,e,2)}function OQ(t,e){return t=ZV(t),tt(t.getFullYear()%100,e,2)}function kQ(t,e){return tt(t.getFullYear()%1e4,e,4)}function LQ(t,e){var n=t.getDay();return t=n>=4||n===0?Hu(t):Hu.ceil(t),tt(t.getFullYear()%1e4,e,4)}function VQ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+tt(e/60|0,"0",2)+tt(e%60,"0",2)}function IM(t,e){return tt(t.getUTCDate(),e,2)}function UQ(t,e){return tt(t.getUTCHours(),e,2)}function BQ(t,e){return tt(t.getUTCHours()%12||12,e,2)}function qQ(t,e){return tt(1+oy.count(Bo(t),t),e,3)}function eU(t,e){return tt(t.getUTCMilliseconds(),e,3)}function FQ(t,e){return eU(t,e)+"000"}function $Q(t,e){return tt(t.getUTCMonth()+1,e,2)}function HQ(t,e){return tt(t.getUTCMinutes(),e,2)}function zQ(t,e){return tt(t.getUTCSeconds(),e,2)}function GQ(t){var e=t.getUTCDay();return e===0?7:e}function KQ(t,e){return tt(sy.count(Bo(t)-1,t),e,2)}function tU(t){var e=t.getUTCDay();return e>=4||e===0?zu(t):zu.ceil(t)}function jQ(t,e){return t=tU(t),tt(zu.count(Bo(t),t)+(Bo(t).getUTCDay()===4),e,2)}function YQ(t){return t.getUTCDay()}function WQ(t,e){return tt(ag.count(Bo(t)-1,t),e,2)}function JQ(t,e){return tt(t.getUTCFullYear()%100,e,2)}function QQ(t,e){return t=tU(t),tt(t.getUTCFullYear()%100,e,2)}function XQ(t,e){return tt(t.getUTCFullYear()%1e4,e,4)}function ZQ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?zu(t):zu.ceil(t),tt(t.getUTCFullYear()%1e4,e,4)}function eX(){return"+0000"}function RM(){return"%"}function PM(t){return+t}function MM(t){return Math.floor(+t/1e3)}var hu,nU,rU;tX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tX(t){return hu=tQ(t),nU=hu.format,hu.parse,rU=hu.utcFormat,hu.utcParse,hu}function nX(t){return new Date(t)}function rX(t){return t instanceof Date?+t:+new Date(+t)}function ow(t,e,n,r,i,o,s,u,f,c){var h=GA(),y=h.invert,_=h.domain,S=c(".%L"),A=c(":%S"),w=c("%I:%M"),C=c("%I %p"),R=c("%a %d"),D=c("%b %d"),I=c("%B"),$=c("%Y");function U(G){return(f(G)<G?S:u(G)<G?A:s(G)<G?w:o(G)<G?C:r(G)<G?i(G)<G?R:D:n(G)<G?I:$)(G)}return h.invert=function(G){return new Date(y(G))},h.domain=function(G){return arguments.length?_(Array.from(G,rX)):_().map(nX)},h.ticks=function(G){var O=_();return t(O[0],O[O.length-1],G??10)},h.tickFormat=function(G,O){return O==null?U:c(O)},h.nice=function(G){var O=_();return(!G||typeof G.range!="function")&&(G=e(O[0],O[O.length-1],G??10)),G?_(HV(O,G)):h},h.copy=function(){return Wd(h,ow(t,e,n,r,i,o,s,u,f,c))},h}function iX(){return Zr.apply(ow(ZJ,eQ,Uo,rw,ay,Jd,tw,ZA,zs,nU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function oX(){return Zr.apply(ow(QJ,XJ,Bo,iw,sy,oy,nw,ew,zs,rU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ly(){var t=0,e=1,n,r,i,o,s=Jn,u=!1,f;function c(y){return y==null||isNaN(y=+y)?f:s(i===0?.5:(y=(o(y)-n)*i,u?Math.max(0,Math.min(1,y)):y))}c.domain=function(y){return arguments.length?([t,e]=y,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(y){return arguments.length?(u=!!y,c):u},c.interpolator=function(y){return arguments.length?(s=y,c):s};function h(y){return function(_){var S,A;return arguments.length?([S,A]=_,s=y(S,A),c):[s(0),s(1)]}}return c.range=h(lc),c.rangeRound=h(zA),c.unknown=function(y){return arguments.length?(f=y,c):f},function(y){return o=y,n=y(t),r=y(e),i=n===r?0:1/(r-n),c}}function Xa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function iU(){var t=Qa(ly()(Jn));return t.copy=function(){return Xa(t,iU())},zo.apply(t,arguments)}function oU(){var t=YA(ly()).domain([1,10]);return t.copy=function(){return Xa(t,oU()).base(t.base())},zo.apply(t,arguments)}function aU(){var t=WA(ly());return t.copy=function(){return Xa(t,aU()).constant(t.constant())},zo.apply(t,arguments)}function aw(){var t=JA(ly());return t.copy=function(){return Xa(t,aw()).exponent(t.exponent())},zo.apply(t,arguments)}function aX(){return aw.apply(null,arguments).exponent(.5)}function sU(){var t=[],e=Jn;function n(r){if(r!=null&&!isNaN(r=+r))return e((jd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(qa),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>GW(t,o/r))},n.copy=function(){return sU(e).domain(t)},zo.apply(n,arguments)}function uy(){var t=0,e=.5,n=1,r=1,i,o,s,u,f,c=Jn,h,y=!1,_;function S(w){return isNaN(w=+w)?_:(w=.5+((w=+h(w))-o)*(r*w<r*o?u:f),c(y?Math.max(0,Math.min(1,w)):w))}S.domain=function(w){return arguments.length?([t,e,n]=w,i=h(t=+t),o=h(e=+e),s=h(n=+n),u=i===o?0:.5/(o-i),f=o===s?0:.5/(s-o),r=o<i?-1:1,S):[t,e,n]},S.clamp=function(w){return arguments.length?(y=!!w,S):y},S.interpolator=function(w){return arguments.length?(c=w,S):c};function A(w){return function(C){var R,D,I;return arguments.length?([R,D,I]=C,c=vJ(w,[R,D,I]),S):[c(0),c(.5),c(1)]}}return S.range=A(lc),S.rangeRound=A(zA),S.unknown=function(w){return arguments.length?(_=w,S):_},function(w){return h=w,i=w(t),o=w(e),s=w(n),u=i===o?0:.5/(o-i),f=o===s?0:.5/(s-o),r=o<i?-1:1,S}}function lU(){var t=Qa(uy()(Jn));return t.copy=function(){return Xa(t,lU())},zo.apply(t,arguments)}function uU(){var t=YA(uy()).domain([.1,1,10]);return t.copy=function(){return Xa(t,uU()).base(t.base())},zo.apply(t,arguments)}function cU(){var t=WA(uy());return t.copy=function(){return Xa(t,cU()).constant(t.constant())},zo.apply(t,arguments)}function sw(){var t=JA(uy());return t.copy=function(){return Xa(t,sw()).exponent(t.exponent())},zo.apply(t,arguments)}function sX(){return sw.apply(null,arguments).exponent(.5)}const Yf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:FA,scaleDiverging:lU,scaleDivergingLog:uU,scaleDivergingPow:sw,scaleDivergingSqrt:sX,scaleDivergingSymlog:cU,scaleIdentity:$V,scaleImplicit:OE,scaleLinear:FV,scaleLog:zV,scaleOrdinal:qA,scalePoint:YW,scalePow:QA,scaleQuantile:jV,scaleQuantize:YV,scaleRadial:KV,scaleSequential:iU,scaleSequentialLog:oU,scaleSequentialPow:aw,scaleSequentialQuantile:sU,scaleSequentialSqrt:aX,scaleSequentialSymlog:aU,scaleSqrt:FJ,scaleSymlog:GV,scaleThreshold:WV,scaleTime:iX,scaleUtc:oX,tickFormat:qV},Symbol.toStringTag,{value:"Module"}));var Za=t=>t.chartData,lX=re([Za],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),lw=(t,e,n,r)=>r?lX(t):Za(t);function Gu(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Ir(e)&&Ir(n))return!0}return!1}function DM(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function uX(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(Ir(n))i=n;else if(typeof n=="function")return;if(Ir(r))o=r;else if(typeof r=="function")return;var s=[i,o];if(Gu(s))return s}}function cX(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Gu(r))return DM(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,s,u;if(i==="auto")e!=null&&(s=Math.min(...e));else if(Ce(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&EP.test(i)){var f=EP.exec(i);if(f==null||e==null)s=void 0;else{var c=+f[1];s=e[0]-c}}else s=e==null?void 0:e[0];if(o==="auto")e!=null&&(u=Math.max(...e));else if(Ce(o))u=o;else if(typeof o=="function")try{e!=null&&(u=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&SP.test(o)){var h=SP.exec(o);if(h==null||e==null)u=void 0;else{var y=+h[1];u=e[1]+y}}else u=e==null?void 0:e[1];var _=[s,u];if(Gu(_))return e==null?_:DM(_,e,n)}}}var uc=1e9,fX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},cw,It=!0,Xr="[DecimalError] ",Js=Xr+"Invalid argument: ",uw=Xr+"Exponent out of range: ",cc=Math.floor,Us=Math.pow,dX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Sr,Tn=1e7,At=7,fU=9007199254740991,sg=cc(fU/At),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*At;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Te.dividedBy=Te.div=function(t){return Ro(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,n=e.constructor;return vt(Ro(e,new n(t),0,1),n.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return Xt(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Sr))throw Error(Xr+"NaN");if(n.s<1)throw Error(Xr+(n.s?"NaN":"-Infinity"));return n.eq(Sr)?new r(0):(It=!1,e=Ro(bd(n,o),bd(t,o),o),It=!0,vt(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?pU(e,t):dU(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Xr+"NaN");return n.s?(It=!1,e=Ro(n,t,0,1).times(t),It=!0,n.minus(e)):vt(new r(n),i)};Te.naturalExponential=Te.exp=function(){return hU(this)};Te.naturalLogarithm=Te.ln=function(){return bd(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?dU(e,t):pU(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Js+t);if(e=Xt(i)+1,r=i.d.length-1,n=r*At+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Te.squareRoot=Te.sqrt=function(){var t,e,n,r,i,o,s,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(Xr+"NaN")}for(t=Xt(u),It=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=ki(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=cc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=s=n+3;;)if(o=r,r=o.plus(Ro(u,o,s+2)).times(.5),ki(o.d).slice(0,s)===(e=ki(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(vt(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(e!="9999")break;s+=4}return It=!0,vt(r,n)};Te.times=Te.mul=function(t){var e,n,r,i,o,s,u,f,c,h=this,y=h.constructor,_=h.d,S=(t=new y(t)).d;if(!h.s||!t.s)return new y(0);for(t.s*=h.s,n=h.e+t.e,f=_.length,c=S.length,f<c&&(o=_,_=S,S=o,s=f,f=c,c=s),o=[],s=f+c,r=s;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=f+r;i>r;)u=o[i]+S[r]*_[i-r-1]+e,o[i--]=u%Tn|0,e=u/Tn|0;o[i]=(o[i]+e)%Tn|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,It?vt(t,y.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Gi(t,0,uc),e===void 0?e=r.rounding:Gi(e,0,8),vt(n,t+Xt(n)+1,e))};Te.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=al(r,!0):(Gi(t,0,uc),e===void 0?e=i.rounding:Gi(e,0,8),r=vt(new i(r),t+1,e),n=al(r,!0,t+1)),n};Te.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?al(i):(Gi(t,0,uc),e===void 0?e=o.rounding:Gi(e,0,8),r=vt(new o(i),t+Xt(i)+1,e),n=al(r.abs(),!1,t+Xt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return vt(new e(t),Xt(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,n,r,i,o,s,u=this,f=u.constructor,c=12,h=+(t=new f(t));if(!t.s)return new f(Sr);if(u=new f(u),!u.s){if(t.s<1)throw Error(Xr+"Infinity");return u}if(u.eq(Sr))return u;if(r=f.precision,t.eq(Sr))return vt(u,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=u.s,s){if((n=h<0?-h:h)<=fU){for(i=new f(Sr),e=Math.ceil(r/At+4),It=!1;n%2&&(i=i.times(u),OM(i.d,e)),n=cc(n/2),n!==0;)u=u.times(u),OM(u.d,e);return It=!0,t.s<0?new f(Sr).div(i):vt(i,r)}}else if(o<0)throw Error(Xr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,It=!1,i=t.times(bd(u,r+c)),It=!0,i=hU(i),i.s=o,i};Te.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Xt(i),r=al(i,n<=o.toExpNeg||n>=o.toExpPos)):(Gi(t,1,uc),e===void 0?e=o.rounding:Gi(e,0,8),i=vt(new o(i),t,e),n=Xt(i),r=al(i,t<=n||n<=o.toExpNeg,t)),r};Te.toSignificantDigits=Te.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Gi(t,1,uc),e===void 0?e=r.rounding:Gi(e,0,8)),vt(new r(n),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Xt(t),n=t.constructor;return al(t,e<=n.toExpNeg||e>=n.toExpPos)};function dU(t,e){var n,r,i,o,s,u,f,c,h=t.constructor,y=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),It?vt(e,y):e;if(f=t.d,c=e.d,s=t.e,i=e.e,f=f.slice(),o=s-i,o){for(o<0?(r=f,o=-o,u=c.length):(r=c,i=s,u=f.length),s=Math.ceil(y/At),u=s>u?s+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=f.length,o=c.length,u-o<0&&(o=u,r=c,c=f,f=r),n=0;o;)n=(f[--o]=f[o]+c[o]+n)/Tn|0,f[o]%=Tn;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,It?vt(e,y):e}function Gi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Js+t)}function ki(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=At-r.length,n&&(o+=ba(n)),o+=r;s=t[e],r=s+"",n=At-r.length,n&&(o+=ba(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Ro=(function(){function t(r,i){var o,s=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+s,r[u]=o%Tn|0,s=o/Tn|0;return s&&r.unshift(s),r}function e(r,i,o,s){var u,f;if(o!=s)f=o>s?1:-1;else for(u=f=0;u<o;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Tn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var u,f,c,h,y,_,S,A,w,C,R,D,I,$,U,G,O,k,N=r.constructor,q=r.s==i.s?1:-1,B=r.d,F=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(Xr+"Division by zero");for(f=r.e-i.e,O=F.length,U=B.length,S=new N(q),A=S.d=[],c=0;F[c]==(B[c]||0);)++c;if(F[c]>(B[c]||0)&&--f,o==null?D=o=N.precision:s?D=o+(Xt(r)-Xt(i))+1:D=o,D<0)return new N(0);if(D=D/At+2|0,c=0,O==1)for(h=0,F=F[0],D++;(c<U||h)&&D--;c++)I=h*Tn+(B[c]||0),A[c]=I/F|0,h=I%F|0;else{for(h=Tn/(F[0]+1)|0,h>1&&(F=t(F,h),B=t(B,h),O=F.length,U=B.length),$=O,w=B.slice(0,O),C=w.length;C<O;)w[C++]=0;k=F.slice(),k.unshift(0),G=F[0],F[1]>=Tn/2&&++G;do h=0,u=e(F,w,O,C),u<0?(R=w[0],O!=C&&(R=R*Tn+(w[1]||0)),h=R/G|0,h>1?(h>=Tn&&(h=Tn-1),y=t(F,h),_=y.length,C=w.length,u=e(y,w,_,C),u==1&&(h--,n(y,O<_?k:F,_))):(h==0&&(u=h=1),y=F.slice()),_=y.length,_<C&&y.unshift(0),n(w,y,C),u==-1&&(C=w.length,u=e(F,w,O,C),u<1&&(h++,n(w,O<C?k:F,C))),C=w.length):u===0&&(h++,w=[0]),A[c++]=h,u&&w[0]?w[C++]=B[$]||0:(w=[B[$]],C=1);while(($++<U||w[0]!==void 0)&&D--)}return A[0]||A.shift(),S.e=f,vt(S,s?o+Xt(S)+1:o)}})();function hU(t,e){var n,r,i,o,s,u,f=0,c=0,h=t.constructor,y=h.precision;if(Xt(t)>16)throw Error(uw+Xt(t));if(!t.s)return new h(Sr);for(It=!1,u=y,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(Us(2,c))/Math.LN10*2+5|0,u+=r,n=i=o=new h(Sr),h.precision=u;;){if(i=vt(i.times(t),u),n=n.times(++f),s=o.plus(Ro(i,n,u)),ki(s.d).slice(0,u)===ki(o.d).slice(0,u)){for(;c--;)o=vt(o.times(o),u);return h.precision=y,e==null?(It=!0,vt(o,y)):o}o=s}}function Xt(t){for(var e=t.e*At,n=t.d[0];n>=10;n/=10)e++;return e}function lT(t,e,n){if(e>t.LN10.sd())throw It=!0,n&&(t.precision=n),Error(Xr+"LN10 precision limit exceeded");return vt(new t(t.LN10),e)}function ba(t){for(var e="";t--;)e+="0";return e}function bd(t,e){var n,r,i,o,s,u,f,c,h,y=1,_=10,S=t,A=S.d,w=S.constructor,C=w.precision;if(S.s<1)throw Error(Xr+(S.s?"NaN":"-Infinity"));if(S.eq(Sr))return new w(0);if(e==null?(It=!1,c=C):c=e,S.eq(10))return e==null&&(It=!0),lT(w,c);if(c+=_,w.precision=c,n=ki(A),r=n.charAt(0),o=Xt(S),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)S=S.times(t),n=ki(S.d),r=n.charAt(0),y++;o=Xt(S),r>1?(S=new w("0."+n),o++):S=new w(r+"."+n.slice(1))}else return f=lT(w,c+2,C).times(o+""),S=bd(new w(r+"."+n.slice(1)),c-_).plus(f),w.precision=C,e==null?(It=!0,vt(S,C)):S;for(u=s=S=Ro(S.minus(Sr),S.plus(Sr),c),h=vt(S.times(S),c),i=3;;){if(s=vt(s.times(h),c),f=u.plus(Ro(s,new w(i),c)),ki(f.d).slice(0,c)===ki(u.d).slice(0,c))return u=u.times(2),o!==0&&(u=u.plus(lT(w,c+2,C).times(o+""))),u=Ro(u,new w(y),c),w.precision=C,e==null?(It=!0,vt(u,C)):u;u=f,i+=2}}function NM(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=cc(n/At),t.d=[],r=(n+1)%At,n<0&&(r+=At),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=At;r<i;)t.d.push(+e.slice(r,r+=At));e=e.slice(r),r=At-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),It&&(t.e>sg||t.e<-sg))throw Error(uw+n)}else t.s=0,t.e=0,t.d=[0];return t}function vt(t,e,n){var r,i,o,s,u,f,c,h,y=t.d;for(s=1,o=y[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=At,i=e,c=y[h=0];else{if(h=Math.ceil((r+1)/At),o=y.length,h>=o)return t;for(c=o=y[h],s=1;o>=10;o/=10)s++;r%=At,i=r-At+s}if(n!==void 0&&(o=Us(10,s-i-1),u=c/o%10|0,f=e<0||y[h+1]!==void 0||c%o,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?c/Us(10,s-i):0:y[h-1])%10&1||n==(t.s<0?8:7))),e<1||!y[0])return f?(o=Xt(t),y.length=1,e=e-o-1,y[0]=Us(10,(At-e%At)%At),t.e=cc(-e/At)||0):(y.length=1,y[0]=t.e=t.s=0),t;if(r==0?(y.length=h,o=1,h--):(y.length=h+1,o=Us(10,At-r),y[h]=i>0?(c/Us(10,s-i)%Us(10,i)|0)*o:0),f)for(;;)if(h==0){(y[0]+=o)==Tn&&(y[0]=1,++t.e);break}else{if(y[h]+=o,y[h]!=Tn)break;y[h--]=0,o=1}for(r=y.length;y[--r]===0;)y.pop();if(It&&(t.e>sg||t.e<-sg))throw Error(uw+Xt(t));return t}function pU(t,e){var n,r,i,o,s,u,f,c,h,y,_=t.constructor,S=_.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new _(t),It?vt(e,S):e;if(f=t.d,y=e.d,r=e.e,c=t.e,f=f.slice(),s=c-r,s){for(h=s<0,h?(n=f,s=-s,u=y.length):(n=y,r=c,u=f.length),i=Math.max(Math.ceil(S/At),u)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=y.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(f[i]!=y[i]){h=f[i]<y[i];break}s=0}for(h&&(n=f,f=y,y=n,e.s=-e.s),u=f.length,i=y.length-u;i>0;--i)f[u++]=0;for(i=y.length;i>s;){if(f[--i]<y[i]){for(o=i;o&&f[--o]===0;)f[o]=Tn-1;--f[o],f[i]+=Tn}f[i]-=y[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,It?vt(e,S):e):new _(0)}function al(t,e,n){var r,i=Xt(t),o=ki(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+ba(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ba(-i-1)+o,n&&(r=n-s)>0&&(o+=ba(r))):i>=s?(o+=ba(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+ba(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=ba(r))),t.s<0?"-"+o:o}function OM(t,e){if(t.length>e)return t.length=e,!0}function mU(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Js+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return NM(s,o.toString())}else if(typeof o!="string")throw Error(Js+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,dX.test(o))NM(s,o);else throw Error(Js+o)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=mU,i.config=i.set=hX,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function hX(t){if(!t||typeof t!="object")throw Error(Xr+"Object expected");var e,n,r,i=["precision",1,uc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(cc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Js+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Js+n+": "+r);return this}var cw=mU(fX);Sr=new cw(1);const ut=cw;var pX=t=>t,gU={},yU=t=>t===gU,kM=t=>function e(){return arguments.length===0||arguments.length===1&&yU(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},vU=(t,e)=>t===1?e:kM(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(s=>s!==gU).length;return o>=t?e(...r):vU(t-o,kM(function(){for(var s=arguments.length,u=new Array(s),f=0;f<s;f++)u[f]=arguments[f];var c=r.map(h=>yU(h)?u.shift():h);return e(...c,...u)}))}),cy=t=>vU(t.length,t),UE=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},mX=cy((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),gX=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return pX;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce((u,f)=>f(u),o(...arguments))}},BE=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),_U=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e&&i.every((s,u)=>{var f;return s===((f=e)===null||f===void 0?void 0:f[u])})||(e=i,n=t(...i)),n}};function TU(t){var e;return t===0?e=1:e=Math.floor(new ut(t).abs().log(10).toNumber())+1,e}function EU(t,e,n){for(var r=new ut(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}cy((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});cy((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});cy((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var SU=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},AU=(t,e,n)=>{if(t.lte(0))return new ut(0);var r=TU(t.toNumber()),i=new ut(10).pow(r),o=t.div(i),s=r!==1?.05:.1,u=new ut(Math.ceil(o.div(s).toNumber())).add(n).mul(s),f=u.mul(i);return e?new ut(f.toNumber()):new ut(Math.ceil(f.toNumber()))},yX=(t,e,n)=>{var r=new ut(1),i=new ut(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new ut(10).pow(TU(t)-1),i=new ut(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new ut(Math.floor(t)))}else t===0?i=new ut(Math.floor((e-1)/2)):n||(i=new ut(Math.floor(t)));var s=Math.floor((e-1)/2),u=gX(mX(f=>i.add(new ut(f-s).mul(r)).toNumber()),UE);return u(0,e)},wU=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new ut(0),tickMin:new ut(0),tickMax:new ut(0)};var s=AU(new ut(n).sub(e).div(r-1),i,o),u;e<=0&&n>=0?u=new ut(0):(u=new ut(e).add(n).div(2),u=u.sub(new ut(u).mod(s)));var f=Math.ceil(u.sub(e).div(s).toNumber()),c=Math.ceil(new ut(n).sub(u).div(s).toNumber()),h=f+c+1;return h>r?wU(e,n,r,i,o+1):(h<r&&(c=n>0?c+(r-h):c,f=n>0?f:f+(r-h)),{step:s,tickMin:u.sub(new ut(f).mul(s)),tickMax:u.add(new ut(c).mul(s))})};function vX(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[s,u]=SU([e,n]);if(s===-1/0||u===1/0){var f=u===1/0?[s,...UE(0,r-1).map(()=>1/0)]:[...UE(0,r-1).map(()=>-1/0),u];return e>n?BE(f):f}if(s===u)return yX(s,r,i);var{step:c,tickMin:h,tickMax:y}=wU(s,u,o,i,0),_=EU(h,y.add(new ut(.1).mul(c)),c);return e>n?BE(_):_}function _X(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=SU([n,r]);if(o===-1/0||s===1/0)return[n,r];if(o===s)return[o];var u=Math.max(e,2),f=AU(new ut(s).sub(o).div(u-1),i,0),c=[...EU(new ut(o),new ut(s),f),s];return i===!1&&(c=c.map(h=>Math.round(h))),n>r?BE(c):c}var TX=_U(vX),EX=_U(_X),bU=t=>t.rootProps.maxBarSize,SX=t=>t.rootProps.barGap,CU=t=>t.rootProps.barCategoryGap,AX=t=>t.rootProps.barSize,fy=t=>t.rootProps.stackOffset,fw=t=>t.options.chartName,dw=t=>t.rootProps.syncId,xU=t=>t.rootProps.syncMethod,hw=t=>t.options.eventEmitter,To={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Tr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},dy=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},wX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:To.angleAxisId,includeHidden:!1,name:void 0,reversed:To.reversed,scale:To.scale,tick:To.tick,tickCount:void 0,ticks:void 0,type:To.type,unit:void 0},bX={allowDataOverflow:Tr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Tr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Tr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Tr.scale,tick:Tr.tick,tickCount:Tr.tickCount,ticks:void 0,type:Tr.type,unit:void 0},CX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:To.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:To.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:To.scale,tick:To.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},xX={allowDataOverflow:Tr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Tr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Tr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Tr.scale,tick:Tr.tick,tickCount:Tr.tickCount,ticks:void 0,type:"category",unit:void 0},pw=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?CX:wX,mw=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?xX:bX,hy=t=>t.polarOptions,gw=re([$o,Ho,An],Ij),IU=re([hy,gw],(t,e)=>{if(t!=null)return di(t.innerRadius,e,0)}),RU=re([hy,gw],(t,e)=>{if(t!=null)return di(t.outerRadius,e,e*.8)}),IX=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},PU=re([hy],IX);re([pw,PU],dy);var MU=re([gw,IU,RU],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});re([mw,MU],dy);var DU=re([ct,hy,IU,RU,$o,Ho],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:u,startAngle:f,endAngle:c}=e;return{cx:di(s,i,i/2),cy:di(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:c,clockWise:!1}}}),Zt=(t,e)=>e,py=(t,e,n)=>n;function yw(t){return t==null?void 0:t.id}var fn=t=>{var e=ct(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},fc=t=>t.tooltip.settings.axisId,dn=t=>{var e=fn(t),n=fc(t);return Qd(t,e,n)};function NU(t,e,n){var{chartData:r=[]}=e,i=n==null?void 0:n.dataKey,o=new Map;return t.forEach(s=>{var u,f=(u=s.data)!==null&&u!==void 0?u:r;if(!(f==null||f.length===0)){var c=yw(s);f.forEach((h,y)=>{var _=i==null?y:String(Qn(h,i,null)),S=Qn(h,s.dataKey,0),A;o.has(_)?A=o.get(_):A={},Object.assign(A,{[c]:S}),o.set(_,A)})}}),Array.from(o.values())}function my(t){return t.stackId!=null&&t.dataKey!=null}function LM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(n),!0).forEach(function(r){RX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RX(t,e,n){return(e=PX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PX(t){var e=MX(t,"string");return typeof e=="symbol"?e:e+""}function MX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qE=[0,"auto"],vr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Go=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??vr},_r={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:qE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ty},es=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??_r},DX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},vw=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??DX},sr=(t,e,n)=>{switch(e){case"xAxis":return Go(t,n);case"yAxis":return es(t,n);case"zAxis":return vw(t,n);case"angleAxis":return pw(t,n);case"radiusAxis":return mw(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},NX=(t,e,n)=>{switch(e){case"xAxis":return Go(t,n);case"yAxis":return es(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Qd=(t,e,n)=>{switch(e){case"xAxis":return Go(t,n);case"yAxis":return es(t,n);case"angleAxis":return pw(t,n);case"radiusAxis":return mw(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},OU=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function kU(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var _w=t=>t.graphicalItems.cartesianItems,OX=re([Zt,py],kU),LU=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Xd=re([_w,sr,OX],LU),VU=re([Xd],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(my)),UU=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),BU=re([Xd],UU),qU=t=>t.map(e=>e.data).filter(Boolean).flat(1),kX=re([Xd],qU),FU=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},Tw=re([kX,lw],FU),$U=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Qn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Qn(i,r)}))):t.map(r=>({value:r})),gy=re([Tw,sr,Xd],$U);function HU(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function gl(t){return t.filter(e=>zi(e)||e instanceof Date).map(Number).filter(e=>Jr(e)===!1)}function LX(t,e,n){return!n||typeof e!="number"||Jr(e)?[]:n.length?gl(n.flatMap(r=>{var i=Qn(t,r.dataKey),o,s;if(Array.isArray(i)?[o,s]=i:o=s=i,!(!Ir(o)||!Ir(s)))return[e-o,e+s]})):[]}var VX=re([VU,lw,dn],NU),zU=(t,e,n)=>{var r={},i=e.reduce((o,s)=>(s.stackId==null||(o[s.stackId]==null&&(o[s.stackId]=[]),o[s.stackId].push(s)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[s,u]=o,f=u.map(yw);return[s,{stackedData:zj(t,f,n),graphicalItems:u}]}))},FE=re([VX,VU,fy],zU),GU=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var o=Wj(t,r,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},UX=re([FE,Za,Zt],GU),KU=(t,e,n,r,i)=>n.length>0?t.flatMap(o=>n.flatMap(s=>{var u,f,c=(u=r[s.id])===null||u===void 0?void 0:u.filter(y=>HU(i,y)),h=Qn(o,(f=e.dataKey)!==null&&f!==void 0?f:s.dataKey);return{value:h,errorDomain:LX(o,h,c)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(o=>({value:Qn(o,e.dataKey),errorDomain:[]})):t.map(o=>({value:o,errorDomain:[]})),yy=t=>t.errorBars,jU=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>HU(n,r));re([BU,yy,Zt],jU);var BX=re([Tw,sr,BU,yy,Zt],KU);function qX(t){var{value:e}=t;if(zi(e)||e instanceof Date)return e}var VM=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=gl(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},FX=(t,e,n)=>{var r=t.map(qX).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&dL(r))?PV(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},Ew=t=>{var e;if(t==null||!("domain"in t))return qE;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=gl(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:qE},ug=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),s=Math.min(...o),u=Math.max(...o);return[s,u]}},YU=t=>t.referenceElements.dots,dc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),$X=re([YU,Zt,py],dc),WU=t=>t.referenceElements.areas,HX=re([WU,Zt,py],dc),JU=t=>t.referenceElements.lines,zX=re([JU,Zt,py],dc),QU=(t,e)=>{var n=gl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},GX=re($X,Zt,QU),XU=(t,e)=>{var n=gl(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},KX=re([HX,Zt],XU),ZU=(t,e)=>{var n=gl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},jX=re(zX,Zt,ZU),YX=re(GX,jX,KX,(t,e,n)=>ug(t,n,e)),WX=re([sr],Ew),e4=(t,e,n,r,i,o,s)=>{var u=uX(e,t.allowDataOverflow);if(u!=null)return u;var f=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",c=f?ug(n,i,VM(r)):ug(i,VM(r));return cX(e,c,t.allowDataOverflow)},JX=re([sr,WX,UX,BX,YX,ct,Zt],e4),QX=[0,1],t4=(t,e,n,r,i,o,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:u,type:f}=t,c=dl(e,o);return c&&u==null?PV(0,n.length):f==="category"?FX(r,t,c):i==="expand"?QX:s}},Sw=re([sr,ct,Tw,gy,fy,Zt,JX],t4),n4=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:s}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(Hd(o));return u in Yf?u:"point"}}},Zd=re([sr,ct,OU,fw,Zt],n4);function XX(t){if(t!=null){if(t in Yf)return Yf[t]();var e="scale".concat(Hd(t));if(e in Yf)return Yf[e]()}}function Aw(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=XX(e);if(i!=null){var o=i.domain(n).range(r);return Bj(o),o}}}var r4=(t,e,n)=>{var r=Ew(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Gu(t))return TX(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Gu(t))return EX(t,e.tickCount,e.allowDecimals)}},ww=re([Sw,Qd,Zd],r4),i4=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Gu(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],s=e[1],u=n[n.length-1];return[Math.min(i,o),Math.max(s,u)]}return e},ZX=re([sr,Sw,ww,Zt],i4),eZ=re(gy,sr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(gl(t.map(u=>u.value))).sort((u,f)=>u-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var s=r[o+1]-r[o];n=Math.min(n,s)}return n/i}}),o4=re(eZ,ct,CU,An,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Ir(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var s=di(n,t*o),u=t*o/2;return u-s-(u-s)/o*s}return 0}),tZ=(t,e)=>{var n=Go(t,e);return n==null||typeof n.padding!="string"?0:o4(t,"xAxis",e,n.padding)},nZ=(t,e)=>{var n=es(t,e);return n==null||typeof n.padding!="string"?0:o4(t,"yAxis",e,n.padding)},rZ=re(Go,tZ,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),iZ=re(es,nZ,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),oZ=re([An,rZ,ry,ny,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),aZ=re([An,ct,iZ,ry,ny,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:s}=i;return o?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),eh=(t,e,n,r)=>{var i;switch(e){case"xAxis":return oZ(t,n,r);case"yAxis":return aZ(t,n,r);case"zAxis":return(i=vw(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return PU(t);case"radiusAxis":return MU(t,n);default:return}},a4=re([sr,eh],dy),hc=re([sr,Zd,ZX,a4],Aw);re([Xd,yy,Zt],jU);function s4(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var vy=(t,e)=>e,_y=(t,e,n)=>n,sZ=re(OA,vy,_y,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(s4)),lZ=re(kA,vy,_y,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(s4)),l4=(t,e)=>({width:t.width,height:e.height}),uZ=(t,e)=>{var n=typeof e.width=="number"?e.width:ty;return{width:n,height:t.height}},u4=re(An,Go,l4),cZ=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},fZ=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},dZ=re(Ho,An,sZ,vy,_y,(t,e,n,r,i)=>{var o={},s;return n.forEach(u=>{var f=l4(e,u);s==null&&(s=cZ(e,r,t));var c=r==="top"&&!i||r==="bottom"&&i;o[u.id]=s-Number(c)*f.height,s+=(c?-1:1)*f.height}),o}),hZ=re($o,An,lZ,vy,_y,(t,e,n,r,i)=>{var o={},s;return n.forEach(u=>{var f=uZ(e,u);s==null&&(s=fZ(e,r,t));var c=r==="left"&&!i||r==="right"&&i;o[u.id]=s-Number(c)*f.width,s+=(c?-1:1)*f.width}),o}),pZ=(t,e)=>{var n=An(t),r=Go(t,e);if(r!=null){var i=dZ(t,r.orientation,r.mirror),o=i[e];return o==null?{x:n.left,y:0}:{x:n.left,y:o}}},mZ=(t,e)=>{var n=An(t),r=es(t,e);if(r!=null){var i=hZ(t,r.orientation,r.mirror),o=i[e];return o==null?{x:0,y:n.top}:{x:o,y:n.top}}},c4=re(An,es,(t,e)=>{var n=typeof e.width=="number"?e.width:ty;return{width:n,height:t.height}}),UM=(t,e,n)=>{switch(e){case"xAxis":return u4(t,n).width;case"yAxis":return c4(t,n).height;default:return}},f4=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:s}=n,u=dl(t,r),f=e.map(c=>c.value);if(s&&u&&o==="category"&&i&&dL(f))return f}},bw=re([ct,gy,sr,Zt],f4),d4=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,s=dl(t,r);if(s&&(i==="number"||o!=="auto"))return e.map(u=>u.value)}},Cw=re([ct,gy,Qd,Zt],d4);re([ct,NX,Zd,hc,bw,Cw,eh,ww,Zt],(t,e,n,r,i,o,s,u,f)=>{if(e==null)return null;var c=dl(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:o,duplicateDomain:i,isCategorical:c,niceTicks:u,range:s,realScaleType:n,scale:r}});var gZ=(t,e,n,r,i,o,s,u,f)=>{if(!(e==null||r==null)){var c=dl(t,f),{type:h,ticks:y,tickCount:_}=e,S=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,A=h==="category"&&r.bandwidth?r.bandwidth()/S:0;A=f==="angleAxis"&&o!=null&&o.length>=2?wr(o[0]-o[1])*2*A:A;var w=y||i;if(w){var C=w.map((R,D)=>{var I=s?s.indexOf(R):R;return{index:D,coordinate:r(I)+A,value:R,offset:A}});return C.filter(R=>!Jr(R.coordinate))}return c&&u?u.map((R,D)=>({coordinate:r(R)+A,value:R,index:D,offset:A})):r.ticks?r.ticks(_).map(R=>({coordinate:r(R)+A,value:R,offset:A})):r.domain().map((R,D)=>({coordinate:r(R)+A,value:s?s[R]:R,index:D,offset:A}))}},h4=re([ct,Qd,Zd,hc,ww,eh,bw,Cw,Zt],gZ),yZ=(t,e,n,r,i,o,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=dl(t,s),{tickCount:f}=e,c=0;return c=s==="angleAxis"&&(r==null?void 0:r.length)>=2?wr(r[0]-r[1])*2*c:c,u&&o?o.map((h,y)=>({coordinate:n(h)+c,value:h,index:y,offset:c})):n.ticks?n.ticks(f).map(h=>({coordinate:n(h)+c,value:h,offset:c})):n.domain().map((h,y)=>({coordinate:n(h)+c,value:i?i[h]:h,index:y,offset:c}))}},Ku=re([ct,Qd,hc,eh,bw,Cw,Zt],yZ),ju=re(sr,hc,(t,e)=>{if(!(t==null||e==null))return lg(lg({},t),{},{scale:e})}),vZ=re([sr,Zd,Sw,a4],Aw);re((t,e,n)=>vw(t,n),vZ,(t,e)=>{if(!(t==null||e==null))return lg(lg({},t),{},{scale:e})});var _Z=re([ct,OA,kA],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),p4=t=>t.options.defaultTooltipEventType,m4=t=>t.options.validateTooltipEventTypes;function g4(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function xw(t,e){var n=p4(t),r=m4(t);return g4(e,n,r)}function TZ(t){return Me(e=>xw(e,t))}var y4=(t,e)=>{var n,r=Number(e);if(!(Jr(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},EZ=t=>t.tooltip.settings,Pa={active:!1,index:null,dataKey:void 0,coordinate:void 0},SZ={itemInteraction:{click:Pa,hover:Pa},axisInteraction:{click:Pa,hover:Pa},keyboardInteraction:Pa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},v4=Rr({name:"tooltip",initialState:SZ,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Io(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:AZ,removeTooltipEntrySettings:wZ,setTooltipSettingsState:bZ,setActiveMouseOverItemIndex:_4,mouseLeaveItem:CZ,mouseLeaveChart:T4,setActiveClickItemIndex:xZ,setMouseOverAxisIndex:E4,setMouseClickAxisIndex:IZ,setSyncInteraction:$E,setKeyboardInteraction:HE}=v4.actions,RZ=v4.reducer;function BM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(n),!0).forEach(function(r){PZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PZ(t,e,n){return(e=MZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MZ(t){var e=DZ(t,"string");return typeof e=="symbol"?e:e+""}function DZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NZ(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function OZ(t){return t.index!=null}var S4=(t,e,n,r)=>{if(e==null)return Pa;var i=NZ(t,e,n);if(i==null)return Pa;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(OZ(i)){if(o)return jp(jp({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return jp(jp({},Pa),{},{coordinate:i.coordinate})},Iw=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!Ir(r))return n;var i=0,o=1/0;return e.length>0&&(o=e.length-1),String(Math.max(i,Math.min(r,o)))},A4=(t,e,n,r,i,o,s,u)=>{if(!(o==null||u==null)){var f=s[0],c=f==null?void 0:u(f.positions,o);if(c!=null)return c;var h=i==null?void 0:i[Number(o)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},w4=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.dataKey)===i})},th=t=>t.options.tooltipPayloadSearcher,pc=t=>t.tooltip;function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){kZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kZ(t,e,n){return(e=LZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LZ(t){var e=VZ(t,"string");return typeof e=="symbol"?e:e+""}function VZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UZ(t,e){return t??e}var b4=(t,e,n,r,i,o,s)=>{if(!(e==null||o==null)){var{chartData:u,computedData:f,dataStartIndex:c,dataEndIndex:h}=n,y=[];return t.reduce((_,S)=>{var A,{dataDefinedOnItem:w,settings:C}=S,R=UZ(w,u),D=Array.isArray(R)?pV(R,c,h):R,I=(A=C==null?void 0:C.dataKey)!==null&&A!==void 0?A:r==null?void 0:r.dataKey,$=C==null?void 0:C.nameKey,U;if(r!=null&&r.dataKey&&Array.isArray(D)&&!Array.isArray(D[0])&&s==="axis"?U=M8(D,r.dataKey,i):U=o(D,e,f,$),Array.isArray(U))U.forEach(O=>{var k=FM(FM({},C),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});_.push(AP({tooltipEntrySettings:k,dataKey:O.dataKey,payload:O.payload,value:Qn(O.payload,O.dataKey),name:O.name}))});else{var G;_.push(AP({tooltipEntrySettings:C,dataKey:I,payload:U,value:Qn(U,I),name:(G=Qn(U,$))!==null&&G!==void 0?G:C==null?void 0:C.name}))}return _},y)}},Rw=re([dn,ct,OU,fw,fn],n4),BZ=re([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),qZ=re([fn,fc],kU),nh=re([BZ,dn,qZ],LU),FZ=re([nh],t=>t.filter(my)),$Z=re([nh],qU),mc=re([$Z,Za],FU),HZ=re([FZ,Za,dn],NU),Pw=re([mc,dn,nh],$U),zZ=re([dn],Ew),GZ=re([nh],t=>t.filter(my)),KZ=re([HZ,GZ,fy],zU),jZ=re([KZ,Za,fn],GU),YZ=re([nh],UU),WZ=re([mc,dn,YZ,yy,fn],KU),JZ=re([YU,fn,fc],dc),QZ=re([JZ,fn],QU),XZ=re([WU,fn,fc],dc),ZZ=re([XZ,fn],XU),eee=re([JU,fn,fc],dc),tee=re([eee,fn],ZU),nee=re([QZ,tee,ZZ],ug),ree=re([dn,zZ,jZ,WZ,nee,ct,fn],e4),C4=re([dn,ct,mc,Pw,fy,fn,ree],t4),iee=re([C4,dn,Rw],r4),oee=re([dn,C4,iee,fn],i4),x4=t=>{var e=fn(t),n=fc(t),r=!1;return eh(t,e,n,r)},I4=re([dn,x4],dy),R4=re([dn,Rw,oee,I4],Aw),aee=re([ct,Pw,dn,fn],f4),see=re([ct,Pw,dn,fn],d4),lee=(t,e,n,r,i,o,s,u)=>{if(e){var{type:f}=e,c=dl(t,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,y=f==="category"&&r.bandwidth?r.bandwidth()/h:0;return y=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?wr(i[0]-i[1])*2*y:y,c&&s?s.map((_,S)=>({coordinate:r(_)+y,value:_,index:S,offset:y})):r.domain().map((_,S)=>({coordinate:r(_)+y,value:o?o[_]:_,index:S,offset:y}))}}},Ko=re([ct,dn,Rw,R4,x4,aee,see,fn],lee),Mw=re([p4,m4,EZ],(t,e,n)=>g4(n.shared,t,e)),P4=t=>t.tooltip.settings.trigger,Dw=t=>t.tooltip.settings.defaultIndex,Ty=re([pc,Mw,P4,Dw],S4),Yu=re([Ty,mc],Iw),M4=re([Ko,Yu],y4),D4=re([Ty],t=>{if(t)return t.dataKey}),N4=re([pc,Mw,P4,Dw],w4),uee=re([$o,Ho,ct,An,Ko,Dw,N4,th],A4),cee=re([Ty,uee],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),fee=re([Ty],t=>t.active),dee=re([N4,Yu,Za,dn,M4,th,Mw],b4);re([dee],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function $M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(n),!0).forEach(function(r){hee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hee(t,e,n){return(e=pee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pee(t){var e=mee(t,"string");return typeof e=="symbol"?e:e+""}function mee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gee=()=>Me(dn),yee=()=>{var t=gee(),e=Me(Ko),n=Me(R4);return NA(HM(HM({},t),{},{scale:n}),e)},vee=()=>Me(fw),Nw=(t,e)=>e,O4=(t,e,n)=>n,Ow=(t,e,n,r)=>r,_ee=re(Ko,t=>Wg(t,e=>e.coordinate)),kw=re([pc,Nw,O4,Ow],S4),k4=re([kw,mc],Iw),Tee=(t,e,n)=>{if(e!=null){var r=pc(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},L4=re([pc,Nw,O4,Ow],w4),cg=re([$o,Ho,ct,An,Ko,Ow,L4,th],A4),Eee=re([kw,cg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),V4=re(Ko,k4,y4),See=re([L4,k4,Za,dn,V4,th,Nw],b4),Aee=re([kw],t=>({isActive:t.active,activeIndex:t.index})),wee=(t,e,n,r,i,o,s,u)=>{if(!(!t||!e||!r||!i||!o)){var f=Jj(t.chartX,t.chartY,e,n,u);if(f){var c=Xj(f,e),h=Vj(c,s,o,r,i),y=Qj(e,o,h,f);return{activeIndex:String(h),activeCoordinate:y}}}};function zE(){return zE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zE.apply(null,arguments)}function zM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zM(Object(n),!0).forEach(function(r){bee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bee(t,e,n){return(e=Cee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cee(t){var e=xee(t,"string");return typeof e=="symbol"?e:e+""}function xee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iee(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:s,cursor:u,tooltipEventType:f,chartName:c}=t,h=e,y=n,_=r;if(!u||!h||c!=="ScatterChart"&&f!=="axis")return null;var S,A;if(c==="ScatterChart")S=h,A=HY;else if(c==="BarChart")S=zY(s,h,i,o),A=CV;else if(s==="radial"){var{cx:w,cy:C,radius:R,startAngle:D,endAngle:I}=xV(h);S={cx:w,cy:C,startAngle:D,endAngle:I,innerRadius:R,outerRadius:R},A=RV}else S={points:IW(s,h,i)},A=OY;var $=typeof u=="object"&&"className"in u?u.className:void 0,U=Yp(Yp(Yp(Yp({stroke:"#ccc",pointerEvents:"none"},i),S),En(u,!1)),{},{payload:y,payloadIndex:_,className:bt("recharts-tooltip-cursor",$)});return M.isValidElement(u)?M.cloneElement(u,U):M.createElement(A,U)}function Ree(t){var e=yee(),n=uY(),r=VA(),i=vee();return M.createElement(Iee,zE({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var U4=M.createContext(null),Pee=()=>M.useContext(U4),uT={exports:{}},GM;function Mee(){return GM||(GM=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,c,h){this.fn=f,this.context=c,this.once=h||!1}function o(f,c,h,y,_){if(typeof h!="function")throw new TypeError("The listener must be a function");var S=new i(h,y||f,_),A=n?n+c:c;return f._events[A]?f._events[A].fn?f._events[A]=[f._events[A],S]:f._events[A].push(S):(f._events[A]=S,f._eventsCount++),f}function s(f,c){--f._eventsCount===0?f._events=new r:delete f._events[c]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var c=[],h,y;if(this._eventsCount===0)return c;for(y in h=this._events)e.call(h,y)&&c.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},u.prototype.listeners=function(c){var h=n?n+c:c,y=this._events[h];if(!y)return[];if(y.fn)return[y.fn];for(var _=0,S=y.length,A=new Array(S);_<S;_++)A[_]=y[_].fn;return A},u.prototype.listenerCount=function(c){var h=n?n+c:c,y=this._events[h];return y?y.fn?1:y.length:0},u.prototype.emit=function(c,h,y,_,S,A){var w=n?n+c:c;if(!this._events[w])return!1;var C=this._events[w],R=arguments.length,D,I;if(C.fn){switch(C.once&&this.removeListener(c,C.fn,void 0,!0),R){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,h),!0;case 3:return C.fn.call(C.context,h,y),!0;case 4:return C.fn.call(C.context,h,y,_),!0;case 5:return C.fn.call(C.context,h,y,_,S),!0;case 6:return C.fn.call(C.context,h,y,_,S,A),!0}for(I=1,D=new Array(R-1);I<R;I++)D[I-1]=arguments[I];C.fn.apply(C.context,D)}else{var $=C.length,U;for(I=0;I<$;I++)switch(C[I].once&&this.removeListener(c,C[I].fn,void 0,!0),R){case 1:C[I].fn.call(C[I].context);break;case 2:C[I].fn.call(C[I].context,h);break;case 3:C[I].fn.call(C[I].context,h,y);break;case 4:C[I].fn.call(C[I].context,h,y,_);break;default:if(!D)for(U=1,D=new Array(R-1);U<R;U++)D[U-1]=arguments[U];C[I].fn.apply(C[I].context,D)}}return!0},u.prototype.on=function(c,h,y){return o(this,c,h,y,!1)},u.prototype.once=function(c,h,y){return o(this,c,h,y,!0)},u.prototype.removeListener=function(c,h,y,_){var S=n?n+c:c;if(!this._events[S])return this;if(!h)return s(this,S),this;var A=this._events[S];if(A.fn)A.fn===h&&(!_||A.once)&&(!y||A.context===y)&&s(this,S);else{for(var w=0,C=[],R=A.length;w<R;w++)(A[w].fn!==h||_&&!A[w].once||y&&A[w].context!==y)&&C.push(A[w]);C.length?this._events[S]=C.length===1?C[0]:C:s(this,S)}return this},u.prototype.removeAllListeners=function(c){var h;return c?(h=n?n+c:c,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(uT)),uT.exports}var Dee=Mee();const Nee=hi(Dee);var Cd=new Nee,GE="recharts.syncEvent.tooltip",KM="recharts.syncEvent.brush";function Oee(t,e){if(e){var n=Number.parseInt(e,10);if(!Jr(n))return t==null?void 0:t[n]}}var kee={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},B4=Rr({name:"options",initialState:kee,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Lee=B4.reducer,{createEventEmitter:Vee}=B4.actions;function Uee(t){return t.tooltip.syncInteraction}var Bee={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},q4=Rr({name:"chartData",initialState:Bee,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:jM,setDataStartEndIndexes:qee,setComputedData:Xme}=q4.actions,Fee=q4.reducer,F4=()=>{};function $ee(){var t=Me(dw),e=Me(hw),n=Sn(),r=Me(xU),i=Me(Ko),o=VA(),s=LA(),u=Me(f=>f.rootProps.className);M.useEffect(()=>{if(t==null)return F4;var f=(c,h,y)=>{if(e!==y&&t===c){if(r==="index"){n(h);return}if(i!=null){var _;if(typeof r=="function"){var S={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},A=r(i,S);_=i[A]}else r==="value"&&(_=i.find(G=>String(G.value)===h.payload.label));var{coordinate:w}=h.payload;if(_==null||h.payload.active===!1||w==null||s==null){n($E({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:C,y:R}=w,D=Math.min(C,s.x+s.width),I=Math.min(R,s.y+s.height),$={x:o==="horizontal"?_.coordinate:D,y:o==="horizontal"?I:_.coordinate},U=$E({active:h.payload.active,coordinate:$,dataKey:h.payload.dataKey,index:String(_.index),label:h.payload.label});n(U)}}};return Cd.on(GE,f),()=>{Cd.off(GE,f)}},[u,n,e,t,r,i,o,s])}function Hee(){var t=Me(dw),e=Me(hw),n=Sn();M.useEffect(()=>{if(t==null)return F4;var r=(i,o,s)=>{e!==s&&t===i&&n(qee(o))};return Cd.on(KM,r),()=>{Cd.off(KM,r)}},[n,e,t])}function zee(){var t=Sn();M.useEffect(()=>{t(Vee())},[t]),$ee(),Hee()}function Gee(t,e,n,r,i,o){var s=Me(_=>Tee(_,t,e)),u=Me(hw),f=Me(dw),c=Me(xU),h=Me(Uee),y=h==null?void 0:h.active;M.useEffect(()=>{if(!y&&f!=null&&u!=null){var _=$E({active:o,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r});Cd.emit(GE,f,_,u)}},[y,n,s,i,r,u,f,c,o])}function YM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YM(Object(n),!0).forEach(function(r){Kee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kee(t,e,n){return(e=jee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jee(t){var e=Yee(t,"string");return typeof e=="symbol"?e:e+""}function Yee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wee(t){return t.dataKey}function Jee(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(TY,e)}var JM=[],Qee={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Kd.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Xee(t){var e=hl(t,Qee),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:s,filterNull:u,isAnimationActive:f,offset:c,payloadUniqBy:h,position:y,reverseDirection:_,useTranslate3d:S,wrapperStyle:A,cursor:w,shared:C,trigger:R,defaultIndex:D,portal:I,axisId:$}=e,U=Sn(),G=typeof D=="number"?String(D):D;M.useEffect(()=>{U(bZ({shared:C,trigger:R,axisId:$,active:n,defaultIndex:G}))},[U,C,R,$,n,G]);var O=LA(),k=_V(),N=TZ(C),{activeIndex:q,isActive:B}=Me(Ie=>Aee(Ie,N,R,G)),F=Me(Ie=>See(Ie,N,R,G)),H=Me(Ie=>V4(Ie,N,R,G)),Ae=Me(Ie=>Eee(Ie,N,R,G)),ye=F,Z=Pee(),de=n??B,[ve,Le]=CK([ye,de]),j=N==="axis"?H:void 0;Gee(N,R,Ae,j,q,de);var ue=I??Z;if(ue==null)return null;var ae=ye??JM;de||(ae=JM),u&&ae.length&&(ae=X7(ye.filter(Ie=>Ie.value!=null&&(Ie.hide!==!0||e.includeHidden)),h,Wee));var he=ae.length>0,we=M.createElement(xY,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:f,active:de,coordinate:Ae,hasPayload:he,offset:c,position:y,reverseDirection:_,useTranslate3d:S,viewBox:O,wrapperStyle:A,lastBoundingBox:ve,innerRef:Le,hasPortalFromProps:!!I},Jee(s,WM(WM({},e),{},{payload:ae,label:j,active:de,coordinate:Ae,accessibilityLayer:k})));return M.createElement(M.Fragment,null,fF.createPortal(we,ue),de&&M.createElement(Ree,{cursor:w,tooltipEventType:N,coordinate:Ae,payload:ye,index:q}))}var cT={},fT={},dT={},QM;function Zee(){return QM||(QM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let s,u=null;const f=o!=null&&o.includes("leading"),c=o==null||o.includes("trailing"),h=()=>{u!==null&&(n.apply(s,u),s=void 0,u=null)},y=()=>{c&&h(),w()};let _=null;const S=()=>{_!=null&&clearTimeout(_),_=setTimeout(()=>{_=null,y()},r)},A=()=>{_!==null&&(clearTimeout(_),_=null)},w=()=>{A(),s=void 0,u=null},C=()=>{h()},R=function(...D){if(i!=null&&i.aborted)return;s=this,u=D;const I=_==null;S(),f&&I&&h()};return R.schedule=S,R.cancel=w,R.flush=C,i==null||i.addEventListener("abort",w,{once:!0}),R}t.debounce=e})(dT)),dT}var XM;function ete(){return XM||(XM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zee();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:s=!1,trailing:u=!0,maxWait:f}=o,c=Array(2);s&&(c[0]="leading"),u&&(c[1]="trailing");let h,y=null;const _=e.debounce(function(...w){h=r.apply(this,w),y=null},i,{edges:c}),S=function(...w){return f!=null&&(y===null&&(y=Date.now()),Date.now()-y>=f)?(h=r.apply(this,w),y=Date.now(),_.cancel(),_.schedule(),h):(_.apply(this,w),h)},A=()=>(_.flush(),h);return S.cancel=_.cancel,S.flush=A,S}t.debounce=n})(fT)),fT}var ZM;function tte(){return ZM||(ZM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ete();function n(r,i=0,o={}){const{leading:s=!0,trailing:u=!0}=o;return e.debounce(r,i,{leading:s,maxWait:i,trailing:u})}t.throttle=n})(cT)),cT}var hT,eD;function nte(){return eD||(eD=1,hT=tte().throttle),hT}var rte=nte();const ite=hi(rte);var pT=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function tD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(n),!0).forEach(function(r){ote(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ote(t,e,n){return(e=ate(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ate(t){var e=ste(t,"string");return typeof e=="symbol"?e:e+""}function ste(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lte=M.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:s=0,minHeight:u,maxHeight:f,children:c,debounce:h=0,id:y,className:_,onResize:S,style:A={}}=t,w=M.useRef(null),C=M.useRef();C.current=S,M.useImperativeHandle(e,()=>w.current);var[R,D]=M.useState({containerWidth:r.width,containerHeight:r.height}),I=M.useCallback((U,G)=>{D(O=>{var k=Math.round(U),N=Math.round(G);return O.containerWidth===k&&O.containerHeight===N?O:{containerWidth:k,containerHeight:N}})},[]);M.useEffect(()=>{var U=N=>{var q,{width:B,height:F}=N[0].contentRect;I(B,F),(q=C.current)===null||q===void 0||q.call(C,B,F)};h>0&&(U=ite(U,h,{trailing:!0,leading:!1}));var G=new ResizeObserver(U),{width:O,height:k}=w.current.getBoundingClientRect();return I(O,k),G.observe(w.current),()=>{G.disconnect()}},[I,h]);var $=M.useMemo(()=>{var{containerWidth:U,containerHeight:G}=R;if(U<0||G<0)return null;pT(Fs(i)||Fs(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),pT(!n||n>0,"The aspect(%s) must be greater than zero.",n);var O=Fs(i)?U:i,k=Fs(o)?G:o;return n&&n>0&&(O?k=O/n:k&&(O=k*n),f&&k>f&&(k=f)),pT(O>0||k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,k,i,o,s,u,n),M.Children.map(c,N=>M.cloneElement(N,{width:O,height:k,style:mT({width:O,height:k},N.props.style)}))},[n,c,o,f,u,s,R,i]);return M.createElement("div",{id:y?"".concat(y):void 0,className:bt("recharts-responsive-container",_),style:mT(mT({},A),{},{width:i,height:o,minWidth:s,minHeight:u,maxHeight:f}),ref:w},M.createElement("div",{style:{width:0,height:0,overflow:"visible"}},$))}),$4=t=>null;$4.displayName="Cell";function ute(t,e,n){return(e=cte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cte(t){var e=fte(t,"string");return typeof e=="symbol"?e:e+""}function fte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class dte{constructor(e){ute(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function nD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nD(Object(n),!0).forEach(function(r){pte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pte(t,e,n){return(e=mte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mte(t){var e=gte(t,"string");return typeof e=="symbol"?e:e+""}function gte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yte={cacheSize:2e3,enableCache:!0},H4=hte({},yte),rD=new dte(H4.cacheSize),vte={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},iD="recharts_measurement_span";function _te(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",s=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(s,"|").concat(u)}var oD=(t,e)=>{try{var n=document.getElementById(iD);n||(n=document.createElement("span"),n.setAttribute("id",iD),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,vte,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},rd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Kd.isSsr)return{width:0,height:0};if(!H4.enableCache)return oD(e,n);var r=_te(e,n),i=rD.get(r);if(i)return i;var o=oD(e,n);return rD.set(r,o),o},aD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Tte=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ete=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,z4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ste=Object.keys(z4),_u="NaN";function Ate(t,e){return t*z4[e]}class nr{static parse(e){var n,[,r,i]=(n=Ete.exec(e))!==null&&n!==void 0?n:[];return new nr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Jr(e)&&(this.unit=""),n!==""&&!Tte.test(n)&&(this.num=NaN,this.unit=""),Ste.includes(n)&&(this.num=Ate(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new nr(NaN,""):new nr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new nr(NaN,""):new nr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new nr(NaN,""):new nr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new nr(NaN,""):new nr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Jr(this.num)}}function G4(t){if(t.includes(_u))return _u;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=aD.exec(e))!==null&&n!==void 0?n:[],s=nr.parse(r??""),u=nr.parse(o??""),f=i==="*"?s.multiply(u):s.divide(u);if(f.isNaN())return _u;e=e.replace(aD,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,h,y,_]=(c=sD.exec(e))!==null&&c!==void 0?c:[],S=nr.parse(h??""),A=nr.parse(_??""),w=y==="+"?S.add(A):S.subtract(A);if(w.isNaN())return _u;e=e.replace(sD,w.toString())}return e}var lD=/\(([^()]*)\)/;function wte(t){for(var e=t,n;(n=lD.exec(e))!=null;){var[,r]=n;e=e.replace(lD,G4(r))}return e}function bte(t){var e=t.replace(/\s+/g,"");return e=wte(e),e=G4(e),e}function Cte(t){try{return bte(t)}catch{return _u}}function gT(t){var e=Cte(t.slice(5,-1));return e===_u?"":e}var xte=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ite=["dx","dy","angle","className","breakAll"];function KE(){return KE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KE.apply(null,arguments)}function uD(t,e){if(t==null)return{};var n,r,i=Rte(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var K4=/[ \f\n\r\t\v\u2028\u2029]+/,j4=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];un(e)||(n?i=e.toString().split(""):i=e.toString().split(K4));var o=i.map(u=>({word:u,width:rd(u,r).width})),s=n?0:rd(" ",r).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},Pte=(t,e,n,r,i)=>{var{maxLines:o,children:s,style:u,breakAll:f}=t,c=Ce(o),h=s,y=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce((F,H)=>{var{word:Ae,width:ye}=H,Z=F[F.length-1];if(Z&&(r==null||i||Z.width+ye+n<Number(r)))Z.words.push(Ae),Z.width+=ye+n;else{var de={words:[Ae],width:ye};F.push(de)}return F},[])},_=y(e),S=q=>q.reduce((B,F)=>B.width>F.width?B:F);if(!c||i)return _;var A=_.length>o||S(_).width>Number(r);if(!A)return _;for(var w="…",C=q=>{var B=h.slice(0,q),F=j4({breakAll:f,style:u,children:B+w}).wordsWithComputedWidth,H=y(F),Ae=H.length>o||S(H).width>Number(r);return[Ae,H]},R=0,D=h.length-1,I=0,$;R<=D&&I<=h.length-1;){var U=Math.floor((R+D)/2),G=U-1,[O,k]=C(G),[N]=C(U);if(!O&&!N&&(R=U+1),O&&N&&(D=U-1),!O&&N){$=k;break}I++}return $||_},cD=t=>{var e=un(t)?[]:t.toString().split(K4);return[{words:e}]},Mte=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:s}=t;if((e||n)&&!Kd.isSsr){var u,f,c=j4({breakAll:o,children:r,style:i});if(c){var{wordsWithComputedWidth:h,spaceWidth:y}=c;u=h,f=y}else return cD(r);return Pte({breakAll:o,children:r,maxLines:s,style:i},u,f,e,n)}return cD(r)},fD="#808080",Lw=M.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:s=!1,textAnchor:u="start",verticalAnchor:f="end",fill:c=fD}=t,h=uD(t,xte),y=M.useMemo(()=>Mte({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:s,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,s,h.style,h.width]),{dx:_,dy:S,angle:A,className:w,breakAll:C}=h,R=uD(h,Ite);if(!zi(n)||!zi(r))return null;var D=n+(Ce(_)?_:0),I=r+(Ce(S)?S:0),$;switch(f){case"start":$=gT("calc(".concat(o,")"));break;case"middle":$=gT("calc(".concat((y.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:$=gT("calc(".concat(y.length-1," * -").concat(i,")"));break}var U=[];if(s){var G=y[0].width,{width:O}=h;U.push("scale(".concat(Ce(O)?O/G:1,")"))}return A&&U.push("rotate(".concat(A,", ").concat(D,", ").concat(I,")")),U.length&&(R.transform=U.join(" ")),M.createElement("text",KE({},En(R,!0),{ref:e,x:D,y:I,className:bt("recharts-text",w),textAnchor:u,fill:c.includes("url")?fD:c}),y.map((k,N)=>{var q=k.words.join(C?"":" ");return M.createElement("tspan",{x:D,dy:N===0?$:i,key:"".concat(q,"-").concat(N)},q)}))});Lw.displayName="Text";var Dte=["offset"],Nte=["labelRef"];function dD(t,e){if(t==null)return{};var n,r,i=Ote(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ote(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(n),!0).forEach(function(r){kte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kte(t,e,n){return(e=Lte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lte(t){var e=Vte(t,"string");return typeof e=="symbol"?e:e+""}function Vte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eo(){return Eo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eo.apply(null,arguments)}var Ute=t=>{var{value:e,formatter:n}=t,r=un(t.children)?e:t.children;return typeof n=="function"?n(r):r},Vw=t=>t!=null&&typeof t=="function",Bte=(t,e)=>{var n=wr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},qte=(t,e,n,r)=>{var{position:i,offset:o,className:s}=t,{cx:u,cy:f,innerRadius:c,outerRadius:h,startAngle:y,endAngle:_,clockWise:S}=r,A=(c+h)/2,w=Bte(y,_),C=w>=0?1:-1,R,D;i==="insideStart"?(R=y+C*o,D=S):i==="insideEnd"?(R=_-C*o,D=!S):i==="end"&&(R=_+C*o,D=S),D=w<=0?D:!D;var I=On(u,f,A,R),$=On(u,f,A,R+(D?1:-1)*359),U="M".concat(I.x,",").concat(I.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(D?0:1,`,
    `).concat($.x,",").concat($.y),G=un(t.id)?yd("recharts-radial-line-"):t.id;return M.createElement("text",Eo({},n,{dominantBaseline:"central",className:bt("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:G,d:U})),M.createElement("textPath",{xlinkHref:"#".concat(G)},e))},Fte=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:u,endAngle:f}=t,c=(u+f)/2;if(n==="outside"){var{x:h,y}=On(r,i,s+e,c);return{x:h,y,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var _=(o+s)/2,{x:S,y:A}=On(r,i,_,c);return{x:S,y:A,textAnchor:"middle",verticalAnchor:"middle"}},$te=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:o,y:s,width:u,height:f}=e,c=f>=0?1:-1,h=c*r,y=c>0?"end":"start",_=c>0?"start":"end",S=u>=0?1:-1,A=S*r,w=S>0?"end":"start",C=S>0?"start":"end";if(i==="top"){var R={x:o+u/2,y:s-c*r,textAnchor:"middle",verticalAnchor:y};return Lt(Lt({},R),n?{height:Math.max(s-n.y,0),width:u}:{})}if(i==="bottom"){var D={x:o+u/2,y:s+f+h,textAnchor:"middle",verticalAnchor:_};return Lt(Lt({},D),n?{height:Math.max(n.y+n.height-(s+f),0),width:u}:{})}if(i==="left"){var I={x:o-A,y:s+f/2,textAnchor:w,verticalAnchor:"middle"};return Lt(Lt({},I),n?{width:Math.max(I.x-n.x,0),height:f}:{})}if(i==="right"){var $={x:o+u+A,y:s+f/2,textAnchor:C,verticalAnchor:"middle"};return Lt(Lt({},$),n?{width:Math.max(n.x+n.width-$.x,0),height:f}:{})}var U=n?{width:u,height:f}:{};return i==="insideLeft"?Lt({x:o+A,y:s+f/2,textAnchor:C,verticalAnchor:"middle"},U):i==="insideRight"?Lt({x:o+u-A,y:s+f/2,textAnchor:w,verticalAnchor:"middle"},U):i==="insideTop"?Lt({x:o+u/2,y:s+h,textAnchor:"middle",verticalAnchor:_},U):i==="insideBottom"?Lt({x:o+u/2,y:s+f-h,textAnchor:"middle",verticalAnchor:y},U):i==="insideTopLeft"?Lt({x:o+A,y:s+h,textAnchor:C,verticalAnchor:_},U):i==="insideTopRight"?Lt({x:o+u-A,y:s+h,textAnchor:w,verticalAnchor:_},U):i==="insideBottomLeft"?Lt({x:o+A,y:s+f-h,textAnchor:C,verticalAnchor:y},U):i==="insideBottomRight"?Lt({x:o+u-A,y:s+f-h,textAnchor:w,verticalAnchor:y},U):i&&typeof i=="object"&&(Ce(i.x)||Fs(i.x))&&(Ce(i.y)||Fs(i.y))?Lt({x:o+di(i.x,u),y:s+di(i.y,f),textAnchor:"end",verticalAnchor:"end"},U):Lt({x:o+u/2,y:s+f/2,textAnchor:"middle",verticalAnchor:"middle"},U)},Hte=t=>"cx"in t&&Ce(t.cx);function Er(t){var{offset:e=5}=t,n=dD(t,Dte),r=Lt({offset:e},n),{viewBox:i,position:o,value:s,children:u,content:f,className:c="",textBreakAll:h,labelRef:y}=r,_=Me(DU),S=LA(),A=o==="center"?S:_??S,w=i||A;if(!w||un(s)&&un(u)&&!M.isValidElement(f)&&typeof f!="function")return null;var C=Lt(Lt({},r),{},{viewBox:w});if(M.isValidElement(f)){var{labelRef:R}=C,D=dD(C,Nte);return M.cloneElement(f,D)}var I;if(typeof f=="function"){if(I=M.createElement(f,C),M.isValidElement(I))return I}else I=Ute(r);var $=Hte(w),U=En(r,!0);if($&&(o==="insideStart"||o==="insideEnd"||o==="end"))return qte(r,I,U,w);var G=$?Fte(w,r.offset,r.position):$te(r,w);return M.createElement(Lw,Eo({ref:y,className:bt("recharts-label",c)},U,G,{breakAll:h}),I)}Er.displayName="Label";var Y4=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:o,r:s,radius:u,innerRadius:f,outerRadius:c,x:h,y,top:_,left:S,width:A,height:w,clockWise:C,labelViewBox:R}=t;if(R)return R;if(Ce(A)&&Ce(w)){if(Ce(h)&&Ce(y))return{x:h,y,width:A,height:w};if(Ce(_)&&Ce(S))return{x:_,y:S,width:A,height:w}}if(Ce(h)&&Ce(y))return{x:h,y,width:0,height:0};if(Ce(e)&&Ce(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:f||0,outerRadius:c||u||s||0,clockWise:C};if(t.viewBox)return t.viewBox},zte=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?M.createElement(Er,Eo({key:"label-implicit"},r)):zi(t)?M.createElement(Er,Eo({key:"label-implicit",value:t},r)):M.isValidElement(t)?t.type===Er?M.cloneElement(t,Lt({key:"label-implicit"},r)):M.createElement(Er,Eo({key:"label-implicit",content:t},r)):Vw(t)?M.createElement(Er,Eo({key:"label-implicit",content:t},r)):t&&typeof t=="object"?M.createElement(Er,Eo({},t,{key:"label-implicit"},r)):null},Gte=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:o}=e,s=Y4(e),u=vA(i,Er).map((c,h)=>M.cloneElement(c,{viewBox:n||s,key:"label-".concat(h)}));if(!r)return u;var f=zte(e.label,n||s,o);return[f,...u]};Er.parseViewBox=Y4;Er.renderCallByParent=Gte;var yT={},vT={},pD;function Kte(){return pD||(pD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(vT)),vT}var _T={},mD;function jte(){return mD||(mD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(_T)),_T}var gD;function Yte(){return gD||(gD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kte(),n=jte(),r=SA();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(yT)),yT}var TT,yD;function Wte(){return yD||(yD=1,TT=Yte().last),TT}var Jte=Wte();const Qte=hi(Jte);var Xte=["valueAccessor"],Zte=["data","dataKey","clockWise","id","textBreakAll"];function fg(){return fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fg.apply(null,arguments)}function vD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _D(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(n),!0).forEach(function(r){ene(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ene(t,e,n){return(e=tne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tne(t){var e=nne(t,"string");return typeof e=="symbol"?e:e+""}function nne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TD(t,e){if(t==null)return{};var n,r,i=rne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ine=t=>Array.isArray(t.value)?Qte(t.value):t.value;function Qs(t){var{valueAccessor:e=ine}=t,n=TD(t,Xte),{data:r,dataKey:i,clockWise:o,id:s,textBreakAll:u}=n,f=TD(n,Zte);return!r||!r.length?null:M.createElement(ja,{className:"recharts-label-list"},r.map((c,h)=>{var y=un(i)?e(c,h):Qn(c&&c.payload,i),_=un(s)?{}:{id:"".concat(s,"-").concat(h)};return M.createElement(Er,fg({},En(c,!0),f,_,{parentViewBox:c.parentViewBox,value:y,textBreakAll:u,viewBox:Er.parseViewBox(un(o)?c:_D(_D({},c),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Qs.displayName="LabelList";function one(t,e){return t?t===!0?M.createElement(Qs,{key:"labelList-implicit",data:e}):M.isValidElement(t)||Vw(t)?M.createElement(Qs,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?M.createElement(Qs,fg({data:e},t,{key:"labelList-implicit"})):null:null}function ane(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=vA(r,Qs).map((s,u)=>M.cloneElement(s,{data:e,key:"labelList-".concat(u)}));if(!n)return i;var o=one(t.label,e);return[o,...i]}Qs.renderCallByParent=ane;var sne={radiusAxis:{},angleAxis:{}},W4=Rr({name:"polarAxis",initialState:sne,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Zme,removeRadiusAxis:ege,addAngleAxis:tge,removeAngleAxis:nge}=W4.actions,lne=W4.reducer,ET={},ED;function une(){return ED||(ED=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(ET)),ET}var ST,SD;function cne(){return SD||(SD=1,ST=une().isPlainObject),ST}var fne=cne();const dne=hi(fne);function dg(){return dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dg.apply(null,arguments)}var AD=(t,e,n,r,i)=>{var o=n-r,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+n,",").concat(e),s+="L ".concat(t+n-o/2,",").concat(e+i),s+="L ".concat(t+n-o/2-r,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},hne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pne=t=>{var e=hl(t,hne),n=M.useRef(),[r,i]=M.useState(-1);M.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&i(C)}catch{}},[]);var{x:o,y:s,upperWidth:u,lowerWidth:f,height:c,className:h}=e,{animationEasing:y,animationDuration:_,animationBegin:S,isUpdateAnimationActive:A}=e;if(o!==+o||s!==+s||u!==+u||f!==+f||c!==+c||u===0&&f===0||c===0)return null;var w=bt("recharts-trapezoid",h);return A?M.createElement(Jm,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:c,x:o,y:s},to:{upperWidth:u,lowerWidth:f,height:c,x:o,y:s},duration:_,animationEasing:y,isActive:A},C=>{var{upperWidth:R,lowerWidth:D,height:I,x:$,y:U}=C;return M.createElement(Jm,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:S,duration:_,easing:y},M.createElement("path",dg({},En(e,!0),{className:w,d:AD($,U,R,D,I),ref:n})))}):M.createElement("g",null,M.createElement("path",dg({},En(e,!0),{className:w,d:AD(o,s,u,f,c)})))},mne=["option","shapeType","propTransformer","activeClassName","isActive"];function gne(t,e){if(t==null)return{};var n,r,i=yne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wD(Object(n),!0).forEach(function(r){vne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vne(t,e,n){return(e=_ne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ne(t){var e=Tne(t,"string");return typeof e=="symbol"?e:e+""}function Tne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ene(t,e){return hg(hg({},e),t)}function Sne(t,e){return t==="symbols"}function bD(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return M.createElement(CV,n);case"trapezoid":return M.createElement(pne,n);case"sector":return M.createElement(RV,n);case"symbols":if(Sne(e))return M.createElement(NL,n);break;default:return null}}function Ane(t){return M.isValidElement(t)?t.props:t}function wne(t){var{option:e,shapeType:n,propTransformer:r=Ene,activeClassName:i="recharts-active-shape",isActive:o}=t,s=gne(t,mne),u;if(M.isValidElement(e))u=M.cloneElement(e,hg(hg({},s),Ane(e)));else if(typeof e=="function")u=e(s);else if(dne(e)&&typeof e!="boolean"){var f=r(e,s);u=M.createElement(bD,{shapeType:n,elementProps:f})}else{var c=s;u=M.createElement(bD,{shapeType:n,elementProps:c})}return o?M.createElement(ja,{className:i},u):u}var J4=(t,e)=>{var n=Sn();return(r,i)=>o=>{t==null||t(r,i,o),n(_4({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},Q4=t=>{var e=Sn();return(n,r)=>i=>{t==null||t(n,r,i),e(CZ())}},X4=(t,e)=>{var n=Sn();return(r,i)=>o=>{t==null||t(r,i,o),n(xZ({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function bne(t){var{fn:e,args:n}=t,r=Sn(),i=yi();return M.useEffect(()=>{if(!i){var o=e(n);return r(AZ(o)),()=>{r(wZ(o))}}},[e,n,r,i]),null}var Cne=()=>{};function xne(t){var{legendPayload:e}=t,n=Sn(),r=yi();return M.useEffect(()=>r?Cne:(n(hY(e)),()=>{n(pY(e))}),[n,r,e]),null}function Ine(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=M.useRef(yd(e)),r=M.useRef(t);return r.current!==t&&(n.current=yd(e),r.current=t),n.current}var AT,Rne=()=>{var[t]=M.useState(()=>yd("uid-"));return t},Pne=(AT=kq.useId)!==null&&AT!==void 0?AT:Rne;function Mne(t,e){var n=Pne();return e||(t?"".concat(t,"-").concat(n):n)}var Dne=M.createContext(void 0),Nne=t=>{var{id:e,type:n,children:r}=t,i=Mne("recharts-".concat(n),e);return M.createElement(Dne.Provider,{value:i},r(i))},One={cartesianItems:[],polarItems:[]},Z4=Rr({name:"graphicalItems",initialState:One,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=Io(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=Io(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Io(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:kne,replaceCartesianGraphicalItem:Lne,removeCartesianGraphicalItem:Vne,addPolarGraphicalItem:rge,removePolarGraphicalItem:ige}=Z4.actions,Une=Z4.reducer;function Bne(t){var e=Sn(),n=M.useRef(null);return M.useEffect(()=>{n.current===null?e(kne(t)):n.current!==t&&e(Lne({prev:n.current,next:t})),n.current=t},[e,t]),M.useEffect(()=>()=>{n.current&&(e(Vne(n.current)),n.current=null)},[e]),null}function qne(){}var Fne={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},CD={t:0},wT={t:1};function $ne(t){var e=hl(t,Fne),{isActive:n,canBegin:r,duration:i,easing:o,begin:s,onAnimationEnd:u,onAnimationStart:f,children:c}=e,h=bV("JavascriptAnimate",e.animationManager),[y,_]=M.useState(n?CD:wT),S=M.useRef(null);return M.useEffect(()=>{n||_(wT)},[n]),M.useEffect(()=>{if(!n||!r)return qne;var A=wV(CD,wT,SV(o),i,_,h.getTimeoutController()),w=()=>{S.current=A()};return h.start([f,s,w,i,u]),()=>{h.stop(),S.current&&S.current(),u()}},[n,r,i,o,s,f,u,h]),c(y.t)}var Hne=re([An],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),zne=re([Hne,$o,Ho],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),e3=()=>Me(zne),Gne="Invariant failed";function Kne(t,e){throw new Error(Gne)}var jne=["x","y"];function jE(){return jE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jE.apply(null,arguments)}function xD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xD(Object(n),!0).forEach(function(r){Yne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yne(t,e,n){return(e=Wne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wne(t){var e=Jne(t,"string");return typeof e=="symbol"?e:e+""}function Jne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qne(t,e){if(t==null)return{};var n,r,i=Xne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Zne(t,e){var{x:n,y:r}=t,i=Qne(t,jne),o="".concat(n),s=parseInt(o,10),u="".concat(r),f=parseInt(u,10),c="".concat(e.height||i.height),h=parseInt(c,10),y="".concat(e.width||i.width),_=parseInt(y,10);return Bf(Bf(Bf(Bf(Bf({},e),i),s?{x:s}:{}),f?{y:f}:{}),{},{height:h,width:_,name:e.name,radius:e.radius})}function t3(t){return M.createElement(wne,jE({shapeType:"rectangle",propTransformer:Zne,activeClassName:"recharts-active-bar"},t))}var ere=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ce(e))return e;var o=Ce(r)||un(r);return o?e(r,i):(o||Kne(),n)}},tre={},n3=Rr({name:"errorBars",initialState:tre,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:oge,removeErrorBar:age}=n3.actions,nre=n3.reducer,rre=["children"];function ire(t,e){if(t==null)return{};var n,r,i=ore(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ore(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var are={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},sre=M.createContext(are);function lre(t){var{children:e}=t,n=ire(t,rre);return M.createElement(sre.Provider,{value:n},e)}function r3(t,e){var n,r,i=Me(c=>Go(c,t)),o=Me(c=>es(c,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:vr.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:_r.allowDataOverflow,f=s||u;return{needClip:f,needClipX:s,needClipY:u}}function ure(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=e3(),{needClipX:o,needClipY:s,needClip:u}=r3(e,n);if(!u)return null;var{x:f,y:c,width:h,height:y}=i;return M.createElement("clipPath",{id:"clipPath-".concat(r)},M.createElement("rect",{x:o?f:f-h/2,y:s?c:c-y/2,width:o?h:h*2,height:s?y:y*2}))}var cre=["onMouseEnter","onMouseLeave","onClick"],fre=["value","background","tooltipPosition"],dre=["id"],hre=["onMouseEnter","onClick","onMouseLeave"];function Wu(){return Wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wu.apply(null,arguments)}function ID(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(n),!0).forEach(function(r){pre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pre(t,e,n){return(e=mre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mre(t){var e=gre(t,"string");return typeof e=="symbol"?e:e+""}function gre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pg(t,e){if(t==null)return{};var n,r,i=yre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vre=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:mV(n,e),payload:t}]};function _re(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:o,hide:s,unit:u}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:mV(o,e),hide:s,type:t.tooltipType,color:t.fill,unit:u}}}function Tre(t){var e=Me(Yu),{data:n,dataKey:r,background:i,allOtherBarProps:o}=t,{onMouseEnter:s,onMouseLeave:u,onClick:f}=o,c=pg(o,cre),h=J4(s,r),y=Q4(u),_=X4(f,r);if(!i||n==null)return null;var S=En(i,!1);return M.createElement(M.Fragment,null,n.map((A,w)=>{var{value:C,background:R,tooltipPosition:D}=A,I=pg(A,fre);if(!R)return null;var $=h(A,w),U=y(A,w),G=_(A,w),O=Hn(Hn(Hn(Hn(Hn({option:i,isActive:String(w)===e},I),{},{fill:"#eee"},R),S),yA(c,A,w)),{},{onMouseEnter:$,onMouseLeave:U,onClick:G,dataKey:r,index:w,className:"recharts-bar-background-rectangle"});return M.createElement(t3,Wu({key:"background-bar-".concat(w)},O))}))}function i3(t){var{data:e,props:n,showLabels:r}=t,i=Gg(n),{id:o}=i,s=pg(i,dre),{shape:u,dataKey:f,activeBar:c}=n,h=Me(Yu),y=Me(D4),{onMouseEnter:_,onClick:S,onMouseLeave:A}=n,w=pg(n,hre),C=J4(_,f),R=Q4(A),D=X4(S,f);return e?M.createElement(M.Fragment,null,e.map((I,$)=>{var U=c&&String($)===h&&(y==null||f===y),G=U?c:u,O=Hn(Hn(Hn({},s),I),{},{isActive:U,option:G,index:$,dataKey:f});return M.createElement(ja,Wu({className:"recharts-bar-rectangle"},yA(w,I,$),{onMouseEnter:C(I,$),onMouseLeave:R(I,$),onClick:D(I,$),key:"rectangle-".concat(I==null?void 0:I.x,"-").concat(I==null?void 0:I.y,"-").concat(I==null?void 0:I.value,"-").concat($)}),M.createElement(t3,O))}),r&&Qs.renderCallByParent(n,e)):null}function Ere(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:o,animationBegin:s,animationDuration:u,animationEasing:f,onAnimationEnd:c,onAnimationStart:h}=e,y=n.current,_=Ine(e,"recharts-bar-"),[S,A]=M.useState(!1),w=M.useCallback(()=>{typeof c=="function"&&c(),A(!1)},[c]),C=M.useCallback(()=>{typeof h=="function"&&h(),A(!0)},[h]);return M.createElement($ne,{begin:s,duration:u,isActive:o,easing:f,onAnimationEnd:w,onAnimationStart:C,key:_},R=>{var D=R===1?r:r==null?void 0:r.map((I,$)=>{var U=y&&y[$];if(U)return Hn(Hn({},I),{},{x:du(U.x,I.x,R),y:du(U.y,I.y,R),width:du(U.width,I.width,R),height:du(U.height,I.height,R)});if(i==="horizontal"){var G=du(0,I.height,R);return Hn(Hn({},I),{},{y:I.y+I.height-G,height:G})}var O=du(0,I.width,R);return Hn(Hn({},I),{},{width:O})});return R>0&&(n.current=D??null),D==null?null:M.createElement(ja,null,M.createElement(i3,{props:e,data:D,showLabels:!S}))})}function Sre(t){var{data:e,isAnimationActive:n}=t,r=M.useRef(null);return n&&e&&e.length&&(r.current==null||r.current!==e)?M.createElement(Ere,{previousRectanglesRef:r,props:t}):M.createElement(i3,{props:t,data:e,showLabels:!0})}var o3=0,Are=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Qn(t,e)}};class wre extends M.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:s,needClip:u,background:f,id:c}=this.props;if(e)return null;var h=bt("recharts-bar",i),y=c;return M.createElement(ja,{className:h,id:c},u&&M.createElement("defs",null,M.createElement(ure,{clipPathId:y,xAxisId:o,yAxisId:s})),M.createElement(ja,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(y,")"):void 0},M.createElement(Tre,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),M.createElement(Sre,this.props)),this.props.children)}}var bre={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Kd.isSsr,legendType:"rect",minPointSize:o3,xAxisId:0,yAxisId:0};function Cre(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:s,animationBegin:u,animationDuration:f,animationEasing:c,isAnimationActive:h}=t,{needClip:y}=r3(e,n),_=VA(),S=yi(),A=vA(t.children,$4),w=Me(D=>Zre(D,e,n,S,t.id,A));if(_!=="vertical"&&_!=="horizontal")return null;var C,R=w==null?void 0:w[0];return R==null||R.height==null||R.width==null?C=0:C=_==="vertical"?R.height/2:R.width/2,M.createElement(lre,{xAxisId:e,yAxisId:n,data:w,dataPointFormatter:Are,errorBarOffset:C},M.createElement(wre,Wu({},t,{layout:_,needClip:y,data:w,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:s,animationBegin:u,animationDuration:f,animationEasing:c,isAnimationActive:h})))}function xre(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:s,yAxis:u,xAxisTicks:f,yAxisTicks:c,stackedData:h,displayedData:y,offset:_,cells:S}=t,A=e==="horizontal"?u:s,w=h?A.scale.domain():null,C=Kj({numericAxis:A});return y.map((R,D)=>{var I,$,U,G,O,k;h?I=qj(h[D],w):(I=Qn(R,n),Array.isArray(I)||(I=[C,I]));var N=ere(r,o3)(I[1],D);if(e==="horizontal"){var q,[B,F]=[u.scale(I[0]),u.scale(I[1])];$=TP({axis:s,ticks:f,bandSize:o,offset:i.offset,entry:R,index:D}),U=(q=F??B)!==null&&q!==void 0?q:void 0,G=i.size;var H=B-F;if(O=Jr(H)?0:H,k={x:$,y:_.top,width:G,height:_.height},Math.abs(N)>0&&Math.abs(O)<Math.abs(N)){var Ae=wr(O||N)*(Math.abs(N)-Math.abs(O));U-=Ae,O+=Ae}}else{var[ye,Z]=[s.scale(I[0]),s.scale(I[1])];if($=ye,U=TP({axis:u,ticks:c,bandSize:o,offset:i.offset,entry:R,index:D}),G=Z-ye,O=i.size,k={x:_.left,y:U,width:_.width,height:O},Math.abs(N)>0&&Math.abs(G)<Math.abs(N)){var de=wr(G||N)*(Math.abs(N)-Math.abs(G));G+=de}}if($==null||U==null||G==null||O==null)return null;var ve=Hn(Hn({},R),{},{x:$,y:U,width:G,height:O,value:h?I:I[1],payload:R,background:k,tooltipPosition:{x:$+G/2,y:U+O/2}},S&&S[D]&&S[D].props);return ve}).filter(Boolean)}function a3(t){var e=hl(t,bre),n=yi();return M.createElement(Nne,{id:e.id,type:"bar"},r=>M.createElement(M.Fragment,null,M.createElement(xne,{legendPayload:vre(e)}),M.createElement(bne,{fn:_re,args:e}),M.createElement(Bne,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:Gj(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),M.createElement(Cre,Wu({},e,{id:r}))))}a3.displayName="Bar";function RD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RD(Object(n),!0).forEach(function(r){Ire(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ire(t,e,n){return(e=Rre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rre(t){var e=Pre(t,"string");return typeof e=="symbol"?e:e+""}function Pre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mre=(t,e)=>e,Dre=(t,e,n)=>n,Nre=(t,e,n,r)=>r,Ore=(t,e,n,r,i)=>i,rh=re([_w,Ore],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),kre=re([rh],t=>t==null?void 0:t.maxBarSize),Lre=(t,e,n,r,i,o)=>o,PD=(t,e,n)=>{var r=n??t;if(!un(r))return di(r,e,0)},Vre=re([ct,_w,Mre,Dre,Nre],(t,e,n,r,i)=>e.filter(o=>t==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),Ure=(t,e,n,r)=>{var i=ct(t);return i==="horizontal"?FE(t,"yAxis",n,r):FE(t,"xAxis",e,r)},Bre=(t,e,n)=>{var r=ct(t);return r==="horizontal"?UM(t,"xAxis",e):UM(t,"yAxis",n)},qre=(t,e,n)=>{var r={},i=t.filter(my),o=t.filter(c=>c.stackId==null),s=i.reduce((c,h)=>(c[h.stackId]||(c[h.stackId]=[]),c[h.stackId].push(h),c),r),u=Object.entries(s).map(c=>{var[h,y]=c,_=y.map(A=>A.dataKey),S=PD(e,n,y[0].barSize);return{stackId:h,dataKeys:_,barSize:S}}),f=o.map(c=>{var h=[c.dataKey].filter(_=>_!=null),y=PD(e,n,c.barSize);return{stackId:void 0,dataKeys:h,barSize:y}});return[...u,...f]},Fre=re([Vre,AX,Bre],qre),$re=(t,e,n,r,i)=>{var o,s,u=rh(t,e,n,r,i);if(u!=null){var f=ct(t),c=bU(t),{maxBarSize:h}=u,y=un(h)?c:h,_,S;return f==="horizontal"?(_=ju(t,"xAxis",e,r),S=Ku(t,"xAxis",e,r)):(_=ju(t,"yAxis",n,r),S=Ku(t,"yAxis",n,r)),(o=(s=NA(_,S,!0))!==null&&s!==void 0?s:y)!==null&&o!==void 0?o:0}},s3=(t,e,n,r)=>{var i=ct(t),o,s;return i==="horizontal"?(o=ju(t,"xAxis",e,r),s=Ku(t,"xAxis",e,r)):(o=ju(t,"yAxis",n,r),s=Ku(t,"yAxis",n,r)),NA(o,s)};function Hre(t,e,n,r,i){var o=r.length;if(!(o<1)){var s=di(t,n,0,!0),u,f=[];if(Ir(r[0].barSize)){var c=!1,h=n/o,y=r.reduce((R,D)=>R+(D.barSize||0),0);y+=(o-1)*s,y>=n&&(y-=(o-1)*s,s=0),y>=n&&h>0&&(c=!0,h*=.9,y=o*h);var _=(n-y)/2>>0,S={offset:_-s,size:0};u=r.reduce((R,D)=>{var I,$={stackId:D.stackId,dataKeys:D.dataKeys,position:{offset:S.offset+S.size+s,size:c?h:(I=D.barSize)!==null&&I!==void 0?I:0}},U=[...R,$];return S=U[U.length-1].position,U},f)}else{var A=di(e,n,0,!0);n-2*A-(o-1)*s<=0&&(s=0);var w=(n-2*A-(o-1)*s)/o;w>1&&(w>>=0);var C=Ir(i)?Math.min(w,i):w;u=r.reduce((R,D,I)=>[...R,{stackId:D.stackId,dataKeys:D.dataKeys,position:{offset:A+(w+s)*I+(w-C)/2,size:C}}],f)}return u}}var zre=(t,e,n,r,i,o,s)=>{var u=un(s)?e:s,f=Hre(n,r,i!==o?i:o,t,u);return i!==o&&f!=null&&(f=f.map(c=>Wp(Wp({},c),{},{position:Wp(Wp({},c.position),{},{offset:c.position.offset-i/2})}))),f},Gre=re([Fre,bU,SX,CU,$re,s3,kre],zre),Kre=(t,e,n,r)=>ju(t,"xAxis",e,r),jre=(t,e,n,r)=>ju(t,"yAxis",n,r),Yre=(t,e,n,r)=>Ku(t,"xAxis",e,r),Wre=(t,e,n,r)=>Ku(t,"yAxis",n,r),Jre=re([Gre,rh],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Qre=(t,e)=>{var n=yw(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:o}=i;if(o)return o.find(s=>s.key===n)}}}},Xre=re([Ure,rh],Qre),Zre=re([An,Kre,jre,Yre,Wre,Jre,ct,lw,s3,Xre,rh,Lre],(t,e,n,r,i,o,s,u,f,c,h,y)=>{var{chartData:_,dataStartIndex:S,dataEndIndex:A}=u;if(!(h==null||o==null||s!=="horizontal"&&s!=="vertical"||e==null||n==null||r==null||i==null||f==null)){var{data:w}=h,C;if(w!=null&&w.length>0?C=w:C=_==null?void 0:_.slice(S,A+1),C!=null)return xre({layout:s,barSettings:h,pos:o,bandSize:f,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:c,displayedData:C,offset:t,cells:y})}}),eie=t=>{var{chartData:e}=t,n=Sn(),r=yi();return M.useEffect(()=>r?()=>{}:(n(jM(e)),()=>{n(jM(void 0))}),[e,n,r]),null},MD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},l3=Rr({name:"brush",initialState:MD,reducers:{setBrushSettings(t,e){return e.payload==null?MD:e.payload}}}),{setBrushSettings:sge}=l3.actions,tie=l3.reducer;function nie(t,e,n){return(e=rie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rie(t){var e=iie(t,"string");return typeof e=="symbol"?e:e+""}function iie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Uw{static create(e){return new Uw(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}nie(Uw,"EPS",1e-4);function oie(t){return(t%180+180)%180}var aie=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=oie(i),s=o*Math.PI/180,u=Math.atan(r/n),f=s>u&&s<Math.PI-u?r/Math.sin(s):n/Math.cos(s);return Math.abs(f)},sie={dots:[],areas:[],lines:[]},u3=Rr({name:"referenceElements",initialState:sie,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Io(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Io(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Io(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:lge,removeDot:uge,addArea:cge,removeArea:fge,addLine:dge,removeLine:hge}=u3.actions,lie=u3.reducer,uie=M.createContext(void 0),cie=t=>{var{children:e}=t,[n]=M.useState("".concat(yd("recharts"),"-clip")),r=e3();if(r==null)return null;var{x:i,y:o,width:s,height:u}=r;return M.createElement(uie.Provider,{value:n},M.createElement("defs",null,M.createElement("clipPath",{id:n},M.createElement("rect",{x:i,y:o,height:u,width:s}))),e)};function bT(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function c3(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function fie(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return aie(r,n)}function die(t,e,n){var r=n==="width",{x:i,y:o,width:s,height:u}=t;return e===1?{start:r?i:o,end:r?i+s:o+u}:{start:r?i+s:o+u,end:r?i:o}}function mg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function hie(t,e){return c3(t,e+1)}function pie(t,e,n,r,i){for(var o=(r||[]).slice(),{start:s,end:u}=e,f=0,c=1,h=s,y=function(){var A=r==null?void 0:r[f];if(A===void 0)return{v:c3(r,c)};var w=f,C,R=()=>(C===void 0&&(C=n(A,w)),C),D=A.coordinate,I=f===0||mg(t,D,R,h,u);I||(f=0,h=s,c+=1),I&&(h=D+t*(R()/2+i),f+=c)},_;c<=o.length;)if(_=y(),_)return _.v;return[]}function DD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DD(Object(n),!0).forEach(function(r){mie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mie(t,e,n){return(e=gie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gie(t){var e=yie(t,"string");return typeof e=="symbol"?e:e+""}function yie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vie(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,{start:u}=e,{end:f}=e,c=function(_){var S=o[_],A,w=()=>(A===void 0&&(A=n(S,_)),A);if(_===s-1){var C=t*(S.coordinate+t*w()/2-f);o[_]=S=qn(qn({},S),{},{tickCoord:C>0?S.coordinate-C*t:S.coordinate})}else o[_]=S=qn(qn({},S),{},{tickCoord:S.coordinate});var R=mg(t,S.tickCoord,w,u,f);R&&(f=S.tickCoord-t*(w()/2+i),o[_]=qn(qn({},S),{},{isShow:!0}))},h=s-1;h>=0;h--)c(h);return o}function _ie(t,e,n,r,i,o){var s=(r||[]).slice(),u=s.length,{start:f,end:c}=e;if(o){var h=r[u-1],y=n(h,u-1),_=t*(h.coordinate+t*y/2-c);s[u-1]=h=qn(qn({},h),{},{tickCoord:_>0?h.coordinate-_*t:h.coordinate});var S=mg(t,h.tickCoord,()=>y,f,c);S&&(c=h.tickCoord-t*(y/2+i),s[u-1]=qn(qn({},h),{},{isShow:!0}))}for(var A=o?u-1:u,w=function(D){var I=s[D],$,U=()=>($===void 0&&($=n(I,D)),$);if(D===0){var G=t*(I.coordinate-t*U()/2-f);s[D]=I=qn(qn({},I),{},{tickCoord:G<0?I.coordinate-G*t:I.coordinate})}else s[D]=I=qn(qn({},I),{},{tickCoord:I.coordinate});var O=mg(t,I.tickCoord,U,f,c);O&&(f=I.tickCoord+t*(U()/2+i),s[D]=qn(qn({},I),{},{isShow:!0}))},C=0;C<A;C++)w(C);return s}function Tie(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:s,orientation:u,interval:f,tickFormatter:c,unit:h,angle:y}=t;if(!i||!i.length||!r)return[];if(Ce(f)||Kd.isSsr){var _;return(_=hie(i,Ce(f)?f:0))!==null&&_!==void 0?_:[]}var S=[],A=u==="top"||u==="bottom"?"width":"height",w=h&&A==="width"?rd(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},C=(I,$)=>{var U=typeof c=="function"?c(I.value,$):I.value;return A==="width"?fie(rd(U,{fontSize:e,letterSpacing:n}),w,y):rd(U,{fontSize:e,letterSpacing:n})[A]},R=i.length>=2?wr(i[1].coordinate-i[0].coordinate):1,D=die(o,R,A);return f==="equidistantPreserveStart"?pie(R,D,C,i,s):(f==="preserveStart"||f==="preserveStartEnd"?S=_ie(R,D,C,i,s,f==="preserveStartEnd"):S=vie(R,D,C,i,s),S.filter(I=>I.isShow))}var Eie=["viewBox"],Sie=["viewBox"];function Tu(){return Tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tu.apply(null,arguments)}function ND(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ND(Object(n),!0).forEach(function(r){Bw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OD(t,e){if(t==null)return{};var n,r,i=Aie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Aie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Bw(t,e,n){return(e=wie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wie(t){var e=bie(t,"string");return typeof e=="symbol"?e:e+""}function bie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class gc extends M.Component{constructor(e){super(e),this.tickRefs=M.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=OD(e,Eie),o=this.props,{viewBox:s}=o,u=OD(o,Sie);return!bT(r,s)||!bT(i,u)||!bT(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:o,orientation:s,tickSize:u,mirror:f,tickMargin:c}=this.props,h,y,_,S,A,w,C=f?-1:1,R=e.tickSize||u,D=Ce(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":h=y=e.coordinate,S=r+ +!f*o,_=S-C*R,w=_-C*c,A=D;break;case"left":_=S=e.coordinate,y=n+ +!f*i,h=y-C*R,A=h-C*c,w=D;break;case"right":_=S=e.coordinate,y=n+ +f*i,h=y+C*R,A=h+C*c,w=D;break;default:h=y=e.coordinate,S=r+ +f*o,_=S+C*R,w=_+C*c,A=D;break}return{line:{x1:h,y1:_,x2:y,y2:S},tick:{x:A,y:w}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:o,mirror:s,axisLine:u}=this.props,f=sn(sn(sn({},En(this.props,!1)),En(u,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var c=+(o==="top"&&!s||o==="bottom"&&s);f=sn(sn({},f),{},{x1:e,y1:n+c*i,x2:e+r,y2:n+c*i})}else{var h=+(o==="left"&&!s||o==="right"&&s);f=sn(sn({},f),{},{x1:e+h*r,y1:n,x2:e+h*r,y2:n+i})}return M.createElement("line",Tu({},f,{className:bt("recharts-cartesian-axis-line",rl(u,"className"))}))}static renderTickItem(e,n,r){var i,o=bt(n.className,"recharts-cartesian-axis-tick-value");if(M.isValidElement(e))i=M.cloneElement(e,sn(sn({},n),{},{className:o}));else if(typeof e=="function")i=e(sn(sn({},n),{},{className:o}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=bt(s,e.className)),i=M.createElement(Lw,Tu({},n,{className:s}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:o,tick:s,tickFormatter:u,unit:f,padding:c}=this.props,h=Tie(sn(sn({},this.props),{},{ticks:r}),e,n),y=this.getTickTextAnchor(),_=this.getTickVerticalAnchor(),S=Gg(this.props),A=En(s,!1),w=sn(sn({},S),{},{fill:"none"},En(i,!1)),C=h.map((R,D)=>{var{line:I,tick:$}=this.getTickLineCoord(R),U=sn(sn(sn(sn({textAnchor:y,verticalAnchor:_},S),{},{stroke:"none",fill:o},A),$),{},{index:D,payload:R,visibleTicksCount:h.length,tickFormatter:u,padding:c});return M.createElement(ja,Tu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},yA(this.props,R,D)),i&&M.createElement("line",Tu({},w,I,{className:bt("recharts-cartesian-axis-tick-line",rl(i,"className"))})),s&&gc.renderTickItem(s,U,"".concat(typeof u=="function"?u(R.value,D):R.value).concat(f||"")))});return C.length>0?M.createElement("g",{className:"recharts-cartesian-axis-ticks"},C):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:o}=this.props;if(o)return null;var{ticks:s}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:M.createElement(ja,{className:bt("recharts-cartesian-axis",i),ref:u=>{if(u){var f=u.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(f);var c=f[0];if(c){var h=window.getComputedStyle(c).fontSize,y=window.getComputedStyle(c).letterSpacing;(h!==this.state.fontSize||y!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(c).fontSize,letterSpacing:window.getComputedStyle(c).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,s),Er.renderCallByParent(this.props))}}Bw(gc,"displayName","CartesianAxis");Bw(gc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function kD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kD(Object(n),!0).forEach(function(r){Cie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cie(t,e,n){return(e=xie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xie(t){var e=Iie(t,"string");return typeof e=="symbol"?e:e+""}function Iie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rie={xAxis:{},yAxis:{},zAxis:{}},f3=Rr({name:"cartesianAxis",initialState:Rie,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=LD(LD({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:Pie,removeXAxis:Mie,addYAxis:Die,removeYAxis:Nie,addZAxis:pge,removeZAxis:mge,updateYAxisWidth:Oie}=f3.actions,kie=f3.reducer,Lie=["children"],Vie=["dangerouslySetInnerHTML","ticks"];function d3(t,e,n){return(e=Uie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uie(t){var e=Bie(t,"string");return typeof e=="symbol"?e:e+""}function Bie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YE(){return YE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YE.apply(null,arguments)}function h3(t,e){if(t==null)return{};var n,r,i=qie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Fie(t){var e=Sn(),n=M.useMemo(()=>{var{children:o}=t,s=h3(t,Lie);return s},[t]),r=Me(o=>Go(o,n.id)),i=n===r;return M.useEffect(()=>(e(Pie(n)),()=>{e(Mie(n))}),[n,e]),i?t.children:null}var $ie=t=>{var{xAxisId:e,className:n}=t,r=Me(yV),i=yi(),o="xAxis",s=Me(S=>hc(S,o,e,i)),u=Me(S=>h4(S,o,e,i)),f=Me(S=>u4(S,e)),c=Me(S=>pZ(S,e));if(f==null||c==null)return null;var{dangerouslySetInnerHTML:h,ticks:y}=t,_=h3(t,Vie);return M.createElement(gc,YE({},_,{scale:s,x:c.x,y:c.y,width:f.width,height:f.height,className:bt("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:u}))},Hie=t=>{var e,n,r,i,o;return M.createElement(Fie,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter},M.createElement($ie,t))};class qw extends M.Component{render(){return M.createElement(Hie,this.props)}}d3(qw,"displayName","XAxis");d3(qw,"defaultProps",{allowDataOverflow:vr.allowDataOverflow,allowDecimals:vr.allowDecimals,allowDuplicatedCategory:vr.allowDuplicatedCategory,height:vr.height,hide:!1,mirror:vr.mirror,orientation:vr.orientation,padding:vr.padding,reversed:vr.reversed,scale:vr.scale,tickCount:vr.tickCount,type:vr.type,xAxisId:0});var zie=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,s=0;if(e){e.forEach(h=>{if(h){var y=h.getBoundingClientRect();y.width>s&&(s=y.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+o,c=s+f+u+(n?r:0);return Math.round(c)}return 0},Gie=["dangerouslySetInnerHTML","ticks"];function p3(t,e,n){return(e=Kie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kie(t){var e=jie(t,"string");return typeof e=="symbol"?e:e+""}function jie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WE(){return WE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WE.apply(null,arguments)}function Yie(t,e){if(t==null)return{};var n,r,i=Wie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Jie(t){var e=Sn();return M.useEffect(()=>(e(Die(t)),()=>{e(Nie(t))}),[t,e]),null}var Qie=t=>{var e,{yAxisId:n,className:r,width:i,label:o}=t,s=M.useRef(null),u=M.useRef(null),f=Me(yV),c=yi(),h=Sn(),y="yAxis",_=Me(I=>hc(I,y,n,c)),S=Me(I=>c4(I,n)),A=Me(I=>mZ(I,n)),w=Me(I=>h4(I,y,n,c));if(M.useLayoutEffect(()=>{var I;if(!(i!=="auto"||!S||Vw(o)||M.isValidElement(o))){var $=s.current,U=$==null||(I=$.tickRefs)===null||I===void 0?void 0:I.current,{tickSize:G,tickMargin:O}=$.props,k=zie({ticks:U,label:u.current,labelGapWithTick:5,tickSize:G,tickMargin:O});Math.round(S.width)!==Math.round(k)&&h(Oie({id:n,width:k}))}},[s,s==null||(e=s.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,S==null?void 0:S.width,S,h,o,n,i]),S==null||A==null)return null;var{dangerouslySetInnerHTML:C,ticks:R}=t,D=Yie(t,Gie);return M.createElement(gc,WE({},D,{ref:s,labelRef:u,scale:_,x:A.x,y:A.y,width:S.width,height:S.height,className:bt("recharts-".concat(y," ").concat(y),r),viewBox:f,ticks:w}))},Xie=t=>{var e,n,r,i,o;return M.createElement(M.Fragment,null,M.createElement(Jie,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter}),M.createElement(Qie,t))},Zie={allowDataOverflow:_r.allowDataOverflow,allowDecimals:_r.allowDecimals,allowDuplicatedCategory:_r.allowDuplicatedCategory,hide:!1,mirror:_r.mirror,orientation:_r.orientation,padding:_r.padding,reversed:_r.reversed,scale:_r.scale,tickCount:_r.tickCount,type:_r.type,width:_r.width,yAxisId:0};class Fw extends M.Component{render(){return M.createElement(Xie,this.props)}}p3(Fw,"displayName","YAxis");p3(Fw,"defaultProps",Zie);var CT={exports:{}},xT={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VD;function eoe(){if(VD)return xT;VD=1;var t=Ju();function e(f,c){return f===c&&(f!==0||1/f===1/c)||f!==f&&c!==c}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,s=t.useMemo,u=t.useDebugValue;return xT.useSyncExternalStoreWithSelector=function(f,c,h,y,_){var S=i(null);if(S.current===null){var A={hasValue:!1,value:null};S.current=A}else A=S.current;S=s(function(){function C(U){if(!R){if(R=!0,D=U,U=y(U),_!==void 0&&A.hasValue){var G=A.value;if(_(G,U))return I=G}return I=U}if(G=I,n(D,U))return G;var O=y(U);return _!==void 0&&_(G,O)?(D=U,G):(D=U,I=O)}var R=!1,D,I,$=h===void 0?null:h;return[function(){return C(c())},$===null?void 0:function(){return C($())}]},[c,h,y,_]);var w=r(f,S[0],S[1]);return o(function(){A.hasValue=!0,A.value=w},[w]),u(w),w},xT}var UD;function toe(){return UD||(UD=1,CT.exports=eoe()),CT.exports}toe();function noe(t){t()}function roe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){noe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var BD={notify(){},get:()=>[]};function ioe(t,e){let n,r=BD,i=0,o=!1;function s(w){h();const C=r.subscribe(w);let R=!1;return()=>{R||(R=!0,C(),y())}}function u(){r.notify()}function f(){A.onStateChange&&A.onStateChange()}function c(){return o}function h(){i++,n||(n=t.subscribe(f),r=roe())}function y(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=BD)}function _(){o||(o=!0,h())}function S(){o&&(o=!1,y())}const A={addNestedSub:s,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:c,trySubscribe:_,tryUnsubscribe:S,getListeners:()=>r};return A}var ooe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aoe=ooe(),soe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",loe=soe(),uoe=()=>aoe||loe?M.useLayoutEffect:M.useEffect,coe=uoe(),IT=Symbol.for("react-redux-context"),RT=typeof globalThis<"u"?globalThis:{};function foe(){if(!M.createContext)return{};const t=RT[IT]??(RT[IT]=new Map);let e=t.get(M.createContext);return e||(e=M.createContext(null),t.set(M.createContext,e)),e}var doe=foe();function hoe(t){const{children:e,context:n,serverState:r,store:i}=t,o=M.useMemo(()=>{const f=ioe(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),s=M.useMemo(()=>i.getState(),[i]);coe(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),s!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,s]);const u=n||doe;return M.createElement(u.Provider,{value:o},e)}var poe=hoe,moe=(t,e)=>e,$w=re([moe,ct,DU,fn,I4,Ko,_ee,An],wee),Hw=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},m3=Qr("mouseClick"),g3=Gd();g3.startListening({actionCreator:m3,effect:(t,e)=>{var n=t.payload,r=$w(e.getState(),Hw(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(IZ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var JE=Qr("mouseMove"),y3=Gd();y3.startListening({actionCreator:JE,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=xw(r,r.tooltip.settings.shared),o=$w(r,Hw(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?e.dispatch(E4({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(T4()))}});function goe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var qD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},v3=Rr({name:"rootProps",initialState:qD,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:qD.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),yoe=v3.reducer,{updateOptions:voe}=v3.actions,_3=Rr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:gge}=_3.actions,_oe=_3.reducer,T3=Qr("keyDown"),E3=Qr("focus"),zw=Gd();zw.startListening({actionCreator:T3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var s=Number(Iw(i,mc(n))),u=Ko(n);if(o==="Enter"){var f=cg(n,"axis","hover",String(i.index));e.dispatch(HE({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var c=_Z(n),h=c==="left-to-right"?1:-1,y=o==="ArrowRight"?1:-1,_=s+y*h;if(!(u==null||_>=u.length||_<0)){var S=cg(n,"axis","hover",String(_));e.dispatch(HE({active:!0,activeIndex:_.toString(),activeDataKey:void 0,activeCoordinate:S}))}}}}});zw.startListening({actionCreator:E3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",s=cg(n,"axis","hover",String(o));e.dispatch(HE({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:s}))}}}});var zr=Qr("externalEvent"),S3=Gd();S3.startListening({actionCreator:zr,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:cee(n),activeDataKey:D4(n),activeIndex:Yu(n),activeLabel:M4(n),activeTooltipIndex:Yu(n),isTooltipActive:fee(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Toe=re([pc],t=>t.tooltipItemPayloads),Eoe=re([Toe,th,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var s=e(o,n);return s}}}),A3=Qr("touchMove"),w3=Gd();w3.startListening({actionCreator:A3,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=xw(r,r.tooltip.settings.shared);if(i==="axis"){var o=$w(r,Hw({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(E4({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var s,u=n.touches[0],f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var c=f.getAttribute(eY),h=(s=f.getAttribute(tY))!==null&&s!==void 0?s:void 0,y=Eoe(e.getState(),c,h);e.dispatch(_4({activeDataKey:h,activeIndex:c,activeCoordinate:y}))}}});var Soe=GL({brush:tie,cartesianAxis:kie,chartData:Fee,errorBars:nre,graphicalItems:Une,layout:Aj,legend:mY,options:Lee,polarAxis:lne,polarOptions:_oe,referenceElements:lie,rootProps:yoe,tooltip:RZ}),Aoe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return YK({reducer:Soe,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([g3.middleware,y3.middleware,zw.middleware,S3.middleware,w3.middleware]),devTools:{serialize:{replacer:goe},name:"recharts-".concat(n)}})};function woe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=yi(),o=M.useRef(null);if(i)return n;o.current==null&&(o.current=Aoe(e,r));var s=xA;return M.createElement(poe,{context:s,store:o.current},n)}function boe(t){var{layout:e,width:n,height:r,margin:i}=t,o=Sn(),s=yi();return M.useEffect(()=>{s||(o(Tj(e)),o(Ej({width:n,height:r})),o(_j(i)))},[o,s,e,n,r,i]),null}function Coe(t){var e=Sn();return M.useEffect(()=>{e(voe(t))},[e,t]),null}var xoe=["children"];function Ioe(t,e){if(t==null)return{};var n,r,i=Roe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Roe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gg(){return gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gg.apply(null,arguments)}var Poe={width:"100%",height:"100%"},Moe=M.forwardRef((t,e)=>{var n=cY(),r=fY(),i=_V();if(!jm(n)||!jm(r))return null;var{children:o,otherAttributes:s,title:u,desc:f}=t,c,h;return typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?h=s.role:h=i?"application":void 0,M.createElement(mL,gg({},s,{title:u,desc:f,role:h,tabIndex:c,width:n,height:r,style:Poe,ref:e}),o)}),Doe=t=>{var{children:e}=t,n=Me(ry);if(!n)return null;var{width:r,height:i,y:o,x:s}=n;return M.createElement(mL,{width:r,height:i,x:s,y:o},e)},FD=M.forwardRef((t,e)=>{var{children:n}=t,r=Ioe(t,xoe),i=yi();return i?M.createElement(Doe,null,n):M.createElement(Moe,gg({ref:e},r),n)});function Noe(){var t=Sn(),[e,n]=M.useState(null),r=Me(Zj);return M.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;Ir(o)&&o!==r&&t(Sj(o))}},[e,t,r]),n}function $D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ooe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$D(Object(n),!0).forEach(function(r){koe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function koe(t,e,n){return(e=Loe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Loe(t){var e=Voe(t,"string");return typeof e=="symbol"?e:e+""}function Voe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uoe=M.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:s,onDoubleClick:u,onMouseDown:f,onMouseEnter:c,onMouseLeave:h,onMouseMove:y,onMouseUp:_,onTouchEnd:S,onTouchMove:A,onTouchStart:w,style:C,width:R}=t,D=Sn(),[I,$]=M.useState(null),[U,G]=M.useState(null);zee();var O=Noe(),k=M.useCallback(ae=>{O(ae),typeof e=="function"&&e(ae),$(ae),G(ae)},[O,e,$,G]),N=M.useCallback(ae=>{D(m3(ae)),D(zr({handler:o,reactEvent:ae}))},[D,o]),q=M.useCallback(ae=>{D(JE(ae)),D(zr({handler:c,reactEvent:ae}))},[D,c]),B=M.useCallback(ae=>{D(T4()),D(zr({handler:h,reactEvent:ae}))},[D,h]),F=M.useCallback(ae=>{D(JE(ae)),D(zr({handler:y,reactEvent:ae}))},[D,y]),H=M.useCallback(()=>{D(E3())},[D]),Ae=M.useCallback(ae=>{D(T3(ae.key))},[D]),ye=M.useCallback(ae=>{D(zr({handler:s,reactEvent:ae}))},[D,s]),Z=M.useCallback(ae=>{D(zr({handler:u,reactEvent:ae}))},[D,u]),de=M.useCallback(ae=>{D(zr({handler:f,reactEvent:ae}))},[D,f]),ve=M.useCallback(ae=>{D(zr({handler:_,reactEvent:ae}))},[D,_]),Le=M.useCallback(ae=>{D(zr({handler:w,reactEvent:ae}))},[D,w]),j=M.useCallback(ae=>{D(A3(ae)),D(zr({handler:A,reactEvent:ae}))},[D,A]),ue=M.useCallback(ae=>{D(zr({handler:S,reactEvent:ae}))},[D,S]);return M.createElement(U4.Provider,{value:I},M.createElement(z8.Provider,{value:U},M.createElement("div",{className:bt("recharts-wrapper",r),style:Ooe({position:"relative",cursor:"default",width:R,height:i},C),onClick:N,onContextMenu:ye,onDoubleClick:Z,onFocus:H,onKeyDown:Ae,onMouseDown:de,onMouseEnter:q,onMouseLeave:B,onMouseMove:F,onMouseUp:ve,onTouchEnd:ue,onTouchMove:j,onTouchStart:Le,ref:k},n)))}),Boe=["children","className","width","height","style","compact","title","desc"];function qoe(t,e){if(t==null)return{};var n,r,i=Foe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Foe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $oe=M.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:o,style:s,compact:u,title:f,desc:c}=t,h=qoe(t,Boe),y=Gg(h);return u?M.createElement(FD,{otherAttributes:y,title:f,desc:c},n):M.createElement(Uoe,{className:r,style:s,width:i,height:o,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},M.createElement(FD,{otherAttributes:y,title:f,desc:c,ref:e},M.createElement(cie,null,n)))}),Hoe=["width","height"];function QE(){return QE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QE.apply(null,arguments)}function zoe(t,e){if(t==null)return{};var n,r,i=Goe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Goe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Koe={top:5,right:5,bottom:5,left:5},joe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Koe,reverseStackOrder:!1,syncMethod:"index"},Yoe=M.forwardRef(function(e,n){var r,i=hl(e.categoricalChartProps,joe),{width:o,height:s}=i,u=zoe(i,Hoe);if(!jm(o)||!jm(s))return null;var{chartName:f,defaultTooltipEventType:c,validateTooltipEventTypes:h,tooltipPayloadSearcher:y,categoricalChartProps:_}=e,S={chartName:f,defaultTooltipEventType:c,validateTooltipEventTypes:h,tooltipPayloadSearcher:y,eventEmitter:void 0};return M.createElement(woe,{preloadedState:{options:S},reduxStoreName:(r=_.id)!==null&&r!==void 0?r:f},M.createElement(eie,{chartData:_.data}),M.createElement(boe,{width:o,height:s,layout:i.layout,margin:i.margin}),M.createElement(Coe,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),M.createElement($oe,QE({},u,{width:o,height:s,ref:n})))}),Woe=["axis","item"],Joe=M.forwardRef((t,e)=>M.createElement(Yoe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Woe,tooltipPayloadSearcher:Oee,categoricalChartProps:t,ref:e}));const Qoe=()=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:z.jsx("path",{d:"M2 11h3v7H2v-7zM6 3h3v15H6V3zm5 8h3v7h-3v-7zm4-4h3v11h-3V7z"})}),Xoe=()=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:z.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),Zoe=()=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:z.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),eae=()=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),tae=({data:t})=>!t||t.length===0?z.jsx("p",{className:"text-stone-400 text-center py-8",children:"Нет данных для отображения."}):z.jsx(lte,{width:"100%",height:300,children:z.jsxs(Joe,{data:t,margin:{top:5,right:20,left:-10,bottom:5},children:[z.jsx(qw,{dataKey:"label",stroke:"#a8a29e",fontSize:12,tickLine:!1,axisLine:!1}),z.jsx(Fw,{stroke:"#a8a29e",fontSize:12,tickLine:!1,axisLine:!1,allowDecimals:!1}),z.jsx(Xee,{contentStyle:{backgroundColor:"#292524",border:"1px solid #57534e",borderRadius:"0.375rem"},labelStyle:{color:"#f59e0b"},itemStyle:{color:"#d6d3d1"},formatter:e=>[e,"Просмотры"]}),z.jsx(a3,{dataKey:"value",fill:"#f59e0b",radius:[4,4,0,0]})]})}),nae=({codeword:t,onUpdate:e,onDelete:n})=>{const[r,i]=M.useState(t.usedMessage),[o,s]=M.useState(t.introText||"ВАШЕ КОДОВОЕ СЛОВО:"),[u,f]=M.useState(t.note||""),[c,h]=M.useState(!1),[y,_]=M.useState([]),[S,A]=M.useState(!1),[w,C]=M.useState(""),[R,D]=M.useState("day"),I=`${window.location.origin}${window.location.pathname}#/view?c=${t.id}`,$=`https://api.qrserver.com/v1/create-qr-code/?size=256x256&data=${encodeURIComponent(I)}`,U=async()=>{A(!0),C(""),_([]);try{const O=um(Bs(tr,"codewords",t.id,"viewEvents"),aE("viewedAt","asc")),N=(await iL(O)).docs.map(F=>F.data().viewedAt.toDate());if(N.length===0){A(!1);return}const q={};N.forEach(F=>{let H="";R==="day"?H=F.toLocaleDateString("ru-RU",{year:"2-digit",month:"2-digit",day:"2-digit"}):H=F.toLocaleDateString("ru-RU",{year:"2-digit",month:"2-digit",day:"2-digit"})+` ${F.getHours()}:00`,q[H]=(q[H]||0)+1});const B=Object.keys(q).map(F=>({label:F,value:q[F]}));_(B)}catch(O){console.error("Error fetching stats:",O),C("Не удалось загрузить статистику.")}finally{A(!1)}};M.useEffect(()=>{c&&U()},[c,R]);const G=async()=>{try{const O=await fetch($);if(!O.ok)throw new Error("QR code fetch failed");const k=await O.blob(),N=window.URL.createObjectURL(k),q=document.createElement("a");q.href=N;const B=t.word.replace(/[^a-z0-9а-яё]/gi,"_").toLowerCase();q.setAttribute("download",`qr_${B}.png`),document.body.appendChild(q),q.click(),q.parentNode&&q.parentNode.removeChild(q),window.URL.revokeObjectURL(N)}catch(O){console.error("Failed to download QR code",O),alert("Не удалось скачать QR-код.")}};return z.jsxs(z.Fragment,{children:[z.jsxs("div",{className:"bg-stone-800/70 border border-stone-700 p-4 rounded-md grid grid-cols-1 md:grid-cols-3 gap-4 items-start",children:[z.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[z.jsx("img",{src:$,alt:"QR Code",className:"w-36 h-36 border-2 border-stone-600 rounded-md"}),z.jsxs("button",{onClick:G,className:"flex items-center justify-center gap-2 w-full bg-stone-600 hover:bg-stone-500 text-stone-200 px-3 py-2 rounded-md text-sm transition-colors",children:[z.jsx(eae,{}),"Скачать QR"]}),z.jsx("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-amber-400 hover:text-amber-300 break-all text-center pt-1",children:I})]}),z.jsxs("div",{className:"md:col-span-2 space-y-3",children:[z.jsxs("div",{children:[z.jsx("label",{htmlFor:`introText_${t.id}`,className:"text-sm font-bold text-stone-400 block",children:"Вступительный текст:"}),z.jsx("input",{id:`introText_${t.id}`,type:"text",value:o,onChange:O=>s(O.target.value),onBlur:()=>e(t.id,{introText:o}),className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-3 py-1 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"text-sm font-bold text-stone-400 block",children:"Кодовое слово:"}),z.jsx("p",{className:"text-lg bg-stone-900 p-2 rounded-md font-bold text-stone-100 break-words",children:t.word})]}),z.jsxs("div",{children:[z.jsx("label",{htmlFor:`usedMsg_${t.id}`,className:"text-sm font-bold text-stone-400 block",children:"Сообщение (если использовано):"}),z.jsx("input",{id:`usedMsg_${t.id}`,type:"text",value:r,onChange:O=>i(O.target.value),onBlur:()=>e(t.id,{usedMessage:r}),className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-3 py-1 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"})]}),z.jsxs("div",{children:[z.jsx("label",{htmlFor:`note_${t.id}`,className:"text-sm font-bold text-stone-400 block",children:"Заметка (видна только вам):"}),z.jsx("textarea",{id:`note_${t.id}`,value:u,onChange:O=>f(O.target.value),onBlur:()=>e(t.id,{note:u}),className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-3 py-1 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all h-20 resize-y",placeholder:"Любые пометки по этому коду..."})]}),z.jsxs("div",{className:"flex items-center justify-between pt-2",children:[z.jsxs("label",{htmlFor:`toggle_${t.id}`,className:"flex items-center cursor-pointer",children:[z.jsxs("div",{className:"relative",children:[z.jsx("input",{type:"checkbox",id:`toggle_${t.id}`,className:"sr-only",checked:t.isUsed,onChange:()=>e(t.id,{isUsed:!t.isUsed})}),z.jsx("div",{className:`block ${t.isUsed?"bg-amber-500":"bg-stone-600"} w-14 h-8 rounded-full transition-colors`}),z.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-transform ${t.isUsed?"transform translate-x-6":""}`})]}),z.jsx("div",{className:"ml-3 text-stone-300 font-semibold",children:t.isUsed?"ИСПОЛЬЗОВАНО":"АКТИВНО"})]}),z.jsxs("div",{className:"flex items-center gap-2 text-stone-400",children:[z.jsxs("div",{className:"flex items-center gap-1",title:"Просмотры",children:[z.jsx(Xoe,{}),z.jsx("span",{children:t.views||0})]}),z.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-1 bg-sky-800 hover:bg-sky-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[z.jsx(Qoe,{}),"Статистика"]}),z.jsxs("button",{onClick:()=>n(t.id),className:"flex items-center gap-1 bg-red-800 hover:bg-red-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[z.jsx(Zoe,{}),"Удалить"]})]})]})]})]}),c&&z.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",onClick:()=>h(!1),role:"dialog","aria-modal":"true","aria-labelledby":"stats-modal-title",children:z.jsxs("div",{className:"bg-stone-800 border border-stone-700 rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col",onClick:O=>O.stopPropagation(),children:[z.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-stone-700",children:[z.jsx("h3",{id:"stats-modal-title",className:"font-display text-2xl text-amber-400",children:"Статистика просмотров"}),z.jsx("button",{onClick:()=>h(!1),className:"text-stone-400 hover:text-white text-3xl leading-none","aria-label":"Close",children:"×"})]}),z.jsxs("div",{className:"p-4 flex-grow overflow-y-auto",children:[z.jsxs("div",{className:"flex gap-2 mb-4",children:[z.jsx("button",{onClick:()=>D("day"),className:`px-4 py-2 rounded-md font-semibold ${R==="day"?"bg-amber-500 text-stone-900":"bg-stone-700 text-stone-300 hover:bg-stone-600"}`,children:"По дням"}),z.jsx("button",{onClick:()=>D("hour"),className:`px-4 py-2 rounded-md font-semibold ${R==="hour"?"bg-amber-500 text-stone-900":"bg-stone-700 text-stone-300 hover:bg-stone-600"}`,children:"По часам"})]}),S&&z.jsx("p",{className:"animate-pulse text-center py-8 font-display text-xl text-stone-400",children:"ЗАГРУЗКА СТАТИСТИКИ..."}),w&&z.jsx("p",{className:"text-red-500 text-center py-8",children:w}),!S&&!w&&z.jsx(tae,{data:y})]})]})})]})},rae=()=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:z.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),iae=()=>z.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[z.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),z.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),oae=()=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:z.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),aae=({game:t,onDelete:e})=>{var o;const n=(o=t.createdAt)==null?void 0:o.toDate().toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}),r=()=>{window.location.hash=`#/admin/quest/${t.id}`},i=()=>{window.location.hash=`#/play/${t.id}`};return z.jsxs("div",{className:"bg-stone-800/70 border border-stone-700 p-4 rounded-md flex justify-between items-center",children:[z.jsxs("div",{children:[z.jsx("h4",{className:"text-xl font-bold text-stone-100",children:t.title}),z.jsxs("div",{className:"text-sm text-stone-400 mt-1",children:[z.jsx("span",{className:`inline-block px-2 py-0.5 rounded-md mr-2 text-xs font-semibold ${t.status==="published"?"bg-green-900/50 text-green-300":"bg-sky-900/50 text-sky-300"}`,children:t.status==="published"?"Опубликован":"Черновик"}),z.jsxs("span",{children:["Создан: ",n||"N/A"]})]})]}),z.jsxs("div",{className:"flex items-center gap-2",children:[z.jsxs("button",{onClick:i,className:"flex items-center gap-1 bg-green-800 hover:bg-green-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[z.jsx(rae,{})," Играть"]}),z.jsxs("button",{onClick:r,className:"flex items-center gap-1 bg-blue-800 hover:bg-blue-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[z.jsx(iae,{})," Редактировать"]}),z.jsxs("button",{onClick:()=>e(t.id),className:"flex items-center gap-1 bg-red-800 hover:bg-red-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[z.jsx(oae,{})," Удалить"]})]})]})},sae=()=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H5v-2H3v-2H1v-4a6 6 0 017.743-5.743z"})}),lae=()=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),uae=()=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:z.jsx("path",{d:"M17 3H5a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2zm-3 12H8v-4h6v4zm2-6H5V5h12v4z"})}),cae=()=>{const[t,e]=M.useState("codewords"),[n,r]=M.useState([]),[i,o]=M.useState(""),[s,u]=M.useState("Этот код уже был использован."),[f,c]=M.useState("ВАШЕ КОДОВОЕ СЛОВО:"),[h,y]=M.useState([]),[_,S]=M.useState(""),[A,w]=M.useState(""),[C,R]=M.useState({type:"",text:""});M.useEffect(()=>{let N;if(t==="codewords"){const q=um(Bs(tr,"codewords"),aE("createdAt","desc"));N=lE(q,B=>{const F=B.docs.map(H=>({...H.data(),id:H.id}));r(F)},B=>{console.error("Error fetching codewords:",B),alert("Не удалось загрузить кодовые слова.")})}else if(t==="quests"){const q=um(Bs(tr,"games"),aE("createdAt","desc"));N=lE(q,B=>{const F=B.docs.map(H=>({...H.data(),id:H.id}));y(F)},B=>{console.error("Error fetching games:",B),alert("Не удалось загрузить квесты.")})}return()=>N&&N()},[t]);const D=async N=>{if(N.preventDefault(),i.trim()!=="")try{await sE(Bs(tr,"codewords"),{word:i.trim(),isUsed:!1,usedMessage:s.trim()||"Этот код уже был использован.",introText:f.trim()||"ВАШЕ КОДОВОЕ СЛОВО:",note:"",createdAt:td(),views:0}),o(""),c("ВАШЕ КОДОВОЕ СЛОВО:"),u("Этот код уже был использован.")}catch(q){console.error("Error adding codeword: ",q),alert("Ошибка при добавлении кода.")}},I=async(N,q)=>{try{await hA(Ba(tr,"codewords",N),q)}catch(B){console.error("Error updating codeword: ",B),alert("Ошибка при обновлении кода.")}},$=async N=>{if(window.confirm("Вы уверены, что хотите удалить этот код? Это действие необратимо."))try{const q=um(Bs(tr,"codewords",N,"viewEvents")),B=await iL(q),F=E8(tr);B.docs.forEach(H=>F.delete(H.ref)),await F.commit(),await XI(Ba(tr,"codewords",N))}catch(q){console.error("Error deleting codeword:",q),alert("Ошибка при удалении кода.")}},U=async N=>{if(N.preventDefault(),_.trim()!=="")try{const q=`quest_${Date.now()}`;await sE(Bs(tr,"games"),{title:_.trim(),status:"draft",createdAt:td(),updatedAt:td(),dsl:{format:"bk-quest@1",meta:{id:q,title:_.trim(),version:1,defaultLocale:"ru"},assets:{images:{},audio:{}},state:{vars:{},inventory:[]},nodes:{start:{text:"This is the beginning."}}}}),S("")}catch(q){console.error("Error adding quest: ",q),alert("Ошибка при создании квеста.")}},G=async N=>{if(window.confirm("Вы уверены, что хотите удалить этот квест? Все его данные будут стерты навсегда."))try{await XI(Ba(tr,"games",N))}catch(q){console.error("Error deleting quest:",q),alert("Ошибка при удалении квеста.")}},O=async N=>{if(N.preventDefault(),R({type:"",text:""}),window.confirm("Вы уверены, что хотите изменить пароль?"))try{if(!nd.currentUser)throw new Error("Пользователь не авторизован.");if(!A||A.length<6)throw new Error("Пароль должен содержать не менее 6 символов.");await J9(nd.currentUser,A),R({type:"success",text:"Пароль успешно изменен!"}),w("")}catch(q){R({type:"error",text:`Ошибка: ${q.message}`})}},k=({tabName:N,label:q,children:B})=>z.jsxs("button",{onClick:()=>e(N),className:`flex items-center justify-center w-full px-4 py-3 font-display text-xl rounded-t-md transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-500
            ${t===N?"bg-stone-800/50 text-amber-400 border-b-2 border-amber-400":"bg-stone-900/50 text-stone-400 hover:bg-stone-800/50"}`,children:[B,q]});return z.jsxs("div",{className:"container mx-auto py-8 px-4",children:[z.jsxs("div",{className:"flex justify-between items-center mb-6",children:[z.jsx("h2",{className:"font-display text-4xl text-stone-200",children:"Панель управления"}),z.jsx("button",{onClick:()=>t$(nd),className:"bg-stone-700 hover:bg-stone-600 text-stone-200 font-semibold py-2 px-4 rounded-md transition-colors",children:"Выйти"})]}),z.jsxs("div",{className:"bg-stone-800/50 border border-stone-700 p-6 rounded-md mb-8",children:[z.jsx("h3",{className:"font-display text-2xl text-amber-400 mb-4",children:"Изменить пароль"}),z.jsxs("form",{onSubmit:O,className:"space-y-4",children:[z.jsx("input",{type:"password",value:A,onChange:N=>w(N.target.value),placeholder:"Новый пароль (минимум 6 символов)",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),z.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center font-display text-xl bg-amber-500 text-stone-900 py-2 rounded-md hover:bg-amber-400 transition-colors",children:[z.jsx(uae,{})," Сохранить пароль"]}),C.text&&z.jsx("p",{className:C.type==="success"?"text-green-400":"text-red-500",children:C.text})]})]}),z.jsxs("div",{className:"flex mb-[-1px]",children:[z.jsx(k,{tabName:"codewords",label:"Кодовые слова",children:z.jsx(sae,{})}),z.jsx(k,{tabName:"quests",label:"Квесты",children:z.jsx(lae,{})})]}),z.jsxs("div",{className:"bg-stone-800/50 border border-stone-700 p-6 rounded-b-md rounded-tr-md",children:[t==="codewords"&&z.jsxs(z.Fragment,{children:[z.jsxs("div",{className:"mb-8",children:[z.jsx("h3",{className:"font-display text-2xl text-amber-400 mb-4",children:"Добавить новый код"}),z.jsxs("form",{onSubmit:D,className:"space-y-4",children:[z.jsx("input",{type:"text",value:f,onChange:N=>c(N.target.value),placeholder:"Вступительный текст (обращение)",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),z.jsx("input",{type:"text",value:i,onChange:N=>o(N.target.value),placeholder:"Новое кодовое слово",required:!0,className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),z.jsx("input",{type:"text",value:s,onChange:N=>u(N.target.value),placeholder:"Сообщение если код использован",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),z.jsx("button",{type:"submit",className:"w-full font-display text-xl bg-amber-500 text-stone-900 py-2 rounded-md hover:bg-amber-400 transition-colors",children:"Создать QR-код"})]})]}),z.jsx("div",{className:"space-y-4",children:n.map(N=>z.jsx(nae,{codeword:N,onUpdate:I,onDelete:$},N.id))})]}),t==="quests"&&z.jsxs(z.Fragment,{children:[z.jsxs("div",{className:"mb-8",children:[z.jsx("h3",{className:"font-display text-2xl text-amber-400 mb-4",children:"Создать новый квест"}),z.jsxs("form",{onSubmit:U,className:"flex gap-4",children:[z.jsx("input",{type:"text",value:_,onChange:N=>S(N.target.value),placeholder:"Название квеста",required:!0,className:"flex-grow bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),z.jsx("button",{type:"submit",className:"font-display text-xl bg-amber-500 text-stone-900 py-2 px-6 rounded-md hover:bg-amber-400 transition-colors",children:"Создать"})]})]}),z.jsx("div",{className:"space-y-4",children:h.length>0?h.map(N=>z.jsx(aae,{game:N,onDelete:G},N.id)):z.jsx("p",{className:"text-stone-400 text-center py-4",children:"Квесты еще не созданы."})})]})]})]})},fae=()=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),dae=()=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),HD=({codeId:t})=>{const[e,n]=M.useState(null),[r,i]=M.useState("loading"),[o,s]=M.useState(!1),u=Ki();M.useEffect(()=>{const c=new URLSearchParams(u.search||u.hash.split("?")[1]),h=t||c.get("c");if(h){const y=Ba(tr,"codewords",h);(async()=>{try{const S=await rL(y);if(S.exists()){const A={id:S.id,...S.data()};n(A),i("found");const w=`viewed-${h}`;sessionStorage.getItem(w)||(await hA(y,{views:T8(1)}),await sE(Bs(y,"viewEvents"),{viewedAt:td()}),sessionStorage.setItem(w,"true"))}else i("not-found")}catch(S){console.error("Failed to fetch codeword from Firestore:",S),i("error")}})()}else i("not-found")},[u,t]);const f=()=>{e&&!e.isUsed&&(navigator.clipboard.writeText(e.word),s(!0),setTimeout(()=>s(!1),2e3))};return r==="loading"?z.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:z.jsx("p",{className:"font-display text-2xl text-stone-400 animate-pulse",children:"ПОИСК КОДА..."})}):r==="not-found"||r==="error"?z.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center p-4",children:[z.jsx("h2",{className:"font-display text-6xl text-red-500",children:"404"}),z.jsx("p",{className:"text-stone-300 text-xl mt-2",children:"Код не найден."}),z.jsx("p",{className:"text-stone-500",children:"Возможно, ссылка неверна или код был удален."})]}):e!=null&&e.isUsed?z.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center p-4",children:[z.jsx("h2",{className:"font-display text-5xl text-amber-500",children:"КОД ИСПОЛЬЗОВАН"}),z.jsx("p",{className:"text-stone-300 text-xl mt-4 max-w-lg",children:e.usedMessage})]}):z.jsx("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center p-4",children:z.jsxs("div",{className:"w-full max-w-2xl bg-stone-800/50 border-2 border-stone-700 p-8 rounded-lg shadow-2xl shadow-black/50",children:[z.jsx("p",{className:"text-stone-400 font-display text-2xl tracking-wide",children:(e==null?void 0:e.introText)||"ВАШЕ КОДОВОЕ СЛОВО:"}),z.jsx("p",{className:"text-amber-400 font-bold text-3xl md:text-5xl my-4 break-words select-all tracking-widest",children:e==null?void 0:e.word}),z.jsxs("button",{onClick:f,className:"w-full flex items-center justify-center gap-3 mt-6 bg-stone-700 hover:bg-amber-500 hover:text-stone-900 text-stone-200 font-display text-2xl py-3 rounded-md transition-all duration-300",children:[o?z.jsx(dae,{}):z.jsx(fae,{}),o?"СКОПИРОВАНО!":"СКОПИРОВАТЬ КОД"]})]})})},zD=()=>{var D;const{questId:t}=SO(),[e,n]=M.useState(null),[r,i]=M.useState(null),[o,s]=M.useState("start"),[u,f]=M.useState(!0),[c,h]=M.useState(""),y=I=>I?typeof I=="string"?I:I[(e==null?void 0:e.dsl.meta.defaultLocale)||"ru"]||Object.values(I)[0]||"":"",_=M.useCallback((I,$)=>{if(I.all)return I.all.every(O=>_(O,$));if(I.any)return I.any.some(O=>_(O,$));if(I.not)return!_(I.not,$);const{vars:U,inventory:G}=$;return I.hp_eq!==void 0?U.hp===I.hp_eq:I.hp_gt!==void 0?U.hp>I.hp_gt:I.hp_gte!==void 0?U.hp>=I.hp_gte:I.hp_lt!==void 0?U.hp<I.hp_lt:I.hp_lte!==void 0?U.hp<=I.hp_lte:I.has_item?G.includes(I.has_item):I.missing_item?!G.includes(I.missing_item):I.var_eq?Object.entries(I.var_eq).every(([O,k])=>U[O]===k):I.var_neq?Object.entries(I.var_neq).every(([O,k])=>U[O]!==k):!0},[]),S=M.useCallback((I,$)=>{if(!I)return $;const U=JSON.parse(JSON.stringify($));return I.forEach(G=>{G.add&&Object.entries(G.add).forEach(([O,k])=>{U.vars[O]=(U.vars[O]||0)+k}),G.set&&Object.entries(G.set).forEach(([O,k])=>{U.vars[O]=k}),G.inv_add&&!U.inventory.includes(G.inv_add)&&U.inventory.push(G.inv_add),G.inv_remove&&(U.inventory=U.inventory.filter(O=>O!==G.inv_remove))}),U},[]);M.useEffect(()=>{if(!t){h("Квест не найден."),f(!1);return}f(!0),h("");const I=Ba(tr,"games",t);rL(I).then($=>{if($.exists()){const U={id:$.id,...$.data()};n(U);const G=localStorage.getItem(`quest-save-${t}`);if(G){const{playerState:O,currentNodeId:k}=JSON.parse(G);i(O),s(k)}else i(U.dsl.state),s("start")}else h("Квест не найден.");f(!1)}).catch($=>{console.error("Error fetching quest:",$),h("Ошибка при загрузке квеста."),f(!1)})},[t]),M.useEffect(()=>{if(e&&r){const I={questId:t,playerState:r,currentNodeId:o};localStorage.setItem(`quest-save-${t}`,JSON.stringify(I))}},[r,o,t,e]);const A=e==null?void 0:e.dsl.nodes[o];M.useEffect(()=>{if(!A||!r)return;const I=S(A.effects,r);if(I!==r){i(I);return}if(A.branch){for(const $ of A.branch)if(_($.when,r)){s($.to);return}}A.fallback&&s(A.fallback)},[o,e,r,S,_]);const w=I=>{if(!r)return;const $=S(I.effects,r);i($),s(I.to)};if(u)return z.jsx("div",{className:"text-center p-8 font-display text-4xl text-stone-400 animate-pulse",children:"ЗАГРУЗКА КВЕСТА..."});if(c)return z.jsx("div",{className:"text-center p-8 text-2xl text-red-500",children:c});if(!e||!r||!A)return z.jsx("div",{className:"text-center p-8 text-2xl text-stone-400",children:"Инициализация..."});const C=A.bg&&e.dsl.assets.images[A.bg]?e.dsl.assets.images[A.bg]:void 0,R=((D=A.choices)==null?void 0:D.filter(I=>I.when?_(I.when,r):!0))||[];return z.jsxs("div",{className:"min-h-screen w-full flex flex-col justify-end p-4 md:p-8 bg-cover bg-center transition-all duration-500",style:{backgroundImage:C?`url(${C})`:"none",backgroundColor:"#1c1917"},children:[z.jsxs("div",{className:"absolute top-4 left-4 right-4 flex items-center justify-between gap-4 bg-black/50 p-2 rounded-md text-stone-200 backdrop-blur-sm",children:[z.jsx("div",{className:"flex gap-4",children:Object.keys(r.vars).map(I=>z.jsxs("span",{children:[I.toUpperCase(),": ",r.vars[I]??0]},I))}),z.jsx("div",{children:z.jsx("span",{children:r.inventory.join(", ")})})]}),z.jsxs("div",{className:"bg-black/70 backdrop-blur-sm border border-stone-700 p-6 md:p-8 rounded-lg max-w-4xl mx-auto w-full shadow-2xl shadow-black/50",children:[z.jsx("h2",{className:"font-display text-3xl md:text-4xl text-amber-400 mb-4",children:y(A.title)}),z.jsx("p",{className:"text-stone-300 whitespace-pre-wrap leading-relaxed mb-6",children:y(A.text)}),A.end&&z.jsxs("div",{className:"text-center",children:[z.jsx("h3",{className:`font-display text-4xl ${A.end.type==="win"?"text-lime-400":"text-red-500"}`,children:A.end.type==="win"?"Победа!":"Конец игры"}),z.jsx("p",{className:"mt-4 text-stone-300",children:y(A.end.message)})]}),z.jsx("div",{className:"flex flex-col space-y-3",children:R.map((I,$)=>z.jsx("button",{onClick:()=>w(I),className:"text-left w-full p-4 bg-stone-800/70 border border-stone-600 rounded-md hover:bg-amber-500 hover:border-amber-400 hover:text-stone-900 transition-all text-stone-200 font-semibold",children:y(I.label)},$))})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let hae,pae;function mae(){return{geminiUrl:hae,vertexUrl:pae}}function gae(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=mae();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yl{}function Se(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function m(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const f=t[u];if(Array.isArray(n))for(let c=0;c<f.length;c++){const h=f[c];m(h,e.slice(o+1),n[c])}else for(const c of f)m(c,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const f=t[u];m(f[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function p(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const o=t[i];return Array.isArray(o)?o.map(s=>p(s,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XE(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var GD;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(GD||(GD={}));var KD;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(KD||(KD={}));var Da;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Da||(Da={}));var jD;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(jD||(jD={}));var YD;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(YD||(YD={}));var WD;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(WD||(WD={}));var JD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(JD||(JD={}));var QD;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(QD||(QD={}));var XD;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(XD||(XD={}));var ZD;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ZD||(ZD={}));var eN;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(eN||(eN={}));var tN;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(tN||(tN={}));var nN;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(nN||(nN={}));var rN;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(rN||(rN={}));var iN;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(iN||(iN={}));var yg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(yg||(yg={}));var oN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(oN||(oN={}));var ZE;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ZE||(ZE={}));var aN;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(aN||(aN={}));var sN;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(sN||(sN={}));var lN;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(lN||(lN={}));var uN;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(uN||(uN={}));var cN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(cN||(cN={}));var fN;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(fN||(fN={}));var dN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(dN||(dN={}));var hN;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(hN||(hN={}));var pN;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(pN||(pN={}));var mN;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(mN||(mN={}));var gN;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(gN||(gN={}));var yN;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(yN||(yN={}));var vN;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(vN||(vN={}));var _N;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(_N||(_N={}));var TN;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(TN||(TN={}));var EN;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(EN||(EN={}));var SN;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(SN||(SN={}));var AN;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(AN||(AN={}));var wN;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(wN||(wN={}));var bN;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(bN||(bN={}));var CN;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(CN||(CN={}));var xN;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(xN||(xN={}));var IN;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(IN||(IN={}));var RN;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(RN||(RN={}));var PN;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(PN||(PN={}));var MN;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(MN||(MN={}));var DN;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(DN||(DN={}));var Eu;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Eu||(Eu={}));class eS{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class qf{get text(){var e,n,r,i,o,s,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",h=!1;const y=[];for(const _ of(f=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[S,A]of Object.entries(_))S!=="text"&&S!=="thought"&&(A!==null||A!==void 0)&&y.push(S);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;h=!0,c+=_.text}}return y.length>0&&console.warn(`there are non-text parts ${y} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?c:void 0}get data(){var e,n,r,i,o,s,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const h=[];for(const y of(f=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[_,S]of Object.entries(y))_!=="inlineData"&&(S!==null||S!==void 0)&&h.push(_);y.inlineData&&typeof y.inlineData.data=="string"&&(c+=atob(y.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,i,o,s,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(f=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,i,o,s,u,f,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(f=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(y=>y.executableCode).map(y=>y.executableCode).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return(c=h==null?void 0:h[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,i,o,s,u,f,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(f=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(y=>y.codeExecutionResult).map(y=>y.codeExecutionResult).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return(c=h==null?void 0:h[0])===null||c===void 0?void 0:c.output}}class NN{}class ON{}class yae{}class vae{}class _ae{}class Tae{}class kN{}class LN{}class VN{}class Eae{}class UN{}class vg{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new vg;if(r.name=e.name,r.metadata=e.metadata,r.done=e.done,r.error=e.error,n){const i=e.response;if(i){const o=new UN,s=i.videos;o.generatedVideos=s==null?void 0:s.map(u=>({video:{uri:u.gcsUri,videoBytes:u.bytesBase64Encoded?XE(u.bytesBase64Encoded):void 0,mimeType:u.mimeType}})),o.raiMediaFilteredCount=i.raiMediaFilteredCount,o.raiMediaFilteredReasons=i.raiMediaFilteredReasons,r.response=o}}else{const i=e.response;if(i){const o=new UN,s=i.generateVideoResponse,u=s==null?void 0:s.generatedSamples;o.generatedVideos=u==null?void 0:u.map(f=>{const c=f.video;return{video:{uri:c==null?void 0:c.uri,videoBytes:c!=null&&c.encodedVideo?XE(c==null?void 0:c.encodedVideo):void 0,mimeType:f.encoding}}}),o.raiMediaFilteredCount=s==null?void 0:s.raiMediaFilteredCount,o.raiMediaFilteredReasons=s==null?void 0:s.raiMediaFilteredReasons,r.response=o}}return r}}class BN{}class qN{}class FN{}class Sae{}class Aae{}class wae{}class $N{}class bae{get text(){var e,n,r;let i="",o=!1;const s=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,c]of Object.entries(u))f!=="text"&&f!=="thought"&&c!==null&&s.push(f);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,f]of Object.entries(s))u!=="inlineData"&&f!==null&&o.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Cae{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function b3(t,e){const n=rt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function C3(t){return Array.isArray(t)?t.map(e=>_g(e)):[_g(t)]}function _g(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function x3(t){const e=_g(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function I3(t){const e=_g(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function HN(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function R3(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>HN(e)):[HN(t)]}function tS(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function zN(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function GN(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function zn(t){if(t==null)throw new Error("ContentUnion is required");return tS(t)?t:{role:"user",parts:R3(t)}}function P3(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=zn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=zn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>zn(n)):[zn(e)]}function Yr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(zN(t)||GN(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[zn(t)]}const e=[],n=[],r=tS(t[0]);for(const i of t){const o=tS(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(zN(i)||GN(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:R3(n)}),e}function xae(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Da).includes(n[0].toUpperCase())?n[0].toUpperCase():Da.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Da).includes(r.toUpperCase())?r.toUpperCase():Da.TYPE_UNSPECIFIED})}}function Iu(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&xae(t.type,e);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Da).includes(u.toUpperCase())?u.toUpperCase():Da.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Iu(u);else if(r.includes(s)){const f=[];for(const c of u){if(c.type=="null"){e.nullable=!0;continue}f.push(Iu(c))}e[s]=f}else if(i.includes(s)){const f={};for(const[c,h]of Object.entries(u))f[c]=Iu(h);e[s]=f}else{if(s==="additionalProperties")continue;e[s]=u}return e}function Gw(t){return Iu(t)}function Kw(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function jw(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function yc(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Iu(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Iu(e.response));return t}function vc(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Iae(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function jo(t,e){if(typeof e!="string")throw new Error("name must be a string");return Iae(t,e,"cachedContents")}function M3(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function vl(t){return XE(t)}function Rae(t){return t!=null&&typeof t=="object"&&"name"in t}function Pae(t){return t!=null&&typeof t=="object"&&"video"in t}function Mae(t){return t!=null&&typeof t=="object"&&"uri"in t}function D3(t){var e;let n;if(Rae(t)&&(n=t.name),!(Mae(t)&&(n=t.uri,n===void 0))&&!(Pae(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function N3(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function O3(t){for(const e of["models","tunedModels","publisherModels"])if(Dae(t,e))return t[e];return[]}function Dae(t,e){return t!==null&&typeof t=="object"&&e in t}function Nae(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Oae(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=Nae(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function k3(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function kae(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function _c(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function L3(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lae(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Vae(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Uae(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Bae(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Lae(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],Vae(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Uae(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function V3(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Bae(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function qae(t){const e={},n=p(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const r=p(t,["default"]);r!=null&&m(e,["default"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["enum"]);o!=null&&m(e,["enum"],o);const s=p(t,["example"]);s!=null&&m(e,["example"],s);const u=p(t,["format"]);u!=null&&m(e,["format"],u);const f=p(t,["items"]);f!=null&&m(e,["items"],f);const c=p(t,["maxItems"]);c!=null&&m(e,["maxItems"],c);const h=p(t,["maxLength"]);h!=null&&m(e,["maxLength"],h);const y=p(t,["maxProperties"]);y!=null&&m(e,["maxProperties"],y);const _=p(t,["maximum"]);_!=null&&m(e,["maximum"],_);const S=p(t,["minItems"]);S!=null&&m(e,["minItems"],S);const A=p(t,["minLength"]);A!=null&&m(e,["minLength"],A);const w=p(t,["minProperties"]);w!=null&&m(e,["minProperties"],w);const C=p(t,["minimum"]);C!=null&&m(e,["minimum"],C);const R=p(t,["nullable"]);R!=null&&m(e,["nullable"],R);const D=p(t,["pattern"]);D!=null&&m(e,["pattern"],D);const I=p(t,["properties"]);I!=null&&m(e,["properties"],I);const $=p(t,["propertyOrdering"]);$!=null&&m(e,["propertyOrdering"],$);const U=p(t,["required"]);U!=null&&m(e,["required"],U);const G=p(t,["title"]);G!=null&&m(e,["title"],G);const O=p(t,["type"]);return O!=null&&m(e,["type"],O),e}function Fae(t){const e={};if(p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["category"]);n!=null&&m(e,["category"],n);const r=p(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function $ae(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const o=p(t,["parameters"]);o!=null&&m(e,["parameters"],o);const s=p(t,["parametersJsonSchema"]);s!=null&&m(e,["parametersJsonSchema"],s);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const f=p(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function Hae(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function zae(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],Hae(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Gae(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function Kae(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],Gae(n)),e}function jae(){return{}}function Yae(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function Wae(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>$ae(c))),m(e,["functionDeclarations"],f)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],zae(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],Kae(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],jae());const s=p(t,["computerUse"]);s!=null&&m(e,["computerUse"],Yae(s));const u=p(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function Jae(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function Qae(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function Xae(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],Qae(n));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function Zae(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Jae(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],Xae(r)),e}function ese(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function U3(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],ese(n)),e}function tse(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],U3(r)),e}function nse(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>tse(i))),m(e,["speakerVoiceConfigs"],r)}return e}function rse(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],U3(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],nse(r));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function ise(t){const e={},n=p(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=p(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function ose(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],V3(zn(i)));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&m(r,["topP"],s);const u=p(e,["topK"]);u!=null&&m(r,["topK"],u);const f=p(e,["candidateCount"]);f!=null&&m(r,["candidateCount"],f);const c=p(e,["maxOutputTokens"]);c!=null&&m(r,["maxOutputTokens"],c);const h=p(e,["stopSequences"]);h!=null&&m(r,["stopSequences"],h);const y=p(e,["responseLogprobs"]);y!=null&&m(r,["responseLogprobs"],y);const _=p(e,["logprobs"]);_!=null&&m(r,["logprobs"],_);const S=p(e,["presencePenalty"]);S!=null&&m(r,["presencePenalty"],S);const A=p(e,["frequencyPenalty"]);A!=null&&m(r,["frequencyPenalty"],A);const w=p(e,["seed"]);w!=null&&m(r,["seed"],w);const C=p(e,["responseMimeType"]);C!=null&&m(r,["responseMimeType"],C);const R=p(e,["responseSchema"]);R!=null&&m(r,["responseSchema"],qae(Gw(R)));const D=p(e,["responseJsonSchema"]);if(D!=null&&m(r,["responseJsonSchema"],D),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=p(e,["safetySettings"]);if(n!==void 0&&I!=null){let B=I;Array.isArray(B)&&(B=B.map(F=>Fae(F))),m(n,["safetySettings"],B)}const $=p(e,["tools"]);if(n!==void 0&&$!=null){let B=vc($);Array.isArray(B)&&(B=B.map(F=>Wae(yc(F)))),m(n,["tools"],B)}const U=p(e,["toolConfig"]);if(n!==void 0&&U!=null&&m(n,["toolConfig"],Zae(U)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=p(e,["cachedContent"]);n!==void 0&&G!=null&&m(n,["cachedContent"],jo(t,G));const O=p(e,["responseModalities"]);O!=null&&m(r,["responseModalities"],O);const k=p(e,["mediaResolution"]);k!=null&&m(r,["mediaResolution"],k);const N=p(e,["speechConfig"]);if(N!=null&&m(r,["speechConfig"],rse(Kw(N))),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=p(e,["thinkingConfig"]);return q!=null&&m(r,["thinkingConfig"],ise(q)),r}function ase(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["request","model"],rt(t,r));const i=p(e,["contents"]);if(i!=null){let s=Yr(i);Array.isArray(s)&&(s=s.map(u=>V3(u))),m(n,["request","contents"],s)}const o=p(e,["config"]);return o!=null&&m(n,["request","generationConfig"],ose(t,o,n)),n}function sse(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&m(n,["fileName"],r);const i=p(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>ase(t,s))),m(n,["requests","requests"],o)}return n}function lse(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&m(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function KN(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],rt(t,r));const i=p(e,["src"]);i!=null&&m(n,["batch","inputConfig"],sse(t,k3(t,i)));const o=p(e,["config"]);return o!=null&&m(n,["config"],lse(o,n)),n}function use(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],_c(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function cse(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],_c(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function fse(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function dse(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],fse(n,e)),e}function hse(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],_c(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function pse(t){const e={},n=p(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&m(e,["gcsSource","uris"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function mse(t){const e={},n=p(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&m(e,["gcsDestination","outputUriPrefix"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function gse(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["dest"]);return e!==void 0&&i!=null&&m(e,["outputConfig"],mse(kae(i))),n}function yse(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],rt(t,r));const i=p(e,["src"]);i!=null&&m(n,["inputConfig"],pse(k3(t,i)));const o=p(e,["config"]);return o!=null&&m(n,["config"],gse(o,n)),n}function vse(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],_c(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function _se(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],_c(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function Tse(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function Ese(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],Tse(n,e)),e}function Sse(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],_c(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function Ase(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function wse(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function bse(t){const e={},n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Cse(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Ase(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],wse(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],bse(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function xse(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Cse(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Ise(t){const e={},n=p(t,["citationSources"]);return n!=null&&m(e,["citations"],n),e}function Rse(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function Pse(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Rse(i))),m(e,["urlMetadata"],r)}return e}function Mse(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],xse(n));const r=p(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],Ise(r));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const s=p(t,["urlContextMetadata"]);s!=null&&m(e,["urlContextMetadata"],Pse(s));const u=p(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const f=p(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const c=p(t,["index"]);c!=null&&m(e,["index"],c);const h=p(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const y=p(t,["safetyRatings"]);return y!=null&&m(e,["safetyRatings"],y),e}function Dse(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(c=>Mse(c))),m(e,["candidates"],f)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const s=p(t,["responseId"]);s!=null&&m(e,["responseId"],s);const u=p(t,["usageMetadata"]);return u!=null&&m(e,["usageMetadata"],u),e}function B3(t){const e={},n=p(t,["details"]);n!=null&&m(e,["details"],n);const r=p(t,["code"]);r!=null&&m(e,["code"],r);const i=p(t,["message"]);return i!=null&&m(e,["message"],i),e}function Nse(t){const e={},n=p(t,["response"]);n!=null&&m(e,["response"],Dse(n));const r=p(t,["error"]);return r!=null&&m(e,["error"],B3(r)),e}function Ose(t){const e={},n=p(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Nse(o))),m(e,["inlinedResponses"],i)}return e}function dm(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["metadata","state"]);i!=null&&m(e,["state"],L3(i));const o=p(t,["metadata","createTime"]);o!=null&&m(e,["createTime"],o);const s=p(t,["metadata","endTime"]);s!=null&&m(e,["endTime"],s);const u=p(t,["metadata","updateTime"]);u!=null&&m(e,["updateTime"],u);const f=p(t,["metadata","model"]);f!=null&&m(e,["model"],f);const c=p(t,["metadata","output"]);return c!=null&&m(e,["dest"],Ose(c)),e}function kse(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>dm(s))),m(e,["batchJobs"],o)}return e}function Lse(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);return o!=null&&m(e,["error"],B3(o)),e}function q3(t){const e={},n=p(t,["details"]);n!=null&&m(e,["details"],n);const r=p(t,["code"]);r!=null&&m(e,["code"],r);const i=p(t,["message"]);return i!=null&&m(e,["message"],i),e}function Vse(t){const e={},n=p(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&m(e,["gcsUri"],r);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function Use(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&m(e,["gcsUri"],r);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function nS(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["state"]);i!=null&&m(e,["state"],L3(i));const o=p(t,["error"]);o!=null&&m(e,["error"],q3(o));const s=p(t,["createTime"]);s!=null&&m(e,["createTime"],s);const u=p(t,["startTime"]);u!=null&&m(e,["startTime"],u);const f=p(t,["endTime"]);f!=null&&m(e,["endTime"],f);const c=p(t,["updateTime"]);c!=null&&m(e,["updateTime"],c);const h=p(t,["model"]);h!=null&&m(e,["model"],h);const y=p(t,["inputConfig"]);y!=null&&m(e,["src"],Vse(y));const _=p(t,["outputConfig"]);return _!=null&&m(e,["dest"],Use(_)),e}function Bse(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>nS(s))),m(e,["batchJobs"],o)}return e}function qse(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);return o!=null&&m(e,["error"],q3(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var sl;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(sl||(sl={}));class ih{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fse extends yl{constructor(e){super(),this.apiClient=e,this.create=async n=>{var r,i;if(this.apiClient.isVertexAI()){const s=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${s}`;else throw new Error("Unsupported source:"+n.src)}else if(Array.isArray(n.src)||typeof n.src!="string"&&n.src.inlinedRequests){let o="",s={};const u=KN(this.apiClient,n);o=Se("{model}:batchGenerateContent",u._url),s=u._query;const h=u.batch.inputConfig.requests,y=h.requests,_=[];for(const A of y){const w=A;if(w.systemInstruction){const C=w.systemInstruction;delete w.systemInstruction;const R=w.request;R.systemInstruction=C,w.request=R}_.push(w)}return h.requests=_,delete u.config,delete u._url,delete u._query,this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(A=>A.json()).then(A=>dm(A))}return await this.createInternal(n)},this.list=async(n={})=>new ih(sl.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}async createInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=yse(this.apiClient,e);return u=Se("batchPredictionJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>nS(h))}else{const c=KN(this.apiClient,e);return u=Se("{model}:batchGenerateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>dm(h))}}async get(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=vse(this.apiClient,e);return u=Se("batchPredictionJobs/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>nS(h))}else{const c=use(this.apiClient,e);return u=Se("batches/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>dm(h))}}async cancel(e){var n,r,i,o;let s="",u={};if(this.apiClient.isVertexAI()){const f=_se(this.apiClient,e);s=Se("batchPredictionJobs/{name}:cancel",f._url),u=f._query,delete f.config,delete f._url,delete f._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=cse(this.apiClient,e);s=Se("batches/{name}:cancel",f._url),u=f._query,delete f.config,delete f._url,delete f._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Ese(e);return u=Se("batchPredictionJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=Bse(h),_=new $N;return Object.assign(_,y),_})}else{const c=dse(e);return u=Se("batches",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=kse(h),_=new $N;return Object.assign(_,y),_})}}async delete(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Sse(this.apiClient,e);return u=Se("batchPredictionJobs/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>qse(h))}else{const c=hse(this.apiClient,e);return u=Se("batches/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>Lse(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $se(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Hse(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function zse(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Gse(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],$se(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],Hse(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],zse(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function jN(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Gse(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Kse(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const o=p(t,["parameters"]);o!=null&&m(e,["parameters"],o);const s=p(t,["parametersJsonSchema"]);s!=null&&m(e,["parametersJsonSchema"],s);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const f=p(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function jse(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function Yse(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],jse(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Wse(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function Jse(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],Wse(n)),e}function Qse(){return{}}function Xse(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function Zse(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>Kse(c))),m(e,["functionDeclarations"],f)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],Yse(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],Jse(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],Qse());const s=p(t,["computerUse"]);s!=null&&m(e,["computerUse"],Xse(s));const u=p(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function ele(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function tle(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function nle(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],tle(n));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function rle(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],ele(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],nle(r)),e}function ile(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const s=p(t,["contents"]);if(e!==void 0&&s!=null){let h=Yr(s);Array.isArray(h)&&(h=h.map(y=>jN(y))),m(e,["contents"],h)}const u=p(t,["systemInstruction"]);e!==void 0&&u!=null&&m(e,["systemInstruction"],jN(zn(u)));const f=p(t,["tools"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>Zse(y))),m(e,["tools"],h)}const c=p(t,["toolConfig"]);if(e!==void 0&&c!=null&&m(e,["toolConfig"],rle(c)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function ole(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],b3(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],ile(i,n)),n}function ale(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],jo(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function sle(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],jo(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function lle(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function ule(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],jo(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],lle(i,n)),n}function cle(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function fle(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],cle(n,e)),e}function dle(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function hle(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["data"]);r!=null&&m(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function ple(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function mle(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],dle(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],hle(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],ple(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function YN(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>mle(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function gle(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&m(e,["response"],s);const u=p(t,["responseJsonSchema"]);return u!=null&&m(e,["responseJsonSchema"],u),e}function yle(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function vle(t){const e={},n=p(t,["timeRangeFilter"]);n!=null&&m(e,["timeRangeFilter"],yle(n));const r=p(t,["excludeDomains"]);return r!=null&&m(e,["excludeDomains"],r),e}function _le(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function Tle(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],_le(n)),e}function Ele(t){const e={},n=p(t,["excludeDomains"]);return n!=null&&m(e,["excludeDomains"],n),e}function Sle(t){const e={},n=p(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function Ale(t){const e={},n=p(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],Sle(n));const r=p(t,["authType"]);r!=null&&m(e,["authType"],r);const i=p(t,["googleServiceAccountConfig"]);i!=null&&m(e,["googleServiceAccountConfig"],i);const o=p(t,["httpBasicAuthConfig"]);o!=null&&m(e,["httpBasicAuthConfig"],o);const s=p(t,["oauthConfig"]);s!=null&&m(e,["oauthConfig"],s);const u=p(t,["oidcConfig"]);return u!=null&&m(e,["oidcConfig"],u),e}function wle(t){const e={},n=p(t,["authConfig"]);return n!=null&&m(e,["authConfig"],Ale(n)),e}function ble(){return{}}function Cle(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function xle(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>gle(_))),m(e,["functionDeclarations"],y)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],vle(i));const o=p(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],Tle(o));const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],Ele(s));const u=p(t,["googleMaps"]);u!=null&&m(e,["googleMaps"],wle(u)),p(t,["urlContext"])!=null&&m(e,["urlContext"],ble());const c=p(t,["computerUse"]);c!=null&&m(e,["computerUse"],Cle(c));const h=p(t,["codeExecution"]);return h!=null&&m(e,["codeExecution"],h),e}function Ile(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function Rle(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function Ple(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],Rle(n));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function Mle(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Ile(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],Ple(r)),e}function Dle(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const s=p(t,["contents"]);if(e!==void 0&&s!=null){let y=Yr(s);Array.isArray(y)&&(y=y.map(_=>YN(_))),m(e,["contents"],y)}const u=p(t,["systemInstruction"]);e!==void 0&&u!=null&&m(e,["systemInstruction"],YN(zn(u)));const f=p(t,["tools"]);if(e!==void 0&&f!=null){let y=f;Array.isArray(y)&&(y=y.map(_=>xle(_))),m(e,["tools"],y)}const c=p(t,["toolConfig"]);e!==void 0&&c!=null&&m(e,["toolConfig"],Mle(c));const h=p(t,["kmsKeyName"]);return e!==void 0&&h!=null&&m(e,["encryption_spec","kmsKeyName"],h),n}function Nle(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],b3(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Dle(i,n)),n}function Ole(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],jo(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function kle(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],jo(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function Lle(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function Vle(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],jo(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Lle(i,n)),n}function Ule(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Ble(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],Ule(n,e)),e}function hm(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["model"]);i!=null&&m(e,["model"],i);const o=p(t,["createTime"]);o!=null&&m(e,["createTime"],o);const s=p(t,["updateTime"]);s!=null&&m(e,["updateTime"],s);const u=p(t,["expireTime"]);u!=null&&m(e,["expireTime"],u);const f=p(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function qle(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Fle(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>hm(s))),m(e,["cachedContents"],o)}return e}function pm(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["model"]);i!=null&&m(e,["model"],i);const o=p(t,["createTime"]);o!=null&&m(e,["createTime"],o);const s=p(t,["updateTime"]);s!=null&&m(e,["updateTime"],s);const u=p(t,["expireTime"]);u!=null&&m(e,["expireTime"],u);const f=p(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function $le(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Hle(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>pm(s))),m(e,["cachedContents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zle extends yl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ih(sl.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Nle(this.apiClient,e);return u=Se("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>pm(h))}else{const c=ole(this.apiClient,e);return u=Se("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>hm(h))}}async get(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Ole(this.apiClient,e);return u=Se("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>pm(h))}else{const c=ale(this.apiClient,e);return u=Se("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>hm(h))}}async delete(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=kle(this.apiClient,e);return u=Se("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=$le(h),_=new qN;return Object.assign(_,y),_})}else{const c=sle(this.apiClient,e);return u=Se("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=qle(h),_=new qN;return Object.assign(_,y),_})}}async update(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Vle(this.apiClient,e);return u=Se("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>pm(h))}else{const c=ule(this.apiClient,e);return u=Se("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>hm(h))}}async listInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Ble(e);return u=Se("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=Hle(h),_=new FN;return Object.assign(_,y),_})}else{const c=fle(e);return u=Se("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=Fle(h),_=new FN;return Object.assign(_,y),_})}}}function WN(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function St(t){return this instanceof St?(this.v=t,this):new St(t)}function Ru(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(S){return function(A){return Promise.resolve(A).then(S,y)}}function u(S,A){r[S]&&(i[S]=function(w){return new Promise(function(C,R){o.push([S,w,C,R])>1||f(S,w)})},A&&(i[S]=A(i[S])))}function f(S,A){try{c(r[S](A))}catch(w){_(o[0][3],w)}}function c(S){S.value instanceof St?Promise.resolve(S.value.v).then(h,y):_(o[0][2],S)}function h(S){f("next",S)}function y(S){f("throw",S)}function _(S,A){S(A),o.shift(),o.length&&f(o[0][0],o[0][1])}}function id(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof WN=="function"?WN(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(u,f){s=t[o](s),i(u,f,s.done,s.value)})}}function i(o,s,u,f){Promise.resolve(f).then(function(c){o({value:c,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gle(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:F3(n)}function F3(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Kle(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function JN(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!F3(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class jle{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Yle(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Yle{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),Kle(o)}async sendMessage(e){var n;await this.sendPromise;const r=zn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,u;const f=await i,c=(s=(o=f.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,h=f.automaticFunctionCallingHistory,y=this.getHistory(!0).length;let _=[];h!=null&&(_=(u=h.slice(y))!==null&&u!==void 0?u:[]);const S=c?[c]:[];this.recordHistory(r,S,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=zn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?JN(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Ru(this,arguments,function*(){var s,u,f,c;const h=[];try{for(var y=!0,_=id(e),S;S=yield St(_.next()),s=S.done,!s;y=!0){c=S.value,y=!1;const A=c;if(Gle(A)){const w=(i=(r=A.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;w!==void 0&&h.push(w)}yield yield St(A)}}catch(A){u={error:A}}finally{try{!y&&!s&&(f=_.return)&&(yield St(f.call(_)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...JN(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ey extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ey.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wle(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Jle(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],Wle(n,e)),e}function Qle(t){const e={},n=p(t,["details"]);n!=null&&m(e,["details"],n);const r=p(t,["message"]);r!=null&&m(e,["message"],r);const i=p(t,["code"]);return i!=null&&m(e,["code"],i),e}function Xle(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["mimeType"]);i!=null&&m(e,["mimeType"],i);const o=p(t,["sizeBytes"]);o!=null&&m(e,["sizeBytes"],o);const s=p(t,["createTime"]);s!=null&&m(e,["createTime"],s);const u=p(t,["expirationTime"]);u!=null&&m(e,["expirationTime"],u);const f=p(t,["updateTime"]);f!=null&&m(e,["updateTime"],f);const c=p(t,["sha256Hash"]);c!=null&&m(e,["sha256Hash"],c);const h=p(t,["uri"]);h!=null&&m(e,["uri"],h);const y=p(t,["downloadUri"]);y!=null&&m(e,["downloadUri"],y);const _=p(t,["state"]);_!=null&&m(e,["state"],_);const S=p(t,["source"]);S!=null&&m(e,["source"],S);const A=p(t,["videoMetadata"]);A!=null&&m(e,["videoMetadata"],A);const w=p(t,["error"]);return w!=null&&m(e,["error"],Qle(w)),e}function Zle(t){const e={},n=p(t,["file"]);n!=null&&m(e,["file"],Xle(n));const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function eue(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","file"],D3(n));const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function tue(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","file"],D3(n));const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function nue(t){const e={},n=p(t,["details"]);n!=null&&m(e,["details"],n);const r=p(t,["message"]);r!=null&&m(e,["message"],r);const i=p(t,["code"]);return i!=null&&m(e,["code"],i),e}function rS(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["mimeType"]);i!=null&&m(e,["mimeType"],i);const o=p(t,["sizeBytes"]);o!=null&&m(e,["sizeBytes"],o);const s=p(t,["createTime"]);s!=null&&m(e,["createTime"],s);const u=p(t,["expirationTime"]);u!=null&&m(e,["expirationTime"],u);const f=p(t,["updateTime"]);f!=null&&m(e,["updateTime"],f);const c=p(t,["sha256Hash"]);c!=null&&m(e,["sha256Hash"],c);const h=p(t,["uri"]);h!=null&&m(e,["uri"],h);const y=p(t,["downloadUri"]);y!=null&&m(e,["downloadUri"],y);const _=p(t,["state"]);_!=null&&m(e,["state"],_);const S=p(t,["source"]);S!=null&&m(e,["source"],S);const A=p(t,["videoMetadata"]);A!=null&&m(e,["videoMetadata"],A);const w=p(t,["error"]);return w!=null&&m(e,["error"],nue(w)),e}function rue(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>rS(s))),m(e,["files"],o)}return e}function iue(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function oue(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aue extends yl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ih(sl.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>rS(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Jle(e);return o=Se("files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const c=rue(f),h=new Sae;return Object.assign(h,c),h})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Zle(e);return o=Se("upload/v1beta/files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const c=iue(f),h=new Aae;return Object.assign(h,c),h})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=eue(e);return o=Se("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>rS(f))}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=tue(e);return o=Se("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const c=oue(f),h=new wae;return Object.assign(h,c),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sue(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function $3(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],sue(n)),e}function lue(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],$3(r)),e}function uue(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>lue(i))),m(e,["speakerVoiceConfigs"],r)}return e}function cue(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],$3(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],uue(r));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function fue(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function due(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function hue(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function pue(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],fue(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],due(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],hue(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function mue(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>pue(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function gue(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const o=p(t,["parameters"]);o!=null&&m(e,["parameters"],o);const s=p(t,["parametersJsonSchema"]);s!=null&&m(e,["parametersJsonSchema"],s);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const f=p(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function yue(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function vue(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],yue(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function _ue(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function Tue(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],_ue(n)),e}function Eue(){return{}}function Sue(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function Aue(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>gue(c))),m(e,["functionDeclarations"],f)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],vue(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],Tue(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],Eue());const s=p(t,["computerUse"]);s!=null&&m(e,["computerUse"],Sue(s));const u=p(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function wue(t){const e={},n=p(t,["handle"]);if(n!=null&&m(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function QN(){return{}}function bue(t){const e={},n=p(t,["disabled"]);n!=null&&m(e,["disabled"],n);const r=p(t,["startOfSpeechSensitivity"]);r!=null&&m(e,["startOfSpeechSensitivity"],r);const i=p(t,["endOfSpeechSensitivity"]);i!=null&&m(e,["endOfSpeechSensitivity"],i);const o=p(t,["prefixPaddingMs"]);o!=null&&m(e,["prefixPaddingMs"],o);const s=p(t,["silenceDurationMs"]);return s!=null&&m(e,["silenceDurationMs"],s),e}function Cue(t){const e={},n=p(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],bue(n));const r=p(t,["activityHandling"]);r!=null&&m(e,["activityHandling"],r);const i=p(t,["turnCoverage"]);return i!=null&&m(e,["turnCoverage"],i),e}function xue(t){const e={},n=p(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function Iue(t){const e={},n=p(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const r=p(t,["slidingWindow"]);return r!=null&&m(e,["slidingWindow"],xue(r)),e}function Rue(t){const e={},n=p(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function Pue(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topP"],s);const u=p(t,["topK"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topK"],u);const f=p(t,["maxOutputTokens"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","maxOutputTokens"],f);const c=p(t,["mediaResolution"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","mediaResolution"],c);const h=p(t,["seed"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","seed"],h);const y=p(t,["speechConfig"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","speechConfig"],cue(jw(y)));const _=p(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],_);const S=p(t,["systemInstruction"]);e!==void 0&&S!=null&&m(e,["setup","systemInstruction"],mue(zn(S)));const A=p(t,["tools"]);if(e!==void 0&&A!=null){let U=vc(A);Array.isArray(U)&&(U=U.map(G=>Aue(yc(G)))),m(e,["setup","tools"],U)}const w=p(t,["sessionResumption"]);e!==void 0&&w!=null&&m(e,["setup","sessionResumption"],wue(w));const C=p(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&m(e,["setup","inputAudioTranscription"],QN());const R=p(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&m(e,["setup","outputAudioTranscription"],QN());const D=p(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&m(e,["setup","realtimeInputConfig"],Cue(D));const I=p(t,["contextWindowCompression"]);e!==void 0&&I!=null&&m(e,["setup","contextWindowCompression"],Iue(I));const $=p(t,["proactivity"]);return e!==void 0&&$!=null&&m(e,["setup","proactivity"],Rue($)),n}function Mue(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],rt(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Pue(i,n)),n}function Due(){return{}}function Nue(){return{}}function Oue(t){const e={},n=p(t,["media"]);n!=null&&m(e,["mediaChunks"],C3(n));const r=p(t,["audio"]);r!=null&&m(e,["audio"],I3(r));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&m(e,["video"],x3(o));const s=p(t,["text"]);return s!=null&&m(e,["text"],s),p(t,["activityStart"])!=null&&m(e,["activityStart"],Due()),p(t,["activityEnd"])!=null&&m(e,["activityEnd"],Nue()),e}function H3(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const r=p(t,["weight"]);return r!=null&&m(e,["weight"],r),e}function kue(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>H3(i))),m(e,["weightedPrompts"],r)}return e}function z3(t){const e={},n=p(t,["temperature"]);n!=null&&m(e,["temperature"],n);const r=p(t,["topK"]);r!=null&&m(e,["topK"],r);const i=p(t,["seed"]);i!=null&&m(e,["seed"],i);const o=p(t,["guidance"]);o!=null&&m(e,["guidance"],o);const s=p(t,["bpm"]);s!=null&&m(e,["bpm"],s);const u=p(t,["density"]);u!=null&&m(e,["density"],u);const f=p(t,["brightness"]);f!=null&&m(e,["brightness"],f);const c=p(t,["scale"]);c!=null&&m(e,["scale"],c);const h=p(t,["muteBass"]);h!=null&&m(e,["muteBass"],h);const y=p(t,["muteDrums"]);y!=null&&m(e,["muteDrums"],y);const _=p(t,["onlyBassAndDrums"]);_!=null&&m(e,["onlyBassAndDrums"],_);const S=p(t,["musicGenerationMode"]);return S!=null&&m(e,["musicGenerationMode"],S),e}function Lue(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],z3(n)),e}function G3(t){const e={},n=p(t,["model"]);return n!=null&&m(e,["model"],n),e}function K3(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>H3(i))),m(e,["weightedPrompts"],r)}return e}function iS(t){const e={},n=p(t,["setup"]);n!=null&&m(e,["setup"],G3(n));const r=p(t,["clientContent"]);r!=null&&m(e,["clientContent"],K3(r));const i=p(t,["musicGenerationConfig"]);i!=null&&m(e,["musicGenerationConfig"],z3(i));const o=p(t,["playbackControl"]);return o!=null&&m(e,["playbackControl"],o),e}function Vue(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function Uue(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],Vue(n)),e}function Bue(t){const e={},n=p(t,["voiceConfig"]);if(n!=null&&m(e,["voiceConfig"],Uue(n)),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function que(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Fue(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["data"]);r!=null&&m(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function $ue(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Hue(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],que(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],Fue(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],$ue(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function zue(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Hue(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Gue(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&m(e,["response"],s);const u=p(t,["responseJsonSchema"]);return u!=null&&m(e,["responseJsonSchema"],u),e}function Kue(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function jue(t){const e={},n=p(t,["timeRangeFilter"]);n!=null&&m(e,["timeRangeFilter"],Kue(n));const r=p(t,["excludeDomains"]);return r!=null&&m(e,["excludeDomains"],r),e}function Yue(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function Wue(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],Yue(n)),e}function Jue(t){const e={},n=p(t,["excludeDomains"]);return n!=null&&m(e,["excludeDomains"],n),e}function Que(t){const e={},n=p(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function Xue(t){const e={},n=p(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],Que(n));const r=p(t,["authType"]);r!=null&&m(e,["authType"],r);const i=p(t,["googleServiceAccountConfig"]);i!=null&&m(e,["googleServiceAccountConfig"],i);const o=p(t,["httpBasicAuthConfig"]);o!=null&&m(e,["httpBasicAuthConfig"],o);const s=p(t,["oauthConfig"]);s!=null&&m(e,["oauthConfig"],s);const u=p(t,["oidcConfig"]);return u!=null&&m(e,["oidcConfig"],u),e}function Zue(t){const e={},n=p(t,["authConfig"]);return n!=null&&m(e,["authConfig"],Xue(n)),e}function ece(){return{}}function tce(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function nce(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>Gue(_))),m(e,["functionDeclarations"],y)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],jue(i));const o=p(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],Wue(o));const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],Jue(s));const u=p(t,["googleMaps"]);u!=null&&m(e,["googleMaps"],Zue(u)),p(t,["urlContext"])!=null&&m(e,["urlContext"],ece());const c=p(t,["computerUse"]);c!=null&&m(e,["computerUse"],tce(c));const h=p(t,["codeExecution"]);return h!=null&&m(e,["codeExecution"],h),e}function rce(t){const e={},n=p(t,["handle"]);n!=null&&m(e,["handle"],n);const r=p(t,["transparent"]);return r!=null&&m(e,["transparent"],r),e}function XN(){return{}}function ice(t){const e={},n=p(t,["disabled"]);n!=null&&m(e,["disabled"],n);const r=p(t,["startOfSpeechSensitivity"]);r!=null&&m(e,["startOfSpeechSensitivity"],r);const i=p(t,["endOfSpeechSensitivity"]);i!=null&&m(e,["endOfSpeechSensitivity"],i);const o=p(t,["prefixPaddingMs"]);o!=null&&m(e,["prefixPaddingMs"],o);const s=p(t,["silenceDurationMs"]);return s!=null&&m(e,["silenceDurationMs"],s),e}function oce(t){const e={},n=p(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],ice(n));const r=p(t,["activityHandling"]);r!=null&&m(e,["activityHandling"],r);const i=p(t,["turnCoverage"]);return i!=null&&m(e,["turnCoverage"],i),e}function ace(t){const e={},n=p(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function sce(t){const e={},n=p(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const r=p(t,["slidingWindow"]);return r!=null&&m(e,["slidingWindow"],ace(r)),e}function lce(t){const e={},n=p(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function uce(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topP"],s);const u=p(t,["topK"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topK"],u);const f=p(t,["maxOutputTokens"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","maxOutputTokens"],f);const c=p(t,["mediaResolution"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","mediaResolution"],c);const h=p(t,["seed"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","seed"],h);const y=p(t,["speechConfig"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","speechConfig"],Bue(jw(y)));const _=p(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],_);const S=p(t,["systemInstruction"]);e!==void 0&&S!=null&&m(e,["setup","systemInstruction"],zue(zn(S)));const A=p(t,["tools"]);if(e!==void 0&&A!=null){let U=vc(A);Array.isArray(U)&&(U=U.map(G=>nce(yc(G)))),m(e,["setup","tools"],U)}const w=p(t,["sessionResumption"]);e!==void 0&&w!=null&&m(e,["setup","sessionResumption"],rce(w));const C=p(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&m(e,["setup","inputAudioTranscription"],XN());const R=p(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&m(e,["setup","outputAudioTranscription"],XN());const D=p(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&m(e,["setup","realtimeInputConfig"],oce(D));const I=p(t,["contextWindowCompression"]);e!==void 0&&I!=null&&m(e,["setup","contextWindowCompression"],sce(I));const $=p(t,["proactivity"]);return e!==void 0&&$!=null&&m(e,["setup","proactivity"],lce($)),n}function cce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],rt(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],uce(i,n)),n}function fce(){return{}}function dce(){return{}}function hce(t){const e={},n=p(t,["media"]);n!=null&&m(e,["mediaChunks"],C3(n));const r=p(t,["audio"]);r!=null&&m(e,["audio"],I3(r));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&m(e,["video"],x3(o));const s=p(t,["text"]);return s!=null&&m(e,["text"],s),p(t,["activityStart"])!=null&&m(e,["activityStart"],fce()),p(t,["activityEnd"])!=null&&m(e,["activityEnd"],dce()),e}function pce(){return{}}function mce(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function gce(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function yce(t){const e={},n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function vce(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],mce(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],gce(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],yce(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function _ce(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>vce(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function ZN(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const r=p(t,["finished"]);return r!=null&&m(e,["finished"],r),e}function Tce(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function Ece(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Tce(i))),m(e,["urlMetadata"],r)}return e}function Sce(t){const e={},n=p(t,["modelTurn"]);n!=null&&m(e,["modelTurn"],_ce(n));const r=p(t,["turnComplete"]);r!=null&&m(e,["turnComplete"],r);const i=p(t,["interrupted"]);i!=null&&m(e,["interrupted"],i);const o=p(t,["groundingMetadata"]);o!=null&&m(e,["groundingMetadata"],o);const s=p(t,["generationComplete"]);s!=null&&m(e,["generationComplete"],s);const u=p(t,["inputTranscription"]);u!=null&&m(e,["inputTranscription"],ZN(u));const f=p(t,["outputTranscription"]);f!=null&&m(e,["outputTranscription"],ZN(f));const c=p(t,["urlContextMetadata"]);return c!=null&&m(e,["urlContextMetadata"],Ece(c)),e}function Ace(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);return i!=null&&m(e,["name"],i),e}function wce(t){const e={},n=p(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Ace(i))),m(e,["functionCalls"],r)}return e}function bce(t){const e={},n=p(t,["ids"]);return n!=null&&m(e,["ids"],n),e}function Jp(t){const e={},n=p(t,["modality"]);n!=null&&m(e,["modality"],n);const r=p(t,["tokenCount"]);return r!=null&&m(e,["tokenCount"],r),e}function Cce(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const i=p(t,["responseTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&m(e,["toolUsePromptTokenCount"],o);const s=p(t,["thoughtsTokenCount"]);s!=null&&m(e,["thoughtsTokenCount"],s);const u=p(t,["totalTokenCount"]);u!=null&&m(e,["totalTokenCount"],u);const f=p(t,["promptTokensDetails"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(S=>Jp(S))),m(e,["promptTokensDetails"],_)}const c=p(t,["cacheTokensDetails"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(S=>Jp(S))),m(e,["cacheTokensDetails"],_)}const h=p(t,["responseTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(S=>Jp(S))),m(e,["responseTokensDetails"],_)}const y=p(t,["toolUsePromptTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(S=>Jp(S))),m(e,["toolUsePromptTokensDetails"],_)}return e}function xce(t){const e={},n=p(t,["timeLeft"]);return n!=null&&m(e,["timeLeft"],n),e}function Ice(t){const e={},n=p(t,["newHandle"]);n!=null&&m(e,["newHandle"],n);const r=p(t,["resumable"]);r!=null&&m(e,["resumable"],r);const i=p(t,["lastConsumedClientMessageIndex"]);return i!=null&&m(e,["lastConsumedClientMessageIndex"],i),e}function Rce(t){const e={};p(t,["setupComplete"])!=null&&m(e,["setupComplete"],pce());const r=p(t,["serverContent"]);r!=null&&m(e,["serverContent"],Sce(r));const i=p(t,["toolCall"]);i!=null&&m(e,["toolCall"],wce(i));const o=p(t,["toolCallCancellation"]);o!=null&&m(e,["toolCallCancellation"],bce(o));const s=p(t,["usageMetadata"]);s!=null&&m(e,["usageMetadata"],Cce(s));const u=p(t,["goAway"]);u!=null&&m(e,["goAway"],xce(u));const f=p(t,["sessionResumptionUpdate"]);return f!=null&&m(e,["sessionResumptionUpdate"],Ice(f)),e}function Pce(){return{}}function Mce(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const r=p(t,["weight"]);return r!=null&&m(e,["weight"],r),e}function Dce(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Mce(i))),m(e,["weightedPrompts"],r)}return e}function Nce(t){const e={},n=p(t,["temperature"]);n!=null&&m(e,["temperature"],n);const r=p(t,["topK"]);r!=null&&m(e,["topK"],r);const i=p(t,["seed"]);i!=null&&m(e,["seed"],i);const o=p(t,["guidance"]);o!=null&&m(e,["guidance"],o);const s=p(t,["bpm"]);s!=null&&m(e,["bpm"],s);const u=p(t,["density"]);u!=null&&m(e,["density"],u);const f=p(t,["brightness"]);f!=null&&m(e,["brightness"],f);const c=p(t,["scale"]);c!=null&&m(e,["scale"],c);const h=p(t,["muteBass"]);h!=null&&m(e,["muteBass"],h);const y=p(t,["muteDrums"]);y!=null&&m(e,["muteDrums"],y);const _=p(t,["onlyBassAndDrums"]);_!=null&&m(e,["onlyBassAndDrums"],_);const S=p(t,["musicGenerationMode"]);return S!=null&&m(e,["musicGenerationMode"],S),e}function Oce(t){const e={},n=p(t,["clientContent"]);n!=null&&m(e,["clientContent"],Dce(n));const r=p(t,["musicGenerationConfig"]);return r!=null&&m(e,["musicGenerationConfig"],Nce(r)),e}function kce(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);r!=null&&m(e,["mimeType"],r);const i=p(t,["sourceMetadata"]);return i!=null&&m(e,["sourceMetadata"],Oce(i)),e}function Lce(t){const e={},n=p(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>kce(i))),m(e,["audioChunks"],r)}return e}function Vce(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const r=p(t,["filteredReason"]);return r!=null&&m(e,["filteredReason"],r),e}function Uce(t){const e={};p(t,["setupComplete"])!=null&&m(e,["setupComplete"],Pce());const r=p(t,["serverContent"]);r!=null&&m(e,["serverContent"],Lce(r));const i=p(t,["filteredPrompt"]);return i!=null&&m(e,["filteredPrompt"],Vce(i)),e}function Bce(t){const e={},n=p(t,["sessionId"]);return n!=null&&m(e,["sessionId"],n),e}function qce(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Fce(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["data"]);r!=null&&m(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function $ce(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Hce(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],qce(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],Fce(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],$ce(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function zce(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Hce(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function eO(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const r=p(t,["finished"]);return r!=null&&m(e,["finished"],r),e}function Gce(t){const e={},n=p(t,["modelTurn"]);n!=null&&m(e,["modelTurn"],zce(n));const r=p(t,["turnComplete"]);r!=null&&m(e,["turnComplete"],r);const i=p(t,["interrupted"]);i!=null&&m(e,["interrupted"],i);const o=p(t,["groundingMetadata"]);o!=null&&m(e,["groundingMetadata"],o);const s=p(t,["generationComplete"]);s!=null&&m(e,["generationComplete"],s);const u=p(t,["inputTranscription"]);u!=null&&m(e,["inputTranscription"],eO(u));const f=p(t,["outputTranscription"]);return f!=null&&m(e,["outputTranscription"],eO(f)),e}function Kce(t){const e={},n=p(t,["args"]);n!=null&&m(e,["args"],n);const r=p(t,["name"]);return r!=null&&m(e,["name"],r),e}function jce(t){const e={},n=p(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Kce(i))),m(e,["functionCalls"],r)}return e}function Yce(t){const e={},n=p(t,["ids"]);return n!=null&&m(e,["ids"],n),e}function Qp(t){const e={},n=p(t,["modality"]);n!=null&&m(e,["modality"],n);const r=p(t,["tokenCount"]);return r!=null&&m(e,["tokenCount"],r),e}function Wce(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const i=p(t,["candidatesTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&m(e,["toolUsePromptTokenCount"],o);const s=p(t,["thoughtsTokenCount"]);s!=null&&m(e,["thoughtsTokenCount"],s);const u=p(t,["totalTokenCount"]);u!=null&&m(e,["totalTokenCount"],u);const f=p(t,["promptTokensDetails"]);if(f!=null){let S=f;Array.isArray(S)&&(S=S.map(A=>Qp(A))),m(e,["promptTokensDetails"],S)}const c=p(t,["cacheTokensDetails"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(A=>Qp(A))),m(e,["cacheTokensDetails"],S)}const h=p(t,["candidatesTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(A=>Qp(A))),m(e,["responseTokensDetails"],S)}const y=p(t,["toolUsePromptTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(A=>Qp(A))),m(e,["toolUsePromptTokensDetails"],S)}const _=p(t,["trafficType"]);return _!=null&&m(e,["trafficType"],_),e}function Jce(t){const e={},n=p(t,["timeLeft"]);return n!=null&&m(e,["timeLeft"],n),e}function Qce(t){const e={},n=p(t,["newHandle"]);n!=null&&m(e,["newHandle"],n);const r=p(t,["resumable"]);r!=null&&m(e,["resumable"],r);const i=p(t,["lastConsumedClientMessageIndex"]);return i!=null&&m(e,["lastConsumedClientMessageIndex"],i),e}function Xce(t){const e={},n=p(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],Bce(n));const r=p(t,["serverContent"]);r!=null&&m(e,["serverContent"],Gce(r));const i=p(t,["toolCall"]);i!=null&&m(e,["toolCall"],jce(i));const o=p(t,["toolCallCancellation"]);o!=null&&m(e,["toolCallCancellation"],Yce(o));const s=p(t,["usageMetadata"]);s!=null&&m(e,["usageMetadata"],Wce(s));const u=p(t,["goAway"]);u!=null&&m(e,["goAway"],Jce(u));const f=p(t,["sessionResumptionUpdate"]);return f!=null&&m(e,["sessionResumptionUpdate"],Qce(f)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zce(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function efe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function tfe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function nfe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Zce(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],efe(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],tfe(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function Sy(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>nfe(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function rfe(t){const e={},n=p(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const r=p(t,["default"]);r!=null&&m(e,["default"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["enum"]);o!=null&&m(e,["enum"],o);const s=p(t,["example"]);s!=null&&m(e,["example"],s);const u=p(t,["format"]);u!=null&&m(e,["format"],u);const f=p(t,["items"]);f!=null&&m(e,["items"],f);const c=p(t,["maxItems"]);c!=null&&m(e,["maxItems"],c);const h=p(t,["maxLength"]);h!=null&&m(e,["maxLength"],h);const y=p(t,["maxProperties"]);y!=null&&m(e,["maxProperties"],y);const _=p(t,["maximum"]);_!=null&&m(e,["maximum"],_);const S=p(t,["minItems"]);S!=null&&m(e,["minItems"],S);const A=p(t,["minLength"]);A!=null&&m(e,["minLength"],A);const w=p(t,["minProperties"]);w!=null&&m(e,["minProperties"],w);const C=p(t,["minimum"]);C!=null&&m(e,["minimum"],C);const R=p(t,["nullable"]);R!=null&&m(e,["nullable"],R);const D=p(t,["pattern"]);D!=null&&m(e,["pattern"],D);const I=p(t,["properties"]);I!=null&&m(e,["properties"],I);const $=p(t,["propertyOrdering"]);$!=null&&m(e,["propertyOrdering"],$);const U=p(t,["required"]);U!=null&&m(e,["required"],U);const G=p(t,["title"]);G!=null&&m(e,["title"],G);const O=p(t,["type"]);return O!=null&&m(e,["type"],O),e}function ife(t){const e={};if(p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["category"]);n!=null&&m(e,["category"],n);const r=p(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function ofe(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const o=p(t,["parameters"]);o!=null&&m(e,["parameters"],o);const s=p(t,["parametersJsonSchema"]);s!=null&&m(e,["parametersJsonSchema"],s);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const f=p(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function afe(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function sfe(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],afe(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function lfe(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function ufe(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],lfe(n)),e}function cfe(){return{}}function ffe(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function dfe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>ofe(c))),m(e,["functionDeclarations"],f)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],sfe(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],ufe(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],cfe());const s=p(t,["computerUse"]);s!=null&&m(e,["computerUse"],ffe(s));const u=p(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function hfe(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function pfe(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function mfe(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],pfe(n));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function gfe(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],hfe(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],mfe(r)),e}function yfe(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function j3(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],yfe(n)),e}function vfe(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],j3(r)),e}function _fe(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>vfe(i))),m(e,["speakerVoiceConfigs"],r)}return e}function Tfe(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],j3(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],_fe(r));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function Efe(t){const e={},n=p(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=p(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function Sfe(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],Sy(zn(i)));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&m(r,["topP"],s);const u=p(e,["topK"]);u!=null&&m(r,["topK"],u);const f=p(e,["candidateCount"]);f!=null&&m(r,["candidateCount"],f);const c=p(e,["maxOutputTokens"]);c!=null&&m(r,["maxOutputTokens"],c);const h=p(e,["stopSequences"]);h!=null&&m(r,["stopSequences"],h);const y=p(e,["responseLogprobs"]);y!=null&&m(r,["responseLogprobs"],y);const _=p(e,["logprobs"]);_!=null&&m(r,["logprobs"],_);const S=p(e,["presencePenalty"]);S!=null&&m(r,["presencePenalty"],S);const A=p(e,["frequencyPenalty"]);A!=null&&m(r,["frequencyPenalty"],A);const w=p(e,["seed"]);w!=null&&m(r,["seed"],w);const C=p(e,["responseMimeType"]);C!=null&&m(r,["responseMimeType"],C);const R=p(e,["responseSchema"]);R!=null&&m(r,["responseSchema"],rfe(Gw(R)));const D=p(e,["responseJsonSchema"]);if(D!=null&&m(r,["responseJsonSchema"],D),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=p(e,["safetySettings"]);if(n!==void 0&&I!=null){let B=I;Array.isArray(B)&&(B=B.map(F=>ife(F))),m(n,["safetySettings"],B)}const $=p(e,["tools"]);if(n!==void 0&&$!=null){let B=vc($);Array.isArray(B)&&(B=B.map(F=>dfe(yc(F)))),m(n,["tools"],B)}const U=p(e,["toolConfig"]);if(n!==void 0&&U!=null&&m(n,["toolConfig"],gfe(U)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=p(e,["cachedContent"]);n!==void 0&&G!=null&&m(n,["cachedContent"],jo(t,G));const O=p(e,["responseModalities"]);O!=null&&m(r,["responseModalities"],O);const k=p(e,["mediaResolution"]);k!=null&&m(r,["mediaResolution"],k);const N=p(e,["speechConfig"]);if(N!=null&&m(r,["speechConfig"],Tfe(Kw(N))),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=p(e,["thinkingConfig"]);return q!=null&&m(r,["thinkingConfig"],Efe(q)),r}function tO(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],rt(t,r));const i=p(e,["contents"]);if(i!=null){let s=Yr(i);Array.isArray(s)&&(s=s.map(u=>Sy(u))),m(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&m(n,["generationConfig"],Sfe(t,o,n)),n}function Afe(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function wfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],rt(t,r));const i=p(e,["contents"]);i!=null&&m(n,["requests[]","content"],P3(t,i));const o=p(e,["config"]);o!=null&&m(n,["config"],Afe(o,n));const s=p(e,["model"]);return s!==void 0&&m(n,["requests[]","model"],rt(t,s)),n}function bfe(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&m(e,["parameters","aspectRatio"],i);const o=p(t,["guidanceScale"]);if(e!==void 0&&o!=null&&m(e,["parameters","guidanceScale"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&m(e,["parameters","safetySetting"],s);const u=p(t,["personGeneration"]);e!==void 0&&u!=null&&m(e,["parameters","personGeneration"],u);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&m(e,["parameters","includeSafetyAttributes"],f);const c=p(t,["includeRaiReason"]);e!==void 0&&c!=null&&m(e,["parameters","includeRaiReason"],c);const h=p(t,["language"]);e!==void 0&&h!=null&&m(e,["parameters","language"],h);const y=p(t,["outputMimeType"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","mimeType"],y);const _=p(t,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&m(e,["parameters","outputOptions","compressionQuality"],_),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const S=p(t,["imageSize"]);if(e!==void 0&&S!=null&&m(e,["parameters","sampleImageSize"],S),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Cfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],rt(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&m(n,["config"],bfe(o,n)),n}function xfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],rt(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function Ife(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const s=p(e,["filter"]);n!==void 0&&s!=null&&m(n,["_query","filter"],s);const u=p(e,["queryBase"]);return n!==void 0&&u!=null&&m(n,["_url","models_url"],N3(t,u)),r}function Rfe(t,e){const n={},r=p(e,["config"]);return r!=null&&m(n,["config"],Ife(t,r,n)),n}function Pfe(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function Mfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],rt(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Pfe(i,n)),n}function Dfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],rt(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function Nfe(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Ofe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],rt(t,r));const i=p(e,["contents"]);if(i!=null){let s=Yr(i);Array.isArray(s)&&(s=s.map(u=>Sy(u))),m(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&m(n,["config"],Nfe(o)),n}function Y3(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],vl(n));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function kfe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);if(e!==void 0&&i!=null&&m(e,["instances[0]","image"],Y3(i)),p(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return n}function Lfe(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&m(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const s=p(t,["resolution"]);e!==void 0&&s!=null&&m(e,["parameters","resolution"],s);const u=p(t,["personGeneration"]);if(e!==void 0&&u!=null&&m(e,["parameters","personGeneration"],u),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=p(t,["negativePrompt"]);e!==void 0&&f!=null&&m(e,["parameters","negativePrompt"],f);const c=p(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&m(e,["parameters","enhancePrompt"],c),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(p(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(p(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Vfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],rt(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["image"]);if(o!=null&&m(n,["instances[0]","image"],Y3(o)),p(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const s=p(e,["source"]);s!=null&&m(n,["config"],kfe(s,n));const u=p(e,["config"]);return u!=null&&m(n,["config"],Lfe(u,n)),n}function Ufe(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Bfe(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["data"]);r!=null&&m(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function qfe(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Ffe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Ufe(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],Bfe(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],qfe(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function Tc(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ffe(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function $fe(t){const e={},n=p(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const r=p(t,["default"]);r!=null&&m(e,["default"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["enum"]);o!=null&&m(e,["enum"],o);const s=p(t,["example"]);s!=null&&m(e,["example"],s);const u=p(t,["format"]);u!=null&&m(e,["format"],u);const f=p(t,["items"]);f!=null&&m(e,["items"],f);const c=p(t,["maxItems"]);c!=null&&m(e,["maxItems"],c);const h=p(t,["maxLength"]);h!=null&&m(e,["maxLength"],h);const y=p(t,["maxProperties"]);y!=null&&m(e,["maxProperties"],y);const _=p(t,["maximum"]);_!=null&&m(e,["maximum"],_);const S=p(t,["minItems"]);S!=null&&m(e,["minItems"],S);const A=p(t,["minLength"]);A!=null&&m(e,["minLength"],A);const w=p(t,["minProperties"]);w!=null&&m(e,["minProperties"],w);const C=p(t,["minimum"]);C!=null&&m(e,["minimum"],C);const R=p(t,["nullable"]);R!=null&&m(e,["nullable"],R);const D=p(t,["pattern"]);D!=null&&m(e,["pattern"],D);const I=p(t,["properties"]);I!=null&&m(e,["properties"],I);const $=p(t,["propertyOrdering"]);$!=null&&m(e,["propertyOrdering"],$);const U=p(t,["required"]);U!=null&&m(e,["required"],U);const G=p(t,["title"]);G!=null&&m(e,["title"],G);const O=p(t,["type"]);return O!=null&&m(e,["type"],O),e}function Hfe(t){const e={},n=p(t,["featureSelectionPreference"]);return n!=null&&m(e,["featureSelectionPreference"],n),e}function zfe(t){const e={},n=p(t,["method"]);n!=null&&m(e,["method"],n);const r=p(t,["category"]);r!=null&&m(e,["category"],r);const i=p(t,["threshold"]);return i!=null&&m(e,["threshold"],i),e}function Gfe(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&m(e,["response"],s);const u=p(t,["responseJsonSchema"]);return u!=null&&m(e,["responseJsonSchema"],u),e}function Kfe(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function jfe(t){const e={},n=p(t,["timeRangeFilter"]);n!=null&&m(e,["timeRangeFilter"],Kfe(n));const r=p(t,["excludeDomains"]);return r!=null&&m(e,["excludeDomains"],r),e}function Yfe(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function Wfe(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],Yfe(n)),e}function Jfe(t){const e={},n=p(t,["excludeDomains"]);return n!=null&&m(e,["excludeDomains"],n),e}function Qfe(t){const e={},n=p(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function Xfe(t){const e={},n=p(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],Qfe(n));const r=p(t,["authType"]);r!=null&&m(e,["authType"],r);const i=p(t,["googleServiceAccountConfig"]);i!=null&&m(e,["googleServiceAccountConfig"],i);const o=p(t,["httpBasicAuthConfig"]);o!=null&&m(e,["httpBasicAuthConfig"],o);const s=p(t,["oauthConfig"]);s!=null&&m(e,["oauthConfig"],s);const u=p(t,["oidcConfig"]);return u!=null&&m(e,["oidcConfig"],u),e}function Zfe(t){const e={},n=p(t,["authConfig"]);return n!=null&&m(e,["authConfig"],Xfe(n)),e}function ede(){return{}}function tde(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function W3(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>Gfe(_))),m(e,["functionDeclarations"],y)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],jfe(i));const o=p(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],Wfe(o));const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],Jfe(s));const u=p(t,["googleMaps"]);u!=null&&m(e,["googleMaps"],Zfe(u)),p(t,["urlContext"])!=null&&m(e,["urlContext"],ede());const c=p(t,["computerUse"]);c!=null&&m(e,["computerUse"],tde(c));const h=p(t,["codeExecution"]);return h!=null&&m(e,["codeExecution"],h),e}function nde(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function rde(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function ide(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],rde(n));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function ode(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],nde(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],ide(r)),e}function ade(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function sde(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],ade(n)),e}function lde(t){const e={},n=p(t,["voiceConfig"]);if(n!=null&&m(e,["voiceConfig"],sde(n)),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function ude(t){const e={},n=p(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=p(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function cde(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],Tc(zn(i)));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&m(r,["topP"],s);const u=p(e,["topK"]);u!=null&&m(r,["topK"],u);const f=p(e,["candidateCount"]);f!=null&&m(r,["candidateCount"],f);const c=p(e,["maxOutputTokens"]);c!=null&&m(r,["maxOutputTokens"],c);const h=p(e,["stopSequences"]);h!=null&&m(r,["stopSequences"],h);const y=p(e,["responseLogprobs"]);y!=null&&m(r,["responseLogprobs"],y);const _=p(e,["logprobs"]);_!=null&&m(r,["logprobs"],_);const S=p(e,["presencePenalty"]);S!=null&&m(r,["presencePenalty"],S);const A=p(e,["frequencyPenalty"]);A!=null&&m(r,["frequencyPenalty"],A);const w=p(e,["seed"]);w!=null&&m(r,["seed"],w);const C=p(e,["responseMimeType"]);C!=null&&m(r,["responseMimeType"],C);const R=p(e,["responseSchema"]);R!=null&&m(r,["responseSchema"],$fe(Gw(R)));const D=p(e,["responseJsonSchema"]);D!=null&&m(r,["responseJsonSchema"],D);const I=p(e,["routingConfig"]);I!=null&&m(r,["routingConfig"],I);const $=p(e,["modelSelectionConfig"]);$!=null&&m(r,["modelConfig"],Hfe($));const U=p(e,["safetySettings"]);if(n!==void 0&&U!=null){let ye=U;Array.isArray(ye)&&(ye=ye.map(Z=>zfe(Z))),m(n,["safetySettings"],ye)}const G=p(e,["tools"]);if(n!==void 0&&G!=null){let ye=vc(G);Array.isArray(ye)&&(ye=ye.map(Z=>W3(yc(Z)))),m(n,["tools"],ye)}const O=p(e,["toolConfig"]);n!==void 0&&O!=null&&m(n,["toolConfig"],ode(O));const k=p(e,["labels"]);n!==void 0&&k!=null&&m(n,["labels"],k);const N=p(e,["cachedContent"]);n!==void 0&&N!=null&&m(n,["cachedContent"],jo(t,N));const q=p(e,["responseModalities"]);q!=null&&m(r,["responseModalities"],q);const B=p(e,["mediaResolution"]);B!=null&&m(r,["mediaResolution"],B);const F=p(e,["speechConfig"]);F!=null&&m(r,["speechConfig"],lde(Kw(F)));const H=p(e,["audioTimestamp"]);H!=null&&m(r,["audioTimestamp"],H);const Ae=p(e,["thinkingConfig"]);return Ae!=null&&m(r,["thinkingConfig"],ude(Ae)),r}function nO(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],rt(t,r));const i=p(e,["contents"]);if(i!=null){let s=Yr(i);Array.isArray(s)&&(s=s.map(u=>Tc(u))),m(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&m(n,["generationConfig"],cde(t,o,n)),n}function fde(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["instances[]","task_type"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["instances[]","title"],i);const o=p(t,["outputDimensionality"]);e!==void 0&&o!=null&&m(e,["parameters","outputDimensionality"],o);const s=p(t,["mimeType"]);e!==void 0&&s!=null&&m(e,["instances[]","mimeType"],s);const u=p(t,["autoTruncate"]);return e!==void 0&&u!=null&&m(e,["parameters","autoTruncate"],u),n}function dde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],rt(t,r));const i=p(e,["contents"]);i!=null&&m(n,["instances[]","content"],P3(t,i));const o=p(e,["config"]);return o!=null&&m(n,["config"],fde(o,n)),n}function hde(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&m(e,["parameters","aspectRatio"],s);const u=p(t,["guidanceScale"]);e!==void 0&&u!=null&&m(e,["parameters","guidanceScale"],u);const f=p(t,["seed"]);e!==void 0&&f!=null&&m(e,["parameters","seed"],f);const c=p(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&m(e,["parameters","safetySetting"],c);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&m(e,["parameters","personGeneration"],h);const y=p(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&m(e,["parameters","includeSafetyAttributes"],y);const _=p(t,["includeRaiReason"]);e!==void 0&&_!=null&&m(e,["parameters","includeRaiReason"],_);const S=p(t,["language"]);e!==void 0&&S!=null&&m(e,["parameters","language"],S);const A=p(t,["outputMimeType"]);e!==void 0&&A!=null&&m(e,["parameters","outputOptions","mimeType"],A);const w=p(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&m(e,["parameters","outputOptions","compressionQuality"],w);const C=p(t,["addWatermark"]);e!==void 0&&C!=null&&m(e,["parameters","addWatermark"],C);const R=p(t,["imageSize"]);e!==void 0&&R!=null&&m(e,["parameters","sampleImageSize"],R);const D=p(t,["enhancePrompt"]);return e!==void 0&&D!=null&&m(e,["parameters","enhancePrompt"],D),n}function pde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],rt(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&m(n,["config"],hde(o,n)),n}function ji(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&m(e,["bytesBase64Encoded"],vl(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function mde(t){const e={},n=p(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&m(e,["maskClasses"],r);const i=p(t,["maskDilation"]);return i!=null&&m(e,["dilation"],i),e}function gde(t){const e={},n=p(t,["controlType"]);n!=null&&m(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&m(e,["computeControl"],r),e}function yde(t){const e={},n=p(t,["styleDescription"]);return n!=null&&m(e,["styleDescription"],n),e}function vde(t){const e={},n=p(t,["subjectType"]);n!=null&&m(e,["subjectType"],n);const r=p(t,["subjectDescription"]);return r!=null&&m(e,["subjectDescription"],r),e}function _de(t){const e={},n=p(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],ji(n));const r=p(t,["referenceId"]);r!=null&&m(e,["referenceId"],r);const i=p(t,["referenceType"]);i!=null&&m(e,["referenceType"],i);const o=p(t,["maskImageConfig"]);o!=null&&m(e,["maskImageConfig"],mde(o));const s=p(t,["controlImageConfig"]);s!=null&&m(e,["controlImageConfig"],gde(s));const u=p(t,["styleImageConfig"]);u!=null&&m(e,["styleImageConfig"],yde(u));const f=p(t,["subjectImageConfig"]);return f!=null&&m(e,["subjectImageConfig"],vde(f)),e}function Tde(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&m(e,["parameters","aspectRatio"],s);const u=p(t,["guidanceScale"]);e!==void 0&&u!=null&&m(e,["parameters","guidanceScale"],u);const f=p(t,["seed"]);e!==void 0&&f!=null&&m(e,["parameters","seed"],f);const c=p(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&m(e,["parameters","safetySetting"],c);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&m(e,["parameters","personGeneration"],h);const y=p(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&m(e,["parameters","includeSafetyAttributes"],y);const _=p(t,["includeRaiReason"]);e!==void 0&&_!=null&&m(e,["parameters","includeRaiReason"],_);const S=p(t,["language"]);e!==void 0&&S!=null&&m(e,["parameters","language"],S);const A=p(t,["outputMimeType"]);e!==void 0&&A!=null&&m(e,["parameters","outputOptions","mimeType"],A);const w=p(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&m(e,["parameters","outputOptions","compressionQuality"],w);const C=p(t,["addWatermark"]);e!==void 0&&C!=null&&m(e,["parameters","addWatermark"],C);const R=p(t,["editMode"]);e!==void 0&&R!=null&&m(e,["parameters","editMode"],R);const D=p(t,["baseSteps"]);return e!==void 0&&D!=null&&m(e,["parameters","editConfig","baseSteps"],D),n}function Ede(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],rt(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>_de(f))),m(n,["instances[0]","referenceImages"],u)}const s=p(e,["config"]);return s!=null&&m(n,["config"],Tde(s,n)),n}function Sde(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["includeRaiReason"]);e!==void 0&&i!=null&&m(e,["parameters","includeRaiReason"],i);const o=p(t,["outputMimeType"]);e!==void 0&&o!=null&&m(e,["parameters","outputOptions","mimeType"],o);const s=p(t,["outputCompressionQuality"]);e!==void 0&&s!=null&&m(e,["parameters","outputOptions","compressionQuality"],s);const u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],u);const f=p(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const c=p(t,["numberOfImages"]);e!==void 0&&c!=null&&m(e,["parameters","sampleCount"],c);const h=p(t,["mode"]);return e!==void 0&&h!=null&&m(e,["parameters","mode"],h),n}function Ade(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],rt(t,r));const i=p(e,["image"]);i!=null&&m(n,["instances[0]","image"],ji(i));const o=p(e,["upscaleFactor"]);o!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=p(e,["config"]);return s!=null&&m(n,["config"],Sde(s,n)),n}function wde(t){const e={},n=p(t,["productImage"]);return n!=null&&m(e,["image"],ji(n)),e}function bde(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["personImage"]);e!==void 0&&i!=null&&m(e,["instances[0]","personImage","image"],ji(i));const o=p(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>wde(u))),m(e,["instances[0]","productImages"],s)}return n}function Cde(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&m(e,["parameters","editConfig","baseSteps"],i);const o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const s=p(t,["seed"]);e!==void 0&&s!=null&&m(e,["parameters","seed"],s);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const f=p(t,["personGeneration"]);e!==void 0&&f!=null&&m(e,["parameters","personGeneration"],f);const c=p(t,["addWatermark"]);e!==void 0&&c!=null&&m(e,["parameters","addWatermark"],c);const h=p(t,["outputMimeType"]);e!==void 0&&h!=null&&m(e,["parameters","outputOptions","mimeType"],h);const y=p(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","compressionQuality"],y);const _=p(t,["enhancePrompt"]);return e!==void 0&&_!=null&&m(e,["parameters","enhancePrompt"],_),n}function xde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],rt(t,r));const i=p(e,["source"]);i!=null&&m(n,["config"],bde(i,n));const o=p(e,["config"]);return o!=null&&m(n,["config"],Cde(o,n)),n}function Ide(t){const e={},n=p(t,["image"]);return n!=null&&m(e,["image"],ji(n)),e}function Rde(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],ji(i));const o=p(t,["scribbleImage"]);return e!==void 0&&o!=null&&m(e,["instances[0]","scribble"],Ide(o)),n}function Pde(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&m(e,["parameters","mode"],r);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&m(e,["parameters","maxPredictions"],i);const o=p(t,["confidenceThreshold"]);e!==void 0&&o!=null&&m(e,["parameters","confidenceThreshold"],o);const s=p(t,["maskDilation"]);e!==void 0&&s!=null&&m(e,["parameters","maskDilation"],s);const u=p(t,["binaryColorThreshold"]);return e!==void 0&&u!=null&&m(e,["parameters","binaryColorThreshold"],u),n}function Mde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],rt(t,r));const i=p(e,["source"]);i!=null&&m(n,["config"],Rde(i,n));const o=p(e,["config"]);return o!=null&&m(n,["config"],Pde(o,n)),n}function Dde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],rt(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function Nde(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const s=p(e,["filter"]);n!==void 0&&s!=null&&m(n,["_query","filter"],s);const u=p(e,["queryBase"]);return n!==void 0&&u!=null&&m(n,["_url","models_url"],N3(t,u)),r}function Ode(t,e){const n={},r=p(e,["config"]);return r!=null&&m(n,["config"],Nde(t,r,n)),n}function kde(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function Lde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],rt(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],kde(i,n)),n}function Vde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],rt(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function Ude(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&m(e,["systemInstruction"],Tc(zn(r)));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>W3(u))),m(e,["tools"],s)}const o=p(t,["generationConfig"]);return e!==void 0&&o!=null&&m(e,["generationConfig"],o),n}function Bde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],rt(t,r));const i=p(e,["contents"]);if(i!=null){let s=Yr(i);Array.isArray(s)&&(s=s.map(u=>Tc(u))),m(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&m(n,["config"],Ude(o,n)),n}function qde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],rt(t,r));const i=p(e,["contents"]);if(i!=null){let s=Yr(i);Array.isArray(s)&&(s=s.map(u=>Tc(u))),m(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&m(n,["config"],o),n}function J3(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&m(e,["bytesBase64Encoded"],vl(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Fde(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],ji(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],J3(o)),n}function $de(t){const e={},n=p(t,["image"]);n!=null&&m(e,["image"],ji(n));const r=p(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function Hde(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=p(t,["fps"]);e!==void 0&&o!=null&&m(e,["parameters","fps"],o);const s=p(t,["durationSeconds"]);e!==void 0&&s!=null&&m(e,["parameters","durationSeconds"],s);const u=p(t,["seed"]);e!==void 0&&u!=null&&m(e,["parameters","seed"],u);const f=p(t,["aspectRatio"]);e!==void 0&&f!=null&&m(e,["parameters","aspectRatio"],f);const c=p(t,["resolution"]);e!==void 0&&c!=null&&m(e,["parameters","resolution"],c);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&m(e,["parameters","personGeneration"],h);const y=p(t,["pubsubTopic"]);e!==void 0&&y!=null&&m(e,["parameters","pubsubTopic"],y);const _=p(t,["negativePrompt"]);e!==void 0&&_!=null&&m(e,["parameters","negativePrompt"],_);const S=p(t,["enhancePrompt"]);e!==void 0&&S!=null&&m(e,["parameters","enhancePrompt"],S);const A=p(t,["generateAudio"]);e!==void 0&&A!=null&&m(e,["parameters","generateAudio"],A);const w=p(t,["lastFrame"]);e!==void 0&&w!=null&&m(e,["instances[0]","lastFrame"],ji(w));const C=p(t,["referenceImages"]);if(e!==void 0&&C!=null){let D=C;Array.isArray(D)&&(D=D.map(I=>$de(I))),m(e,["instances[0]","referenceImages"],D)}const R=p(t,["compressionQuality"]);return e!==void 0&&R!=null&&m(e,["parameters","compressionQuality"],R),n}function zde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],rt(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&m(n,["instances[0]","image"],ji(o));const s=p(e,["video"]);s!=null&&m(n,["instances[0]","video"],J3(s));const u=p(e,["source"]);u!=null&&m(n,["config"],Fde(u,n));const f=p(e,["config"]);return f!=null&&m(n,["config"],Hde(f,n)),n}function Gde(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Kde(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function jde(t){const e={},n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Yde(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Gde(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],Kde(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],jde(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function Wde(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Yde(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Jde(t){const e={},n=p(t,["citationSources"]);return n!=null&&m(e,["citations"],n),e}function Qde(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function Xde(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Qde(i))),m(e,["urlMetadata"],r)}return e}function Zde(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],Wde(n));const r=p(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],Jde(r));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const s=p(t,["urlContextMetadata"]);s!=null&&m(e,["urlContextMetadata"],Xde(s));const u=p(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const f=p(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const c=p(t,["index"]);c!=null&&m(e,["index"],c);const h=p(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const y=p(t,["safetyRatings"]);return y!=null&&m(e,["safetyRatings"],y),e}function rO(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(c=>Zde(c))),m(e,["candidates"],f)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const s=p(t,["responseId"]);s!=null&&m(e,["responseId"],s);const u=p(t,["usageMetadata"]);return u!=null&&m(e,["usageMetadata"],u),e}function ehe(t){const e={},n=p(t,["values"]);return n!=null&&m(e,["values"],n),e}function the(){return{}}function nhe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>ehe(s))),m(e,["embeddings"],o)}return p(t,["metadata"])!=null&&m(e,["metadata"],the()),e}function rhe(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],vl(n));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Q3(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function ihe(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["image"],rhe(n));const r=p(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=p(t,["_self"]);return i!=null&&m(e,["safetyAttributes"],Q3(i)),e}function ohe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>ihe(s))),m(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],Q3(i)),e}function ahe(t){const e={},n=p(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function oS(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["version"]);o!=null&&m(e,["version"],o);const s=p(t,["_self"]);s!=null&&m(e,["tunedModelInfo"],ahe(s));const u=p(t,["inputTokenLimit"]);u!=null&&m(e,["inputTokenLimit"],u);const f=p(t,["outputTokenLimit"]);f!=null&&m(e,["outputTokenLimit"],f);const c=p(t,["supportedGenerationMethods"]);return c!=null&&m(e,["supportedActions"],c),e}function she(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=O3(i);Array.isArray(o)&&(o=o.map(s=>oS(s))),m(e,["models"],o)}return e}function lhe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function uhe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&m(e,["totalTokens"],r);const i=p(t,["cachedContentTokenCount"]);return i!=null&&m(e,["cachedContentTokenCount"],i),e}function che(t){const e={},n=p(t,["video","uri"]);n!=null&&m(e,["uri"],n);const r=p(t,["video","encodedVideo"]);r!=null&&m(e,["videoBytes"],vl(r));const i=p(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function fhe(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],che(n)),e}function dhe(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>fhe(s))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function hhe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const s=p(t,["response","generateVideoResponse"]);return s!=null&&m(e,["response"],dhe(s)),e}function phe(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function mhe(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["data"]);r!=null&&m(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function ghe(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function yhe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],phe(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],mhe(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],ghe(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function vhe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>yhe(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function _he(t){const e={},n=p(t,["citations"]);return n!=null&&m(e,["citations"],n),e}function The(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function Ehe(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>The(i))),m(e,["urlMetadata"],r)}return e}function She(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],vhe(n));const r=p(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],_he(r));const i=p(t,["finishMessage"]);i!=null&&m(e,["finishMessage"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const s=p(t,["urlContextMetadata"]);s!=null&&m(e,["urlContextMetadata"],Ehe(s));const u=p(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const f=p(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const c=p(t,["index"]);c!=null&&m(e,["index"],c);const h=p(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const y=p(t,["safetyRatings"]);return y!=null&&m(e,["safetyRatings"],y),e}function iO(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>She(h))),m(e,["candidates"],c)}const i=p(t,["createTime"]);i!=null&&m(e,["createTime"],i);const o=p(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const s=p(t,["promptFeedback"]);s!=null&&m(e,["promptFeedback"],s);const u=p(t,["responseId"]);u!=null&&m(e,["responseId"],u);const f=p(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function Ahe(t){const e={},n=p(t,["truncated"]);n!=null&&m(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&m(e,["tokenCount"],r),e}function whe(t){const e={},n=p(t,["values"]);n!=null&&m(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&m(e,["statistics"],Ahe(r)),e}function bhe(t){const e={},n=p(t,["billableCharacterCount"]);return n!=null&&m(e,["billableCharacterCount"],n),e}function Che(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>whe(s))),m(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&m(e,["metadata"],bhe(i)),e}function X3(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["imageBytes"],vl(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Z3(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function Ay(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["image"],X3(n));const r=p(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=p(t,["_self"]);i!=null&&m(e,["safetyAttributes"],Z3(i));const o=p(t,["prompt"]);return o!=null&&m(e,["enhancedPrompt"],o),e}function xhe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Ay(s))),m(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],Z3(i)),e}function Ihe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Ay(o))),m(e,["generatedImages"],i)}return e}function Rhe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Ay(o))),m(e,["generatedImages"],i)}return e}function Phe(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Ay(i))),m(e,["generatedImages"],r)}return e}function Mhe(t){const e={},n=p(t,["label"]);n!=null&&m(e,["label"],n);const r=p(t,["score"]);return r!=null&&m(e,["score"],r),e}function Dhe(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["mask"],X3(n));const r=p(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Mhe(o))),m(e,["labels"],i)}return e}function Nhe(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Dhe(i))),m(e,["generatedMasks"],r)}return e}function Ohe(t){const e={},n=p(t,["endpoint"]);n!=null&&m(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&m(e,["deployedModelId"],r),e}function khe(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function Lhe(t){const e={},n=p(t,["checkpointId"]);n!=null&&m(e,["checkpointId"],n);const r=p(t,["epoch"]);r!=null&&m(e,["epoch"],r);const i=p(t,["step"]);return i!=null&&m(e,["step"],i),e}function aS(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["versionId"]);o!=null&&m(e,["version"],o);const s=p(t,["deployedModels"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(_=>Ohe(_))),m(e,["endpoints"],y)}const u=p(t,["labels"]);u!=null&&m(e,["labels"],u);const f=p(t,["_self"]);f!=null&&m(e,["tunedModelInfo"],khe(f));const c=p(t,["defaultCheckpointId"]);c!=null&&m(e,["defaultCheckpointId"],c);const h=p(t,["checkpoints"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(_=>Lhe(_))),m(e,["checkpoints"],y)}return e}function Vhe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=O3(i);Array.isArray(o)&&(o=o.map(s=>aS(s))),m(e,["models"],o)}return e}function Uhe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Bhe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&m(e,["totalTokens"],r),e}function qhe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);return r!=null&&m(e,["tokensInfo"],r),e}function Fhe(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],vl(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function $he(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],Fhe(n)),e}function Hhe(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>$he(s))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function zhe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const s=p(t,["response"]);return s!=null&&m(e,["response"],Hhe(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ghe="Content-Type",Khe="X-Server-Timeout",jhe="User-Agent",sS="x-goog-api-client",Yhe="1.17.0",Whe=`google-genai-sdk/${Yhe}`,Jhe="v1beta1",Qhe="v1beta",oO=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Xhe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Jhe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Qhe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))i.searchParams.append(s,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,o=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>i.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=o}return n&&n.extraBody!==null&&Zhe(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await aO(i),new eS(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await aO(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Ru(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:f}=yield St(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=o.decode(f,{stream:!0});try{const y=JSON.parse(c);if("error"in y){const _=JSON.parse(JSON.stringify(y.error)),S=_.status,A=_.code,w=`got status: ${S}. ${JSON.stringify(y)}`;if(A>=400&&A<600)throw new Ey({message:w,status:A})}}catch(y){if(y.name==="ApiError")throw y}s+=c;let h=s.match(oO);for(;h;){const y=h[1];try{const _=new Response(y,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield St(new eS(_)),s=s.slice(h[0].length),h=s.match(oO)}catch(_){throw new Error(`exception parsing stream chunk ${y}. ${_}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Whe+" "+this.clientOptions.userAgentExtra;return e[jhe]=n,e[sS]=n,e[Ghe]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(Khe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const f=await this.fetchUploadUrl(i,n);return o.upload(e,f,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},s=await this.request({path:Se("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:i});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(r=s==null?void 0:s.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function aO(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Ey({message:i,status:n}):new Error(i)}}function Zhe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const u=Object.assign({},o);for(const f in s)if(Object.prototype.hasOwnProperty.call(s,f)){const c=s[f],h=u[f];c&&typeof c=="object"&&!Array.isArray(c)&&h&&typeof h=="object"&&!Array.isArray(h)?u[f]=r(h,c):(h&&c&&typeof h!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof h}, New type: ${typeof c}. Overwriting.`),u[f]=c)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const epe="mcp_used/unknown";let tpe=!1;function eB(t){for(const e of t)if(npe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return tpe}function tB(t){var e;const n=(e=t[sS])!==null&&e!==void 0?e:"";t[sS]=(n+` ${epe}`).trimStart()}function npe(t){return t!==null&&typeof t=="object"&&t instanceof Yw}function rpe(t,e=100){return Ru(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield St(t.listTools({cursor:r}));for(const s of o.tools)yield yield St(s),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class Yw{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Yw(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const h of this.mcpClients)try{for(var u=!0,f=(n=void 0,id(rpe(h))),c;c=await f.next(),e=c.done,!e;u=!0){i=c.value,u=!1;const y=i;s.push(y);const _=y.name;if(o[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);o[_]=h}}catch(y){n={error:y}}finally{try{!u&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Oae(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ipe(t,e,n){const r=new Cae;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const o=Uce(i);Object.assign(r,o),e(r)}class ope{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=lpe(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let c=()=>{};const h=new Promise(I=>{c=I}),y=e.callbacks,_=function(){c({})},S=this.apiClient,A={onopen:_,onmessage:I=>{ipe(S,y.onmessage,I)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(I){}},w=this.webSocketFactory.create(f,spe(s),A);w.connect(),await h;const C=rt(this.apiClient,e.model),R=G3({model:C}),D=iS({setup:R});return w.send(JSON.stringify(D)),new ape(w,this.apiClient)}}class ape{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=kue(e),r=K3(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Lue(e),r=iS(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=iS({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Eu.PLAY)}pause(){this.sendPlaybackControl(Eu.PAUSE)}stop(){this.sendPlaybackControl(Eu.STOP)}resetContext(){this.sendPlaybackControl(Eu.RESET_CONTEXT)}close(){this.conn.close()}}function spe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function lpe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const upe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function cpe(t,e,n){const r=new bae;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=Xce(o);Object.assign(r,s)}else{const s=Rce(o);Object.assign(r,s)}e(r)}class fpe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new ope(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let h;const y=this.apiClient.getHeaders();e.config&&e.config.tools&&eB(e.config.tools)&&tB(y);const _=mpe(y);if(this.apiClient.isVertexAI())h=`${f}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_);else{const N=this.apiClient.getApiKey();let q="BidiGenerateContent",B="key";N!=null&&N.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),q="BidiGenerateContentConstrained",B="access_token"),h=`${f}/ws/google.ai.generativelanguage.${c}.GenerativeService.${q}?${B}=${N}`}let S=()=>{};const A=new Promise(N=>{S=N}),w=e.callbacks,C=function(){var N;(N=w==null?void 0:w.onopen)===null||N===void 0||N.call(w),S({})},R=this.apiClient,D={onopen:C,onmessage:N=>{cpe(R,w.onmessage,N)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(N){},onclose:(r=w==null?void 0:w.onclose)!==null&&r!==void 0?r:function(N){}},I=this.webSocketFactory.create(h,ppe(_),D);I.connect(),await A;let $=rt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&$.startsWith("publishers/")){const N=this.apiClient.getProject(),q=this.apiClient.getLocation();$=`projects/${N}/locations/${q}/`+$}let U={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[yg.AUDIO]}:e.config.responseModalities=[yg.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const G=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],O=[];for(const N of G)if(this.isCallableTool(N)){const q=N;O.push(await q.tool())}else O.push(N);O.length>0&&(e.config.tools=O);const k={model:$,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?U=cce(this.apiClient,k):U=Mue(this.apiClient,k),delete U.config,I.send(JSON.stringify(U)),new hpe(I,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const dpe={turnComplete:!0};class hpe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Yr(n.turns),e.isVertexAI()?r=r.map(i=>Tc(i)):r=r.map(i=>Sy(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(upe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},dpe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:hce(e)}:n={realtimeInput:Oue(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function ppe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function mpe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sO=10;function lO(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Pu(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Pu(t){return"callTool"in t&&typeof t.callTool=="function"}function gpe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Pu(i)))!==null&&r!==void 0?r:!1}function ype(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!Pu(i)))!==null&&r!==void 0?r:!1}function uO(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vpe extends yl{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,u;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!gpe(n)||lO(n.config))return await this.generateContentInternal(f);if(ype(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,h;const y=Yr(f.contents),_=(o=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:sO;let S=0;for(;S<_&&(c=await this.generateContentInternal(f),!(!c.functionCalls||c.functionCalls.length===0));){const A=c.candidates[0].content,w=[];for(const C of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(Pu(C)){const D=await C.callTool(c.functionCalls);w.push(...D)}S++,h={role:"user",parts:w},f.contents=Yr(f.contents),f.contents.push(A),f.contents.push(h),uO(f.config)&&(y.push(A),y.push(h))}return uO(f.config)&&(c.automaticFunctionCallingHistory=y),c},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),lO(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=f==null?void 0:f.safetyAttributes:s.push(f);let u;return o?u={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new ih(sl.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async f=>Pu(f)?await f.tool():f)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&eB(e.config.tools)){const f=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},f);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),tB(c),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return u}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Pu(s)){const u=s,f=await u.tool();for(const c of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(o.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);o.set(c.name,u)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:sO;let s=!1,u=0;const f=await this.initAfcToolsMap(e);return(function(c,h,y){var _,S;return Ru(this,arguments,function*(){for(var A,w,C,R;u<o;){s&&(u++,s=!1);const U=yield St(c.processParamsMaybeAddMcpUsage(y)),G=yield St(c.generateContentStreamInternal(U)),O=[],k=[];try{for(var D=!0,I=(w=void 0,id(G)),$;$=yield St(I.next()),A=$.done,!A;D=!0){R=$.value,D=!1;const N=R;if(yield yield St(N),N.candidates&&(!((_=N.candidates[0])===null||_===void 0)&&_.content)){k.push(N.candidates[0].content);for(const q of(S=N.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(u<o&&q.functionCall){if(!q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(q.functionCall.name)){const B=yield St(h.get(q.functionCall.name).callTool([q.functionCall]));O.push(...B)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${q.functionCall.name}`)}}}}catch(N){w={error:N}}finally{try{!D&&!A&&(C=I.return)&&(yield St(C.call(I)))}finally{if(w)throw w.error}}if(O.length>0){s=!0;const N=new qf;N.candidates=[{content:{role:"user",parts:O}}],yield yield St(N);const q=[];q.push(...k),q.push({role:"user",parts:O});const B=Yr(y.contents).concat(q);y.contents=B}else break}})})(this,f,e)}async generateContentInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=nO(this.apiClient,e);return u=Se("{model}:generateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=iO(h),_=new qf;return Object.assign(_,y),_})}else{const c=tO(this.apiClient,e);return u=Se("{model}:generateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=rO(h),_=new qf;return Object.assign(_,y),_})}}async generateContentStreamInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=nO(this.apiClient,e);return u=Se("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(y){return Ru(this,arguments,function*(){var _,S,A,w;try{for(var C=!0,R=id(y),D;D=yield St(R.next()),_=D.done,!_;C=!0){w=D.value,C=!1;const I=w,$=iO(yield St(I.json()));$.sdkHttpResponse={headers:I.headers};const U=new qf;Object.assign(U,$),yield yield St(U)}}catch(I){S={error:I}}finally{try{!C&&!_&&(A=R.return)&&(yield St(A.call(R)))}finally{if(S)throw S.error}}})})}else{const c=tO(this.apiClient,e);return u=Se("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(y){return Ru(this,arguments,function*(){var _,S,A,w;try{for(var C=!0,R=id(y),D;D=yield St(R.next()),_=D.done,!_;C=!0){w=D.value,C=!1;const I=w,$=rO(yield St(I.json()));$.sdkHttpResponse={headers:I.headers};const U=new qf;Object.assign(U,$),yield yield St(U)}}catch(I){S={error:I}}finally{try{!C&&!_&&(A=R.return)&&(yield St(A.call(R)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=dde(this.apiClient,e);return u=Se("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=Che(h),_=new NN;return Object.assign(_,y),_})}else{const c=wfe(this.apiClient,e);return u=Se("{model}:batchEmbedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=nhe(h),_=new NN;return Object.assign(_,y),_})}}async generateImagesInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=pde(this.apiClient,e);return u=Se("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=xhe(h),_=new ON;return Object.assign(_,y),_})}else{const c=Cfe(this.apiClient,e);return u=Se("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=ohe(h),_=new ON;return Object.assign(_,y),_})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=Ede(this.apiClient,e);return o=Se("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const c=Ihe(f),h=new yae;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=Ade(this.apiClient,e);return o=Se("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const c=Rhe(f),h=new vae;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=xde(this.apiClient,e);return o=Se("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const c=Phe(f),h=new _ae;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=Mde(this.apiClient,e);return o=Se("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const c=Nhe(f),h=new Tae;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Dde(this.apiClient,e);return u=Se("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>aS(h))}else{const c=xfe(this.apiClient,e);return u=Se("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>oS(h))}}async listInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Ode(this.apiClient,e);return u=Se("{models_url}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=Vhe(h),_=new kN;return Object.assign(_,y),_})}else{const c=Rfe(this.apiClient,e);return u=Se("{models_url}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=she(h),_=new kN;return Object.assign(_,y),_})}}async update(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Lde(this.apiClient,e);return u=Se("{model}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>aS(h))}else{const c=Mfe(this.apiClient,e);return u=Se("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>oS(h))}}async delete(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Vde(this.apiClient,e);return u=Se("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=Uhe(h),_=new LN;return Object.assign(_,y),_})}else{const c=Dfe(this.apiClient,e);return u=Se("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=lhe(h),_=new LN;return Object.assign(_,y),_})}}async countTokens(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Bde(this.apiClient,e);return u=Se("{model}:countTokens",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=Bhe(h),_=new VN;return Object.assign(_,y),_})}else{const c=Ofe(this.apiClient,e);return u=Se("{model}:countTokens",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=uhe(h),_=new VN;return Object.assign(_,y),_})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=qde(this.apiClient,e);return o=Se("{model}:computeTokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const c=qhe(f),h=new Eae;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=zde(this.apiClient,e);return u=Se("{model}:predictLongRunning",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const y=zhe(h),_=new vg;return Object.assign(_,y),_})}else{const c=Vfe(this.apiClient,e);return u=Se("{model}:predictLongRunning",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>{const y=hhe(h),_=new vg;return Object.assign(_,y),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _pe(t){const e={},n=p(t,["operationName"]);n!=null&&m(e,["_url","operationName"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function Tpe(t){const e={},n=p(t,["operationName"]);n!=null&&m(e,["operationName"],n);const r=p(t,["resourceName"]);r!=null&&m(e,["_url","resourceName"],r);const i=p(t,["config"]);return i!=null&&m(e,["config"],i),e}function Epe(t){const e={},n=p(t,["operationName"]);n!=null&&m(e,["_url","operationName"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Spe extends yl{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Epe(e);return u=Se("{operationName}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const c=_pe(e);return u=Se("{operationName}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=Tpe(e);return o=Se("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ape(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function nB(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],Ape(n)),e}function wpe(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],nB(r)),e}function bpe(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>wpe(i))),m(e,["speakerVoiceConfigs"],r)}return e}function Cpe(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],nB(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],bpe(r));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function xpe(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Ipe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Rpe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Ppe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],xpe(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],Ipe(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Rpe(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function Mpe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ppe(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Dpe(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const o=p(t,["parameters"]);o!=null&&m(e,["parameters"],o);const s=p(t,["parametersJsonSchema"]);s!=null&&m(e,["parametersJsonSchema"],s);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const f=p(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function Npe(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function Ope(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],Npe(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function kpe(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function Lpe(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],kpe(n)),e}function Vpe(){return{}}function Upe(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function Bpe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>Dpe(c))),m(e,["functionDeclarations"],f)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],Ope(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],Lpe(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],Vpe());const s=p(t,["computerUse"]);s!=null&&m(e,["computerUse"],Upe(s));const u=p(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function qpe(t){const e={},n=p(t,["handle"]);if(n!=null&&m(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function cO(){return{}}function Fpe(t){const e={},n=p(t,["disabled"]);n!=null&&m(e,["disabled"],n);const r=p(t,["startOfSpeechSensitivity"]);r!=null&&m(e,["startOfSpeechSensitivity"],r);const i=p(t,["endOfSpeechSensitivity"]);i!=null&&m(e,["endOfSpeechSensitivity"],i);const o=p(t,["prefixPaddingMs"]);o!=null&&m(e,["prefixPaddingMs"],o);const s=p(t,["silenceDurationMs"]);return s!=null&&m(e,["silenceDurationMs"],s),e}function $pe(t){const e={},n=p(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],Fpe(n));const r=p(t,["activityHandling"]);r!=null&&m(e,["activityHandling"],r);const i=p(t,["turnCoverage"]);return i!=null&&m(e,["turnCoverage"],i),e}function Hpe(t){const e={},n=p(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function zpe(t){const e={},n=p(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const r=p(t,["slidingWindow"]);return r!=null&&m(e,["slidingWindow"],Hpe(r)),e}function Gpe(t){const e={},n=p(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function Kpe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topP"],s);const u=p(t,["topK"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topK"],u);const f=p(t,["maxOutputTokens"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","maxOutputTokens"],f);const c=p(t,["mediaResolution"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","mediaResolution"],c);const h=p(t,["seed"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","seed"],h);const y=p(t,["speechConfig"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","speechConfig"],Cpe(jw(y)));const _=p(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],_);const S=p(t,["systemInstruction"]);e!==void 0&&S!=null&&m(e,["setup","systemInstruction"],Mpe(zn(S)));const A=p(t,["tools"]);if(e!==void 0&&A!=null){let U=vc(A);Array.isArray(U)&&(U=U.map(G=>Bpe(yc(G)))),m(e,["setup","tools"],U)}const w=p(t,["sessionResumption"]);e!==void 0&&w!=null&&m(e,["setup","sessionResumption"],qpe(w));const C=p(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&m(e,["setup","inputAudioTranscription"],cO());const R=p(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&m(e,["setup","outputAudioTranscription"],cO());const D=p(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&m(e,["setup","realtimeInputConfig"],$pe(D));const I=p(t,["contextWindowCompression"]);e!==void 0&&I!=null&&m(e,["setup","contextWindowCompression"],zpe(I));const $=p(t,["proactivity"]);return e!==void 0&&$!=null&&m(e,["setup","proactivity"],Gpe($)),n}function jpe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],rt(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Kpe(i,n)),n}function Ype(t,e,n){const r={},i=p(e,["expireTime"]);n!==void 0&&i!=null&&m(n,["expireTime"],i);const o=p(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&m(n,["newSessionExpireTime"],o);const s=p(e,["uses"]);n!==void 0&&s!=null&&m(n,["uses"],s);const u=p(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&m(n,["bidiGenerateContentSetup"],jpe(t,u));const f=p(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&m(n,["fieldMask"],f),r}function Wpe(t,e){const n={},r=p(e,["config"]);return r!=null&&m(n,["config"],Ype(t,r,n)),n}function Jpe(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qpe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function Xpe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=Qpe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(c=>s.includes(c)?`generationConfig.${c}`:c));const f=[];o&&f.push(o),u.length>0&&f.push(...u),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Zpe extends yl{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=Wpe(this.apiClient,e);o=Se("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const f=Xpe(u,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>Jpe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eme(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function tme(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function nme(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],tme(n,e)),e}function rme(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function ime(t){const e={},n=p(t,["textInput"]);n!=null&&m(e,["textInput"],n);const r=p(t,["output"]);return r!=null&&m(e,["output"],r),e}function ome(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=p(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ime(i))),m(e,["examples","examples"],r)}return e}function ame(t,e){const n={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=p(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&m(e,["displayName"],r),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=p(t,["epochCount"]);e!==void 0&&i!=null&&m(e,["tuningTask","hyperparameters","epochCount"],i);const o=p(t,["learningRateMultiplier"]);if(o!=null&&m(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=p(t,["batchSize"]);e!==void 0&&s!=null&&m(e,["tuningTask","hyperparameters","batchSize"],s);const u=p(t,["learningRate"]);return e!==void 0&&u!=null&&m(e,["tuningTask","hyperparameters","learningRate"],u),n}function sme(t){const e={},n=p(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["preTunedModel"]);r!=null&&m(e,["preTunedModel"],r);const i=p(t,["trainingDataset"]);i!=null&&m(e,["tuningTask","trainingData"],ome(i));const o=p(t,["config"]);return o!=null&&m(e,["config"],ame(o,e)),e}function lme(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function ume(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function cme(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],ume(n,e)),e}function fme(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function dme(t,e){const n={},r=p(t,["gcsUri"]);e!==void 0&&r!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],i),p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function hme(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&m(n,["validationDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}function pme(t,e){const n={},r=p(t,["validationDataset"]);e!==void 0&&r!=null&&m(e,["supervisedTuningSpec"],hme(r,n));const i=p(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&m(e,["tunedModelDisplayName"],i);const o=p(t,["description"]);e!==void 0&&o!=null&&m(e,["description"],o);const s=p(t,["epochCount"]);e!==void 0&&s!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],s);const u=p(t,["learningRateMultiplier"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const f=p(t,["exportLastCheckpointOnly"]);e!==void 0&&f!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const c=p(t,["preTunedModelCheckpointId"]);c!=null&&m(n,["preTunedModel","checkpointId"],c);const h=p(t,["adapterSize"]);if(e!==void 0&&h!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],h),p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function mme(t){const e={},n=p(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["preTunedModel"]);r!=null&&m(e,["preTunedModel"],r);const i=p(t,["trainingDataset"]);i!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],dme(i,e));const o=p(t,["config"]);return o!=null&&m(e,["config"],pme(o,e)),e}function gme(t){const e={},n=p(t,["name"]);n!=null&&m(e,["model"],n);const r=p(t,["name"]);return r!=null&&m(e,["endpoint"],r),e}function rB(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["state"]);i!=null&&m(e,["state"],M3(i));const o=p(t,["createTime"]);o!=null&&m(e,["createTime"],o);const s=p(t,["tuningTask","startTime"]);s!=null&&m(e,["startTime"],s);const u=p(t,["tuningTask","completeTime"]);u!=null&&m(e,["endTime"],u);const f=p(t,["updateTime"]);f!=null&&m(e,["updateTime"],f);const c=p(t,["description"]);c!=null&&m(e,["description"],c);const h=p(t,["baseModel"]);h!=null&&m(e,["baseModel"],h);const y=p(t,["_self"]);y!=null&&m(e,["tunedModel"],gme(y));const _=p(t,["customBaseModel"]);_!=null&&m(e,["customBaseModel"],_);const S=p(t,["experiment"]);S!=null&&m(e,["experiment"],S);const A=p(t,["labels"]);A!=null&&m(e,["labels"],A);const w=p(t,["outputUri"]);w!=null&&m(e,["outputUri"],w);const C=p(t,["pipelineJob"]);C!=null&&m(e,["pipelineJob"],C);const R=p(t,["serviceAccount"]);R!=null&&m(e,["serviceAccount"],R);const D=p(t,["tunedModelDisplayName"]);return D!=null&&m(e,["tunedModelDisplayName"],D),e}function yme(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>rB(s))),m(e,["tuningJobs"],o)}return e}function vme(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=p(t,["done"]);o!=null&&m(e,["done"],o);const s=p(t,["error"]);return s!=null&&m(e,["error"],s),e}function _me(t){const e={},n=p(t,["checkpointId"]);n!=null&&m(e,["checkpointId"],n);const r=p(t,["epoch"]);r!=null&&m(e,["epoch"],r);const i=p(t,["step"]);i!=null&&m(e,["step"],i);const o=p(t,["endpoint"]);return o!=null&&m(e,["endpoint"],o),e}function Tme(t){const e={},n=p(t,["model"]);n!=null&&m(e,["model"],n);const r=p(t,["endpoint"]);r!=null&&m(e,["endpoint"],r);const i=p(t,["checkpoints"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>_me(s))),m(e,["checkpoints"],o)}return e}function lS(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["state"]);i!=null&&m(e,["state"],M3(i));const o=p(t,["createTime"]);o!=null&&m(e,["createTime"],o);const s=p(t,["startTime"]);s!=null&&m(e,["startTime"],s);const u=p(t,["endTime"]);u!=null&&m(e,["endTime"],u);const f=p(t,["updateTime"]);f!=null&&m(e,["updateTime"],f);const c=p(t,["error"]);c!=null&&m(e,["error"],c);const h=p(t,["description"]);h!=null&&m(e,["description"],h);const y=p(t,["baseModel"]);y!=null&&m(e,["baseModel"],y);const _=p(t,["tunedModel"]);_!=null&&m(e,["tunedModel"],Tme(_));const S=p(t,["preTunedModel"]);S!=null&&m(e,["preTunedModel"],S);const A=p(t,["supervisedTuningSpec"]);A!=null&&m(e,["supervisedTuningSpec"],A);const w=p(t,["tuningDataStats"]);w!=null&&m(e,["tuningDataStats"],w);const C=p(t,["encryptionSpec"]);C!=null&&m(e,["encryptionSpec"],C);const R=p(t,["partnerModelTuningSpec"]);R!=null&&m(e,["partnerModelTuningSpec"],R);const D=p(t,["customBaseModel"]);D!=null&&m(e,["customBaseModel"],D);const I=p(t,["experiment"]);I!=null&&m(e,["experiment"],I);const $=p(t,["labels"]);$!=null&&m(e,["labels"],$);const U=p(t,["outputUri"]);U!=null&&m(e,["outputUri"],U);const G=p(t,["pipelineJob"]);G!=null&&m(e,["pipelineJob"],G);const O=p(t,["serviceAccount"]);O!=null&&m(e,["serviceAccount"],O);const k=p(t,["tunedModelDisplayName"]);return k!=null&&m(e,["tunedModelDisplayName"],k),e}function Eme(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>lS(s))),m(e,["tuningJobs"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sme extends yl{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new ih(sl.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel},i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:ZE.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=lme(e);return u=Se("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>lS(h))}else{const c=eme(e);return u=Se("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>rB(h))}}async listInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=cme(e);return u=Se("tuningJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=Eme(h),_=new BN;return Object.assign(_,y),_})}else{const c=nme(e);return u=Se("tunedModels",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=yme(h),_=new BN;return Object.assign(_,y),_})}}async cancel(e){var n,r,i,o;let s="",u={};if(this.apiClient.isVertexAI()){const f=fme(e);s=Se("{name}:cancel",f._url),u=f._query,delete f.config,delete f._url,delete f._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=rme(e);s=Se("{name}:cancel",f._url),u=f._query,delete f.config,delete f._url,delete f._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=mme(e);return o=Se("tuningJobs",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>lS(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=sme(e);return o=Se("tunedModels",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>vme(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ame{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const wme=1024*1024*8,bme=3,Cme=1e3,xme=2,PT="x-goog-upload-status";async function Ime(t,e,n){var r,i,o;let s=0,u=0,f=new eS(new Response),c="upload";for(s=t.size;u<s;){const y=Math.min(wme,s-u),_=t.slice(u,u+y);u+y>=s&&(c+=", finalize");let S=0,A=Cme;for(;S<bme&&(f=await n.request({path:"",body:_,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(u),"Content-Length":String(y)}}}),!(!((r=f==null?void 0:f.headers)===null||r===void 0)&&r[PT]));)S++,await Pme(A),A=A*xme;if(u+=y,((i=f==null?void 0:f.headers)===null||i===void 0?void 0:i[PT])!=="active")break;if(s<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(f==null?void 0:f.json());if(((o=f==null?void 0:f.headers)===null||o===void 0?void 0:o[PT])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function Rme(t){return{size:t.size,type:t.type}}function Pme(t){return new Promise(e=>setTimeout(e,t))}class Mme{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Ime(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Rme(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dme{create(e,n,r){return new Nme(e,n,r)}}class Nme{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fO="x-goog-api-key";class Ome{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(fO)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(fO,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kme="gl-node/";class Lme{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=gae(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new Ome(this.apiKey);this.apiClient=new Xhe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:kme+"web",uploader:new Mme,downloader:new Ame}),this.models=new vpe(this.apiClient),this.live=new fpe(this.apiClient,i,new Dme),this.batches=new Fse(this.apiClient),this.chats=new jle(this.models,this.apiClient),this.caches=new zle(this.apiClient),this.files=new aue(this.apiClient),this.operations=new Spe(this.apiClient),this.authTokens=new Zpe(this.apiClient),this.tunings=new Sme(this.apiClient)}}const Vme=new Lme({apiKey:aL.apiKey}),Ume=async t=>{try{const e=await Vme.models.generateImages({model:"imagen-4.0-generate-001",prompt:`Futuristic, dark, dystopian, gritty, mysterious, quest item. ${t}`,config:{numberOfImages:1,outputMimeType:"image/jpeg",aspectRatio:"16:9"}});if(e.generatedImages&&e.generatedImages.length>0)return`data:image/jpeg;base64,${e.generatedImages[0].image.imageBytes}`;throw new Error("No image was generated by the API.")}catch(e){throw console.error("Error generating image with Gemini API:",e),e instanceof Error?new Error(`Failed to generate image: ${e.message}`):new Error("An unknown error occurred while generating the image.")}},Bme=()=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:z.jsx("path",{d:"M17 3H5a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2zm-3 12H8v-4h6v4zm2-6H5V5h12v4z"})}),qme=()=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),Fme=()=>{var O,k,N,q,B;const{questId:t}=SO(),e=dS(),[n,r]=M.useState(null),[i,o]=M.useState(null),[s,u]=M.useState("start"),[f,c]=M.useState(!0),[h,y]=M.useState(!1),[_,S]=M.useState(""),[A,w]=M.useState(null),[C,R]=M.useState({}),D=M.useCallback(F=>{o(F)},[]);M.useEffect(()=>{if(!t){S("Квест не найден."),c(!1);return}c(!0);const F=Ba(tr,"games",t),H=lE(F,Ae=>{if(Ae.exists()){const ye={id:Ae.id,...Ae.data()};r(ye),i||D(JSON.parse(JSON.stringify(ye.dsl)))}else S("Квест не найден.");c(!1)},Ae=>{console.error(Ae),S("Ошибка загрузки квеста."),c(!1)});return()=>H()},[t]);const I=async()=>{if(!(!t||!i)){y(!0);try{await hA(Ba(tr,"games",t),{title:i.meta.title,dsl:i,updatedAt:td()}),w(new Date)}catch(F){console.error(F),alert("Не удалось сохранить изменения.")}finally{y(!1)}}},$=(F,H,Ae)=>{if(!i)return;const ye={...i};ye.nodes[F]={...ye.nodes[F],[H]:Ae},D(ye)},U=async F=>{var Ae;if(!i)return;const H=(Ae=document.getElementById(`image-prompt-${F}`))==null?void 0:Ae.value;if(!H){alert("Пожалуйста, введите описание для генерации изображения.");return}R(ye=>({...ye,[F]:{loading:!0,error:""}}));try{const ye=await Ume(H),Z=JSON.parse(JSON.stringify(i));Z.assets.images||(Z.assets.images={}),Z.assets.images[F]=ye,Z.nodes[F].bg=F,D(Z)}catch(ye){R(Z=>({...Z,[F]:{loading:!1,error:ye.message||"Ошибка генерации"}}))}finally{R(ye=>({...ye,[F]:{...ye[F],loading:!1}}))}};if(f)return z.jsx("div",{className:"text-center p-8 font-display text-2xl text-stone-400 animate-pulse",children:"ЗАГРУЗКА РЕДАКТОРА..."});if(_)return z.jsx("div",{className:"text-center p-8 text-2xl text-red-500",children:_});if(!n||!i)return null;const G=i.nodes[s];return z.jsxs("div",{className:"container mx-auto py-8 px-4",children:[z.jsxs("div",{className:"flex justify-between items-center mb-6",children:[z.jsxs("div",{className:"flex items-center gap-4",children:[z.jsx("button",{onClick:()=>e("/admin"),className:"bg-stone-700 hover:bg-stone-600 text-stone-200 font-semibold py-2 px-4 rounded-md transition-colors",children:"← Назад"}),z.jsx("input",{type:"text",value:i.meta.title,onChange:F=>D({...i,meta:{...i.meta,title:F.target.value}}),className:"font-display text-4xl text-stone-200 bg-transparent border-0 focus:ring-2 focus:ring-amber-500 rounded-md p-1"})]}),z.jsxs("div",{className:"flex items-center gap-4",children:[A&&z.jsxs("span",{className:"text-sm text-stone-400",children:["Сохранено: ",A.toLocaleTimeString()]}),z.jsxs("button",{onClick:I,disabled:h,className:"flex items-center justify-center font-display text-xl bg-amber-500 text-stone-900 py-2 px-6 rounded-md hover:bg-amber-400 transition-colors disabled:bg-stone-600 disabled:cursor-not-allowed",children:[z.jsx(Bme,{})," ",h?"СОХРАНЕНИЕ...":"СОХРАНИТЬ"]})]})]}),z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[z.jsxs("div",{className:"md:col-span-1 bg-stone-800/50 border border-stone-700 p-4 rounded-md",children:[z.jsx("h3",{className:"font-display text-2xl text-amber-400 mb-4",children:"Узлы Сценария"}),z.jsx("div",{className:"flex flex-col space-y-2",children:Object.keys(i.nodes).map(F=>z.jsx("button",{onClick:()=>u(F),className:`w-full text-left p-2 rounded-md transition-colors ${s===F?"bg-amber-500 text-stone-900 font-bold":"bg-stone-700 hover:bg-stone-600"}`,children:F},F))})]}),z.jsx("div",{className:"md:col-span-3 bg-stone-800/50 border border-stone-700 p-6 rounded-md space-y-6",children:G?z.jsxs("div",{children:[z.jsxs("h3",{className:"font-display text-3xl text-stone-100 mb-4 border-b-2 border-amber-500 pb-2",children:["Узел: ",z.jsx("span",{className:"text-amber-400",children:s})]}),z.jsxs("div",{children:[z.jsx("label",{htmlFor:"nodeText",className:"text-sm font-bold text-stone-400 block mb-1",children:"Текст узла:"}),z.jsx("textarea",{id:"nodeText",value:G.text,onChange:F=>$(s,"text",F.target.value),className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all h-40 resize-y"})]}),z.jsxs("div",{className:"space-y-2",children:[z.jsx("label",{className:"text-sm font-bold text-stone-400 block",children:"Фоновое изображение (AI):"}),z.jsxs("div",{className:"aspect-video bg-stone-900 rounded-md overflow-hidden relative flex items-center justify-center",children:[i.assets.images[G.bg||""]?z.jsx("img",{src:i.assets.images[G.bg||""],alt:"Generated background",className:"w-full h-full object-cover"}):z.jsx("span",{className:"text-stone-500",children:"Нет изображения"}),((O=C[s])==null?void 0:O.loading)&&z.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:z.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-500"})})]}),z.jsxs("div",{className:"flex gap-2",children:[z.jsx("input",{id:`image-prompt-${s}`,type:"text",placeholder:"Опишите сцену... (на английском)",className:"flex-grow bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),z.jsxs("button",{onClick:()=>U(s),disabled:(k=C[s])==null?void 0:k.loading,className:"flex items-center justify-center font-display text-lg bg-sky-600 text-white py-2 px-4 rounded-md hover:bg-sky-500 transition-colors disabled:bg-stone-600",children:[z.jsx(qme,{})," ",(N=C[s])!=null&&N.loading?"Генерация...":"Создать"]})]}),((q=C[s])==null?void 0:q.error)&&z.jsx("p",{className:"text-red-500 text-sm mt-1",children:(B=C[s])==null?void 0:B.error})]}),z.jsxs("div",{children:[z.jsx("h4",{className:"text-lg font-bold text-stone-300 mt-6 mb-2",children:"Выборы:"}),z.jsx("div",{className:"space-y-2",children:(G.choices||[]).map((F,H)=>z.jsxs("div",{className:"flex gap-2 items-center bg-stone-900/50 p-2 rounded",children:[z.jsx("input",{type:"text",value:F.label,placeholder:"Текст выбора",className:"flex-grow bg-stone-700 text-stone-200 border border-stone-600 rounded px-2 py-1"}),z.jsx("span",{className:"text-stone-400",children:"→"}),z.jsx("input",{type:"text",value:F.to,placeholder:"ID узла",className:"w-32 bg-stone-700 text-stone-200 border border-stone-600 rounded px-2 py-1"})]},H))})]})]}):z.jsx("p",{className:"text-stone-400",children:"Выберите узел для редактирования"})})]})]})},$me=()=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:z.jsx("path",{fillRule:"evenodd",d:"M10 2a4 4 0 00-4 4v4H4a2 2 0 00-2 2v6a2 2 0 002 2h12a2 2 0 002-2v-6a2 2 0 00-2-2h-2V6a4 4 0 00-4-4zm-2 6V6a2 2 0 114 0v4H8z",clipRule:"evenodd"})}),MT=()=>{const[t,e]=M.useState(""),[n,r]=M.useState(""),[i,o]=M.useState(""),s=async u=>{u.preventDefault(),o("");try{await W9(nd,t,n)}catch(f){o("Ошибка входа. Проверьте почту и пароль."),console.error(f)}};return z.jsx("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:z.jsxs("div",{className:"w-full max-w-sm p-8 bg-stone-800/50 border border-stone-700 rounded-md shadow-lg",children:[z.jsx("h2",{className:"font-display text-3xl text-center text-stone-200 mb-6 tracking-wider",children:"ВХОД В ПАНЕЛЬ"}),z.jsxs("form",{onSubmit:s,className:"space-y-4",children:[z.jsx("input",{type:"email",value:t,onChange:u=>e(u.target.value),placeholder:"Email",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all","aria-label":"Email",required:!0}),z.jsx("input",{type:"password",value:n,onChange:u=>r(u.target.value),placeholder:"Пароль",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all","aria-label":"Password",required:!0}),z.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center font-display text-xl bg-amber-500 text-stone-900 py-2 rounded-md hover:bg-amber-400 transition-colors",children:[z.jsx($me,{}),"ВОЙТИ"]}),i&&z.jsx("p",{className:"text-red-500 text-center text-sm mt-4",children:i})]})]})})},Hme=()=>z.jsx("header",{className:"bg-black/50 border-b-2 border-amber-500/50 p-4 sticky top-0 z-20 backdrop-blur-sm",children:z.jsxs("div",{className:"container mx-auto text-center",children:[z.jsx("a",{href:"/#",className:"font-display text-4xl md:text-5xl text-amber-400 tracking-widest no-underline",children:"B_KOMHATE"}),z.jsx("p",{className:"text-stone-400 text-sm tracking-wider",children:"QUEST & CODEWORD PLATFORM"})]})}),dO=()=>z.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center p-4",children:[z.jsx("h2",{className:"font-display text-6xl text-red-500",children:"404"}),z.jsx("p",{className:"text-stone-300 text-xl mt-2",children:"Страница не найдена."}),z.jsx("a",{href:"/#/admin",className:"text-amber-400 hover:text-amber-300 mt-4",children:"Перейти в панель управления"})]}),zme=()=>{const{currentUser:t,loading:e}=S8();return Ki(),e?z.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:z.jsx("p",{className:"font-display text-2xl text-stone-400 animate-pulse",children:"ИНИЦИАЛИЗАЦИЯ СИСТЕМЫ..."})}):t?z.jsxs(_1,{children:[z.jsx(yr,{path:"/admin",element:z.jsx(cae,{})}),z.jsx(yr,{path:"/admin/quest/:questId",element:z.jsx(Fme,{})}),z.jsx(yr,{path:"/",element:z.jsx(M6,{to:"/admin",replace:!0})}),z.jsx(yr,{path:"/view",element:z.jsx(HD,{})}),z.jsx(yr,{path:"/play/:questId",element:z.jsx(zD,{})}),z.jsx(yr,{path:"*",element:z.jsx(dO,{})})]}):z.jsxs(_1,{children:[z.jsx(yr,{path:"/view",element:z.jsx(HD,{})}),z.jsx(yr,{path:"/play/:questId",element:z.jsx(zD,{})}),z.jsx(yr,{path:"/admin",element:z.jsx(MT,{})}),z.jsx(yr,{path:"/admin/*",element:z.jsx(MT,{})}),z.jsx(yr,{path:"/",element:z.jsx(MT,{})}),z.jsx(yr,{path:"*",element:z.jsx(dO,{})})]})},Gme=()=>z.jsx("div",{className:"min-h-screen",children:z.jsx(A8,{children:z.jsxs(tF,{children:[z.jsx(Hme,{}),z.jsx("main",{children:z.jsx(zme,{})})]})})}),iB=document.getElementById("root");if(!iB)throw new Error("Could not find root element to mount to");const Kme=$q.createRoot(iB);Kme.render(z.jsx(hO.StrictMode,{children:z.jsx(Gme,{})}));
