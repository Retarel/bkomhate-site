var aG=Object.defineProperty;var lG=(t,e,n)=>e in t?aG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var LE=(t,e,n)=>lG(t,typeof e!="symbol"?e+"":e,n);function uG(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Ki(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var UE={exports:{}},xh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CM;function cG(){if(CM)return xh;CM=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var s=null;if(o!==void 0&&(s=""+o),i.key!==void 0&&(s=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:o}}return xh.Fragment=e,xh.jsx=n,xh.jsxs=n,xh}var xM;function fG(){return xM||(xM=1,UE.exports=cG()),UE.exports}var H=fG(),FE={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RM;function dG(){if(RM)return Ge;RM=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),y=Symbol.iterator;function v(W){return W===null||typeof W!="object"?null:(W=y&&W[y]||W["@@iterator"],typeof W=="function"?W:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,b={};function I(W,ce,ae){this.props=W,this.context=ce,this.refs=b,this.updater=ae||E}I.prototype.isReactComponent={},I.prototype.setState=function(W,ce){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,ce,"setState")},I.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function R(){}R.prototype=I.prototype;function D(W,ce,ae){this.props=W,this.context=ce,this.refs=b,this.updater=ae||E}var C=D.prototype=new R;C.constructor=D,S(C,I.prototype),C.isPureReactComponent=!0;var q=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function N(W,ce,ae,ge,Pe,ke){return ae=ke.ref,{$$typeof:t,type:W,key:ce,ref:ae!==void 0?ae:null,props:ke}}function O(W,ce){return N(W.type,ce,void 0,void 0,void 0,W.props)}function k(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function B(W){var ce={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ae){return ce[ae]})}var F=/\/+/g;function $(W,ce){return typeof W=="object"&&W!==null&&W.key!=null?B(""+W.key):ce.toString(36)}function z(){}function Re(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(z,z):(W.status="pending",W.then(function(ce){W.status==="pending"&&(W.status="fulfilled",W.value=ce)},function(ce){W.status==="pending"&&(W.status="rejected",W.reason=ce)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function we(W,ce,ae,ge,Pe){var ke=typeof W;(ke==="undefined"||ke==="boolean")&&(W=null);var Ue=!1;if(W===null)Ue=!0;else switch(ke){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(W.$$typeof){case t:case e:Ue=!0;break;case h:return Ue=W._init,we(Ue(W._payload),ce,ae,ge,Pe)}}if(Ue)return Pe=Pe(W),Ue=ge===""?"."+$(W,0):ge,q(Pe)?(ae="",Ue!=null&&(ae=Ue.replace(F,"$&/")+"/"),we(Pe,ce,ae,"",function(Te){return Te})):Pe!=null&&(k(Pe)&&(Pe=O(Pe,ae+(Pe.key==null||W&&W.key===Pe.key?"":(""+Pe.key).replace(F,"$&/")+"/")+Ue)),ce.push(Pe)),1;Ue=0;var sn=ge===""?".":ge+":";if(q(W))for(var vt=0;vt<W.length;vt++)ge=W[vt],ke=sn+$(ge,vt),Ue+=we(ge,ce,ae,ke,Pe);else if(vt=v(W),typeof vt=="function")for(W=vt.call(W),vt=0;!(ge=W.next()).done;)ge=ge.value,ke=sn+$(ge,vt++),Ue+=we(ge,ce,ae,ke,Pe);else if(ke==="object"){if(typeof W.then=="function")return we(Re(W),ce,ae,ge,Pe);throw ce=String(W),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ee(W,ce,ae){if(W==null)return W;var ge=[],Pe=0;return we(W,ge,"","",function(ke){return ce.call(ae,ke,Pe++)}),ge}function pe(W){if(W._status===-1){var ce=W._result;ce=ce(),ce.then(function(ae){(W._status===0||W._status===-1)&&(W._status=1,W._result=ae)},function(ae){(W._status===0||W._status===-1)&&(W._status=2,W._result=ae)}),W._status===-1&&(W._status=0,W._result=ce)}if(W._status===1)return W._result.default;throw W._result}var Se=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)};function Be(){}return Ge.Children={map:ee,forEach:function(W,ce,ae){ee(W,function(){ce.apply(this,arguments)},ae)},count:function(W){var ce=0;return ee(W,function(){ce++}),ce},toArray:function(W){return ee(W,function(ce){return ce})||[]},only:function(W){if(!k(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Ge.Component=I,Ge.Fragment=n,Ge.Profiler=i,Ge.PureComponent=D,Ge.StrictMode=r,Ge.Suspense=c,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(W){return L.H.useMemoCache(W)}},Ge.cache=function(W){return function(){return W.apply(null,arguments)}},Ge.cloneElement=function(W,ce,ae){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var ge=S({},W.props),Pe=W.key,ke=void 0;if(ce!=null)for(Ue in ce.ref!==void 0&&(ke=void 0),ce.key!==void 0&&(Pe=""+ce.key),ce)!G.call(ce,Ue)||Ue==="key"||Ue==="__self"||Ue==="__source"||Ue==="ref"&&ce.ref===void 0||(ge[Ue]=ce[Ue]);var Ue=arguments.length-2;if(Ue===1)ge.children=ae;else if(1<Ue){for(var sn=Array(Ue),vt=0;vt<Ue;vt++)sn[vt]=arguments[vt+2];ge.children=sn}return N(W.type,Pe,void 0,void 0,ke,ge)},Ge.createContext=function(W){return W={$$typeof:s,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:o,_context:W},W},Ge.createElement=function(W,ce,ae){var ge,Pe={},ke=null;if(ce!=null)for(ge in ce.key!==void 0&&(ke=""+ce.key),ce)G.call(ce,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Pe[ge]=ce[ge]);var Ue=arguments.length-2;if(Ue===1)Pe.children=ae;else if(1<Ue){for(var sn=Array(Ue),vt=0;vt<Ue;vt++)sn[vt]=arguments[vt+2];Pe.children=sn}if(W&&W.defaultProps)for(ge in Ue=W.defaultProps,Ue)Pe[ge]===void 0&&(Pe[ge]=Ue[ge]);return N(W,ke,void 0,void 0,null,Pe)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(W){return{$$typeof:u,render:W}},Ge.isValidElement=k,Ge.lazy=function(W){return{$$typeof:h,_payload:{_status:-1,_result:W},_init:pe}},Ge.memo=function(W,ce){return{$$typeof:f,type:W,compare:ce===void 0?null:ce}},Ge.startTransition=function(W){var ce=L.T,ae={};L.T=ae;try{var ge=W(),Pe=L.S;Pe!==null&&Pe(ae,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(Be,Se)}catch(ke){Se(ke)}finally{L.T=ce}},Ge.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Ge.use=function(W){return L.H.use(W)},Ge.useActionState=function(W,ce,ae){return L.H.useActionState(W,ce,ae)},Ge.useCallback=function(W,ce){return L.H.useCallback(W,ce)},Ge.useContext=function(W){return L.H.useContext(W)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(W,ce){return L.H.useDeferredValue(W,ce)},Ge.useEffect=function(W,ce,ae){var ge=L.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ge.useEffect(W,ce)},Ge.useId=function(){return L.H.useId()},Ge.useImperativeHandle=function(W,ce,ae){return L.H.useImperativeHandle(W,ce,ae)},Ge.useInsertionEffect=function(W,ce){return L.H.useInsertionEffect(W,ce)},Ge.useLayoutEffect=function(W,ce){return L.H.useLayoutEffect(W,ce)},Ge.useMemo=function(W,ce){return L.H.useMemo(W,ce)},Ge.useOptimistic=function(W,ce){return L.H.useOptimistic(W,ce)},Ge.useReducer=function(W,ce,ae){return L.H.useReducer(W,ce,ae)},Ge.useRef=function(W){return L.H.useRef(W)},Ge.useState=function(W){return L.H.useState(W)},Ge.useSyncExternalStore=function(W,ce,ae){return L.H.useSyncExternalStore(W,ce,ae)},Ge.useTransition=function(){return L.H.useTransition()},Ge.version="19.1.1",Ge}var PM;function Kf(){return PM||(PM=1,FE.exports=dG()),FE.exports}var M=Kf();const cU=Ki(M),hG=uG({__proto__:null,default:cU},[M]);var BE={exports:{}},Rh={},qE={exports:{}},$E={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MM;function pG(){return MM||(MM=1,(function(t){function e(ee,pe){var Se=ee.length;ee.push(pe);e:for(;0<Se;){var Be=Se-1>>>1,W=ee[Be];if(0<i(W,pe))ee[Be]=pe,ee[Se]=W,Se=Be;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var pe=ee[0],Se=ee.pop();if(Se!==pe){ee[0]=Se;e:for(var Be=0,W=ee.length,ce=W>>>1;Be<ce;){var ae=2*(Be+1)-1,ge=ee[ae],Pe=ae+1,ke=ee[Pe];if(0>i(ge,Se))Pe<W&&0>i(ke,ge)?(ee[Be]=ke,ee[Pe]=Se,Be=Pe):(ee[Be]=ge,ee[ae]=Se,Be=ae);else if(Pe<W&&0>i(ke,Se))ee[Be]=ke,ee[Pe]=Se,Be=Pe;else break e}}return pe}function i(ee,pe){var Se=ee.sortIndex-pe.sortIndex;return Se!==0?Se:ee.id-pe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],f=[],h=1,y=null,v=3,E=!1,S=!1,b=!1,I=!1,R=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function q(ee){for(var pe=n(f);pe!==null;){if(pe.callback===null)r(f);else if(pe.startTime<=ee)r(f),pe.sortIndex=pe.expirationTime,e(c,pe);else break;pe=n(f)}}function L(ee){if(b=!1,q(ee),!S)if(n(c)!==null)S=!0,G||(G=!0,$());else{var pe=n(f);pe!==null&&we(L,pe.startTime-ee)}}var G=!1,N=-1,O=5,k=-1;function B(){return I?!0:!(t.unstable_now()-k<O)}function F(){if(I=!1,G){var ee=t.unstable_now();k=ee;var pe=!0;try{e:{S=!1,b&&(b=!1,D(N),N=-1),E=!0;var Se=v;try{t:{for(q(ee),y=n(c);y!==null&&!(y.expirationTime>ee&&B());){var Be=y.callback;if(typeof Be=="function"){y.callback=null,v=y.priorityLevel;var W=Be(y.expirationTime<=ee);if(ee=t.unstable_now(),typeof W=="function"){y.callback=W,q(ee),pe=!0;break t}y===n(c)&&r(c),q(ee)}else r(c);y=n(c)}if(y!==null)pe=!0;else{var ce=n(f);ce!==null&&we(L,ce.startTime-ee),pe=!1}}break e}finally{y=null,v=Se,E=!1}pe=void 0}}finally{pe?$():G=!1}}}var $;if(typeof C=="function")$=function(){C(F)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Re=z.port2;z.port1.onmessage=F,$=function(){Re.postMessage(null)}}else $=function(){R(F,0)};function we(ee,pe){N=R(function(){ee(t.unstable_now())},pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(ee){switch(v){case 1:case 2:case 3:var pe=3;break;default:pe=v}var Se=v;v=pe;try{return ee()}finally{v=Se}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(ee,pe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var Se=v;v=ee;try{return pe()}finally{v=Se}},t.unstable_scheduleCallback=function(ee,pe,Se){var Be=t.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?Be+Se:Be):Se=Be,ee){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=Se+W,ee={id:h++,callback:pe,priorityLevel:ee,startTime:Se,expirationTime:W,sortIndex:-1},Se>Be?(ee.sortIndex=Se,e(f,ee),n(c)===null&&ee===n(f)&&(b?(D(N),N=-1):b=!0,we(L,Se-Be))):(ee.sortIndex=W,e(c,ee),S||E||(S=!0,G||(G=!0,$()))),ee},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(ee){var pe=v;return function(){var Se=v;v=pe;try{return ee.apply(this,arguments)}finally{v=Se}}}})($E)),$E}var DM;function mG(){return DM||(DM=1,qE.exports=pG()),qE.exports}var zE={exports:{}},ir={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NM;function gG(){if(NM)return ir;NM=1;var t=Kf();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(c,f,h){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:c,containerInfo:f,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ir.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ir.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(c,f,null,h)},ir.flushSync=function(c){var f=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=f,r.p=h,r.d.f()}},ir.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},ir.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},ir.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,y=u(h,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,E=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:E}):h==="script"&&r.d.X(c,{crossOrigin:y,integrity:v,fetchPriority:E,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ir.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},ir.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,y=u(h,f.crossOrigin);r.d.L(c,h,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ir.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=u(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},ir.requestFormReset=function(c){r.d.r(c)},ir.unstable_batchedUpdates=function(c,f){return c(f)},ir.useFormState=function(c,f,h){return s.H.useFormState(c,f,h)},ir.useFormStatus=function(){return s.H.useHostTransitionStatus()},ir.version="19.1.1",ir}var kM;function fU(){if(kM)return zE.exports;kM=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zE.exports=gG(),zE.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OM;function yG(){if(OM)return Rh;OM=1;var t=mG(),e=Kf(),n=fU();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function s(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(o(a)!==a)throw Error(r(188))}function c(a){var l=a.alternate;if(!l){if(l=o(a),l===null)throw Error(r(188));return l!==a?null:a}for(var d=a,g=l;;){var T=d.return;if(T===null)break;var w=T.alternate;if(w===null){if(g=T.return,g!==null){d=g;continue}break}if(T.child===w.child){for(w=T.child;w;){if(w===d)return u(T),a;if(w===g)return u(T),l;w=w.sibling}throw Error(r(188))}if(d.return!==g.return)d=T,g=w;else{for(var P=!1,V=T.child;V;){if(V===d){P=!0,d=T,g=w;break}if(V===g){P=!0,g=T,d=w;break}V=V.sibling}if(!P){for(V=w.child;V;){if(V===d){P=!0,d=w,g=T;break}if(V===g){P=!0,g=w,d=T;break}V=V.sibling}if(!P)throw Error(r(189))}}if(d.alternate!==g)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:l}function f(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=f(a),l!==null)return l;a=a.sibling}return null}var h=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),C=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function $(a){return a===null||typeof a!="object"?null:(a=F&&a[F]||a["@@iterator"],typeof a=="function"?a:null)}var z=Symbol.for("react.client.reference");function Re(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===z?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case I:return"Profiler";case b:return"StrictMode";case L:return"Suspense";case G:return"SuspenseList";case k:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case E:return"Portal";case C:return(a.displayName||"Context")+".Provider";case D:return(a._context.displayName||"Context")+".Consumer";case q:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case N:return l=a.displayName||null,l!==null?l:Re(a.type)||"Memo";case O:l=a._payload,a=a._init;try{return Re(a(l))}catch{}}return null}var we=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se={pending:!1,data:null,method:null,action:null},Be=[],W=-1;function ce(a){return{current:a}}function ae(a){0>W||(a.current=Be[W],Be[W]=null,W--)}function ge(a,l){W++,Be[W]=a.current,a.current=l}var Pe=ce(null),ke=ce(null),Ue=ce(null),sn=ce(null);function vt(a,l){switch(ge(Ue,l),ge(ke,a),ge(Pe,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?tM(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=tM(l),a=nM(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ae(Pe),ge(Pe,a)}function Te(){ae(Pe),ae(ke),ae(Ue)}function $e(a){a.memoizedState!==null&&ge(sn,a);var l=Pe.current,d=nM(l,a.type);l!==d&&(ge(ke,a),ge(Pe,d))}function ze(a){ke.current===a&&(ae(Pe),ae(ke)),sn.current===a&&(ae(sn),Sh._currentValue=Se)}var he=Object.prototype.hasOwnProperty,Gt=t.unstable_scheduleCallback,Ze=t.unstable_cancelCallback,yn=t.unstable_shouldYield,Pn=t.unstable_requestPaint,an=t.unstable_now,$u=t.unstable_getCurrentPriorityLevel,Ed=t.unstable_ImmediatePriority,zu=t.unstable_UserBlockingPriority,il=t.unstable_NormalPriority,U0=t.unstable_LowPriority,Hu=t.unstable_IdlePriority,wd=t.log,zm=t.unstable_setDisableYieldValue,Kt=null,ft=null;function Or(a){if(typeof wd=="function"&&zm(a),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(Kt,a)}catch{}}var nr=Math.clz32?Math.clz32:ol,Hm=Math.log,F0=Math.LN2;function ol(a){return a>>>=0,a===0?32:31-(Hm(a)/F0|0)|0}var sl=256,al=4194304;function Mi(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Gu(a,l,d){var g=a.pendingLanes;if(g===0)return 0;var T=0,w=a.suspendedLanes,P=a.pingedLanes;a=a.warmLanes;var V=g&134217727;return V!==0?(g=V&~w,g!==0?T=Mi(g):(P&=V,P!==0?T=Mi(P):d||(d=V&~a,d!==0&&(T=Mi(d))))):(V=g&~w,V!==0?T=Mi(V):P!==0?T=Mi(P):d||(d=g&~a,d!==0&&(T=Mi(d)))),T===0?0:l!==0&&l!==T&&(l&w)===0&&(w=T&-T,d=l&-l,w>=d||w===32&&(d&4194048)!==0)?l:T}function ll(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function Sd(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bd(){var a=sl;return sl<<=1,(sl&4194048)===0&&(sl=256),a}function Ad(){var a=al;return al<<=1,(al&62914560)===0&&(al=4194304),a}function Vo(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function Lo(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Id(a,l,d,g,T,w){var P=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var V=a.entanglements,K=a.expirationTimes,Z=a.hiddenUpdates;for(d=P&~d;0<d;){var se=31-nr(d),ue=1<<se;V[se]=0,K[se]=-1;var te=Z[se];if(te!==null)for(Z[se]=null,se=0;se<te.length;se++){var ne=te[se];ne!==null&&(ne.lane&=-536870913)}d&=~ue}g!==0&&Qi(a,g,0),w!==0&&T===0&&a.tag!==0&&(a.suspendedLanes|=w&~(P&~l))}function Qi(a,l,d){a.pendingLanes|=l,a.suspendedLanes&=~l;var g=31-nr(l);a.entangledLanes|=l,a.entanglements[g]=a.entanglements[g]|1073741824|d&4194090}function Cd(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var g=31-nr(d),T=1<<g;T&l|a[g]&l&&(a[g]|=l),d&=~T}}function Fs(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ku(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Bs(){var a=pe.p;return a!==0?a:(a=window.event,a===void 0?32:EM(a.type))}function Gm(a,l){var d=pe.p;try{return pe.p=a,l()}finally{pe.p=d}}var kt=Math.random().toString(36).slice(2),vn="__reactFiber$"+kt,ln="__reactProps$"+kt,oi="__reactContainer$"+kt,xd="__reactEvents$"+kt,B0="__reactListeners$"+kt,qs="__reactHandles$"+kt,Km="__reactResources$"+kt,ul="__reactMarker$"+kt;function $s(a){delete a[vn],delete a[ln],delete a[xd],delete a[B0],delete a[qs]}function Uo(a){var l=a[vn];if(l)return l;for(var d=a.parentNode;d;){if(l=d[oi]||d[vn]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=sM(a);a!==null;){if(d=a[vn])return d;a=sM(a)}return l}a=d,d=a.parentNode}return null}function Xi(a){if(a=a[vn]||a[oi]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function Zi(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function hr(a){var l=a[Km];return l||(l=a[Km]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Zt(a){a[ul]=!0}var Rd=new Set,Wu={};function Di(a,l){Fo(a,l),Fo(a+"Capture",l)}function Fo(a,l){for(Wu[a]=l,a=0;a<l.length;a++)Rd.add(l[a])}var Wm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jm={},cl={};function Ym(a){return he.call(cl,a)?!0:he.call(jm,a)?!1:Wm.test(a)?cl[a]=!0:(jm[a]=!0,!1)}function zs(a,l,d){if(Ym(l))if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+d)}}function eo(a,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+d)}}function Hn(a,l,d,g){if(g===null)a.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(l,d,""+g)}}var fl,Jm;function Bo(a){if(fl===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);fl=l&&l[1]||"",Jm=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fl+a+Jm}var ju=!1;function Yu(a,l){if(!a||ju)return"";ju=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ne){var te=ne}Reflect.construct(a,[],ue)}else{try{ue.call()}catch(ne){te=ne}a.call(ue.prototype)}}else{try{throw Error()}catch(ne){te=ne}(ue=a())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=g.DetermineComponentFrameRoot(),P=w[0],V=w[1];if(P&&V){var K=P.split(`
`),Z=V.split(`
`);for(T=g=0;g<K.length&&!K[g].includes("DetermineComponentFrameRoot");)g++;for(;T<Z.length&&!Z[T].includes("DetermineComponentFrameRoot");)T++;if(g===K.length||T===Z.length)for(g=K.length-1,T=Z.length-1;1<=g&&0<=T&&K[g]!==Z[T];)T--;for(;1<=g&&0<=T;g--,T--)if(K[g]!==Z[T]){if(g!==1||T!==1)do if(g--,T--,0>T||K[g]!==Z[T]){var se=`
`+K[g].replace(" at new "," at ");return a.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",a.displayName)),se}while(1<=g&&0<=T);break}}}finally{ju=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?Bo(d):""}function Pd(a){switch(a.tag){case 26:case 27:case 5:return Bo(a.type);case 16:return Bo("Lazy");case 13:return Bo("Suspense");case 19:return Bo("SuspenseList");case 0:case 15:return Yu(a.type,!1);case 11:return Yu(a.type.render,!1);case 1:return Yu(a.type,!0);case 31:return Bo("Activity");default:return""}}function Ju(a){try{var l="";do l+=Pd(a),a=a.return;while(a);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function pr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Md(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function q0(a){var l=Md(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),g=""+a[l];if(!a.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var T=d.get,w=d.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return T.call(this)},set:function(P){g=""+P,w.call(this,P)}}),Object.defineProperty(a,l,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(P){g=""+P},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Qu(a){a._valueTracker||(a._valueTracker=q0(a))}function Dd(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return a&&(g=Md(a)?a.checked?"true":"false":a.value),a=g,a!==d?(l.setValue(a),!0):!1}function dl(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var $0=/[\n"\\]/g;function un(a){return a.replace($0,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Vr(a,l,d,g,T,w,P,V){a.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?a.type=P:a.removeAttribute("type"),l!=null?P==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+pr(l)):a.value!==""+pr(l)&&(a.value=""+pr(l)):P!=="submit"&&P!=="reset"||a.removeAttribute("value"),l!=null?Hs(a,P,pr(l)):d!=null?Hs(a,P,pr(d)):g!=null&&a.removeAttribute("value"),T==null&&w!=null&&(a.defaultChecked=!!w),T!=null&&(a.checked=T&&typeof T!="function"&&typeof T!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?a.name=""+pr(V):a.removeAttribute("name")}function hl(a,l,d,g,T,w,P,V){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),l!=null||d!=null){if(!(w!=="submit"&&w!=="reset"||l!=null))return;d=d!=null?""+pr(d):"",l=l!=null?""+pr(l):d,V||l===a.value||(a.value=l),a.defaultValue=l}g=g??T,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=V?a.checked:!!g,a.defaultChecked=!!g,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(a.name=P)}function Hs(a,l,d){l==="number"&&dl(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function qo(a,l,d,g){if(a=a.options,l){l={};for(var T=0;T<d.length;T++)l["$"+d[T]]=!0;for(d=0;d<a.length;d++)T=l.hasOwnProperty("$"+a[d].value),a[d].selected!==T&&(a[d].selected=T),T&&g&&(a[d].defaultSelected=!0)}else{for(d=""+pr(d),l=null,T=0;T<a.length;T++){if(a[T].value===d){a[T].selected=!0,g&&(a[T].defaultSelected=!0);return}l!==null||a[T].disabled||(l=a[T])}l!==null&&(l.selected=!0)}}function _t(a,l,d){if(l!=null&&(l=""+pr(l),l!==a.value&&(a.value=l),d==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=d!=null?""+pr(d):""}function pl(a,l,d,g){if(l==null){if(g!=null){if(d!=null)throw Error(r(92));if(we(g)){if(1<g.length)throw Error(r(93));g=g[0]}d=g}d==null&&(d=""),l=d}d=pr(l),a.defaultValue=d,g=a.textContent,g===d&&g!==""&&g!==null&&(a.value=g)}function si(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var ml=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qm(a,l,d){var g=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":g?a.setProperty(l,d):typeof d!="number"||d===0||ml.has(l)?l==="float"?a.cssFloat=d:a[l]=(""+d).trim():a[l]=d+"px"}function Nd(a,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var T in l)g=l[T],l.hasOwnProperty(T)&&d[T]!==g&&Qm(a,T,g)}else for(var w in l)l.hasOwnProperty(w)&&Qm(a,w,l[w])}function kd(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var z0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),H0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xu(a){return H0.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var $o=null;function ai(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var zo=null,Ho=null;function Od(a){var l=Xi(a);if(l&&(a=l.stateNode)){var d=a[ln]||null;e:switch(a=l.stateNode,l.type){case"input":if(Vr(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+un(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==a&&g.form===a.form){var T=g[ln]||null;if(!T)throw Error(r(90));Vr(g,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(l=0;l<d.length;l++)g=d[l],g.form===a.form&&Dd(g)}break e;case"textarea":_t(a,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&qo(a,!!d.multiple,l,!1)}}}var to=!1;function Xm(a,l,d){if(to)return a(l,d);to=!0;try{var g=a(l);return g}finally{if(to=!1,(zo!==null||Ho!==null)&&(Gg(),zo&&(l=zo,a=Ho,Ho=zo=null,Od(l),a)))for(l=0;l<a.length;l++)Od(a[l])}}function gl(a,l){var d=a.stateNode;if(d===null)return null;var g=d[ln]||null;if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),li=!1;if(Ni)try{var yl={};Object.defineProperty(yl,"passive",{get:function(){li=!0}}),window.addEventListener("test",yl,yl),window.removeEventListener("test",yl,yl)}catch{li=!1}var no=null,Gs=null,Go=null;function Vd(){if(Go)return Go;var a,l=Gs,d=l.length,g,T="value"in no?no.value:no.textContent,w=T.length;for(a=0;a<d&&l[a]===T[a];a++);var P=d-a;for(g=1;g<=P&&l[d-g]===T[w-g];g++);return Go=T.slice(a,1<g?1-g:void 0)}function ro(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function io(){return!0}function Ld(){return!1}function Mn(a){function l(d,g,T,w,P){this._reactName=d,this._targetInst=T,this.type=g,this.nativeEvent=w,this.target=P,this.currentTarget=null;for(var V in a)a.hasOwnProperty(V)&&(d=a[V],this[V]=d?d(w):w[V]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?io:Ld,this.isPropagationStopped=Ld,this}return h(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=io)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=io)},persist:function(){},isPersistent:io}),l}var ut={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zu=Mn(ut),vl=h({},ut,{view:0,detail:0}),Zm=Mn(vl),ec,tc,oo,_l=h({},vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wl,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==oo&&(oo&&a.type==="mousemove"?(ec=a.screenX-oo.screenX,tc=a.screenY-oo.screenY):tc=ec=0,oo=a),ec)},movementY:function(a){return"movementY"in a?a.movementY:tc}}),ui=Mn(_l),eg=h({},_l,{dataTransfer:0}),G0=Mn(eg),Tl=h({},vl,{relatedTarget:0}),nc=Mn(Tl),Ud=h({},ut,{animationName:0,elapsedTime:0,pseudoElement:0}),rc=Mn(Ud),tg=h({},ut,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ic=Mn(tg),K0=h({},ut,{data:0}),Fd=Mn(K0),El={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ng={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bd(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=rg[a])?!!l[a]:!1}function wl(){return Bd}var ig=h({},vl,{key:function(a){if(a.key){var l=El[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=ro(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?ng[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wl,charCode:function(a){return a.type==="keypress"?ro(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ro(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),oc=Mn(ig),og=h({},_l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qd=Mn(og),Ko=h({},vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wl}),sg=Mn(Ko),ag=h({},ut,{propertyName:0,elapsedTime:0,pseudoElement:0}),lg=Mn(ag),ug=h({},_l,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),sc=Mn(ug),mr=h({},ut,{newState:0,oldState:0}),cg=Mn(mr),fg=[9,13,27,32],so=Ni&&"CompositionEvent"in window,_=null;Ni&&"documentMode"in document&&(_=document.documentMode);var A=Ni&&"TextEvent"in window&&!_,x=Ni&&(!so||_&&8<_&&11>=_),U=" ",J=!1;function ie(a,l){switch(a){case"keyup":return fg.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ye(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var et=!1;function _n(a,l){switch(a){case"compositionend":return ye(l);case"keypress":return l.which!==32?null:(J=!0,U);case"textInput":return a=l.data,a===U&&J?null:a;default:return null}}function tt(a,l){if(et)return a==="compositionend"||!so&&ie(a,l)?(a=Vd(),Go=Gs=no=null,et=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return x&&l.locale!=="ko"?null:l.data;default:return null}}var Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tn(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!Dn[a.type]:l==="textarea"}function Wo(a,l,d,g){zo?Ho?Ho.push(g):Ho=[g]:zo=g,l=Qg(l,"onChange"),0<l.length&&(d=new Zu("onChange","change",null,d,g),a.push({event:d,listeners:l}))}var Gn=null,ao=null;function $d(a){J1(a,0)}function dg(a){var l=Zi(a);if(Dd(l))return a}function yR(a,l){if(a==="change")return l}var vR=!1;if(Ni){var W0;if(Ni){var j0="oninput"in document;if(!j0){var _R=document.createElement("div");_R.setAttribute("oninput","return;"),j0=typeof _R.oninput=="function"}W0=j0}else W0=!1;vR=W0&&(!document.documentMode||9<document.documentMode)}function TR(){Gn&&(Gn.detachEvent("onpropertychange",ER),ao=Gn=null)}function ER(a){if(a.propertyName==="value"&&dg(ao)){var l=[];Wo(l,ao,a,ai(a)),Xm($d,l)}}function Lz(a,l,d){a==="focusin"?(TR(),Gn=l,ao=d,Gn.attachEvent("onpropertychange",ER)):a==="focusout"&&TR()}function Uz(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return dg(ao)}function Fz(a,l){if(a==="click")return dg(l)}function Bz(a,l){if(a==="input"||a==="change")return dg(l)}function qz(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Lr=typeof Object.is=="function"?Object.is:qz;function zd(a,l){if(Lr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var T=d[g];if(!he.call(l,T)||!Lr(a[T],l[T]))return!1}return!0}function wR(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function SR(a,l){var d=wR(a);a=0;for(var g;d;){if(d.nodeType===3){if(g=a+d.textContent.length,a<=l&&g>=l)return{node:d,offset:l-a};a=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=wR(d)}}function bR(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?bR(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function AR(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=dl(a.document);l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=dl(a.document)}return l}function Y0(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var $z=Ni&&"documentMode"in document&&11>=document.documentMode,ac=null,J0=null,Hd=null,Q0=!1;function IR(a,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Q0||ac==null||ac!==dl(g)||(g=ac,"selectionStart"in g&&Y0(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Hd&&zd(Hd,g)||(Hd=g,g=Qg(J0,"onSelect"),0<g.length&&(l=new Zu("onSelect","select",null,l,d),a.push({event:l,listeners:g}),l.target=ac)))}function Sl(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var lc={animationend:Sl("Animation","AnimationEnd"),animationiteration:Sl("Animation","AnimationIteration"),animationstart:Sl("Animation","AnimationStart"),transitionrun:Sl("Transition","TransitionRun"),transitionstart:Sl("Transition","TransitionStart"),transitioncancel:Sl("Transition","TransitionCancel"),transitionend:Sl("Transition","TransitionEnd")},X0={},CR={};Ni&&(CR=document.createElement("div").style,"AnimationEvent"in window||(delete lc.animationend.animation,delete lc.animationiteration.animation,delete lc.animationstart.animation),"TransitionEvent"in window||delete lc.transitionend.transition);function bl(a){if(X0[a])return X0[a];if(!lc[a])return a;var l=lc[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in CR)return X0[a]=l[d];return a}var xR=bl("animationend"),RR=bl("animationiteration"),PR=bl("animationstart"),zz=bl("transitionrun"),Hz=bl("transitionstart"),Gz=bl("transitioncancel"),MR=bl("transitionend"),DR=new Map,Z0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Z0.push("scrollEnd");function ki(a,l){DR.set(a,l),Di(l,[a])}var NR=new WeakMap;function ci(a,l){if(typeof a=="object"&&a!==null){var d=NR.get(a);return d!==void 0?d:(l={value:a,source:l,stack:Ju(l)},NR.set(a,l),l)}return{value:a,source:l,stack:Ju(l)}}var fi=[],uc=0,eT=0;function hg(){for(var a=uc,l=eT=uc=0;l<a;){var d=fi[l];fi[l++]=null;var g=fi[l];fi[l++]=null;var T=fi[l];fi[l++]=null;var w=fi[l];if(fi[l++]=null,g!==null&&T!==null){var P=g.pending;P===null?T.next=T:(T.next=P.next,P.next=T),g.pending=T}w!==0&&kR(d,T,w)}}function pg(a,l,d,g){fi[uc++]=a,fi[uc++]=l,fi[uc++]=d,fi[uc++]=g,eT|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function tT(a,l,d,g){return pg(a,l,d,g),mg(a)}function cc(a,l){return pg(a,null,null,l),mg(a)}function kR(a,l,d){a.lanes|=d;var g=a.alternate;g!==null&&(g.lanes|=d);for(var T=!1,w=a.return;w!==null;)w.childLanes|=d,g=w.alternate,g!==null&&(g.childLanes|=d),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(T=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,T&&l!==null&&(T=31-nr(d),a=w.hiddenUpdates,g=a[T],g===null?a[T]=[l]:g.push(l),l.lane=d|536870912),w):null}function mg(a){if(50<mh)throw mh=0,aE=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var fc={};function Kz(a,l,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(a,l,d,g){return new Kz(a,l,d,g)}function nT(a){return a=a.prototype,!(!a||!a.isReactComponent)}function jo(a,l){var d=a.alternate;return d===null?(d=Ur(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function OR(a,l){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,l=d.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function gg(a,l,d,g,T,w){var P=0;if(g=a,typeof a=="function")nT(a)&&(P=1);else if(typeof a=="string")P=jH(a,d,Pe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case k:return a=Ur(31,d,l,T),a.elementType=k,a.lanes=w,a;case S:return Al(d.children,T,w,l);case b:P=8,T|=24;break;case I:return a=Ur(12,d,l,T|2),a.elementType=I,a.lanes=w,a;case L:return a=Ur(13,d,l,T),a.elementType=L,a.lanes=w,a;case G:return a=Ur(19,d,l,T),a.elementType=G,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R:case C:P=10;break e;case D:P=9;break e;case q:P=11;break e;case N:P=14;break e;case O:P=16,g=null;break e}P=29,d=Error(r(130,a===null?"null":typeof a,"")),g=null}return l=Ur(P,d,l,T),l.elementType=a,l.type=g,l.lanes=w,l}function Al(a,l,d,g){return a=Ur(7,a,g,l),a.lanes=d,a}function rT(a,l,d){return a=Ur(6,a,null,l),a.lanes=d,a}function iT(a,l,d){return l=Ur(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var dc=[],hc=0,yg=null,vg=0,di=[],hi=0,Il=null,Yo=1,Jo="";function Cl(a,l){dc[hc++]=vg,dc[hc++]=yg,yg=a,vg=l}function VR(a,l,d){di[hi++]=Yo,di[hi++]=Jo,di[hi++]=Il,Il=a;var g=Yo;a=Jo;var T=32-nr(g)-1;g&=~(1<<T),d+=1;var w=32-nr(l)+T;if(30<w){var P=T-T%5;w=(g&(1<<P)-1).toString(32),g>>=P,T-=P,Yo=1<<32-nr(l)+T|d<<T|g,Jo=w+a}else Yo=1<<w|d<<T|g,Jo=a}function oT(a){a.return!==null&&(Cl(a,1),VR(a,1,0))}function sT(a){for(;a===yg;)yg=dc[--hc],dc[hc]=null,vg=dc[--hc],dc[hc]=null;for(;a===Il;)Il=di[--hi],di[hi]=null,Jo=di[--hi],di[hi]=null,Yo=di[--hi],di[hi]=null}var gr=null,Wt=null,at=!1,xl=null,lo=!1,aT=Error(r(519));function Rl(a){var l=Error(r(418,""));throw Wd(ci(l,a)),aT}function LR(a){var l=a.stateNode,d=a.type,g=a.memoizedProps;switch(l[vn]=a,l[ln]=g,d){case"dialog":Ye("cancel",l),Ye("close",l);break;case"iframe":case"object":case"embed":Ye("load",l);break;case"video":case"audio":for(d=0;d<yh.length;d++)Ye(yh[d],l);break;case"source":Ye("error",l);break;case"img":case"image":case"link":Ye("error",l),Ye("load",l);break;case"details":Ye("toggle",l);break;case"input":Ye("invalid",l),hl(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),Qu(l);break;case"select":Ye("invalid",l);break;case"textarea":Ye("invalid",l),pl(l,g.value,g.defaultValue,g.children),Qu(l)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||g.suppressHydrationWarning===!0||eM(l.textContent,d)?(g.popover!=null&&(Ye("beforetoggle",l),Ye("toggle",l)),g.onScroll!=null&&Ye("scroll",l),g.onScrollEnd!=null&&Ye("scrollend",l),g.onClick!=null&&(l.onclick=Xg),l=!0):l=!1,l||Rl(a)}function UR(a){for(gr=a.return;gr;)switch(gr.tag){case 5:case 13:lo=!1;return;case 27:case 3:lo=!0;return;default:gr=gr.return}}function Gd(a){if(a!==gr)return!1;if(!at)return UR(a),at=!0,!1;var l=a.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||SE(a.type,a.memoizedProps)),d=!d),d&&Wt&&Rl(a),UR(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(d=a.data,d==="/$"){if(l===0){Wt=Vi(a.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++;a=a.nextSibling}Wt=null}}else l===27?(l=Wt,aa(a.type)?(a=CE,CE=null,Wt=a):Wt=l):Wt=gr?Vi(a.stateNode.nextSibling):null;return!0}function Kd(){Wt=gr=null,at=!1}function FR(){var a=xl;return a!==null&&(Ir===null?Ir=a:Ir.push.apply(Ir,a),xl=null),a}function Wd(a){xl===null?xl=[a]:xl.push(a)}var lT=ce(null),Pl=null,Qo=null;function Ks(a,l,d){ge(lT,l._currentValue),l._currentValue=d}function Xo(a){a._currentValue=lT.current,ae(lT)}function uT(a,l,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),a===d)break;a=a.return}}function cT(a,l,d,g){var T=a.child;for(T!==null&&(T.return=a);T!==null;){var w=T.dependencies;if(w!==null){var P=T.child;w=w.firstContext;e:for(;w!==null;){var V=w;w=T;for(var K=0;K<l.length;K++)if(V.context===l[K]){w.lanes|=d,V=w.alternate,V!==null&&(V.lanes|=d),uT(w.return,d,a),g||(P=null);break e}w=V.next}}else if(T.tag===18){if(P=T.return,P===null)throw Error(r(341));P.lanes|=d,w=P.alternate,w!==null&&(w.lanes|=d),uT(P,d,a),P=null}else P=T.child;if(P!==null)P.return=T;else for(P=T;P!==null;){if(P===a){P=null;break}if(T=P.sibling,T!==null){T.return=P.return,P=T;break}P=P.return}T=P}}function jd(a,l,d,g){a=null;for(var T=l,w=!1;T!==null;){if(!w){if((T.flags&524288)!==0)w=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var P=T.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var V=T.type;Lr(T.pendingProps.value,P.value)||(a!==null?a.push(V):a=[V])}}else if(T===sn.current){if(P=T.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(a!==null?a.push(Sh):a=[Sh])}T=T.return}a!==null&&cT(l,a,d,g),l.flags|=262144}function _g(a){for(a=a.firstContext;a!==null;){if(!Lr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ml(a){Pl=a,Qo=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function rr(a){return BR(Pl,a)}function Tg(a,l){return Pl===null&&Ml(a),BR(a,l)}function BR(a,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Qo===null){if(a===null)throw Error(r(308));Qo=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Qo=Qo.next=l;return d}var Wz=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(d,g){a.push(g)}};this.abort=function(){l.aborted=!0,a.forEach(function(d){return d()})}},jz=t.unstable_scheduleCallback,Yz=t.unstable_NormalPriority,En={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fT(){return{controller:new Wz,data:new Map,refCount:0}}function Yd(a){a.refCount--,a.refCount===0&&jz(Yz,function(){a.controller.abort()})}var Jd=null,dT=0,pc=0,mc=null;function Jz(a,l){if(Jd===null){var d=Jd=[];dT=0,pc=pE(),mc={status:"pending",value:void 0,then:function(g){d.push(g)}}}return dT++,l.then(qR,qR),l}function qR(){if(--dT===0&&Jd!==null){mc!==null&&(mc.status="fulfilled");var a=Jd;Jd=null,pc=0,mc=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function Qz(a,l){var d=[],g={status:"pending",value:null,reason:null,then:function(T){d.push(T)}};return a.then(function(){g.status="fulfilled",g.value=l;for(var T=0;T<d.length;T++)(0,d[T])(l)},function(T){for(g.status="rejected",g.reason=T,T=0;T<d.length;T++)(0,d[T])(void 0)}),g}var $R=ee.S;ee.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&Jz(a,l),$R!==null&&$R(a,l)};var Dl=ce(null);function hT(){var a=Dl.current;return a!==null?a:It.pooledCache}function Eg(a,l){l===null?ge(Dl,Dl.current):ge(Dl,l.pool)}function zR(){var a=hT();return a===null?null:{parent:En._currentValue,pool:a}}var Qd=Error(r(460)),HR=Error(r(474)),wg=Error(r(542)),pT={then:function(){}};function GR(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Sg(){}function KR(a,l,d){switch(d=a[d],d===void 0?a.push(l):d!==l&&(l.then(Sg,Sg),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,jR(a),a;default:if(typeof l.status=="string")l.then(Sg,Sg);else{if(a=It,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(g){if(l.status==="pending"){var T=l;T.status="fulfilled",T.value=g}},function(g){if(l.status==="pending"){var T=l;T.status="rejected",T.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,jR(a),a}throw Xd=l,Qd}}var Xd=null;function WR(){if(Xd===null)throw Error(r(459));var a=Xd;return Xd=null,a}function jR(a){if(a===Qd||a===wg)throw Error(r(483))}var Ws=!1;function mT(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gT(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function js(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ys(a,l,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(dt&2)!==0){var T=g.pending;return T===null?l.next=l:(l.next=T.next,T.next=l),g.pending=l,l=mg(a),kR(a,null,d),l}return pg(a,g,l,d),mg(a)}function Zd(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var g=l.lanes;g&=a.pendingLanes,d|=g,l.lanes=d,Cd(a,d)}}function yT(a,l){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var T=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var P={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};w===null?T=w=P:w=w.next=P,d=d.next}while(d!==null);w===null?T=w=l:w=w.next=l}else T=w=l;d={baseState:g.baseState,firstBaseUpdate:T,lastBaseUpdate:w,shared:g.shared,callbacks:g.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}var vT=!1;function eh(){if(vT){var a=mc;if(a!==null)throw a}}function th(a,l,d,g){vT=!1;var T=a.updateQueue;Ws=!1;var w=T.firstBaseUpdate,P=T.lastBaseUpdate,V=T.shared.pending;if(V!==null){T.shared.pending=null;var K=V,Z=K.next;K.next=null,P===null?w=Z:P.next=Z,P=K;var se=a.alternate;se!==null&&(se=se.updateQueue,V=se.lastBaseUpdate,V!==P&&(V===null?se.firstBaseUpdate=Z:V.next=Z,se.lastBaseUpdate=K))}if(w!==null){var ue=T.baseState;P=0,se=Z=K=null,V=w;do{var te=V.lane&-536870913,ne=te!==V.lane;if(ne?(nt&te)===te:(g&te)===te){te!==0&&te===pc&&(vT=!0),se!==null&&(se=se.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var Fe=a,Oe=V;te=l;var wt=d;switch(Oe.tag){case 1:if(Fe=Oe.payload,typeof Fe=="function"){ue=Fe.call(wt,ue,te);break e}ue=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Oe.payload,te=typeof Fe=="function"?Fe.call(wt,ue,te):Fe,te==null)break e;ue=h({},ue,te);break e;case 2:Ws=!0}}te=V.callback,te!==null&&(a.flags|=64,ne&&(a.flags|=8192),ne=T.callbacks,ne===null?T.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:V.tag,payload:V.payload,callback:V.callback,next:null},se===null?(Z=se=ne,K=ue):se=se.next=ne,P|=te;if(V=V.next,V===null){if(V=T.shared.pending,V===null)break;ne=V,V=ne.next,ne.next=null,T.lastBaseUpdate=ne,T.shared.pending=null}}while(!0);se===null&&(K=ue),T.baseState=K,T.firstBaseUpdate=Z,T.lastBaseUpdate=se,w===null&&(T.shared.lanes=0),ra|=P,a.lanes=P,a.memoizedState=ue}}function YR(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function JR(a,l){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)YR(d[a],l)}var gc=ce(null),bg=ce(0);function QR(a,l){a=os,ge(bg,a),ge(gc,l),os=a|l.baseLanes}function _T(){ge(bg,os),ge(gc,gc.current)}function TT(){os=bg.current,ae(gc),ae(bg)}var Js=0,Ke=null,Tt=null,cn=null,Ag=!1,yc=!1,Nl=!1,Ig=0,nh=0,vc=null,Xz=0;function en(){throw Error(r(321))}function ET(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!Lr(a[d],l[d]))return!1;return!0}function wT(a,l,d,g,T,w){return Js=w,Ke=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ee.H=a===null||a.memoizedState===null?kP:OP,Nl=!1,w=d(g,T),Nl=!1,yc&&(w=ZR(l,d,g,T)),XR(a),w}function XR(a){ee.H=Dg;var l=Tt!==null&&Tt.next!==null;if(Js=0,cn=Tt=Ke=null,Ag=!1,nh=0,vc=null,l)throw Error(r(300));a===null||Nn||(a=a.dependencies,a!==null&&_g(a)&&(Nn=!0))}function ZR(a,l,d,g){Ke=a;var T=0;do{if(yc&&(vc=null),nh=0,yc=!1,25<=T)throw Error(r(301));if(T+=1,cn=Tt=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}ee.H=oH,w=l(d,g)}while(yc);return w}function Zz(){var a=ee.H,l=a.useState()[0];return l=typeof l.then=="function"?rh(l):l,a=a.useState()[0],(Tt!==null?Tt.memoizedState:null)!==a&&(Ke.flags|=1024),l}function ST(){var a=Ig!==0;return Ig=0,a}function bT(a,l,d){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~d}function AT(a){if(Ag){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Ag=!1}Js=0,cn=Tt=Ke=null,yc=!1,nh=Ig=0,vc=null}function br(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?Ke.memoizedState=cn=a:cn=cn.next=a,cn}function fn(){if(Tt===null){var a=Ke.alternate;a=a!==null?a.memoizedState:null}else a=Tt.next;var l=cn===null?Ke.memoizedState:cn.next;if(l!==null)cn=l,Tt=a;else{if(a===null)throw Ke.alternate===null?Error(r(467)):Error(r(310));Tt=a,a={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},cn===null?Ke.memoizedState=cn=a:cn=cn.next=a}return cn}function IT(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rh(a){var l=nh;return nh+=1,vc===null&&(vc=[]),a=KR(vc,a,l),l=Ke,(cn===null?l.memoizedState:cn.next)===null&&(l=l.alternate,ee.H=l===null||l.memoizedState===null?kP:OP),a}function Cg(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return rh(a);if(a.$$typeof===C)return rr(a)}throw Error(r(438,String(a)))}function CT(a){var l=null,d=Ke.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var g=Ke.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(T){return T.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=IT(),Ke.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(a),g=0;g<a;g++)d[g]=B;return l.index++,d}function Zo(a,l){return typeof l=="function"?l(a):l}function xg(a){var l=fn();return xT(l,Tt,a)}function xT(a,l,d){var g=a.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=d;var T=a.baseQueue,w=g.pending;if(w!==null){if(T!==null){var P=T.next;T.next=w.next,w.next=P}l.baseQueue=T=w,g.pending=null}if(w=a.baseState,T===null)a.memoizedState=w;else{l=T.next;var V=P=null,K=null,Z=l,se=!1;do{var ue=Z.lane&-536870913;if(ue!==Z.lane?(nt&ue)===ue:(Js&ue)===ue){var te=Z.revertLane;if(te===0)K!==null&&(K=K.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ue===pc&&(se=!0);else if((Js&te)===te){Z=Z.next,te===pc&&(se=!0);continue}else ue={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},K===null?(V=K=ue,P=w):K=K.next=ue,Ke.lanes|=te,ra|=te;ue=Z.action,Nl&&d(w,ue),w=Z.hasEagerState?Z.eagerState:d(w,ue)}else te={lane:ue,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},K===null?(V=K=te,P=w):K=K.next=te,Ke.lanes|=ue,ra|=ue;Z=Z.next}while(Z!==null&&Z!==l);if(K===null?P=w:K.next=V,!Lr(w,a.memoizedState)&&(Nn=!0,se&&(d=mc,d!==null)))throw d;a.memoizedState=w,a.baseState=P,a.baseQueue=K,g.lastRenderedState=w}return T===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function RT(a){var l=fn(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var g=d.dispatch,T=d.pending,w=l.memoizedState;if(T!==null){d.pending=null;var P=T=T.next;do w=a(w,P.action),P=P.next;while(P!==T);Lr(w,l.memoizedState)||(Nn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),d.lastRenderedState=w}return[w,g]}function eP(a,l,d){var g=Ke,T=fn(),w=at;if(w){if(d===void 0)throw Error(r(407));d=d()}else d=l();var P=!Lr((Tt||T).memoizedState,d);P&&(T.memoizedState=d,Nn=!0),T=T.queue;var V=rP.bind(null,g,T,a);if(ih(2048,8,V,[a]),T.getSnapshot!==l||P||cn!==null&&cn.memoizedState.tag&1){if(g.flags|=2048,_c(9,Rg(),nP.bind(null,g,T,d,l),null),It===null)throw Error(r(349));w||(Js&124)!==0||tP(g,l,d)}return d}function tP(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=Ke.updateQueue,l===null?(l=IT(),Ke.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function nP(a,l,d,g){l.value=d,l.getSnapshot=g,iP(l)&&oP(a)}function rP(a,l,d){return d(function(){iP(l)&&oP(a)})}function iP(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!Lr(a,d)}catch{return!0}}function oP(a){var l=cc(a,2);l!==null&&zr(l,a,2)}function PT(a){var l=br();if(typeof a=="function"){var d=a;if(a=d(),Nl){Or(!0);try{d()}finally{Or(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:a},l}function sP(a,l,d,g){return a.baseState=d,xT(a,Tt,typeof g=="function"?g:Zo)}function eH(a,l,d,g,T){if(Mg(a))throw Error(r(485));if(a=l.action,a!==null){var w={payload:T,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){w.listeners.push(P)}};ee.T!==null?d(!0):w.isTransition=!1,g(w),d=l.pending,d===null?(w.next=l.pending=w,aP(l,w)):(w.next=d.next,l.pending=d.next=w)}}function aP(a,l){var d=l.action,g=l.payload,T=a.state;if(l.isTransition){var w=ee.T,P={};ee.T=P;try{var V=d(T,g),K=ee.S;K!==null&&K(P,V),lP(a,l,V)}catch(Z){MT(a,l,Z)}finally{ee.T=w}}else try{w=d(T,g),lP(a,l,w)}catch(Z){MT(a,l,Z)}}function lP(a,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){uP(a,l,g)},function(g){return MT(a,l,g)}):uP(a,l,d)}function uP(a,l,d){l.status="fulfilled",l.value=d,cP(l),a.state=d,l=a.pending,l!==null&&(d=l.next,d===l?a.pending=null:(d=d.next,l.next=d,aP(a,d)))}function MT(a,l,d){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=d,cP(l),l=l.next;while(l!==g)}a.action=null}function cP(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function fP(a,l){return l}function dP(a,l){if(at){var d=It.formState;if(d!==null){e:{var g=Ke;if(at){if(Wt){t:{for(var T=Wt,w=lo;T.nodeType!==8;){if(!w){T=null;break t}if(T=Vi(T.nextSibling),T===null){T=null;break t}}w=T.data,T=w==="F!"||w==="F"?T:null}if(T){Wt=Vi(T.nextSibling),g=T.data==="F!";break e}}Rl(g)}g=!1}g&&(l=d[0])}}return d=br(),d.memoizedState=d.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fP,lastRenderedState:l},d.queue=g,d=MP.bind(null,Ke,g),g.dispatch=d,g=PT(!1),w=VT.bind(null,Ke,!1,g.queue),g=br(),T={state:l,dispatch:null,action:a,pending:null},g.queue=T,d=eH.bind(null,Ke,T,w,d),T.dispatch=d,g.memoizedState=a,[l,d,!1]}function hP(a){var l=fn();return pP(l,Tt,a)}function pP(a,l,d){if(l=xT(a,l,fP)[0],a=xg(Zo)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=rh(l)}catch(P){throw P===Qd?wg:P}else g=l;l=fn();var T=l.queue,w=T.dispatch;return d!==l.memoizedState&&(Ke.flags|=2048,_c(9,Rg(),tH.bind(null,T,d),null)),[g,w,a]}function tH(a,l){a.action=l}function mP(a){var l=fn(),d=Tt;if(d!==null)return pP(l,d,a);fn(),l=l.memoizedState,d=fn();var g=d.queue.dispatch;return d.memoizedState=a,[l,g,!1]}function _c(a,l,d,g){return a={tag:a,create:d,deps:g,inst:l,next:null},l=Ke.updateQueue,l===null&&(l=IT(),Ke.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,l.lastEffect=a),a}function Rg(){return{destroy:void 0,resource:void 0}}function gP(){return fn().memoizedState}function Pg(a,l,d,g){var T=br();g=g===void 0?null:g,Ke.flags|=a,T.memoizedState=_c(1|l,Rg(),d,g)}function ih(a,l,d,g){var T=fn();g=g===void 0?null:g;var w=T.memoizedState.inst;Tt!==null&&g!==null&&ET(g,Tt.memoizedState.deps)?T.memoizedState=_c(l,w,d,g):(Ke.flags|=a,T.memoizedState=_c(1|l,w,d,g))}function yP(a,l){Pg(8390656,8,a,l)}function vP(a,l){ih(2048,8,a,l)}function _P(a,l){return ih(4,2,a,l)}function TP(a,l){return ih(4,4,a,l)}function EP(a,l){if(typeof l=="function"){a=a();var d=l(a);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function wP(a,l,d){d=d!=null?d.concat([a]):null,ih(4,4,EP.bind(null,l,a),d)}function DT(){}function SP(a,l){var d=fn();l=l===void 0?null:l;var g=d.memoizedState;return l!==null&&ET(l,g[1])?g[0]:(d.memoizedState=[a,l],a)}function bP(a,l){var d=fn();l=l===void 0?null:l;var g=d.memoizedState;if(l!==null&&ET(l,g[1]))return g[0];if(g=a(),Nl){Or(!0);try{a()}finally{Or(!1)}}return d.memoizedState=[g,l],g}function NT(a,l,d){return d===void 0||(Js&1073741824)!==0?a.memoizedState=l:(a.memoizedState=d,a=C1(),Ke.lanes|=a,ra|=a,d)}function AP(a,l,d,g){return Lr(d,l)?d:gc.current!==null?(a=NT(a,d,g),Lr(a,l)||(Nn=!0),a):(Js&42)===0?(Nn=!0,a.memoizedState=d):(a=C1(),Ke.lanes|=a,ra|=a,l)}function IP(a,l,d,g,T){var w=pe.p;pe.p=w!==0&&8>w?w:8;var P=ee.T,V={};ee.T=V,VT(a,!1,l,d);try{var K=T(),Z=ee.S;if(Z!==null&&Z(V,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var se=Qz(K,g);oh(a,l,se,$r(a))}else oh(a,l,g,$r(a))}catch(ue){oh(a,l,{then:function(){},status:"rejected",reason:ue},$r())}finally{pe.p=w,ee.T=P}}function nH(){}function kT(a,l,d,g){if(a.tag!==5)throw Error(r(476));var T=CP(a).queue;IP(a,T,l,Se,d===null?nH:function(){return xP(a),d(g)})}function CP(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:Se,baseState:Se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:Se},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:d},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function xP(a){var l=CP(a).next.queue;oh(a,l,{},$r())}function OT(){return rr(Sh)}function RP(){return fn().memoizedState}function PP(){return fn().memoizedState}function rH(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var d=$r();a=js(d);var g=Ys(l,a,d);g!==null&&(zr(g,l,d),Zd(g,l,d)),l={cache:fT()},a.payload=l;return}l=l.return}}function iH(a,l,d){var g=$r();d={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},Mg(a)?DP(l,d):(d=tT(a,l,d,g),d!==null&&(zr(d,a,g),NP(d,l,g)))}function MP(a,l,d){var g=$r();oh(a,l,d,g)}function oh(a,l,d,g){var T={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(Mg(a))DP(l,T);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var P=l.lastRenderedState,V=w(P,d);if(T.hasEagerState=!0,T.eagerState=V,Lr(V,P))return pg(a,l,T,0),It===null&&hg(),!1}catch{}finally{}if(d=tT(a,l,T,g),d!==null)return zr(d,a,g),NP(d,l,g),!0}return!1}function VT(a,l,d,g){if(g={lane:2,revertLane:pE(),action:g,hasEagerState:!1,eagerState:null,next:null},Mg(a)){if(l)throw Error(r(479))}else l=tT(a,d,g,2),l!==null&&zr(l,a,2)}function Mg(a){var l=a.alternate;return a===Ke||l!==null&&l===Ke}function DP(a,l){yc=Ag=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function NP(a,l,d){if((d&4194048)!==0){var g=l.lanes;g&=a.pendingLanes,d|=g,l.lanes=d,Cd(a,d)}}var Dg={readContext:rr,use:Cg,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en},kP={readContext:rr,use:Cg,useCallback:function(a,l){return br().memoizedState=[a,l===void 0?null:l],a},useContext:rr,useEffect:yP,useImperativeHandle:function(a,l,d){d=d!=null?d.concat([a]):null,Pg(4194308,4,EP.bind(null,l,a),d)},useLayoutEffect:function(a,l){return Pg(4194308,4,a,l)},useInsertionEffect:function(a,l){Pg(4,2,a,l)},useMemo:function(a,l){var d=br();l=l===void 0?null:l;var g=a();if(Nl){Or(!0);try{a()}finally{Or(!1)}}return d.memoizedState=[g,l],g},useReducer:function(a,l,d){var g=br();if(d!==void 0){var T=d(l);if(Nl){Or(!0);try{d(l)}finally{Or(!1)}}}else T=l;return g.memoizedState=g.baseState=T,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:T},g.queue=a,a=a.dispatch=iH.bind(null,Ke,a),[g.memoizedState,a]},useRef:function(a){var l=br();return a={current:a},l.memoizedState=a},useState:function(a){a=PT(a);var l=a.queue,d=MP.bind(null,Ke,l);return l.dispatch=d,[a.memoizedState,d]},useDebugValue:DT,useDeferredValue:function(a,l){var d=br();return NT(d,a,l)},useTransition:function(){var a=PT(!1);return a=IP.bind(null,Ke,a.queue,!0,!1),br().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,d){var g=Ke,T=br();if(at){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),It===null)throw Error(r(349));(nt&124)!==0||tP(g,l,d)}T.memoizedState=d;var w={value:d,getSnapshot:l};return T.queue=w,yP(rP.bind(null,g,w,a),[a]),g.flags|=2048,_c(9,Rg(),nP.bind(null,g,w,d,l),null),d},useId:function(){var a=br(),l=It.identifierPrefix;if(at){var d=Jo,g=Yo;d=(g&~(1<<32-nr(g)-1)).toString(32)+d,l="«"+l+"R"+d,d=Ig++,0<d&&(l+="H"+d.toString(32)),l+="»"}else d=Xz++,l="«"+l+"r"+d.toString(32)+"»";return a.memoizedState=l},useHostTransitionStatus:OT,useFormState:dP,useActionState:dP,useOptimistic:function(a){var l=br();l.memoizedState=l.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=VT.bind(null,Ke,!0,d),d.dispatch=l,[a,l]},useMemoCache:CT,useCacheRefresh:function(){return br().memoizedState=rH.bind(null,Ke)}},OP={readContext:rr,use:Cg,useCallback:SP,useContext:rr,useEffect:vP,useImperativeHandle:wP,useInsertionEffect:_P,useLayoutEffect:TP,useMemo:bP,useReducer:xg,useRef:gP,useState:function(){return xg(Zo)},useDebugValue:DT,useDeferredValue:function(a,l){var d=fn();return AP(d,Tt.memoizedState,a,l)},useTransition:function(){var a=xg(Zo)[0],l=fn().memoizedState;return[typeof a=="boolean"?a:rh(a),l]},useSyncExternalStore:eP,useId:RP,useHostTransitionStatus:OT,useFormState:hP,useActionState:hP,useOptimistic:function(a,l){var d=fn();return sP(d,Tt,a,l)},useMemoCache:CT,useCacheRefresh:PP},oH={readContext:rr,use:Cg,useCallback:SP,useContext:rr,useEffect:vP,useImperativeHandle:wP,useInsertionEffect:_P,useLayoutEffect:TP,useMemo:bP,useReducer:RT,useRef:gP,useState:function(){return RT(Zo)},useDebugValue:DT,useDeferredValue:function(a,l){var d=fn();return Tt===null?NT(d,a,l):AP(d,Tt.memoizedState,a,l)},useTransition:function(){var a=RT(Zo)[0],l=fn().memoizedState;return[typeof a=="boolean"?a:rh(a),l]},useSyncExternalStore:eP,useId:RP,useHostTransitionStatus:OT,useFormState:mP,useActionState:mP,useOptimistic:function(a,l){var d=fn();return Tt!==null?sP(d,Tt,a,l):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:CT,useCacheRefresh:PP},Tc=null,sh=0;function Ng(a){var l=sh;return sh+=1,Tc===null&&(Tc=[]),KR(Tc,a,l)}function ah(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function kg(a,l){throw l.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function VP(a){var l=a._init;return l(a._payload)}function LP(a){function l(Y,j){if(a){var X=Y.deletions;X===null?(Y.deletions=[j],Y.flags|=16):X.push(j)}}function d(Y,j){if(!a)return null;for(;j!==null;)l(Y,j),j=j.sibling;return null}function g(Y){for(var j=new Map;Y!==null;)Y.key!==null?j.set(Y.key,Y):j.set(Y.index,Y),Y=Y.sibling;return j}function T(Y,j){return Y=jo(Y,j),Y.index=0,Y.sibling=null,Y}function w(Y,j,X){return Y.index=X,a?(X=Y.alternate,X!==null?(X=X.index,X<j?(Y.flags|=67108866,j):X):(Y.flags|=67108866,j)):(Y.flags|=1048576,j)}function P(Y){return a&&Y.alternate===null&&(Y.flags|=67108866),Y}function V(Y,j,X,le){return j===null||j.tag!==6?(j=rT(X,Y.mode,le),j.return=Y,j):(j=T(j,X),j.return=Y,j)}function K(Y,j,X,le){var Ae=X.type;return Ae===S?se(Y,j,X.props.children,le,X.key):j!==null&&(j.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===O&&VP(Ae)===j.type)?(j=T(j,X.props),ah(j,X),j.return=Y,j):(j=gg(X.type,X.key,X.props,null,Y.mode,le),ah(j,X),j.return=Y,j)}function Z(Y,j,X,le){return j===null||j.tag!==4||j.stateNode.containerInfo!==X.containerInfo||j.stateNode.implementation!==X.implementation?(j=iT(X,Y.mode,le),j.return=Y,j):(j=T(j,X.children||[]),j.return=Y,j)}function se(Y,j,X,le,Ae){return j===null||j.tag!==7?(j=Al(X,Y.mode,le,Ae),j.return=Y,j):(j=T(j,X),j.return=Y,j)}function ue(Y,j,X){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=rT(""+j,Y.mode,X),j.return=Y,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case v:return X=gg(j.type,j.key,j.props,null,Y.mode,X),ah(X,j),X.return=Y,X;case E:return j=iT(j,Y.mode,X),j.return=Y,j;case O:var le=j._init;return j=le(j._payload),ue(Y,j,X)}if(we(j)||$(j))return j=Al(j,Y.mode,X,null),j.return=Y,j;if(typeof j.then=="function")return ue(Y,Ng(j),X);if(j.$$typeof===C)return ue(Y,Tg(Y,j),X);kg(Y,j)}return null}function te(Y,j,X,le){var Ae=j!==null?j.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ae!==null?null:V(Y,j,""+X,le);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case v:return X.key===Ae?K(Y,j,X,le):null;case E:return X.key===Ae?Z(Y,j,X,le):null;case O:return Ae=X._init,X=Ae(X._payload),te(Y,j,X,le)}if(we(X)||$(X))return Ae!==null?null:se(Y,j,X,le,null);if(typeof X.then=="function")return te(Y,j,Ng(X),le);if(X.$$typeof===C)return te(Y,j,Tg(Y,X),le);kg(Y,X)}return null}function ne(Y,j,X,le,Ae){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Y=Y.get(X)||null,V(j,Y,""+le,Ae);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case v:return Y=Y.get(le.key===null?X:le.key)||null,K(j,Y,le,Ae);case E:return Y=Y.get(le.key===null?X:le.key)||null,Z(j,Y,le,Ae);case O:var We=le._init;return le=We(le._payload),ne(Y,j,X,le,Ae)}if(we(le)||$(le))return Y=Y.get(X)||null,se(j,Y,le,Ae,null);if(typeof le.then=="function")return ne(Y,j,X,Ng(le),Ae);if(le.$$typeof===C)return ne(Y,j,X,Tg(j,le),Ae);kg(j,le)}return null}function Fe(Y,j,X,le){for(var Ae=null,We=null,Me=j,Ve=j=0,On=null;Me!==null&&Ve<X.length;Ve++){Me.index>Ve?(On=Me,Me=null):On=Me.sibling;var it=te(Y,Me,X[Ve],le);if(it===null){Me===null&&(Me=On);break}a&&Me&&it.alternate===null&&l(Y,Me),j=w(it,j,Ve),We===null?Ae=it:We.sibling=it,We=it,Me=On}if(Ve===X.length)return d(Y,Me),at&&Cl(Y,Ve),Ae;if(Me===null){for(;Ve<X.length;Ve++)Me=ue(Y,X[Ve],le),Me!==null&&(j=w(Me,j,Ve),We===null?Ae=Me:We.sibling=Me,We=Me);return at&&Cl(Y,Ve),Ae}for(Me=g(Me);Ve<X.length;Ve++)On=ne(Me,Y,Ve,X[Ve],le),On!==null&&(a&&On.alternate!==null&&Me.delete(On.key===null?Ve:On.key),j=w(On,j,Ve),We===null?Ae=On:We.sibling=On,We=On);return a&&Me.forEach(function(da){return l(Y,da)}),at&&Cl(Y,Ve),Ae}function Oe(Y,j,X,le){if(X==null)throw Error(r(151));for(var Ae=null,We=null,Me=j,Ve=j=0,On=null,it=X.next();Me!==null&&!it.done;Ve++,it=X.next()){Me.index>Ve?(On=Me,Me=null):On=Me.sibling;var da=te(Y,Me,it.value,le);if(da===null){Me===null&&(Me=On);break}a&&Me&&da.alternate===null&&l(Y,Me),j=w(da,j,Ve),We===null?Ae=da:We.sibling=da,We=da,Me=On}if(it.done)return d(Y,Me),at&&Cl(Y,Ve),Ae;if(Me===null){for(;!it.done;Ve++,it=X.next())it=ue(Y,it.value,le),it!==null&&(j=w(it,j,Ve),We===null?Ae=it:We.sibling=it,We=it);return at&&Cl(Y,Ve),Ae}for(Me=g(Me);!it.done;Ve++,it=X.next())it=ne(Me,Y,Ve,it.value,le),it!==null&&(a&&it.alternate!==null&&Me.delete(it.key===null?Ve:it.key),j=w(it,j,Ve),We===null?Ae=it:We.sibling=it,We=it);return a&&Me.forEach(function(sG){return l(Y,sG)}),at&&Cl(Y,Ve),Ae}function wt(Y,j,X,le){if(typeof X=="object"&&X!==null&&X.type===S&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case v:e:{for(var Ae=X.key;j!==null;){if(j.key===Ae){if(Ae=X.type,Ae===S){if(j.tag===7){d(Y,j.sibling),le=T(j,X.props.children),le.return=Y,Y=le;break e}}else if(j.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===O&&VP(Ae)===j.type){d(Y,j.sibling),le=T(j,X.props),ah(le,X),le.return=Y,Y=le;break e}d(Y,j);break}else l(Y,j);j=j.sibling}X.type===S?(le=Al(X.props.children,Y.mode,le,X.key),le.return=Y,Y=le):(le=gg(X.type,X.key,X.props,null,Y.mode,le),ah(le,X),le.return=Y,Y=le)}return P(Y);case E:e:{for(Ae=X.key;j!==null;){if(j.key===Ae)if(j.tag===4&&j.stateNode.containerInfo===X.containerInfo&&j.stateNode.implementation===X.implementation){d(Y,j.sibling),le=T(j,X.children||[]),le.return=Y,Y=le;break e}else{d(Y,j);break}else l(Y,j);j=j.sibling}le=iT(X,Y.mode,le),le.return=Y,Y=le}return P(Y);case O:return Ae=X._init,X=Ae(X._payload),wt(Y,j,X,le)}if(we(X))return Fe(Y,j,X,le);if($(X)){if(Ae=$(X),typeof Ae!="function")throw Error(r(150));return X=Ae.call(X),Oe(Y,j,X,le)}if(typeof X.then=="function")return wt(Y,j,Ng(X),le);if(X.$$typeof===C)return wt(Y,j,Tg(Y,X),le);kg(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,j!==null&&j.tag===6?(d(Y,j.sibling),le=T(j,X),le.return=Y,Y=le):(d(Y,j),le=rT(X,Y.mode,le),le.return=Y,Y=le),P(Y)):d(Y,j)}return function(Y,j,X,le){try{sh=0;var Ae=wt(Y,j,X,le);return Tc=null,Ae}catch(Me){if(Me===Qd||Me===wg)throw Me;var We=Ur(29,Me,null,Y.mode);return We.lanes=le,We.return=Y,We}finally{}}}var Ec=LP(!0),UP=LP(!1),pi=ce(null),uo=null;function Qs(a){var l=a.alternate;ge(wn,wn.current&1),ge(pi,a),uo===null&&(l===null||gc.current!==null||l.memoizedState!==null)&&(uo=a)}function FP(a){if(a.tag===22){if(ge(wn,wn.current),ge(pi,a),uo===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(uo=a)}}else Xs()}function Xs(){ge(wn,wn.current),ge(pi,pi.current)}function es(a){ae(pi),uo===a&&(uo=null),ae(wn)}var wn=ce(0);function Og(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||IE(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function LT(a,l,d,g){l=a.memoizedState,d=d(g,l),d=d==null?l:h({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var UT={enqueueSetState:function(a,l,d){a=a._reactInternals;var g=$r(),T=js(g);T.payload=l,d!=null&&(T.callback=d),l=Ys(a,T,g),l!==null&&(zr(l,a,g),Zd(l,a,g))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var g=$r(),T=js(g);T.tag=1,T.payload=l,d!=null&&(T.callback=d),l=Ys(a,T,g),l!==null&&(zr(l,a,g),Zd(l,a,g))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=$r(),g=js(d);g.tag=2,l!=null&&(g.callback=l),l=Ys(a,g,d),l!==null&&(zr(l,a,d),Zd(l,a,d))}};function BP(a,l,d,g,T,w,P){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,w,P):l.prototype&&l.prototype.isPureReactComponent?!zd(d,g)||!zd(T,w):!0}function qP(a,l,d,g){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==a&&UT.enqueueReplaceState(l,l.state,null)}function kl(a,l){var d=l;if("ref"in l){d={};for(var g in l)g!=="ref"&&(d[g]=l[g])}if(a=a.defaultProps){d===l&&(d=h({},d));for(var T in a)d[T]===void 0&&(d[T]=a[T])}return d}var Vg=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function $P(a){Vg(a)}function zP(a){console.error(a)}function HP(a){Vg(a)}function Lg(a,l){try{var d=a.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function GP(a,l,d){try{var g=a.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function FT(a,l,d){return d=js(d),d.tag=3,d.payload={element:null},d.callback=function(){Lg(a,l)},d}function KP(a){return a=js(a),a.tag=3,a}function WP(a,l,d,g){var T=d.type.getDerivedStateFromError;if(typeof T=="function"){var w=g.value;a.payload=function(){return T(w)},a.callback=function(){GP(l,d,g)}}var P=d.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(a.callback=function(){GP(l,d,g),typeof T!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var V=g.stack;this.componentDidCatch(g.value,{componentStack:V!==null?V:""})})}function sH(a,l,d,g,T){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=d.alternate,l!==null&&jd(l,d,T,!0),d=pi.current,d!==null){switch(d.tag){case 13:return uo===null?uE():d.alternate===null&&jt===0&&(jt=3),d.flags&=-257,d.flags|=65536,d.lanes=T,g===pT?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([g]):l.add(g),fE(a,g,T)),!1;case 22:return d.flags|=65536,g===pT?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([g]):d.add(g)),fE(a,g,T)),!1}throw Error(r(435,d.tag))}return fE(a,g,T),uE(),!1}if(at)return l=pi.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=T,g!==aT&&(a=Error(r(422),{cause:g}),Wd(ci(a,d)))):(g!==aT&&(l=Error(r(423),{cause:g}),Wd(ci(l,d))),a=a.current.alternate,a.flags|=65536,T&=-T,a.lanes|=T,g=ci(g,d),T=FT(a.stateNode,g,T),yT(a,T),jt!==4&&(jt=2)),!1;var w=Error(r(520),{cause:g});if(w=ci(w,d),ph===null?ph=[w]:ph.push(w),jt!==4&&(jt=2),l===null)return!0;g=ci(g,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,a=T&-T,d.lanes|=a,a=FT(d.stateNode,g,a),yT(d,a),!1;case 1:if(l=d.type,w=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ia===null||!ia.has(w))))return d.flags|=65536,T&=-T,d.lanes|=T,T=KP(T),WP(T,a,d,g),yT(d,T),!1}d=d.return}while(d!==null);return!1}var jP=Error(r(461)),Nn=!1;function Kn(a,l,d,g){l.child=a===null?UP(l,null,d,g):Ec(l,a.child,d,g)}function YP(a,l,d,g,T){d=d.render;var w=l.ref;if("ref"in g){var P={};for(var V in g)V!=="ref"&&(P[V]=g[V])}else P=g;return Ml(l),g=wT(a,l,d,P,w,T),V=ST(),a!==null&&!Nn?(bT(a,l,T),ts(a,l,T)):(at&&V&&oT(l),l.flags|=1,Kn(a,l,g,T),l.child)}function JP(a,l,d,g,T){if(a===null){var w=d.type;return typeof w=="function"&&!nT(w)&&w.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=w,QP(a,l,w,g,T)):(a=gg(d.type,null,g,l,l.mode,T),a.ref=l.ref,a.return=l,l.child=a)}if(w=a.child,!WT(a,T)){var P=w.memoizedProps;if(d=d.compare,d=d!==null?d:zd,d(P,g)&&a.ref===l.ref)return ts(a,l,T)}return l.flags|=1,a=jo(w,g),a.ref=l.ref,a.return=l,l.child=a}function QP(a,l,d,g,T){if(a!==null){var w=a.memoizedProps;if(zd(w,g)&&a.ref===l.ref)if(Nn=!1,l.pendingProps=g=w,WT(a,T))(a.flags&131072)!==0&&(Nn=!0);else return l.lanes=a.lanes,ts(a,l,T)}return BT(a,l,d,g,T)}function XP(a,l,d){var g=l.pendingProps,T=g.children,w=a!==null?a.memoizedState:null;if(g.mode==="hidden"){if((l.flags&128)!==0){if(g=w!==null?w.baseLanes|d:d,a!==null){for(T=l.child=a.child,w=0;T!==null;)w=w|T.lanes|T.childLanes,T=T.sibling;l.childLanes=w&~g}else l.childLanes=0,l.child=null;return ZP(a,l,g,d)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Eg(l,w!==null?w.cachePool:null),w!==null?QR(l,w):_T(),FP(l);else return l.lanes=l.childLanes=536870912,ZP(a,l,w!==null?w.baseLanes|d:d,d)}else w!==null?(Eg(l,w.cachePool),QR(l,w),Xs(),l.memoizedState=null):(a!==null&&Eg(l,null),_T(),Xs());return Kn(a,l,T,d),l.child}function ZP(a,l,d,g){var T=hT();return T=T===null?null:{parent:En._currentValue,pool:T},l.memoizedState={baseLanes:d,cachePool:T},a!==null&&Eg(l,null),_T(),FP(l),a!==null&&jd(a,l,g,!0),null}function Ug(a,l){var d=l.ref;if(d===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(a===null||a.ref!==d)&&(l.flags|=4194816)}}function BT(a,l,d,g,T){return Ml(l),d=wT(a,l,d,g,void 0,T),g=ST(),a!==null&&!Nn?(bT(a,l,T),ts(a,l,T)):(at&&g&&oT(l),l.flags|=1,Kn(a,l,d,T),l.child)}function e1(a,l,d,g,T,w){return Ml(l),l.updateQueue=null,d=ZR(l,g,d,T),XR(a),g=ST(),a!==null&&!Nn?(bT(a,l,w),ts(a,l,w)):(at&&g&&oT(l),l.flags|=1,Kn(a,l,d,w),l.child)}function t1(a,l,d,g,T){if(Ml(l),l.stateNode===null){var w=fc,P=d.contextType;typeof P=="object"&&P!==null&&(w=rr(P)),w=new d(g,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=UT,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=g,w.state=l.memoizedState,w.refs={},mT(l),P=d.contextType,w.context=typeof P=="object"&&P!==null?rr(P):fc,w.state=l.memoizedState,P=d.getDerivedStateFromProps,typeof P=="function"&&(LT(l,d,P,g),w.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(P=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),P!==w.state&&UT.enqueueReplaceState(w,w.state,null),th(l,g,w,T),eh(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(a===null){w=l.stateNode;var V=l.memoizedProps,K=kl(d,V);w.props=K;var Z=w.context,se=d.contextType;P=fc,typeof se=="object"&&se!==null&&(P=rr(se));var ue=d.getDerivedStateFromProps;se=typeof ue=="function"||typeof w.getSnapshotBeforeUpdate=="function",V=l.pendingProps!==V,se||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(V||Z!==P)&&qP(l,w,g,P),Ws=!1;var te=l.memoizedState;w.state=te,th(l,g,w,T),eh(),Z=l.memoizedState,V||te!==Z||Ws?(typeof ue=="function"&&(LT(l,d,ue,g),Z=l.memoizedState),(K=Ws||BP(l,d,K,g,te,Z,P))?(se||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=Z),w.props=g,w.state=Z,w.context=P,g=K):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{w=l.stateNode,gT(a,l),P=l.memoizedProps,se=kl(d,P),w.props=se,ue=l.pendingProps,te=w.context,Z=d.contextType,K=fc,typeof Z=="object"&&Z!==null&&(K=rr(Z)),V=d.getDerivedStateFromProps,(Z=typeof V=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==ue||te!==K)&&qP(l,w,g,K),Ws=!1,te=l.memoizedState,w.state=te,th(l,g,w,T),eh();var ne=l.memoizedState;P!==ue||te!==ne||Ws||a!==null&&a.dependencies!==null&&_g(a.dependencies)?(typeof V=="function"&&(LT(l,d,V,g),ne=l.memoizedState),(se=Ws||BP(l,d,se,g,te,ne,K)||a!==null&&a.dependencies!==null&&_g(a.dependencies))?(Z||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(g,ne,K),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(g,ne,K)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||P===a.memoizedProps&&te===a.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&te===a.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=ne),w.props=g,w.state=ne,w.context=K,g=se):(typeof w.componentDidUpdate!="function"||P===a.memoizedProps&&te===a.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&te===a.memoizedState||(l.flags|=1024),g=!1)}return w=g,Ug(a,l),g=(l.flags&128)!==0,w||g?(w=l.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,a!==null&&g?(l.child=Ec(l,a.child,null,T),l.child=Ec(l,null,d,T)):Kn(a,l,d,T),l.memoizedState=w.state,a=l.child):a=ts(a,l,T),a}function n1(a,l,d,g){return Kd(),l.flags|=256,Kn(a,l,d,g),l.child}var qT={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $T(a){return{baseLanes:a,cachePool:zR()}}function zT(a,l,d){return a=a!==null?a.childLanes&~d:0,l&&(a|=mi),a}function r1(a,l,d){var g=l.pendingProps,T=!1,w=(l.flags&128)!==0,P;if((P=w)||(P=a!==null&&a.memoizedState===null?!1:(wn.current&2)!==0),P&&(T=!0,l.flags&=-129),P=(l.flags&32)!==0,l.flags&=-33,a===null){if(at){if(T?Qs(l):Xs(),at){var V=Wt,K;if(K=V){e:{for(K=V,V=lo;K.nodeType!==8;){if(!V){V=null;break e}if(K=Vi(K.nextSibling),K===null){V=null;break e}}V=K}V!==null?(l.memoizedState={dehydrated:V,treeContext:Il!==null?{id:Yo,overflow:Jo}:null,retryLane:536870912,hydrationErrors:null},K=Ur(18,null,null,0),K.stateNode=V,K.return=l,l.child=K,gr=l,Wt=null,K=!0):K=!1}K||Rl(l)}if(V=l.memoizedState,V!==null&&(V=V.dehydrated,V!==null))return IE(V)?l.lanes=32:l.lanes=536870912,null;es(l)}return V=g.children,g=g.fallback,T?(Xs(),T=l.mode,V=Fg({mode:"hidden",children:V},T),g=Al(g,T,d,null),V.return=l,g.return=l,V.sibling=g,l.child=V,T=l.child,T.memoizedState=$T(d),T.childLanes=zT(a,P,d),l.memoizedState=qT,g):(Qs(l),HT(l,V))}if(K=a.memoizedState,K!==null&&(V=K.dehydrated,V!==null)){if(w)l.flags&256?(Qs(l),l.flags&=-257,l=GT(a,l,d)):l.memoizedState!==null?(Xs(),l.child=a.child,l.flags|=128,l=null):(Xs(),T=g.fallback,V=l.mode,g=Fg({mode:"visible",children:g.children},V),T=Al(T,V,d,null),T.flags|=2,g.return=l,T.return=l,g.sibling=T,l.child=g,Ec(l,a.child,null,d),g=l.child,g.memoizedState=$T(d),g.childLanes=zT(a,P,d),l.memoizedState=qT,l=T);else if(Qs(l),IE(V)){if(P=V.nextSibling&&V.nextSibling.dataset,P)var Z=P.dgst;P=Z,g=Error(r(419)),g.stack="",g.digest=P,Wd({value:g,source:null,stack:null}),l=GT(a,l,d)}else if(Nn||jd(a,l,d,!1),P=(d&a.childLanes)!==0,Nn||P){if(P=It,P!==null&&(g=d&-d,g=(g&42)!==0?1:Fs(g),g=(g&(P.suspendedLanes|d))!==0?0:g,g!==0&&g!==K.retryLane))throw K.retryLane=g,cc(a,g),zr(P,a,g),jP;V.data==="$?"||uE(),l=GT(a,l,d)}else V.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=K.treeContext,Wt=Vi(V.nextSibling),gr=l,at=!0,xl=null,lo=!1,a!==null&&(di[hi++]=Yo,di[hi++]=Jo,di[hi++]=Il,Yo=a.id,Jo=a.overflow,Il=l),l=HT(l,g.children),l.flags|=4096);return l}return T?(Xs(),T=g.fallback,V=l.mode,K=a.child,Z=K.sibling,g=jo(K,{mode:"hidden",children:g.children}),g.subtreeFlags=K.subtreeFlags&65011712,Z!==null?T=jo(Z,T):(T=Al(T,V,d,null),T.flags|=2),T.return=l,g.return=l,g.sibling=T,l.child=g,g=T,T=l.child,V=a.child.memoizedState,V===null?V=$T(d):(K=V.cachePool,K!==null?(Z=En._currentValue,K=K.parent!==Z?{parent:Z,pool:Z}:K):K=zR(),V={baseLanes:V.baseLanes|d,cachePool:K}),T.memoizedState=V,T.childLanes=zT(a,P,d),l.memoizedState=qT,g):(Qs(l),d=a.child,a=d.sibling,d=jo(d,{mode:"visible",children:g.children}),d.return=l,d.sibling=null,a!==null&&(P=l.deletions,P===null?(l.deletions=[a],l.flags|=16):P.push(a)),l.child=d,l.memoizedState=null,d)}function HT(a,l){return l=Fg({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Fg(a,l){return a=Ur(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function GT(a,l,d){return Ec(l,a.child,null,d),a=HT(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function i1(a,l,d){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l),uT(a.return,l,d)}function KT(a,l,d,g,T){var w=a.memoizedState;w===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:T}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=g,w.tail=d,w.tailMode=T)}function o1(a,l,d){var g=l.pendingProps,T=g.revealOrder,w=g.tail;if(Kn(a,l,g.children,d),g=wn.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&i1(a,d,l);else if(a.tag===19)i1(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}switch(ge(wn,g),T){case"forwards":for(d=l.child,T=null;d!==null;)a=d.alternate,a!==null&&Og(a)===null&&(T=d),d=d.sibling;d=T,d===null?(T=l.child,l.child=null):(T=d.sibling,d.sibling=null),KT(l,!1,T,d,w);break;case"backwards":for(d=null,T=l.child,l.child=null;T!==null;){if(a=T.alternate,a!==null&&Og(a)===null){l.child=T;break}a=T.sibling,T.sibling=d,d=T,T=a}KT(l,!0,d,null,w);break;case"together":KT(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ts(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),ra|=l.lanes,(d&l.childLanes)===0)if(a!==null){if(jd(a,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,d=jo(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=jo(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function WT(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&_g(a)))}function aH(a,l,d){switch(l.tag){case 3:vt(l,l.stateNode.containerInfo),Ks(l,En,a.memoizedState.cache),Kd();break;case 27:case 5:$e(l);break;case 4:vt(l,l.stateNode.containerInfo);break;case 10:Ks(l,l.type,l.memoizedProps.value);break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(Qs(l),l.flags|=128,null):(d&l.child.childLanes)!==0?r1(a,l,d):(Qs(l),a=ts(a,l,d),a!==null?a.sibling:null);Qs(l);break;case 19:var T=(a.flags&128)!==0;if(g=(d&l.childLanes)!==0,g||(jd(a,l,d,!1),g=(d&l.childLanes)!==0),T){if(g)return o1(a,l,d);l.flags|=128}if(T=l.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),ge(wn,wn.current),g)break;return null;case 22:case 23:return l.lanes=0,XP(a,l,d);case 24:Ks(l,En,a.memoizedState.cache)}return ts(a,l,d)}function s1(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps)Nn=!0;else{if(!WT(a,d)&&(l.flags&128)===0)return Nn=!1,aH(a,l,d);Nn=(a.flags&131072)!==0}else Nn=!1,at&&(l.flags&1048576)!==0&&VR(l,vg,l.index);switch(l.lanes=0,l.tag){case 16:e:{a=l.pendingProps;var g=l.elementType,T=g._init;if(g=T(g._payload),l.type=g,typeof g=="function")nT(g)?(a=kl(g,a),l.tag=1,l=t1(null,l,g,a,d)):(l.tag=0,l=BT(null,l,g,a,d));else{if(g!=null){if(T=g.$$typeof,T===q){l.tag=11,l=YP(null,l,g,a,d);break e}else if(T===N){l.tag=14,l=JP(null,l,g,a,d);break e}}throw l=Re(g)||g,Error(r(306,l,""))}}return l;case 0:return BT(a,l,l.type,l.pendingProps,d);case 1:return g=l.type,T=kl(g,l.pendingProps),t1(a,l,g,T,d);case 3:e:{if(vt(l,l.stateNode.containerInfo),a===null)throw Error(r(387));g=l.pendingProps;var w=l.memoizedState;T=w.element,gT(a,l),th(l,g,null,d);var P=l.memoizedState;if(g=P.cache,Ks(l,En,g),g!==w.cache&&cT(l,[En],d,!0),eh(),g=P.element,w.isDehydrated)if(w={element:g,isDehydrated:!1,cache:P.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=n1(a,l,g,d);break e}else if(g!==T){T=ci(Error(r(424)),l),Wd(T),l=n1(a,l,g,d);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Wt=Vi(a.firstChild),gr=l,at=!0,xl=null,lo=!0,d=UP(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Kd(),g===T){l=ts(a,l,d);break e}Kn(a,l,g,d)}l=l.child}return l;case 26:return Ug(a,l),a===null?(d=cM(l.type,null,l.pendingProps,null))?l.memoizedState=d:at||(d=l.type,a=l.pendingProps,g=Zg(Ue.current).createElement(d),g[vn]=l,g[ln]=a,jn(g,d,a),Zt(g),l.stateNode=g):l.memoizedState=cM(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return $e(l),a===null&&at&&(g=l.stateNode=aM(l.type,l.pendingProps,Ue.current),gr=l,lo=!0,T=Wt,aa(l.type)?(CE=T,Wt=Vi(g.firstChild)):Wt=T),Kn(a,l,l.pendingProps.children,d),Ug(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&at&&((T=g=Wt)&&(g=OH(g,l.type,l.pendingProps,lo),g!==null?(l.stateNode=g,gr=l,Wt=Vi(g.firstChild),lo=!1,T=!0):T=!1),T||Rl(l)),$e(l),T=l.type,w=l.pendingProps,P=a!==null?a.memoizedProps:null,g=w.children,SE(T,w)?g=null:P!==null&&SE(T,P)&&(l.flags|=32),l.memoizedState!==null&&(T=wT(a,l,Zz,null,null,d),Sh._currentValue=T),Ug(a,l),Kn(a,l,g,d),l.child;case 6:return a===null&&at&&((a=d=Wt)&&(d=VH(d,l.pendingProps,lo),d!==null?(l.stateNode=d,gr=l,Wt=null,a=!0):a=!1),a||Rl(l)),null;case 13:return r1(a,l,d);case 4:return vt(l,l.stateNode.containerInfo),g=l.pendingProps,a===null?l.child=Ec(l,null,g,d):Kn(a,l,g,d),l.child;case 11:return YP(a,l,l.type,l.pendingProps,d);case 7:return Kn(a,l,l.pendingProps,d),l.child;case 8:return Kn(a,l,l.pendingProps.children,d),l.child;case 12:return Kn(a,l,l.pendingProps.children,d),l.child;case 10:return g=l.pendingProps,Ks(l,l.type,g.value),Kn(a,l,g.children,d),l.child;case 9:return T=l.type._context,g=l.pendingProps.children,Ml(l),T=rr(T),g=g(T),l.flags|=1,Kn(a,l,g,d),l.child;case 14:return JP(a,l,l.type,l.pendingProps,d);case 15:return QP(a,l,l.type,l.pendingProps,d);case 19:return o1(a,l,d);case 31:return g=l.pendingProps,d=l.mode,g={mode:g.mode,children:g.children},a===null?(d=Fg(g,d),d.ref=l.ref,l.child=d,d.return=l,l=d):(d=jo(a.child,g),d.ref=l.ref,l.child=d,d.return=l,l=d),l;case 22:return XP(a,l,d);case 24:return Ml(l),g=rr(En),a===null?(T=hT(),T===null&&(T=It,w=fT(),T.pooledCache=w,w.refCount++,w!==null&&(T.pooledCacheLanes|=d),T=w),l.memoizedState={parent:g,cache:T},mT(l),Ks(l,En,T)):((a.lanes&d)!==0&&(gT(a,l),th(l,null,null,d),eh()),T=a.memoizedState,w=l.memoizedState,T.parent!==g?(T={parent:g,cache:g},l.memoizedState=T,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=T),Ks(l,En,g)):(g=w.cache,Ks(l,En,g),g!==T.cache&&cT(l,[En],d,!0))),Kn(a,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function ns(a){a.flags|=4}function a1(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!mM(l)){if(l=pi.current,l!==null&&((nt&4194048)===nt?uo!==null:(nt&62914560)!==nt&&(nt&536870912)===0||l!==uo))throw Xd=pT,HR;a.flags|=8192}}function Bg(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Ad():536870912,a.lanes|=l,Ac|=l)}function lh(a,l){if(!at)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function $t(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(l)for(var T=a.child;T!==null;)d|=T.lanes|T.childLanes,g|=T.subtreeFlags&65011712,g|=T.flags&65011712,T.return=a,T=T.sibling;else for(T=a.child;T!==null;)d|=T.lanes|T.childLanes,g|=T.subtreeFlags,g|=T.flags,T.return=a,T=T.sibling;return a.subtreeFlags|=g,a.childLanes=d,l}function lH(a,l,d){var g=l.pendingProps;switch(sT(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(l),null;case 1:return $t(l),null;case 3:return d=l.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),Xo(En),Te(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(Gd(l)?ns(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,FR())),$t(l),null;case 26:return d=l.memoizedState,a===null?(ns(l),d!==null?($t(l),a1(l,d)):($t(l),l.flags&=-16777217)):d?d!==a.memoizedState?(ns(l),$t(l),a1(l,d)):($t(l),l.flags&=-16777217):(a.memoizedProps!==g&&ns(l),$t(l),l.flags&=-16777217),null;case 27:ze(l),d=Ue.current;var T=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==g&&ns(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return $t(l),null}a=Pe.current,Gd(l)?LR(l):(a=aM(T,g,d),l.stateNode=a,ns(l))}return $t(l),null;case 5:if(ze(l),d=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==g&&ns(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return $t(l),null}if(a=Pe.current,Gd(l))LR(l);else{switch(T=Zg(Ue.current),a){case 1:a=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:a=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":a=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":a=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":a=T.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof g.is=="string"?T.createElement("select",{is:g.is}):T.createElement("select"),g.multiple?a.multiple=!0:g.size&&(a.size=g.size);break;default:a=typeof g.is=="string"?T.createElement(d,{is:g.is}):T.createElement(d)}}a[vn]=l,a[ln]=g;e:for(T=l.child;T!==null;){if(T.tag===5||T.tag===6)a.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===l)break e;for(;T.sibling===null;){if(T.return===null||T.return===l)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}l.stateNode=a;e:switch(jn(a,d,g),d){case"button":case"input":case"select":case"textarea":a=!!g.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ns(l)}}return $t(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==g&&ns(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(a=Ue.current,Gd(l)){if(a=l.stateNode,d=l.memoizedProps,g=null,T=gr,T!==null)switch(T.tag){case 27:case 5:g=T.memoizedProps}a[vn]=l,a=!!(a.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||eM(a.nodeValue,d)),a||Rl(l)}else a=Zg(a).createTextNode(g),a[vn]=l,l.stateNode=a}return $t(l),null;case 13:if(g=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(T=Gd(l),g!==null&&g.dehydrated!==null){if(a===null){if(!T)throw Error(r(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[vn]=l}else Kd(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;$t(l),T=!1}else T=FR(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=T),T=!0;if(!T)return l.flags&256?(es(l),l):(es(l),null)}if(es(l),(l.flags&128)!==0)return l.lanes=d,l;if(d=g!==null,a=a!==null&&a.memoizedState!==null,d){g=l.child,T=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(T=g.alternate.memoizedState.cachePool.pool);var w=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(w=g.memoizedState.cachePool.pool),w!==T&&(g.flags|=2048)}return d!==a&&d&&(l.child.flags|=8192),Bg(l,l.updateQueue),$t(l),null;case 4:return Te(),a===null&&vE(l.stateNode.containerInfo),$t(l),null;case 10:return Xo(l.type),$t(l),null;case 19:if(ae(wn),T=l.memoizedState,T===null)return $t(l),null;if(g=(l.flags&128)!==0,w=T.rendering,w===null)if(g)lh(T,!1);else{if(jt!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(w=Og(a),w!==null){for(l.flags|=128,lh(T,!1),a=w.updateQueue,l.updateQueue=a,Bg(l,a),l.subtreeFlags=0,a=d,d=l.child;d!==null;)OR(d,a),d=d.sibling;return ge(wn,wn.current&1|2),l.child}a=a.sibling}T.tail!==null&&an()>zg&&(l.flags|=128,g=!0,lh(T,!1),l.lanes=4194304)}else{if(!g)if(a=Og(w),a!==null){if(l.flags|=128,g=!0,a=a.updateQueue,l.updateQueue=a,Bg(l,a),lh(T,!0),T.tail===null&&T.tailMode==="hidden"&&!w.alternate&&!at)return $t(l),null}else 2*an()-T.renderingStartTime>zg&&d!==536870912&&(l.flags|=128,g=!0,lh(T,!1),l.lanes=4194304);T.isBackwards?(w.sibling=l.child,l.child=w):(a=T.last,a!==null?a.sibling=w:l.child=w,T.last=w)}return T.tail!==null?(l=T.tail,T.rendering=l,T.tail=l.sibling,T.renderingStartTime=an(),l.sibling=null,a=wn.current,ge(wn,g?a&1|2:a&1),l):($t(l),null);case 22:case 23:return es(l),TT(),g=l.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(d&536870912)!==0&&(l.flags&128)===0&&($t(l),l.subtreeFlags&6&&(l.flags|=8192)):$t(l),d=l.updateQueue,d!==null&&Bg(l,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==d&&(l.flags|=2048),a!==null&&ae(Dl),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Xo(En),$t(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function uH(a,l){switch(sT(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Xo(En),Te(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return ze(l),null;case 13:if(es(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Kd()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return ae(wn),null;case 4:return Te(),null;case 10:return Xo(l.type),null;case 22:case 23:return es(l),TT(),a!==null&&ae(Dl),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Xo(En),null;case 25:return null;default:return null}}function l1(a,l){switch(sT(l),l.tag){case 3:Xo(En),Te();break;case 26:case 27:case 5:ze(l);break;case 4:Te();break;case 13:es(l);break;case 19:ae(wn);break;case 10:Xo(l.type);break;case 22:case 23:es(l),TT(),a!==null&&ae(Dl);break;case 24:Xo(En)}}function uh(a,l){try{var d=l.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var T=g.next;d=T;do{if((d.tag&a)===a){g=void 0;var w=d.create,P=d.inst;g=w(),P.destroy=g}d=d.next}while(d!==T)}}catch(V){bt(l,l.return,V)}}function Zs(a,l,d){try{var g=l.updateQueue,T=g!==null?g.lastEffect:null;if(T!==null){var w=T.next;g=w;do{if((g.tag&a)===a){var P=g.inst,V=P.destroy;if(V!==void 0){P.destroy=void 0,T=l;var K=d,Z=V;try{Z()}catch(se){bt(T,K,se)}}}g=g.next}while(g!==w)}}catch(se){bt(l,l.return,se)}}function u1(a){var l=a.updateQueue;if(l!==null){var d=a.stateNode;try{JR(l,d)}catch(g){bt(a,a.return,g)}}}function c1(a,l,d){d.props=kl(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(g){bt(a,l,g)}}function ch(a,l){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof d=="function"?a.refCleanup=d(g):d.current=g}}catch(T){bt(a,l,T)}}function co(a,l){var d=a.ref,g=a.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(T){bt(a,l,T)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(T){bt(a,l,T)}else d.current=null}function f1(a){var l=a.type,d=a.memoizedProps,g=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(T){bt(a,a.return,T)}}function jT(a,l,d){try{var g=a.stateNode;PH(g,a.type,d,l),g[ln]=l}catch(T){bt(a,a.return,T)}}function d1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&aa(a.type)||a.tag===4}function YT(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||d1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&aa(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function JT(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(a),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Xg));else if(g!==4&&(g===27&&aa(a.type)&&(d=a.stateNode,l=null),a=a.child,a!==null))for(JT(a,l,d),a=a.sibling;a!==null;)JT(a,l,d),a=a.sibling}function qg(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(g!==4&&(g===27&&aa(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(qg(a,l,d),a=a.sibling;a!==null;)qg(a,l,d),a=a.sibling}function h1(a){var l=a.stateNode,d=a.memoizedProps;try{for(var g=a.type,T=l.attributes;T.length;)l.removeAttributeNode(T[0]);jn(l,g,d),l[vn]=a,l[ln]=d}catch(w){bt(a,a.return,w)}}var rs=!1,tn=!1,QT=!1,p1=typeof WeakSet=="function"?WeakSet:Set,kn=null;function cH(a,l){if(a=a.containerInfo,EE=oy,a=AR(a),Y0(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var T=g.anchorOffset,w=g.focusNode;g=g.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var P=0,V=-1,K=-1,Z=0,se=0,ue=a,te=null;t:for(;;){for(var ne;ue!==d||T!==0&&ue.nodeType!==3||(V=P+T),ue!==w||g!==0&&ue.nodeType!==3||(K=P+g),ue.nodeType===3&&(P+=ue.nodeValue.length),(ne=ue.firstChild)!==null;)te=ue,ue=ne;for(;;){if(ue===a)break t;if(te===d&&++Z===T&&(V=P),te===w&&++se===g&&(K=P),(ne=ue.nextSibling)!==null)break;ue=te,te=ue.parentNode}ue=ne}d=V===-1||K===-1?null:{start:V,end:K}}else d=null}d=d||{start:0,end:0}}else d=null;for(wE={focusedElem:a,selectionRange:d},oy=!1,kn=l;kn!==null;)if(l=kn,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,kn=a;else for(;kn!==null;){switch(l=kn,w=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,d=l,T=w.memoizedProps,w=w.memoizedState,g=d.stateNode;try{var Fe=kl(d.type,T,d.elementType===d.type);a=g.getSnapshotBeforeUpdate(Fe,w),g.__reactInternalSnapshotBeforeUpdate=a}catch(Oe){bt(d,d.return,Oe)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,d=a.nodeType,d===9)AE(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":AE(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,kn=a;break}kn=l.return}}function m1(a,l,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:ea(a,d),g&4&&uh(5,d);break;case 1:if(ea(a,d),g&4)if(a=d.stateNode,l===null)try{a.componentDidMount()}catch(P){bt(d,d.return,P)}else{var T=kl(d.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(T,l,a.__reactInternalSnapshotBeforeUpdate)}catch(P){bt(d,d.return,P)}}g&64&&u1(d),g&512&&ch(d,d.return);break;case 3:if(ea(a,d),g&64&&(a=d.updateQueue,a!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{JR(a,l)}catch(P){bt(d,d.return,P)}}break;case 27:l===null&&g&4&&h1(d);case 26:case 5:ea(a,d),l===null&&g&4&&f1(d),g&512&&ch(d,d.return);break;case 12:ea(a,d);break;case 13:ea(a,d),g&4&&v1(a,d),g&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=_H.bind(null,d),LH(a,d))));break;case 22:if(g=d.memoizedState!==null||rs,!g){l=l!==null&&l.memoizedState!==null||tn,T=rs;var w=tn;rs=g,(tn=l)&&!w?ta(a,d,(d.subtreeFlags&8772)!==0):ea(a,d),rs=T,tn=w}break;case 30:break;default:ea(a,d)}}function g1(a){var l=a.alternate;l!==null&&(a.alternate=null,g1(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&$s(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Ot=null,Ar=!1;function is(a,l,d){for(d=d.child;d!==null;)y1(a,l,d),d=d.sibling}function y1(a,l,d){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Kt,d)}catch{}switch(d.tag){case 26:tn||co(d,l),is(a,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:tn||co(d,l);var g=Ot,T=Ar;aa(d.type)&&(Ot=d.stateNode,Ar=!1),is(a,l,d),_h(d.stateNode),Ot=g,Ar=T;break;case 5:tn||co(d,l);case 6:if(g=Ot,T=Ar,Ot=null,is(a,l,d),Ot=g,Ar=T,Ot!==null)if(Ar)try{(Ot.nodeType===9?Ot.body:Ot.nodeName==="HTML"?Ot.ownerDocument.body:Ot).removeChild(d.stateNode)}catch(w){bt(d,l,w)}else try{Ot.removeChild(d.stateNode)}catch(w){bt(d,l,w)}break;case 18:Ot!==null&&(Ar?(a=Ot,oM(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),Ch(a)):oM(Ot,d.stateNode));break;case 4:g=Ot,T=Ar,Ot=d.stateNode.containerInfo,Ar=!0,is(a,l,d),Ot=g,Ar=T;break;case 0:case 11:case 14:case 15:tn||Zs(2,d,l),tn||Zs(4,d,l),is(a,l,d);break;case 1:tn||(co(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"&&c1(d,l,g)),is(a,l,d);break;case 21:is(a,l,d);break;case 22:tn=(g=tn)||d.memoizedState!==null,is(a,l,d),tn=g;break;default:is(a,l,d)}}function v1(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Ch(a)}catch(d){bt(l,l.return,d)}}function fH(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new p1),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new p1),l;default:throw Error(r(435,a.tag))}}function XT(a,l){var d=fH(a);l.forEach(function(g){var T=TH.bind(null,a,g);d.has(g)||(d.add(g),g.then(T,T))})}function Fr(a,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var T=d[g],w=a,P=l,V=P;e:for(;V!==null;){switch(V.tag){case 27:if(aa(V.type)){Ot=V.stateNode,Ar=!1;break e}break;case 5:Ot=V.stateNode,Ar=!1;break e;case 3:case 4:Ot=V.stateNode.containerInfo,Ar=!0;break e}V=V.return}if(Ot===null)throw Error(r(160));y1(w,P,T),Ot=null,Ar=!1,w=T.alternate,w!==null&&(w.return=null),T.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)_1(l,a),l=l.sibling}var Oi=null;function _1(a,l){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Fr(l,a),Br(a),g&4&&(Zs(3,a,a.return),uh(3,a),Zs(5,a,a.return));break;case 1:Fr(l,a),Br(a),g&512&&(tn||d===null||co(d,d.return)),g&64&&rs&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var T=Oi;if(Fr(l,a),Br(a),g&512&&(tn||d===null||co(d,d.return)),g&4){var w=d!==null?d.memoizedState:null;if(g=a.memoizedState,d===null)if(g===null)if(a.stateNode===null){e:{g=a.type,d=a.memoizedProps,T=T.ownerDocument||T;t:switch(g){case"title":w=T.getElementsByTagName("title")[0],(!w||w[ul]||w[vn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=T.createElement(g),T.head.insertBefore(w,T.querySelector("head > title"))),jn(w,g,d),w[vn]=a,Zt(w),g=w;break e;case"link":var P=hM("link","href",T).get(g+(d.href||""));if(P){for(var V=0;V<P.length;V++)if(w=P[V],w.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&w.getAttribute("rel")===(d.rel==null?null:d.rel)&&w.getAttribute("title")===(d.title==null?null:d.title)&&w.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){P.splice(V,1);break t}}w=T.createElement(g),jn(w,g,d),T.head.appendChild(w);break;case"meta":if(P=hM("meta","content",T).get(g+(d.content||""))){for(V=0;V<P.length;V++)if(w=P[V],w.getAttribute("content")===(d.content==null?null:""+d.content)&&w.getAttribute("name")===(d.name==null?null:d.name)&&w.getAttribute("property")===(d.property==null?null:d.property)&&w.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&w.getAttribute("charset")===(d.charSet==null?null:d.charSet)){P.splice(V,1);break t}}w=T.createElement(g),jn(w,g,d),T.head.appendChild(w);break;default:throw Error(r(468,g))}w[vn]=a,Zt(w),g=w}a.stateNode=g}else pM(T,a.type,a.stateNode);else a.stateNode=dM(T,g,a.memoizedProps);else w!==g?(w===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):w.count--,g===null?pM(T,a.type,a.stateNode):dM(T,g,a.memoizedProps)):g===null&&a.stateNode!==null&&jT(a,a.memoizedProps,d.memoizedProps)}break;case 27:Fr(l,a),Br(a),g&512&&(tn||d===null||co(d,d.return)),d!==null&&g&4&&jT(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Fr(l,a),Br(a),g&512&&(tn||d===null||co(d,d.return)),a.flags&32){T=a.stateNode;try{si(T,"")}catch(ne){bt(a,a.return,ne)}}g&4&&a.stateNode!=null&&(T=a.memoizedProps,jT(a,T,d!==null?d.memoizedProps:T)),g&1024&&(QT=!0);break;case 6:if(Fr(l,a),Br(a),g&4){if(a.stateNode===null)throw Error(r(162));g=a.memoizedProps,d=a.stateNode;try{d.nodeValue=g}catch(ne){bt(a,a.return,ne)}}break;case 3:if(ny=null,T=Oi,Oi=ey(l.containerInfo),Fr(l,a),Oi=T,Br(a),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Ch(l.containerInfo)}catch(ne){bt(a,a.return,ne)}QT&&(QT=!1,T1(a));break;case 4:g=Oi,Oi=ey(a.stateNode.containerInfo),Fr(l,a),Br(a),Oi=g;break;case 12:Fr(l,a),Br(a);break;case 13:Fr(l,a),Br(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(iE=an()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,XT(a,g)));break;case 22:T=a.memoizedState!==null;var K=d!==null&&d.memoizedState!==null,Z=rs,se=tn;if(rs=Z||T,tn=se||K,Fr(l,a),tn=se,rs=Z,Br(a),g&8192)e:for(l=a.stateNode,l._visibility=T?l._visibility&-2:l._visibility|1,T&&(d===null||K||rs||tn||Ol(a)),d=null,l=a;;){if(l.tag===5||l.tag===26){if(d===null){K=d=l;try{if(w=K.stateNode,T)P=w.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{V=K.stateNode;var ue=K.memoizedProps.style,te=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;V.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){bt(K,K.return,ne)}}}else if(l.tag===6){if(d===null){K=l;try{K.stateNode.nodeValue=T?"":K.memoizedProps}catch(ne){bt(K,K.return,ne)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=a.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,XT(a,d))));break;case 19:Fr(l,a),Br(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,XT(a,g)));break;case 30:break;case 21:break;default:Fr(l,a),Br(a)}}function Br(a){var l=a.flags;if(l&2){try{for(var d,g=a.return;g!==null;){if(d1(g)){d=g;break}g=g.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var T=d.stateNode,w=YT(a);qg(a,w,T);break;case 5:var P=d.stateNode;d.flags&32&&(si(P,""),d.flags&=-33);var V=YT(a);qg(a,V,P);break;case 3:case 4:var K=d.stateNode.containerInfo,Z=YT(a);JT(a,Z,K);break;default:throw Error(r(161))}}catch(se){bt(a,a.return,se)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function T1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;T1(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function ea(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)m1(a,l.alternate,l),l=l.sibling}function Ol(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:Zs(4,l,l.return),Ol(l);break;case 1:co(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&c1(l,l.return,d),Ol(l);break;case 27:_h(l.stateNode);case 26:case 5:co(l,l.return),Ol(l);break;case 22:l.memoizedState===null&&Ol(l);break;case 30:Ol(l);break;default:Ol(l)}a=a.sibling}}function ta(a,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,T=a,w=l,P=w.flags;switch(w.tag){case 0:case 11:case 15:ta(T,w,d),uh(4,w);break;case 1:if(ta(T,w,d),g=w,T=g.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Z){bt(g,g.return,Z)}if(g=w,T=g.updateQueue,T!==null){var V=g.stateNode;try{var K=T.shared.hiddenCallbacks;if(K!==null)for(T.shared.hiddenCallbacks=null,T=0;T<K.length;T++)YR(K[T],V)}catch(Z){bt(g,g.return,Z)}}d&&P&64&&u1(w),ch(w,w.return);break;case 27:h1(w);case 26:case 5:ta(T,w,d),d&&g===null&&P&4&&f1(w),ch(w,w.return);break;case 12:ta(T,w,d);break;case 13:ta(T,w,d),d&&P&4&&v1(T,w);break;case 22:w.memoizedState===null&&ta(T,w,d),ch(w,w.return);break;case 30:break;default:ta(T,w,d)}l=l.sibling}}function ZT(a,l){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&Yd(d))}function eE(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Yd(a))}function fo(a,l,d,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)E1(a,l,d,g),l=l.sibling}function E1(a,l,d,g){var T=l.flags;switch(l.tag){case 0:case 11:case 15:fo(a,l,d,g),T&2048&&uh(9,l);break;case 1:fo(a,l,d,g);break;case 3:fo(a,l,d,g),T&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Yd(a)));break;case 12:if(T&2048){fo(a,l,d,g),a=l.stateNode;try{var w=l.memoizedProps,P=w.id,V=w.onPostCommit;typeof V=="function"&&V(P,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(K){bt(l,l.return,K)}}else fo(a,l,d,g);break;case 13:fo(a,l,d,g);break;case 23:break;case 22:w=l.stateNode,P=l.alternate,l.memoizedState!==null?w._visibility&2?fo(a,l,d,g):fh(a,l):w._visibility&2?fo(a,l,d,g):(w._visibility|=2,wc(a,l,d,g,(l.subtreeFlags&10256)!==0)),T&2048&&ZT(P,l);break;case 24:fo(a,l,d,g),T&2048&&eE(l.alternate,l);break;default:fo(a,l,d,g)}}function wc(a,l,d,g,T){for(T=T&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var w=a,P=l,V=d,K=g,Z=P.flags;switch(P.tag){case 0:case 11:case 15:wc(w,P,V,K,T),uh(8,P);break;case 23:break;case 22:var se=P.stateNode;P.memoizedState!==null?se._visibility&2?wc(w,P,V,K,T):fh(w,P):(se._visibility|=2,wc(w,P,V,K,T)),T&&Z&2048&&ZT(P.alternate,P);break;case 24:wc(w,P,V,K,T),T&&Z&2048&&eE(P.alternate,P);break;default:wc(w,P,V,K,T)}l=l.sibling}}function fh(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=a,g=l,T=g.flags;switch(g.tag){case 22:fh(d,g),T&2048&&ZT(g.alternate,g);break;case 24:fh(d,g),T&2048&&eE(g.alternate,g);break;default:fh(d,g)}l=l.sibling}}var dh=8192;function Sc(a){if(a.subtreeFlags&dh)for(a=a.child;a!==null;)w1(a),a=a.sibling}function w1(a){switch(a.tag){case 26:Sc(a),a.flags&dh&&a.memoizedState!==null&&JH(Oi,a.memoizedState,a.memoizedProps);break;case 5:Sc(a);break;case 3:case 4:var l=Oi;Oi=ey(a.stateNode.containerInfo),Sc(a),Oi=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=dh,dh=16777216,Sc(a),dh=l):Sc(a));break;default:Sc(a)}}function S1(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function hh(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];kn=g,A1(g,a)}S1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)b1(a),a=a.sibling}function b1(a){switch(a.tag){case 0:case 11:case 15:hh(a),a.flags&2048&&Zs(9,a,a.return);break;case 3:hh(a);break;case 12:hh(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,$g(a)):hh(a);break;default:hh(a)}}function $g(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];kn=g,A1(g,a)}S1(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:Zs(8,l,l.return),$g(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,$g(l));break;default:$g(l)}a=a.sibling}}function A1(a,l){for(;kn!==null;){var d=kn;switch(d.tag){case 0:case 11:case 15:Zs(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Yd(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,kn=g;else e:for(d=a;kn!==null;){g=kn;var T=g.sibling,w=g.return;if(g1(g),g===d){kn=null;break e}if(T!==null){T.return=w,kn=T;break e}kn=w}}}var dH={getCacheForType:function(a){var l=rr(En),d=l.data.get(a);return d===void 0&&(d=a(),l.data.set(a,d)),d}},hH=typeof WeakMap=="function"?WeakMap:Map,dt=0,It=null,je=null,nt=0,ht=0,qr=null,na=!1,bc=!1,tE=!1,os=0,jt=0,ra=0,Vl=0,nE=0,mi=0,Ac=0,ph=null,Ir=null,rE=!1,iE=0,zg=1/0,Hg=null,ia=null,Wn=0,oa=null,Ic=null,Cc=0,oE=0,sE=null,I1=null,mh=0,aE=null;function $r(){if((dt&2)!==0&&nt!==0)return nt&-nt;if(ee.T!==null){var a=pc;return a!==0?a:pE()}return Bs()}function C1(){mi===0&&(mi=(nt&536870912)===0||at?bd():536870912);var a=pi.current;return a!==null&&(a.flags|=32),mi}function zr(a,l,d){(a===It&&(ht===2||ht===9)||a.cancelPendingCommit!==null)&&(xc(a,0),sa(a,nt,mi,!1)),Lo(a,d),((dt&2)===0||a!==It)&&(a===It&&((dt&2)===0&&(Vl|=d),jt===4&&sa(a,nt,mi,!1)),ho(a))}function x1(a,l,d){if((dt&6)!==0)throw Error(r(327));var g=!d&&(l&124)===0&&(l&a.expiredLanes)===0||ll(a,l),T=g?gH(a,l):cE(a,l,!0),w=g;do{if(T===0){bc&&!g&&sa(a,l,0,!1);break}else{if(d=a.current.alternate,w&&!pH(d)){T=cE(a,l,!1),w=!1;continue}if(T===2){if(w=l,a.errorRecoveryDisabledLanes&w)var P=0;else P=a.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){l=P;e:{var V=a;T=ph;var K=V.current.memoizedState.isDehydrated;if(K&&(xc(V,P).flags|=256),P=cE(V,P,!1),P!==2){if(tE&&!K){V.errorRecoveryDisabledLanes|=w,Vl|=w,T=4;break e}w=Ir,Ir=T,w!==null&&(Ir===null?Ir=w:Ir.push.apply(Ir,w))}T=P}if(w=!1,T!==2)continue}}if(T===1){xc(a,0),sa(a,l,0,!0);break}e:{switch(g=a,w=T,w){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:sa(g,l,mi,!na);break e;case 2:Ir=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(T=iE+300-an(),10<T)){if(sa(g,l,mi,!na),Gu(g,0,!0)!==0)break e;g.timeoutHandle=rM(R1.bind(null,g,d,Ir,Hg,rE,l,mi,Vl,Ac,na,w,2,-0,0),T);break e}R1(g,d,Ir,Hg,rE,l,mi,Vl,Ac,na,w,0,-0,0)}}break}while(!0);ho(a)}function R1(a,l,d,g,T,w,P,V,K,Z,se,ue,te,ne){if(a.timeoutHandle=-1,ue=l.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(wh={stylesheets:null,count:0,unsuspend:YH},w1(l),ue=QH(),ue!==null)){a.cancelPendingCommit=ue(V1.bind(null,a,l,w,d,g,T,P,V,K,se,1,te,ne)),sa(a,w,P,!Z);return}V1(a,l,w,d,g,T,P,V,K)}function pH(a){for(var l=a;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var T=d[g],w=T.getSnapshot;T=T.value;try{if(!Lr(w(),T))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function sa(a,l,d,g){l&=~nE,l&=~Vl,a.suspendedLanes|=l,a.pingedLanes&=~l,g&&(a.warmLanes|=l),g=a.expirationTimes;for(var T=l;0<T;){var w=31-nr(T),P=1<<w;g[w]=-1,T&=~P}d!==0&&Qi(a,d,l)}function Gg(){return(dt&6)===0?(gh(0),!1):!0}function lE(){if(je!==null){if(ht===0)var a=je.return;else a=je,Qo=Pl=null,AT(a),Tc=null,sh=0,a=je;for(;a!==null;)l1(a.alternate,a),a=a.return;je=null}}function xc(a,l){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,DH(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),lE(),It=a,je=d=jo(a.current,null),nt=l,ht=0,qr=null,na=!1,bc=ll(a,l),tE=!1,Ac=mi=nE=Vl=ra=jt=0,Ir=ph=null,rE=!1,(l&8)!==0&&(l|=l&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=l;0<g;){var T=31-nr(g),w=1<<T;l|=a[T],g&=~w}return os=l,hg(),d}function P1(a,l){Ke=null,ee.H=Dg,l===Qd||l===wg?(l=WR(),ht=3):l===HR?(l=WR(),ht=4):ht=l===jP?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,qr=l,je===null&&(jt=1,Lg(a,ci(l,a.current)))}function M1(){var a=ee.H;return ee.H=Dg,a===null?Dg:a}function D1(){var a=ee.A;return ee.A=dH,a}function uE(){jt=4,na||(nt&4194048)!==nt&&pi.current!==null||(bc=!0),(ra&134217727)===0&&(Vl&134217727)===0||It===null||sa(It,nt,mi,!1)}function cE(a,l,d){var g=dt;dt|=2;var T=M1(),w=D1();(It!==a||nt!==l)&&(Hg=null,xc(a,l)),l=!1;var P=jt;e:do try{if(ht!==0&&je!==null){var V=je,K=qr;switch(ht){case 8:lE(),P=6;break e;case 3:case 2:case 9:case 6:pi.current===null&&(l=!0);var Z=ht;if(ht=0,qr=null,Rc(a,V,K,Z),d&&bc){P=0;break e}break;default:Z=ht,ht=0,qr=null,Rc(a,V,K,Z)}}mH(),P=jt;break}catch(se){P1(a,se)}while(!0);return l&&a.shellSuspendCounter++,Qo=Pl=null,dt=g,ee.H=T,ee.A=w,je===null&&(It=null,nt=0,hg()),P}function mH(){for(;je!==null;)N1(je)}function gH(a,l){var d=dt;dt|=2;var g=M1(),T=D1();It!==a||nt!==l?(Hg=null,zg=an()+500,xc(a,l)):bc=ll(a,l);e:do try{if(ht!==0&&je!==null){l=je;var w=qr;t:switch(ht){case 1:ht=0,qr=null,Rc(a,l,w,1);break;case 2:case 9:if(GR(w)){ht=0,qr=null,k1(l);break}l=function(){ht!==2&&ht!==9||It!==a||(ht=7),ho(a)},w.then(l,l);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:GR(w)?(ht=0,qr=null,k1(l)):(ht=0,qr=null,Rc(a,l,w,7));break;case 5:var P=null;switch(je.tag){case 26:P=je.memoizedState;case 5:case 27:var V=je;if(!P||mM(P)){ht=0,qr=null;var K=V.sibling;if(K!==null)je=K;else{var Z=V.return;Z!==null?(je=Z,Kg(Z)):je=null}break t}}ht=0,qr=null,Rc(a,l,w,5);break;case 6:ht=0,qr=null,Rc(a,l,w,6);break;case 8:lE(),jt=6;break e;default:throw Error(r(462))}}yH();break}catch(se){P1(a,se)}while(!0);return Qo=Pl=null,ee.H=g,ee.A=T,dt=d,je!==null?0:(It=null,nt=0,hg(),jt)}function yH(){for(;je!==null&&!yn();)N1(je)}function N1(a){var l=s1(a.alternate,a,os);a.memoizedProps=a.pendingProps,l===null?Kg(a):je=l}function k1(a){var l=a,d=l.alternate;switch(l.tag){case 15:case 0:l=e1(d,l,l.pendingProps,l.type,void 0,nt);break;case 11:l=e1(d,l,l.pendingProps,l.type.render,l.ref,nt);break;case 5:AT(l);default:l1(d,l),l=je=OR(l,os),l=s1(d,l,os)}a.memoizedProps=a.pendingProps,l===null?Kg(a):je=l}function Rc(a,l,d,g){Qo=Pl=null,AT(l),Tc=null,sh=0;var T=l.return;try{if(sH(a,T,l,d,nt)){jt=1,Lg(a,ci(d,a.current)),je=null;return}}catch(w){if(T!==null)throw je=T,w;jt=1,Lg(a,ci(d,a.current)),je=null;return}l.flags&32768?(at||g===1?a=!0:bc||(nt&536870912)!==0?a=!1:(na=a=!0,(g===2||g===9||g===3||g===6)&&(g=pi.current,g!==null&&g.tag===13&&(g.flags|=16384))),O1(l,a)):Kg(l)}function Kg(a){var l=a;do{if((l.flags&32768)!==0){O1(l,na);return}a=l.return;var d=lH(l.alternate,l,os);if(d!==null){je=d;return}if(l=l.sibling,l!==null){je=l;return}je=l=a}while(l!==null);jt===0&&(jt=5)}function O1(a,l){do{var d=uH(a.alternate,a);if(d!==null){d.flags&=32767,je=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(a=a.sibling,a!==null)){je=a;return}je=a=d}while(a!==null);jt=6,je=null}function V1(a,l,d,g,T,w,P,V,K){a.cancelPendingCommit=null;do Wg();while(Wn!==0);if((dt&6)!==0)throw Error(r(327));if(l!==null){if(l===a.current)throw Error(r(177));if(w=l.lanes|l.childLanes,w|=eT,Id(a,d,w,P,V,K),a===It&&(je=It=null,nt=0),Ic=l,oa=a,Cc=d,oE=w,sE=T,I1=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,EH(il,function(){return q1(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=ee.T,ee.T=null,T=pe.p,pe.p=2,P=dt,dt|=4;try{cH(a,l,d)}finally{dt=P,pe.p=T,ee.T=g}}Wn=1,L1(),U1(),F1()}}function L1(){if(Wn===1){Wn=0;var a=oa,l=Ic,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=ee.T,ee.T=null;var g=pe.p;pe.p=2;var T=dt;dt|=4;try{_1(l,a);var w=wE,P=AR(a.containerInfo),V=w.focusedElem,K=w.selectionRange;if(P!==V&&V&&V.ownerDocument&&bR(V.ownerDocument.documentElement,V)){if(K!==null&&Y0(V)){var Z=K.start,se=K.end;if(se===void 0&&(se=Z),"selectionStart"in V)V.selectionStart=Z,V.selectionEnd=Math.min(se,V.value.length);else{var ue=V.ownerDocument||document,te=ue&&ue.defaultView||window;if(te.getSelection){var ne=te.getSelection(),Fe=V.textContent.length,Oe=Math.min(K.start,Fe),wt=K.end===void 0?Oe:Math.min(K.end,Fe);!ne.extend&&Oe>wt&&(P=wt,wt=Oe,Oe=P);var Y=SR(V,Oe),j=SR(V,wt);if(Y&&j&&(ne.rangeCount!==1||ne.anchorNode!==Y.node||ne.anchorOffset!==Y.offset||ne.focusNode!==j.node||ne.focusOffset!==j.offset)){var X=ue.createRange();X.setStart(Y.node,Y.offset),ne.removeAllRanges(),Oe>wt?(ne.addRange(X),ne.extend(j.node,j.offset)):(X.setEnd(j.node,j.offset),ne.addRange(X))}}}}for(ue=[],ne=V;ne=ne.parentNode;)ne.nodeType===1&&ue.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<ue.length;V++){var le=ue[V];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}oy=!!EE,wE=EE=null}finally{dt=T,pe.p=g,ee.T=d}}a.current=l,Wn=2}}function U1(){if(Wn===2){Wn=0;var a=oa,l=Ic,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=ee.T,ee.T=null;var g=pe.p;pe.p=2;var T=dt;dt|=4;try{m1(a,l.alternate,l)}finally{dt=T,pe.p=g,ee.T=d}}Wn=3}}function F1(){if(Wn===4||Wn===3){Wn=0,Pn();var a=oa,l=Ic,d=Cc,g=I1;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Wn=5:(Wn=0,Ic=oa=null,B1(a,a.pendingLanes));var T=a.pendingLanes;if(T===0&&(ia=null),Ku(d),l=l.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Kt,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=ee.T,T=pe.p,pe.p=2,ee.T=null;try{for(var w=a.onRecoverableError,P=0;P<g.length;P++){var V=g[P];w(V.value,{componentStack:V.stack})}}finally{ee.T=l,pe.p=T}}(Cc&3)!==0&&Wg(),ho(a),T=a.pendingLanes,(d&4194090)!==0&&(T&42)!==0?a===aE?mh++:(mh=0,aE=a):mh=0,gh(0)}}function B1(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Yd(l)))}function Wg(a){return L1(),U1(),F1(),q1()}function q1(){if(Wn!==5)return!1;var a=oa,l=oE;oE=0;var d=Ku(Cc),g=ee.T,T=pe.p;try{pe.p=32>d?32:d,ee.T=null,d=sE,sE=null;var w=oa,P=Cc;if(Wn=0,Ic=oa=null,Cc=0,(dt&6)!==0)throw Error(r(331));var V=dt;if(dt|=4,b1(w.current),E1(w,w.current,P,d),dt=V,gh(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Kt,w)}catch{}return!0}finally{pe.p=T,ee.T=g,B1(a,l)}}function $1(a,l,d){l=ci(d,l),l=FT(a.stateNode,l,2),a=Ys(a,l,2),a!==null&&(Lo(a,2),ho(a))}function bt(a,l,d){if(a.tag===3)$1(a,a,d);else for(;l!==null;){if(l.tag===3){$1(l,a,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ia===null||!ia.has(g))){a=ci(d,a),d=KP(2),g=Ys(l,d,2),g!==null&&(WP(d,g,l,a),Lo(g,2),ho(g));break}}l=l.return}}function fE(a,l,d){var g=a.pingCache;if(g===null){g=a.pingCache=new hH;var T=new Set;g.set(l,T)}else T=g.get(l),T===void 0&&(T=new Set,g.set(l,T));T.has(d)||(tE=!0,T.add(d),a=vH.bind(null,a,l,d),l.then(a,a))}function vH(a,l,d){var g=a.pingCache;g!==null&&g.delete(l),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,It===a&&(nt&d)===d&&(jt===4||jt===3&&(nt&62914560)===nt&&300>an()-iE?(dt&2)===0&&xc(a,0):nE|=d,Ac===nt&&(Ac=0)),ho(a)}function z1(a,l){l===0&&(l=Ad()),a=cc(a,l),a!==null&&(Lo(a,l),ho(a))}function _H(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),z1(a,d)}function TH(a,l){var d=0;switch(a.tag){case 13:var g=a.stateNode,T=a.memoizedState;T!==null&&(d=T.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(l),z1(a,d)}function EH(a,l){return Gt(a,l)}var jg=null,Pc=null,dE=!1,Yg=!1,hE=!1,Ll=0;function ho(a){a!==Pc&&a.next===null&&(Pc===null?jg=Pc=a:Pc=Pc.next=a),Yg=!0,dE||(dE=!0,SH())}function gh(a,l){if(!hE&&Yg){hE=!0;do for(var d=!1,g=jg;g!==null;){if(a!==0){var T=g.pendingLanes;if(T===0)var w=0;else{var P=g.suspendedLanes,V=g.pingedLanes;w=(1<<31-nr(42|a)+1)-1,w&=T&~(P&~V),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(d=!0,W1(g,w))}else w=nt,w=Gu(g,g===It?w:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(w&3)===0||ll(g,w)||(d=!0,W1(g,w));g=g.next}while(d);hE=!1}}function wH(){H1()}function H1(){Yg=dE=!1;var a=0;Ll!==0&&(MH()&&(a=Ll),Ll=0);for(var l=an(),d=null,g=jg;g!==null;){var T=g.next,w=G1(g,l);w===0?(g.next=null,d===null?jg=T:d.next=T,T===null&&(Pc=d)):(d=g,(a!==0||(w&3)!==0)&&(Yg=!0)),g=T}gh(a)}function G1(a,l){for(var d=a.suspendedLanes,g=a.pingedLanes,T=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var P=31-nr(w),V=1<<P,K=T[P];K===-1?((V&d)===0||(V&g)!==0)&&(T[P]=Sd(V,l)):K<=l&&(a.expiredLanes|=V),w&=~V}if(l=It,d=nt,d=Gu(a,a===l?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,d===0||a===l&&(ht===2||ht===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&Ze(g),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||ll(a,d)){if(l=d&-d,l===a.callbackPriority)return l;switch(g!==null&&Ze(g),Ku(d)){case 2:case 8:d=zu;break;case 32:d=il;break;case 268435456:d=Hu;break;default:d=il}return g=K1.bind(null,a),d=Gt(d,g),a.callbackPriority=l,a.callbackNode=d,l}return g!==null&&g!==null&&Ze(g),a.callbackPriority=2,a.callbackNode=null,2}function K1(a,l){if(Wn!==0&&Wn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(Wg()&&a.callbackNode!==d)return null;var g=nt;return g=Gu(a,a===It?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(x1(a,g,l),G1(a,an()),a.callbackNode!=null&&a.callbackNode===d?K1.bind(null,a):null)}function W1(a,l){if(Wg())return null;x1(a,l,!0)}function SH(){NH(function(){(dt&6)!==0?Gt(Ed,wH):H1()})}function pE(){return Ll===0&&(Ll=bd()),Ll}function j1(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Xu(""+a)}function Y1(a,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,a.id&&d.setAttribute("form",a.id),l.parentNode.insertBefore(d,l),a=new FormData(a),d.parentNode.removeChild(d),a}function bH(a,l,d,g,T){if(l==="submit"&&d&&d.stateNode===T){var w=j1((T[ln]||null).action),P=g.submitter;P&&(l=(l=P[ln]||null)?j1(l.formAction):P.getAttribute("formAction"),l!==null&&(w=l,P=null));var V=new Zu("action","action",null,g,T);a.push({event:V,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Ll!==0){var K=P?Y1(T,P):new FormData(T);kT(d,{pending:!0,data:K,method:T.method,action:w},null,K)}}else typeof w=="function"&&(V.preventDefault(),K=P?Y1(T,P):new FormData(T),kT(d,{pending:!0,data:K,method:T.method,action:w},w,K))},currentTarget:T}]})}}for(var mE=0;mE<Z0.length;mE++){var gE=Z0[mE],AH=gE.toLowerCase(),IH=gE[0].toUpperCase()+gE.slice(1);ki(AH,"on"+IH)}ki(xR,"onAnimationEnd"),ki(RR,"onAnimationIteration"),ki(PR,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(zz,"onTransitionRun"),ki(Hz,"onTransitionStart"),ki(Gz,"onTransitionCancel"),ki(MR,"onTransitionEnd"),Fo("onMouseEnter",["mouseout","mouseover"]),Fo("onMouseLeave",["mouseout","mouseover"]),Fo("onPointerEnter",["pointerout","pointerover"]),Fo("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CH=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yh));function J1(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var g=a[d],T=g.event;g=g.listeners;e:{var w=void 0;if(l)for(var P=g.length-1;0<=P;P--){var V=g[P],K=V.instance,Z=V.currentTarget;if(V=V.listener,K!==w&&T.isPropagationStopped())break e;w=V,T.currentTarget=Z;try{w(T)}catch(se){Vg(se)}T.currentTarget=null,w=K}else for(P=0;P<g.length;P++){if(V=g[P],K=V.instance,Z=V.currentTarget,V=V.listener,K!==w&&T.isPropagationStopped())break e;w=V,T.currentTarget=Z;try{w(T)}catch(se){Vg(se)}T.currentTarget=null,w=K}}}}function Ye(a,l){var d=l[xd];d===void 0&&(d=l[xd]=new Set);var g=a+"__bubble";d.has(g)||(Q1(l,a,2,!1),d.add(g))}function yE(a,l,d){var g=0;l&&(g|=4),Q1(d,a,g,l)}var Jg="_reactListening"+Math.random().toString(36).slice(2);function vE(a){if(!a[Jg]){a[Jg]=!0,Rd.forEach(function(d){d!=="selectionchange"&&(CH.has(d)||yE(d,!1,a),yE(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Jg]||(l[Jg]=!0,yE("selectionchange",!1,l))}}function Q1(a,l,d,g){switch(EM(l)){case 2:var T=eG;break;case 8:T=tG;break;default:T=DE}d=T.bind(null,l,d,a),T=void 0,!li||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(T=!0),g?T!==void 0?a.addEventListener(l,d,{capture:!0,passive:T}):a.addEventListener(l,d,!0):T!==void 0?a.addEventListener(l,d,{passive:T}):a.addEventListener(l,d,!1)}function _E(a,l,d,g,T){var w=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var P=g.tag;if(P===3||P===4){var V=g.stateNode.containerInfo;if(V===T)break;if(P===4)for(P=g.return;P!==null;){var K=P.tag;if((K===3||K===4)&&P.stateNode.containerInfo===T)return;P=P.return}for(;V!==null;){if(P=Uo(V),P===null)return;if(K=P.tag,K===5||K===6||K===26||K===27){g=w=P;continue e}V=V.parentNode}}g=g.return}Xm(function(){var Z=w,se=ai(d),ue=[];e:{var te=DR.get(a);if(te!==void 0){var ne=Zu,Fe=a;switch(a){case"keypress":if(ro(d)===0)break e;case"keydown":case"keyup":ne=oc;break;case"focusin":Fe="focus",ne=nc;break;case"focusout":Fe="blur",ne=nc;break;case"beforeblur":case"afterblur":ne=nc;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=ui;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=G0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=sg;break;case xR:case RR:case PR:ne=rc;break;case MR:ne=lg;break;case"scroll":case"scrollend":ne=Zm;break;case"wheel":ne=sc;break;case"copy":case"cut":case"paste":ne=ic;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=qd;break;case"toggle":case"beforetoggle":ne=cg}var Oe=(l&4)!==0,wt=!Oe&&(a==="scroll"||a==="scrollend"),Y=Oe?te!==null?te+"Capture":null:te;Oe=[];for(var j=Z,X;j!==null;){var le=j;if(X=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||X===null||Y===null||(le=gl(j,Y),le!=null&&Oe.push(vh(j,le,X))),wt)break;j=j.return}0<Oe.length&&(te=new ne(te,Fe,null,d,se),ue.push({event:te,listeners:Oe}))}}if((l&7)===0){e:{if(te=a==="mouseover"||a==="pointerover",ne=a==="mouseout"||a==="pointerout",te&&d!==$o&&(Fe=d.relatedTarget||d.fromElement)&&(Uo(Fe)||Fe[oi]))break e;if((ne||te)&&(te=se.window===se?se:(te=se.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(Fe=d.relatedTarget||d.toElement,ne=Z,Fe=Fe?Uo(Fe):null,Fe!==null&&(wt=o(Fe),Oe=Fe.tag,Fe!==wt||Oe!==5&&Oe!==27&&Oe!==6)&&(Fe=null)):(ne=null,Fe=Z),ne!==Fe)){if(Oe=ui,le="onMouseLeave",Y="onMouseEnter",j="mouse",(a==="pointerout"||a==="pointerover")&&(Oe=qd,le="onPointerLeave",Y="onPointerEnter",j="pointer"),wt=ne==null?te:Zi(ne),X=Fe==null?te:Zi(Fe),te=new Oe(le,j+"leave",ne,d,se),te.target=wt,te.relatedTarget=X,le=null,Uo(se)===Z&&(Oe=new Oe(Y,j+"enter",Fe,d,se),Oe.target=X,Oe.relatedTarget=wt,le=Oe),wt=le,ne&&Fe)t:{for(Oe=ne,Y=Fe,j=0,X=Oe;X;X=Mc(X))j++;for(X=0,le=Y;le;le=Mc(le))X++;for(;0<j-X;)Oe=Mc(Oe),j--;for(;0<X-j;)Y=Mc(Y),X--;for(;j--;){if(Oe===Y||Y!==null&&Oe===Y.alternate)break t;Oe=Mc(Oe),Y=Mc(Y)}Oe=null}else Oe=null;ne!==null&&X1(ue,te,ne,Oe,!1),Fe!==null&&wt!==null&&X1(ue,wt,Fe,Oe,!0)}}e:{if(te=Z?Zi(Z):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Ae=yR;else if(Tn(te))if(vR)Ae=Bz;else{Ae=Uz;var We=Lz}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?Z&&kd(Z.elementType)&&(Ae=yR):Ae=Fz;if(Ae&&(Ae=Ae(a,Z))){Wo(ue,Ae,d,se);break e}We&&We(a,te,Z),a==="focusout"&&Z&&te.type==="number"&&Z.memoizedProps.value!=null&&Hs(te,"number",te.value)}switch(We=Z?Zi(Z):window,a){case"focusin":(Tn(We)||We.contentEditable==="true")&&(ac=We,J0=Z,Hd=null);break;case"focusout":Hd=J0=ac=null;break;case"mousedown":Q0=!0;break;case"contextmenu":case"mouseup":case"dragend":Q0=!1,IR(ue,d,se);break;case"selectionchange":if($z)break;case"keydown":case"keyup":IR(ue,d,se)}var Me;if(so)e:{switch(a){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else et?ie(a,d)&&(Ve="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Ve="onCompositionStart");Ve&&(x&&d.locale!=="ko"&&(et||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&et&&(Me=Vd()):(no=se,Gs="value"in no?no.value:no.textContent,et=!0)),We=Qg(Z,Ve),0<We.length&&(Ve=new Fd(Ve,a,null,d,se),ue.push({event:Ve,listeners:We}),Me?Ve.data=Me:(Me=ye(d),Me!==null&&(Ve.data=Me)))),(Me=A?_n(a,d):tt(a,d))&&(Ve=Qg(Z,"onBeforeInput"),0<Ve.length&&(We=new Fd("onBeforeInput","beforeinput",null,d,se),ue.push({event:We,listeners:Ve}),We.data=Me)),bH(ue,a,Z,d,se)}J1(ue,l)})}function vh(a,l,d){return{instance:a,listener:l,currentTarget:d}}function Qg(a,l){for(var d=l+"Capture",g=[];a!==null;){var T=a,w=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||w===null||(T=gl(a,d),T!=null&&g.unshift(vh(a,T,w)),T=gl(a,l),T!=null&&g.push(vh(a,T,w))),a.tag===3)return g;a=a.return}return[]}function Mc(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function X1(a,l,d,g,T){for(var w=l._reactName,P=[];d!==null&&d!==g;){var V=d,K=V.alternate,Z=V.stateNode;if(V=V.tag,K!==null&&K===g)break;V!==5&&V!==26&&V!==27||Z===null||(K=Z,T?(Z=gl(d,w),Z!=null&&P.unshift(vh(d,Z,K))):T||(Z=gl(d,w),Z!=null&&P.push(vh(d,Z,K)))),d=d.return}P.length!==0&&a.push({event:l,listeners:P})}var xH=/\r\n?/g,RH=/\u0000|\uFFFD/g;function Z1(a){return(typeof a=="string"?a:""+a).replace(xH,`
`).replace(RH,"")}function eM(a,l){return l=Z1(l),Z1(a)===l}function Xg(){}function Et(a,l,d,g,T,w){switch(d){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||si(a,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&si(a,""+g);break;case"className":eo(a,"class",g);break;case"tabIndex":eo(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":eo(a,d,g);break;case"style":Nd(a,g,w);break;case"data":if(l!=="object"){eo(a,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||d!=="href")){a.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=Xu(""+g),a.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(d==="formAction"?(l!=="input"&&Et(a,l,"name",T.name,T,null),Et(a,l,"formEncType",T.formEncType,T,null),Et(a,l,"formMethod",T.formMethod,T,null),Et(a,l,"formTarget",T.formTarget,T,null)):(Et(a,l,"encType",T.encType,T,null),Et(a,l,"method",T.method,T,null),Et(a,l,"target",T.target,T,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=Xu(""+g),a.setAttribute(d,g);break;case"onClick":g!=null&&(a.onclick=Xg);break;case"onScroll":g!=null&&Ye("scroll",a);break;case"onScrollEnd":g!=null&&Ye("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(d=g.__html,d!=null){if(T.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}d=Xu(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""+g):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":g===!0?a.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,g):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(d,g):a.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(d):a.setAttribute(d,g);break;case"popover":Ye("beforetoggle",a),Ye("toggle",a),zs(a,"popover",g);break;case"xlinkActuate":Hn(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Hn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Hn(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Hn(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Hn(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Hn(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Hn(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Hn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Hn(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":zs(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=z0.get(d)||d,zs(a,d,g))}}function TE(a,l,d,g,T,w){switch(d){case"style":Nd(a,g,w);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(d=g.__html,d!=null){if(T.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"children":typeof g=="string"?si(a,g):(typeof g=="number"||typeof g=="bigint")&&si(a,""+g);break;case"onScroll":g!=null&&Ye("scroll",a);break;case"onScrollEnd":g!=null&&Ye("scrollend",a);break;case"onClick":g!=null&&(a.onclick=Xg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wu.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(T=d.endsWith("Capture"),l=d.slice(2,T?d.length-7:void 0),w=a[ln]||null,w=w!=null?w[d]:null,typeof w=="function"&&a.removeEventListener(l,w,T),typeof g=="function")){typeof w!="function"&&w!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(l,g,T);break e}d in a?a[d]=g:g===!0?a.setAttribute(d,""):zs(a,d,g)}}}function jn(a,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",a),Ye("load",a);var g=!1,T=!1,w;for(w in d)if(d.hasOwnProperty(w)){var P=d[w];if(P!=null)switch(w){case"src":g=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Et(a,l,w,P,d,null)}}T&&Et(a,l,"srcSet",d.srcSet,d,null),g&&Et(a,l,"src",d.src,d,null);return;case"input":Ye("invalid",a);var V=w=P=T=null,K=null,Z=null;for(g in d)if(d.hasOwnProperty(g)){var se=d[g];if(se!=null)switch(g){case"name":T=se;break;case"type":P=se;break;case"checked":K=se;break;case"defaultChecked":Z=se;break;case"value":w=se;break;case"defaultValue":V=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,l));break;default:Et(a,l,g,se,d,null)}}hl(a,w,V,K,Z,P,T,!1),Qu(a);return;case"select":Ye("invalid",a),g=P=w=null;for(T in d)if(d.hasOwnProperty(T)&&(V=d[T],V!=null))switch(T){case"value":w=V;break;case"defaultValue":P=V;break;case"multiple":g=V;default:Et(a,l,T,V,d,null)}l=w,d=P,a.multiple=!!g,l!=null?qo(a,!!g,l,!1):d!=null&&qo(a,!!g,d,!0);return;case"textarea":Ye("invalid",a),w=T=g=null;for(P in d)if(d.hasOwnProperty(P)&&(V=d[P],V!=null))switch(P){case"value":g=V;break;case"defaultValue":T=V;break;case"children":w=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(91));break;default:Et(a,l,P,V,d,null)}pl(a,g,T,w),Qu(a);return;case"option":for(K in d)if(d.hasOwnProperty(K)&&(g=d[K],g!=null))switch(K){case"selected":a.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Et(a,l,K,g,d,null)}return;case"dialog":Ye("beforetoggle",a),Ye("toggle",a),Ye("cancel",a),Ye("close",a);break;case"iframe":case"object":Ye("load",a);break;case"video":case"audio":for(g=0;g<yh.length;g++)Ye(yh[g],a);break;case"image":Ye("error",a),Ye("load",a);break;case"details":Ye("toggle",a);break;case"embed":case"source":case"link":Ye("error",a),Ye("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in d)if(d.hasOwnProperty(Z)&&(g=d[Z],g!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Et(a,l,Z,g,d,null)}return;default:if(kd(l)){for(se in d)d.hasOwnProperty(se)&&(g=d[se],g!==void 0&&TE(a,l,se,g,d,void 0));return}}for(V in d)d.hasOwnProperty(V)&&(g=d[V],g!=null&&Et(a,l,V,g,d,null))}function PH(a,l,d,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,w=null,P=null,V=null,K=null,Z=null,se=null;for(ne in d){var ue=d[ne];if(d.hasOwnProperty(ne)&&ue!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":K=ue;default:g.hasOwnProperty(ne)||Et(a,l,ne,null,g,ue)}}for(var te in g){var ne=g[te];if(ue=d[te],g.hasOwnProperty(te)&&(ne!=null||ue!=null))switch(te){case"type":w=ne;break;case"name":T=ne;break;case"checked":Z=ne;break;case"defaultChecked":se=ne;break;case"value":P=ne;break;case"defaultValue":V=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,l));break;default:ne!==ue&&Et(a,l,te,ne,g,ue)}}Vr(a,P,V,K,Z,se,w,T);return;case"select":ne=P=V=te=null;for(w in d)if(K=d[w],d.hasOwnProperty(w)&&K!=null)switch(w){case"value":break;case"multiple":ne=K;default:g.hasOwnProperty(w)||Et(a,l,w,null,g,K)}for(T in g)if(w=g[T],K=d[T],g.hasOwnProperty(T)&&(w!=null||K!=null))switch(T){case"value":te=w;break;case"defaultValue":V=w;break;case"multiple":P=w;default:w!==K&&Et(a,l,T,w,g,K)}l=V,d=P,g=ne,te!=null?qo(a,!!d,te,!1):!!g!=!!d&&(l!=null?qo(a,!!d,l,!0):qo(a,!!d,d?[]:"",!1));return;case"textarea":ne=te=null;for(V in d)if(T=d[V],d.hasOwnProperty(V)&&T!=null&&!g.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:Et(a,l,V,null,g,T)}for(P in g)if(T=g[P],w=d[P],g.hasOwnProperty(P)&&(T!=null||w!=null))switch(P){case"value":te=T;break;case"defaultValue":ne=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:T!==w&&Et(a,l,P,T,g,w)}_t(a,te,ne);return;case"option":for(var Fe in d)if(te=d[Fe],d.hasOwnProperty(Fe)&&te!=null&&!g.hasOwnProperty(Fe))switch(Fe){case"selected":a.selected=!1;break;default:Et(a,l,Fe,null,g,te)}for(K in g)if(te=g[K],ne=d[K],g.hasOwnProperty(K)&&te!==ne&&(te!=null||ne!=null))switch(K){case"selected":a.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Et(a,l,K,te,g,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in d)te=d[Oe],d.hasOwnProperty(Oe)&&te!=null&&!g.hasOwnProperty(Oe)&&Et(a,l,Oe,null,g,te);for(Z in g)if(te=g[Z],ne=d[Z],g.hasOwnProperty(Z)&&te!==ne&&(te!=null||ne!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,l));break;default:Et(a,l,Z,te,g,ne)}return;default:if(kd(l)){for(var wt in d)te=d[wt],d.hasOwnProperty(wt)&&te!==void 0&&!g.hasOwnProperty(wt)&&TE(a,l,wt,void 0,g,te);for(se in g)te=g[se],ne=d[se],!g.hasOwnProperty(se)||te===ne||te===void 0&&ne===void 0||TE(a,l,se,te,g,ne);return}}for(var Y in d)te=d[Y],d.hasOwnProperty(Y)&&te!=null&&!g.hasOwnProperty(Y)&&Et(a,l,Y,null,g,te);for(ue in g)te=g[ue],ne=d[ue],!g.hasOwnProperty(ue)||te===ne||te==null&&ne==null||Et(a,l,ue,te,g,ne)}var EE=null,wE=null;function Zg(a){return a.nodeType===9?a:a.ownerDocument}function tM(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nM(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function SE(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var bE=null;function MH(){var a=window.event;return a&&a.type==="popstate"?a===bE?!1:(bE=a,!0):(bE=null,!1)}var rM=typeof setTimeout=="function"?setTimeout:void 0,DH=typeof clearTimeout=="function"?clearTimeout:void 0,iM=typeof Promise=="function"?Promise:void 0,NH=typeof queueMicrotask=="function"?queueMicrotask:typeof iM<"u"?function(a){return iM.resolve(null).then(a).catch(kH)}:rM;function kH(a){setTimeout(function(){throw a})}function aa(a){return a==="head"}function oM(a,l){var d=l,g=0,T=0;do{var w=d.nextSibling;if(a.removeChild(d),w&&w.nodeType===8)if(d=w.data,d==="/$"){if(0<g&&8>g){d=g;var P=a.ownerDocument;if(d&1&&_h(P.documentElement),d&2&&_h(P.body),d&4)for(d=P.head,_h(d),P=d.firstChild;P;){var V=P.nextSibling,K=P.nodeName;P[ul]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&P.rel.toLowerCase()==="stylesheet"||d.removeChild(P),P=V}}if(T===0){a.removeChild(w),Ch(l);return}T--}else d==="$"||d==="$?"||d==="$!"?T++:g=d.charCodeAt(0)-48;else g=0;d=w}while(d);Ch(l)}function AE(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":AE(d),$s(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function OH(a,l,d,g){for(;a.nodeType===1;){var T=d;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[ul])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==T.rel||a.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||a.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||a.getAttribute("title")!==(T.title==null?null:T.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(T.src==null?null:T.src)||a.getAttribute("type")!==(T.type==null?null:T.type)||a.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var w=T.name==null?null:""+T.name;if(T.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=Vi(a.nextSibling),a===null)break}return null}function VH(a,l,d){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=Vi(a.nextSibling),a===null))return null;return a}function IE(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function LH(a,l){var d=a.ownerDocument;if(a.data!=="$?"||d.readyState==="complete")l();else{var g=function(){l(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function Vi(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var CE=null;function sM(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return a;l--}else d==="/$"&&l++}a=a.previousSibling}return null}function aM(a,l,d){switch(l=Zg(d),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function _h(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);$s(a)}var gi=new Map,lM=new Set;function ey(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ss=pe.d;pe.d={f:UH,r:FH,D:BH,C:qH,L:$H,m:zH,X:GH,S:HH,M:KH};function UH(){var a=ss.f(),l=Gg();return a||l}function FH(a){var l=Xi(a);l!==null&&l.tag===5&&l.type==="form"?xP(l):ss.r(a)}var Dc=typeof document>"u"?null:document;function uM(a,l,d){var g=Dc;if(g&&typeof l=="string"&&l){var T=un(l);T='link[rel="'+a+'"][href="'+T+'"]',typeof d=="string"&&(T+='[crossorigin="'+d+'"]'),lM.has(T)||(lM.add(T),a={rel:a,crossOrigin:d,href:l},g.querySelector(T)===null&&(l=g.createElement("link"),jn(l,"link",a),Zt(l),g.head.appendChild(l)))}}function BH(a){ss.D(a),uM("dns-prefetch",a,null)}function qH(a,l){ss.C(a,l),uM("preconnect",a,l)}function $H(a,l,d){ss.L(a,l,d);var g=Dc;if(g&&a&&l){var T='link[rel="preload"][as="'+un(l)+'"]';l==="image"&&d&&d.imageSrcSet?(T+='[imagesrcset="'+un(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(T+='[imagesizes="'+un(d.imageSizes)+'"]')):T+='[href="'+un(a)+'"]';var w=T;switch(l){case"style":w=Nc(a);break;case"script":w=kc(a)}gi.has(w)||(a=h({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:a,as:l},d),gi.set(w,a),g.querySelector(T)!==null||l==="style"&&g.querySelector(Th(w))||l==="script"&&g.querySelector(Eh(w))||(l=g.createElement("link"),jn(l,"link",a),Zt(l),g.head.appendChild(l)))}}function zH(a,l){ss.m(a,l);var d=Dc;if(d&&a){var g=l&&typeof l.as=="string"?l.as:"script",T='link[rel="modulepreload"][as="'+un(g)+'"][href="'+un(a)+'"]',w=T;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=kc(a)}if(!gi.has(w)&&(a=h({rel:"modulepreload",href:a},l),gi.set(w,a),d.querySelector(T)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Eh(w)))return}g=d.createElement("link"),jn(g,"link",a),Zt(g),d.head.appendChild(g)}}}function HH(a,l,d){ss.S(a,l,d);var g=Dc;if(g&&a){var T=hr(g).hoistableStyles,w=Nc(a);l=l||"default";var P=T.get(w);if(!P){var V={loading:0,preload:null};if(P=g.querySelector(Th(w)))V.loading=5;else{a=h({rel:"stylesheet",href:a,"data-precedence":l},d),(d=gi.get(w))&&xE(a,d);var K=P=g.createElement("link");Zt(K),jn(K,"link",a),K._p=new Promise(function(Z,se){K.onload=Z,K.onerror=se}),K.addEventListener("load",function(){V.loading|=1}),K.addEventListener("error",function(){V.loading|=2}),V.loading|=4,ty(P,l,g)}P={type:"stylesheet",instance:P,count:1,state:V},T.set(w,P)}}}function GH(a,l){ss.X(a,l);var d=Dc;if(d&&a){var g=hr(d).hoistableScripts,T=kc(a),w=g.get(T);w||(w=d.querySelector(Eh(T)),w||(a=h({src:a,async:!0},l),(l=gi.get(T))&&RE(a,l),w=d.createElement("script"),Zt(w),jn(w,"link",a),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(T,w))}}function KH(a,l){ss.M(a,l);var d=Dc;if(d&&a){var g=hr(d).hoistableScripts,T=kc(a),w=g.get(T);w||(w=d.querySelector(Eh(T)),w||(a=h({src:a,async:!0,type:"module"},l),(l=gi.get(T))&&RE(a,l),w=d.createElement("script"),Zt(w),jn(w,"link",a),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(T,w))}}function cM(a,l,d,g){var T=(T=Ue.current)?ey(T):null;if(!T)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Nc(d.href),d=hr(T).hoistableStyles,g=d.get(l),g||(g={type:"style",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=Nc(d.href);var w=hr(T).hoistableStyles,P=w.get(a);if(P||(T=T.ownerDocument||T,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,P),(w=T.querySelector(Th(a)))&&!w._p&&(P.instance=w,P.state.loading=5),gi.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},gi.set(a,d),w||WH(T,a,d,P.state))),l&&g===null)throw Error(r(528,""));return P}if(l&&g!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=kc(d),d=hr(T).hoistableScripts,g=d.get(l),g||(g={type:"script",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Nc(a){return'href="'+un(a)+'"'}function Th(a){return'link[rel="stylesheet"]['+a+"]"}function fM(a){return h({},a,{"data-precedence":a.precedence,precedence:null})}function WH(a,l,d,g){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=a.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),jn(l,"link",d),Zt(l),a.head.appendChild(l))}function kc(a){return'[src="'+un(a)+'"]'}function Eh(a){return"script[async]"+a}function dM(a,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var g=a.querySelector('style[data-href~="'+un(d.href)+'"]');if(g)return l.instance=g,Zt(g),g;var T=h({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),Zt(g),jn(g,"style",T),ty(g,d.precedence,a),l.instance=g;case"stylesheet":T=Nc(d.href);var w=a.querySelector(Th(T));if(w)return l.state.loading|=4,l.instance=w,Zt(w),w;g=fM(d),(T=gi.get(T))&&xE(g,T),w=(a.ownerDocument||a).createElement("link"),Zt(w);var P=w;return P._p=new Promise(function(V,K){P.onload=V,P.onerror=K}),jn(w,"link",g),l.state.loading|=4,ty(w,d.precedence,a),l.instance=w;case"script":return w=kc(d.src),(T=a.querySelector(Eh(w)))?(l.instance=T,Zt(T),T):(g=d,(T=gi.get(w))&&(g=h({},d),RE(g,T)),a=a.ownerDocument||a,T=a.createElement("script"),Zt(T),jn(T,"link",g),a.head.appendChild(T),l.instance=T);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,ty(g,d.precedence,a));return l.instance}function ty(a,l,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=g.length?g[g.length-1]:null,w=T,P=0;P<g.length;P++){var V=g[P];if(V.dataset.precedence===l)w=V;else if(w!==T)break}w?w.parentNode.insertBefore(a,w.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(a,l.firstChild))}function xE(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function RE(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var ny=null;function hM(a,l,d){if(ny===null){var g=new Map,T=ny=new Map;T.set(d,g)}else T=ny,g=T.get(d),g||(g=new Map,T.set(d,g));if(g.has(a))return g;for(g.set(a,null),d=d.getElementsByTagName(a),T=0;T<d.length;T++){var w=d[T];if(!(w[ul]||w[vn]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var P=w.getAttribute(l)||"";P=a+P;var V=g.get(P);V?V.push(w):g.set(P,[w])}}return g}function pM(a,l,d){a=a.ownerDocument||a,a.head.insertBefore(d,l==="title"?a.querySelector("head > title"):null)}function jH(a,l,d){if(d===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function mM(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var wh=null;function YH(){}function JH(a,l,d){if(wh===null)throw Error(r(475));var g=wh;if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var T=Nc(d.href),w=a.querySelector(Th(T));if(w){a=w._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(g.count++,g=ry.bind(g),a.then(g,g)),l.state.loading|=4,l.instance=w,Zt(w);return}w=a.ownerDocument||a,d=fM(d),(T=gi.get(T))&&xE(d,T),w=w.createElement("link"),Zt(w);var P=w;P._p=new Promise(function(V,K){P.onload=V,P.onerror=K}),jn(w,"link",d),l.instance=w}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(g.count++,l=ry.bind(g),a.addEventListener("load",l),a.addEventListener("error",l))}}function QH(){if(wh===null)throw Error(r(475));var a=wh;return a.stylesheets&&a.count===0&&PE(a,a.stylesheets),0<a.count?function(l){var d=setTimeout(function(){if(a.stylesheets&&PE(a,a.stylesheets),a.unsuspend){var g=a.unsuspend;a.unsuspend=null,g()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(d)}}:null}function ry(){if(this.count--,this.count===0){if(this.stylesheets)PE(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var iy=null;function PE(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,iy=new Map,l.forEach(XH,a),iy=null,ry.call(a))}function XH(a,l){if(!(l.state.loading&4)){var d=iy.get(a);if(d)var g=d.get(null);else{d=new Map,iy.set(a,d);for(var T=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<T.length;w++){var P=T[w];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(d.set(P.dataset.precedence,P),g=P)}g&&d.set(null,g)}T=l.instance,P=T.getAttribute("data-precedence"),w=d.get(P)||g,w===g&&d.set(null,T),d.set(P,T),this.count++,g=ry.bind(this),T.addEventListener("load",g),T.addEventListener("error",g),w?w.parentNode.insertBefore(T,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(T,a.firstChild)),l.state.loading|=4}}var Sh={$$typeof:C,Provider:null,Consumer:null,_currentValue:Se,_currentValue2:Se,_threadCount:0};function ZH(a,l,d,g,T,w,P,V){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vo(0),this.hiddenUpdates=Vo(null),this.identifierPrefix=g,this.onUncaughtError=T,this.onCaughtError=w,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function gM(a,l,d,g,T,w,P,V,K,Z,se,ue){return a=new ZH(a,l,d,P,V,K,Z,ue),l=1,w===!0&&(l|=24),w=Ur(3,null,null,l),a.current=w,w.stateNode=a,l=fT(),l.refCount++,a.pooledCache=l,l.refCount++,w.memoizedState={element:g,isDehydrated:d,cache:l},mT(w),a}function yM(a){return a?(a=fc,a):fc}function vM(a,l,d,g,T,w){T=yM(T),g.context===null?g.context=T:g.pendingContext=T,g=js(l),g.payload={element:d},w=w===void 0?null:w,w!==null&&(g.callback=w),d=Ys(a,g,l),d!==null&&(zr(d,a,l),Zd(d,a,l))}function _M(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function ME(a,l){_M(a,l),(a=a.alternate)&&_M(a,l)}function TM(a){if(a.tag===13){var l=cc(a,67108864);l!==null&&zr(l,a,67108864),ME(a,67108864)}}var oy=!0;function eG(a,l,d,g){var T=ee.T;ee.T=null;var w=pe.p;try{pe.p=2,DE(a,l,d,g)}finally{pe.p=w,ee.T=T}}function tG(a,l,d,g){var T=ee.T;ee.T=null;var w=pe.p;try{pe.p=8,DE(a,l,d,g)}finally{pe.p=w,ee.T=T}}function DE(a,l,d,g){if(oy){var T=NE(g);if(T===null)_E(a,l,g,sy,d),wM(a,g);else if(rG(T,a,l,d,g))g.stopPropagation();else if(wM(a,g),l&4&&-1<nG.indexOf(a)){for(;T!==null;){var w=Xi(T);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var P=Mi(w.pendingLanes);if(P!==0){var V=w;for(V.pendingLanes|=2,V.entangledLanes|=2;P;){var K=1<<31-nr(P);V.entanglements[1]|=K,P&=~K}ho(w),(dt&6)===0&&(zg=an()+500,gh(0))}}break;case 13:V=cc(w,2),V!==null&&zr(V,w,2),Gg(),ME(w,2)}if(w=NE(g),w===null&&_E(a,l,g,sy,d),w===T)break;T=w}T!==null&&g.stopPropagation()}else _E(a,l,g,null,d)}}function NE(a){return a=ai(a),kE(a)}var sy=null;function kE(a){if(sy=null,a=Uo(a),a!==null){var l=o(a);if(l===null)a=null;else{var d=l.tag;if(d===13){if(a=s(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return sy=a,null}function EM(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($u()){case Ed:return 2;case zu:return 8;case il:case U0:return 32;case Hu:return 268435456;default:return 32}default:return 32}}var OE=!1,la=null,ua=null,ca=null,bh=new Map,Ah=new Map,fa=[],nG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wM(a,l){switch(a){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":ca=null;break;case"pointerover":case"pointerout":bh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ah.delete(l.pointerId)}}function Ih(a,l,d,g,T,w){return a===null||a.nativeEvent!==w?(a={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:w,targetContainers:[T]},l!==null&&(l=Xi(l),l!==null&&TM(l)),a):(a.eventSystemFlags|=g,l=a.targetContainers,T!==null&&l.indexOf(T)===-1&&l.push(T),a)}function rG(a,l,d,g,T){switch(l){case"focusin":return la=Ih(la,a,l,d,g,T),!0;case"dragenter":return ua=Ih(ua,a,l,d,g,T),!0;case"mouseover":return ca=Ih(ca,a,l,d,g,T),!0;case"pointerover":var w=T.pointerId;return bh.set(w,Ih(bh.get(w)||null,a,l,d,g,T)),!0;case"gotpointercapture":return w=T.pointerId,Ah.set(w,Ih(Ah.get(w)||null,a,l,d,g,T)),!0}return!1}function SM(a){var l=Uo(a.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=s(d),l!==null){a.blockedOn=l,Gm(a.priority,function(){if(d.tag===13){var g=$r();g=Fs(g);var T=cc(d,g);T!==null&&zr(T,d,g),ME(d,g)}});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function ay(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=NE(a.nativeEvent);if(d===null){d=a.nativeEvent;var g=new d.constructor(d.type,d);$o=g,d.target.dispatchEvent(g),$o=null}else return l=Xi(d),l!==null&&TM(l),a.blockedOn=d,!1;l.shift()}return!0}function bM(a,l,d){ay(a)&&d.delete(l)}function iG(){OE=!1,la!==null&&ay(la)&&(la=null),ua!==null&&ay(ua)&&(ua=null),ca!==null&&ay(ca)&&(ca=null),bh.forEach(bM),Ah.forEach(bM)}function ly(a,l){a.blockedOn===l&&(a.blockedOn=null,OE||(OE=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,iG)))}var uy=null;function AM(a){uy!==a&&(uy=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){uy===a&&(uy=null);for(var l=0;l<a.length;l+=3){var d=a[l],g=a[l+1],T=a[l+2];if(typeof g!="function"){if(kE(g||d)===null)continue;break}var w=Xi(d);w!==null&&(a.splice(l,3),l-=3,kT(w,{pending:!0,data:T,method:d.method,action:g},g,T))}}))}function Ch(a){function l(K){return ly(K,a)}la!==null&&ly(la,a),ua!==null&&ly(ua,a),ca!==null&&ly(ca,a),bh.forEach(l),Ah.forEach(l);for(var d=0;d<fa.length;d++){var g=fa[d];g.blockedOn===a&&(g.blockedOn=null)}for(;0<fa.length&&(d=fa[0],d.blockedOn===null);)SM(d),d.blockedOn===null&&fa.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var T=d[g],w=d[g+1],P=T[ln]||null;if(typeof w=="function")P||AM(d);else if(P){var V=null;if(w&&w.hasAttribute("formAction")){if(T=w,P=w[ln]||null)V=P.formAction;else if(kE(T)!==null)continue}else V=P.action;typeof V=="function"?d[g+1]=V:(d.splice(g,3),g-=3),AM(d)}}}function VE(a){this._internalRoot=a}cy.prototype.render=VE.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,g=$r();vM(d,g,a,l,null,null)},cy.prototype.unmount=VE.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;vM(a.current,2,null,a,null,null),Gg(),l[oi]=null}};function cy(a){this._internalRoot=a}cy.prototype.unstable_scheduleHydration=function(a){if(a){var l=Bs();a={blockedOn:null,target:a,priority:l};for(var d=0;d<fa.length&&l!==0&&l<fa[d].priority;d++);fa.splice(d,0,a),d===0&&SM(a)}};var IM=e.version;if(IM!=="19.1.1")throw Error(r(527,IM,"19.1.1"));pe.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=c(l),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var oG={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fy.isDisabled&&fy.supportsFiber)try{Kt=fy.inject(oG),ft=fy}catch{}}return Rh.createRoot=function(a,l){if(!i(a))throw Error(r(299));var d=!1,g="",T=$P,w=zP,P=HP,V=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(T=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(P=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(V=l.unstable_transitionCallbacks)),l=gM(a,1,!1,null,null,d,g,T,w,P,V,null),a[oi]=l.current,vE(a),new VE(l)},Rh.hydrateRoot=function(a,l,d){if(!i(a))throw Error(r(299));var g=!1,T="",w=$P,P=zP,V=HP,K=null,Z=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onUncaughtError!==void 0&&(w=d.onUncaughtError),d.onCaughtError!==void 0&&(P=d.onCaughtError),d.onRecoverableError!==void 0&&(V=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(K=d.unstable_transitionCallbacks),d.formState!==void 0&&(Z=d.formState)),l=gM(a,1,!0,l,d??null,g,T,w,P,V,K,Z),l.context=yM(null),d=l.current,g=$r(),g=Fs(g),T=js(g),T.callback=null,Ys(d,T,g),d=g,l.current.lanes=d,Lo(l,d),ho(l),a[oi]=l.current,vE(a),new cy(l)},Rh.version="19.1.1",Rh}var VM;function vG(){if(VM)return BE.exports;VM=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),BE.exports=yG(),BE.exports}var _G=vG();const TG=Ki(_G);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var LM="popstate";function EG(t={}){function e(i,o){let{pathname:s="/",search:u="",hash:c=""}=xu(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),XS("",{pathname:s,search:u,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),u="";if(s&&s.getAttribute("href")){let c=i.location.href,f=c.indexOf("#");u=f===-1?c:c.slice(0,f)}return u+"#"+(typeof o=="string"?o:Sp(o))}function r(i,o){Ai(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return SG(e,n,r,t)}function qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ai(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wG(){return Math.random().toString(36).substring(2,10)}function UM(t,e){return{usr:t.state,key:t.key,idx:e}}function XS(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?xu(e):e,state:n,key:e&&e.key||r||wG()}}function Sp({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function xu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function SG(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,u="POP",c=null,f=h();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function h(){return(s.state||{idx:null}).idx}function y(){u="POP";let I=h(),R=I==null?null:I-f;f=I,c&&c({action:u,location:b.location,delta:R})}function v(I,R){u="PUSH";let D=XS(b.location,I,R);n&&n(D,I),f=h()+1;let C=UM(D,f),q=b.createHref(D);try{s.pushState(C,"",q)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(q)}o&&c&&c({action:u,location:b.location,delta:1})}function E(I,R){u="REPLACE";let D=XS(b.location,I,R);n&&n(D,I),f=h();let C=UM(D,f),q=b.createHref(D);s.replaceState(C,"",q),o&&c&&c({action:u,location:b.location,delta:0})}function S(I){return bG(I)}let b={get action(){return u},get location(){return t(i,s)},listen(I){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(LM,y),c=I,()=>{i.removeEventListener(LM,y),c=null}},createHref(I){return e(i,I)},createURL:S,encodeLocation(I){let R=S(I);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:v,replace:E,go(I){return s.go(I)}};return b}function bG(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),qt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Sp(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function dU(t,e,n="/"){return AG(t,e,n,!1)}function AG(t,e,n,r){let i=typeof e=="string"?xu(e):e,o=ys(i.pathname||"/",n);if(o==null)return null;let s=hU(t);IG(s);let u=null;for(let c=0;u==null&&c<s.length;++c){let f=LG(o);u=OG(s[c],f,r)}return u}function hU(t,e=[],n=[],r="",i=!1){let o=(s,u,c=i,f)=>{let h={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:u,route:s};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&c)return;qt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let y=hs([r,h.relativePath]),v=n.concat(h);s.children&&s.children.length>0&&(qt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),hU(s.children,e,v,y,c)),!(s.path==null&&!s.index)&&e.push({path:y,score:NG(y,s.index),routesMeta:v})};return t.forEach((s,u)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))o(s,u);else for(let f of pU(s.path))o(s,u,!0,f)}),e}function pU(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=pU(r.join("/")),u=[];return u.push(...s.map(c=>c===""?o:[o,c].join("/"))),i&&u.push(...s),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function IG(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:kG(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var CG=/^:[\w-]+$/,xG=3,RG=2,PG=1,MG=10,DG=-2,FM=t=>t==="*";function NG(t,e){let n=t.split("/"),r=n.length;return n.some(FM)&&(r+=DG),e&&(r+=RG),n.filter(i=>!FM(i)).reduce((i,o)=>i+(CG.test(o)?xG:o===""?PG:MG),r)}function kG(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function OG(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let u=0;u<r.length;++u){let c=r[u],f=u===r.length-1,h=o==="/"?e:e.slice(o.length)||"/",y=ov({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),v=c.route;if(!y&&f&&n&&!r[r.length-1].route.index&&(y=ov({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!y)return null;Object.assign(i,y.params),s.push({params:i,pathname:hs([o,y.pathname]),pathnameBase:qG(hs([o,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(o=hs([o,y.pathnameBase]))}return s}function ov(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=VG(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:h,isOptional:y},v)=>{if(h==="*"){let S=u[v]||"";s=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const E=u[v];return y&&!E?f[h]=void 0:f[h]=(E||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:s,pattern:t}}function VG(t,e=!1,n=!0){Ai(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function LG(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ai(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ys(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function UG(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?xu(t):t;return{pathname:n?n.startsWith("/")?n:FG(n,e):e,search:$G(r),hash:zG(i)}}function FG(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function HE(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BG(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $A(t){let e=BG(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function zA(t,e,n,r=!1){let i;typeof t=="string"?i=xu(t):(i={...t},qt(!i.pathname||!i.pathname.includes("?"),HE("?","pathname","search",i)),qt(!i.pathname||!i.pathname.includes("#"),HE("#","pathname","hash",i)),qt(!i.search||!i.search.includes("#"),HE("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,u;if(s==null)u=n;else{let y=e.length-1;if(!r&&s.startsWith("..")){let v=s.split("/");for(;v[0]==="..";)v.shift(),y-=1;i.pathname=v.join("/")}u=y>=0?e[y]:"/"}let c=UG(i,u),f=s&&s!=="/"&&s.endsWith("/"),h=(o||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}var hs=t=>t.join("/").replace(/\/\/+/g,"/"),qG=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$G=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,zG=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function HG(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var mU=["POST","PUT","PATCH","DELETE"];new Set(mU);var GG=["GET",...mU];new Set(GG);var Wf=M.createContext(null);Wf.displayName="DataRouter";var v_=M.createContext(null);v_.displayName="DataRouterState";M.createContext(!1);var gU=M.createContext({isTransitioning:!1});gU.displayName="ViewTransition";var KG=M.createContext(new Map);KG.displayName="Fetchers";var WG=M.createContext(null);WG.displayName="Await";var Wi=M.createContext(null);Wi.displayName="Navigation";var rm=M.createContext(null);rm.displayName="Location";var ji=M.createContext({outlet:null,matches:[],isDataRoute:!1});ji.displayName="Route";var HA=M.createContext(null);HA.displayName="RouteError";function jG(t,{relative:e}={}){qt(jf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=M.useContext(Wi),{hash:i,pathname:o,search:s}=im(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:hs([n,o])),r.createHref({pathname:u,search:s,hash:i})}function jf(){return M.useContext(rm)!=null}function Is(){return qt(jf(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(rm).location}var yU="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vU(t){M.useContext(Wi).static||M.useLayoutEffect(t)}function GA(){let{isDataRoute:t}=M.useContext(ji);return t?a9():YG()}function YG(){qt(jf(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(Wf),{basename:e,navigator:n}=M.useContext(Wi),{matches:r}=M.useContext(ji),{pathname:i}=Is(),o=JSON.stringify($A(r)),s=M.useRef(!1);return vU(()=>{s.current=!0}),M.useCallback((c,f={})=>{if(Ai(s.current,yU),!s.current)return;if(typeof c=="number"){n.go(c);return}let h=zA(c,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:hs([e,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[e,n,o,i,t])}M.createContext(null);function KA(){let{matches:t}=M.useContext(ji),e=t[t.length-1];return e?e.params:{}}function im(t,{relative:e}={}){let{matches:n}=M.useContext(ji),{pathname:r}=Is(),i=JSON.stringify($A(n));return M.useMemo(()=>zA(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function JG(t,e){return _U(t,e)}function _U(t,e,n,r,i){var D;qt(jf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=M.useContext(Wi),{matches:s}=M.useContext(ji),u=s[s.length-1],c=u?u.params:{},f=u?u.pathname:"/",h=u?u.pathnameBase:"/",y=u&&u.route;{let C=y&&y.path||"";TU(f,!y||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let v=Is(),E;if(e){let C=typeof e=="string"?xu(e):e;qt(h==="/"||((D=C.pathname)==null?void 0:D.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${C.pathname}" was given in the \`location\` prop.`),E=C}else E=v;let S=E.pathname||"/",b=S;if(h!=="/"){let C=h.replace(/^\//,"").split("/");b="/"+S.replace(/^\//,"").split("/").slice(C.length).join("/")}let I=dU(t,{pathname:b});Ai(y||I!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Ai(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=t9(I&&I.map(C=>Object.assign({},C,{params:Object.assign({},c,C.params),pathname:hs([h,o.encodeLocation?o.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?h:hs([h,o.encodeLocation?o.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r,i);return e&&R?M.createElement(rm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},R):R}function QG(){let t=s9(),e=HG(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=M.createElement(M.Fragment,null,M.createElement("p",null,"💿 Hey developer 👋"),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:o},"ErrorBoundary")," or"," ",M.createElement("code",{style:o},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,s)}var XG=M.createElement(QG,null),ZG=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?M.createElement(ji.Provider,{value:this.props.routeContext},M.createElement(HA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function e9({routeContext:t,match:e,children:n}){let r=M.useContext(Wf);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(ji.Provider,{value:t},n)}function t9(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,s=n==null?void 0:n.errors;if(s!=null){let f=o.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);qt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,c=-1;if(n)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:y,errors:v}=n,E=h.route.loader&&!y.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||E){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((f,h,y)=>{let v,E=!1,S=null,b=null;n&&(v=s&&h.route.id?s[h.route.id]:void 0,S=h.route.errorElement||XG,u&&(c<0&&y===0?(TU("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,b=null):c===y&&(E=!0,b=h.route.hydrateFallbackElement||null)));let I=e.concat(o.slice(0,y+1)),R=()=>{let D;return v?D=S:E?D=b:h.route.Component?D=M.createElement(h.route.Component,null):h.route.element?D=h.route.element:D=f,M.createElement(e9,{match:h,routeContext:{outlet:f,matches:I,isDataRoute:n!=null},children:D})};return n&&(h.route.ErrorBoundary||h.route.errorElement||y===0)?M.createElement(ZG,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:R(),routeContext:{outlet:null,matches:I,isDataRoute:!0},unstable_onError:r}):R()},null)}function WA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n9(t){let e=M.useContext(Wf);return qt(e,WA(t)),e}function r9(t){let e=M.useContext(v_);return qt(e,WA(t)),e}function i9(t){let e=M.useContext(ji);return qt(e,WA(t)),e}function jA(t){let e=i9(t),n=e.matches[e.matches.length-1];return qt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function o9(){return jA("useRouteId")}function s9(){var r;let t=M.useContext(HA),e=r9("useRouteError"),n=jA("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function a9(){let{router:t}=n9("useNavigate"),e=jA("useNavigate"),n=M.useRef(!1);return vU(()=>{n.current=!0}),M.useCallback(async(i,o={})=>{Ai(n.current,yU),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var BM={};function TU(t,e,n){!e&&!BM[t]&&(BM[t]=!0,Ai(!1,n))}M.memo(l9);function l9({routes:t,future:e,state:n,unstable_onError:r}){return _U(t,void 0,n,r,e)}function u9({to:t,replace:e,state:n,relative:r}){qt(jf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=M.useContext(Wi);Ai(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=M.useContext(ji),{pathname:s}=Is(),u=GA(),c=zA(t,$A(o),s,r==="path"),f=JSON.stringify(c);return M.useEffect(()=>{u(JSON.parse(f),{replace:e,state:n,relative:r})},[u,f,r,e,n]),null}function Sa(t){qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function c9({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){qt(!jf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=xu(n));let{pathname:c="/",search:f="",hash:h="",state:y=null,key:v="default"}=n,E=M.useMemo(()=>{let S=ys(c,s);return S==null?null:{location:{pathname:S,search:f,hash:h,state:y,key:v},navigationType:r}},[s,c,f,h,y,v,r]);return Ai(E!=null,`<Router basename="${s}"> is not able to match the URL "${c}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:M.createElement(Wi.Provider,{value:u},M.createElement(rm.Provider,{children:e,value:E}))}function EU({children:t,location:e}){return JG(ZS(t),e)}function ZS(t,e=[]){let n=[];return M.Children.forEach(t,(r,i)=>{if(!M.isValidElement(r))return;let o=[...e,i];if(r.type===M.Fragment){n.push.apply(n,ZS(r.props.children,o));return}qt(r.type===Sa,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=ZS(r.props.children,o)),n.push(s)}),n}var Uy="get",Fy="application/x-www-form-urlencoded";function __(t){return t!=null&&typeof t.tagName=="string"}function f9(t){return __(t)&&t.tagName.toLowerCase()==="button"}function d9(t){return __(t)&&t.tagName.toLowerCase()==="form"}function h9(t){return __(t)&&t.tagName.toLowerCase()==="input"}function p9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function m9(t,e){return t.button===0&&(!e||e==="_self")&&!p9(t)}var dy=null;function g9(){if(dy===null)try{new FormData(document.createElement("form"),0),dy=!1}catch{dy=!0}return dy}var y9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function GE(t){return t!=null&&!y9.has(t)?(Ai(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fy}"`),null):t}function v9(t,e){let n,r,i,o,s;if(d9(t)){let u=t.getAttribute("action");r=u?ys(u,e):null,n=t.getAttribute("method")||Uy,i=GE(t.getAttribute("enctype"))||Fy,o=new FormData(t)}else if(f9(t)||h9(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||u.getAttribute("action");if(r=c?ys(c,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Uy,i=GE(t.getAttribute("formenctype"))||GE(u.getAttribute("enctype"))||Fy,o=new FormData(u,t),!g9()){let{name:f,type:h,value:y}=t;if(h==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,y)}}else{if(__(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Uy,r=null,i=Fy,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function YA(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _9(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ys(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function T9(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function E9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function w9(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await T9(o,n);return s.links?s.links():[]}return[]}));return I9(r.flat(1).filter(E9).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function qM(t,e,n,r,i,o){let s=(c,f)=>n[f]?c.route.id!==n[f].route.id:!0,u=(c,f)=>{var h;return n[f].pathname!==c.pathname||((h=n[f].route.path)==null?void 0:h.endsWith("*"))&&n[f].params["*"]!==c.params["*"]};return o==="assets"?e.filter((c,f)=>s(c,f)||u(c,f)):o==="data"?e.filter((c,f)=>{var y;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(s(c,f)||u(c,f))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function S9(t,e,{includeHydrateFallback:n}={}){return b9(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function b9(t){return[...new Set(t)]}function A9(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function I9(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(A9(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function wU(){let t=M.useContext(Wf);return YA(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function C9(){let t=M.useContext(v_);return YA(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var JA=M.createContext(void 0);JA.displayName="FrameworkContext";function SU(){let t=M.useContext(JA);return YA(t,"You must render this element inside a <HydratedRouter> element"),t}function x9(t,e){let n=M.useContext(JA),[r,i]=M.useState(!1),[o,s]=M.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:f,onMouseLeave:h,onTouchStart:y}=e,v=M.useRef(null);M.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let b=R=>{R.forEach(D=>{s(D.isIntersecting)})},I=new IntersectionObserver(b,{threshold:.5});return v.current&&I.observe(v.current),()=>{I.disconnect()}}},[t]),M.useEffect(()=>{if(r){let b=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(b)}}},[r]);let E=()=>{i(!0)},S=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,v,{}]:[o,v,{onFocus:Ph(u,E),onBlur:Ph(c,S),onMouseEnter:Ph(f,E),onMouseLeave:Ph(h,S),onTouchStart:Ph(y,E)}]:[!1,v,{}]}function Ph(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function R9({page:t,...e}){let{router:n}=wU(),r=M.useMemo(()=>dU(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?M.createElement(M9,{page:t,matches:r,...e}):null}function P9(t){let{manifest:e,routeModules:n}=SU(),[r,i]=M.useState([]);return M.useEffect(()=>{let o=!1;return w9(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function M9({page:t,matches:e,...n}){let r=Is(),{manifest:i,routeModules:o}=SU(),{basename:s}=wU(),{loaderData:u,matches:c}=C9(),f=M.useMemo(()=>qM(t,e,c,i,r,"data"),[t,e,c,i,r]),h=M.useMemo(()=>qM(t,e,c,i,r,"assets"),[t,e,c,i,r]),y=M.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,b=!1;if(e.forEach(R=>{var C;let D=i.routes[R.route.id];!D||!D.hasLoader||(!f.some(q=>q.route.id===R.route.id)&&R.route.id in u&&((C=o[R.route.id])!=null&&C.shouldRevalidate)||D.hasClientLoader?b=!0:S.add(R.route.id))}),S.size===0)return[];let I=_9(t,s,"data");return b&&S.size>0&&I.searchParams.set("_routes",e.filter(R=>S.has(R.route.id)).map(R=>R.route.id).join(",")),[I.pathname+I.search]},[s,u,r,i,f,e,t,o]),v=M.useMemo(()=>S9(h,i),[h,i]),E=P9(h);return M.createElement(M.Fragment,null,y.map(S=>M.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),v.map(S=>M.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),E.map(({key:S,link:b})=>M.createElement("link",{key:S,nonce:n.nonce,...b})))}function D9(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var bU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bU&&(window.__reactRouterVersion="7.8.2")}catch{}function N9({basename:t,children:e,window:n}){let r=M.useRef();r.current==null&&(r.current=EG({window:n,v5Compat:!0}));let i=r.current,[o,s]=M.useState({action:i.action,location:i.location}),u=M.useCallback(c=>{M.startTransition(()=>s(c))},[s]);return M.useLayoutEffect(()=>i.listen(u),[i,u]),M.createElement(c9,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var AU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IU=M.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:u,target:c,to:f,preventScrollReset:h,viewTransition:y,...v},E){let{basename:S}=M.useContext(Wi),b=typeof f=="string"&&AU.test(f),I,R=!1;if(typeof f=="string"&&b&&(I=f,bU))try{let k=new URL(window.location.href),B=f.startsWith("//")?new URL(k.protocol+f):new URL(f),F=ys(B.pathname,S);B.origin===k.origin&&F!=null?f=F+B.search+B.hash:R=!0}catch{Ai(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=jG(f,{relative:i}),[C,q,L]=x9(r,v),G=L9(f,{replace:s,state:u,target:c,preventScrollReset:h,relative:i,viewTransition:y});function N(k){e&&e(k),k.defaultPrevented||G(k)}let O=M.createElement("a",{...v,...L,href:I||D,onClick:R||o?e:N,ref:D9(E,q),target:c,"data-discover":!b&&n==="render"?"true":void 0});return C&&!b?M.createElement(M.Fragment,null,O,M.createElement(R9,{page:D})):O});IU.displayName="Link";var k9=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:u,children:c,...f},h){let y=im(s,{relative:f.relative}),v=Is(),E=M.useContext(v_),{navigator:S,basename:b}=M.useContext(Wi),I=E!=null&&$9(y)&&u===!0,R=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,D=v.pathname,C=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(D=D.toLowerCase(),C=C?C.toLowerCase():null,R=R.toLowerCase()),C&&b&&(C=ys(C,b)||C);const q=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let L=D===R||!i&&D.startsWith(R)&&D.charAt(q)==="/",G=C!=null&&(C===R||!i&&C.startsWith(R)&&C.charAt(R.length)==="/"),N={isActive:L,isPending:G,isTransitioning:I},O=L?e:void 0,k;typeof r=="function"?k=r(N):k=[r,L?"active":null,G?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(N):o;return M.createElement(IU,{...f,"aria-current":O,className:k,ref:h,style:B,to:s,viewTransition:u},typeof c=="function"?c(N):c)});k9.displayName="NavLink";var O9=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=Uy,action:u,onSubmit:c,relative:f,preventScrollReset:h,viewTransition:y,...v},E)=>{let S=B9(),b=q9(u,{relative:f}),I=s.toLowerCase()==="get"?"get":"post",R=typeof u=="string"&&AU.test(u),D=C=>{if(c&&c(C),C.defaultPrevented)return;C.preventDefault();let q=C.nativeEvent.submitter,L=(q==null?void 0:q.getAttribute("formmethod"))||s;S(q||C.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:i,state:o,relative:f,preventScrollReset:h,viewTransition:y})};return M.createElement("form",{ref:E,method:I,action:b,onSubmit:r?c:D,...v,"data-discover":!R&&t==="render"?"true":void 0})});O9.displayName="Form";function V9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CU(t){let e=M.useContext(Wf);return qt(e,V9(t)),e}function L9(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let u=GA(),c=Is(),f=im(t,{relative:o});return M.useCallback(h=>{if(m9(h,e)){h.preventDefault();let y=n!==void 0?n:Sp(c)===Sp(f);u(t,{replace:y,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[c,u,f,n,r,e,t,i,o,s])}var U9=0,F9=()=>`__${String(++U9)}__`;function B9(){let{router:t}=CU("useSubmit"),{basename:e}=M.useContext(Wi),n=o9();return M.useCallback(async(r,i={})=>{let{action:o,method:s,encType:u,formData:c,body:f}=v9(r,e);if(i.navigate===!1){let h=i.fetcherKey||F9();await t.fetch(h,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||s,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||s,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function q9(t,{relative:e}={}){let{basename:n}=M.useContext(Wi),r=M.useContext(ji);qt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...im(t||".",{relative:e})},s=Is();if(t==null){o.search=s.search;let u=new URLSearchParams(o.search),c=u.getAll("index");if(c.some(h=>h==="")){u.delete("index"),c.filter(y=>y).forEach(y=>u.append("index",y));let h=u.toString();o.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:hs([n,o.pathname])),Sp(o)}function $9(t,{relative:e}={}){let n=M.useContext(gU);qt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=CU("useViewTransitionState"),i=im(t,{relative:e});if(!n.isTransitioning)return!1;let o=ys(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=ys(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ov(i.pathname,s)!=null||ov(i.pathname,o)!=null}var z9=fU();const H9=()=>{};var $M={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},G9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],u=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},RU={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,u=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=o>>2,y=(o&3)<<4|u>>4;let v=(u&15)<<2|f>>6,E=f&63;c||(E=64,s||(v=64)),r.push(n[h],n[y],n[v],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):G9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||f==null||y==null)throw new K9;const v=o<<2|u>>4;if(r.push(v),f!==64){const E=u<<4&240|f>>2;if(r.push(E),y!==64){const S=f<<6&192|y;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class K9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W9=function(t){const e=xU(t);return RU.encodeByteArray(e,!0)},sv=function(t){return W9(t).replace(/\./g,"")},QA=function(t){try{return RU.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function av(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!j9(n)||(t[n]=av(t[n],e[n]));return t}function j9(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=()=>XA().__FIREBASE_DEFAULTS__,J9=()=>{if(typeof process>"u"||typeof $M>"u")return;const t=$M.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Q9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&QA(t[1]);return e&&JSON.parse(e)},ZA=()=>{try{return H9()||Y9()||J9()||Q9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eI=()=>{var t;return(t=ZA())==null?void 0:t.config},X9=t=>{var e;return(e=ZA())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function PU(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[sv(JSON.stringify(n)),sv(JSON.stringify(s)),""].join(".")}const op={};function t8(){const t={prod:[],emulator:[]};for(const e of Object.keys(op))op[e]?t.emulator.push(e):t.prod.push(e);return t}function n8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let zM=!1;function MU(t,e){if(typeof window>"u"||typeof document>"u"||!Yf(window.location.host)||op[t]===e||op[t]||zM)return;op[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=t8().prod.length>0;function s(){const v=document.getElementById(r);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function c(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{zM=!0,s()},v}function h(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=n8(r),E=n("text"),S=document.getElementById(E)||document.createElement("span"),b=n("learnmore"),I=document.getElementById(b)||document.createElement("a"),R=n("preprendIcon"),D=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const C=v.element;u(C),h(I,b);const q=f();c(D,R),C.append(D,S,I,q),document.body.appendChild(C)}o?(S.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function T_(){var e;const t=(e=ZA())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function i8(){return typeof window<"u"||DU()}function DU(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function o8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kU(){const t=zt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function OU(){return!T_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VU(){return!T_()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function bp(){try{return typeof indexedDB=="object"}catch{return!1}}function s8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8="FirebaseError";class Tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=a8,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?l8(o,r):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new Tr(i,u,r)}}function l8(t,e){return t.replace(u8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const u8=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function c8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ka(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(GM(o)&&GM(s)){if(!ka(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function GM(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Jc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Yh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function LU(t,e){const n=new f8(t,e);return n.subscribe.bind(n)}class f8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");d8(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=KE),i.error===void 0&&(i.error=KE),i.complete===void 0&&(i.complete=KE);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function d8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function KE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t){return t&&t._delegate?t._delegate:t}class xo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h8=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Z9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m8(e))try{this.getOrInitializeService({instanceIdentifier:Fl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Fl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fl){return this.instances.has(e)}getOptions(e=Fl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:p8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fl){return this.component?this.component.multipleInstances?e:Fl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function p8(t){return t===Fl?void 0:t}function m8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new h8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=[];var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const FU={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},g8=Je.INFO,y8={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},v8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=y8[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class E_{constructor(e){this.name=e,this._logLevel=g8,this._logHandler=v8,this._userLogHandler=null,nI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}function _8(t){nI.forEach(e=>{e.setLogLevel(t)})}function T8(t,e){for(const n of nI){let r=null;e&&e.level&&(r=FU[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,o,...s)=>{const u=s.map(c=>{if(c==null)return null;if(typeof c=="string")return c;if(typeof c=="number"||typeof c=="boolean")return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch{return null}}).filter(c=>c).join(" ");o>=(r??i.logLevel)&&t({level:Je[o].toLowerCase(),message:u,args:s,type:i.name})}}}const E8=(t,e)=>e.some(n=>t instanceof n);let KM,WM;function w8(){return KM||(KM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function S8(){return WM||(WM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BU=new WeakMap,eb=new WeakMap,qU=new WeakMap,WE=new WeakMap,rI=new WeakMap;function b8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(xa(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&BU.set(n,t)}).catch(()=>{}),rI.set(e,t),e}function A8(t){if(eb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});eb.set(t,e)}let tb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return eb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qU.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function I8(t){tb=t(tb)}function C8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(jE(this),e,...n);return qU.set(r,e.sort?e.sort():[e]),xa(r)}:S8().includes(t)?function(...e){return t.apply(jE(this),e),xa(BU.get(this))}:function(...e){return xa(t.apply(jE(this),e))}}function x8(t){return typeof t=="function"?C8(t):(t instanceof IDBTransaction&&A8(t),E8(t,w8())?new Proxy(t,tb):t)}function xa(t){if(t instanceof IDBRequest)return b8(t);if(WE.has(t))return WE.get(t);const e=x8(t);return e!==t&&(WE.set(t,e),rI.set(e,t)),e}const jE=t=>rI.get(t);function R8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),u=xa(s);return r&&s.addEventListener("upgradeneeded",c=>{r(xa(s.result),c.oldVersion,c.newVersion,xa(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const P8=["get","getKey","getAll","getAllKeys","count"],M8=["put","add","delete","clear"],YE=new Map;function jM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(YE.get(e))return YE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=M8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||P8.includes(n)))return;const o=async function(s,...u){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&c.done]))[0]};return YE.set(e,o),o}I8(t=>({...t,get:(e,n,r)=>jM(e,n)||t.get(e,n,r),has:(e,n)=>!!jM(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(N8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function N8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lv="@firebase/app",nb="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new E_("@firebase/app"),k8="@firebase/app-compat",O8="@firebase/analytics-compat",V8="@firebase/analytics",L8="@firebase/app-check-compat",U8="@firebase/app-check",F8="@firebase/auth",B8="@firebase/auth-compat",q8="@firebase/database",$8="@firebase/data-connect",z8="@firebase/database-compat",H8="@firebase/functions",G8="@firebase/functions-compat",K8="@firebase/installations",W8="@firebase/installations-compat",j8="@firebase/messaging",Y8="@firebase/messaging-compat",J8="@firebase/performance",Q8="@firebase/performance-compat",X8="@firebase/remote-config",Z8="@firebase/remote-config-compat",eK="@firebase/storage",tK="@firebase/storage-compat",nK="@firebase/firestore",rK="@firebase/ai",iK="@firebase/firestore-compat",oK="firebase",sK="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="[DEFAULT]",aK={[lv]:"fire-core",[k8]:"fire-core-compat",[V8]:"fire-analytics",[O8]:"fire-analytics-compat",[U8]:"fire-app-check",[L8]:"fire-app-check-compat",[F8]:"fire-auth",[B8]:"fire-auth-compat",[q8]:"fire-rtdb",[$8]:"fire-data-connect",[z8]:"fire-rtdb-compat",[H8]:"fire-fn",[G8]:"fire-fn-compat",[K8]:"fire-iid",[W8]:"fire-iid-compat",[j8]:"fire-fcm",[Y8]:"fire-fcm-compat",[J8]:"fire-perf",[Q8]:"fire-perf-compat",[X8]:"fire-rc",[Z8]:"fire-rc-compat",[eK]:"fire-gcs",[tK]:"fire-gcs-compat",[nK]:"fire-fst",[iK]:"fire-fst-compat",[rK]:"fire-vertex","fire-js":"fire-js",[oK]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new Map,hf=new Map,pf=new Map;function Ap(t,e){try{t.container.addComponent(e)}catch(n){vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $U(t,e){t.container.addOrOverwriteComponent(e)}function La(t){const e=t.name;if(pf.has(e))return vs.debug(`There were multiple attempts to register component ${e}.`),!1;pf.set(e,t);for(const n of Va.values())Ap(n,t);for(const n of hf.values())Ap(n,t);return!0}function zU(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function lK(t,e,n=Oa){zU(t,e).clearInstance(n)}function iI(t){return t.options!==void 0}function HU(t){return iI(t)?!1:"authIdToken"in t||"appCheckToken"in t||"releaseOnDeref"in t||"automaticDataCollectionEnabled"in t}function Lt(t){return t==null?!1:t.settings!==void 0}function uK(){pf.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new Ru("app","Firebase",cK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GU=class{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(t,e){const n=QA(t.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(n).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3,o=new Date().getTime();i-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class fK extends GU{constructor(e,n,r,i){const o=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!0,s={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,s,i);else{const u=e;super(u.options,s,i)}this._serverConfig={automaticDataCollectionEnabled:o,...n},this._serverConfig.authIdToken&&YM(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&YM(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,qi(lv,nb,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){sI(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Zr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=sK;function oI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Oa,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Zr.create("bad-app-name",{appName:String(i)});if(n||(n=eI()),!n)throw Zr.create("no-options");const o=Va.get(i);if(o){if(ka(n,o.options)&&ka(r,o.config))return o;throw Zr.create("duplicate-app",{appName:i})}const s=new UU(i);for(const c of pf.values())s.addComponent(c);const u=new GU(n,r,s);return Va.set(i,u),u}function dK(t,e={}){if(i8()&&!DU())throw Zr.create("invalid-server-app-environment");let n,r=e||{};if(t&&(iI(t)?n=t.options:HU(t)?r=t:n=t),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),n||(n=eI()),!n)throw Zr.create("no-options");const i={...r,...n};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const o=h=>[...h].reduce((y,v)=>Math.imul(31,y)+v.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Zr.create("finalization-registry-not-supported",{});const s=""+o(JSON.stringify(i)),u=hf.get(s);if(u)return u.incRefCount(r.releaseOnDeref),u;const c=new UU(s);for(const h of pf.values())c.addComponent(h);const f=new fK(n,r,s,c);return hf.set(s,f),f}function hK(t=Oa){const e=Va.get(t);if(!e&&t===Oa&&eI())return oI();if(!e)throw Zr.create("no-app",{appName:t});return e}function pK(){return Array.from(Va.values())}async function sI(t){let e=!1;const n=t.name;Va.has(n)?(e=!0,Va.delete(n)):hf.has(n)&&t.decRefCount()<=0&&(hf.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function qi(t,e,n){let r=aK[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vs.warn(s.join(" "));return}La(new xo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function KU(t,e){if(t!==null&&typeof t!="function")throw Zr.create("invalid-log-argument");T8(t,e)}function WU(t){_8(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mK="firebase-heartbeat-database",gK=1,Ip="firebase-heartbeat-store";let JE=null;function jU(){return JE||(JE=R8(mK,gK,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ip)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zr.create("idb-open",{originalErrorMessage:t.message})})),JE}async function yK(t){try{const n=(await jU()).transaction(Ip),r=await n.objectStore(Ip).get(YU(t));return await n.done,r}catch(e){if(e instanceof Tr)vs.warn(e.message);else{const n=Zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vs.warn(n.message)}}}async function JM(t,e){try{const r=(await jU()).transaction(Ip,"readwrite");await r.objectStore(Ip).put(e,YU(t)),await r.done}catch(n){if(n instanceof Tr)vs.warn(n.message);else{const r=Zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vs.warn(r.message)}}}function YU(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vK=1024,_K=30;class TK{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wK(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=QM();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>_K){const s=SK(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=QM(),{heartbeatsToSend:r,unsentEntries:i}=EK(this._heartbeatsCache.heartbeats),o=sv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return vs.warn(n),""}}}function QM(){return new Date().toISOString().substring(0,10)}function EK(t,e=vK){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),XM(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),XM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class wK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bp()?s8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yK(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return JM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return JM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function XM(t){return sv(JSON.stringify({version:2,heartbeats:t})).length}function SK(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bK(t){La(new xo("platform-logger",e=>new D8(e),"PRIVATE")),La(new xo("heartbeat",e=>new TK(e),"PRIVATE")),qi(lv,nb,t),qi(lv,nb,"esm2020"),qi("fire-js","")}bK("");const AK=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Tr,SDK_VERSION:Wa,_DEFAULT_ENTRY_NAME:Oa,_addComponent:Ap,_addOrOverwriteComponent:$U,_apps:Va,_clearComponents:uK,_components:pf,_getProvider:zU,_isFirebaseApp:iI,_isFirebaseServerApp:Lt,_isFirebaseServerAppSettings:HU,_registerComponent:La,_removeServiceInstance:lK,_serverApps:hf,deleteApp:sI,getApp:hK,getApps:pK,initializeApp:oI,initializeServerApp:dK,onLog:KU,registerVersion:qi,setLogLevel:WU},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IK{constructor(e,n){this._delegate=e,this.firebase=n,Ap(e,new xo("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),sI(this._delegate)))}_getService(e,n=Oa){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=Oa){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Ap(this._delegate,e)}_addOrOverwriteComponent(e){$U(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CK={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},ZM=new Ru("app-compat","Firebase",CK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xK(t){const e={},n={__esModule:!0,initializeApp:o,app:i,registerVersion:qi,setLogLevel:WU,onLog:KU,apps:null,SDK_VERSION:Wa,INTERNAL:{registerComponent:u,removeApp:r,useAsService:c,modularAPIs:AK}};n.default=n,Object.defineProperty(n,"apps",{get:s});function r(f){delete e[f]}function i(f){if(f=f||Oa,!HM(e,f))throw ZM.create("no-app",{appName:f});return e[f]}i.App=t;function o(f,h={}){const y=oI(f,h);if(HM(e,y.name))return e[y.name];const v=new t(y,n);return e[y.name]=v,v}function s(){return Object.keys(e).map(f=>e[f])}function u(f){const h=f.name,y=h.replace("-compat","");if(La(f)&&f.type==="PUBLIC"){const v=(E=i())=>{if(typeof E[y]!="function")throw ZM.create("invalid-app-argument",{appName:h});return E[y]()};f.serviceProps!==void 0&&av(v,f.serviceProps),n[y]=v,t.prototype[y]=function(...E){return this._getService.bind(this,h).apply(this,f.multipleInstances?E:[])}}return f.type==="PUBLIC"?n[y]:null}function c(f,h){return h==="serverAuth"?null:h}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(){const t=xK(IK);t.INTERNAL={...t.INTERNAL,createFirebaseNamespace:JU,extendNamespace:e,createSubscribe:LU,ErrorFactory:Ru,deepExtend:av};function e(n){av(t,n)}return t}const RK=JU();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=new E_("@firebase/app-compat"),PK="@firebase/app-compat",MK="0.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DK(t){qi(PK,MK,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=XA();if(t.firebase!==void 0){eD.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&eD.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Ro=RK;DK();var NK="firebase",kK="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ro.registerVersion(NK,kK,"app-compat");const Mh={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Oc={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OK(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function QU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VK=OK,LK=QU,XU=new Ru("auth","Firebase",QU());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=new E_("@firebase/auth");function UK(t,...e){uv.logLevel<=Je.WARN&&uv.warn(`Auth (${Wa}): ${t}`,...e)}function By(t,...e){uv.logLevel<=Je.ERROR&&uv.error(`Auth (${Wa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t,...e){throw lI(t,...e)}function bn(t,...e){return lI(t,...e)}function aI(t,e,n){const r={...LK(),[e]:n};return new Ru("auth","Firebase",r).create(e,{appName:t.name})}function Bn(t){return aI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qf(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&tr(t,"argument-error"),aI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lI(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return XU.create(t,...e)}function me(t,e,...n){if(!t)throw lI(e,...n)}function To(t){const e="INTERNAL ASSERTION FAILED: "+t;throw By(e),new Error(e)}function Hi(t,e){t||To(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function uI(){return tD()==="http:"||tD()==="https:"}function tD(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uI()||NU()||"connection"in navigator)?navigator.onLine:!0}function BK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hi(n>e,"Short delay should be less than long delay!"),this.isMobile=r8()||tI()}get(){return FK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t,e){Hi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;To("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;To("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;To("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $K=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zK=new om(3e4,6e4);function Qt(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Xt(t,e,n,r,i={}){return eF(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const u=Jf({key:t.config.apiKey,...s}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:c,...o};return o8()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Yf(t.emulatorConfig.host)&&(f.credentials="include"),ZU.fetch()(await tF(t,t.config.apiHost,n,u),f)})}async function eF(t,e,n){t._canInitEmulator=!1;const r={...qK,...e};try{const i=new GK(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Jh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const u=o.ok?s.errorMessage:s.error.message,[c,f]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jh(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Jh(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Jh(t,"user-disabled",s);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw aI(t,h,f);tr(t,h)}}catch(i){if(i instanceof Tr)throw i;tr(t,"network-request-failed",{message:String(i)})}}async function Cs(t,e,n,r,i={}){const o=await Xt(t,e,n,r,i);return"mfaPendingCredential"in o&&tr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function tF(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?cI(t.config,i):`${t.config.apiScheme}://${i}`;return $K.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function HK(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GK{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bn(this.auth,"network-request-failed")),zK.get())})}}function Jh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=bn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t){return t!==void 0&&t.getResponse!==void 0}function rD(t){return t!==void 0&&t.enterprise!==void 0}class nF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HK(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KK(t){return(await Xt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function rF(t,e){return Xt(t,"GET","/v2/recaptchaConfig",Qt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WK(t,e){return Xt(t,"POST","/v1/accounts:delete",e)}async function jK(t,e){return Xt(t,"POST","/v1/accounts:update",e)}async function cv(t,e){return Xt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YK(t,e=!1){const n=Ne(t),r=await n.getIdToken(e),i=w_(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:sp(QE(i.auth_time)),issuedAtTime:sp(QE(i.iat)),expirationTime:sp(QE(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function QE(t){return Number(t)*1e3}function w_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return By("JWT malformed, contained fewer than 3 sections"),null;try{const i=QA(n);return i?JSON.parse(i):(By("Failed to decode base64 JWT payload"),null)}catch(i){return By("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function iD(t){const e=w_(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _s(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Tr&&JK(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function JK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sp(this.lastLoginAt),this.creationTime=sp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xp(t){var y;const e=t.auth,n=await t.getIdToken(),r=await _s(t,cv(e,{idToken:n}));me(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(y=i.providerUserInfo)!=null&&y.length?iF(i.providerUserInfo):[],s=ZK(t.providerData,o),u=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),f=u?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new rb(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function XK(t){const e=Ne(t);await xp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZK(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function iF(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e7(t,e){const n=await eF(t,{},async()=>{const r=Jf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await tF(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:r};return t.emulatorConfig&&Yf(t.emulatorConfig.host)&&(c.credentials="include"),ZU.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function t7(t,e){return Xt(t,"POST","/v2/accounts:revokeToken",Qt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){me(e.length!==0,"internal-error");const n=iD(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await e7(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new ef;return r&&(me(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(me(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ef,this.toJSON())}_performRefresh(){return To("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Bi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new QK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new rb(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await _s(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return YK(this,e)}reload(){return XK(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await xp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Lt(this.auth.app))return Promise.reject(Bn(this.auth));const e=await this.getIdToken();return await _s(this,WK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,u=n.tenantId??void 0,c=n._redirectEventId??void 0,f=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:y,emailVerified:v,isAnonymous:E,providerData:S,stsTokenManager:b}=n;me(y&&b,e,"internal-error");const I=ef.fromJSON(this.name,b);me(typeof y=="string",e,"internal-error"),ha(r,e.name),ha(i,e.name),me(typeof v=="boolean",e,"internal-error"),me(typeof E=="boolean",e,"internal-error"),ha(o,e.name),ha(s,e.name),ha(u,e.name),ha(c,e.name),ha(f,e.name),ha(h,e.name);const R=new Bi({uid:y,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:E,photoURL:s,phoneNumber:o,tenantId:u,stsTokenManager:I,createdAt:f,lastLoginAt:h});return S&&Array.isArray(S)&&(R.providerData=S.map(D=>({...D}))),c&&(R._redirectEventId=c),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new ef;i.updateFromServerResponse(n);const o=new Bi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await xp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];me(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?iF(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new ef;u.updateFromIdToken(r);const c=new Bi({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new rb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=new Map;function Qr(t){Hi(t instanceof Function,"Expected a class definition");let e=oD.get(t);return e?(Hi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,oD.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}oF.type="NONE";const mf=oF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t,e,n){return`firebase:${t}:${e}:${n}`}class tf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ru(this.userKey,i.apiKey,o),this.fullPersistenceKey=ru("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await cv(this.auth,{idToken:e}).catch(()=>{});return n?Bi._fromGetAccountInfoResponse(this.auth,n,e):null}return Bi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new tf(Qr(mf),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Qr(mf);const s=ru(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const h=await f._get(s);if(h){let y;if(typeof h=="string"){const v=await cv(e,{idToken:h}).catch(()=>{});if(!v)break;y=await Bi._fromGetAccountInfoResponse(e,v,h)}else y=Bi._fromJSON(e,h);f!==o&&(u=y),o=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new tf(o,e,r):(o=c[0],u&&await o._set(s,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(s)}catch{}})),new tf(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cF(e))return"Blackberry";if(fF(e))return"Webos";if(aF(e))return"Safari";if((e.includes("chrome/")||lF(e))&&!e.includes("edge/"))return"Chrome";if(sm(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sF(t=zt()){return/firefox\//i.test(t)}function aF(t=zt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lF(t=zt()){return/crios\//i.test(t)}function uF(t=zt()){return/iemobile/i.test(t)}function sm(t=zt()){return/android/i.test(t)}function cF(t=zt()){return/blackberry/i.test(t)}function fF(t=zt()){return/webos/i.test(t)}function am(t=zt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function n7(t=zt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function r7(t=zt()){var e;return am(t)&&!!((e=window.navigator)!=null&&e.standalone)}function i7(){return kU()&&document.documentMode===10}function dF(t=zt()){return am(t)||sm(t)||fF(t)||cF(t)||/windows phone/i.test(t)||uF(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(t,e=[]){let n;switch(t){case"Browser":n=sD(zt());break;case"Worker":n=`${sD(zt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,u)=>{try{const c=e(o);s(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s7(t,e={}){return Xt(t,"GET","/v2/passwordPolicy",Qt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7=6;class l7{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??a7,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aD(this),this.idTokenSubscription=new aD(this),this.beforeStateQueue=new o7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qr(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await tf.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cv(this,{idToken:e}),r=await Bi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Lt(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,u=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===u)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Lt(this.app))return Promise.reject(Bn(this));const n=e?Ne(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Lt(this.app)?Promise.reject(Bn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Lt(this.app)?Promise.reject(Bn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await s7(this),n=new l7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ru("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await t7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qr(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await tf.create(this,[Qr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(u,this,"internal-error"),u.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Lt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&UK(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ht(t){return Ne(t)}class aD{constructor(e){this.auth=e,this.observer=null,this.addObserver=LU(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function c7(t){lm=t}function fI(t){return lm.loadJS(t)}function f7(){return lm.recaptchaV2Script}function d7(){return lm.recaptchaEnterpriseScript}function h7(){return lm.gapiScript}function pF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7=500,m7=6e4,hy=1e12;class g7{constructor(e){this.auth=e,this.counter=hy,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new _7(e,this.auth.name,n||{})),this.counter++,r}reset(e){var r;const n=e||hy;(r=this._widgets.get(n))==null||r.delete(),this._widgets.delete(n)}getResponse(e){var r;const n=e||hy;return((r=this._widgets.get(n))==null?void 0:r.getResponse())||""}async execute(e){var r;const n=e||hy;return(r=this._widgets.get(n))==null||r.execute(),""}}class y7{constructor(){this.enterprise=new v7}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class v7{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class _7{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;me(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=T7(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},m7)},p7))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function T7(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const E7="recaptcha-enterprise",ap="NO_RECAPTCHA";class mF{constructor(e){this.type=E7,this.auth=Ht(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,u)=>{rF(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new nF(c);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,s(f.siteKey)}}).catch(c=>{u(c)})})}function i(o,s,u){const c=window.grecaptcha;rD(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(f=>{s(f)}).catch(()=>{s(ap)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new y7().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(u=>{if(!n&&rD(window.grecaptcha))i(u,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=d7();c.length!==0&&(c+=u),fI(c).then(()=>{i(u,o,s)}).catch(f=>{s(f)})}}).catch(u=>{s(u)})})}}async function Dh(t,e,n,r=!1,i=!1){const o=new mF(t);let s;if(i)s=ap;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:s}):Object.assign(u,{captchaResponse:s}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Ra(t,e,n,r,i){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Dh(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Dh(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(u)});else if(i==="PHONE_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("PHONE_PROVIDER")){const u=await Dh(t,e,n);return r(t,u).catch(async c=>{var f;if(((f=t._getRecaptchaConfig())==null?void 0:f.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const h=await Dh(t,e,n,!1,!0);return r(t,h)}return Promise.reject(c)})}else{const u=await Dh(t,e,n,!1,!0);return r(t,u)}else return Promise.reject(i+" provider is not supported.")}async function w7(t){const e=Ht(t),n=await rF(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new nF(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new mF(e).verify()}function S7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function b7(t,e,n){const r=Ht(t);me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=gF(e),{host:s,port:u}=A7(e),c=u===null?"":`:${u}`,f={url:`${o}//${s}${c}/`},h=Object.freeze({host:s,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),me(ka(f,r.config.emulator)&&ka(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Yf(s)?(PU(`${o}//${s}${c}`),MU("Auth",!0)):i||I7()}function gF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function A7(t){const e=gF(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:lD(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:lD(s)}}}function lD(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function I7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return To("not implemented")}_getIdTokenResponse(e){return To("not implemented")}_linkToIdToken(e,n){return To("not implemented")}_getReauthenticationResolver(e){return To("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yF(t,e){return Xt(t,"POST","/v1/accounts:resetPassword",Qt(t,e))}async function C7(t,e){return Xt(t,"POST","/v1/accounts:update",e)}async function x7(t,e){return Xt(t,"POST","/v1/accounts:signUp",e)}async function R7(t,e){return Xt(t,"POST","/v1/accounts:update",Qt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P7(t,e){return Cs(t,"POST","/v1/accounts:signInWithPassword",Qt(t,e))}async function S_(t,e){return Xt(t,"POST","/v1/accounts:sendOobCode",Qt(t,e))}async function M7(t,e){return S_(t,e)}async function D7(t,e){return S_(t,e)}async function N7(t,e){return S_(t,e)}async function k7(t,e){return S_(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O7(t,e){return Cs(t,"POST","/v1/accounts:signInWithEmailLink",Qt(t,e))}async function V7(t,e){return Cs(t,"POST","/v1/accounts:signInWithEmailLink",Qt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp extends Xf{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Rp(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Rp(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ra(e,n,"signInWithPassword",P7,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return O7(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ra(e,r,"signUpPassword",x7,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return V7(e,{idToken:n,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ps(t,e){return Cs(t,"POST","/v1/accounts:signInWithIdp",Qt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7="http://localhost";class Po extends Xf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Po(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new Po(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ps(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ps(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ps(e,n)}buildRequest(){const e={requestUri:L7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(t,e){return Xt(t,"POST","/v1/accounts:sendVerificationCode",Qt(t,e))}async function U7(t,e){return Cs(t,"POST","/v1/accounts:signInWithPhoneNumber",Qt(t,e))}async function F7(t,e){const n=await Cs(t,"POST","/v1/accounts:signInWithPhoneNumber",Qt(t,e));if(n.temporaryProof)throw Jh(t,"account-exists-with-different-credential",n);return n}const B7={USER_NOT_FOUND:"user-not-found"};async function q7(t,e){const n={...e,operation:"REAUTH"};return Cs(t,"POST","/v1/accounts:signInWithPhoneNumber",Qt(t,n),B7)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends Xf{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new iu({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new iu({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return U7(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return F7(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return q7(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!n&&!i&&!o?null:new iu({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function z7(t){const e=Jc(Yh(t)).link,n=e?Jc(Yh(e)).deep_link_id:null,r=Jc(Yh(t)).deep_link_id;return(r?Jc(Yh(r)).link:null)||r||n||e||t}class b_{constructor(e){const n=Jc(Yh(e)),r=n.apiKey??null,i=n.oobCode??null,o=$7(n.mode??null);me(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=z7(e);try{return new b_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.providerId=ja.PROVIDER_ID}static credential(e,n){return Rp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=b_.parseLink(n);return me(r,"argument-error"),Rp._fromEmailAndCode(e,r.code,r.tenantId)}}ja.PROVIDER_ID="password";ja.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ja.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf extends xs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class nf extends Zf{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return me("providerId"in n&&"signInMethod"in n,"argument-error"),Po._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return me(e.idToken||e.accessToken,"argument-error"),Po._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return nf.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return nf.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:u}=e;if(!r&&!i&&!n&&!o||!u)return null;try{return new nf(u)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends Zf{constructor(){super("facebook.com")}static credential(e){return Po._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return go.credential(e.oauthAccessToken)}catch{return null}}}go.FACEBOOK_SIGN_IN_METHOD="facebook.com";go.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends Zf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Po._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return yo.credential(n,r)}catch{return null}}}yo.GOOGLE_SIGN_IN_METHOD="google.com";yo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends Zf{constructor(){super("github.com")}static credential(e){return Po._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vo.credential(e.oauthAccessToken)}catch{return null}}}vo.GITHUB_SIGN_IN_METHOD="github.com";vo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7="http://localhost";class gf extends Xf{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return ps(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ps(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ps(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=n;return!r||!i||!o||r!==i?null:new gf(r,o)}static _create(e,n){return new gf(e,n)}buildRequest(){return{requestUri:H7,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7="saml.";class fv extends xs{constructor(e){me(e.startsWith(G7),"argument-error"),super(e)}static credentialFromResult(e){return fv.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return fv.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=gf.fromJSON(e);return me(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return gf._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends Zf{constructor(){super("twitter.com")}static credential(e,n){return Po._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return _o.credential(n,r)}catch{return null}}}_o.TWITTER_SIGN_IN_METHOD="twitter.com";_o.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vF(t,e){return Cs(t,"POST","/v1/accounts:signUp",Qt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Bi._fromIdTokenResponse(e,r,i),s=cD(r);return new Ii({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=cD(r);return new Ii({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function cD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K7(t){var i;if(Lt(t.app))return Promise.reject(Bn(t));const e=Ht(t);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new Ii({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await vF(e,{returnSecureToken:!0}),r=await Ii._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv extends Tr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,dv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new dv(e,n,r,i)}}function _F(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?dv._fromErrorAndOperation(t,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W7(t,e){const n=Ne(t);await A_(!0,n,e);const{providerUserInfo:r}=await jK(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=TF(r||[]);return n.providerData=n.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function dI(t,e,n=!1){const r=await _s(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ii._forOperation(t,"link",r)}async function A_(t,e,n){await xp(e);const r=TF(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";me(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EF(t,e,n=!1){const{auth:r}=t;if(Lt(r.app))return Promise.reject(Bn(r));const i="reauthenticate";try{const o=await _s(t,_F(r,i,e,t),n);me(o.idToken,r,"internal-error");const s=w_(o.idToken);me(s,r,"internal-error");const{sub:u}=s;return me(t.uid===u,r,"user-mismatch"),Ii._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&tr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wF(t,e,n=!1){if(Lt(t.app))return Promise.reject(Bn(t));const r="signIn",i=await _F(t,r,e),o=await Ii._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function I_(t,e){return wF(Ht(t),e)}async function SF(t,e){const n=Ne(t);return await A_(!1,n,e.providerId),dI(n,e)}async function bF(t,e){return EF(Ne(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j7(t,e){return Cs(t,"POST","/v1/accounts:signInWithCustomToken",Qt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y7(t,e){if(Lt(t.app))return Promise.reject(Bn(t));const n=Ht(t),r=await j7(n,{token:e,returnSecureToken:!0}),i=await Ii._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?hI._fromServerResponse(e,n):"totpInfo"in n?pI._fromServerResponse(e,n):tr(e,"internal-error")}}class hI extends um{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new hI(n)}}class pI extends um{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new pI(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t,e,n){var r;me(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),me(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),me(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(me(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(me(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mI(t){const e=Ht(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function J7(t,e,n){const r=Ht(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&C_(r,i,n),await Ra(r,i,"getOobCode",D7,"EMAIL_PASSWORD_PROVIDER")}async function Q7(t,e,n){await yF(Ne(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&mI(t),r})}async function X7(t,e){await R7(Ne(t),{oobCode:e})}async function AF(t,e){const n=Ne(t),r=await yF(n,{oobCode:e}),i=r.requestType;switch(me(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(r.mfaInfo,n,"internal-error");default:me(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=um._fromServerResponse(Ht(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function Z7(t,e){const{data:n}=await AF(Ne(t),e);return n.email}async function eW(t,e,n){if(Lt(t.app))return Promise.reject(Bn(t));const r=Ht(t),s=await Ra(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vF,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&mI(t),c}),u=await Ii._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(u.user),u}function tW(t,e,n){return Lt(t.app)?Promise.reject(Bn(t)):I_(Ne(t),ja.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&mI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nW(t,e,n){const r=Ht(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(s,u){me(u.handleCodeInApp,r,"argument-error"),u&&C_(r,s,u)}o(i,n),await Ra(r,i,"getOobCode",N7,"EMAIL_PASSWORD_PROVIDER")}function rW(t,e){const n=b_.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function iW(t,e,n){if(Lt(t.app))return Promise.reject(Bn(t));const r=Ne(t),i=ja.credentialWithLink(e,n||Cp());return me(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),I_(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oW(t,e){return Xt(t,"POST","/v1/accounts:createAuthUri",Qt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sW(t,e){const n=uI()?Cp():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await oW(Ne(t),r);return i||[]}async function aW(t,e){const n=Ne(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&C_(n.auth,i,e);const{email:o}=await M7(n.auth,i);o!==t.email&&await t.reload()}async function lW(t,e,n){const r=Ne(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&C_(r.auth,o,n);const{email:s}=await k7(r.auth,o);s!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uW(t,e){return Xt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cW(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ne(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await _s(r,uW(r.auth,o));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const u=r.providerData.find(({providerId:c})=>c==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function fW(t,e){const n=Ne(t);return Lt(n.auth.app)?Promise.reject(Bn(n.auth)):IF(n,e,null)}function dW(t,e){return IF(Ne(t),null,e)}async function IF(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const s=await _s(t,C7(r,o));await t._updateTokensIfNecessary(s,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hW(t){var i,o;if(!t)return null;const{providerId:e}=t,n=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},r=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(t!=null&&t.idToken)){const s=(o=(i=w_(t.idToken))==null?void 0:i.firebase)==null?void 0:o.sign_in_provider;if(s){const u=s!=="anonymous"&&s!=="custom"?s:null;return new rf(r,u)}}if(!e)return null;switch(e){case"facebook.com":return new pW(r,n);case"github.com":return new mW(r,n);case"google.com":return new gW(r,n);case"twitter.com":return new yW(r,n,t.screenName||null);case"custom":case"anonymous":return new rf(r,null);default:return new rf(r,e,n)}}class rf{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class CF extends rf{constructor(e,n,r,i){super(e,n,r),this.username=i}}class pW extends rf{constructor(e,n){super(e,"facebook.com",n)}}class mW extends CF{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class gW extends rf{constructor(e,n){super(e,"google.com",n)}}class yW extends CF{constructor(e,n,r){super(e,"twitter.com",n,r)}}function vW(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:hW(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Yl("enroll",e,n)}static _fromMfaPendingCredential(e){return new Yl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if((n=e.multiFactorSession)!=null&&n.pendingCredential)return Yl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((r=e.multiFactorSession)!=null&&r.idToken)return Yl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Ht(e),i=n.customData._serverResponse,o=(i.mfaInfo||[]).map(u=>um._fromServerResponse(r,u));me(i.mfaPendingCredential,r,"internal-error");const s=Yl._fromMfaPendingCredential(i.mfaPendingCredential);return new gI(s,o,async u=>{const c=await u._process(r,s);delete i.mfaInfo,delete i.mfaPendingCredential;const f={...i,idToken:c.idToken,refreshToken:c.refreshToken};switch(n.operationType){case"signIn":const h=await Ii._fromIdTokenResponse(r,n.operationType,f);return await r._updateCurrentUser(h.user),h;case"reauthenticate":return me(n.user,r,"internal-error"),Ii._forOperation(n.user,n.operationType,f);default:tr(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function _W(t,e){var i;const n=Ne(t),r=e;return me(e.customData.operationType,n,"argument-error"),me((i=r.customData._serverResponse)==null?void 0:i.mfaPendingCredential,n,"argument-error"),gI._fromError(n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t,e){return Xt(t,"POST","/v2/accounts/mfaEnrollment:start",Qt(t,e))}function TW(t,e){return Xt(t,"POST","/v2/accounts/mfaEnrollment:finalize",Qt(t,e))}function EW(t,e){return Xt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Qt(t,e))}class yI{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>um._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new yI(e)}async getSession(){return Yl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),o=await _s(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await _s(this.user,EW(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const XE=new WeakMap;function wW(t){const e=Ne(t);return XE.has(e)||XE.set(e,yI._fromUser(e)),XE.get(e)}const hv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hv,"1"),this.storage.removeItem(hv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SW=1e3,bW=10;class RF extends xF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dF(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,u,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);i7()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,bW):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},SW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}RF.type="LOCAL";const vI=RF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF extends xF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PF.type="SESSION";const fu=PF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new x_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(s).map(async f=>f(n.origin,o)),c=await AW(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}x_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((u,c)=>{const f=cm("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(y){const v=y;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return window}function CW(t){hn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(){return typeof hn().WorkerGlobalScope<"u"&&typeof hn().importScripts=="function"}async function xW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RW(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function PW(){return _I()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF="firebaseLocalStorageDb",MW=1,pv="firebaseLocalStorage",DF="fbase_key";class fm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function R_(t,e){return t.transaction([pv],e?"readwrite":"readonly").objectStore(pv)}function DW(){const t=indexedDB.deleteDatabase(MF);return new fm(t).toPromise()}function ib(){const t=indexedDB.open(MF,MW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pv,{keyPath:DF})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pv)?e(r):(r.close(),await DW(),e(await ib()))})})}async function dD(t,e,n){const r=R_(t,!0).put({[DF]:e,value:n});return new fm(r).toPromise()}async function NW(t,e){const n=R_(t,!1).get(e),r=await new fm(n).toPromise();return r===void 0?null:r.value}function hD(t,e){const n=R_(t,!0).delete(e);return new fm(n).toPromise()}const kW=800,OW=3;class NF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ib(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>OW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _I()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=x_._getInstance(PW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await xW(),!this.activeServiceWorker)return;this.sender=new IW(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ib();return await dD(e,hv,"1"),await hD(e,hv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>dD(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>NW(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hD(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=R_(i,!1).getAll();return new fm(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NF.type="LOCAL";const Pp=NF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t,e){return Xt(t,"POST","/v2/accounts/mfaSignIn:start",Qt(t,e))}function VW(t,e){return Xt(t,"POST","/v2/accounts/mfaSignIn:finalize",Qt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=pF("rcb"),LW=new om(3e4,6e4);class UW{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=hn().grecaptcha)!=null&&e.render)}load(e,n=""){return me(FW(n),e,"argument-error"),this.shouldResolveImmediately(n)&&nD(hn().grecaptcha)?Promise.resolve(hn().grecaptcha):new Promise((r,i)=>{const o=hn().setTimeout(()=>{i(bn(e,"network-request-failed"))},LW.get());hn()[ZE]=()=>{hn().clearTimeout(o),delete hn()[ZE];const u=hn().grecaptcha;if(!u||!nD(u)){i(bn(e,"internal-error"));return}const c=u.render;u.render=(f,h)=>{const y=c(f,h);return this.counter++,y},this.hostLanguage=n,r(u)};const s=`${f7()}?${Jf({onload:ZE,render:"explicit",hl:n})}`;fI(s).catch(()=>{clearTimeout(o),i(bn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!((n=hn().grecaptcha)!=null&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function FW(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class BW{async load(e){return new g7(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="recaptcha",qW={theme:"light",type:"image"};let $W=class{constructor(e,n,r={...qW}){this.parameters=r,this.type=lp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ht(e),this.isInvisible=this.parameters.size==="invisible",me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;me(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new BW:new UW,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const o=s=>{s&&(this.tokenChangeListeners.delete(o),i(s))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=hn()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){me(uI()&&!_I(),this.auth,"internal-error"),await zW(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await KK(this.auth);me(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function zW(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=iu._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function HW(t,e,n){if(Lt(t.app))return Promise.reject(Bn(t));const r=Ht(t),i=await P_(r,e,Ne(n));return new TI(i,o=>I_(r,o))}async function GW(t,e,n){const r=Ne(t);await A_(!1,r,"phone");const i=await P_(r.auth,e,Ne(n));return new TI(i,o=>SF(r,o))}async function KW(t,e,n){const r=Ne(t);if(Lt(r.auth.app))return Promise.reject(Bn(r.auth));const i=await P_(r.auth,e,Ne(n));return new TI(i,o=>bF(r,o))}async function P_(t,e,n){var r;if(!t._getRecaptchaConfig())try{await w7(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const o=i.session;if("phoneNumber"in i){me(o.type==="enroll",t,"internal-error");const s={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Ra(t,s,"mfaSmsEnrollment",async(h,y)=>{if(y.phoneEnrollmentInfo.captchaResponse===ap){me((n==null?void 0:n.type)===lp,h,"argument-error");const v=await ew(h,y,n);return fD(h,v)}return fD(h,y)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneSessionInfo.sessionInfo}else{me(o.type==="signin",t,"internal-error");const s=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;me(s,t,"missing-multi-factor-info");const u={mfaPendingCredential:o.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Ra(t,u,"mfaSmsSignIn",async(y,v)=>{if(v.phoneSignInInfo.captchaResponse===ap){me((n==null?void 0:n.type)===lp,y,"argument-error");const E=await ew(y,v,n);return pD(y,E)}return pD(y,v)},"PHONE_PROVIDER").catch(y=>Promise.reject(y))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Ra(t,o,"sendVerificationCode",async(f,h)=>{if(h.captchaResponse===ap){me((n==null?void 0:n.type)===lp,f,"argument-error");const y=await ew(f,h,n);return uD(f,y)}return uD(f,h)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).sessionInfo}}finally{n==null||n._reset()}}async function WW(t,e){const n=Ne(t);if(Lt(n.auth.app))return Promise.reject(Bn(n.auth));await dI(n,e)}async function ew(t,e,n){me(n.type===lp,t,"argument-error");const r=await n.verify();me(typeof r=="string",t,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const o=i.phoneEnrollmentInfo.phoneNumber,s=i.phoneEnrollmentInfo.captchaResponse,u=i.phoneEnrollmentInfo.clientType,c=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:s,clientType:u,recaptchaVersion:c}}),i}else if("phoneSignInInfo"in i){const o=i.phoneSignInInfo.captchaResponse,s=i.phoneSignInInfo.clientType,u=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:s,recaptchaVersion:u}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du=class qy{constructor(e){this.providerId=qy.PROVIDER_ID,this.auth=Ht(e)}verifyPhoneNumber(e,n){return P_(this.auth,e,Ne(n))}static credential(e,n){return iu._fromVerification(e,n)}static credentialFromResult(e){const n=e;return qy.credentialFromTaggedObject(n)}static credentialFromError(e){return qy.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?iu._fromTokenResponse(n,r):null}};du.PROVIDER_ID="phone";du.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(t,e){return e?Qr(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI extends Xf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ps(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ps(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ps(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jW(t){return wF(t.auth,new EI(t),t.bypassAuthState)}function YW(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),EF(n,new EI(t),t.bypassAuthState)}async function JW(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),dI(n,new EI(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:u}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jW;case"linkViaPopup":case"linkViaRedirect":return JW;case"reauthViaPopup":case"reauthViaRedirect":return YW;default:tr(this.auth,"internal-error")}}resolve(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QW=new om(2e3,1e4);async function XW(t,e,n){if(Lt(t.app))return Promise.reject(bn(t,"operation-not-supported-in-this-environment"));const r=Ht(t);Qf(t,e,xs);const i=Pu(r,n);return new us(r,"signInViaPopup",e,i).executeNotNull()}async function ZW(t,e,n){const r=Ne(t);if(Lt(r.auth.app))return Promise.reject(bn(r.auth,"operation-not-supported-in-this-environment"));Qf(r.auth,e,xs);const i=Pu(r.auth,n);return new us(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function ej(t,e,n){const r=Ne(t);Qf(r.auth,e,xs);const i=Pu(r.auth,n);return new us(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class us extends kF{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,us.currentPopupAction&&us.currentPopupAction.cancel(),us.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");const e=cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,us.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QW.get())};e()}}us.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj="pendingRedirect",up=new Map;class nj extends kF{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=up.get(this.auth._key());if(!e){try{const r=await rj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}up.set(this.auth._key(),e)}return this.bypassAuthState||up.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rj(t,e){const n=VF(e),r=OF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function wI(t,e){return OF(t)._set(VF(e),"true")}function ij(){up.clear()}function SI(t,e){up.set(t._key(),e)}function OF(t){return Qr(t._redirectPersistence)}function VF(t){return ru(tj,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(t,e,n){return sj(t,e,n)}async function sj(t,e,n){if(Lt(t.app))return Promise.reject(Bn(t));const r=Ht(t);Qf(t,e,xs),await r._initializationPromise;const i=Pu(r,n);return await wI(i,r),i._openRedirect(r,e,"signInViaRedirect")}function aj(t,e,n){return lj(t,e,n)}async function lj(t,e,n){const r=Ne(t);if(Qf(r.auth,e,xs),Lt(r.auth.app))return Promise.reject(Bn(r.auth));await r.auth._initializationPromise;const i=Pu(r.auth,n);await wI(i,r.auth);const o=await LF(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)}function uj(t,e,n){return cj(t,e,n)}async function cj(t,e,n){const r=Ne(t);Qf(r.auth,e,xs),await r.auth._initializationPromise;const i=Pu(r.auth,n);await A_(!1,r,e.providerId),await wI(i,r.auth);const o=await LF(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)}async function fj(t,e){return await Ht(t)._initializationPromise,M_(t,e,!1)}async function M_(t,e,n=!1){if(Lt(t.app))return Promise.reject(Bn(t));const r=Ht(t),i=Pu(r,e),s=await new nj(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}async function LF(t){const e=cm(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=600*1e3;class UF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!FF(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(bn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dj&&this.cachedEventUids.clear(),this.cachedEventUids.has(mD(e))}saveEventToCache(e){this.cachedEventUids.add(mD(e)),this.lastProcessedEventTime=Date.now()}}function mD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FF({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FF(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BF(t,e={}){return Xt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mj=/^https?/;async function gj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await BF(t);for(const n of e)try{if(yj(n))return}catch{}tr(t,"unauthorized-domain")}function yj(t){const e=Cp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!mj.test(n))return!1;if(pj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=new om(3e4,6e4);function gD(){const t=hn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _j(t){return new Promise((e,n)=>{var i,o,s;function r(){gD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gD(),n(bn(t,"network-request-failed"))},timeout:vj.get()})}if((o=(i=hn().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=hn().gapi)!=null&&s.load)r();else{const u=pF("iframefcb");return hn()[u]=()=>{gapi.load?r():n(bn(t,"network-request-failed"))},fI(`${h7()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw $y=null,e})}let $y=null;function Tj(t){return $y=$y||_j(t),$y}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=new om(5e3,15e3),wj="__/auth/iframe",Sj="emulator/auth/iframe",bj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Aj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ij(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cI(e,Sj):`https://${t.config.authDomain}/${wj}`,r={apiKey:e.apiKey,appName:t.name,v:Wa},i=Aj.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Jf(r).slice(1)}`}async function Cj(t){const e=await Tj(t),n=hn().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:Ij(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bj,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=bn(t,"network-request-failed"),u=hn().setTimeout(()=>{o(s)},Ej.get());function c(){hn().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Rj=500,Pj=600,Mj="_blank",Dj="http://localhost";class yD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Nj(t,e,n,r=Rj,i=Pj){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c={...xj,width:r.toString(),height:i.toString(),top:o,left:s},f=zt().toLowerCase();n&&(u=lF(f)?Mj:n),sF(f)&&(e=e||Dj,c.scrollbars="yes");const h=Object.entries(c).reduce((v,[E,S])=>`${v}${E}=${S},`,"");if(r7(f)&&u!=="_self")return kj(e||"",u),new yD(null);const y=window.open(e||"",u,h);me(y,t,"popup-blocked");try{y.focus()}catch{}return new yD(y)}function kj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj="__/auth/handler",Vj="emulator/auth/handler",Lj=encodeURIComponent("fac");async function ob(t,e,n,r,i,o){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Wa,eventId:i};if(e instanceof xs){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",c8(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,y]of Object.entries(o||{}))s[h]=y}if(e instanceof Zf){const h=e.getScopes().filter(y=>y!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const u=s;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const c=await t._getAppCheckToken(),f=c?`#${Lj}=${encodeURIComponent(c)}`:"";return`${Uj(t)}?${Jf(u).slice(1)}${f}`}function Uj({config:t}){return t.emulator?cI(t,Vj):`https://${t.authDomain}/${Oj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="webStorageSupport";class Fj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fu,this._completeRedirectFn=M_,this._overrideRedirectResult=SI}async _openPopup(e,n,r,i){var s;Hi((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await ob(e,n,r,Cp(),i);return Nj(e,o,cm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await ob(e,n,r,Cp(),i);return CW(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Hi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Cj(e),r=new UF(e);return n.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tw,{type:tw},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[tw];o!==void 0&&n(!!o),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dF()||aF()||am()}}const Bj=Fj;class qj{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return To("unexpected MultiFactorSessionType")}}}class bI extends qj{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new bI(e)}_finalizeEnroll(e,n,r){return TW(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return VW(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class qF{constructor(){}static assertion(e){return bI._fromCredential(e)}}qF.FACTOR_ID="phone";var vD="@firebase/auth",_D="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Hj(t){La(new xo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=r.options;me(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hF(t)},f=new u7(r,i,o,c);return S7(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),La(new xo("auth-internal",e=>{const n=Ht(e.getProvider("auth").getImmediate());return(r=>new $j(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qi(vD,_D,zj(t)),qi(vD,_D,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj=300;X9("authIdTokenMaxAge");function Kj(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}c7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=bn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Kj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hj("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj=2e3;async function jj(t,e,n){const{BuildInfo:r}=hu();Hi(e.sessionId,"AuthEvent did not contain a session ID");const i=await Zj(e.sessionId),o={};return am()?o.ibi=r.packageName:sm()?o.apn=r.packageName:tr(t,"operation-not-supported-in-this-environment"),r.displayName&&(o.appDisplayName=r.displayName),o.sessionId=i,ob(t,n,e.type,void 0,e.eventId??void 0,o)}async function Yj(t){const{BuildInfo:e}=hu(),n={};am()?n.iosBundleId=e.packageName:sm()?n.androidPackageName=e.packageName:tr(t,"operation-not-supported-in-this-environment"),await BF(t,n)}function Jj(t){const{cordova:e}=hu();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,n7()?"_blank":"_system","location=yes"),n(i)})})}async function Qj(t,e,n){const{cordova:r}=hu();let i=()=>{};try{await new Promise((o,s)=>{let u=null;function c(){var v;o();const y=(v=r.plugins.browsertab)==null?void 0:v.close;typeof y=="function"&&y(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function f(){u||(u=window.setTimeout(()=>{s(bn(t,"redirect-cancelled-by-user"))},Wj))}function h(){(document==null?void 0:document.visibilityState)==="visible"&&f()}e.addPassiveListener(c),document.addEventListener("resume",f,!1),sm()&&document.addEventListener("visibilitychange",h,!1),i=()=>{e.removePassiveListener(c),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",h,!1),u&&window.clearTimeout(u)}})}finally{i()}}function Xj(t){var n,r,i,o,s,u,c,f,h,y;const e=hu();me(typeof((n=e==null?void 0:e.universalLinks)==null?void 0:n.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),me(typeof((r=e==null?void 0:e.BuildInfo)==null?void 0:r.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),me(typeof((s=(o=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:o.browsertab)==null?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me(typeof((f=(c=(u=e==null?void 0:e.cordova)==null?void 0:u.plugins)==null?void 0:c.browsertab)==null?void 0:f.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me(typeof((y=(h=e==null?void 0:e.cordova)==null?void 0:h.InAppBrowser)==null?void 0:y.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function Zj(t){const e=eY(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function eY(t){if(Hi(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tY=20;class nY extends UF{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function rY(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:sY(),postBody:null,tenantId:t.tenantId,error:bn(t,"no-auth-event")}}function iY(t,e){return sb()._set(ab(t),e)}async function TD(t){const e=await sb()._get(ab(t));return e&&await sb()._remove(ab(t)),e}function oY(t,e){var r,i;const n=lY(e);if(n.includes("/__/auth/callback")){const o=zy(n),s=o.firebaseError?aY(decodeURIComponent(o.firebaseError)):null,u=(i=(r=s==null?void 0:s.code)==null?void 0:r.split("auth/"))==null?void 0:i[1],c=u?bn(u):null;return c?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:c,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:n,postBody:null}}return null}function sY(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<tY;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function sb(){return Qr(vI)}function ab(t){return ru("authEvent",t.config.apiKey,t.name)}function aY(t){try{return JSON.parse(t)}catch{return null}}function lY(t){const e=zy(t),n=e.link?decodeURIComponent(e.link):void 0,r=zy(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return zy(i).link||i||r||n||t}function zy(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Jc(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uY=500;class cY{constructor(){this._redirectPersistence=fu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=M_,this._overrideRedirectResult=SI}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new nY(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){tr(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){Xj(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),ij(),await this._originValidation(e);const s=rY(e,r,i);await iY(e,s);const u=await jj(e,s,n),c=await Jj(u);return Qj(e,o,c)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Yj(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:o}=hu(),s=setTimeout(async()=>{await TD(e),n.onEvent(ED())},uY),u=async h=>{clearTimeout(s);const y=await TD(e);let v=null;y&&(h!=null&&h.url)&&(v=oY(y,h.url)),n.onEvent(v||ED())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,u);const c=i,f=`${o.packageName.toLowerCase()}://`;hu().handleOpenURL=async h=>{if(h.toLowerCase().startsWith(f)&&u({url:h}),typeof c=="function")try{c(h)}catch(y){console.error(y)}}}}const fY=cY;function ED(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:bn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dY(t,e){Ht(t)._logFramework(e)}var hY="@firebase/auth-compat",pY="0.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mY=1e3;function cp(){var t;return((t=self==null?void 0:self.location)==null?void 0:t.protocol)||null}function gY(){return cp()==="http:"||cp()==="https:"}function $F(t=zt()){return!!((cp()==="file:"||cp()==="ionic:"||cp()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function yY(){return tI()||T_()}function vY(){return kU()&&(document==null?void 0:document.documentMode)===11}function _Y(t=zt()){return/Edge\/\d+/.test(t)}function TY(t=zt()){return vY()||_Y(t)}function zF(){try{const t=self.localStorage,e=cm();if(t)return t.setItem(e,"1"),t.removeItem(e),TY()?bp():!0}catch{return AI()&&bp()}return!1}function AI(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function nw(){return(gY()||NU()||$F())&&!yY()&&zF()&&!AI()}function HF(){return $F()&&typeof document<"u"}async function EY(){return HF()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},mY);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function wY(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr={LOCAL:"local",NONE:"none",SESSION:"session"},Nh=me,GF="persistence";function SY(t,e){if(Nh(Object.values(jr).includes(e),t,"invalid-persistence-type"),tI()){Nh(e!==jr.SESSION,t,"unsupported-persistence-type");return}if(T_()){Nh(e===jr.NONE,t,"unsupported-persistence-type");return}if(AI()){Nh(e===jr.NONE||e===jr.LOCAL&&bp(),t,"unsupported-persistence-type");return}Nh(e===jr.NONE||zF(),t,"unsupported-persistence-type")}async function lb(t){await t._initializationPromise;const e=KF(),n=ru(GF,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistenceType())}function bY(t,e){const n=KF();if(!n)return[];const r=ru(GF,t,e);switch(n.getItem(r)){case jr.NONE:return[mf];case jr.LOCAL:return[Pp,fu];case jr.SESSION:return[fu];default:return[]}}function KF(){var t;try{return((t=wY())==null?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AY=me;class ba{constructor(){this.browserResolver=Qr(Bj),this.cordovaResolver=Qr(fY),this.underlyingResolver=null,this._redirectPersistence=fu,this._completeRedirectFn=M_,this._overrideRedirectResult=SI}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return HF()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return AY(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await EY();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WF(t){return t.unwrap()}function IY(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CY(t){return jF(t)}function xY(t,e){var r;const n=(r=e.customData)==null?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new RY(t,_W(t,e))}else if(n){const i=jF(e),o=e;i&&(o.credential=i,o.tenantId=n.tenantId||void 0,o.email=n.email||void 0,o.phoneNumber=n.phoneNumber||void 0)}}function jF(t){const{_tokenResponse:e}=t instanceof Tr?t.customData:t;if(!e)return null;if(!(t instanceof Tr)&&"temporaryProof"in e&&"phoneNumber"in e)return du.credentialFromResult(t);const n=e.providerId;if(!n||n===Mh.PASSWORD)return null;let r;switch(n){case Mh.GOOGLE:r=yo;break;case Mh.FACEBOOK:r=go;break;case Mh.GITHUB:r=vo;break;case Mh.TWITTER:r=_o;break;default:const{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:s,pendingToken:u,nonce:c}=e;return!o&&!s&&!i&&!u?null:u?n.startsWith("saml.")?gf._create(n,u):Po._fromParams({providerId:n,signInMethod:n,pendingToken:u,idToken:i,accessToken:o}):new nf(n).credential({idToken:i,accessToken:o,rawNonce:c})}return t instanceof Tr?r.credentialFromError(t):r.credentialFromResult(t)}function Rr(t,e){return e.catch(n=>{throw n instanceof Tr&&xY(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:CY(n),additionalUserInfo:vW(n),user:D_.getOrCreate(i)}})}async function ub(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Rr(t,n.confirm(r))}}class RY{constructor(e,n){this.resolver=n,this.auth=IY(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Rr(WF(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D_=class Qh{constructor(e){this._delegate=e,this.multiFactor=wW(e)}static getOrCreate(e){return Qh.USER_MAP.has(e)||Qh.USER_MAP.set(e,new Qh(e)),Qh.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Rr(this.auth,SF(this._delegate,e))}async linkWithPhoneNumber(e,n){return ub(this.auth,GW(this._delegate,e,n))}async linkWithPopup(e){return Rr(this.auth,ej(this._delegate,e,ba))}async linkWithRedirect(e){return await lb(Ht(this.auth)),uj(this._delegate,e,ba)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Rr(this.auth,bF(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return ub(this.auth,KW(this._delegate,e,n))}reauthenticateWithPopup(e){return Rr(this.auth,ZW(this._delegate,e,ba))}async reauthenticateWithRedirect(e){return await lb(Ht(this.auth)),aj(this._delegate,e,ba)}sendEmailVerification(e){return aW(this._delegate,e)}async unlink(e){return await W7(this._delegate,e),this}updateEmail(e){return fW(this._delegate,e)}updatePassword(e){return dW(this._delegate,e)}updatePhoneNumber(e){return WW(this._delegate,e)}updateProfile(e){return cW(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return lW(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};D_.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=me;class cb{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;kh(r,"invalid-api-key",{appName:e.name}),kh(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?ba:void 0;this._delegate=n.initialize({options:{persistence:PY(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(VK),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?D_.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){b7(this._delegate,e,n)}applyActionCode(e){return X7(this._delegate,e)}checkActionCode(e){return AF(this._delegate,e)}confirmPasswordReset(e,n){return Q7(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Rr(this._delegate,eW(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return sW(this._delegate,e)}isSignInWithEmailLink(e){return rW(this._delegate,e)}async getRedirectResult(){kh(nw(),this._delegate,"operation-not-supported-in-this-environment");const e=await fj(this._delegate,ba);return e?Rr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){dY(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:o,complete:s}=wD(e,n,r);return this._delegate.onAuthStateChanged(i,o,s)}onIdTokenChanged(e,n,r){const{next:i,error:o,complete:s}=wD(e,n,r);return this._delegate.onIdTokenChanged(i,o,s)}sendSignInLinkToEmail(e,n){return nW(this._delegate,e,n)}sendPasswordResetEmail(e,n){return J7(this._delegate,e,n||void 0)}async setPersistence(e){SY(this._delegate,e);let n;switch(e){case jr.SESSION:n=fu;break;case jr.LOCAL:n=await Qr(Pp)._isAvailable()?Pp:vI;break;case jr.NONE:n=mf;break;default:return tr("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Rr(this._delegate,K7(this._delegate))}signInWithCredential(e){return Rr(this._delegate,I_(this._delegate,e))}signInWithCustomToken(e){return Rr(this._delegate,Y7(this._delegate,e))}signInWithEmailAndPassword(e,n){return Rr(this._delegate,tW(this._delegate,e,n))}signInWithEmailLink(e,n){return Rr(this._delegate,iW(this._delegate,e,n))}signInWithPhoneNumber(e,n){return ub(this._delegate,HW(this._delegate,e,n))}async signInWithPopup(e){return kh(nw(),this._delegate,"operation-not-supported-in-this-environment"),Rr(this._delegate,XW(this._delegate,e,ba))}async signInWithRedirect(e){return kh(nw(),this._delegate,"operation-not-supported-in-this-environment"),await lb(this._delegate),oj(this._delegate,e,ba)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Z7(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}cb.Persistence=jr;function wD(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:s=>i(s&&D_.getOrCreate(s)),error:e,complete:n}}function PY(t,e){const n=bY(t,e);if(typeof self<"u"&&!n.includes(Pp)&&n.push(Pp),typeof window<"u")for(const r of[vI,fu])n.includes(r)||n.push(r);return n.includes(mf)||n.push(mf),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{static credential(e,n){return du.credential(e,n)}constructor(){this.providerId="phone",this._delegate=new du(WF(Ro.auth()))}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}II.PHONE_SIGN_IN_METHOD=du.PHONE_SIGN_IN_METHOD;II.PROVIDER_ID=du.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MY=me;class DY{constructor(e,n,r=Ro.app()){var i;MY((i=r.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new $W(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NY="auth-compat";function kY(t){t.INTERNAL.registerComponent(new xo(NY,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new cb(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Oc.EMAIL_SIGNIN,PASSWORD_RESET:Oc.PASSWORD_RESET,RECOVER_EMAIL:Oc.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Oc.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Oc.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Oc.VERIFY_EMAIL}},EmailAuthProvider:ja,FacebookAuthProvider:go,GithubAuthProvider:vo,GoogleAuthProvider:yo,OAuthProvider:nf,SAMLAuthProvider:fv,PhoneAuthProvider:II,PhoneMultiFactorGenerator:qF,RecaptchaVerifier:DY,TwitterAuthProvider:_o,Auth:cb,AuthCredential:Xf,Error:Tr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(hY,pY)}kY(Ro);var SD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pa,YF;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,O){function k(){}k.prototype=O.prototype,N.D=O.prototype,N.prototype=new k,N.prototype.constructor=N,N.C=function(B,F,$){for(var z=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)z[Re-2]=arguments[Re];return O.prototype[F].apply(B,z)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,O,k){k||(k=0);var B=Array(16);if(typeof O=="string")for(var F=0;16>F;++F)B[F]=O.charCodeAt(k++)|O.charCodeAt(k++)<<8|O.charCodeAt(k++)<<16|O.charCodeAt(k++)<<24;else for(F=0;16>F;++F)B[F]=O[k++]|O[k++]<<8|O[k++]<<16|O[k++]<<24;O=N.g[0],k=N.g[1],F=N.g[2];var $=N.g[3],z=O+($^k&(F^$))+B[0]+3614090360&4294967295;O=k+(z<<7&4294967295|z>>>25),z=$+(F^O&(k^F))+B[1]+3905402710&4294967295,$=O+(z<<12&4294967295|z>>>20),z=F+(k^$&(O^k))+B[2]+606105819&4294967295,F=$+(z<<17&4294967295|z>>>15),z=k+(O^F&($^O))+B[3]+3250441966&4294967295,k=F+(z<<22&4294967295|z>>>10),z=O+($^k&(F^$))+B[4]+4118548399&4294967295,O=k+(z<<7&4294967295|z>>>25),z=$+(F^O&(k^F))+B[5]+1200080426&4294967295,$=O+(z<<12&4294967295|z>>>20),z=F+(k^$&(O^k))+B[6]+2821735955&4294967295,F=$+(z<<17&4294967295|z>>>15),z=k+(O^F&($^O))+B[7]+4249261313&4294967295,k=F+(z<<22&4294967295|z>>>10),z=O+($^k&(F^$))+B[8]+1770035416&4294967295,O=k+(z<<7&4294967295|z>>>25),z=$+(F^O&(k^F))+B[9]+2336552879&4294967295,$=O+(z<<12&4294967295|z>>>20),z=F+(k^$&(O^k))+B[10]+4294925233&4294967295,F=$+(z<<17&4294967295|z>>>15),z=k+(O^F&($^O))+B[11]+2304563134&4294967295,k=F+(z<<22&4294967295|z>>>10),z=O+($^k&(F^$))+B[12]+1804603682&4294967295,O=k+(z<<7&4294967295|z>>>25),z=$+(F^O&(k^F))+B[13]+4254626195&4294967295,$=O+(z<<12&4294967295|z>>>20),z=F+(k^$&(O^k))+B[14]+2792965006&4294967295,F=$+(z<<17&4294967295|z>>>15),z=k+(O^F&($^O))+B[15]+1236535329&4294967295,k=F+(z<<22&4294967295|z>>>10),z=O+(F^$&(k^F))+B[1]+4129170786&4294967295,O=k+(z<<5&4294967295|z>>>27),z=$+(k^F&(O^k))+B[6]+3225465664&4294967295,$=O+(z<<9&4294967295|z>>>23),z=F+(O^k&($^O))+B[11]+643717713&4294967295,F=$+(z<<14&4294967295|z>>>18),z=k+($^O&(F^$))+B[0]+3921069994&4294967295,k=F+(z<<20&4294967295|z>>>12),z=O+(F^$&(k^F))+B[5]+3593408605&4294967295,O=k+(z<<5&4294967295|z>>>27),z=$+(k^F&(O^k))+B[10]+38016083&4294967295,$=O+(z<<9&4294967295|z>>>23),z=F+(O^k&($^O))+B[15]+3634488961&4294967295,F=$+(z<<14&4294967295|z>>>18),z=k+($^O&(F^$))+B[4]+3889429448&4294967295,k=F+(z<<20&4294967295|z>>>12),z=O+(F^$&(k^F))+B[9]+568446438&4294967295,O=k+(z<<5&4294967295|z>>>27),z=$+(k^F&(O^k))+B[14]+3275163606&4294967295,$=O+(z<<9&4294967295|z>>>23),z=F+(O^k&($^O))+B[3]+4107603335&4294967295,F=$+(z<<14&4294967295|z>>>18),z=k+($^O&(F^$))+B[8]+1163531501&4294967295,k=F+(z<<20&4294967295|z>>>12),z=O+(F^$&(k^F))+B[13]+2850285829&4294967295,O=k+(z<<5&4294967295|z>>>27),z=$+(k^F&(O^k))+B[2]+4243563512&4294967295,$=O+(z<<9&4294967295|z>>>23),z=F+(O^k&($^O))+B[7]+1735328473&4294967295,F=$+(z<<14&4294967295|z>>>18),z=k+($^O&(F^$))+B[12]+2368359562&4294967295,k=F+(z<<20&4294967295|z>>>12),z=O+(k^F^$)+B[5]+4294588738&4294967295,O=k+(z<<4&4294967295|z>>>28),z=$+(O^k^F)+B[8]+2272392833&4294967295,$=O+(z<<11&4294967295|z>>>21),z=F+($^O^k)+B[11]+1839030562&4294967295,F=$+(z<<16&4294967295|z>>>16),z=k+(F^$^O)+B[14]+4259657740&4294967295,k=F+(z<<23&4294967295|z>>>9),z=O+(k^F^$)+B[1]+2763975236&4294967295,O=k+(z<<4&4294967295|z>>>28),z=$+(O^k^F)+B[4]+1272893353&4294967295,$=O+(z<<11&4294967295|z>>>21),z=F+($^O^k)+B[7]+4139469664&4294967295,F=$+(z<<16&4294967295|z>>>16),z=k+(F^$^O)+B[10]+3200236656&4294967295,k=F+(z<<23&4294967295|z>>>9),z=O+(k^F^$)+B[13]+681279174&4294967295,O=k+(z<<4&4294967295|z>>>28),z=$+(O^k^F)+B[0]+3936430074&4294967295,$=O+(z<<11&4294967295|z>>>21),z=F+($^O^k)+B[3]+3572445317&4294967295,F=$+(z<<16&4294967295|z>>>16),z=k+(F^$^O)+B[6]+76029189&4294967295,k=F+(z<<23&4294967295|z>>>9),z=O+(k^F^$)+B[9]+3654602809&4294967295,O=k+(z<<4&4294967295|z>>>28),z=$+(O^k^F)+B[12]+3873151461&4294967295,$=O+(z<<11&4294967295|z>>>21),z=F+($^O^k)+B[15]+530742520&4294967295,F=$+(z<<16&4294967295|z>>>16),z=k+(F^$^O)+B[2]+3299628645&4294967295,k=F+(z<<23&4294967295|z>>>9),z=O+(F^(k|~$))+B[0]+4096336452&4294967295,O=k+(z<<6&4294967295|z>>>26),z=$+(k^(O|~F))+B[7]+1126891415&4294967295,$=O+(z<<10&4294967295|z>>>22),z=F+(O^($|~k))+B[14]+2878612391&4294967295,F=$+(z<<15&4294967295|z>>>17),z=k+($^(F|~O))+B[5]+4237533241&4294967295,k=F+(z<<21&4294967295|z>>>11),z=O+(F^(k|~$))+B[12]+1700485571&4294967295,O=k+(z<<6&4294967295|z>>>26),z=$+(k^(O|~F))+B[3]+2399980690&4294967295,$=O+(z<<10&4294967295|z>>>22),z=F+(O^($|~k))+B[10]+4293915773&4294967295,F=$+(z<<15&4294967295|z>>>17),z=k+($^(F|~O))+B[1]+2240044497&4294967295,k=F+(z<<21&4294967295|z>>>11),z=O+(F^(k|~$))+B[8]+1873313359&4294967295,O=k+(z<<6&4294967295|z>>>26),z=$+(k^(O|~F))+B[15]+4264355552&4294967295,$=O+(z<<10&4294967295|z>>>22),z=F+(O^($|~k))+B[6]+2734768916&4294967295,F=$+(z<<15&4294967295|z>>>17),z=k+($^(F|~O))+B[13]+1309151649&4294967295,k=F+(z<<21&4294967295|z>>>11),z=O+(F^(k|~$))+B[4]+4149444226&4294967295,O=k+(z<<6&4294967295|z>>>26),z=$+(k^(O|~F))+B[11]+3174756917&4294967295,$=O+(z<<10&4294967295|z>>>22),z=F+(O^($|~k))+B[2]+718787259&4294967295,F=$+(z<<15&4294967295|z>>>17),z=k+($^(F|~O))+B[9]+3951481745&4294967295,N.g[0]=N.g[0]+O&4294967295,N.g[1]=N.g[1]+(F+(z<<21&4294967295|z>>>11))&4294967295,N.g[2]=N.g[2]+F&4294967295,N.g[3]=N.g[3]+$&4294967295}r.prototype.u=function(N,O){O===void 0&&(O=N.length);for(var k=O-this.blockSize,B=this.B,F=this.h,$=0;$<O;){if(F==0)for(;$<=k;)i(this,N,$),$+=this.blockSize;if(typeof N=="string"){for(;$<O;)if(B[F++]=N.charCodeAt($++),F==this.blockSize){i(this,B),F=0;break}}else for(;$<O;)if(B[F++]=N[$++],F==this.blockSize){i(this,B),F=0;break}}this.h=F,this.o+=O},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var O=1;O<N.length-8;++O)N[O]=0;var k=8*this.o;for(O=N.length-8;O<N.length;++O)N[O]=k&255,k/=256;for(this.u(N),N=Array(16),O=k=0;4>O;++O)for(var B=0;32>B;B+=8)N[k++]=this.g[O]>>>B&255;return N};function o(N,O){var k=u;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=O(N)}function s(N,O){this.h=O;for(var k=[],B=!0,F=N.length-1;0<=F;F--){var $=N[F]|0;B&&$==O||(k[F]=$,B=!1)}this.g=k}var u={};function c(N){return-128<=N&&128>N?o(N,function(O){return new s([O|0],0>O?-1:0)}):new s([N|0],0>N?-1:0)}function f(N){if(isNaN(N)||!isFinite(N))return y;if(0>N)return I(f(-N));for(var O=[],k=1,B=0;N>=k;B++)O[B]=N/k|0,k*=4294967296;return new s(O,0)}function h(N,O){if(N.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(N.charAt(0)=="-")return I(h(N.substring(1),O));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=f(Math.pow(O,8)),B=y,F=0;F<N.length;F+=8){var $=Math.min(8,N.length-F),z=parseInt(N.substring(F,F+$),O);8>$?($=f(Math.pow(O,$)),B=B.j($).add(f(z))):(B=B.j(k),B=B.add(f(z)))}return B}var y=c(0),v=c(1),E=c(16777216);t=s.prototype,t.m=function(){if(b(this))return-I(this).m();for(var N=0,O=1,k=0;k<this.g.length;k++){var B=this.i(k);N+=(0<=B?B:4294967296+B)*O,O*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(S(this))return"0";if(b(this))return"-"+I(this).toString(N);for(var O=f(Math.pow(N,6)),k=this,B="";;){var F=q(k,O).g;k=R(k,F.j(O));var $=((0<k.g.length?k.g[0]:k.h)>>>0).toString(N);if(k=F,S(k))return $+B;for(;6>$.length;)$="0"+$;B=$+B}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function S(N){if(N.h!=0)return!1;for(var O=0;O<N.g.length;O++)if(N.g[O]!=0)return!1;return!0}function b(N){return N.h==-1}t.l=function(N){return N=R(this,N),b(N)?-1:S(N)?0:1};function I(N){for(var O=N.g.length,k=[],B=0;B<O;B++)k[B]=~N.g[B];return new s(k,~N.h).add(v)}t.abs=function(){return b(this)?I(this):this},t.add=function(N){for(var O=Math.max(this.g.length,N.g.length),k=[],B=0,F=0;F<=O;F++){var $=B+(this.i(F)&65535)+(N.i(F)&65535),z=($>>>16)+(this.i(F)>>>16)+(N.i(F)>>>16);B=z>>>16,$&=65535,z&=65535,k[F]=z<<16|$}return new s(k,k[k.length-1]&-2147483648?-1:0)};function R(N,O){return N.add(I(O))}t.j=function(N){if(S(this)||S(N))return y;if(b(this))return b(N)?I(this).j(I(N)):I(I(this).j(N));if(b(N))return I(this.j(I(N)));if(0>this.l(E)&&0>N.l(E))return f(this.m()*N.m());for(var O=this.g.length+N.g.length,k=[],B=0;B<2*O;B++)k[B]=0;for(B=0;B<this.g.length;B++)for(var F=0;F<N.g.length;F++){var $=this.i(B)>>>16,z=this.i(B)&65535,Re=N.i(F)>>>16,we=N.i(F)&65535;k[2*B+2*F]+=z*we,D(k,2*B+2*F),k[2*B+2*F+1]+=$*we,D(k,2*B+2*F+1),k[2*B+2*F+1]+=z*Re,D(k,2*B+2*F+1),k[2*B+2*F+2]+=$*Re,D(k,2*B+2*F+2)}for(B=0;B<O;B++)k[B]=k[2*B+1]<<16|k[2*B];for(B=O;B<2*O;B++)k[B]=0;return new s(k,0)};function D(N,O){for(;(N[O]&65535)!=N[O];)N[O+1]+=N[O]>>>16,N[O]&=65535,O++}function C(N,O){this.g=N,this.h=O}function q(N,O){if(S(O))throw Error("division by zero");if(S(N))return new C(y,y);if(b(N))return O=q(I(N),O),new C(I(O.g),I(O.h));if(b(O))return O=q(N,I(O)),new C(I(O.g),O.h);if(30<N.g.length){if(b(N)||b(O))throw Error("slowDivide_ only works with positive integers.");for(var k=v,B=O;0>=B.l(N);)k=L(k),B=L(B);var F=G(k,1),$=G(B,1);for(B=G(B,2),k=G(k,2);!S(B);){var z=$.add(B);0>=z.l(N)&&(F=F.add(k),$=z),B=G(B,1),k=G(k,1)}return O=R(N,F.j(O)),new C(F,O)}for(F=y;0<=N.l(O);){for(k=Math.max(1,Math.floor(N.m()/O.m())),B=Math.ceil(Math.log(k)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),$=f(k),z=$.j(O);b(z)||0<z.l(N);)k-=B,$=f(k),z=$.j(O);S($)&&($=v),F=F.add($),N=R(N,z)}return new C(F,N)}t.A=function(N){return q(this,N).h},t.and=function(N){for(var O=Math.max(this.g.length,N.g.length),k=[],B=0;B<O;B++)k[B]=this.i(B)&N.i(B);return new s(k,this.h&N.h)},t.or=function(N){for(var O=Math.max(this.g.length,N.g.length),k=[],B=0;B<O;B++)k[B]=this.i(B)|N.i(B);return new s(k,this.h|N.h)},t.xor=function(N){for(var O=Math.max(this.g.length,N.g.length),k=[],B=0;B<O;B++)k[B]=this.i(B)^N.i(B);return new s(k,this.h^N.h)};function L(N){for(var O=N.g.length+1,k=[],B=0;B<O;B++)k[B]=N.i(B)<<1|N.i(B-1)>>>31;return new s(k,N.h)}function G(N,O){var k=O>>5;O%=32;for(var B=N.g.length-k,F=[],$=0;$<B;$++)F[$]=0<O?N.i($+k)>>>O|N.i($+k+1)<<32-O:N.i($+k);return new s(F,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,YF=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=h,Pa=s}).apply(typeof SD<"u"?SD:typeof self<"u"?self:typeof window<"u"?window:{});var py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JF,Xh,QF,Hy,fb,XF,ZF,eB;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,A,x){return _==Array.prototype||_==Object.prototype||(_[A]=x.value),_};function n(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof py=="object"&&py];for(var A=0;A<_.length;++A){var x=_[A];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(_,A){if(A)e:{var x=r;_=_.split(".");for(var U=0;U<_.length-1;U++){var J=_[U];if(!(J in x))break e;x=x[J]}_=_[_.length-1],U=x[_],A=A(U),A!=U&&A!=null&&e(x,_,{configurable:!0,writable:!0,value:A})}}function o(_,A){_ instanceof String&&(_+="");var x=0,U=!1,J={next:function(){if(!U&&x<_.length){var ie=x++;return{value:A(ie,_[ie]),done:!1}}return U=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(_){return _||function(){return o(this,function(A,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},u=this||self;function c(_){var A=typeof _;return A=A!="object"?A:_?Array.isArray(_)?"array":A:"null",A=="array"||A=="object"&&typeof _.length=="number"}function f(_){var A=typeof _;return A=="object"&&_!=null||A=="function"}function h(_,A,x){return _.call.apply(_.bind,arguments)}function y(_,A,x){if(!_)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,U),_.apply(A,J)}}return function(){return _.apply(A,arguments)}}function v(_,A,x){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:y,v.apply(null,arguments)}function E(_,A){var x=Array.prototype.slice.call(arguments,1);return function(){var U=x.slice();return U.push.apply(U,arguments),_.apply(this,U)}}function S(_,A){function x(){}x.prototype=A.prototype,_.aa=A.prototype,_.prototype=new x,_.prototype.constructor=_,_.Qb=function(U,J,ie){for(var ye=Array(arguments.length-2),et=2;et<arguments.length;et++)ye[et-2]=arguments[et];return A.prototype[J].apply(U,ye)}}function b(_){const A=_.length;if(0<A){const x=Array(A);for(let U=0;U<A;U++)x[U]=_[U];return x}return[]}function I(_,A){for(let x=1;x<arguments.length;x++){const U=arguments[x];if(c(U)){const J=_.length||0,ie=U.length||0;_.length=J+ie;for(let ye=0;ye<ie;ye++)_[J+ye]=U[ye]}else _.push(U)}}class R{constructor(A,x){this.i=A,this.j=x,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function D(_){return/^[\s\xa0]*$/.test(_)}function C(){var _=u.navigator;return _&&(_=_.userAgent)?_:""}function q(_){return q[" "](_),_}q[" "]=function(){};var L=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function G(_,A,x){for(const U in _)A.call(x,_[U],U,_)}function N(_,A){for(const x in _)A.call(void 0,_[x],x,_)}function O(_){const A={};for(const x in _)A[x]=_[x];return A}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(_,A){let x,U;for(let J=1;J<arguments.length;J++){U=arguments[J];for(x in U)_[x]=U[x];for(let ie=0;ie<k.length;ie++)x=k[ie],Object.prototype.hasOwnProperty.call(U,x)&&(_[x]=U[x])}}function F(_){var A=1;_=_.split(":");const x=[];for(;0<A&&_.length;)x.push(_.shift()),A--;return _.length&&x.push(_.join(":")),x}function $(_){u.setTimeout(()=>{throw _},0)}function z(){var _=Be;let A=null;return _.g&&(A=_.g,_.g=_.g.next,_.g||(_.h=null),A.next=null),A}class Re{constructor(){this.h=this.g=null}add(A,x){const U=we.get();U.set(A,x),this.h?this.h.next=U:this.g=U,this.h=U}}var we=new R(()=>new ee,_=>_.reset());class ee{constructor(){this.next=this.g=this.h=null}set(A,x){this.h=A,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,Se=!1,Be=new Re,W=()=>{const _=u.Promise.resolve(void 0);pe=()=>{_.then(ce)}};var ce=()=>{for(var _;_=z();){try{_.h.call(_.g)}catch(x){$(x)}var A=we;A.j(_),100>A.h&&(A.h++,_.next=A.g,A.g=_)}Se=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(_,A){this.type=_,this.g=this.target=A,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Pe=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var _=!1,A=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const x=()=>{};u.addEventListener("test",x,A),u.removeEventListener("test",x,A)}catch{}return _})();function ke(_,A){if(ge.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var x=this.type=_.type,U=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=A,A=_.relatedTarget){if(L){e:{try{q(A.nodeName);var J=!0;break e}catch{}J=!1}J||(A=null)}}else x=="mouseover"?A=_.fromElement:x=="mouseout"&&(A=_.toElement);this.relatedTarget=A,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:Ue[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&ke.aa.h.call(this)}}S(ke,ge);var Ue={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var sn="closure_listenable_"+(1e6*Math.random()|0),vt=0;function Te(_,A,x,U,J){this.listener=_,this.proxy=null,this.src=A,this.type=x,this.capture=!!U,this.ha=J,this.key=++vt,this.da=this.fa=!1}function $e(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function ze(_){this.src=_,this.g={},this.h=0}ze.prototype.add=function(_,A,x,U,J){var ie=_.toString();_=this.g[ie],_||(_=this.g[ie]=[],this.h++);var ye=Gt(_,A,U,J);return-1<ye?(A=_[ye],x||(A.fa=!1)):(A=new Te(A,this.src,ie,!!U,J),A.fa=x,_.push(A)),A};function he(_,A){var x=A.type;if(x in _.g){var U=_.g[x],J=Array.prototype.indexOf.call(U,A,void 0),ie;(ie=0<=J)&&Array.prototype.splice.call(U,J,1),ie&&($e(A),_.g[x].length==0&&(delete _.g[x],_.h--))}}function Gt(_,A,x,U){for(var J=0;J<_.length;++J){var ie=_[J];if(!ie.da&&ie.listener==A&&ie.capture==!!x&&ie.ha==U)return J}return-1}var Ze="closure_lm_"+(1e6*Math.random()|0),yn={};function Pn(_,A,x,U,J){if(Array.isArray(A)){for(var ie=0;ie<A.length;ie++)Pn(_,A[ie],x,U,J);return null}return x=zm(x),_&&_[sn]?_.K(A,x,f(U)?!!U.capture:!1,J):an(_,A,x,!1,U,J)}function an(_,A,x,U,J,ie){if(!A)throw Error("Invalid event type");var ye=f(J)?!!J.capture:!!J,et=Hu(_);if(et||(_[Ze]=et=new ze(_)),x=et.add(A,x,U,ye,ie),x.proxy)return x;if(U=$u(),x.proxy=U,U.src=_,U.listener=x,_.addEventListener)Pe||(J=ye),J===void 0&&(J=!1),_.addEventListener(A.toString(),U,J);else if(_.attachEvent)_.attachEvent(il(A.toString()),U);else if(_.addListener&&_.removeListener)_.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return x}function $u(){function _(x){return A.call(_.src,_.listener,x)}const A=U0;return _}function Ed(_,A,x,U,J){if(Array.isArray(A))for(var ie=0;ie<A.length;ie++)Ed(_,A[ie],x,U,J);else U=f(U)?!!U.capture:!!U,x=zm(x),_&&_[sn]?(_=_.i,A=String(A).toString(),A in _.g&&(ie=_.g[A],x=Gt(ie,x,U,J),-1<x&&($e(ie[x]),Array.prototype.splice.call(ie,x,1),ie.length==0&&(delete _.g[A],_.h--)))):_&&(_=Hu(_))&&(A=_.g[A.toString()],_=-1,A&&(_=Gt(A,x,U,J)),(x=-1<_?A[_]:null)&&zu(x))}function zu(_){if(typeof _!="number"&&_&&!_.da){var A=_.src;if(A&&A[sn])he(A.i,_);else{var x=_.type,U=_.proxy;A.removeEventListener?A.removeEventListener(x,U,_.capture):A.detachEvent?A.detachEvent(il(x),U):A.addListener&&A.removeListener&&A.removeListener(U),(x=Hu(A))?(he(x,_),x.h==0&&(x.src=null,A[Ze]=null)):$e(_)}}}function il(_){return _ in yn?yn[_]:yn[_]="on"+_}function U0(_,A){if(_.da)_=!0;else{A=new ke(A,this);var x=_.listener,U=_.ha||_.src;_.fa&&zu(_),_=x.call(U,A)}return _}function Hu(_){return _=_[Ze],_ instanceof ze?_:null}var wd="__closure_events_fn_"+(1e9*Math.random()>>>0);function zm(_){return typeof _=="function"?_:(_[wd]||(_[wd]=function(A){return _.handleEvent(A)}),_[wd])}function Kt(){ae.call(this),this.i=new ze(this),this.M=this,this.F=null}S(Kt,ae),Kt.prototype[sn]=!0,Kt.prototype.removeEventListener=function(_,A,x,U){Ed(this,_,A,x,U)};function ft(_,A){var x,U=_.F;if(U)for(x=[];U;U=U.F)x.push(U);if(_=_.M,U=A.type||A,typeof A=="string")A=new ge(A,_);else if(A instanceof ge)A.target=A.target||_;else{var J=A;A=new ge(U,_),B(A,J)}if(J=!0,x)for(var ie=x.length-1;0<=ie;ie--){var ye=A.g=x[ie];J=Or(ye,U,!0,A)&&J}if(ye=A.g=_,J=Or(ye,U,!0,A)&&J,J=Or(ye,U,!1,A)&&J,x)for(ie=0;ie<x.length;ie++)ye=A.g=x[ie],J=Or(ye,U,!1,A)&&J}Kt.prototype.N=function(){if(Kt.aa.N.call(this),this.i){var _=this.i,A;for(A in _.g){for(var x=_.g[A],U=0;U<x.length;U++)$e(x[U]);delete _.g[A],_.h--}}this.F=null},Kt.prototype.K=function(_,A,x,U){return this.i.add(String(_),A,!1,x,U)},Kt.prototype.L=function(_,A,x,U){return this.i.add(String(_),A,!0,x,U)};function Or(_,A,x,U){if(A=_.i.g[String(A)],!A)return!0;A=A.concat();for(var J=!0,ie=0;ie<A.length;++ie){var ye=A[ie];if(ye&&!ye.da&&ye.capture==x){var et=ye.listener,_n=ye.ha||ye.src;ye.fa&&he(_.i,ye),J=et.call(_n,U)!==!1&&J}}return J&&!U.defaultPrevented}function nr(_,A,x){if(typeof _=="function")x&&(_=v(_,x));else if(_&&typeof _.handleEvent=="function")_=v(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:u.setTimeout(_,A||0)}function Hm(_){_.g=nr(()=>{_.g=null,_.i&&(_.i=!1,Hm(_))},_.l);const A=_.h;_.h=null,_.m.apply(null,A)}class F0 extends ae{constructor(A,x){super(),this.m=A,this.l=x,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Hm(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ol(_){ae.call(this),this.h=_,this.g={}}S(ol,ae);var sl=[];function al(_){G(_.g,function(A,x){this.g.hasOwnProperty(x)&&zu(A)},_),_.g={}}ol.prototype.N=function(){ol.aa.N.call(this),al(this)},ol.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mi=u.JSON.stringify,Gu=u.JSON.parse,ll=class{stringify(_){return u.JSON.stringify(_,void 0)}parse(_){return u.JSON.parse(_,void 0)}};function Sd(){}Sd.prototype.h=null;function bd(_){return _.h||(_.h=_.i())}function Ad(){}var Vo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lo(){ge.call(this,"d")}S(Lo,ge);function Id(){ge.call(this,"c")}S(Id,ge);var Qi={},Cd=null;function Fs(){return Cd=Cd||new Kt}Qi.La="serverreachability";function Ku(_){ge.call(this,Qi.La,_)}S(Ku,ge);function Bs(_){const A=Fs();ft(A,new Ku(A))}Qi.STAT_EVENT="statevent";function Gm(_,A){ge.call(this,Qi.STAT_EVENT,_),this.stat=A}S(Gm,ge);function kt(_){const A=Fs();ft(A,new Gm(A,_))}Qi.Ma="timingevent";function vn(_,A){ge.call(this,Qi.Ma,_),this.size=A}S(vn,ge);function ln(_,A){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){_()},A)}function oi(){this.g=!0}oi.prototype.xa=function(){this.g=!1};function xd(_,A,x,U,J,ie){_.info(function(){if(_.g)if(ie)for(var ye="",et=ie.split("&"),_n=0;_n<et.length;_n++){var tt=et[_n].split("=");if(1<tt.length){var Dn=tt[0];tt=tt[1];var Tn=Dn.split("_");ye=2<=Tn.length&&Tn[1]=="type"?ye+(Dn+"="+tt+"&"):ye+(Dn+"=redacted&")}}else ye=null;else ye=ie;return"XMLHTTP REQ ("+U+") [attempt "+J+"]: "+A+`
`+x+`
`+ye})}function B0(_,A,x,U,J,ie,ye){_.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+J+"]: "+A+`
`+x+`
`+ie+" "+ye})}function qs(_,A,x,U){_.info(function(){return"XMLHTTP TEXT ("+A+"): "+ul(_,x)+(U?" "+U:"")})}function Km(_,A){_.info(function(){return"TIMEOUT: "+A})}oi.prototype.info=function(){};function ul(_,A){if(!_.g)return A;if(!A)return null;try{var x=JSON.parse(A);if(x){for(_=0;_<x.length;_++)if(Array.isArray(x[_])){var U=x[_];if(!(2>U.length)){var J=U[1];if(Array.isArray(J)&&!(1>J.length)){var ie=J[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ye=1;ye<J.length;ye++)J[ye]=""}}}}return Mi(x)}catch{return A}}var $s={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Uo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xi;function Zi(){}S(Zi,Sd),Zi.prototype.g=function(){return new XMLHttpRequest},Zi.prototype.i=function(){return{}},Xi=new Zi;function hr(_,A,x,U){this.j=_,this.i=A,this.l=x,this.R=U||1,this.U=new ol(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zt}function Zt(){this.i=null,this.g="",this.h=!1}var Rd={},Wu={};function Di(_,A,x){_.L=1,_.v=pl(Vr(A)),_.m=x,_.P=!0,Fo(_,null)}function Fo(_,A){_.F=Date.now(),cl(_),_.A=Vr(_.v);var x=_.A,U=_.R;Array.isArray(U)||(U=[String(U)]),Od(x.i,"t",U),_.C=0,x=_.j.J,_.h=new Zt,_.g=lg(_.j,x?A:null,!_.m),0<_.O&&(_.M=new F0(v(_.Y,_,_.g),_.O)),A=_.U,x=_.g,U=_.ca;var J="readystatechange";Array.isArray(J)||(J&&(sl[0]=J.toString()),J=sl);for(var ie=0;ie<J.length;ie++){var ye=Pn(x,J[ie],U||A.handleEvent,!1,A.h||A);if(!ye)break;A.g[ye.key]=ye}A=_.H?O(_.H):{},_.m?(_.u||(_.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,A)):(_.u="GET",_.g.ea(_.A,_.u,null,A)),Bs(),xd(_.i,_.u,_.A,_.l,_.R,_.m)}hr.prototype.ca=function(_){_=_.target;const A=this.M;A&&ui(_)==3?A.j():this.Y(_)},hr.prototype.Y=function(_){try{if(_==this.g)e:{const Tn=ui(this.g);var A=this.g.Ba();const Wo=this.g.Z();if(!(3>Tn)&&(Tn!=3||this.g&&(this.h.h||this.g.oa()||eg(this.g)))){this.J||Tn!=4||A==7||(A==8||0>=Wo?Bs(3):Bs(2)),zs(this);var x=this.g.Z();this.X=x;t:if(Wm(this)){var U=eg(this.g);_="";var J=U.length,ie=ui(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hn(this),eo(this);var ye="";break t}this.h.i=new u.TextDecoder}for(A=0;A<J;A++)this.h.h=!0,_+=this.h.i.decode(U[A],{stream:!(ie&&A==J-1)});U.length=0,this.h.g+=_,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=x==200,B0(this.i,this.u,this.A,this.l,this.R,Tn,x),this.o){if(this.T&&!this.K){t:{if(this.g){var et,_n=this.g;if((et=_n.g?_n.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(et)){var tt=et;break t}}tt=null}if(x=tt)qs(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fl(this,x);else{this.o=!1,this.s=3,kt(12),Hn(this),eo(this);break e}}if(this.P){x=!0;let Gn;for(;!this.J&&this.C<ye.length;)if(Gn=jm(this,ye),Gn==Wu){Tn==4&&(this.s=4,kt(14),x=!1),qs(this.i,this.l,null,"[Incomplete Response]");break}else if(Gn==Rd){this.s=4,kt(15),qs(this.i,this.l,ye,"[Invalid Chunk]"),x=!1;break}else qs(this.i,this.l,Gn,null),fl(this,Gn);if(Wm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tn!=4||ye.length!=0||this.h.h||(this.s=1,kt(16),x=!1),this.o=this.o&&x,!x)qs(this.i,this.l,ye,"[Invalid Chunked Response]"),Hn(this),eo(this);else if(0<ye.length&&!this.W){this.W=!0;var Dn=this.j;Dn.g==this&&Dn.ba&&!Dn.M&&(Dn.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),wl(Dn),Dn.M=!0,kt(11))}}else qs(this.i,this.l,ye,null),fl(this,ye);Tn==4&&Hn(this),this.o&&!this.J&&(Tn==4?og(this.j,this):(this.o=!1,cl(this)))}else G0(this.g),x==400&&0<ye.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),Hn(this),eo(this)}}}catch{}finally{}};function Wm(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function jm(_,A){var x=_.C,U=A.indexOf(`
`,x);return U==-1?Wu:(x=Number(A.substring(x,U)),isNaN(x)?Rd:(U+=1,U+x>A.length?Wu:(A=A.slice(U,U+x),_.C=U+x,A)))}hr.prototype.cancel=function(){this.J=!0,Hn(this)};function cl(_){_.S=Date.now()+_.I,Ym(_,_.I)}function Ym(_,A){if(_.B!=null)throw Error("WatchDog timer not null");_.B=ln(v(_.ba,_),A)}function zs(_){_.B&&(u.clearTimeout(_.B),_.B=null)}hr.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(Km(this.i,this.A),this.L!=2&&(Bs(),kt(17)),Hn(this),this.s=2,eo(this)):Ym(this,this.S-_)};function eo(_){_.j.G==0||_.J||og(_.j,_)}function Hn(_){zs(_);var A=_.M;A&&typeof A.ma=="function"&&A.ma(),_.M=null,al(_.U),_.g&&(A=_.g,_.g=null,A.abort(),A.ma())}function fl(_,A){try{var x=_.j;if(x.G!=0&&(x.g==_||Pd(x.h,_))){if(!_.K&&Pd(x.h,_)&&x.G==3){try{var U=x.Da.g.parse(A)}catch{U=null}if(Array.isArray(U)&&U.length==3){var J=U;if(J[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<_.F)oc(x),rc(x);else break e;Bd(x),kt(18)}}else x.za=J[1],0<x.za-x.T&&37500>J[2]&&x.F&&x.v==0&&!x.C&&(x.C=ln(v(x.Za,x),6e3));if(1>=Yu(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Ko(x,11)}else if((_.K||x.g==_)&&oc(x),!D(A))for(J=x.Da.g.parse(A),A=0;A<J.length;A++){let tt=J[A];if(x.T=tt[0],tt=tt[1],x.G==2)if(tt[0]=="c"){x.K=tt[1],x.ia=tt[2];const Dn=tt[3];Dn!=null&&(x.la=Dn,x.j.info("VER="+x.la));const Tn=tt[4];Tn!=null&&(x.Aa=Tn,x.j.info("SVER="+x.Aa));const Wo=tt[5];Wo!=null&&typeof Wo=="number"&&0<Wo&&(U=1.5*Wo,x.L=U,x.j.info("backChannelRequestTimeoutMs_="+U)),U=x;const Gn=_.g;if(Gn){const ao=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ao){var ie=U.h;ie.g||ao.indexOf("spdy")==-1&&ao.indexOf("quic")==-1&&ao.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Ju(ie,ie.h),ie.h=null))}if(U.D){const $d=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;$d&&(U.ya=$d,_t(U.I,U.D,$d))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-_.F,x.j.info("Handshake RTT: "+x.R+"ms")),U=x;var ye=_;if(U.qa=ag(U,U.J?U.ia:null,U.W),ye.K){pr(U.h,ye);var et=ye,_n=U.L;_n&&(et.I=_n),et.B&&(zs(et),cl(et)),U.g=ye}else rg(U);0<x.i.length&&ic(x)}else tt[0]!="stop"&&tt[0]!="close"||Ko(x,7);else x.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Ko(x,7):Ud(x):tt[0]!="noop"&&x.l&&x.l.ta(tt),x.v=0)}}Bs(4)}catch{}}var Jm=class{constructor(_,A){this.g=_,this.map=A}};function Bo(_){this.l=_||10,u.PerformanceNavigationTiming?(_=u.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ju(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function Yu(_){return _.h?1:_.g?_.g.size:0}function Pd(_,A){return _.h?_.h==A:_.g?_.g.has(A):!1}function Ju(_,A){_.g?_.g.add(A):_.h=A}function pr(_,A){_.h&&_.h==A?_.h=null:_.g&&_.g.has(A)&&_.g.delete(A)}Bo.prototype.cancel=function(){if(this.i=Md(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function Md(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let A=_.i;for(const x of _.g.values())A=A.concat(x.D);return A}return b(_.i)}function q0(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(c(_)){for(var A=[],x=_.length,U=0;U<x;U++)A.push(_[U]);return A}A=[],x=0;for(U in _)A[x++]=_[U];return A}function Qu(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(c(_)||typeof _=="string"){var A=[];_=_.length;for(var x=0;x<_;x++)A.push(x);return A}A=[],x=0;for(const U in _)A[x++]=U;return A}}}function Dd(_,A){if(_.forEach&&typeof _.forEach=="function")_.forEach(A,void 0);else if(c(_)||typeof _=="string")Array.prototype.forEach.call(_,A,void 0);else for(var x=Qu(_),U=q0(_),J=U.length,ie=0;ie<J;ie++)A.call(void 0,U[ie],x&&x[ie],_)}var dl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $0(_,A){if(_){_=_.split("&");for(var x=0;x<_.length;x++){var U=_[x].indexOf("="),J=null;if(0<=U){var ie=_[x].substring(0,U);J=_[x].substring(U+1)}else ie=_[x];A(ie,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function un(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof un){this.h=_.h,hl(this,_.j),this.o=_.o,this.g=_.g,Hs(this,_.s),this.l=_.l;var A=_.i,x=new $o;x.i=A.i,A.g&&(x.g=new Map(A.g),x.h=A.h),qo(this,x),this.m=_.m}else _&&(A=String(_).match(dl))?(this.h=!1,hl(this,A[1]||"",!0),this.o=si(A[2]||""),this.g=si(A[3]||"",!0),Hs(this,A[4]),this.l=si(A[5]||"",!0),qo(this,A[6]||"",!0),this.m=si(A[7]||"")):(this.h=!1,this.i=new $o(null,this.h))}un.prototype.toString=function(){var _=[],A=this.j;A&&_.push(ml(A,Nd,!0),":");var x=this.g;return(x||A=="file")&&(_.push("//"),(A=this.o)&&_.push(ml(A,Nd,!0),"@"),_.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&_.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&_.push("/"),_.push(ml(x,x.charAt(0)=="/"?z0:kd,!0))),(x=this.i.toString())&&_.push("?",x),(x=this.m)&&_.push("#",ml(x,Xu)),_.join("")};function Vr(_){return new un(_)}function hl(_,A,x){_.j=x?si(A,!0):A,_.j&&(_.j=_.j.replace(/:$/,""))}function Hs(_,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);_.s=A}else _.s=null}function qo(_,A,x){A instanceof $o?(_.i=A,Xm(_.i,_.h)):(x||(A=ml(A,H0)),_.i=new $o(A,_.h))}function _t(_,A,x){_.i.set(A,x)}function pl(_){return _t(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function si(_,A){return _?A?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function ml(_,A,x){return typeof _=="string"?(_=encodeURI(_).replace(A,Qm),x&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function Qm(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var Nd=/[#\/\?@]/g,kd=/[#\?:]/g,z0=/[#\?]/g,H0=/[#\?@]/g,Xu=/#/g;function $o(_,A){this.h=this.g=null,this.i=_||null,this.j=!!A}function ai(_){_.g||(_.g=new Map,_.h=0,_.i&&$0(_.i,function(A,x){_.add(decodeURIComponent(A.replace(/\+/g," ")),x)}))}t=$o.prototype,t.add=function(_,A){ai(this),this.i=null,_=to(this,_);var x=this.g.get(_);return x||this.g.set(_,x=[]),x.push(A),this.h+=1,this};function zo(_,A){ai(_),A=to(_,A),_.g.has(A)&&(_.i=null,_.h-=_.g.get(A).length,_.g.delete(A))}function Ho(_,A){return ai(_),A=to(_,A),_.g.has(A)}t.forEach=function(_,A){ai(this),this.g.forEach(function(x,U){x.forEach(function(J){_.call(A,J,U,this)},this)},this)},t.na=function(){ai(this);const _=Array.from(this.g.values()),A=Array.from(this.g.keys()),x=[];for(let U=0;U<A.length;U++){const J=_[U];for(let ie=0;ie<J.length;ie++)x.push(A[U])}return x},t.V=function(_){ai(this);let A=[];if(typeof _=="string")Ho(this,_)&&(A=A.concat(this.g.get(to(this,_))));else{_=Array.from(this.g.values());for(let x=0;x<_.length;x++)A=A.concat(_[x])}return A},t.set=function(_,A){return ai(this),this.i=null,_=to(this,_),Ho(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[A]),this.h+=1,this},t.get=function(_,A){return _?(_=this.V(_),0<_.length?String(_[0]):A):A};function Od(_,A,x){zo(_,A),0<x.length&&(_.i=null,_.g.set(to(_,A),b(x)),_.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],A=Array.from(this.g.keys());for(var x=0;x<A.length;x++){var U=A[x];const ie=encodeURIComponent(String(U)),ye=this.V(U);for(U=0;U<ye.length;U++){var J=ie;ye[U]!==""&&(J+="="+encodeURIComponent(String(ye[U]))),_.push(J)}}return this.i=_.join("&")};function to(_,A){return A=String(A),_.j&&(A=A.toLowerCase()),A}function Xm(_,A){A&&!_.j&&(ai(_),_.i=null,_.g.forEach(function(x,U){var J=U.toLowerCase();U!=J&&(zo(this,U),Od(this,J,x))},_)),_.j=A}function gl(_,A){const x=new oi;if(u.Image){const U=new Image;U.onload=E(li,x,"TestLoadImage: loaded",!0,A,U),U.onerror=E(li,x,"TestLoadImage: error",!1,A,U),U.onabort=E(li,x,"TestLoadImage: abort",!1,A,U),U.ontimeout=E(li,x,"TestLoadImage: timeout",!1,A,U),u.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=_}else A(!1)}function Ni(_,A){const x=new oi,U=new AbortController,J=setTimeout(()=>{U.abort(),li(x,"TestPingServer: timeout",!1,A)},1e4);fetch(_,{signal:U.signal}).then(ie=>{clearTimeout(J),ie.ok?li(x,"TestPingServer: ok",!0,A):li(x,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(J),li(x,"TestPingServer: error",!1,A)})}function li(_,A,x,U,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),U(x)}catch{}}function yl(){this.g=new ll}function no(_,A,x){const U=x||"";try{Dd(_,function(J,ie){let ye=J;f(J)&&(ye=Mi(J)),A.push(U+ie+"="+encodeURIComponent(ye))})}catch(J){throw A.push(U+"type="+encodeURIComponent("_badmap")),J}}function Gs(_){this.l=_.Ub||null,this.j=_.eb||!1}S(Gs,Sd),Gs.prototype.g=function(){return new Go(this.l,this.j)},Gs.prototype.i=(function(_){return function(){return _}})({});function Go(_,A){Kt.call(this),this.D=_,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Go,Kt),t=Go.prototype,t.open=function(_,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=A,this.readyState=1,io(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(A.body=_),(this.D||u).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ro(this)),this.readyState=0},t.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,io(this)),this.g&&(this.readyState=3,io(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vd(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vd(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}t.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var A=_.value?_.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!_.done}))&&(this.response=this.responseText+=A)}_.done?ro(this):io(this),this.readyState==3&&Vd(this)}},t.Ra=function(_){this.g&&(this.response=this.responseText=_,ro(this))},t.Qa=function(_){this.g&&(this.response=_,ro(this))},t.ga=function(){this.g&&ro(this)};function ro(_){_.readyState=4,_.l=null,_.j=null,_.v=null,io(_)}t.setRequestHeader=function(_,A){this.u.append(_,A)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],A=this.h.entries();for(var x=A.next();!x.done;)x=x.value,_.push(x[0]+": "+x[1]),x=A.next();return _.join(`\r
`)};function io(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(Go.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function Ld(_){let A="";return G(_,function(x,U){A+=U,A+=":",A+=x,A+=`\r
`}),A}function Mn(_,A,x){e:{for(U in x){var U=!1;break e}U=!0}U||(x=Ld(x),typeof _=="string"?x!=null&&encodeURIComponent(String(x)):_t(_,A,x))}function ut(_){Kt.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(ut,Kt);var Zu=/^https?$/i,vl=["POST","PUT"];t=ut.prototype,t.Ha=function(_){this.J=_},t.ea=function(_,A,x,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);A=A?A.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xi.g(),this.v=this.o?bd(this.o):bd(Xi),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(A,String(_),!0),this.B=!1}catch(ie){Zm(this,ie);return}if(_=x||"",x=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var J in U)x.set(J,U[J]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ie of U.keys())x.set(ie,U.get(ie));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(x.keys()).find(ie=>ie.toLowerCase()=="content-type"),J=u.FormData&&_ instanceof u.FormData,!(0<=Array.prototype.indexOf.call(vl,A,void 0))||U||J||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ye]of x)this.g.setRequestHeader(ie,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_l(this),this.u=!0,this.g.send(_),this.u=!1}catch(ie){Zm(this,ie)}};function Zm(_,A){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=A,_.m=5,ec(_),oo(_)}function ec(_){_.A||(_.A=!0,ft(_,"complete"),ft(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,ft(this,"complete"),ft(this,"abort"),oo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oo(this,!0)),ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?tc(this):this.bb())},t.bb=function(){tc(this)};function tc(_){if(_.h&&typeof s<"u"&&(!_.v[1]||ui(_)!=4||_.Z()!=2)){if(_.u&&ui(_)==4)nr(_.Ea,0,_);else if(ft(_,"readystatechange"),ui(_)==4){_.h=!1;try{const ye=_.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var x;if(!(x=A)){var U;if(U=ye===0){var J=String(_.D).match(dl)[1]||null;!J&&u.self&&u.self.location&&(J=u.self.location.protocol.slice(0,-1)),U=!Zu.test(J?J.toLowerCase():"")}x=U}if(x)ft(_,"complete"),ft(_,"success");else{_.m=6;try{var ie=2<ui(_)?_.g.statusText:""}catch{ie=""}_.l=ie+" ["+_.Z()+"]",ec(_)}}finally{oo(_)}}}}function oo(_,A){if(_.g){_l(_);const x=_.g,U=_.v[0]?()=>{}:null;_.g=null,_.v=null,A||ft(_,"ready");try{x.onreadystatechange=U}catch{}}}function _l(_){_.I&&(u.clearTimeout(_.I),_.I=null)}t.isActive=function(){return!!this.g};function ui(_){return _.g?_.g.readyState:0}t.Z=function(){try{return 2<ui(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(_){if(this.g){var A=this.g.responseText;return _&&A.indexOf(_)==0&&(A=A.substring(_.length)),Gu(A)}};function eg(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function G0(_){const A={};_=(_.g&&2<=ui(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<_.length;U++){if(D(_[U]))continue;var x=F(_[U]);const J=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const ie=A[J]||[];A[J]=ie,ie.push(x)}N(A,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tl(_,A,x){return x&&x.internalChannelParams&&x.internalChannelParams[_]||A}function nc(_){this.Aa=0,this.i=[],this.j=new oi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Tl("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Tl("baseRetryDelayMs",5e3,_),this.cb=Tl("retryDelaySeedMs",1e4,_),this.Wa=Tl("forwardChannelMaxRetries",2,_),this.wa=Tl("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new Bo(_&&_.concurrentRequestLimit),this.Da=new yl,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nc.prototype,t.la=8,t.G=1,t.connect=function(_,A,x,U){kt(0),this.W=_,this.H=A||{},x&&U!==void 0&&(this.H.OSID=x,this.H.OAID=U),this.F=this.X,this.I=ag(this,null,this.W),ic(this)};function Ud(_){if(tg(_),_.G==3){var A=_.U++,x=Vr(_.I);if(_t(x,"SID",_.K),_t(x,"RID",A),_t(x,"TYPE","terminate"),El(_,x),A=new hr(_,_.j,A),A.L=2,A.v=pl(Vr(x)),x=!1,u.navigator&&u.navigator.sendBeacon)try{x=u.navigator.sendBeacon(A.v.toString(),"")}catch{}!x&&u.Image&&(new Image().src=A.v,x=!0),x||(A.g=lg(A.j,null),A.g.ea(A.v)),A.F=Date.now(),cl(A)}sg(_)}function rc(_){_.g&&(wl(_),_.g.cancel(),_.g=null)}function tg(_){rc(_),_.u&&(u.clearTimeout(_.u),_.u=null),oc(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&u.clearTimeout(_.s),_.s=null)}function ic(_){if(!ju(_.h)&&!_.s){_.s=!0;var A=_.Ga;pe||W(),Se||(pe(),Se=!0),Be.add(A,_),_.B=0}}function K0(_,A){return Yu(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=A.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=ln(v(_.Ga,_,A),qd(_,_.B)),_.B++,!0)}t.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const J=new hr(this,this.j,_);let ie=this.o;if(this.S&&(ie?(ie=O(ie),B(ie,this.S)):ie=this.S),this.m!==null||this.O||(J.H=ie,ie=null),this.P)e:{for(var A=0,x=0;x<this.i.length;x++){t:{var U=this.i[x];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(A+=U,4096<A){A=x;break e}if(A===4096||x===this.i.length-1){A=x+1;break e}}A=1e3}else A=1e3;A=ng(this,J,A),x=Vr(this.I),_t(x,"RID",_),_t(x,"CVER",22),this.D&&_t(x,"X-HTTP-Session-Id",this.D),El(this,x),ie&&(this.O?A="headers="+encodeURIComponent(String(Ld(ie)))+"&"+A:this.m&&Mn(x,this.m,ie)),Ju(this.h,J),this.Ua&&_t(x,"TYPE","init"),this.P?(_t(x,"$req",A),_t(x,"SID","null"),J.T=!0,Di(J,x,null)):Di(J,x,A),this.G=2}}else this.G==3&&(_?Fd(this,_):this.i.length==0||ju(this.h)||Fd(this))};function Fd(_,A){var x;A?x=A.l:x=_.U++;const U=Vr(_.I);_t(U,"SID",_.K),_t(U,"RID",x),_t(U,"AID",_.T),El(_,U),_.m&&_.o&&Mn(U,_.m,_.o),x=new hr(_,_.j,x,_.B+1),_.m===null&&(x.H=_.o),A&&(_.i=A.D.concat(_.i)),A=ng(_,x,1e3),x.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),Ju(_.h,x),Di(x,U,A)}function El(_,A){_.H&&G(_.H,function(x,U){_t(A,U,x)}),_.l&&Dd({},function(x,U){_t(A,U,x)})}function ng(_,A,x){x=Math.min(_.i.length,x);var U=_.l?v(_.l.Na,_.l,_):null;e:{var J=_.i;let ie=-1;for(;;){const ye=["count="+x];ie==-1?0<x?(ie=J[0].g,ye.push("ofs="+ie)):ie=0:ye.push("ofs="+ie);let et=!0;for(let _n=0;_n<x;_n++){let tt=J[_n].g;const Dn=J[_n].map;if(tt-=ie,0>tt)ie=Math.max(0,J[_n].g-100),et=!1;else try{no(Dn,ye,"req"+tt+"_")}catch{U&&U(Dn)}}if(et){U=ye.join("&");break e}}}return _=_.i.splice(0,x),A.D=_,U}function rg(_){if(!_.g&&!_.u){_.Y=1;var A=_.Fa;pe||W(),Se||(pe(),Se=!0),Be.add(A,_),_.v=0}}function Bd(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=ln(v(_.Fa,_),qd(_,_.v)),_.v++,!0)}t.Fa=function(){if(this.u=null,ig(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=ln(v(this.ab,this),_)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),rc(this),ig(this))};function wl(_){_.A!=null&&(u.clearTimeout(_.A),_.A=null)}function ig(_){_.g=new hr(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var A=Vr(_.qa);_t(A,"RID","rpc"),_t(A,"SID",_.K),_t(A,"AID",_.T),_t(A,"CI",_.F?"0":"1"),!_.F&&_.ja&&_t(A,"TO",_.ja),_t(A,"TYPE","xmlhttp"),El(_,A),_.m&&_.o&&Mn(A,_.m,_.o),_.L&&(_.g.I=_.L);var x=_.g;_=_.ia,x.L=1,x.v=pl(Vr(A)),x.m=null,x.P=!0,Fo(x,_)}t.Za=function(){this.C!=null&&(this.C=null,rc(this),Bd(this),kt(19))};function oc(_){_.C!=null&&(u.clearTimeout(_.C),_.C=null)}function og(_,A){var x=null;if(_.g==A){oc(_),wl(_),_.g=null;var U=2}else if(Pd(_.h,A))x=A.D,pr(_.h,A),U=1;else return;if(_.G!=0){if(A.o)if(U==1){x=A.m?A.m.length:0,A=Date.now()-A.F;var J=_.B;U=Fs(),ft(U,new vn(U,x)),ic(_)}else rg(_);else if(J=A.s,J==3||J==0&&0<A.X||!(U==1&&K0(_,A)||U==2&&Bd(_)))switch(x&&0<x.length&&(A=_.h,A.i=A.i.concat(x)),J){case 1:Ko(_,5);break;case 4:Ko(_,10);break;case 3:Ko(_,6);break;default:Ko(_,2)}}}function qd(_,A){let x=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(x*=2),x*A}function Ko(_,A){if(_.j.info("Error code "+A),A==2){var x=v(_.fb,_),U=_.Xa;const J=!U;U=new un(U||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||hl(U,"https"),pl(U),J?gl(U.toString(),x):Ni(U.toString(),x)}else kt(2);_.G=0,_.l&&_.l.sa(A),sg(_),tg(_)}t.fb=function(_){_?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function sg(_){if(_.G=0,_.ka=[],_.l){const A=Md(_.h);(A.length!=0||_.i.length!=0)&&(I(_.ka,A),I(_.ka,_.i),_.h.i.length=0,b(_.i),_.i.length=0),_.l.ra()}}function ag(_,A,x){var U=x instanceof un?Vr(x):new un(x);if(U.g!="")A&&(U.g=A+"."+U.g),Hs(U,U.s);else{var J=u.location;U=J.protocol,A=A?A+"."+J.hostname:J.hostname,J=+J.port;var ie=new un(null);U&&hl(ie,U),A&&(ie.g=A),J&&Hs(ie,J),x&&(ie.l=x),U=ie}return x=_.D,A=_.ya,x&&A&&_t(U,x,A),_t(U,"VER",_.la),El(_,U),U}function lg(_,A,x){if(A&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=_.Ca&&!_.pa?new ut(new Gs({eb:x})):new ut(_.pa),A.Ha(_.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ug(){}t=ug.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function sc(){}sc.prototype.g=function(_,A){return new mr(_,A)};function mr(_,A){Kt.call(this),this.g=new nc(A),this.l=_,this.h=A&&A.messageUrlParams||null,_=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(_?_["X-WebChannel-Content-Type"]=A.messageContentType:_={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(_?_["X-WebChannel-Client-Profile"]=A.va:_={"X-WebChannel-Client-Profile":A.va}),this.g.S=_,(_=A&&A.Sb)&&!D(_)&&(this.g.m=_),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!D(A)&&(this.g.D=A,_=this.h,_!==null&&A in _&&(_=this.h,A in _&&delete _[A])),this.j=new so(this)}S(mr,Kt),mr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mr.prototype.close=function(){Ud(this.g)},mr.prototype.o=function(_){var A=this.g;if(typeof _=="string"){var x={};x.__data__=_,_=x}else this.u&&(x={},x.__data__=Mi(_),_=x);A.i.push(new Jm(A.Ya++,_)),A.G==3&&ic(A)},mr.prototype.N=function(){this.g.l=null,delete this.j,Ud(this.g),delete this.g,mr.aa.N.call(this)};function cg(_){Lo.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var A=_.__sm__;if(A){e:{for(const x in A){_=x;break e}_=void 0}(this.i=_)&&(_=this.i,A=A!==null&&_ in A?A[_]:void 0),this.data=A}else this.data=_}S(cg,Lo);function fg(){Id.call(this),this.status=1}S(fg,Id);function so(_){this.g=_}S(so,ug),so.prototype.ua=function(){ft(this.g,"a")},so.prototype.ta=function(_){ft(this.g,new cg(_))},so.prototype.sa=function(_){ft(this.g,new fg)},so.prototype.ra=function(){ft(this.g,"b")},sc.prototype.createWebChannel=sc.prototype.g,mr.prototype.send=mr.prototype.o,mr.prototype.open=mr.prototype.m,mr.prototype.close=mr.prototype.close,eB=function(){return new sc},ZF=function(){return Fs()},XF=Qi,fb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$s.NO_ERROR=0,$s.TIMEOUT=8,$s.HTTP_ERROR=6,Hy=$s,Uo.COMPLETE="complete",QF=Uo,Ad.EventType=Vo,Vo.OPEN="a",Vo.CLOSE="b",Vo.ERROR="c",Vo.MESSAGE="d",Kt.prototype.listen=Kt.prototype.K,Xh=Ad,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,JF=ut}).apply(typeof py<"u"?py:typeof self<"u"?self:typeof window<"u"?window:{});const bD="@firebase/firestore",AD="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ed="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=new E_("@firebase/firestore");function Hc(){return Ua.logLevel}function OY(t){Ua.setLogLevel(t)}function de(t,...e){if(Ua.logLevel<=Je.DEBUG){const n=e.map(CI);Ua.debug(`Firestore (${ed}): ${t}`,...n)}}function nn(t,...e){if(Ua.logLevel<=Je.ERROR){const n=e.map(CI);Ua.error(`Firestore (${ed}): ${t}`,...n)}}function Mo(t,...e){if(Ua.logLevel<=Je.WARN){const n=e.map(CI);Ua.warn(`Firestore (${ed}): ${t}`,...n)}}function CI(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,tB(t,r,n)}function tB(t,e,n){let r=`FIRESTORE (${ed}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw nn(r),new Error(r)}function Ce(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||tB(e,i,r)}function VY(t,e){t||Ee(57014,e)}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Un.UNAUTHENTICATED)))}shutdown(){}}class UY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class FY{constructor(e){this.t=e,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ce(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new er;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new er,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=o;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},u=c=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new er)}}),0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string",31837,{l:r}),new nB(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string",2055,{h:e}),new Un(e)}}class BY{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qY{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new BY(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ID{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $Y{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Lt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ce(this.o===void 0,3512);const r=o=>{o.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,de("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ID(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ce(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ID(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zY(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=zY(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function qe(t,e){return t<e?-1:t>e?1:0}function db(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return rw(i)===rw(o)?qe(i,o):rw(i)?1:-1}return qe(t.length,e.length)}const HY=55296,GY=57343;function rw(t){const e=t.charCodeAt(0);return e>=HY&&e<=GY}function yf(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function rB(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD="__name__";class po{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return po.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof po?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=po.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return qe(e.length,n.length)}static compareSegments(e,n){const r=po.isNumericId(e),i=po.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?po.extractNumericId(e).compare(po.extractNumericId(n)):db(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pa.fromString(e.substring(4,e.length-2))}}class Qe extends po{construct(e,n,r){return new Qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Qe(n)}static emptyPath(){return new Qe([])}}const KY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends po{construct(e,n,r){return new Ut(e,n,r)}static isValidIdentifier(e){return KY.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===CD}static keyField(){return new Ut([CD])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new fe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new fe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new fe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(n)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(Qe.fromString(e))}static fromName(e){return new ve(Qe.fromString(e).popFirst(5))}static empty(){return new ve(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t,e,n){if(!n)throw new fe(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iB(t,e,n,r){if(e===!0&&r===!0)throw new fe(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xD(t){if(!ve.isDocumentKey(t))throw new fe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function RD(t){if(ve.isDocumentKey(t))throw new fe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function oB(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function N_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee(12329,{type:typeof t})}function ot(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=N_(t);throw new fe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function sB(t,e){if(e<=0)throw new fe(re.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,e){const n={typeString:t};return e&&(n.value=e),n}function dm(t,e){if(!oB(t))throw new fe(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new fe(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=-62135596800,MD=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*MD);return new ct(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<PD)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/MD}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dm(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-PD;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:pn("string",ct._jsonSchemaVersion),seconds:pn("number"),nanoseconds:pn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new ct(0,0))}static max(){return new xe(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf=-1;class mv{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function hb(t){return t.fields.find((e=>e.kind===2))}function Bl(t){return t.fields.filter((e=>e.kind!==2))}mv.UNKNOWN_ID=-1;class Gy{constructor(e,n){this.fieldPath=e,this.kind=n}}class Mp{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Mp(0,ti.min())}}function aB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=xe.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new ti(i,ve.empty(),e)}function lB(t){return new ti(t.readTime,t.key,vf)}class ti{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ti(xe.min(),ve.empty(),vf)}static max(){return new ti(xe.max(),ve.empty(),vf)}}function PI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==uB)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.reject(n)}static resolve(e){return new Q(((n,r)=>{n(e)}))}static reject(e){return new Q(((n,r)=>{r(e)}))}static waitFor(e){return new Q(((n,r)=>{let i=0,o=0,s=!1;e.forEach((u=>{++i,u.next((()=>{++o,s&&o===i&&n()}),(c=>r(c)))})),s=!0,o===i&&n()}))}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next((i=>i?Q.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new Q(((r,i)=>{const o=e.length,s=new Array(o);let u=0;for(let c=0;c<o;c++){const f=c;n(e[f]).next((h=>{s[f]=h,++u,u===o&&r(s)}),(h=>i(h)))}}))}static doWhile(e,n){return new Q(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="SimpleDb";class k_{static open(e,n,r,i){try{return new k_(n,e.transaction(i,r))}catch(o){throw new fp(n,o)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new er,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new fp(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=MI(r.target.error);this.S.reject(new fp(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(de(Kr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new jY(n)}}class bo{static delete(e){return de(Kr,"Removing database:",e),Gl(XA().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!bp())return!1;if(bo.F())return!0;const e=zt(),n=bo.M(e),r=0<n&&n<10,i=fB(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,bo.M(zt())===12.2&&nn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(de(Kr,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new fp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new fe(re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new fe(re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new fp(e,s))},i.onupgradeneeded=o=>{de(Kr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.N.k(s,i.transaction,o.oldVersion,this.version).next((()=>{de(Kr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.L(e);const u=k_.open(this.db,e,o?"readonly":"readwrite",r),c=i(u).next((f=>(u.C(),f))).catch((f=>(u.abort(f),Q.reject(f)))).toPromise();return c.catch((()=>{})),await u.D,c}catch(u){const c=u,f=c.name!=="FirebaseError"&&s<3;if(de(Kr,"Transaction failed with error:",c.message,"Retrying:",f),this.close(),!f)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function fB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class WY{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Gl(this.U.delete())}}class fp extends fe{constructor(e,n){super(re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ja(t){return t.name==="IndexedDbTransactionError"}class jY{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(de(Kr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(de(Kr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Gl(r)}add(e){return de(Kr,"ADD",this.store.name,e,e),Gl(this.store.add(e))}get(e){return Gl(this.store.get(e)).next((n=>(n===void 0&&(n=null),de(Kr,"GET",this.store.name,e,n),n)))}delete(e){return de(Kr,"DELETE",this.store.name,e),Gl(this.store.delete(e))}count(){return de(Kr,"COUNT",this.store.name),Gl(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new Q(((s,u)=>{o.onerror=c=>{u(c.target.error)},o.onsuccess=c=>{s(c.target.result)}}))}{const o=this.cursor(r),s=[];return this.H(o,((u,c)=>{s.push(c)})).next((()=>s))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Q(((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}}))}Z(e,n){de(Kr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((o,s,u)=>u.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new Q(((r,i)=>{n.onerror=o=>{const s=MI(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next((u=>{u?s.continue():r()})):r()}}))}H(e,n){const r=[];return new Q(((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const u=s.target.result;if(!u)return void i();const c=new WY(u),f=n(u.primaryKey,u.value,c);if(f instanceof Q){const h=f.catch((y=>(c.done(),Q.reject(y))));r.push(h)}c.isDone?i():c.G===null?u.continue():u.continue(c.G)}})).next((()=>Q.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Gl(t){return new Q(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=MI(r.target.error);n(i)}}))}let DD=!1;function MI(t){const e=bo.M(zt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return DD||(DD=!0,setTimeout((()=>{throw r}),0)),r}}return t}const dp="IndexBackfiller";class YY{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){de(dp,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();de(dp,`Documents written: ${n}`)}catch(n){Ja(n)?de(dp,"Ignoring IndexedDB error during index backfill: ",n):await Ya(n)}await this.re(6e4)}))}}class JY{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,o=!0;return Q.doWhile((()=>o===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((s=>{if(s!==null&&!r.has(s))return de(dp,`Processing collection: ${s}`),this.oe(e,s,i).next((u=>{i-=u,r.add(s)}));o=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next((()=>this._e(i,o))).next((u=>(de(dp,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,n,u)))).next((()=>s.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,o)=>{const s=lB(o);PI(s,r)>0&&(r=s)})),new ti(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=-1;function hm(t){return t==null}function Dp(t){return t===0&&1/t==-1/0}function dB(t){return typeof t=="number"&&Number.isInteger(t)&&!Dp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="";function fr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ND(e)),e=QY(t.get(n),e);return ND(e)}function QY(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case gv:n+="";break;default:n+=o}}return n}function ND(t){return t+gv+""}function Eo(t){const e=t.length;if(Ce(e>=2,64408,{path:t}),e===2)return Ce(t.charAt(0)===gv&&t.charAt(1)==="",56145,{path:t}),Qe.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf(gv,o);switch((s<0||s>n)&&Ee(50515,{path:t}),t.charAt(s+1)){case"":const u=t.substring(o,s);let c;i.length===0?c=u:(i+=u,c=i,i=""),r.push(c);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:Ee(61167,{path:t})}o=s+2}return new Qe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql="remoteDocuments",pm="owner",Vc="owner",Np="mutationQueues",XY="userId",Li="mutations",kD="batchId",Jl="userMutationsIndex",OD=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t,e){return[t,fr(e)]}function hB(t,e,n){return[t,fr(e),n]}const ZY={},_f="documentMutations",yv="remoteDocumentsV14",eJ=["prefixPath","collectionGroup","readTime","documentId"],Wy="documentKeyIndex",tJ=["prefixPath","collectionGroup","documentId"],pB="collectionGroupIndex",nJ=["collectionGroup","readTime","prefixPath","documentId"],kp="remoteDocumentGlobal",pb="remoteDocumentGlobalKey",Tf="targets",mB="queryTargetsIndex",rJ=["canonicalId","targetId"],Ef="targetDocuments",iJ=["targetId","path"],DI="documentTargetsIndex",oJ=["path","targetId"],vv="targetGlobalKey",ou="targetGlobal",Op="collectionParents",sJ=["collectionId","parent"],wf="clientMetadata",aJ="clientId",O_="bundles",lJ="bundleId",V_="namedQueries",uJ="name",NI="indexConfiguration",cJ="indexId",mb="collectionGroupIndex",fJ="collectionGroup",hp="indexState",dJ=["indexId","uid"],gB="sequenceNumberIndex",hJ=["uid","sequenceNumber"],pp="indexEntries",pJ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],yB="documentKeyIndex",mJ=["indexId","uid","orderedDocumentKey"],L_="documentOverlays",gJ=["userId","collectionPath","documentId"],gb="collectionPathOverlayIndex",yJ=["userId","collectionPath","largestBatchId"],vB="collectionGroupOverlayIndex",vJ=["userId","collectionGroup","largestBatchId"],kI="globals",_J="name",_B=[Np,Li,_f,ql,Tf,pm,ou,Ef,wf,kp,Op,O_,V_],TJ=[..._B,L_],TB=[Np,Li,_f,yv,Tf,pm,ou,Ef,wf,kp,Op,O_,V_,L_],EB=TB,OI=[...EB,NI,hp,pp],EJ=OI,wB=[...OI,kI],wJ=wB;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb extends cB{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function In(t,e){const n=_e(t);return bo.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n){this.comparator=e,this.root=n||Jn.EMPTY}insert(e,n){return new Rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jn.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new my(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new my(this.root,e,this.comparator,!1)}getReverseIterator(){return new my(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new my(this.root,e,this.comparator,!0)}}class my{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Jn.RED,this.left=i??Jn.EMPTY,this.right=o??Jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Jn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Jn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Jn.EMPTY=null,Jn.RED=!0,Jn.BLACK=!1;Jn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Jn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new LD(this.data.getIterator())}getIteratorFrom(e){return new LD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class LD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Lc(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new Mr([])}unionWith(e){let n=new gt(Ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yf(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SJ(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new bB("Invalid base64 string: "+o):o}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const bJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(t){if(Ce(!!t,39018),typeof t=="string"){let e=0;const n=bJ.exec(t);if(Ce(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Es(t){return typeof t=="string"?Jt.fromBase64String(t):Jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB="server_timestamp",IB="__type__",CB="__previous_value__",xB="__local_write_time__";function U_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[IB])==null?void 0:r.stringValue)===AB}function F_(t){const e=t.mapValue.fields[CB];return U_(e)?F_(e):e}function Vp(t){const e=Ts(t.mapValue.fields[xB].timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AJ{constructor(e,n,r,i,o,s,u,c,f,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=h}}const vb="(default)";class Fa{constructor(e,n){this.projectId=e,this.database=n||vb}static empty(){return new Fa("","")}get isDefaultDatabase(){return this.database===vb}isEqual(e){return e instanceof Fa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="__type__",RB="__max__",Aa={mapValue:{fields:{__type__:{stringValue:RB}}}},LI="__vector__",Sf="value",jy={nullValue:"NULL_VALUE"};function Ba(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?U_(t)?4:PB(t)?9007199254740991:B_(t)?10:11:Ee(28295,{value:t})}function Do(t,e){if(t===e)return!0;const n=Ba(t);if(n!==Ba(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vp(t).isEqual(Vp(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Ts(i.timestampValue),u=Ts(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Es(i.bytesValue).isEqual(Es(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Vt(i.geoPointValue.latitude)===Vt(o.geoPointValue.latitude)&&Vt(i.geoPointValue.longitude)===Vt(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Vt(i.integerValue)===Vt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Vt(i.doubleValue),u=Vt(o.doubleValue);return s===u?Dp(s)===Dp(u):isNaN(s)&&isNaN(u)}return!1})(t,e);case 9:return yf(t.arrayValue.values||[],e.arrayValue.values||[],Do);case 10:case 11:return(function(i,o){const s=i.mapValue.fields||{},u=o.mapValue.fields||{};if(VD(s)!==VD(u))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!Do(s[c],u[c])))return!1;return!0})(t,e);default:return Ee(52216,{left:t})}}function Lp(t,e){return(t.values||[]).find((n=>Do(n,e)))!==void 0}function qa(t,e){if(t===e)return 0;const n=Ba(t),r=Ba(e);if(n!==r)return qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return(function(o,s){const u=Vt(o.integerValue||o.doubleValue),c=Vt(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1})(t,e);case 3:return UD(t.timestampValue,e.timestampValue);case 4:return UD(Vp(t),Vp(e));case 5:return db(t.stringValue,e.stringValue);case 6:return(function(o,s){const u=Es(o),c=Es(s);return u.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){const u=o.split("/"),c=s.split("/");for(let f=0;f<u.length&&f<c.length;f++){const h=qe(u[f],c[f]);if(h!==0)return h}return qe(u.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){const u=qe(Vt(o.latitude),Vt(s.latitude));return u!==0?u:qe(Vt(o.longitude),Vt(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return FD(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var v,E,S,b;const u=o.fields||{},c=s.fields||{},f=(v=u[Sf])==null?void 0:v.arrayValue,h=(E=c[Sf])==null?void 0:E.arrayValue,y=qe(((S=f==null?void 0:f.values)==null?void 0:S.length)||0,((b=h==null?void 0:h.values)==null?void 0:b.length)||0);return y!==0?y:FD(f,h)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Aa.mapValue&&s===Aa.mapValue)return 0;if(o===Aa.mapValue)return 1;if(s===Aa.mapValue)return-1;const u=o.fields||{},c=Object.keys(u),f=s.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let y=0;y<c.length&&y<h.length;++y){const v=db(c[y],h[y]);if(v!==0)return v;const E=qa(u[c[y]],f[h[y]]);if(E!==0)return E}return qe(c.length,h.length)})(t.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function UD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=Ts(t),r=Ts(e),i=qe(n.seconds,r.seconds);return i!==0?i:qe(n.nanos,r.nanos)}function FD(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=qa(n[i],r[i]);if(o)return o}return qe(n.length,r.length)}function bf(t){return _b(t)}function _b(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ts(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Es(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=_b(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${_b(n.fields[s])}`;return i+"}"})(t.mapValue):Ee(61005,{value:t})}function Yy(t){switch(Ba(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=F_(t);return e?16+Yy(e):16;case 5:return 2*t.stringValue.length;case 6:return Es(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+Yy(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Qa(r.fields,((o,s)=>{i+=o.length+Yy(s)})),i})(t.mapValue);default:throw Ee(13486,{value:t})}}function pu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Tb(t){return!!t&&"integerValue"in t}function Up(t){return!!t&&"arrayValue"in t}function BD(t){return!!t&&"nullValue"in t}function qD(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jy(t){return!!t&&"mapValue"in t}function B_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[VI])==null?void 0:r.stringValue)===LI}function mp(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Qa(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=mp(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mp(t.arrayValue.values[n]);return e}return{...t}}function PB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===RB}const MB={mapValue:{fields:{[VI]:{stringValue:LI},[Sf]:{arrayValue:{}}}}};function IJ(t){return"nullValue"in t?jy:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?pu(Fa.empty(),ve.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?B_(t)?MB:{mapValue:{}}:Ee(35942,{value:t})}function CJ(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?pu(Fa.empty(),ve.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?MB:"mapValue"in t?B_(t)?{mapValue:{}}:Aa:Ee(61959,{value:t})}function $D(t,e){const n=qa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function zD(t,e){const n=qa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mp(n)}setAll(e){let n=Ut.emptyPath(),r={},i=[];e.forEach(((s,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}s?r[u.lastSegment()]=mp(s):i.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Jy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Do(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Jy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qa(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new Xn(mp(this.value))}}function DB(t){const e=[];return Qa(t.fields,((n,r)=>{const i=new Ut([n]);if(Jy(r)){const o=DB(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)})),new Mr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n,r,i,o,s,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=u}static newInvalidDocument(e){return new Dt(e,0,xe.min(),xe.min(),xe.min(),Xn.empty(),0)}static newFoundDocument(e,n,r,i){return new Dt(e,1,n,xe.min(),r,i,0)}static newNoDocument(e,n){return new Dt(e,2,n,xe.min(),xe.min(),Xn.empty(),0)}static newUnknownDocument(e,n){return new Dt(e,3,n,xe.min(),xe.min(),Xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n){this.position=e,this.inclusive=n}}function HD(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ve.comparator(ve.fromName(s.referenceValue),n.key):r=qa(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function GD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Do(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n="asc"){this.field=e,this.dir=n}}function xJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{}class Xe extends NB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new RJ(e,n,r):n==="array-contains"?new DJ(e,r):n==="in"?new FB(e,r):n==="not-in"?new NJ(e,r):n==="array-contains-any"?new kJ(e,r):new Xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new PJ(e,r):new MJ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qa(n,this.value)):n!==null&&Ba(this.value)===Ba(n)&&this.matchesComparison(qa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mt extends NB{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new mt(e,n)}matches(e){return Af(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Af(t){return t.op==="and"}function Eb(t){return t.op==="or"}function UI(t){return kB(t)&&Af(t)}function kB(t){for(const e of t.filters)if(e instanceof mt)return!1;return!0}function wb(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+bf(t.value);if(UI(t))return t.filters.map((e=>wb(e))).join(",");{const e=t.filters.map((n=>wb(n))).join(",");return`${t.op}(${e})`}}function OB(t,e){return t instanceof Xe?(function(r,i){return i instanceof Xe&&r.op===i.op&&r.field.isEqual(i.field)&&Do(r.value,i.value)})(t,e):t instanceof mt?(function(r,i){return i instanceof mt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,s,u)=>o&&OB(s,i.filters[u])),!0):!1})(t,e):void Ee(19439)}function VB(t,e){const n=t.filters.concat(e);return mt.create(n,t.op)}function LB(t){return t instanceof Xe?(function(n){return`${n.field.canonicalString()} ${n.op} ${bf(n.value)}`})(t):t instanceof mt?(function(n){return n.op.toString()+" {"+n.getFilters().map(LB).join(" ,")+"}"})(t):"Filter"}class RJ extends Xe{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class PJ extends Xe{constructor(e,n){super(e,"in",n),this.keys=UB("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class MJ extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=UB("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function UB(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>ve.fromName(r.referenceValue)))}class DJ extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Up(n)&&Lp(n.arrayValue,this.value)}}class FB extends Xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Lp(this.value.arrayValue,n)}}class NJ extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Lp(this.value.arrayValue,n)}}class kJ extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Up(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Lp(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OJ{constructor(e,n=null,r=[],i=[],o=null,s=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=u,this.Te=null}}function Sb(t,e=null,n=[],r=[],i=null,o=null,s=null){return new OJ(t,e,n,r,i,o,s)}function mu(t){const e=_e(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>wb(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),hm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>bf(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>bf(r))).join(",")),e.Te=n}return e.Te}function mm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xJ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!OB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!GD(t.startAt,e.startAt)&&GD(t.endAt,e.endAt)}function _v(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Tv(t,e){return t.filters.filter((n=>n instanceof Xe&&n.field.isEqual(e)))}function KD(t,e,n){let r=jy,i=!0;for(const o of Tv(t,e)){let s=jy,u=!0;switch(o.op){case"<":case"<=":s=IJ(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,u=!1;break;case"!=":case"not-in":s=jy}$D({value:r,inclusive:i},{value:s,inclusive:u})<0&&(r=s,i=u)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];$D({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function WD(t,e,n){let r=Aa,i=!0;for(const o of Tv(t,e)){let s=Aa,u=!0;switch(o.op){case">=":case">":s=CJ(o.value),u=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,u=!1;break;case"!=":case"not-in":s=Aa}zD({value:r,inclusive:i},{value:s,inclusive:u})>0&&(r=s,i=u)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];zD({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n=null,r=[],i=[],o=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function BB(t,e,n,r,i,o,s,u){return new Rs(t,e,n,r,i,o,s,u)}function td(t){return new Rs(t)}function jD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function FI(t){return t.collectionGroup!==null}function of(t){const e=_e(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new gt(Ut.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Fp(o,r))})),n.has(Ut.keyField().canonicalString())||e.Ie.push(new Fp(Ut.keyField(),r))}return e.Ie}function Er(t){const e=_e(t);return e.Ee||(e.Ee=VJ(e,of(t))),e.Ee}function VJ(t,e){if(t.limitType==="F")return Sb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new Fp(i.field,o)}));const n=t.endAt?new $a(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $a(t.startAt.position,t.startAt.inclusive):null;return Sb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function bb(t,e){const n=t.filters.concat([e]);return new Rs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ev(t,e,n){return new Rs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gm(t,e){return mm(Er(t),Er(e))&&t.limitType===e.limitType}function qB(t){return`${mu(Er(t))}|lt:${t.limitType}`}function Gc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>LB(i))).join(", ")}]`),hm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>bf(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>bf(i))).join(",")),`Target(${r})`})(Er(t))}; limitType=${t.limitType})`}function ym(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ve.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of of(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,u,c){const f=HD(s,u,c);return s.inclusive?f<=0:f<0})(r.startAt,of(r),i)||r.endAt&&!(function(s,u,c){const f=HD(s,u,c);return s.inclusive?f>=0:f>0})(r.endAt,of(r),i))})(t,e)}function $B(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zB(t){return(e,n)=>{let r=!1;for(const i of of(t)){const o=LJ(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function LJ(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):(function(o,s,u){const c=s.data.field(o),f=u.data.field(o);return c!==null&&f!==null?qa(c,f):Ee(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qa(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return SB(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UJ=new Rt(ve.comparator);function Dr(){return UJ}const HB=new Rt(ve.comparator);function Zh(...t){let e=HB;for(const n of t)e=e.insert(n.key,n);return e}function GB(t){let e=HB;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function wo(){return gp()}function KB(){return gp()}function gp(){return new Ps((t=>t.toString()),((t,e)=>t.isEqual(e)))}const FJ=new Rt(ve.comparator),BJ=new gt(ve.comparator);function He(...t){let e=BJ;for(const n of t)e=e.add(n);return e}const qJ=new gt(qe);function BI(){return qJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dp(e)?"-0":e}}function WB(t){return{integerValue:""+t}}function jB(t,e){return dB(e)?WB(e):qI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this._=void 0}}function $J(t,e,n){return t instanceof If?(function(i,o){const s={fields:{[IB]:{stringValue:AB},[xB]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&U_(o)&&(o=F_(o)),o&&(s.fields[CB]=o),{mapValue:s}})(n,e):t instanceof gu?JB(t,e):t instanceof yu?QB(t,e):(function(i,o){const s=YB(i,o),u=YD(s)+YD(i.Ae);return Tb(s)&&Tb(i.Ae)?WB(u):qI(i.serializer,u)})(t,e)}function zJ(t,e,n){return t instanceof gu?JB(t,e):t instanceof yu?QB(t,e):n}function YB(t,e){return t instanceof Cf?(function(r){return Tb(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class If extends q_{}class gu extends q_{constructor(e){super(),this.elements=e}}function JB(t,e){const n=XB(e);for(const r of t.elements)n.some((i=>Do(i,r)))||n.push(r);return{arrayValue:{values:n}}}class yu extends q_{constructor(e){super(),this.elements=e}}function QB(t,e){let n=XB(e);for(const r of t.elements)n=n.filter((i=>!Do(i,r)));return{arrayValue:{values:n}}}class Cf extends q_{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function YD(t){return Vt(t.integerValue||t.doubleValue)}function XB(t){return Up(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n){this.field=e,this.transform=n}}function HJ(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof gu&&i instanceof gu||r instanceof yu&&i instanceof yu?yf(r.elements,i.elements,Do):r instanceof Cf&&i instanceof Cf?Do(r.Ae,i.Ae):r instanceof If&&i instanceof If})(t.transform,e.transform)}class GJ{constructor(e,n){this.version=e,this.transformResults=n}}class Ft{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ft}static exists(e){return new Ft(void 0,e)}static updateTime(e){return new Ft(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $_{}function ZB(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rd(t.key,Ft.none()):new nd(t.key,t.data,Ft.none());{const n=t.data,r=Xn.empty();let i=new gt(Ut.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ms(t.key,r,new Mr(i.toArray()),Ft.none())}}function KJ(t,e,n){t instanceof nd?(function(i,o,s){const u=i.value.clone(),c=QD(i.fieldTransforms,o,s.transformResults);u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):t instanceof Ms?(function(i,o,s){if(!Qy(i.precondition,o))return void o.convertToUnknownDocument(s.version);const u=QD(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(e4(i)),c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function yp(t,e,n,r){return t instanceof nd?(function(o,s,u,c){if(!Qy(o.precondition,s))return u;const f=o.value.clone(),h=XD(o.fieldTransforms,c,s);return f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ms?(function(o,s,u,c){if(!Qy(o.precondition,s))return u;const f=XD(o.fieldTransforms,c,s),h=s.data;return h.setAll(e4(o)),h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(t,e,n,r):(function(o,s,u){return Qy(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u})(t,e,n)}function WJ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=YB(r.transform,i||null);o!=null&&(n===null&&(n=Xn.empty()),n.set(r.field,o))}return n||null}function JD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&yf(r,i,((o,s)=>HJ(o,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nd extends $_{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ms extends $_{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function e4(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function QD(t,e,n){const r=new Map;Ce(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,u=e.data.field(o.field);r.set(o.field,zJ(s,u,n[i]))}return r}function XD(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,$J(o,s,e))}return r}class rd extends $_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $I extends $_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&KJ(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KB();return this.mutations.forEach((i=>{const o=e.get(i.key),s=o.overlayedDocument;let u=this.applyToLocalView(s,o.mutatedFields);u=n.has(i.key)?null:u;const c=ZB(s,u);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),He())}isEqual(e){return this.batchId===e.batchId&&yf(this.mutations,e.mutations,((n,r)=>JD(n,r)))&&yf(this.baseMutations,e.baseMutations,((n,r)=>JD(n,r)))}}class HI{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return FJ})();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new HI(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jJ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,rt;function t4(t){switch(t){case re.OK:return Ee(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ee(15467,{code:t})}}function n4(t){if(t===void 0)return nn("GRPC error has no .code"),re.UNKNOWN;switch(t){case dn.OK:return re.OK;case dn.CANCELLED:return re.CANCELLED;case dn.UNKNOWN:return re.UNKNOWN;case dn.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case dn.INTERNAL:return re.INTERNAL;case dn.UNAVAILABLE:return re.UNAVAILABLE;case dn.UNAUTHENTICATED:return re.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case dn.NOT_FOUND:return re.NOT_FOUND;case dn.ALREADY_EXISTS:return re.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return re.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case dn.ABORTED:return re.ABORTED;case dn.OUT_OF_RANGE:return re.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return re.UNIMPLEMENTED;case dn.DATA_LOSS:return re.DATA_LOSS;default:return Ee(39323,{code:t})}}(rt=dn||(dn={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YJ=new Pa([4294967295,4294967295],0);function ZD(t){const e=r4().encode(t),n=new YF;return n.update(e),new Uint8Array(n.digest())}function eN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Pa([n,r],0),new Pa([i,o],0)]}class KI{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ep(`Invalid padding: ${n}`);if(r<0)throw new ep(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ep(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ep(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Pa.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Pa.fromNumber(r)));return i.compare(YJ)===1&&(i=new Pa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ZD(e),[r,i]=eN(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new KI(o,i,n);return r.forEach((u=>s.insert(u))),s}insert(e){if(this.ge===0)return;const n=ZD(e),[r,i]=eN(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ep extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Tm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _m(xe.min(),i,new Rt(qe),Dr(),He())}}class Tm{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tm(r,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class i4{constructor(e,n){this.targetId=e,this.Ce=n}}class o4{constructor(e,n,r=Jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class tN{constructor(){this.ve=0,this.Fe=nN(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),n=He(),r=He();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ee(38017,{changeType:o})}})),new Tm(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=nN()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class JJ{constructor(e){this.Ge=e,this.ze=new Map,this.je=Dr(),this.Je=gy(),this.He=gy(),this.Ye=new Rt(qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(_v(o))if(r===0){const s=new ve(o.path);this.et(n,s,Dt.newNoDocument(s,xe.min()))}else Ce(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const u=this.ut(e),c=u?this.ct(u,e,s):1;if(c!==0){this.it(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,u;try{s=Es(r).toUint8Array()}catch(c){if(c instanceof bB)return Mo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new KI(s,i,o)}catch(c){return Mo(c instanceof ep?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const s=this.Ge.ht(),u=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,s)=>{const u=this.ot(s);if(u){if(o.current&&_v(u.target)){const c=new ve(u.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,Dt.newNoDocument(c,e))}o.Be&&(n.set(s,o.ke()),o.qe())}}));let r=He();this.He.forEach(((o,s)=>{let u=!0;s.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,s)=>s.setReadTime(e)));const i=new _m(e,n,this.Ye,this.je,r);return this.je=Dr(),this.Je=gy(),this.He=gy(),this.Ye=new Rt(qe),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new tN,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new gt(qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new gt(qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tN),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function gy(){return new Rt(ve.comparator)}function nN(){return new Rt(ve.comparator)}const QJ={asc:"ASCENDING",desc:"DESCENDING"},XJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZJ={and:"AND",or:"OR"};class eQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ab(t,e){return t.useProto3Json||hm(e)?e:{value:e}}function xf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function s4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tQ(t,e){return xf(t,e.toTimestamp())}function rn(t){return Ce(!!t,49232),xe.fromTimestamp((function(n){const r=Ts(n);return new ct(r.seconds,r.nanos)})(t))}function WI(t,e){return Ib(t,e).canonicalString()}function Ib(t,e){const n=(function(i){return new Qe(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function a4(t){const e=Qe.fromString(t);return Ce(y4(e),10190,{key:e.toString()}),e}function Bp(t,e){return WI(t.databaseId,e.path)}function Ao(t,e){const n=a4(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(c4(n))}function l4(t,e){return WI(t.databaseId,e)}function u4(t){const e=a4(t);return e.length===4?Qe.emptyPath():c4(e)}function Cb(t){return new Qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function c4(t){return Ce(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function rN(t,e,n){return{name:Bp(t,e),fields:n.value.mapValue.fields}}function f4(t,e,n){const r=Ao(t,e.name),i=rn(e.updateTime),o=e.createTime?rn(e.createTime):xe.min(),s=new Xn({mapValue:{fields:e.fields}}),u=Dt.newFoundDocument(r,i,o,s);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function nQ(t,e){return"found"in e?(function(r,i){Ce(!!i.found,43571),i.found.name,i.found.updateTime;const o=Ao(r,i.found.name),s=rn(i.found.updateTime),u=i.found.createTime?rn(i.found.createTime):xe.min(),c=new Xn({mapValue:{fields:i.found.fields}});return Dt.newFoundDocument(o,s,u,c)})(t,e):"missing"in e?(function(r,i){Ce(!!i.missing,3894),Ce(!!i.readTime,22933);const o=Ao(r,i.missing),s=rn(i.readTime);return Dt.newNoDocument(o,s)})(t,e):Ee(7234,{result:e})}function rQ(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ee(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(f,h){return f.useProto3Json?(Ce(h===void 0||typeof h=="string",58123),Jt.fromBase64String(h||"")):(Ce(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Jt.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&(function(f){const h=f.code===void 0?re.UNKNOWN:n4(f.code);return new fe(h,f.message||"")})(s);n=new o4(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ao(t,r.document.name),o=rn(r.document.updateTime),s=r.document.createTime?rn(r.document.createTime):xe.min(),u=new Xn({mapValue:{fields:r.document.fields}}),c=Dt.newFoundDocument(i,o,s,u),f=r.targetIds||[],h=r.removedTargetIds||[];n=new Xy(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ao(t,r.document),o=r.readTime?rn(r.readTime):xe.min(),s=Dt.newNoDocument(i,o),u=r.removedTargetIds||[];n=new Xy([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ao(t,r.document),o=r.removedTargetIds||[];n=new Xy([],o,i,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new jJ(i,o),u=r.targetId;n=new i4(u,s)}}return n}function qp(t,e){let n;if(e instanceof nd)n={update:rN(t,e.key,e.value)};else if(e instanceof rd)n={delete:Bp(t,e.key)};else if(e instanceof Ms)n={update:rN(t,e.key,e.data),updateMask:uQ(e.fieldMask)};else{if(!(e instanceof $I))return Ee(16599,{Vt:e.type});n={verify:Bp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,s){const u=s.transform;if(u instanceof If)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof gu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof yu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Cf)return{fieldPath:s.field.canonicalString(),increment:u.Ae};throw Ee(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:tQ(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ee(27497)})(t,e.precondition)),n}function xb(t,e){const n=e.currentDocument?(function(o){return o.updateTime!==void 0?Ft.updateTime(rn(o.updateTime)):o.exists!==void 0?Ft.exists(o.exists):Ft.none()})(e.currentDocument):Ft.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(s,u){let c=null;if("setToServerValue"in u)Ce(u.setToServerValue==="REQUEST_TIME",16630,{proto:u}),c=new If;else if("appendMissingElements"in u){const h=u.appendMissingElements.values||[];c=new gu(h)}else if("removeAllFromArray"in u){const h=u.removeAllFromArray.values||[];c=new yu(h)}else"increment"in u?c=new Cf(s,u.increment):Ee(16584,{proto:u});const f=Ut.fromServerFormat(u.fieldPath);return new vm(f,c)})(t,i))):[];if(e.update){e.update.name;const i=Ao(t,e.update.name),o=new Xn({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=(function(c){const f=c.fieldPaths||[];return new Mr(f.map((h=>Ut.fromServerFormat(h))))})(e.updateMask);return new Ms(i,o,s,n,r)}return new nd(i,o,n,r)}if(e.delete){const i=Ao(t,e.delete);return new rd(i,n)}if(e.verify){const i=Ao(t,e.verify);return new $I(i,n)}return Ee(1463,{proto:e})}function iQ(t,e){return t&&t.length>0?(Ce(e!==void 0,14353),t.map((n=>(function(i,o){let s=i.updateTime?rn(i.updateTime):rn(o);return s.isEqual(xe.min())&&(s=rn(o)),new GJ(s,i.transformResults||[])})(n,e)))):[]}function d4(t,e){return{documents:[l4(t,e.path)]}}function h4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=l4(t,i);const o=(function(f){if(f.length!==0)return g4(mt.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const s=(function(f){if(f.length!==0)return f.map((h=>(function(v){return{field:Kc(v.field),direction:sQ(v.dir)}})(h)))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);const u=Ab(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function p4(t){let e=u4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ce(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(y){const v=m4(y);return v instanceof mt&&UI(v)?v.getFilters():[v]})(n.where));let s=[];n.orderBy&&(s=(function(y){return y.map((v=>(function(S){return new Fp(Wc(S.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(v)))})(n.orderBy));let u=null;n.limit&&(u=(function(y){let v;return v=typeof y=="object"?y.value:y,hm(v)?null:v})(n.limit));let c=null;n.startAt&&(c=(function(y){const v=!!y.before,E=y.values||[];return new $a(E,v)})(n.startAt));let f=null;return n.endAt&&(f=(function(y){const v=!y.before,E=y.values||[];return new $a(E,v)})(n.endAt)),BB(e,i,s,o,u,"F",c,f)}function oQ(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function m4(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wc(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Wc(n.unaryFilter.field);return Xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Wc(n.unaryFilter.field);return Xe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Wc(n.unaryFilter.field);return Xe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Xe.create(Wc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return mt.create(n.compositeFilter.filters.map((r=>m4(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(t):Ee(30097,{filter:t})}function sQ(t){return QJ[t]}function aQ(t){return XJ[t]}function lQ(t){return ZJ[t]}function Kc(t){return{fieldPath:t.canonicalString()}}function Wc(t){return Ut.fromServerFormat(t.fieldPath)}function g4(t){return t instanceof Xe?(function(n){if(n.op==="=="){if(qD(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NAN"}};if(BD(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qD(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NOT_NAN"}};if(BD(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kc(n.field),op:aQ(n.op),value:n.value}}})(t):t instanceof mt?(function(n){const r=n.getFilters().map((i=>g4(i)));return r.length===1?r[0]:{compositeFilter:{op:lQ(n.op),filters:r}}})(t):Ee(54877,{filter:t})}function uQ(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function y4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n,r,i,o=xe.min(),s=xe.min(),u=Jt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.yt=e}}function cQ(t,e){let n;if(e.document)n=f4(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ve.fromSegments(e.noDocument.path),i=_u(e.noDocument.readTime);n=Dt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ee(56709);{const r=ve.fromSegments(e.unknownDocument.path),i=_u(e.unknownDocument.version);n=Dt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const o=new ct(i[0],i[1]);return xe.fromTimestamp(o)})(e.readTime)),n}function iN(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:wv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,s){return{name:Bp(o,s.key),fields:s.data.value.mapValue.fields,updateTime:xf(o,s.version.toTimestamp()),createTime:xf(o,s.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:vu(e.version)};else{if(!e.isUnknownDocument())return Ee(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:vu(e.version)}}return r}function wv(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function vu(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function _u(t){const e=new ct(t.seconds,t.nanoseconds);return xe.fromTimestamp(e)}function Kl(t,e){const n=(e.baseMutations||[]).map((o=>xb(t.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const u=e.mutations[o+1];s.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((o=>xb(t.yt,o))),i=ct.fromMillis(e.localWriteTimeMs);return new zI(e.batchId,i,n,r)}function tp(t){const e=_u(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?_u(t.lastLimboFreeSnapshotVersion):xe.min();let r;return r=(function(o){return o.documents!==void 0})(t.query)?(function(o){const s=o.documents.length;return Ce(s===1,1966,{count:s}),Er(td(u4(o.documents[0])))})(t.query):(function(o){return Er(p4(o))})(t.query),new cs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Jt.fromBase64String(t.resumeToken))}function _4(t,e){const n=vu(e.snapshotVersion),r=vu(e.lastLimboFreeSnapshotVersion);let i;i=_v(e.target)?d4(t.yt,e.target):h4(t.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:mu(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function jI(t){const e=p4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ev(e,e.limit,"L"):e}function iw(t,e){return new GI(e.largestBatchId,xb(t.yt,e.overlayMutation))}function oN(t,e){const n=e.path.lastSegment();return[t,fr(e.path.popLast()),n]}function sN(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:vu(r.readTime),documentKey:fr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fQ{getBundleMetadata(e,n){return aN(e).get(n).next((r=>{if(r)return(function(o){return{id:o.bundleId,createTime:_u(o.createTime),version:o.version}})(r)}))}saveBundleMetadata(e,n){return aN(e).put((function(i){return{bundleId:i.id,createTime:vu(rn(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return lN(e).get(n).next((r=>{if(r)return(function(o){return{name:o.name,query:jI(o.bundledQuery),readTime:_u(o.readTime)}})(r)}))}saveNamedQuery(e,n){return lN(e).put((function(i){return{name:i.name,readTime:vu(rn(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function aN(t){return In(t,O_)}function lN(t){return In(t,V_)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new z_(e,r)}getOverlay(e,n){return Oh(e).get(oN(this.userId,n)).next((r=>r?iw(this.serializer,r):null))}getOverlays(e,n){const r=wo();return Q.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((o,s)=>{const u=new GI(n,s);i.push(this.St(e,u))})),Q.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((s=>i.add(fr(s.getCollectionPath()))));const o=[];return i.forEach((s=>{const u=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(Oh(e).Z(gb,u))})),Q.waitFor(o)}getOverlaysForCollection(e,n,r){const i=wo(),o=fr(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Oh(e).J(gb,s).next((u=>{for(const c of u){const f=iw(this.serializer,c);i.set(f.getKey(),f)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const o=wo();let s;const u=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Oh(e).ee({index:vB,range:u},((c,f,h)=>{const y=iw(this.serializer,f);o.size()<i||y.largestBatchId===s?(o.set(y.getKey(),y),s=y.largestBatchId):h.done()})).next((()=>o))}St(e,n){return Oh(e).put((function(i,o,s){const[u,c,f]=oN(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:f,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:qp(i.yt,s.mutation)}})(this.serializer,this.userId,n))}}function Oh(t){return In(t,L_)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dQ{bt(e){return In(e,kI)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?Jt.fromUint8Array(r):Jt.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Vt(e.integerValue));else if("doubleValue"in e){const r=Vt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Dp(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Ts(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Es(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?PB(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):B_(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Ee(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var s,u;const r=e.fields||{};this.Ft(n,53);const i=Sf,o=((u=(s=r[i].arrayValue)==null?void 0:s.values)==null?void 0:u.length)||0;this.Ft(n,15),n.Mt(Vt(o)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),ve.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Wl.Kt=new Wl;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=255;function hQ(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function uN(t){const e=64-(function(r){let i=0;for(let o=0;o<8;++o){const s=hQ(255&r[o]);if(i+=s,s!==8)break}return i})(t);return Math.ceil(e/8)}class pQ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=uN(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=uN(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(Uc),this.sn(255)}_n(){this.an(Uc),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Uc?(this.sn(Uc),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Uc?(this.an(Uc),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class mQ{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class gQ{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Vh{constructor(){this.cn=new pQ,this.ln=new mQ(this.cn),this.hn=new gQ(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new jl(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Zy(this.En),directionalValue:Zy(this.dn),orderedDocumentKey:Zy(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function pa(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=cN(t.En,e.En),n!==0?n:(n=cN(t.dn,e.dn),n!==0?n:ve.comparator(t.In,e.In)))}function cN(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Zy(t){return VU()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function fN(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class dN{constructor(e){this.mn=new gt(((n,r)=>Ut.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ce(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=hb(e);if(n!==void 0&&!this.wn(n))return!1;const r=Bl(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.wn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!i.has(u.field.canonicalString())){const c=r[o];if(!this.Sn(u,c)||!this.bn(this.fn[s++],c))return!1}++o}for(;o<r.length;++o){const u=r[o];if(s>=this.fn.length||!this.bn(this.fn[s++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new gt(Ut.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Gy(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Gy(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Gy(r.field,r.dir==="asc"?0:1)));return new mv(mv.UNKNOWN_ID,this.collectionId,n,Mp.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t){var n,r;if(Ce(t instanceof Xe||t instanceof mt,20012),t instanceof Xe){if(t instanceof FB){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map((o=>Xe.create(t.field,"==",o))))||[];return mt.create(i,"or")}return t}const e=t.filters.map((i=>T4(i)));return mt.create(e,t.op)}function yQ(t){if(t.getFilters().length===0)return[];const e=Mb(T4(t));return Ce(E4(e),7391),Rb(e)||Pb(e)?[e]:e.getFilters()}function Rb(t){return t instanceof Xe}function Pb(t){return t instanceof mt&&UI(t)}function E4(t){return Rb(t)||Pb(t)||(function(n){if(n instanceof mt&&Eb(n)){for(const r of n.getFilters())if(!Rb(r)&&!Pb(r))return!1;return!0}return!1})(t)}function Mb(t){if(Ce(t instanceof Xe||t instanceof mt,34018),t instanceof Xe)return t;if(t.filters.length===1)return Mb(t.filters[0]);const e=t.filters.map((r=>Mb(r)));let n=mt.create(e,t.op);return n=Sv(n),E4(n)?n:(Ce(n instanceof mt,64498),Ce(Af(n),40251),Ce(n.filters.length>1,57927),n.filters.reduce(((r,i)=>YI(r,i))))}function YI(t,e){let n;return Ce(t instanceof Xe||t instanceof mt,38388),Ce(e instanceof Xe||e instanceof mt,25473),n=t instanceof Xe?e instanceof Xe?(function(i,o){return mt.create([i,o],"and")})(t,e):hN(t,e):e instanceof Xe?hN(e,t):(function(i,o){if(Ce(i.filters.length>0&&o.filters.length>0,48005),Af(i)&&Af(o))return VB(i,o.getFilters());const s=Eb(i)?i:o,u=Eb(i)?o:i,c=s.filters.map((f=>YI(f,u)));return mt.create(c,"or")})(t,e),Sv(n)}function hN(t,e){if(Af(e))return VB(e,t.getFilters());{const n=e.filters.map((r=>YI(t,r)));return mt.create(n,"or")}}function Sv(t){if(Ce(t instanceof Xe||t instanceof mt,11850),t instanceof Xe)return t;const e=t.getFilters();if(e.length===1)return Sv(e[0]);if(kB(t))return t;const n=e.map((i=>Sv(i))),r=[];return n.forEach((i=>{i instanceof Xe?r.push(i):i instanceof mt&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:mt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vQ{constructor(){this.Cn=new JI}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(ti.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(ti.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class JI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gt(Qe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="IndexedDbIndexManager",yy=new Uint8Array(0);class _Q{constructor(e,n){this.databaseId=n,this.vn=new JI,this.Fn=new Ps((r=>mu(r)),((r,i)=>mm(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const o={collectionId:r,parent:fr(i)};return mN(e).put(o)}return Q.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[rB(n),""],!1,!0);return mN(e).J(i).next((o=>{for(const s of o){if(s.collectionId!==n)break;r.push(Eo(s.parent))}return r}))}addFieldIndex(e,n){const r=Lh(e),i=(function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map((c=>[c.fieldPath.canonicalString(),c.kind]))}})(n);delete i.indexId;const o=r.add(i);if(n.indexState){const s=Bc(e);return o.next((u=>{s.put(sN(u,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return o.next()}deleteFieldIndex(e,n){const r=Lh(e),i=Bc(e),o=Fc(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Lh(e),r=Fc(e),i=Bc(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return Q.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const o=new dN(r).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,n){const r=Fc(e);let i=!0;const o=new Map;return Q.forEach(this.Mn(n),(s=>this.xn(e,s).next((u=>{i&&(i=!!u),o.set(s,u)})))).next((()=>{if(i){let s=He();const u=[];return Q.forEach(o,((c,f)=>{de(pN,`Using index ${(function(C){return`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map((q=>`${q.fieldPath}:${q.kind}`)).join(",")}`})(c)} to execute ${mu(n)}`);const h=(function(C,q){const L=hb(q);if(L===void 0)return null;for(const G of Tv(C,L.fieldPath))switch(G.op){case"array-contains-any":return G.value.arrayValue.values||[];case"array-contains":return[G.value]}return null})(f,c),y=(function(C,q){const L=new Map;for(const G of Bl(q))for(const N of Tv(C,G.fieldPath))switch(N.op){case"==":case"in":L.set(G.fieldPath.canonicalString(),N.value);break;case"not-in":case"!=":return L.set(G.fieldPath.canonicalString(),N.value),Array.from(L.values())}return null})(f,c),v=(function(C,q){const L=[];let G=!0;for(const N of Bl(q)){const O=N.kind===0?KD(C,N.fieldPath,C.startAt):WD(C,N.fieldPath,C.startAt);L.push(O.value),G&&(G=O.inclusive)}return new $a(L,G)})(f,c),E=(function(C,q){const L=[];let G=!0;for(const N of Bl(q)){const O=N.kind===0?WD(C,N.fieldPath,C.endAt):KD(C,N.fieldPath,C.endAt);L.push(O.value),G&&(G=O.inclusive)}return new $a(L,G)})(f,c),S=this.On(c,f,v),b=this.On(c,f,E),I=this.Nn(c,f,y),R=this.Bn(c.indexId,h,S,v.inclusive,b,E.inclusive,I);return Q.forEach(R,(D=>r.Y(D,n.limit).next((C=>{C.forEach((q=>{const L=ve.fromSegments(q.documentKey);s.has(L)||(s=s.add(L),u.push(L))}))}))))})).next((()=>u))}return Q.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=yQ(mt.create(e.filters,"and")).map((r=>Sb(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,o,s,u){const c=(n!=null?n.length:1)*Math.max(r.length,o.length),f=c/(n!=null?n.length:1),h=[];for(let y=0;y<c;++y){const v=n?this.Ln(n[y/f]):yy,E=this.kn(e,v,r[y%f],i),S=this.qn(e,v,o[y%f],s),b=u.map((I=>this.kn(e,v,I,!0)));h.push(...this.createRange(E,S,b))}return h}kn(e,n,r,i){const o=new jl(e,ve.empty(),n,r);return i?o:o.An()}qn(e,n,r,i){const o=new jl(e,ve.empty(),n,r);return i?o.An():o}xn(e,n){const r=new dN(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((o=>{let s=null;for(const u of o)r.yn(u)&&(!s||u.fields.length>s.fields.length)&&(s=u);return s}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return Q.forEach(i,(o=>this.xn(e,o).next((s=>{s?r!==0&&s.fields.length<(function(c){let f=new gt(Ut.comparator),h=!1;for(const y of c.filters)for(const v of y.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?h=!0:f=f.add(v.field));for(const y of c.orderBy)y.field.isKeyField()||(f=f.add(y.field));return f.size+(h?1:0)})(o)&&(r=1):r=0})))).next((()=>(function(s){return s.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new Vh;for(const i of Bl(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const s=r.Pn(i.kind);Wl.Kt.Dt(o,s)}return r.un()}Ln(e){const n=new Vh;return Wl.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Vh;return Wl.Kt.Dt(pu(this.databaseId,n),r.Pn((function(o){const s=Bl(o);return s.length===0?0:s[s.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new Vh);let o=0;for(const s of Bl(e)){const u=r[o++];for(const c of i)if(this.Un(n,s.fieldPath)&&Up(u))i=this.Kn(i,s,u);else{const f=c.Pn(s.kind);Wl.Kt.Dt(u,f)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const u of i){const c=new Vh;c.seed(u.un()),Wl.Kt.Dt(s,c.Pn(n.kind)),o.push(c)}return o}Un(e,n){return!!e.filters.find((r=>r instanceof Xe&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Lh(e),i=Bc(e);return(n?r.J(mb,IDBKeyRange.bound(n,n)):r.J()).next((o=>{const s=[];return Q.forEach(o,(u=>i.get([u.indexId,this.uid]).next((c=>{s.push((function(h,y){const v=y?new Mp(y.sequenceNumber,new ti(_u(y.readTime),new ve(Eo(y.documentKey)),y.largestBatchId)):Mp.empty(),E=h.fields.map((([S,b])=>new Gy(Ut.fromServerFormat(S),b)));return new mv(h.indexId,h.collectionGroup,E,v)})(u,c))})))).next((()=>s))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:qe(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=Lh(e),o=Bc(e);return this.Gn(e).next((s=>i.J(mb,IDBKeyRange.bound(n,n)).next((u=>Q.forEach(u,(c=>o.put(sN(c.indexId,this.uid,s,r))))))))}updateIndexEntries(e,n){const r=new Map;return Q.forEach(n,((i,o)=>{const s=r.get(i.collectionGroup);return(s?Q.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next((u=>(r.set(i.collectionGroup,u),Q.forEach(u,(c=>this.zn(e,i,c).next((f=>{const h=this.jn(o,c);return f.isEqual(h)?Q.resolve():this.Jn(e,o,c,f,h)})))))))}))}Hn(e,n,r,i){return Fc(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return Fc(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=Fc(e);let o=new gt(pa);return i.ee({index:yB,range:IDBKeyRange.only([r.indexId,this.uid,Zy(this.$n(r,n))])},((s,u)=>{o=o.add(new jl(r.indexId,n,fN(u.arrayValue),fN(u.directionalValue)))})).next((()=>o))}jn(e,n){let r=new gt(pa);const i=this.Qn(n,e);if(i==null)return r;const o=hb(n);if(o!=null){const s=e.data.field(o.fieldPath);if(Up(s))for(const u of s.arrayValue.values||[])r=r.add(new jl(n.indexId,e.key,this.Ln(u),i))}else r=r.add(new jl(n.indexId,e.key,yy,i));return r}Jn(e,n,r,i,o){de(pN,"Updating index entries for document '%s'",n.key);const s=[];return(function(c,f,h,y,v){const E=c.getIterator(),S=f.getIterator();let b=Lc(E),I=Lc(S);for(;b||I;){let R=!1,D=!1;if(b&&I){const C=h(b,I);C<0?D=!0:C>0&&(R=!0)}else b!=null?D=!0:R=!0;R?(y(I),I=Lc(S)):D?(v(b),b=Lc(E)):(b=Lc(E),I=Lc(S))}})(i,o,pa,(u=>{s.push(this.Hn(e,n,r,u))}),(u=>{s.push(this.Yn(e,n,r,u))})),Q.waitFor(s)}Gn(e){let n=1;return Bc(e).ee({index:gB,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,o)=>{o.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((s,u)=>pa(s,u))).filter(((s,u,c)=>!u||pa(s,c[u-1])!==0));const i=[];i.push(e);for(const s of r){const u=pa(s,e),c=pa(s,n);if(u===0)i[0]=e.An();else if(u>0&&c<0)i.push(s),i.push(s.An());else if(c>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.Zn(i[s],i[s+1]))return[];const u=i[s].Vn(this.uid,yy,ve.empty()),c=i[s+1].Vn(this.uid,yy,ve.empty());o.push(IDBKeyRange.bound(u,c))}return o}Zn(e,n){return pa(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(gN)}getMinOffset(e,n){return Q.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||Ee(44426))))).next(gN)}}function mN(t){return In(t,Op)}function Fc(t){return In(t,pp)}function Lh(t){return In(t,NI)}function Bc(t){return In(t,hp)}function gN(t){Ce(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;PI(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ti(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},w4=41943040;class ar{static withCacheSize(e){return new ar(e,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(t,e,n){const r=t.store(Li),i=t.store(_f),o=[],s=IDBKeyRange.only(n.batchId);let u=0;const c=r.ee({range:s},((h,y,v)=>(u++,v.delete())));o.push(c.next((()=>{Ce(u===1,47070,{batchId:n.batchId})})));const f=[];for(const h of n.mutations){const y=hB(e,h.key.path,n.batchId);o.push(i.delete(y)),f.push(h.key)}return Q.waitFor(o).next((()=>f))}function bv(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ee(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar.DEFAULT_COLLECTION_PERCENTILE=10,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ar.DEFAULT=new ar(w4,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ar.DISABLED=new ar(-1,0,0);class H_{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){Ce(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new H_(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ma(e).ee({index:Jl,range:r},((i,o,s)=>{n=!1,s.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const o=jc(e),s=ma(e);return s.add({}).next((u=>{Ce(typeof u=="number",49019);const c=new zI(u,n,r,i),f=(function(E,S,b){const I=b.baseMutations.map((D=>qp(E.yt,D))),R=b.mutations.map((D=>qp(E.yt,D)));return{userId:S,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:I,mutations:R}})(this.serializer,this.userId,c),h=[];let y=new gt(((v,E)=>qe(v.canonicalString(),E.canonicalString())));for(const v of i){const E=hB(this.userId,v.key.path,u);y=y.add(v.key.path.popLast()),h.push(s.put(f)),h.push(o.put(E,ZY))}return y.forEach((v=>{h.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Xn[u]=c.keys()})),Q.waitFor(h).next((()=>c))}))}lookupMutationBatch(e,n){return ma(e).get(n).next((r=>r?(Ce(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Kl(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Q.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return ma(e).ee({index:Jl,range:i},((s,u,c)=>{u.userId===this.userId&&(Ce(u.batchId>=r,47524,{tr:r}),o=Kl(this.serializer,u)),c.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Ma;return ma(e).ee({index:Jl,range:n,reverse:!0},((i,o,s)=>{r=o.batchId,s.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Ma],[this.userId,Number.POSITIVE_INFINITY]);return ma(e).J(Jl,n).next((r=>r.map((i=>Kl(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Ky(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return jc(e).ee({range:i},((s,u,c)=>{const[f,h,y]=s,v=Eo(h);if(f===this.userId&&n.path.isEqual(v))return ma(e).get(y).next((E=>{if(!E)throw Ee(61480,{nr:s,batchId:y});Ce(E.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:E.userId,batchId:y}),o.push(Kl(this.serializer,E))}));c.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(qe);const i=[];return n.forEach((o=>{const s=Ky(this.userId,o.path),u=IDBKeyRange.lowerBound(s),c=jc(e).ee({range:u},((f,h,y)=>{const[v,E,S]=f,b=Eo(E);v===this.userId&&o.path.isEqual(b)?r=r.add(S):y.done()}));i.push(c)})),Q.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=Ky(this.userId,r),s=IDBKeyRange.lowerBound(o);let u=new gt(qe);return jc(e).ee({range:s},((c,f,h)=>{const[y,v,E]=c,S=Eo(v);y===this.userId&&r.isPrefixOf(S)?S.length===i&&(u=u.add(E)):h.done()})).next((()=>this.rr(e,u)))}rr(e,n){const r=[],i=[];return n.forEach((o=>{i.push(ma(e).get(o).next((s=>{if(s===null)throw Ee(35274,{batchId:o});Ce(s.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:s.userId,batchId:o}),r.push(Kl(this.serializer,s))})))})),Q.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return S4(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Q.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Q.resolve();const r=IDBKeyRange.lowerBound((function(s){return[s]})(this.userId)),i=[];return jc(e).ee({range:r},((o,s,u)=>{if(o[0]===this.userId){const c=Eo(o[1]);i.push(c)}else u.done()})).next((()=>{Ce(i.length===0,56720,{sr:i.map((o=>o.canonicalString()))})}))}))}containsKey(e,n){return b4(e,this.userId,n)}_r(e){return A4(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Ma,lastStreamToken:""}))}}function b4(t,e,n){const r=Ky(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return jc(t).ee({range:o,X:!0},((u,c,f)=>{const[h,y,v]=u;h===e&&y===i&&(s=!0),f.done()})).next((()=>s))}function ma(t){return In(t,Li)}function jc(t){return In(t,_f)}function A4(t){return In(t,Np)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Tu(0)}static cr(){return new Tu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Tu(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>xe.fromTimestamp(new ct(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>qc(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Ce(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const o=[];return qc(e).ee(((s,u)=>{const c=tp(u);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,o.push(this.removeTargetData(e,c)))})).next((()=>Q.waitFor(o))).next((()=>i))}forEachTarget(e,n){return qc(e).ee(((r,i)=>{const o=tp(i);n(o)}))}lr(e){return vN(e).get(vv).next((n=>(Ce(n!==null,2888),n)))}hr(e,n){return vN(e).put(vv,n)}Pr(e,n){return qc(e).put(_4(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=mu(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return qc(e).ee({range:i,index:mB},((s,u,c)=>{const f=tp(u);mm(n,f.target)&&(o=f,c.done())})).next((()=>o))}addMatchingKeys(e,n,r){const i=[],o=Ea(e);return n.forEach((s=>{const u=fr(s.path);i.push(o.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(e,r,s))})),Q.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ea(e);return Q.forEach(n,(o=>{const s=fr(o.path);return Q.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])}))}removeMatchingKeysForTargetId(e,n){const r=Ea(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ea(e);let o=He();return i.ee({range:r,X:!0},((s,u,c)=>{const f=Eo(s[1]),h=new ve(f);o=o.add(h)})).next((()=>o))}containsKey(e,n){const r=fr(n.path),i=IDBKeyRange.bound([r],[rB(r)],!1,!0);let o=0;return Ea(e).ee({index:DI,X:!0,range:i},(([s,u],c,f)=>{s!==0&&(o++,f.done())})).next((()=>o>0))}At(e,n){return qc(e).get(n).next((r=>r?tp(r):null))}}function qc(t){return In(t,Tf)}function vN(t){return In(t,ou)}function Ea(t){return In(t,Ef)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="LruGarbageCollector",EQ=1048576;function TN([t,e],[n,r]){const i=qe(t,n);return i===0?qe(e,r):i}class wQ{constructor(e){this.Ir=e,this.buffer=new gt(TN),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();TN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class I4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(_N,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ja(n)?de(_N,"Ignoring IndexedDB error during garbage collection: ",n):await Ya(n)}await this.Vr(3e5)}))}}class SQ{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Pr.ce);const r=new wQ(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(yN)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yN):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,u,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,s=Date.now(),this.nthSequenceNumber(e,i)))).next((y=>(r=y,u=Date.now(),this.removeTargets(e,r,n)))).next((y=>(o=y,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(f=Date.now(),Hc()<=Je.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(u-s)+`ms
	Removed ${o} targets in `+(c-u)+`ms
	Removed ${y} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y}))))}}function C4(t,e){return new SQ(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bQ{constructor(e,n){this.db=e,this.garbageCollector=C4(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return vy(e,r)}removeReference(e,n,r){return vy(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return vy(e,n)}br(e,n){return(function(i,o){let s=!1;return A4(i).te((u=>b4(i,u,o).next((c=>(c&&(s=!0),Q.resolve(!c)))))).next((()=>s))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Sr(e,((s,u)=>{if(u<=n){const c=this.br(e,s).next((f=>{if(!f)return o++,r.getEntry(e,s).next((()=>(r.removeEntry(s,xe.min()),Ea(e).delete((function(y){return[0,fr(y.path)]})(s)))))}));i.push(c)}})).next((()=>Q.waitFor(i))).next((()=>r.apply(e))).next((()=>o))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return vy(e,n)}Sr(e,n){const r=Ea(e);let i,o=Pr.ce;return r.ee({index:DI},(([s,u],{path:c,sequenceNumber:f})=>{s===0?(o!==Pr.ce&&n(new ve(Eo(i)),o),o=f,i=c):o=Pr.ce})).next((()=>{o!==Pr.ce&&n(new ve(Eo(i)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function vy(t,e){return Ea(t).put((function(r,i){return{targetId:0,path:fr(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(){this.changes=new Ps((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AQ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ul(e).put(r)}removeEntry(e,n,r){return Ul(e).delete((function(o,s){const u=o.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],wv(s),u[u.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Dt.newInvalidDocument(n);return Ul(e).ee({index:Wy,range:IDBKeyRange.only(Uh(n))},((i,o)=>{r=this.Cr(n,o)})).next((()=>r))}vr(e,n){let r={size:0,document:Dt.newInvalidDocument(n)};return Ul(e).ee({index:Wy,range:IDBKeyRange.only(Uh(n))},((i,o)=>{r={document:this.Cr(n,o),size:bv(o)}})).next((()=>r))}getEntries(e,n){let r=Dr();return this.Fr(e,n,((i,o)=>{const s=this.Cr(i,o);r=r.insert(i,s)})).next((()=>r))}Mr(e,n){let r=Dr(),i=new Rt(ve.comparator);return this.Fr(e,n,((o,s)=>{const u=this.Cr(o,s);r=r.insert(o,u),i=i.insert(o,bv(s))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return Q.resolve();let i=new gt(SN);n.forEach((c=>i=i.add(c)));const o=IDBKeyRange.bound(Uh(i.first()),Uh(i.last())),s=i.getIterator();let u=s.getNext();return Ul(e).ee({index:Wy,range:o},((c,f,h)=>{const y=ve.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;u&&SN(u,y)<0;)r(u,null),u=s.getNext();u&&u.isEqual(y)&&(r(u,f),u=s.hasNext()?s.getNext():null),u?h.j(Uh(u)):h.done()})).next((()=>{for(;u;)r(u,null),u=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,o){const s=n.path,u=[s.popLast().toArray(),s.lastSegment(),wv(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ul(e).J(IDBKeyRange.bound(u,c,!0)).next((f=>{o==null||o.incrementDocumentReadCount(f.length);let h=Dr();for(const y of f){const v=this.Cr(ve.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);v.isFoundDocument()&&(ym(n,v)||i.has(v.key))&&(h=h.insert(v.key,v))}return h}))}getAllFromCollectionGroup(e,n,r,i){let o=Dr();const s=wN(n,r),u=wN(n,ti.max());return Ul(e).ee({index:pB,range:IDBKeyRange.bound(s,u,!0)},((c,f,h)=>{const y=this.Cr(ve.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);o=o.insert(y.key,y),o.size===i&&h.done()})).next((()=>o))}newChangeBuffer(e){return new IQ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return EN(e).get(pb).next((n=>(Ce(!!n,20021),n)))}Dr(e,n){return EN(e).put(pb,n)}Cr(e,n){if(n){const r=cQ(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(xe.min())))return r}return Dt.newInvalidDocument(e)}}function R4(t){return new AQ(t)}class IQ extends x4{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Ps((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new gt(((o,s)=>qe(o.canonicalString(),s.canonicalString())));return this.changes.forEach(((o,s)=>{const u=this.Br.get(o);if(n.push(this.Nr.removeEntry(e,o,u.readTime)),s.isValidDocument()){const c=iN(this.Nr.serializer,s);i=i.add(o.path.popLast());const f=bv(c);r+=f-u.size,n.push(this.Nr.addEntry(e,o,c))}else if(r-=u.size,this.trackRemovals){const c=iN(this.Nr.serializer,s.convertToNoDocument(xe.min()));n.push(this.Nr.addEntry(e,o,c))}})),i.forEach((o=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))})),n.push(this.Nr.updateMetadata(e,r)),Q.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((o,s)=>{this.Br.set(o,{size:s,readTime:r.get(o).readTime})})),r)))}}function EN(t){return In(t,kp)}function Ul(t){return In(t,yv)}function Uh(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function wN(t,e){const n=e.documentKey.path.toArray();return[t,wv(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function SN(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=qe(n[o],r[o]),i)return i;return i=qe(n.length,r.length),i||(i=qe(n[n.length-2],r[r.length-2]),i||qe(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&yp(r.mutation,i,Mr.empty(),ct.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,He()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=He()){const i=wo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let s=Zh();return o.forEach(((u,c)=>{s=s.insert(u,c.overlayedDocument)})),s}))))}getOverlayedDocuments(e,n){const r=wo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,He())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((s,u)=>{n.set(s,u)}))}))}computeViews(e,n,r,i){let o=Dr();const s=gp(),u=(function(){return gp()})();return n.forEach(((c,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof Ms)?o=o.insert(f.key,f):h!==void 0?(s.set(f.key,h.mutation.getFieldMask()),yp(h.mutation,f,h.mutation.getFieldMask(),ct.now())):s.set(f.key,Mr.empty())})),this.recalculateAndSaveOverlays(e,o).next((c=>(c.forEach(((f,h)=>s.set(f,h))),n.forEach(((f,h)=>u.set(f,new CQ(h,s.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=gp();let i=new Rt(((s,u)=>s-u)),o=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((s=>{for(const u of s)u.keys().forEach((c=>{const f=n.get(c);if(f===null)return;let h=r.get(c)||Mr.empty();h=u.applyToLocalView(f,h),r.set(c,h);const y=(i.get(u.batchId)||He()).add(c);i=i.insert(u.batchId,y)}))})).next((()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,h=c.value,y=KB();h.forEach((v=>{if(!o.has(v)){const E=ZB(n.get(v),r.get(v));E!==null&&y.set(v,E),o=o.add(v)}})),s.push(this.documentOverlayCache.saveOverlays(e,f,y))}return Q.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):FI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Q.resolve(wo());let u=vf,c=o;return s.next((f=>Q.forEach(f,((h,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),o.get(h)?Q.resolve():this.remoteDocumentCache.getEntry(e,h).next((v=>{c=c.insert(h,v)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,c,f,He()))).next((h=>({batchId:u,changes:GB(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((r=>{let i=Zh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Zh();return this.indexManager.getCollectionParents(e,o).next((u=>Q.forEach(u,(c=>{const f=(function(y,v){return new Rs(v,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((h=>{h.forEach(((y,v)=>{s=s.insert(y,v)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((s=>{o.forEach(((c,f)=>{const h=f.getKey();s.get(h)===null&&(s=s.insert(h,Dt.newInvalidDocument(h)))}));let u=Zh();return s.forEach(((c,f)=>{const h=o.get(c);h!==void 0&&yp(h.mutation,f,Mr.empty(),ct.now()),ym(n,f)&&(u=u.insert(c,f))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:rn(i.createTime)}})(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:jI(i.bundledQuery),readTime:rn(i.readTime)}})(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RQ{constructor(){this.overlays=new Rt(ve.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wo();return Q.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.St(e,n,o)})),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=wo(),o=n.length+1,s=new ve(n.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Rt(((f,h)=>f-h));const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=o.get(f.largestBatchId);h===null&&(h=wo(),o=o.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const u=wo(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,h)=>u.set(f,h))),!(u.size()>=i)););return Q.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new GI(n,r));let o=this.qr.get(n);o===void 0&&(o=He(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.Qr=new gt(Vn.$r),this.Ur=new gt(Vn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Vn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Vn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ve(new Qe([])),r=new Vn(n,e),i=new Vn(n,e+1),o=[];return this.Ur.forEachInRange([r,i],(s=>{this.Gr(s),o.push(s.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new Qe([])),r=new Vn(n,e),i=new Vn(n,e+1);let o=He();return this.Ur.forEachInRange([r,i],(s=>{o=o.add(s.key)})),o}containsKey(e){const n=new Vn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Vn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||qe(e.Yr,n.Yr)}static Kr(e,n){return qe(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new gt(Vn.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new zI(o,n,r,i);this.mutationQueue.push(s);for(const u of i)this.Zr=this.Zr.add(new Vn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Q.resolve(s)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return Q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Ma:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Vn(n,0),i=new Vn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(s=>{const u=this.Xr(s.Yr);o.push(u)})),Q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(qe);return n.forEach((i=>{const o=new Vn(i,0),s=new Vn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],(u=>{r=r.add(u.Yr)}))})),Q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ve.isDocumentKey(o)||(o=o.child(""));const s=new Vn(new ve(o),0);let u=new gt(qe);return this.Zr.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.Yr)),!0)}),s),Q.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Ce(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Q.forEach(n.mutations,(i=>{const o=new Vn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Vn(n,0),i=this.Zr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DQ{constructor(e){this.ri=e,this.docs=(function(){return new Rt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Dt.newInvalidDocument(n))}getEntries(e,n){let r=Dr();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Dt.newInvalidDocument(i))})),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Dr();const s=n.path,u=new ve(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||PI(lB(h),r)<=0||(i.has(h.key)||ym(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return Q.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ee(9500)}ii(e,n){return Q.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new NQ(this)}getSize(e){return Q.resolve(this.size)}}class NQ extends x4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kQ{constructor(e){this.persistence=e,this.si=new Ps((n=>mu(n)),mm),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new QI,this.targetCount=0,this.ai=Tu.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Tu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach(((s,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Q.waitFor(o).next((()=>i))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((s=>{o.push(i.markPotentiallyOrphaned(e,s))})),Q.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n){this.ui={},this.overlays={},this.ci=new Pr(0),this.li=!1,this.li=!0,this.hi=new PQ,this.referenceDelegate=e(this),this.Pi=new kQ(this),this.indexManager=new vQ,this.remoteDocumentCache=(function(i){return new DQ(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new v4(n),this.Ii=new xQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new MQ(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const i=new OQ(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,n){return Q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class OQ extends cB{constructor(e){super(),this.currentSequenceNumber=e}}class G_{constructor(e){this.persistence=e,this.Ri=new QI,this.Vi=null}static mi(e){return new G_(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(r=>{const i=ve.fromPath(r);return this.gi(e,i).next((o=>{o||n.removeEntry(i,xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Av{constructor(e,n){this.persistence=e,this.pi=new Ps((r=>fr(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=C4(this,n)}static mi(e,n){return new Av(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Q.forEach(this.pi,((r,i)=>this.br(e,r,i).next((o=>o?Q.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(s=>this.br(e,s,n).next((u=>{u||(r++,o.removeEntry(s,xe.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yy(e.data.value)),n}br(e,n,r){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Q.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VQ{constructor(e){this.serializer=e}k(e,n,r,i){const o=new k_("createOrUpgrade",n);r<1&&i>=1&&((function(c){c.createObjectStore(pm)})(e),(function(c){c.createObjectStore(Np,{keyPath:XY}),c.createObjectStore(Li,{keyPath:kD,autoIncrement:!0}).createIndex(Jl,OD,{unique:!0}),c.createObjectStore(_f)})(e),bN(e),(function(c){c.createObjectStore(ql)})(e));let s=Q.resolve();return r<3&&i>=3&&(r!==0&&((function(c){c.deleteObjectStore(Ef),c.deleteObjectStore(Tf),c.deleteObjectStore(ou)})(e),bN(e)),s=s.next((()=>(function(c){const f=c.store(ou),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xe.min().toTimestamp(),targetCount:0};return f.put(vv,h)})(o)))),r<4&&i>=4&&(r!==0&&(s=s.next((()=>(function(c,f){return f.store(Li).J().next((y=>{c.deleteObjectStore(Li),c.createObjectStore(Li,{keyPath:kD,autoIncrement:!0}).createIndex(Jl,OD,{unique:!0});const v=f.store(Li),E=y.map((S=>v.put(S)));return Q.waitFor(E)}))})(e,o)))),s=s.next((()=>{(function(c){c.createObjectStore(wf,{keyPath:aJ})})(e)}))),r<5&&i>=5&&(s=s.next((()=>this.yi(o)))),r<6&&i>=6&&(s=s.next((()=>((function(c){c.createObjectStore(kp)})(e),this.wi(o))))),r<7&&i>=7&&(s=s.next((()=>this.Si(o)))),r<8&&i>=8&&(s=s.next((()=>this.bi(e,o)))),r<9&&i>=9&&(s=s.next((()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(s=s.next((()=>this.Di(o)))),r<11&&i>=11&&(s=s.next((()=>{(function(c){c.createObjectStore(O_,{keyPath:lJ})})(e),(function(c){c.createObjectStore(V_,{keyPath:uJ})})(e)}))),r<12&&i>=12&&(s=s.next((()=>{(function(c){const f=c.createObjectStore(L_,{keyPath:gJ});f.createIndex(gb,yJ,{unique:!1}),f.createIndex(vB,vJ,{unique:!1})})(e)}))),r<13&&i>=13&&(s=s.next((()=>(function(c){const f=c.createObjectStore(yv,{keyPath:eJ});f.createIndex(Wy,tJ),f.createIndex(pB,nJ)})(e))).next((()=>this.Ci(e,o))).next((()=>e.deleteObjectStore(ql)))),r<14&&i>=14&&(s=s.next((()=>this.Fi(e,o)))),r<15&&i>=15&&(s=s.next((()=>(function(c){c.createObjectStore(NI,{keyPath:cJ,autoIncrement:!0}).createIndex(mb,fJ,{unique:!1}),c.createObjectStore(hp,{keyPath:dJ}).createIndex(gB,hJ,{unique:!1}),c.createObjectStore(pp,{keyPath:pJ}).createIndex(yB,mJ,{unique:!1})})(e)))),r<16&&i>=16&&(s=s.next((()=>{n.objectStore(hp).clear()})).next((()=>{n.objectStore(pp).clear()}))),r<17&&i>=17&&(s=s.next((()=>{(function(c){c.createObjectStore(kI,{keyPath:_J})})(e)}))),r<18&&i>=18&&VU()&&(s=s.next((()=>{n.objectStore(hp).clear()})).next((()=>{n.objectStore(pp).clear()}))),s}wi(e){let n=0;return e.store(ql).ee(((r,i)=>{n+=bv(i)})).next((()=>{const r={byteSize:n};return e.store(kp).put(pb,r)}))}yi(e){const n=e.store(Np),r=e.store(Li);return n.J().next((i=>Q.forEach(i,(o=>{const s=IDBKeyRange.bound([o.userId,Ma],[o.userId,o.lastAcknowledgedBatchId]);return r.J(Jl,s).next((u=>Q.forEach(u,(c=>{Ce(c.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const f=Kl(this.serializer,c);return S4(e,o.userId,f).next((()=>{}))}))))}))))}Si(e){const n=e.store(Ef),r=e.store(ql);return e.store(ou).get(vv).next((i=>{const o=[];return r.ee(((s,u)=>{const c=new Qe(s),f=(function(y){return[0,fr(y)]})(c);o.push(n.get(f).next((h=>h?Q.resolve():(y=>n.put({targetId:0,path:fr(y),sequenceNumber:i.highestListenSequenceNumber}))(c))))})).next((()=>Q.waitFor(o)))}))}bi(e,n){e.createObjectStore(Op,{keyPath:sJ});const r=n.store(Op),i=new JI,o=s=>{if(i.add(s)){const u=s.lastSegment(),c=s.popLast();return r.put({collectionId:u,parent:fr(c)})}};return n.store(ql).ee({X:!0},((s,u)=>{const c=new Qe(s);return o(c.popLast())})).next((()=>n.store(_f).ee({X:!0},(([s,u,c],f)=>{const h=Eo(u);return o(h.popLast())}))))}Di(e){const n=e.store(Tf);return n.ee(((r,i)=>{const o=tp(i),s=_4(this.serializer,o);return n.put(s)}))}Ci(e,n){const r=n.store(ql),i=[];return r.ee(((o,s)=>{const u=n.store(yv),c=(function(y){return y.document?new ve(Qe.fromString(y.document.name).popFirst(5)):y.noDocument?ve.fromSegments(y.noDocument.path):y.unknownDocument?ve.fromSegments(y.unknownDocument.path):Ee(36783)})(s).path.toArray(),f={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(u.put(f))})).next((()=>Q.waitFor(i)))}Fi(e,n){const r=n.store(Li),i=R4(this.serializer),o=new XI(G_.mi,this.serializer.yt);return r.J().next((s=>{const u=new Map;return s.forEach((c=>{let f=u.get(c.userId)??He();Kl(this.serializer,c).keys().forEach((h=>f=f.add(h))),u.set(c.userId,f)})),Q.forEach(u,((c,f)=>{const h=new Un(f),y=z_.wt(this.serializer,h),v=o.getIndexManager(h),E=H_.wt(h,this.serializer,v,o.referenceDelegate);return new P4(i,E,y,v).recalculateAndSaveOverlaysForDocumentKeys(new yb(n,Pr.ce),c).next()}))}))}}function bN(t){t.createObjectStore(Ef,{keyPath:iJ}).createIndex(DI,oJ,{unique:!0}),t.createObjectStore(Tf,{keyPath:"targetId"}).createIndex(mB,rJ,{unique:!0}),t.createObjectStore(ou)}const ga="IndexedDbPersistence",ow=18e5,sw=5e3,aw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",M4="main";class ZI{constructor(e,n,r,i,o,s,u,c,f,h,y=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=o,this.window=s,this.document=u,this.xi=f,this.Oi=h,this.Ni=y,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=v=>Promise.resolve(),!ZI.v())throw new fe(re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bQ(this,i),this.$i=n+M4,this.serializer=new v4(c),this.Ui=new bo(this.$i,this.Ni,new VQ(this.serializer)),this.hi=new dQ,this.Pi=new TQ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=R4(this.serializer),this.Ii=new fQ,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,h===!1&&nn(ga,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new fe(re.FAILED_PRECONDITION,aw);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Pr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>_y(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(Ja(e))return de(ga,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return de(ga,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Fh(e).get(Vc).next((n=>Q.resolve(this.es(n))))}ts(e){return _y(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,ow)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=In(n,wf);return r.J().next((i=>{const o=this.ss(i,ow),s=i.filter((u=>o.indexOf(u)===-1));return Q.forEach(s,(u=>r.delete(u.clientId))).next((()=>s))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Q.resolve(!0):Fh(e).get(Vc).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,sw)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new fe(re.FAILED_PRECONDITION,aw);return!1}}return!(!this.networkEnabled||!this.inForeground)||_y(e).J().next((r=>this.ss(r,sw).find((i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(o||s&&u)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&de(ga,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[pm,wf],(e=>{const n=new yb(e,Pr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>_y(e).J().next((n=>this.ss(n,ow).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return H_.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new _Q(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return z_.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){de(ga,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=(function(c){return c===18?wJ:c===17?wB:c===16?EJ:c===15?OI:c===14?EB:c===13?TB:c===12?TJ:c===11?_B:void Ee(60245)})(this.Ni);let s;return this.Ui.runTransaction(e,i,o,(u=>(s=new yb(u,this.ci?this.ci.next():Pr.ce),n==="readwrite-primary"?this.Hi(s).next((c=>!!c||this.Yi(s))).next((c=>{if(!c)throw nn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new fe(re.FAILED_PRECONDITION,uB);return r(s)})).next((c=>this.Xi(s).next((()=>c)))):this.Is(s).next((()=>r(s)))))).then((u=>(s.raiseOnCommittedEvent(),u)))}Is(e){return Fh(e).get(Vc).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,sw)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new fe(re.FAILED_PRECONDITION,aw)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fh(e).put(Vc,n)}static v(){return bo.v()}Zi(e){const n=Fh(e);return n.get(Vc).next((r=>this.es(r)?(de(ga,"Releasing primary lease."),n.delete(Vc)):Q.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(nn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;OU()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return de(ga,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return nn(ga,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){nn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Fh(t){return In(t,pm)}function _y(t){return In(t,wf)}function eC(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=He(),i=He();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new tC(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return OU()?8:fB(zt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next((s=>{o.result=s})).next((()=>{if(!o.result)return this.ws(e,n,i,r).next((s=>{o.result=s}))})).next((()=>{if(o.result)return;const s=new LQ;return this.Ss(e,n,s).next((u=>{if(o.result=u,this.Vs)return this.bs(e,n,s,u.size)}))})).next((()=>o.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Hc()<=Je.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Gc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(Hc()<=Je.DEBUG&&de("QueryEngine","Query:",Gc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Hc()<=Je.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Gc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(n))):Q.resolve())}ys(e,n){if(jD(n))return Q.resolve(null);let r=Er(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Ev(n,null,"F"),r=Er(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const s=He(...o);return this.ps.getDocuments(e,s).next((u=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.Ds(n,u);return this.Cs(n,f,s,c.readTime)?this.ys(e,Ev(n,null,"F")):this.vs(e,f,n,c)}))))})))))}ws(e,n,r,i){return jD(n)||i.isEqual(xe.min())?Q.resolve(null):this.ps.getDocuments(e,r).next((o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?Q.resolve(null):(Hc()<=Je.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Gc(n)),this.vs(e,s,n,aB(i,vf)).next((u=>u)))}))}Ds(e,n){let r=new gt(zB(e));return n.forEach(((i,o)=>{ym(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Hc()<=Je.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Gc(n)),this.ps.getDocumentsMatchingQuery(e,n,ti.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((s=>{o=o.insert(s.key,s)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="LocalStore",UQ=3e8;class FQ{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Rt(qe),this.xs=new Ps((o=>mu(o)),mm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new P4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function N4(t,e,n,r){return new FQ(t,e,n,r)}async function k4(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const s=[],u=[];let c=He();for(const f of i){s.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of o){u.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((f=>({Ls:f,removedBatchIds:s,addedBatchIds:u})))}))}))}function BQ(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,c,f,h){const y=f.batch,v=y.keys();let E=Q.resolve();return v.forEach((S=>{E=E.next((()=>h.getEntry(c,S))).next((b=>{const I=f.docVersions.get(S);Ce(I!==null,48541),b.version.compareTo(I)<0&&(y.applyToRemoteDocument(b,f),b.isValidDocument()&&(b.setReadTime(f.commitVersion),h.addEntry(b)))}))})),E.next((()=>u.mutationQueue.removeMutationBatch(c,y)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let c=He();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function O4(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function qQ(t,e){const n=_e(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((h,y)=>{const v=i.get(y);if(!v)return;u.push(n.Pi.removeMatchingKeys(o,h.removedDocuments,y).next((()=>n.Pi.addMatchingKeys(o,h.addedDocuments,y))));let E=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?E=E.withResumeToken(Jt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):h.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(h.resumeToken,r)),i=i.insert(y,E),(function(b,I,R){return b.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=UQ?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0})(v,E,h)&&u.push(n.Pi.updateTargetData(o,E))}));let c=Dr(),f=He();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))})),u.push(V4(o,s,e.documentUpdates).next((h=>{c=h.ks,f=h.qs}))),!r.isEqual(xe.min())){const h=n.Pi.getLastRemoteSnapshotVersion(o).next((y=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(h)}return Q.waitFor(u).next((()=>s.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,c,f))).next((()=>c))})).then((o=>(n.Ms=i,o)))}function V4(t,e,n){let r=He(),i=He();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let s=Dr();return n.forEach(((u,c)=>{const f=o.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(xe.min())?(e.removeEntry(u,c.readTime),s=s.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(u,c)):de(nC,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)})),{ks:s,qs:i}}))}function $Q(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ma),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Rf(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((o=>o?(i=o,Q.resolve(i)):n.Pi.allocateTargetId(r).next((s=>(i=new cs(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Pf(t,e,n){const r=_e(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ja(s))throw s;de(nC,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Iv(t,e,n){const r=_e(t);let i=xe.min(),o=He();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,f,h){const y=_e(c),v=y.xs.get(h);return v!==void 0?Q.resolve(y.Ms.get(v)):y.Pi.getTargetData(f,h)})(r,s,Er(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,u.targetId).next((c=>{o=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:xe.min(),n?o:He()))).next((u=>(F4(r,$B(e),u),{documents:u,Qs:o})))))}function L4(t,e){const n=_e(t),r=_e(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(o=>r.At(o,e).next((s=>s?s.target:null))))}function U4(t,e){const n=_e(t),r=n.Os.get(e)||xe.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.Ns.getAllFromCollectionGroup(i,e,aB(r,vf),Number.MAX_SAFE_INTEGER))).then((i=>(F4(n,e,i),i)))}function F4(t,e,n){let r=t.Os.get(e)||xe.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}async function zQ(t,e,n,r){const i=_e(t);let o=He(),s=Dr();for(const f of n){const h=e.$s(f.metadata.name);f.document&&(o=o.add(h));const y=e.Us(f);y.setReadTime(e.Ks(f.metadata.readTime)),s=s.insert(h,y)}const u=i.Ns.newChangeBuffer({trackRemovals:!0}),c=await Rf(i,(function(h){return Er(td(Qe.fromString(`__bundle__/docs/${h}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(f=>V4(f,u,s).next((h=>(u.apply(f),h))).next((h=>i.Pi.removeMatchingKeysForTargetId(f,c.targetId).next((()=>i.Pi.addMatchingKeys(f,o,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(f,h.ks,h.qs))).next((()=>h.ks))))))}async function HQ(t,e,n=He()){const r=await Rf(t,Er(jI(e.bundledQuery))),i=_e(t);return i.persistence.runTransaction("Save named query","readwrite",(o=>{const s=rn(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ii.saveNamedQuery(o,e);const u=r.withResumeToken(Jt.EMPTY_BYTE_STRING,s);return i.Ms=i.Ms.insert(u.targetId,u),i.Pi.updateTargetData(o,u).next((()=>i.Pi.removeMatchingKeysForTargetId(o,r.targetId))).next((()=>i.Pi.addMatchingKeys(o,n,r.targetId))).next((()=>i.Ii.saveNamedQuery(o,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4="firestore_clients";function AN(t,e){return`${B4}_${t}_${e}`}const q4="firestore_mutations";function IN(t,e,n){let r=`${q4}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const $4="firestore_targets";function lw(t,e){return`${$4}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="SharedClientState";class Cv{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let o,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(o=new fe(i.error.code,i.error.message))),s?new Cv(e,n,i.state,o):(nn(mo,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vp{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new fe(r.error.code,r.error.message))),o?new vp(e,r.state,i):(nn(mo,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xv{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=BI();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=dB(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new xv(e,o):(nn(mo,`Failed to parse client data for instance '${e}': ${n}`),null)}}class rC{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new rC(n.clientId,n.onlineState):(nn(mo,`Failed to parse online state: ${e}`),null)}}class Db{constructor(){this.activeTargetIds=BI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uw{constructor(e,n,r,i,o){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new Rt(qe),this.started=!1,this.Xs=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.eo=AN(this.persistenceKey,this.Js),this.no=(function(c){return`firestore_sequence_number_${c}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new Db),this.ro=new RegExp(`^${B4}_${s}_([^_]*)$`),this.io=new RegExp(`^${q4}_${s}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${$4}_${s}_(\\d+)$`),this.oo=(function(c){return`firestore_online_state_${c}`})(this.persistenceKey),this._o=(function(c){return`firestore_bundle_loaded_v2_${c}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(AN(this.persistenceKey,r));if(i){const o=xv.Ws(r,i);o&&(this.Zs=this.Zs.insert(o.clientId,o))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(lw(this.persistenceKey,e));if(i){const o=vp.Ws(e,i);o&&(r=o.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(lw(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return de(mo,"READ",e,n),n}setItem(e,n){de(mo,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){de(mo,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(de(mo,"EVENT",n.key,n.newValue),n.key===this.eo)return void nn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=(function(o){let s=Pr.ce;if(o!=null)try{const u=JSON.parse(o);Ce(typeof u=="number",30636,{So:o}),s=u}catch(u){nn(mo,"Failed to read sequence number from WebStorage",u)}return s})(n.newValue);r!==Pr.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(n)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new Cv(this.currentUser,e,n,r),o=IN(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Gs())}Po(e){const n=IN(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=lw(this.persistenceKey,e),o=new vp(e,n,r);this.setItem(i,o.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return xv.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Cv.Ws(new Un(o),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return vp.Ws(i,n)}uo(e){return rC.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);de(mo,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),o=this.lo(r),s=[],u=[];return o.forEach((c=>{i.has(c)||s.push(c)})),i.forEach((c=>{o.has(c)||u.push(c)})),this.syncEngine.Fo(s,u).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=BI();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class z4{constructor(){this.Mo=new Db,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Db,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GQ{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="ConnectivityMonitor";class xN{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(CN,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(CN,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ty=null;function Nb(){return Ty===null?Ty=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ty++,"0x"+Ty.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="RestConnection",KQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WQ{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===vb?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=Nb(),u=this.zo(e,n.toUriEncodedString());de(cw,`Sending RPC '${e}' ${s}:`,u,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,o);const{host:f}=new URL(u),h=Yf(f);return this.Jo(e,u,c,r,h).then((y=>(de(cw,`Received RPC '${e}' ${s}: `,y),y)),(y=>{throw Mo(cw,`RPC '${e}' ${s} failed with error: `,y,"url: ",u,"request:",r),y}))}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ed})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,n){const r=KQ[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jQ{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or="WebChannelConnection";class YQ extends WQ{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=Nb();return new Promise(((u,c)=>{const f=new JF;f.setWithCredentials(!0),f.listenOnce(QF.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Hy.NO_ERROR:const y=f.getResponseJson();de(or,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(y)),u(y);break;case Hy.TIMEOUT:de(or,`RPC '${e}' ${s} timed out`),c(new fe(re.DEADLINE_EXCEEDED,"Request time out"));break;case Hy.HTTP_ERROR:const v=f.getStatus();if(de(or,`RPC '${e}' ${s} failed with status:`,v,"response text:",f.getResponseText()),v>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const b=(function(R){const D=R.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(D)>=0?D:re.UNKNOWN})(S.status);c(new fe(b,S.message))}else c(new fe(re.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new fe(re.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:s,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{de(or,`RPC '${e}' ${s} completed.`)}}));const h=JSON.stringify(i);de(or,`RPC '${e}' ${s} sending request:`,i),f.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=Nb(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=eB(),u=ZF(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=o.join("");de(or,`Creating RPC '${e}' stream ${i}: ${h}`,c);const y=s.createWebChannel(h,c);this.I_(y);let v=!1,E=!1;const S=new jQ({Yo:I=>{E?de(or,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(v||(de(or,`Opening RPC '${e}' stream ${i} transport.`),y.open(),v=!0),de(or,`RPC '${e}' stream ${i} sending:`,I),y.send(I))},Zo:()=>y.close()}),b=(I,R,D)=>{I.listen(R,(C=>{try{D(C)}catch(q){setTimeout((()=>{throw q}),0)}}))};return b(y,Xh.EventType.OPEN,(()=>{E||(de(or,`RPC '${e}' stream ${i} transport opened.`),S.o_())})),b(y,Xh.EventType.CLOSE,(()=>{E||(E=!0,de(or,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(y))})),b(y,Xh.EventType.ERROR,(I=>{E||(E=!0,Mo(or,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),S.a_(new fe(re.UNAVAILABLE,"The operation could not be completed")))})),b(y,Xh.EventType.MESSAGE,(I=>{var R;if(!E){const D=I.data[0];Ce(!!D,16349);const C=D,q=(C==null?void 0:C.error)||((R=C[0])==null?void 0:R.error);if(q){de(or,`RPC '${e}' stream ${i} received error:`,q);const L=q.status;let G=(function(k){const B=dn[k];if(B!==void 0)return n4(B)})(L),N=q.message;G===void 0&&(G=re.INTERNAL,N="Unknown error status: "+L+" with message "+q.message),E=!0,S.a_(new fe(G,N)),y.close()}else de(or,`RPC '${e}' stream ${i} received:`,D),S.u_(D)}})),b(u,XF.STAT_EVENT,(I=>{I.stat===fb.PROXY?de(or,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===fb.NOPROXY&&de(or,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(){return typeof window<"u"?window:null}function ev(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(t){return new eQ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&de("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="PersistentStream";class G4{constructor(e,n,r,i,o,s,u,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(nn(n.toString()),nn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new fe(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(RN,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(RN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class JQ extends G4{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=rQ(this.serializer,e),r=(function(o){if(!("targetChange"in o))return xe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?xe.min():s.readTime?rn(s.readTime):xe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Cb(this.serializer),n.addTarget=(function(o,s){let u;const c=s.target;if(u=_v(c)?{documents:d4(o,c)}:{query:h4(o,c).ft},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=s4(o,s.resumeToken);const f=Ab(o,s.expectedCount);f!==null&&(u.expectedCount=f)}else if(s.snapshotVersion.compareTo(xe.min())>0){u.readTime=xf(o,s.snapshotVersion.toTimestamp());const f=Ab(o,s.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const r=oQ(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Cb(this.serializer),n.removeTarget=e,this.q_(n)}}class QQ extends G4{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ce(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ce(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=iQ(e.writeResults,e.commitTime),r=rn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Cb(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>qp(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XQ{}class ZQ extends XQ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,s])=>this.connection.Go(e,Ib(n,r),i,o,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(re.UNKNOWN,o.toString())}))}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,u])=>this.connection.Ho(e,Ib(n,r),i,s,u,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new fe(re.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class eX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(nn(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu="RemoteStore";class tX{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((s=>{r.enqueueAndForget((async()=>{Xa(this)&&(de(Eu,"Restarting streams for network reachability change."),await(async function(c){const f=_e(c);f.Ea.add(4),await id(f),f.Ra.set("Unknown"),f.Ea.delete(4),await wm(f)})(this))}))})),this.Ra=new eX(r,i)}}async function wm(t){if(Xa(t))for(const e of t.da)await e(!0)}async function id(t){for(const e of t.da)await e(!1)}function K_(t,e){const n=_e(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),aC(n)?sC(n):sd(n).O_()&&oC(n,e))}function Mf(t,e){const n=_e(t),r=sd(n);n.Ia.delete(e),r.O_()&&K4(n,e),n.Ia.size===0&&(r.O_()?r.L_():Xa(n)&&n.Ra.set("Unknown"))}function oC(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}sd(t).Y_(e)}function K4(t,e){t.Va.Ue(e),sd(t).Z_(e)}function sC(t){t.Va=new JJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),sd(t).start(),t.Ra.ua()}function aC(t){return Xa(t)&&!sd(t).x_()&&t.Ia.size>0}function Xa(t){return _e(t).Ea.size===0}function W4(t){t.Va=void 0}async function nX(t){t.Ra.set("Online")}async function rX(t){t.Ia.forEach(((e,n)=>{oC(t,e)}))}async function iX(t,e){W4(t),aC(t)?(t.Ra.ha(e),sC(t)):t.Ra.set("Unknown")}async function oX(t,e,n){if(t.Ra.set("Online"),e instanceof o4&&e.state===2&&e.cause)try{await(async function(i,o){const s=o.cause;for(const u of o.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,s),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){de(Eu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rv(t,r)}else if(e instanceof Xy?t.Va.Ze(e):e instanceof i4?t.Va.st(e):t.Va.tt(e),!n.isEqual(xe.min()))try{const r=await O4(t.localStore);n.compareTo(r)>=0&&await(function(o,s){const u=o.Va.Tt(s);return u.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.Ia.get(f);h&&o.Ia.set(f,h.withResumeToken(c.resumeToken,s))}})),u.targetMismatches.forEach(((c,f)=>{const h=o.Ia.get(c);if(!h)return;o.Ia.set(c,h.withResumeToken(Jt.EMPTY_BYTE_STRING,h.snapshotVersion)),K4(o,c);const y=new cs(h.target,c,f,h.sequenceNumber);oC(o,y)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){de(Eu,"Failed to raise snapshot:",r),await Rv(t,r)}}async function Rv(t,e,n){if(!Ja(e))throw e;t.Ea.add(1),await id(t),t.Ra.set("Offline"),n||(n=()=>O4(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{de(Eu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await wm(t)}))}function j4(t,e){return e().catch((n=>Rv(t,n,e)))}async function od(t){const e=_e(t),n=za(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ma;for(;sX(e);)try{const i=await $Q(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,aX(e,i)}catch(i){await Rv(e,i)}Y4(e)&&J4(e)}function sX(t){return Xa(t)&&t.Ta.length<10}function aX(t,e){t.Ta.push(e);const n=za(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Y4(t){return Xa(t)&&!za(t).x_()&&t.Ta.length>0}function J4(t){za(t).start()}async function lX(t){za(t).ra()}async function uX(t){const e=za(t);for(const n of t.Ta)e.ea(n.mutations)}async function cX(t,e,n){const r=t.Ta.shift(),i=HI.from(r,e,n);await j4(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await od(t)}async function fX(t,e){e&&za(t).X_&&await(async function(r,i){if((function(s){return t4(s)&&s!==re.ABORTED})(i.code)){const o=r.Ta.shift();za(r).B_(),await j4(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await od(r)}})(t,e),Y4(t)&&J4(t)}async function PN(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),de(Eu,"RemoteStore received new credentials");const r=Xa(n);n.Ea.add(3),await id(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await wm(n)}async function kb(t,e){const n=_e(t);e?(n.Ea.delete(2),await wm(n)):e||(n.Ea.add(2),await id(n),n.Ra.set("Unknown"))}function sd(t){return t.ma||(t.ma=(function(n,r,i){const o=_e(n);return o.sa(),new JQ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:nX.bind(null,t),t_:rX.bind(null,t),r_:iX.bind(null,t),H_:oX.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),aC(t)?sC(t):t.Ra.set("Unknown")):(await t.ma.stop(),W4(t))}))),t.ma}function za(t){return t.fa||(t.fa=(function(n,r,i){const o=_e(n);return o.sa(),new QQ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:lX.bind(null,t),r_:fX.bind(null,t),ta:uX.bind(null,t),na:cX.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await od(t)):(await t.fa.stop(),t.Ta.length>0&&(de(Eu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,u=new lC(e,n,s,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ad(t,e){if(nn("AsyncQueue",`${e}: ${t}`),Ja(t))return new fe(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{static emptySet(e){return new sf(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=Zh(),this.sortedSet=new Rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new sf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.ga=new Rt(ve.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Df{constructor(e,n,r,i,o,s,u,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach((u=>{s.push({type:0,doc:u})})),new Df(e,n,sf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dX{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class hX{constructor(){this.queries=DN(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=_e(n),o=i.queries;i.queries=DN(),o.forEach(((s,u)=>{for(const c of u.Sa)c.onError(r)}))})(this,new fe(re.ABORTED,"Firestore shutting down"))}}function DN(){return new Ps((t=>qB(t)),gm)}async function uC(t,e){const n=_e(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new dX,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const u=ad(s,`Initialization of query '${Gc(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&fC(n)}async function cC(t,e){const n=_e(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pX(t,e){const n=_e(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const u of s.Sa)u.Fa(i)&&(r=!0);s.wa=i}}r&&fC(n)}function mX(t,e,n){const r=_e(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function fC(t){t.Ca.forEach((e=>{e.next()}))}var Ob,NN;(NN=Ob||(Ob={})).Ma="default",NN.Cache="cache";class dC{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Df(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Df.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ob.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gX{constructor(e,n){this.Qa=e,this.byteLength=n}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.serializer=e}$s(e){return Ao(this.serializer,e)}Us(e){return e.metadata.exists?f4(this.serializer,e.document,!1):Dt.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return rn(e)}}class yX{constructor(e,n){this.Ua=e,this.serializer=n,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=Q4(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++n;const r=Qe.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,{...this.progress}):null}za(e){const n=new Map,r=new kN(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.$s(i.metadata.name);for(const s of i.metadata.queries){const u=(n.get(s)||He()).add(o);n.set(s,u)}}return n}async ja(e){const n=await zQ(e,new kN(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)await HQ(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:n}}}function Q4(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e){this.key=e}}class Z4{constructor(e){this.key=e}}class eq{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=zB(e),this.tu=new sf(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new MN,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,y)=>{const v=i.get(h),E=ym(this.query,y)?y:null,S=!!v&&this.mutatedKeys.has(v.key),b=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let I=!1;v&&E?v.data.isEqual(E.data)?S!==b&&(r.track({type:3,doc:E}),I=!0):this.su(v,E)||(r.track({type:2,doc:E}),I=!0,(c&&this.eu(E,c)>0||f&&this.eu(E,f)<0)&&(u=!0)):!v&&E?(r.track({type:0,doc:E}),I=!0):v&&!E&&(r.track({type:1,doc:v}),I=!0,(c||f)&&(u=!0)),I&&(E?(s=s.add(E),o=b?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Cs:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((h,y)=>(function(E,S){const b=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:I})}};return b(E)-b(S)})(h.type,y.type)||this.eu(h.doc,y.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,f=c!==this.Za;return this.Za=c,s.length!==0||f?{snapshot:new Df(this.query,e.tu,o,s,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new MN,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Z4(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new X4(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=He();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Df.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Za="SyncEngine";class vX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _X{constructor(e){this.key=e,this.hu=!1}}class TX{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Ps((u=>qB(u)),gm),this.Iu=new Map,this.Eu=new Set,this.du=new Rt(ve.comparator),this.Au=new Map,this.Ru=new QI,this.Vu={},this.mu=new Map,this.fu=Tu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function EX(t,e,n=!0){const r=W_(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await tq(r,e,n,!0),i}async function wX(t,e){const n=W_(t);await tq(n,e,!0,!1)}async function tq(t,e,n,r){const i=await Rf(t.localStore,Er(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await hC(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&K_(t.remoteStore,i),u}async function hC(t,e,n,r,i){t.pu=(y,v,E)=>(async function(b,I,R,D){let C=I.view.ru(R);C.Cs&&(C=await Iv(b.localStore,I.query,!1).then((({documents:N})=>I.view.ru(N,C))));const q=D&&D.targetChanges.get(I.targetId),L=D&&D.targetMismatches.get(I.targetId)!=null,G=I.view.applyChanges(C,b.isPrimaryClient,q,L);return Vb(b,I.targetId,G.au),G.snapshot})(t,y,v,E);const o=await Iv(t.localStore,e,!0),s=new eq(e,o.Qs),u=s.ru(o.documents),c=Tm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=s.applyChanges(u,t.isPrimaryClient,c);Vb(t,n,f.au);const h=new vX(e,n,s);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function SX(t,e,n){const r=_e(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((s=>!gm(s,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Pf(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Mf(r.remoteStore,i.targetId),Nf(r,i.targetId)})).catch(Ya)):(Nf(r,i.targetId),await Pf(r.localStore,i.targetId,!0))}async function bX(t,e){const n=_e(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Mf(n.remoteStore,r.targetId))}async function AX(t,e,n){const r=yC(t);try{const i=await(function(s,u){const c=_e(s),f=ct.now(),h=u.reduce(((E,S)=>E.add(S.key)),He());let y,v;return c.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let S=Dr(),b=He();return c.Ns.getEntries(E,h).next((I=>{S=I,S.forEach(((R,D)=>{D.isValidDocument()||(b=b.add(R))}))})).next((()=>c.localDocuments.getOverlayedDocuments(E,S))).next((I=>{y=I;const R=[];for(const D of u){const C=WJ(D,y.get(D.key).overlayedDocument);C!=null&&R.push(new Ms(D.key,C,DB(C.value.mapValue),Ft.exists(!0)))}return c.mutationQueue.addMutationBatch(E,f,R,u)})).next((I=>{v=I;const R=I.applyToLocalDocumentSet(y,b);return c.documentOverlayCache.saveOverlays(E,I.batchId,R)}))})).then((()=>({batchId:v.batchId,changes:GB(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,u,c){let f=s.Vu[s.currentUser.toKey()];f||(f=new Rt(qe)),f=f.insert(u,c),s.Vu[s.currentUser.toKey()]=f})(r,i.batchId,n),await Ds(r,i.changes),await od(r.remoteStore)}catch(i){const o=ad(i,"Failed to persist write");n.reject(o)}}async function nq(t,e){const n=_e(t);try{const r=await qQ(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const s=n.Au.get(o);s&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Ce(s.hu,14607):i.removedDocuments.size>0&&(Ce(s.hu,42227),s.hu=!1))})),await Ds(n,r,e)}catch(r){await Ya(r)}}function ON(t,e,n){const r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,s)=>{const u=s.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(s,u){const c=_e(s);c.onlineState=u;let f=!1;c.queries.forEach(((h,y)=>{for(const v of y.Sa)v.va(u)&&(f=!0)})),f&&fC(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function IX(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new Rt(ve.comparator);s=s.insert(o,Dt.newNoDocument(o,xe.min()));const u=He().add(o),c=new _m(xe.min(),new Map,new Rt(qe),s,u);await nq(r,c),r.du=r.du.remove(o),r.Au.delete(e),gC(r)}else await Pf(r.localStore,e,!1).then((()=>Nf(r,e,n))).catch(Ya)}async function CX(t,e){const n=_e(t),r=e.batch.batchId;try{const i=await BQ(n.localStore,e);mC(n,r,null),pC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ds(n,i)}catch(i){await Ya(i)}}async function xX(t,e,n){const r=_e(t);try{const i=await(function(s,u){const c=_e(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let h;return c.mutationQueue.lookupMutationBatch(f,u).next((y=>(Ce(y!==null,37113),h=y.keys(),c.mutationQueue.removeMutationBatch(f,y)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,u))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h))).next((()=>c.localDocuments.getDocuments(f,h)))}))})(r.localStore,e);mC(r,e,n),pC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ds(r,i)}catch(i){await Ya(i)}}async function RX(t,e){const n=_e(t);Xa(n.remoteStore)||de(Za,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(s){const u=_e(s);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(c=>u.mutationQueue.getHighestUnacknowledgedBatchId(c)))})(n.localStore);if(r===Ma)return void e.resolve();const i=n.mu.get(r)||[];i.push(e),n.mu.set(r,i)}catch(r){const i=ad(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function pC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function mC(t,e,n){const r=_e(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Nf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||rq(t,r)}))}function rq(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Mf(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),gC(t))}function Vb(t,e,n){for(const r of n)r instanceof X4?(t.Ru.addReference(r.key,e),PX(t,r)):r instanceof Z4?(de(Za,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||rq(t,r.key)):Ee(19791,{wu:r})}function PX(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(de(Za,"New document in limbo: "+n),t.Eu.add(r),gC(t))}function gC(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ve(Qe.fromString(e)),r=t.fu.next();t.Au.set(r,new _X(n)),t.du=t.du.insert(n,r),K_(t.remoteStore,new cs(Er(td(n.path)),r,"TargetPurposeLimboResolution",Pr.ce))}}async function Ds(t,e,n){const r=_e(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,c)=>{s.push(r.pu(c,e,n).then((f=>{var h;if((f||n)&&r.isPrimaryClient){const y=f?!f.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,y?"current":"not-current")}if(f){i.push(f);const y=tC.As(c.targetId,f);o.push(y)}})))})),await Promise.all(s),r.Pu.H_(i),await(async function(c,f){const h=_e(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>Q.forEach(f,(v=>Q.forEach(v.Es,(E=>h.persistence.referenceDelegate.addReference(y,v.targetId,E))).next((()=>Q.forEach(v.ds,(E=>h.persistence.referenceDelegate.removeReference(y,v.targetId,E)))))))))}catch(y){if(!Ja(y))throw y;de(nC,"Failed to update sequence numbers: "+y)}for(const y of f){const v=y.targetId;if(!y.fromCache){const E=h.Ms.get(v),S=E.snapshotVersion,b=E.withLastLimboFreeSnapshotVersion(S);h.Ms=h.Ms.insert(v,b)}}})(r.localStore,o))}async function MX(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){de(Za,"User change. New user:",e.toKey());const r=await k4(n.localStore,e);n.currentUser=e,(function(o,s){o.mu.forEach((u=>{u.forEach((c=>{c.reject(new fe(re.CANCELLED,s))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ds(n,r.Ls)}}function DX(t,e){const n=_e(t),r=n.Au.get(e);if(r&&r.hu)return He().add(r.key);{let i=He();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const u=n.Tu.get(s);i=i.unionWith(u.view.nu)}return i}}async function NX(t,e){const n=_e(t),r=await Iv(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&Vb(n,e.targetId,i.au),i}async function kX(t,e){const n=_e(t);return U4(n.localStore,e).then((r=>Ds(n,r)))}async function OX(t,e,n,r){const i=_e(t),o=await(function(u,c){const f=_e(u),h=_e(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",(y=>h.er(y,c).next((v=>v?f.localDocuments.getDocuments(y,v):Q.resolve(null)))))})(i.localStore,e);o!==null?(n==="pending"?await od(i.remoteStore):n==="acknowledged"||n==="rejected"?(mC(i,e,r||null),pC(i,e),(function(u,c){_e(_e(u).mutationQueue).ir(c)})(i.localStore,e)):Ee(6720,"Unknown batchState",{Su:n}),await Ds(i,o)):de(Za,"Cannot apply mutation batch with id: "+e)}async function VX(t,e){const n=_e(t);if(W_(n),yC(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await VN(n,r.toArray());n.gu=!0,await kb(n.remoteStore,!0);for(const o of i)K_(n.remoteStore,o)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then((()=>(Nf(n,s),Pf(n.localStore,s,!0)))),Mf(n.remoteStore,s)})),await i,await VN(n,r),(function(s){const u=_e(s);u.Au.forEach(((c,f)=>{Mf(u.remoteStore,f)})),u.Ru.Jr(),u.Au=new Map,u.du=new Rt(ve.comparator)})(n),n.gu=!1,await kb(n.remoteStore,!1)}}async function VN(t,e,n){const r=_e(t),i=[],o=[];for(const s of e){let u;const c=r.Iu.get(s);if(c&&c.length!==0){u=await Rf(r.localStore,Er(c[0]));for(const f of c){const h=r.Tu.get(f),y=await NX(r,h);y.snapshot&&o.push(y.snapshot)}}else{const f=await L4(r.localStore,s);u=await Rf(r.localStore,f),await hC(r,iq(f),s,!1,u.resumeToken)}i.push(u)}return r.Pu.H_(o),i}function iq(t){return BB(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function LX(t){return(function(n){return _e(_e(n).persistence).Ts()})(_e(t).localStore)}async function UX(t,e,n,r){const i=_e(t);if(i.gu)return void de(Za,"Ignoring unexpected query state notification.");const o=i.Iu.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=await U4(i.localStore,$B(o[0])),u=_m.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Jt.EMPTY_BYTE_STRING);await Ds(i,s,u);break}case"rejected":await Pf(i.localStore,e,!0),Nf(i,e,r);break;default:Ee(64155,n)}}async function FX(t,e,n){const r=W_(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){de(Za,"Adding an already active target "+i);continue}const o=await L4(r.localStore,i),s=await Rf(r.localStore,o);await hC(r,iq(o),s.targetId,!1,s.resumeToken),K_(r.remoteStore,s)}for(const i of n)r.Iu.has(i)&&await Pf(r.localStore,i,!1).then((()=>{Mf(r.remoteStore,i),Nf(r,i)})).catch(Ya)}}function W_(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IX.bind(null,e),e.Pu.H_=pX.bind(null,e.eventManager),e.Pu.yu=mX.bind(null,e.eventManager),e}function yC(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xX.bind(null,e),e}function BX(t,e,n){const r=_e(t);(async function(o,s,u){try{const c=await s.getMetadata();if(await(function(E,S){const b=_e(E),I=rn(S.createTime);return b.persistence.runTransaction("hasNewerBundle","readonly",(R=>b.Ii.getBundleMetadata(R,S.id))).then((R=>!!R&&R.createTime.compareTo(I)>=0))})(o.localStore,c))return await s.close(),u._completeWith((function(E){return{taskState:"Success",documentsLoaded:E.totalDocuments,bytesLoaded:E.totalBytes,totalDocuments:E.totalDocuments,totalBytes:E.totalBytes}})(c)),Promise.resolve(new Set);u._updateProgress(Q4(c));const f=new yX(c,s.serializer);let h=await s.bu();for(;h;){const v=await f.Ga(h);v&&u._updateProgress(v),h=await s.bu()}const y=await f.ja(o.localStore);return await Ds(o,y.Ha,void 0),await(function(E,S){const b=_e(E);return b.persistence.runTransaction("Save bundle","readwrite",(I=>b.Ii.saveBundleMetadata(I,S)))})(o.localStore,c),u._completeWith(y.progress),Promise.resolve(y.Ja)}catch(c){return Mo(Za,`Loading bundle failed with ${c}`),u._failWith(c),Promise.resolve(new Set)}})(r,e,n).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class $p{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Em(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return N4(this.persistence,new D4,e.initialUser,this.serializer)}Cu(e){return new XI(G_.mi,this.serializer)}Du(e){return new z4}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$p.provider={build:()=>new $p};class qX extends $p{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ce(this.persistence.referenceDelegate instanceof Av,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new I4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ar.withCacheSize(this.cacheSizeBytes):ar.DEFAULT;return new XI((r=>Av.mi(r,n)),this.serializer)}}class oq extends $p{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await yC(this.xu.syncEngine),await od(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return N4(this.persistence,new D4,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new I4(r,e.asyncQueue,n)}Mu(e,n){const r=new JY(n,this.persistence);return new YY(e.asyncQueue,r)}Cu(e){const n=eC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?ar.withCacheSize(this.cacheSizeBytes):ar.DEFAULT;return new ZI(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,H4(),ev(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new z4}}class $X extends oq{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof uw&&(this.sharedClientState.syncEngine={Co:OX.bind(null,n),vo:UX.bind(null,n),Fo:FX.bind(null,n),Ts:LX.bind(null,n),Do:kX.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await VX(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=H4();if(!uw.v(n))throw new fe(re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=eC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new uw(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class zp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ON(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=MX.bind(null,this.syncEngine),await kb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hX})()}createDatastore(e){const n=Em(e.databaseInfo.databaseId),r=(function(o){return new YQ(o)})(e.databaseInfo);return(function(o,s,u,c){return new ZQ(o,s,u,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,s,u){return new tX(r,i,o,s,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>ON(this.syncEngine,n,0)),(function(){return xN.v()?new xN:new GQ})())}createSyncEngine(e,n){return(function(i,o,s,u,c,f,h){const y=new TX(i,o,s,u,c,f);return h&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=_e(i);de(Eu,"RemoteStore shutting down."),o.Ea.add(5),await id(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}zp.provider={build:()=>new zp};function LN(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):nn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zX{constructor(e,n){this.Bu=e,this.serializer=n,this.metadata=new er,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const n=this.Lu.decode(e),r=Number(n);isNaN(r)&&this.Qu(`length string (${n}) is not valid number`);const i=await this.$u(r);return new gX(JSON.parse(i),e.length+r)}Uu(){return this.buffer.findIndex((e=>e===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const n=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HX{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new fe(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,o){const s=_e(i),u={documents:o.map((y=>Bp(s.serializer,y)))},c=await s.Ho("BatchGetDocuments",s.serializer.databaseId,Qe.emptyPath(),u,o.length),f=new Map;c.forEach((y=>{const v=nQ(s.serializer,y);f.set(v.key.toString(),v)}));const h=[];return o.forEach((y=>{const v=f.get(y.toString());Ce(!!v,55234,{key:y}),h.push(v)})),h})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new rd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=ve.fromPath(r);this.mutations.push(new $I(i,this.precondition(i)))})),await(async function(r,i){const o=_e(r),s={writes:i.map((u=>qp(o.serializer,u)))};await o.Go("Commit",o.serializer.databaseId,Qe.emptyPath(),s)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ee(50498,{Gu:e.constructor.name});n=xe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new fe(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(xe.min())?Ft.exists(!1):Ft.updateTime(n):Ft.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(xe.min()))throw new fe(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ft.updateTime(n)}return Ft.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GX{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.zu=r.maxAttempts,this.M_=new iC(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new HX(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!hm(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!t4(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="FirestoreClient";class KX{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Un.UNAUTHENTICATED,this.clientId=xI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async s=>{de(Ha,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(de(Ha,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ad(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function fw(t,e){t.asyncQueue.verifyOperationInProgress(),de(Ha,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await k4(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function UN(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vC(t);de(Ha,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>PN(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>PN(e.remoteStore,i))),t._onlineComponents=e}async function vC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(Ha,"Using user provided OfflineComponentProvider");try{await fw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Mo("Error using user provided cache. Falling back to memory cache: "+n),await fw(t,new $p)}}else de(Ha,"Using default OfflineComponentProvider"),await fw(t,new qX(void 0));return t._offlineComponents}async function Y_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(Ha,"Using user provided OnlineComponentProvider"),await UN(t,t._uninitializedComponentsProvider._online)):(de(Ha,"Using default OnlineComponentProvider"),await UN(t,new zp))),t._onlineComponents}function sq(t){return vC(t).then((e=>e.persistence))}function _C(t){return vC(t).then((e=>e.localStore))}function aq(t){return Y_(t).then((e=>e.remoteStore))}function TC(t){return Y_(t).then((e=>e.syncEngine))}function WX(t){return Y_(t).then((e=>e.datastore))}async function kf(t){const e=await Y_(t),n=e.eventManager;return n.onListen=EX.bind(null,e.syncEngine),n.onUnlisten=SX.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wX.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bX.bind(null,e.syncEngine),n}function jX(t){return t.asyncQueue.enqueue((async()=>{const e=await sq(t),n=await aq(t);return e.setNetworkEnabled(!0),(function(i){const o=_e(i);return o.Ea.delete(0),wm(o)})(n)}))}function YX(t){return t.asyncQueue.enqueue((async()=>{const e=await sq(t),n=await aq(t);return e.setNetworkEnabled(!1),(async function(i){const o=_e(i);o.Ea.add(0),await id(o),o.Ra.set("Offline")})(n)}))}function JX(t,e){const n=new er;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,o,s){try{const u=await(function(f,h){const y=_e(f);return y.persistence.runTransaction("read document","readonly",(v=>y.localDocuments.getDocument(v,h)))})(i,o);u.isFoundDocument()?s.resolve(u):u.isNoDocument()?s.resolve(null):s.reject(new fe(re.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const c=ad(u,`Failed to get document '${o} from cache`);s.reject(c)}})(await _C(t),e,n))),n.promise}function lq(t,e,n={}){const r=new er;return t.asyncQueue.enqueueAndForget((async()=>(function(o,s,u,c,f){const h=new j_({next:v=>{h.Nu(),s.enqueueAndForget((()=>cC(o,y)));const E=v.docs.has(u);!E&&v.fromCache?f.reject(new fe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&v.fromCache&&c&&c.source==="server"?f.reject(new fe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),y=new dC(td(u.path),h,{includeMetadataChanges:!0,qa:!0});return uC(o,y)})(await kf(t),t.asyncQueue,e,n,r))),r.promise}function QX(t,e){const n=new er;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,o,s){try{const u=await Iv(i,o,!0),c=new eq(o,u.Qs),f=c.ru(u.documents),h=c.applyChanges(f,!1);s.resolve(h.snapshot)}catch(u){const c=ad(u,`Failed to execute query '${o} against cache`);s.reject(c)}})(await _C(t),e,n))),n.promise}function uq(t,e,n={}){const r=new er;return t.asyncQueue.enqueueAndForget((async()=>(function(o,s,u,c,f){const h=new j_({next:v=>{h.Nu(),s.enqueueAndForget((()=>cC(o,y))),v.fromCache&&c.source==="server"?f.reject(new fe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),y=new dC(u,h,{includeMetadataChanges:!0,qa:!0});return uC(o,y)})(await kf(t),t.asyncQueue,e,n,r))),r.promise}function XX(t,e){const n=new j_(e);return t.asyncQueue.enqueueAndForget((async()=>(function(i,o){_e(i).Ca.add(o),o.next()})(await kf(t),n))),()=>{n.Nu(),t.asyncQueue.enqueueAndForget((async()=>(function(i,o){_e(i).Ca.delete(o)})(await kf(t),n)))}}function ZX(t,e,n,r){const i=(function(s,u){let c;return c=typeof s=="string"?r4().encode(s):s,(function(h,y){return new zX(h,y)})((function(h,y){if(h instanceof Uint8Array)return LN(h,y);if(h instanceof ArrayBuffer)return LN(new Uint8Array(h),y);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(c),u)})(n,Em(e));t.asyncQueue.enqueueAndForget((async()=>{BX(await TC(t),i,r)}))}function eZ(t,e){return t.asyncQueue.enqueue((async()=>(function(r,i){const o=_e(r);return o.persistence.runTransaction("Get named query","readonly",(s=>o.Ii.getNamedQuery(s,i)))})(await _C(t),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cq(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fq="firestore.googleapis.com",BN=!0;class qN{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fq,this.ssl=BN}else this.host=e.host,this.ssl=e.ssl??BN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=w4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<EQ)throw new fe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cq(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qN({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qN(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new LY;switch(r.type){case"firstParty":return new qY(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=FN.get(n);r&&(de("ComponentProvider","Removing Datastore"),FN.delete(n),r.terminate())})(this),Promise.resolve()}}function tZ(t,e,n,r={}){var f;t=ot(t,Sm);const i=Yf(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(PU(`https://${u}`),MU("Firestore",!0)),o.host!==fq&&o.host!==u&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:u,ssl:i,emulatorOptions:r};if(!ka(c,s)&&(t._setSettings(c),r.mockUserToken)){let h,y;if(typeof r.mockUserToken=="string")h=r.mockUserToken,y=Un.MOCK_USER;else{h=e8(r.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new fe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Un(v)}t._authCredentials=new UY(new nB(h,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sr=class dq{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new dq(this.firestore,e,this._query)}},xt=class np{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new np(this.firestore,e,this._key)}toJSON(){return{type:np._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(dm(n,np._jsonSchema))return new np(e,r||null,new ve(Qe.fromString(n.referencePath)))}};xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:pn("string",xt._jsonSchemaVersion),referencePath:pn("string")};let Da=class hq extends Sr{constructor(e,n,r){super(e,n,td(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new ve(e))}withConverter(e){return new hq(this.firestore,e,this._path)}};function pq(t,e,...n){if(t=Ne(t),RI("collection","path",e),t instanceof Sm){const r=Qe.fromString(e,...n);return RD(r),new Da(t,null,r)}{if(!(t instanceof xt||t instanceof Da))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return RD(r),new Da(t.firestore,null,r)}}function nZ(t,e){if(t=ot(t,Sm),RI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new fe(re.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Sr(t,null,(function(r){return new Rs(Qe.emptyPath(),r)})(e))}function Pv(t,e,...n){if(t=Ne(t),arguments.length===1&&(e=xI.newId()),RI("doc","path",e),t instanceof Sm){const r=Qe.fromString(e,...n);return xD(r),new xt(t,null,new ve(r))}{if(!(t instanceof xt||t instanceof Da))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return xD(r),new xt(t.firestore,t instanceof Da?t.converter:null,new ve(r))}}function mq(t,e){return t=Ne(t),e=Ne(e),(t instanceof xt||t instanceof Da)&&(e instanceof xt||e instanceof Da)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function gq(t,e){return t=Ne(t),e=Ne(e),t instanceof Sr&&e instanceof Sr&&t.firestore===e.firestore&&gm(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="AsyncQueue";class zN{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iC(this,"async_queue_retry"),this._c=()=>{const r=ev();r&&de($N,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ev();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ev();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new er;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ja(e))throw e;de($N,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,nn("INTERNAL UNHANDLED ERROR: ",HN(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=lC.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Ee(47125,{Pc:HN(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function HN(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}class rZ{constructor(){this._progressObserver={},this._taskCompletionResolver=new er,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iZ=-1;let on=class extends Sm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new zN,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zN(e),this._firestoreClient=void 0,await e}}};function dr(t){if(t._terminated)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||yq(t),t._firestoreClient}function yq(t){var r,i,o;const e=t._freezeSettings(),n=(function(u,c,f,h){return new AJ(u,c,f,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,cq(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new KX(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}})(t._componentsProvider))}function oZ(t,e){Mo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return vq(t,zp.provider,{build:r=>new oq(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function sZ(t){Mo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();vq(t,zp.provider,{build:n=>new $X(n,e.cacheSizeBytes)})}function vq(t,e,n){if((t=ot(t,on))._firestoreClient||t._terminated)throw new fe(re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new fe(re.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},yq(t)}function aZ(t){if(t._initialized&&!t._terminated)throw new fe(re.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new er;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!bo.v())return Promise.resolve();const i=r+M4;await bo.delete(i)})(eC(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function lZ(t){return(function(n){const r=new er;return n.asyncQueue.enqueueAndForget((async()=>RX(await TC(n),r))),r.promise})(dr(t=ot(t,on)))}function uZ(t){return jX(dr(t=ot(t,on)))}function cZ(t){return YX(dr(t=ot(t,on)))}function fZ(t,e){const n=dr(t=ot(t,on)),r=new rZ;return ZX(n,t._databaseId,e,r),r}function dZ(t,e){return eZ(dr(t=ot(t,on)),e).then((n=>n?new Sr(t,null,n.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ur(Jt.fromBase64String(e))}catch(n){throw new fe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ur(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ur._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dm(e,ur._jsonSchema))return ur.fromBase64String(e.bytes)}}ur._jsonSchemaVersion="firestore/bytes/1.0",ur._jsonSchema={type:pn("string",ur._jsonSchemaVersion),bytes:pn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mu=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$i._jsonSchemaVersion}}static fromJSON(e){if(dm(e,$i._jsonSchema))return new $i(e.latitude,e.longitude)}}$i._jsonSchemaVersion="firestore/geoPoint/1.0",$i._jsonSchema={type:pn("string",$i._jsonSchemaVersion),latitude:pn("number"),longitude:pn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Io._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dm(e,Io._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Io(e.vectorValues);throw new fe(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Io._jsonSchemaVersion="firestore/vectorValue/1.0",Io._jsonSchema={type:pn("string",Io._jsonSchemaVersion),vectorValues:pn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hZ=/^__.*__$/;class pZ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ms(e,this.data,this.fieldMask,n,this.fieldTransforms):new nd(e,this.data,n,this.fieldTransforms)}}class _q{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ms(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Tq(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:t})}}class J_{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new J_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Mv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Tq(this.Ac)&&hZ.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class mZ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Em(e)}Cc(e,n,r,i=!1){return new J_({Ac:e,methodName:n,Dc:r,path:Ut.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Du(t){const e=t._freezeSettings(),n=Em(t._databaseId);return new mZ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Q_(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);CC("Data must be an object, but it was:",s,r);const u=Sq(r,s);let c,f;if(o.merge)c=new Mr(s.fieldMask),f=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const y of o.mergeFields){const v=Ub(e,y,n);if(!s.contains(v))throw new fe(re.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);Aq(h,v)||h.push(v)}c=new Mr(h),f=s.fieldTransforms.filter((y=>c.covers(y.field)))}else c=null,f=s.fieldTransforms;return new pZ(new Xn(u),c,f)}class bm extends Mu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bm}}function Eq(t,e,n){return new J_({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class EC extends Mu{_toFieldTransform(e){return new vm(e.path,new If)}isEqual(e){return e instanceof EC}}class wC extends Mu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Eq(this,e,!0),r=this.vc.map((o=>Nu(o,n))),i=new gu(r);return new vm(e.path,i)}isEqual(e){return e instanceof wC&&ka(this.vc,e.vc)}}class SC extends Mu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Eq(this,e,!0),r=this.vc.map((o=>Nu(o,n))),i=new yu(r);return new vm(e.path,i)}isEqual(e){return e instanceof SC&&ka(this.vc,e.vc)}}class bC extends Mu{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Cf(e.serializer,jB(e.serializer,this.Fc));return new vm(e.path,n)}isEqual(e){return e instanceof bC&&this.Fc===e.Fc}}function AC(t,e,n,r){const i=t.Cc(1,e,n);CC("Data must be an object, but it was:",i,r);const o=[],s=Xn.empty();Qa(r,((c,f)=>{const h=xC(e,c,n);f=Ne(f);const y=i.yc(h);if(f instanceof bm)o.push(h);else{const v=Nu(f,y);v!=null&&(o.push(h),s.set(h,v))}}));const u=new Mr(o);return new _q(s,u,i.fieldTransforms)}function IC(t,e,n,r,i,o){const s=t.Cc(1,e,n),u=[Ub(e,r,n)],c=[i];if(o.length%2!=0)throw new fe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)u.push(Ub(e,o[v])),c.push(o[v+1]);const f=[],h=Xn.empty();for(let v=u.length-1;v>=0;--v)if(!Aq(f,u[v])){const E=u[v];let S=c[v];S=Ne(S);const b=s.yc(E);if(S instanceof bm)f.push(E);else{const I=Nu(S,b);I!=null&&(f.push(E),h.set(E,I))}}const y=new Mr(f);return new _q(h,y,s.fieldTransforms)}function wq(t,e,n,r=!1){return Nu(n,t.Cc(r?4:3,e))}function Nu(t,e){if(bq(t=Ne(t)))return CC("Unsupported field value:",e,t),Sq(t,e);if(t instanceof Mu)return(function(r,i){if(!Tq(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let s=0;for(const u of r){let c=Nu(u,i.wc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Ne(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ct.fromDate(r);return{timestampValue:xf(i.serializer,o)}}if(r instanceof ct){const o=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xf(i.serializer,o)}}if(r instanceof $i)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ur)return{bytesValue:s4(i.serializer,r._byteString)};if(r instanceof xt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:WI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Io)return(function(s,u){return{mapValue:{fields:{[VI]:{stringValue:LI},[Sf]:{arrayValue:{values:s.toArray().map((f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return qI(u.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${N_(r)}`)})(t,e)}function Sq(t,e){const n={};return SB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qa(t,((r,i)=>{const o=Nu(i,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function bq(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof $i||t instanceof ur||t instanceof xt||t instanceof Mu||t instanceof Io)}function CC(t,e,n){if(!bq(n)||!oB(n)){const r=N_(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Ub(t,e,n){if((e=Ne(e))instanceof Ga)return e._internalPath;if(typeof e=="string")return xC(t,e);throw Mv("Field path arguments must be of type string or ",t,!1,void 0,n)}const gZ=new RegExp("[~\\*/\\[\\]]");function xC(t,e,n){if(e.search(gZ)>=0)throw Mv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ga(...e.split("."))._internalPath}catch{throw Mv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mv(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new fe(re.INVALID_ARGUMENT,u+t+c)}function Aq(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(X_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yZ extends Hp{data(){return super.data()}}function X_(t,e){return typeof e=="string"?xC(t,e):e instanceof Ga?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class RC{}class Am extends RC{}function ya(t,e,...n){let r=[];e instanceof RC&&r.push(e),r=r.concat(n),(function(o){const s=o.filter((c=>c instanceof PC)).length,u=o.filter((c=>c instanceof Z_)).length;if(s>1||s>0&&u>0)throw new fe(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Z_ extends Am{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Z_(e,n,r)}_apply(e){const n=this._parse(e);return xq(e._query,n),new Sr(e.firestore,e.converter,bb(e._query,n))}_parse(e){const n=Du(e.firestore);return(function(o,s,u,c,f,h,y){let v;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new fe(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){KN(y,h);const S=[];for(const b of y)S.push(GN(c,o,b));v={arrayValue:{values:S}}}else v=GN(c,o,y)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||KN(y,h),v=wq(u,s,y,h==="in"||h==="not-in");return Xe.create(f,h,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function vZ(t,e,n){const r=e,i=X_("where",t);return Z_._create(i,r,n)}class PC extends RC{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new PC(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:mt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i;const u=o.getFlattenedFilters();for(const c of u)xq(s,c),s=bb(s,c)})(e._query,n),new Sr(e.firestore,e.converter,bb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class MC extends Am{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new MC(e,n)}_apply(e){const n=(function(i,o,s){if(i.startAt!==null)throw new fe(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new fe(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fp(o,s)})(e._query,this._field,this._direction);return new Sr(e.firestore,e.converter,(function(i,o){const s=i.explicitOrderBy.concat([o]);return new Rs(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function _Z(t,e="asc"){const n=e,r=X_("orderBy",t);return MC._create(r,n)}class e0 extends Am{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new e0(e,n,r)}_apply(e){return new Sr(e.firestore,e.converter,Ev(e._query,this._limit,this._limitType))}}function TZ(t){return sB("limit",t),e0._create("limit",t,"F")}function EZ(t){return sB("limitToLast",t),e0._create("limitToLast",t,"L")}class t0 extends Am{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t0(e,n,r)}_apply(e){const n=Cq(e,this.type,this._docOrFields,this._inclusive);return new Sr(e.firestore,e.converter,(function(i,o){return new Rs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)})(e._query,n))}}function wZ(...t){return t0._create("startAt",t,!0)}function SZ(...t){return t0._create("startAfter",t,!1)}class n0 extends Am{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new n0(e,n,r)}_apply(e){const n=Cq(e,this.type,this._docOrFields,this._inclusive);return new Sr(e.firestore,e.converter,(function(i,o){return new Rs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)})(e._query,n))}}function bZ(...t){return n0._create("endBefore",t,!1)}function AZ(...t){return n0._create("endAt",t,!0)}function Cq(t,e,n,r){if(n[0]=Ne(n[0]),n[0]instanceof Hp)return(function(o,s,u,c,f){if(!c)throw new fe(re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const h=[];for(const y of of(o))if(y.field.isKeyField())h.push(pu(s,c.key));else{const v=c.data.field(y.field);if(U_(v))throw new fe(re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const E=y.field.canonicalString();throw new fe(re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}h.push(v)}return new $a(h,f)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Du(t.firestore);return(function(s,u,c,f,h,y){const v=s.explicitOrderBy;if(h.length>v.length)throw new fe(re.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let S=0;S<h.length;S++){const b=h[S];if(v[S].field.isKeyField()){if(typeof b!="string")throw new fe(re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof b}`);if(!FI(s)&&b.indexOf("/")!==-1)throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${b}' contains a slash.`);const I=s.path.child(Qe.fromString(b));if(!ve.isDocumentKey(I))throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const R=new ve(I);E.push(pu(u,R))}else{const I=wq(c,f,b);E.push(I)}}return new $a(E,y)})(t._query,t.firestore._databaseId,i,e,n,r)}}function GN(t,e,n){if(typeof(n=Ne(n))=="string"){if(n==="")throw new fe(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FI(e)&&n.indexOf("/")!==-1)throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Qe.fromString(n));if(!ve.isDocumentKey(r))throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pu(t,new ve(r))}if(n instanceof xt)return pu(t,n._key);throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${N_(n)}.`)}function KN(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xq(t,e){const n=(function(i,o){for(const s of i)for(const u of s.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class DC{convertValue(e,n="none"){switch(Ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qa(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Sf].arrayValue)==null?void 0:i.values)==null?void 0:o.map((s=>Vt(s.doubleValue)));return new Io(n)}convertGeoPoint(e){return new $i(Vt(e.latitude),Vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=F_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vp(e));default:return null}}convertTimestamp(e){const n=Ts(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Qe.fromString(e);Ce(y4(r),9688,{name:e});const i=new Fa(r.get(1),r.get(3)),o=new ve(r.popFirst(5));return i.isEqual(n)||nn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class IZ extends DC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ur(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}}class Ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Si=class Rq extends Hp{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _p(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(X_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Rq._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Si._jsonSchemaVersion="firestore/documentSnapshot/1.0",Si._jsonSchema={type:pn("string",Si._jsonSchemaVersion),bundleSource:pn("string","DocumentSnapshot"),bundleName:pn("string"),bundle:pn("string")};let _p=class extends Si{data(e={}){return super.data(e)}},zi=class Pq{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ql(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new _p(this._firestore,this._userDataWriter,r.key,r,new Ql(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((u=>{const c=new _p(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ql(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const c=new _p(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ql(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return u.type!==0&&(f=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(s=s.add(u.doc),h=s.indexOf(u.doc.key)),{type:CZ(u.type),doc:c,oldIndex:f,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pq._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xI.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function CZ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:t})}}function Mq(t,e){return t instanceof Si&&e instanceof Si?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof zi&&e instanceof zi&&t._firestore===e._firestore&&gq(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xZ(t){t=ot(t,xt);const e=ot(t.firestore,on);return lq(dr(e),t._key).then((n=>NC(e,t,n)))}zi._jsonSchemaVersion="firestore/querySnapshot/1.0",zi._jsonSchema={type:pn("string",zi._jsonSchemaVersion),bundleSource:pn("string","QuerySnapshot"),bundleName:pn("string"),bundle:pn("string")};class ku extends DC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ur(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}}function RZ(t){t=ot(t,xt);const e=ot(t.firestore,on),n=dr(e),r=new ku(e);return JX(n,t._key).then((i=>new Si(e,r,t._key,i,new Ql(i!==null&&i.hasLocalMutations,!0),t.converter)))}function PZ(t){t=ot(t,xt);const e=ot(t.firestore,on);return lq(dr(e),t._key,{source:"server"}).then((n=>NC(e,t,n)))}function MZ(t){t=ot(t,Sr);const e=ot(t.firestore,on),n=dr(e),r=new ku(e);return Iq(t._query),uq(n,t._query).then((i=>new zi(e,r,t,i)))}function DZ(t){t=ot(t,Sr);const e=ot(t.firestore,on),n=dr(e),r=new ku(e);return QX(n,t._query).then((i=>new zi(e,r,t,i)))}function NZ(t){t=ot(t,Sr);const e=ot(t.firestore,on),n=dr(e),r=new ku(e);return uq(n,t._query,{source:"server"}).then((i=>new zi(e,r,t,i)))}function WN(t,e,n){t=ot(t,xt);const r=ot(t.firestore,on),i=r0(t.converter,e,n);return Im(r,[Q_(Du(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ft.none())])}function jN(t,e,n,...r){t=ot(t,xt);const i=ot(t.firestore,on),o=Du(i);let s;return s=typeof(e=Ne(e))=="string"||e instanceof Ga?IC(o,"updateDoc",t._key,e,n,r):AC(o,"updateDoc",t._key,e),Im(i,[s.toMutation(t._key,Ft.exists(!0))])}function kZ(t){return Im(ot(t.firestore,on),[new rd(t._key,Ft.none())])}function OZ(t,e){const n=ot(t.firestore,on),r=Pv(t),i=r0(t.converter,e);return Im(n,[Q_(Du(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ft.exists(!1))]).then((()=>r))}function Dq(t,...e){var c,f,h;t=Ne(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Lb(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Lb(e[r])){const y=e[r];e[r]=(c=y.next)==null?void 0:c.bind(y),e[r+1]=(f=y.error)==null?void 0:f.bind(y),e[r+2]=(h=y.complete)==null?void 0:h.bind(y)}let o,s,u;if(t instanceof xt)s=ot(t.firestore,on),u=td(t._key.path),o={next:y=>{e[r]&&e[r](NC(s,t,y))},error:e[r+1],complete:e[r+2]};else{const y=ot(t,Sr);s=ot(y.firestore,on),u=y._query;const v=new ku(s);o={next:E=>{e[r]&&e[r](new zi(s,v,y,E))},error:e[r+1],complete:e[r+2]},Iq(t._query)}return(function(v,E,S,b){const I=new j_(b),R=new dC(E,I,S);return v.asyncQueue.enqueueAndForget((async()=>uC(await kf(v),R))),()=>{I.Nu(),v.asyncQueue.enqueueAndForget((async()=>cC(await kf(v),R)))}})(dr(s),u,i,o)}function VZ(t,e){return XX(dr(t=ot(t,on)),Lb(e)?e:{next:e})}function Im(t,e){return(function(r,i){const o=new er;return r.asyncQueue.enqueueAndForget((async()=>AX(await TC(r),i,o))),o.promise})(dr(t),e)}function NC(t,e,n){const r=n.docs.get(e._key),i=new ku(t);return new Si(t,i,e._key,r,new Ql(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LZ={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UZ=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Du(e)}set(e,n,r){this._verifyNotCommitted();const i=Ia(e,this._firestore),o=r0(i.converter,n,r),s=Q_(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Ft.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=Ia(e,this._firestore);let s;return s=typeof(n=Ne(n))=="string"||n instanceof Ga?IC(this._dataReader,"WriteBatch.update",o._key,n,r,i):AC(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Ft.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ia(e,this._firestore);return this._mutations=this._mutations.concat(new rd(n._key,Ft.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fe(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ia(t,e){if((t=Ne(t)).firestore!==e)throw new fe(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FZ{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Du(e)}get(e){const n=Ia(e,this._firestore),r=new IZ(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return Ee(24041);const o=i[0];if(o.isFoundDocument())return new Hp(this._firestore,r,o.key,o,n.converter);if(o.isNoDocument())return new Hp(this._firestore,r,n._key,null,n.converter);throw Ee(18433,{doc:o})}))}set(e,n,r){const i=Ia(e,this._firestore),o=r0(i.converter,n,r),s=Q_(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,s),this}update(e,n,r,...i){const o=Ia(e,this._firestore);let s;return s=typeof(n=Ne(n))=="string"||n instanceof Ga?IC(this._dataReader,"Transaction.update",o._key,n,r,i):AC(this._dataReader,"Transaction.update",o._key,n),this._transaction.update(o._key,s),this}delete(e){const n=Ia(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BZ=class extends FZ{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ia(e,this._firestore),r=new ku(this._firestore);return super.get(e).then((i=>new Si(this._firestore,r,n._key,i._document,new Ql(!1,!1),n.converter)))}};function qZ(t,e,n){t=ot(t,on);const r={...LZ,...n};return(function(o){if(o.maxAttempts<1)throw new fe(re.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(o,s,u){const c=new er;return o.asyncQueue.enqueueAndForget((async()=>{const f=await WX(o);new GX(o.asyncQueue,f,u,s,c).ju()})),c.promise})(dr(t),(i=>e(new BZ(t,i))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Z(){return new bm("deleteField")}function zZ(){return new EC("serverTimestamp")}function HZ(...t){return new wC("arrayUnion",t)}function GZ(...t){return new SC("arrayRemove",t)}function KZ(t){return new bC("increment",t)}(function(e,n=!0){(function(i){ed=i})(Wa),La(new xo("firestore",((r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),u=new on(new FY(r.getProvider("auth-internal")),new $Y(s,r.getProvider("app-check-internal")),(function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new fe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fa(f.options.projectId,h)})(s,i),s);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),qi(bD,AD,e),qi(bD,AD,"esm2020")})();const WZ="@firebase/firestore-compat",jZ="0.4.1";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new fe("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(){if(typeof Uint8Array>"u")throw new fe("unimplemented","Uint8Arrays are not available in this environment.")}function JN(){if(!SJ())throw new fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}let Nq=class Fb{constructor(e){this._delegate=e}static fromBase64String(e){return JN(),new Fb(ur.fromBase64String(e))}static fromUint8Array(e){return YN(),new Fb(ur.fromUint8Array(e))}toBase64(){return JN(),this._delegate.toBase64()}toUint8Array(){return YN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t){return YZ(t,["next","error","complete"])}function YZ(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JZ{enableIndexedDbPersistence(e,n){return oZ(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return sZ(e._delegate)}clearIndexedDbPersistence(e){return aZ(e._delegate)}}class kq{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Fa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Mo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...n,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){tZ(this._delegate,e,n,r)}enableNetwork(){return uZ(this._delegate)}disableNetwork(){return cZ(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,iB("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return lZ(this._delegate)}onSnapshotsInSync(e){return VZ(this._delegate,e)}get app(){if(!this._appCompat)throw new fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Of(this,pq(this._delegate,e))}catch(n){throw vr(n,"collection()","Firestore.collection()")}}doc(e){try{return new Ei(this,Pv(this._delegate,e))}catch(n){throw vr(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new yr(this,nZ(this._delegate,e))}catch(n){throw vr(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return qZ(this._delegate,n=>e(new Oq(this,n)))}batch(){return dr(this._delegate),new Vq(new UZ(this._delegate,e=>Im(this._delegate,e)))}loadBundle(e){return fZ(this._delegate,e)}namedQuery(e){return dZ(this._delegate,e).then(n=>n?new yr(this,n):null)}}class i0 extends DC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nq(new ur(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Ei.forKey(n,this.firestore,null)}}function QZ(t){OY(t)}class Oq{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new i0(e)}get(e){const n=Xl(e);return this._delegate.get(n).then(r=>new Gp(this._firestore,new Si(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Xl(e);return r?(kC("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Xl(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Xl(e);return this._delegate.delete(n),this}}class Vq{constructor(e){this._delegate=e}set(e,n,r){const i=Xl(e);return r?(kC("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Xl(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Xl(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class wu{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new _p(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Kp(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=wu.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new wu(e,new i0(e),n),i.set(n,o)),o}}wu.INSTANCES=new WeakMap;class Ei{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new i0(e)}static forPath(e,n,r){if(e.length%2!==0)throw new fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ei(n,new xt(n._delegate,r,new ve(e)))}static forKey(e,n,r){return new Ei(n,new xt(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Of(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Of(this.firestore,pq(this._delegate,e))}catch(n){throw vr(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ne(e),e instanceof xt?mq(this._delegate,e):!1}set(e,n){n=kC("DocumentReference.set",n);try{return n?WN(this._delegate,e,n):WN(this._delegate,e)}catch(r){throw vr(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?jN(this._delegate,e):jN(this._delegate,e,n,...r)}catch(i){throw vr(i,"updateDoc()","DocumentReference.update()")}}delete(){return kZ(this._delegate)}onSnapshot(...e){const n=Lq(e),r=Uq(e,i=>new Gp(this.firestore,new Si(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Dq(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=RZ(this._delegate):(e==null?void 0:e.source)==="server"?n=PZ(this._delegate):n=xZ(this._delegate),n.then(r=>new Gp(this.firestore,new Si(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ei(this.firestore,e?this._delegate.withConverter(wu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function vr(t,e,n){return t.message=t.message.replace(e,n),t}function Lq(t){for(const e of t)if(typeof e=="object"&&!Bb(e))return e;return{}}function Uq(t,e){var r,i;let n;return Bb(t[0])?n=t[0]:Bb(t[1])?n=t[1]:typeof t[0]=="function"?n={next:t[0],error:t[1],complete:t[2]}:n={next:t[1],error:t[2],complete:t[3]},{next:o=>{n.next&&n.next(e(o))},error:(r=n.error)==null?void 0:r.bind(n),complete:(i=n.complete)==null?void 0:i.bind(n)}}class Gp{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Ei(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return Mq(this._delegate,e._delegate)}}class Kp extends Gp{data(e){const n=this._delegate.data(e);return this._delegate._converter||VY(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}}class yr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new i0(e)}where(e,n,r){try{return new yr(this.firestore,ya(this._delegate,vZ(e,n,r)))}catch(i){throw vr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new yr(this.firestore,ya(this._delegate,_Z(e,n)))}catch(r){throw vr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new yr(this.firestore,ya(this._delegate,TZ(e)))}catch(n){throw vr(n,"limit()","Query.limit()")}}limitToLast(e){try{return new yr(this.firestore,ya(this._delegate,EZ(e)))}catch(n){throw vr(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new yr(this.firestore,ya(this._delegate,wZ(...e)))}catch(n){throw vr(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new yr(this.firestore,ya(this._delegate,SZ(...e)))}catch(n){throw vr(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new yr(this.firestore,ya(this._delegate,bZ(...e)))}catch(n){throw vr(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new yr(this.firestore,ya(this._delegate,AZ(...e)))}catch(n){throw vr(n,"endAt()","Query.endAt()")}}isEqual(e){return gq(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=DZ(this._delegate):(e==null?void 0:e.source)==="server"?n=NZ(this._delegate):n=MZ(this._delegate),n.then(r=>new qb(this.firestore,new zi(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=Lq(e),r=Uq(e,i=>new qb(this.firestore,new zi(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Dq(this._delegate,n,r)}withConverter(e){return new yr(this.firestore,e?this._delegate.withConverter(wu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class XZ{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Kp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class qb{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new yr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Kp(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new XZ(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Kp(this._firestore,r))})}isEqual(e){return Mq(this._delegate,e._delegate)}}class Of extends yr{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ei(this.firestore,e):null}doc(e){try{return e===void 0?new Ei(this.firestore,Pv(this._delegate)):new Ei(this.firestore,Pv(this._delegate,e))}catch(n){throw vr(n,"doc()","CollectionReference.doc()")}}add(e){return OZ(this._delegate,e).then(n=>new Ei(this.firestore,n))}isEqual(e){return mq(this._delegate,e._delegate)}withConverter(e){return new Of(this.firestore,e?this._delegate.withConverter(wu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Xl(t){return ot(t,xt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(...e){this._delegate=new Ga(...e)}static documentId(){return new OC(Ut.keyField().canonicalString())}isEqual(e){return e=Ne(e),e instanceof Ga?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZZ=class Yc{static serverTimestamp(){const e=zZ();return e._methodName="FieldValue.serverTimestamp",new Yc(e)}static delete(){const e=$Z();return e._methodName="FieldValue.delete",new Yc(e)}static arrayUnion(...e){const n=HZ(...e);return n._methodName="FieldValue.arrayUnion",new Yc(n)}static arrayRemove(...e){const n=GZ(...e);return n._methodName="FieldValue.arrayRemove",new Yc(n)}static increment(e){const n=KZ(e);return n._methodName="FieldValue.increment",new Yc(n)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eee={Firestore:kq,GeoPoint:$i,Timestamp:ct,Blob:Nq,Transaction:Oq,WriteBatch:Vq,DocumentReference:Ei,DocumentSnapshot:Gp,Query:yr,QueryDocumentSnapshot:Kp,QuerySnapshot:qb,CollectionReference:Of,FieldPath:OC,FieldValue:ZZ,setLogLevel:QZ,CACHE_SIZE_UNLIMITED:iZ};function tee(t,e){t.INTERNAL.registerComponent(new xo("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...eee}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nee(t){tee(t,(e,n)=>new kq(e,n,new JZ)),t.registerVersion(WZ,jZ)}nee(Ro);const ree={apiKey:"PLACEHOLDER_API_KEY",authDomain:"bkomhate-site.firebaseapp.com",projectId:"bkomhate-site",storageBucket:"bkomhate-site.appspot.com",messagingSenderId:"37549082348",appId:"1:37549082348:web:cf0c64f504b40192887c9"};Ro.apps.length||Ro.initializeApp(ree);const Tp=Ro.auth(),Cr=Ro.firestore(),af=Ro.firestore.FieldValue,Fq=M.createContext({currentUser:null,loading:!0}),iee=()=>M.useContext(Fq),oee=({children:t})=>{const[e,n]=M.useState(null),[r,i]=M.useState(!0);M.useEffect(()=>Tp.onAuthStateChanged(u=>{n(u),i(!1)}),[]);const o={currentUser:e,loading:r};return H.jsx(Fq.Provider,{value:o,children:t})};function Bq(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Bq(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Nt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Bq(t))&&(r&&(r+=" "),r+=e);return r}var dw={},hw={},QN;function see(){return QN||(QN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(hw)),hw}var pw={},XN;function qq(){return XN||(XN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(pw)),pw}var mw={},ZN;function $q(){return ZN||(ZN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(mw)),mw}var gw={},ek;function VC(){return ek||(ek=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let o=0,s="",u="",c=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<i;){const f=n[o];u?f==="\\"&&o+1<i?(o++,s+=n[o]):f===u?u="":s+=f:c?f==='"'||f==="'"?u=f:f==="]"?(c=!1,r.push(s),s=""):s+=f:f==="["?(c=!0,s&&(r.push(s),s="")):f==="."?s&&(r.push(s),s=""):s+=f,o++}return s&&r.push(s),r}t.toPath=e})(gw)),gw}var tk;function LC(){return tk||(tk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=see(),n=qq(),r=$q(),i=VC();function o(u,c,f){if(u==null)return f;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return f;const h=u[c];return h===void 0?n.isDeepKey(c)?o(u,i.toPath(c),f):f:h}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const h=u[c];return h===void 0?f:h}default:{if(Array.isArray(c))return s(u,c,f);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return f;const h=u[c];return h===void 0?f:h}}}function s(u,c,f){if(c.length===0)return f;let h=u;for(let y=0;y<c.length;y++){if(h==null||e.isUnsafeProperty(c[y]))return f;h=h[c[y]]}return h===void 0?f:h}t.get=o})(dw)),dw}var yw,nk;function aee(){return nk||(nk=1,yw=LC().get),yw}var lee=aee();const Su=Ki(lee);var vw={exports:{}},St={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rk;function uee(){if(rk)return St;rk=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),E=Symbol.for("react.client.reference");function S(b){if(typeof b=="object"&&b!==null){var I=b.$$typeof;switch(I){case t:switch(b=b.type,b){case n:case i:case r:case c:case f:case v:return b;default:switch(b=b&&b.$$typeof,b){case s:case u:case y:case h:return b;case o:return b;default:return I}}case e:return I}}}return St.ContextConsumer=o,St.ContextProvider=s,St.Element=t,St.ForwardRef=u,St.Fragment=n,St.Lazy=y,St.Memo=h,St.Portal=e,St.Profiler=i,St.StrictMode=r,St.Suspense=c,St.SuspenseList=f,St.isContextConsumer=function(b){return S(b)===o},St.isContextProvider=function(b){return S(b)===s},St.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},St.isForwardRef=function(b){return S(b)===u},St.isFragment=function(b){return S(b)===n},St.isLazy=function(b){return S(b)===y},St.isMemo=function(b){return S(b)===h},St.isPortal=function(b){return S(b)===e},St.isProfiler=function(b){return S(b)===i},St.isStrictMode=function(b){return S(b)===r},St.isSuspense=function(b){return S(b)===c},St.isSuspenseList=function(b){return S(b)===f},St.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===i||b===r||b===c||b===f||typeof b=="object"&&b!==null&&(b.$$typeof===y||b.$$typeof===h||b.$$typeof===s||b.$$typeof===o||b.$$typeof===u||b.$$typeof===E||b.getModuleId!==void 0)},St.typeOf=S,St}var ik;function cee(){return ik||(ik=1,vw.exports=uee()),vw.exports}var fee=cee(),Xr=t=>t===0?0:t>0?1:-1,Ci=t=>typeof t=="number"&&t!=+t,Zl=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,De=t=>(typeof t=="number"||t instanceof Number)&&!Ci(t),No=t=>De(t)||typeof t=="string",dee=0,Wp=t=>{var e=++dee;return"".concat(t||"").concat(e)},Gi=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!De(e)&&typeof e!="string")return r;var o;if(Zl(e)){if(n==null)return r;var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Ci(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},zq=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function $c(t,e,n){return De(t)&&De(e)?t+n*(e-t):e}function hee(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Su(r,e))===n)}var An=t=>t===null||typeof t>"u",Cm=t=>An(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),pee=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function UC(t){if(typeof t!="string")return!1;var e=pee;return e.includes(t)}var mee=["viewBox","children"],ok=["points","pathLength"],_w={svg:mee,polygon:ok,polyline:ok},gee=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(M.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{UC(i)&&(r[i]=(o=>n[i](n,o)))}),r},yee=(t,e,n)=>r=>(t(e,n,r),null),FC=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];UC(i)&&typeof o=="function"&&(r||(r={}),r[i]=yee(o,e,n))}),r},vee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function Hq(t){if(typeof t!="string")return!1;var e=vee;return e.includes(t)}function o0(t){var e=Object.entries(t).filter(n=>{var[r]=n;return Hq(r)});return Object.fromEntries(e)}var sk=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",ak=null,Tw=null,Gq=t=>{if(t===ak&&Array.isArray(Tw))return Tw;var e=[];return M.Children.forEach(t,n=>{An(n)||(fee.isFragment(n)?e=e.concat(Gq(n.props.children)):e.push(n))}),Tw=e,ak=t,e};function BC(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>sk(i)):r=[sk(e)],Gq(t).forEach(i=>{var o=Su(i,"type.displayName")||Su(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}var _ee=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var o=(i=r&&(_w==null?void 0:_w[r]))!==null&&i!==void 0?i:[],s=e.startsWith("data-"),u=typeof t!="function"&&(!!r&&o.includes(e)||Hq(e)),c=!!n&&UC(e);return s||u||c},Fn=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(M.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(o=>{var s;_ee((s=r)===null||s===void 0?void 0:s[o],o,e,n)&&(i[o]=r[o])}),i},Tee=["children","width","height","viewBox","className","style","title","desc"];function $b(){return $b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$b.apply(null,arguments)}function Eee(t,e){if(t==null)return{};var n,r,i=wee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Kq=M.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:s,style:u,title:c,desc:f}=t,h=Eee(t,Tee),y=o||{width:r,height:i,x:0,y:0},v=Nt("recharts-surface",s);return M.createElement("svg",$b({},Fn(h,!0,"svg"),{className:v,width:r,height:i,style:u,viewBox:"".concat(y.x," ").concat(y.y," ").concat(y.width," ").concat(y.height),ref:e}),M.createElement("title",null,c),M.createElement("desc",null,f),n)}),See=["children","className"];function zb(){return zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zb.apply(null,arguments)}function bee(t,e){if(t==null)return{};var n,r,i=Aee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Aee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ka=M.forwardRef((t,e)=>{var{children:n,className:r}=t,i=bee(t,See),o=Nt("recharts-layer",r);return M.createElement("g",zb({className:o},Fn(i,!0),{ref:e}),n)}),Iee=M.createContext(null);function Ct(t){return function(){return t}}const Wq=Math.cos,Dv=Math.sin,Yi=Math.sqrt,Nv=Math.PI,s0=2*Nv,Hb=Math.PI,Gb=2*Hb,$l=1e-6,Cee=Gb-$l;function jq(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function xee(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return jq;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Ree{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?jq:xee(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,u=this._y1,c=r-e,f=i-n,h=s-e,y=u-n,v=h*h+y*y;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>$l)if(!(Math.abs(y*c-f*h)>$l)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let E=r-s,S=i-u,b=c*c+f*f,I=E*E+S*S,R=Math.sqrt(b),D=Math.sqrt(v),C=o*Math.tan((Hb-Math.acos((b+v-I)/(2*R*D)))/2),q=C/D,L=C/R;Math.abs(q-1)>$l&&this._append`L${e+q*h},${n+q*y}`,this._append`A${o},${o},0,0,${+(y*E>h*S)},${this._x1=e+L*c},${this._y1=n+L*f}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),f=e+u,h=n+c,y=1^s,v=s?i-o:o-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>$l||Math.abs(this._y1-h)>$l)&&this._append`L${f},${h}`,r&&(v<0&&(v=v%Gb+Gb),v>Cee?this._append`A${r},${r},0,1,${y},${e-u},${n-c}A${r},${r},0,1,${y},${this._x1=f},${this._y1=h}`:v>$l&&this._append`A${r},${r},0,${+(v>=Hb)},${y},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function qC(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Ree(e)}function $C(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Yq(t){this._context=t}Yq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function a0(t){return new Yq(t)}function Jq(t){return t[0]}function Qq(t){return t[1]}function Xq(t,e){var n=Ct(!0),r=null,i=a0,o=null,s=qC(u);t=typeof t=="function"?t:t===void 0?Jq:Ct(t),e=typeof e=="function"?e:e===void 0?Qq:Ct(e);function u(c){var f,h=(c=$C(c)).length,y,v=!1,E;for(r==null&&(o=i(E=s())),f=0;f<=h;++f)!(f<h&&n(y=c[f],f,c))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+t(y,f,c),+e(y,f,c));if(E)return o=null,E+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ct(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ct(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ct(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),u):r},u}function Ey(t,e,n){var r=null,i=Ct(!0),o=null,s=a0,u=null,c=qC(f);t=typeof t=="function"?t:t===void 0?Jq:Ct(+t),e=typeof e=="function"?e:Ct(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Qq:Ct(+n);function f(y){var v,E,S,b=(y=$C(y)).length,I,R=!1,D,C=new Array(b),q=new Array(b);for(o==null&&(u=s(D=c())),v=0;v<=b;++v){if(!(v<b&&i(I=y[v],v,y))===R)if(R=!R)E=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=v-1;S>=E;--S)u.point(C[S],q[S]);u.lineEnd(),u.areaEnd()}R&&(C[v]=+t(I,v,y),q[v]=+e(I,v,y),u.point(r?+r(I,v,y):C[v],n?+n(I,v,y):q[v]))}if(D)return u=null,D+""||null}function h(){return Xq().defined(i).curve(s).context(o)}return f.x=function(y){return arguments.length?(t=typeof y=="function"?y:Ct(+y),r=null,f):t},f.x0=function(y){return arguments.length?(t=typeof y=="function"?y:Ct(+y),f):t},f.x1=function(y){return arguments.length?(r=y==null?null:typeof y=="function"?y:Ct(+y),f):r},f.y=function(y){return arguments.length?(e=typeof y=="function"?y:Ct(+y),n=null,f):e},f.y0=function(y){return arguments.length?(e=typeof y=="function"?y:Ct(+y),f):e},f.y1=function(y){return arguments.length?(n=y==null?null:typeof y=="function"?y:Ct(+y),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(y){return arguments.length?(i=typeof y=="function"?y:Ct(!!y),f):i},f.curve=function(y){return arguments.length?(s=y,o!=null&&(u=s(o)),f):s},f.context=function(y){return arguments.length?(y==null?o=u=null:u=s(o=y),f):o},f}class Zq{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Pee(t){return new Zq(t,!0)}function Mee(t){return new Zq(t,!1)}const zC={draw(t,e){const n=Yi(e/Nv);t.moveTo(n,0),t.arc(0,0,n,0,s0)}},Dee={draw(t,e){const n=Yi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},e3=Yi(1/3),Nee=e3*2,kee={draw(t,e){const n=Yi(e/Nee),r=n*e3;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Oee={draw(t,e){const n=Yi(e),r=-n/2;t.rect(r,r,n,n)}},Vee=.8908130915292852,t3=Dv(Nv/10)/Dv(7*Nv/10),Lee=Dv(s0/10)*t3,Uee=-Wq(s0/10)*t3,Fee={draw(t,e){const n=Yi(e*Vee),r=Lee*n,i=Uee*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=s0*o/5,u=Wq(s),c=Dv(s);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},Ew=Yi(3),Bee={draw(t,e){const n=-Yi(e/(Ew*3));t.moveTo(0,n*2),t.lineTo(-Ew*n,-n),t.lineTo(Ew*n,-n),t.closePath()}},yi=-.5,vi=Yi(3)/2,Kb=1/Yi(12),qee=(Kb/2+1)*3,$ee={draw(t,e){const n=Yi(e/qee),r=n/2,i=n*Kb,o=r,s=n*Kb+n,u=-o,c=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(u,c),t.lineTo(yi*r-vi*i,vi*r+yi*i),t.lineTo(yi*o-vi*s,vi*o+yi*s),t.lineTo(yi*u-vi*c,vi*u+yi*c),t.lineTo(yi*r+vi*i,yi*i-vi*r),t.lineTo(yi*o+vi*s,yi*s-vi*o),t.lineTo(yi*u+vi*c,yi*c-vi*u),t.closePath()}};function zee(t,e){let n=null,r=qC(i);t=typeof t=="function"?t:Ct(t||zC),e=typeof e=="function"?e:Ct(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ct(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ct(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function kv(){}function Ov(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function n3(t){this._context=t}n3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ov(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ov(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Hee(t){return new n3(t)}function r3(t){this._context=t}r3.prototype={areaStart:kv,areaEnd:kv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ov(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Gee(t){return new r3(t)}function i3(t){this._context=t}i3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ov(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Kee(t){return new i3(t)}function o3(t){this._context=t}o3.prototype={areaStart:kv,areaEnd:kv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Wee(t){return new o3(t)}function lk(t){return t<0?-1:1}function uk(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),u=(o*i+s*r)/(r+i);return(lk(o)+lk(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(u))||0}function ck(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ww(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,s-u*n,o,s)}function Vv(t){this._context=t}Vv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ww(this,this._t0,ck(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ww(this,ck(this,n=uk(this,t,e)),n);break;default:ww(this,this._t0,n=uk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function s3(t){this._context=new a3(t)}(s3.prototype=Object.create(Vv.prototype)).point=function(t,e){Vv.prototype.point.call(this,e,t)};function a3(t){this._context=t}a3.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function jee(t){return new Vv(t)}function Yee(t){return new s3(t)}function l3(t){this._context=t}l3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=fk(t),i=fk(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function fk(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Jee(t){return new l3(t)}function l0(t,e){this._context=t,this._t=e}l0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Qee(t){return new l0(t,.5)}function Xee(t){return new l0(t,0)}function Zee(t){return new l0(t,1)}function Vf(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,u=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Wb(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function ete(t,e){return t[e]}function tte(t){const e=[];return e.key=t,e}function nte(){var t=Ct([]),e=Wb,n=Vf,r=ete;function i(o){var s=Array.from(t.apply(this,arguments),tte),u,c=s.length,f=-1,h;for(const y of o)for(u=0,++f;u<c;++u)(s[u][f]=[0,+r(y,s[u].key,f,o)]).data=y;for(u=0,h=$C(e(s));u<c;++u)s[h[u]].index=u;return n(s,h),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ct(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ct(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Wb:typeof o=="function"?o:Ct(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Vf,i):n},i}function rte(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Vf(t,e)}}function ite(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,u=0;s<i;++s)u+=t[s][n][1]||0;r[n][1]+=r[n][0]=-u/2}Vf(t,e)}}function ote(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var u=0,c=0,f=0;u<s;++u){for(var h=t[e[u]],y=h[r][1]||0,v=h[r-1][1]||0,E=(y-v)/2,S=0;S<u;++S){var b=t[e[S]],I=b[r][1]||0,R=b[r-1][1]||0;E+=I-R}c+=y,f+=E*y}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,Vf(t,e)}}var ste=["type","size","sizeType"];function jb(){return jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jb.apply(null,arguments)}function dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(n),!0).forEach(function(r){ate(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ate(t,e,n){return(e=lte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lte(t){var e=ute(t,"string");return typeof e=="symbol"?e:e+""}function ute(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cte(t,e){if(t==null)return{};var n,r,i=fte(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var u3={symbolCircle:zC,symbolCross:Dee,symbolDiamond:kee,symbolSquare:Oee,symbolStar:Fee,symbolTriangle:Bee,symbolWye:$ee},dte=Math.PI/180,hte=t=>{var e="symbol".concat(Cm(t));return u3[e]||zC},pte=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*dte;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},mte=(t,e)=>{u3["symbol".concat(Cm(t))]=e},c3=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=cte(t,ste),o=hk(hk({},i),{},{type:e,size:n,sizeType:r}),s=()=>{var y=hte(e),v=zee().type(y).size(pte(n,r,e));return v()},{className:u,cx:c,cy:f}=o,h=Fn(o,!0);return c===+c&&f===+f&&n===+n?M.createElement("path",jb({},h,{className:Nt("recharts-symbols",u),transform:"translate(".concat(c,", ").concat(f,")"),d:s()})):null};c3.registerSymbol=mte;var Sw={},bw={},pk;function gte(){return pk||(pk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const s=n[o],u=r(s);i.has(u)||i.set(u,s)}return Array.from(i.values())}t.uniqBy=e})(bw)),bw}var Aw={},mk;function f3(){return mk||(mk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Aw)),Aw}var Iw={},Cw={},xw={},gk;function yte(){return gk||(gk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(xw)),xw}var yk;function HC(){return yk||(yk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yte();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Cw)),Cw}var Rw={},vk;function vte(){return vk||(vk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Rw)),Rw}var _k;function _te(){return _k||(_k=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HC(),n=vte();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Iw)),Iw}var Pw={},Mw={},Tk;function Tte(){return Tk||(Tk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LC();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Mw)),Mw}var Dw={},Nw={},kw={},Ow={},Ek;function d3(){return Ek||(Ek=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Ow)),Ow}var Vw={},wk;function h3(){return wk||(wk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Vw)),Vw}var Lw={},Sk;function GC(){return Sk||(Sk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Lw)),Lw}var bk;function Ete(){return bk||(bk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KC(),n=d3(),r=h3(),i=GC();function o(y,v,E){return typeof E!="function"?e.isMatch(y,v):s(y,v,function S(b,I,R,D,C,q){const L=E(b,I,R,D,C,q);return L!==void 0?!!L:s(b,I,S,q)},new Map)}function s(y,v,E,S){if(v===y)return!0;switch(typeof v){case"object":return u(y,v,E,S);case"function":return Object.keys(v).length>0?s(y,{...v},E,S):i.eq(y,v);default:return n.isObject(y)?typeof v=="string"?v==="":!0:i.eq(y,v)}}function u(y,v,E,S){if(v==null)return!0;if(Array.isArray(v))return f(y,v,E,S);if(v instanceof Map)return c(y,v,E,S);if(v instanceof Set)return h(y,v,E,S);const b=Object.keys(v);if(y==null)return b.length===0;if(b.length===0)return!0;if(S&&S.has(v))return S.get(v)===y;S&&S.set(v,y);try{for(let I=0;I<b.length;I++){const R=b[I];if(!r.isPrimitive(y)&&!(R in y)||v[R]===void 0&&y[R]!==void 0||v[R]===null&&y[R]!==null||!E(y[R],v[R],R,y,v,S))return!1}return!0}finally{S&&S.delete(v)}}function c(y,v,E,S){if(v.size===0)return!0;if(!(y instanceof Map))return!1;for(const[b,I]of v.entries()){const R=y.get(b);if(E(R,I,b,y,v,S)===!1)return!1}return!0}function f(y,v,E,S){if(v.length===0)return!0;if(!Array.isArray(y))return!1;const b=new Set;for(let I=0;I<v.length;I++){const R=v[I];let D=!1;for(let C=0;C<y.length;C++){if(b.has(C))continue;const q=y[C];let L=!1;if(E(q,R,I,y,v,S)&&(L=!0),L){b.add(C),D=!0;break}}if(!D)return!1}return!0}function h(y,v,E,S){return v.size===0?!0:y instanceof Set?f([...y],[...v],E,S):!1}t.isMatchWith=o,t.isSetMatch=h})(kw)),kw}var Ak;function KC(){return Ak||(Ak=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ete();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Nw)),Nw}var Uw={},Fw={},Bw={},Ik;function p3(){return Ik||(Ik=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Bw)),Bw}var qw={},Ck;function WC(){return Ck||(Ck=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(qw)),qw}var $w={},xk;function jC(){return xk||(xk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",s="[object Symbol]",u="[object Date]",c="[object Map]",f="[object Set]",h="[object Array]",y="[object Function]",v="[object ArrayBuffer]",E="[object Object]",S="[object Error]",b="[object DataView]",I="[object Uint8Array]",R="[object Uint8ClampedArray]",D="[object Uint16Array]",C="[object Uint32Array]",q="[object BigUint64Array]",L="[object Int8Array]",G="[object Int16Array]",N="[object Int32Array]",O="[object BigInt64Array]",k="[object Float32Array]",B="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=v,t.arrayTag=h,t.bigInt64ArrayTag=O,t.bigUint64ArrayTag=q,t.booleanTag=i,t.dataViewTag=b,t.dateTag=u,t.errorTag=S,t.float32ArrayTag=k,t.float64ArrayTag=B,t.functionTag=y,t.int16ArrayTag=G,t.int32ArrayTag=N,t.int8ArrayTag=L,t.mapTag=c,t.numberTag=r,t.objectTag=E,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=D,t.uint32ArrayTag=C,t.uint8ArrayTag=I,t.uint8ClampedArrayTag=R})($w)),$w}var zw={},Rk;function wte(){return Rk||(Rk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(zw)),zw}var Pk;function m3(){return Pk||(Pk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p3(),n=WC(),r=jC(),i=h3(),o=wte();function s(h,y){return u(h,void 0,h,new Map,y)}function u(h,y,v,E=new Map,S=void 0){const b=S==null?void 0:S(h,y,v,E);if(b!==void 0)return b;if(i.isPrimitive(h))return h;if(E.has(h))return E.get(h);if(Array.isArray(h)){const I=new Array(h.length);E.set(h,I);for(let R=0;R<h.length;R++)I[R]=u(h[R],R,v,E,S);return Object.hasOwn(h,"index")&&(I.index=h.index),Object.hasOwn(h,"input")&&(I.input=h.input),I}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const I=new RegExp(h.source,h.flags);return I.lastIndex=h.lastIndex,I}if(h instanceof Map){const I=new Map;E.set(h,I);for(const[R,D]of h)I.set(R,u(D,R,v,E,S));return I}if(h instanceof Set){const I=new Set;E.set(h,I);for(const R of h)I.add(u(R,void 0,v,E,S));return I}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const I=new(Object.getPrototypeOf(h)).constructor(h.length);E.set(h,I);for(let R=0;R<h.length;R++)I[R]=u(h[R],R,v,E,S);return I}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const I=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return E.set(h,I),c(I,h,v,E,S),I}if(typeof File<"u"&&h instanceof File){const I=new File([h],h.name,{type:h.type});return E.set(h,I),c(I,h,v,E,S),I}if(h instanceof Blob){const I=new Blob([h],{type:h.type});return E.set(h,I),c(I,h,v,E,S),I}if(h instanceof Error){const I=new h.constructor;return E.set(h,I),I.message=h.message,I.name=h.name,I.stack=h.stack,I.cause=h.cause,c(I,h,v,E,S),I}if(typeof h=="object"&&f(h)){const I=Object.create(Object.getPrototypeOf(h));return E.set(h,I),c(I,h,v,E,S),I}return h}function c(h,y,v=h,E,S){const b=[...Object.keys(y),...e.getSymbols(y)];for(let I=0;I<b.length;I++){const R=b[I],D=Object.getOwnPropertyDescriptor(h,R);(D==null||D.writable)&&(h[R]=u(y[R],R,v,E,S))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=u,t.copyProperties=c})(Fw)),Fw}var Mk;function Ste(){return Mk||(Mk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=m3();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Uw)),Uw}var Dk;function bte(){return Dk||(Dk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KC(),n=Ste();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(Dw)),Dw}var Hw={},Gw={},Kw={},Nk;function Ate(){return Nk||(Nk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=m3(),n=jC();function r(i,o){return e.cloneDeepWith(i,(s,u,c,f)=>{const h=o==null?void 0:o(s,u,c,f);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const y=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(y,i),y}case n.argumentsTag:{const y={};return e.copyProperties(y,i),y.length=i.length,y[Symbol.iterator]=i[Symbol.iterator],y}default:return}})}t.cloneDeepWith=r})(Kw)),Kw}var kk;function Ite(){return kk||(kk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ate();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Gw)),Gw}var Ww={},jw={},Ok;function g3(){return Ok||(Ok=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(jw)),jw}var Yw={},Vk;function Cte(){return Vk||(Vk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WC();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Yw)),Yw}var Lk;function xte(){return Lk||(Lk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qq(),n=g3(),r=Cte(),i=VC();function o(s,u){let c;if(Array.isArray(u)?c=u:typeof u=="string"&&e.isDeepKey(u)&&(s==null?void 0:s[u])==null?c=i.toPath(u):c=[u],c.length===0)return!1;let f=s;for(let h=0;h<c.length;h++){const y=c[h];if((f==null||!Object.hasOwn(f,y))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(y)&&y<f.length))return!1;f=f[y]}return!0}t.has=o})(Ww)),Ww}var Uk;function Rte(){return Uk||(Uk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KC(),n=$q(),r=Ite(),i=LC(),o=xte();function s(u,c){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return c=r.cloneDeep(c),function(f){const h=i.get(f,u);return h===void 0?o.has(f,u):c===void 0?h===void 0:e.isMatch(h,c)}}t.matchesProperty=s})(Hw)),Hw}var Fk;function Pte(){return Fk||(Fk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=f3(),n=Tte(),r=bte(),i=Rte();function o(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=o})(Pw)),Pw}var Bk;function Mte(){return Bk||(Bk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gte(),n=f3(),r=_te(),i=Pte();function o(s,u=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(u)):[]}t.uniqBy=o})(Sw)),Sw}var Jw,qk;function Dte(){return qk||(qk=1,Jw=Mte().uniqBy),Jw}var Nte=Dte();const $k=Ki(Nte);function kte(t,e,n){return e===!0?$k(t,n):typeof e=="function"?$k(t,e):t}var Qw={exports:{}},Xw={},Zw={exports:{}},eS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zk;function Ote(){if(zk)return eS;zk=1;var t=Kf();function e(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,s=t.useDebugValue;function u(y,v){var E=v(),S=r({inst:{value:E,getSnapshot:v}}),b=S[0].inst,I=S[1];return o(function(){b.value=E,b.getSnapshot=v,c(b)&&I({inst:b})},[y,E,v]),i(function(){return c(b)&&I({inst:b}),y(function(){c(b)&&I({inst:b})})},[y]),s(E),E}function c(y){var v=y.getSnapshot;y=y.value;try{var E=v();return!n(y,E)}catch{return!0}}function f(y,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return eS.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,eS}var Hk;function Vte(){return Hk||(Hk=1,Zw.exports=Ote()),Zw.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gk;function Lte(){if(Gk)return Xw;Gk=1;var t=Kf(),e=Vte();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,s=t.useEffect,u=t.useMemo,c=t.useDebugValue;return Xw.useSyncExternalStoreWithSelector=function(f,h,y,v,E){var S=o(null);if(S.current===null){var b={hasValue:!1,value:null};S.current=b}else b=S.current;S=u(function(){function R(G){if(!D){if(D=!0,C=G,G=v(G),E!==void 0&&b.hasValue){var N=b.value;if(E(N,G))return q=N}return q=G}if(N=q,r(C,G))return N;var O=v(G);return E!==void 0&&E(N,O)?(C=G,N):(C=G,q=O)}var D=!1,C,q,L=y===void 0?null:y;return[function(){return R(h())},L===null?void 0:function(){return R(L())}]},[h,y,v,E]);var I=i(f,S[0],S[1]);return s(function(){b.hasValue=!0,b.value=I},[I]),c(I),I},Xw}var Kk;function Ute(){return Kk||(Kk=1,Qw.exports=Lte()),Qw.exports}var Fte=Ute(),YC=M.createContext(null),Bte=t=>t,qn=()=>{var t=M.useContext(YC);return t?t.store.dispatch:Bte},tv=()=>{},qte=()=>tv,$te=(t,e)=>t===e;function Le(t){var e=M.useContext(YC);return Fte.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:qte,e?e.store.getState:tv,e?e.store.getState:tv,e?t:tv,$te)}function zte(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Hte(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Gte(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var Wk=t=>Array.isArray(t)?t:[t];function Kte(t){const e=Array.isArray(t[0])?t[0]:t;return Gte(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Wte(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var jte=class{constructor(t){this.value=t}deref(){return this.value}},Yte=typeof WeakRef<"u"?WeakRef:jte,Jte=0,jk=1;function wy(){return{s:Jte,v:void 0,o:null,p:null}}function y3(t,e={}){let n=wy();const{resultEqualityCheck:r}=e;let i,o=0;function s(){var y;let u=n;const{length:c}=arguments;for(let v=0,E=c;v<E;v++){const S=arguments[v];if(typeof S=="function"||typeof S=="object"&&S!==null){let b=u.o;b===null&&(u.o=b=new WeakMap);const I=b.get(S);I===void 0?(u=wy(),b.set(S,u)):u=I}else{let b=u.p;b===null&&(u.p=b=new Map);const I=b.get(S);I===void 0?(u=wy(),b.set(S,u)):u=I}}const f=u;let h;if(u.s===jk)h=u.v;else if(h=t.apply(null,arguments),o++,r){const v=((y=i==null?void 0:i.deref)==null?void 0:y.call(i))??i;v!=null&&r(v,h)&&(h=v,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new Yte(h):h}return f.s=jk,f.v=h,h}return s.clearCache=()=>{n=wy(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function Qte(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,s=0,u,c={},f=i.pop();typeof f=="object"&&(c=f,f=i.pop()),zte(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...c},{memoize:y,memoizeOptions:v=[],argsMemoize:E=y3,argsMemoizeOptions:S=[]}=h,b=Wk(v),I=Wk(S),R=Kte(i),D=y(function(){return o++,f.apply(null,arguments)},...b),C=E(function(){s++;const L=Wte(R,arguments);return u=D.apply(null,L),u},...I);return Object.assign(C,{resultFunc:f,memoizedResultFunc:D,dependencies:R,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:y,argsMemoize:E})};return Object.assign(r,{withTypes:()=>r}),r}var oe=Qte(y3),Xte=Object.assign((t,e=oe)=>{Hte(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((s,u,c)=>(s[n[c]]=u,s),{}))},{withTypes:()=>Xte}),tS={},nS={},rS={},Yk;function Zte(){return Yk||(Yk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const s=e(r),u=e(i);if(s===u&&s===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-s:s-u}return 0};t.compareValues=n})(rS)),rS}var iS={},oS={},Jk;function v3(){return Jk||(Jk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(oS)),oS}var Qk;function ene(){return Qk||(Qk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=v3(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||s!=null&&Object.hasOwn(s,o)}t.isKey=i})(iS)),iS}var Xk;function tne(){return Xk||(Xk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zte(),n=ene(),r=VC();function i(o,s,u,c){if(o==null)return[];u=c?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(E=>String(E));const f=(E,S)=>{let b=E;for(let I=0;I<S.length&&b!=null;++I)b=b[S[I]];return b},h=(E,S)=>S==null||E==null?S:typeof E=="object"&&"key"in E?Object.hasOwn(S,E.key)?S[E.key]:f(S,E.path):typeof E=="function"?E(S):Array.isArray(E)?f(S,E):typeof S=="object"?S[E]:S,y=s.map(E=>(Array.isArray(E)&&E.length===1&&(E=E[0]),E==null||typeof E=="function"||Array.isArray(E)||n.isKey(E)?E:{key:E,path:r.toPath(E)}));return o.map(E=>({original:E,criteria:y.map(S=>h(S,E))})).slice().sort((E,S)=>{for(let b=0;b<y.length;b++){const I=e.compareValues(E.criteria[b],S.criteria[b],u[b]);if(I!==0)return I}return 0}).map(E=>E.original)}t.orderBy=i})(nS)),nS}var sS={},Zk;function nne(){return Zk||(Zk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),s=(u,c)=>{for(let f=0;f<u.length;f++){const h=u[f];Array.isArray(h)&&c<o?s(h,c+1):i.push(h)}};return s(n,0),i}t.flatten=e})(sS)),sS}var aS={},eO;function _3(){return eO||(eO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g3(),n=HC(),r=d3(),i=GC();function o(s,u,c){return r.isObject(c)&&(typeof u=="number"&&n.isArrayLike(c)&&e.isIndex(u)&&u<c.length||typeof u=="string"&&u in c)?i.eq(c[u],s):!1}t.isIterateeCall=o})(aS)),aS}var tO;function rne(){return tO||(tO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tne(),n=nne(),r=_3();function i(o,...s){const u=s.length;return u>1&&r.isIterateeCall(o,s[0],s[1])?s=[]:u>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(o,n.flatten(s),["asc"])}t.sortBy=i})(tS)),tS}var lS,nO;function ine(){return nO||(nO=1,lS=rne().sortBy),lS}var one=ine();const u0=Ki(one);var T3=t=>t.legend.settings,sne=t=>t.legend.size,ane=t=>t.legend.payload;oe([ane,T3],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?u0(r,n):r});var Sy=1;function lne(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=M.useState({height:0,left:0,top:0,width:0}),r=M.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),s={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(s.height-e.height)>Sy||Math.abs(s.left-e.left)>Sy||Math.abs(s.top-e.top)>Sy||Math.abs(s.width-e.width)>Sy)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Yn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var une=typeof Symbol=="function"&&Symbol.observable||"@@observable",rO=une,uS=()=>Math.random().toString(36).substring(7).split("").join("."),cne={INIT:`@@redux/INIT${uS()}`,REPLACE:`@@redux/REPLACE${uS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${uS()}`},Lv=cne;function JC(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function E3(t,e,n){if(typeof t!="function")throw new Error(Yn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Yn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Yn(1));return n(E3)(t,e)}let r=t,i=e,o=new Map,s=o,u=0,c=!1;function f(){s===o&&(s=new Map,o.forEach((I,R)=>{s.set(R,I)}))}function h(){if(c)throw new Error(Yn(3));return i}function y(I){if(typeof I!="function")throw new Error(Yn(4));if(c)throw new Error(Yn(5));let R=!0;f();const D=u++;return s.set(D,I),function(){if(R){if(c)throw new Error(Yn(6));R=!1,f(),s.delete(D),o=null}}}function v(I){if(!JC(I))throw new Error(Yn(7));if(typeof I.type>"u")throw new Error(Yn(8));if(typeof I.type!="string")throw new Error(Yn(17));if(c)throw new Error(Yn(9));try{c=!0,i=r(i,I)}finally{c=!1}return(o=s).forEach(D=>{D()}),I}function E(I){if(typeof I!="function")throw new Error(Yn(10));r=I,v({type:Lv.REPLACE})}function S(){const I=y;return{subscribe(R){if(typeof R!="object"||R===null)throw new Error(Yn(11));function D(){const q=R;q.next&&q.next(h())}return D(),{unsubscribe:I(D)}},[rO](){return this}}}return v({type:Lv.INIT}),{dispatch:v,subscribe:y,getState:h,replaceReducer:E,[rO]:S}}function fne(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Lv.INIT})>"u")throw new Error(Yn(12));if(typeof n(void 0,{type:Lv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Yn(13))})}function w3(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const s=e[o];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{fne(n)}catch(o){i=o}return function(s={},u){if(i)throw i;let c=!1;const f={};for(let h=0;h<r.length;h++){const y=r[h],v=n[y],E=s[y],S=v(E,u);if(typeof S>"u")throw u&&u.type,new Error(Yn(14));f[y]=S,c=c||S!==E}return c=c||r.length!==Object.keys(s).length,c?f:s}}function Uv(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function dne(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(Yn(15))};const s={getState:i.getState,dispatch:(c,...f)=>o(c,...f)},u=t.map(c=>c(s));return o=Uv(...u)(i.dispatch),{...i,dispatch:o}}}function S3(t){return JC(t)&&"type"in t&&typeof t.type=="string"}var b3=Symbol.for("immer-nothing"),iO=Symbol.for("immer-draftable"),ni=Symbol.for("immer-state");function Ui(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Lf=Object.getPrototypeOf;function bu(t){return!!t&&!!t[ni]}function ws(t){var e;return t?A3(t)||Array.isArray(t)||!!t[iO]||!!((e=t.constructor)!=null&&e[iO])||xm(t)||f0(t):!1}var hne=Object.prototype.constructor.toString();function A3(t){if(!t||typeof t!="object")return!1;const e=Lf(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===hne}function Fv(t,e){c0(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function c0(t){const e=t[ni];return e?e.type_:Array.isArray(t)?1:xm(t)?2:f0(t)?3:0}function Yb(t,e){return c0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function I3(t,e,n){const r=c0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function pne(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function xm(t){return t instanceof Map}function f0(t){return t instanceof Set}function zl(t){return t.copy_||t.base_}function Jb(t,e){if(xm(t))return new Map(t);if(f0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=A3(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ni];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],u=r[s];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[s]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[s]})}return Object.create(Lf(t),r)}else{const r=Lf(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function QC(t,e=!1){return d0(t)||bu(t)||!ws(t)||(c0(t)>1&&Object.defineProperties(t,{set:{value:by},add:{value:by},clear:{value:by},delete:{value:by}}),Object.freeze(t),e&&Object.values(t).forEach(n=>QC(n,!0))),t}function by(){Ui(2)}function d0(t){return Object.isFrozen(t)}var mne={};function Au(t){const e=mne[t];return e||Ui(0,t),e}var jp;function C3(){return jp}function gne(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function oO(t,e){e&&(Au("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Qb(t){Xb(t),t.drafts_.forEach(yne),t.drafts_=null}function Xb(t){t===jp&&(jp=t.parent_)}function sO(t){return jp=gne(jp,t)}function yne(t){const e=t[ni];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function aO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ni].modified_&&(Qb(e),Ui(4)),ws(t)&&(t=Bv(e,t),e.parent_||qv(e,t)),e.patches_&&Au("Patches").generateReplacementPatches_(n[ni].base_,t,e.patches_,e.inversePatches_)):t=Bv(e,n,[]),Qb(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==b3?t:void 0}function Bv(t,e,n){if(d0(e))return e;const r=e[ni];if(!r)return Fv(e,(i,o)=>lO(t,r,e,i,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return qv(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),Fv(o,(u,c)=>lO(t,r,i,u,c,n,s)),qv(t,i,!1),n&&t.patches_&&Au("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function lO(t,e,n,r,i,o,s){if(bu(i)){const u=o&&e&&e.type_!==3&&!Yb(e.assigned_,r)?o.concat(r):void 0,c=Bv(t,i,u);if(I3(n,r,c),bu(c))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(ws(i)&&!d0(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Bv(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(xm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&qv(t,i)}}function qv(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&QC(e,n)}function vne(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:C3(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=XC;n&&(i=[r],o=Yp);const{revoke:s,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=s,u}var XC={get(t,e){if(e===ni)return t;const n=zl(t);if(!Yb(n,e))return _ne(t,n,e);const r=n[e];return t.finalized_||!ws(r)?r:r===cS(t.base_,e)?(fS(t),t.copy_[e]=eA(r,t)):r},has(t,e){return e in zl(t)},ownKeys(t){return Reflect.ownKeys(zl(t))},set(t,e,n){const r=x3(zl(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=cS(zl(t),e),o=i==null?void 0:i[ni];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(pne(n,i)&&(n!==void 0||Yb(t.base_,e)))return!0;fS(t),Zb(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return cS(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,fS(t),Zb(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=zl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ui(11)},getPrototypeOf(t){return Lf(t.base_)},setPrototypeOf(){Ui(12)}},Yp={};Fv(XC,(t,e)=>{Yp[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Yp.deleteProperty=function(t,e){return Yp.set.call(this,t,e,void 0)};Yp.set=function(t,e,n){return XC.set.call(this,t[0],e,n,t[0])};function cS(t,e){const n=t[ni];return(n?zl(n):t)[e]}function _ne(t,e,n){var i;const r=x3(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function x3(t,e){if(!(e in t))return;let n=Lf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Lf(n)}}function Zb(t){t.modified_||(t.modified_=!0,t.parent_&&Zb(t.parent_))}function fS(t){t.copy_||(t.copy_=Jb(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Tne=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const s=this;return function(c=o,...f){return s.produce(c,h=>n.call(this,h,...f))}}typeof n!="function"&&Ui(6),r!==void 0&&typeof r!="function"&&Ui(7);let i;if(ws(e)){const o=sO(this),s=eA(e,void 0);let u=!0;try{i=n(s),u=!1}finally{u?Qb(o):Xb(o)}return oO(o,r),aO(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===b3&&(i=void 0),this.autoFreeze_&&QC(i,!0),r){const o=[],s=[];Au("Patches").generateReplacementPatches_(e,i,o,s),r(o,s)}return i}else Ui(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...u)=>this.produceWithPatches(s,c=>e(c,...u));let r,i;return[this.produce(e,n,(s,u)=>{r=s,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ws(t)||Ui(8),bu(t)&&(t=ms(t));const e=sO(this),n=eA(t,void 0);return n[ni].isManual_=!0,Xb(e),n}finishDraft(t,e){const n=t&&t[ni];(!n||!n.isManual_)&&Ui(9);const{scope_:r}=n;return oO(r,e),aO(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Au("Patches").applyPatches_;return bu(t)?r(t,e):this.produce(t,i=>r(i,e))}};function eA(t,e){const n=xm(t)?Au("MapSet").proxyMap_(t,e):f0(t)?Au("MapSet").proxySet_(t,e):vne(t,e);return(e?e.scope_:C3()).drafts_.push(n),n}function ms(t){return bu(t)||Ui(10,t),R3(t)}function R3(t){if(!ws(t)||d0(t))return t;const e=t[ni];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Jb(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Jb(t,!0);return Fv(n,(r,i)=>{I3(n,r,R3(i))}),e&&(e.finalized_=!1),n}var Ene=new Tne,P3=Ene.produce;function M3(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var wne=M3(),Sne=M3,bne=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Uv:Uv.apply(null,arguments)};function xi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ei(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>S3(r)&&r.type===t,n}var D3=class rp extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,rp.prototype)}static get[Symbol.species](){return rp}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new rp(...e[0].concat(this)):new rp(...e.concat(this))}};function uO(t){return ws(t)?P3(t,()=>{}):t}function Ay(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Ane(t){return typeof t=="boolean"}var Ine=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let s=new D3;return n&&(Ane(n)?s.push(wne):s.push(Sne(n.extraArgument))),s},Cne="RTK_autoBatch",cO=t=>e=>{setTimeout(e,t)},xne=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,s=!1;const u=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:cO(10):t.type==="callback"?t.queueNotification:cO(t.timeout),f=()=>{s=!1,o&&(o=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const y=()=>i&&h(),v=r.subscribe(y);return u.add(h),()=>{v(),u.delete(h)}},dispatch(h){var y;try{return i=!((y=h==null?void 0:h.meta)!=null&&y[Cne]),o=!i,o&&(s||(s=!0,c(f))),r.dispatch(h)}finally{i=!0}}})},Rne=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new D3(t);return r&&i.push(xne(typeof r=="object"?r:void 0)),i};function Pne(t){const e=Ine(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(JC(n))u=w3(n);else throw new Error(ei(1));let c;typeof r=="function"?c=r(e):c=e();let f=Uv;i&&(f=bne({trace:!1,...typeof i=="object"&&i}));const h=dne(...c),y=Rne(h);let v=typeof s=="function"?s(y):y();const E=f(...v);return E3(u,o,E)}function N3(t){const e={},n=[];let r;const i={addCase(o,s){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(ei(28));if(u in e)throw new Error(ei(29));return e[u]=s,i},addAsyncThunk(o,s){return s.pending&&(e[o.pending.type]=s.pending),s.rejected&&(e[o.rejected.type]=s.rejected),s.fulfilled&&(e[o.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:o.settled,reducer:s.settled}),i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function Mne(t){return typeof t=="function"}function Dne(t,e){let[n,r,i]=N3(e),o;if(Mne(t))o=()=>uO(t());else{const u=uO(t);o=()=>u}function s(u=o(),c){let f=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,y)=>{if(y)if(bu(h)){const E=y(h,c);return E===void 0?h:E}else{if(ws(h))return P3(h,v=>y(v,c));{const v=y(h,c);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},u)}return s.getInitialState=o,s}var Nne="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",kne=(t=21)=>{let e="",n=t;for(;n--;)e+=Nne[Math.random()*64|0];return e},One=Symbol.for("rtk-slice-createasyncthunk");function Vne(t,e){return`${t}/${e}`}function Lne({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[One];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(ei(11));const u=(typeof i.reducers=="function"?i.reducers(Fne()):i.reducers)||{},c=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(q,L){const G=typeof q=="string"?q:q.type;if(!G)throw new Error(ei(12));if(G in f.sliceCaseReducersByType)throw new Error(ei(13));return f.sliceCaseReducersByType[G]=L,h},addMatcher(q,L){return f.sliceMatchers.push({matcher:q,reducer:L}),h},exposeAction(q,L){return f.actionCreators[q]=L,h},exposeCaseReducer(q,L){return f.sliceCaseReducersByName[q]=L,h}};c.forEach(q=>{const L=u[q],G={reducerName:q,type:Vne(o,q),createNotation:typeof i.reducers=="function"};qne(L)?zne(G,L,h,e):Bne(G,L,h)});function y(){const[q={},L=[],G=void 0]=typeof i.extraReducers=="function"?N3(i.extraReducers):[i.extraReducers],N={...q,...f.sliceCaseReducersByType};return Dne(i.initialState,O=>{for(let k in N)O.addCase(k,N[k]);for(let k of f.sliceMatchers)O.addMatcher(k.matcher,k.reducer);for(let k of L)O.addMatcher(k.matcher,k.reducer);G&&O.addDefaultCase(G)})}const v=q=>q,E=new Map,S=new WeakMap;let b;function I(q,L){return b||(b=y()),b(q,L)}function R(){return b||(b=y()),b.getInitialState()}function D(q,L=!1){function G(O){let k=O[q];return typeof k>"u"&&L&&(k=Ay(S,G,R)),k}function N(O=v){const k=Ay(E,L,()=>new WeakMap);return Ay(k,O,()=>{const B={};for(const[F,$]of Object.entries(i.selectors??{}))B[F]=Une($,O,()=>Ay(S,O,R),L);return B})}return{reducerPath:q,getSelectors:N,get selectors(){return N(G)},selectSlice:G}}const C={name:o,reducer:I,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:R,...D(s),injectInto(q,{reducerPath:L,...G}={}){const N=L??s;return q.inject({reducerPath:N,reducer:I},G),{...C,...D(N,!0)}}};return C}}function Une(t,e,n,r){function i(o,...s){let u=e(o);return typeof u>"u"&&r&&(u=n()),t(u,...s)}return i.unwrapped=t,i}var ii=Lne();function Fne(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Bne({type:t,reducerName:e,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!$ne(r))throw new Error(ei(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,s?xi(t,s):xi(t))}function qne(t){return t._reducerDefinitionType==="asyncThunk"}function $ne(t){return t._reducerDefinitionType==="reducerWithPrepare"}function zne({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ei(18));const{payloadCreator:o,fulfilled:s,pending:u,rejected:c,settled:f,options:h}=n,y=i(t,o,h);r.exposeAction(e,y),s&&r.addCase(y.fulfilled,s),u&&r.addCase(y.pending,u),c&&r.addCase(y.rejected,c),f&&r.addMatcher(y.settled,f),r.exposeCaseReducer(e,{fulfilled:s||Iy,pending:u||Iy,rejected:c||Iy,settled:f||Iy})}function Iy(){}var Hne="task",k3="listener",O3="completed",ZC="cancelled",Gne=`task-${ZC}`,Kne=`task-${O3}`,tA=`${k3}-${ZC}`,Wne=`${k3}-${O3}`,h0=class{constructor(t){LE(this,"name","TaskAbortError");LE(this,"message");this.code=t,this.message=`${Hne} ${ZC} (reason: ${t})`}},ex=(t,e)=>{if(typeof t!="function")throw new TypeError(ei(32))},$v=()=>{},V3=(t,e=$v)=>(t.catch(e),t),L3=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),su=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},au=t=>{if(t.aborted){const{reason:e}=t;throw new h0(e)}};function U3(t,e){let n=$v;return new Promise((r,i)=>{const o=()=>i(new h0(t.reason));if(t.aborted){o();return}n=L3(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=$v})}var jne=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof h0?"cancelled":"rejected",error:n}}finally{e==null||e()}},zv=t=>e=>V3(U3(t,e).then(n=>(au(t),n))),F3=t=>{const e=zv(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:lf}=Object,fO={},p0="listenerMiddleware",Yne=(t,e)=>{const n=r=>L3(t,()=>su(r,t.reason));return(r,i)=>{ex(r);const o=new AbortController;n(o);const s=jne(async()=>{au(t),au(o.signal);const u=await r({pause:zv(o.signal),delay:F3(o.signal),signal:o.signal});return au(o.signal),u},()=>su(o,Kne));return i!=null&&i.autoJoin&&e.push(s.catch($v)),{result:zv(t)(s),cancel(){su(o,Gne)}}}},Jne=(t,e)=>{const n=async(r,i)=>{au(e);let o=()=>{};const u=[new Promise((c,f)=>{let h=t({predicate:r,effect:(y,v)=>{v.unsubscribe(),c([y,v.getState(),v.getOriginalState()])}});o=()=>{h(),f()}})];i!=null&&u.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await U3(e,Promise.race(u));return au(e),c}finally{o()}};return(r,i)=>V3(n(r,i))},B3=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=xi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ei(21));return ex(o),{predicate:i,type:e,effect:o}},q3=lf(t=>{const{type:e,predicate:n,effect:r}=B3(t);return{id:kne(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ei(22))}}},{withTypes:()=>q3}),dO=(t,e)=>{const{type:n,effect:r,predicate:i}=B3(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},nA=t=>{t.pending.forEach(e=>{su(e,tA)})},Qne=t=>()=>{t.forEach(nA),t.clear()},hO=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},$3=lf(xi(`${p0}/add`),{withTypes:()=>$3}),Xne=xi(`${p0}/removeAll`),z3=lf(xi(`${p0}/remove`),{withTypes:()=>z3}),Zne=(...t)=>{console.error(`${p0}/error`,...t)},Rm=(t={})=>{const e=new Map,{extra:n,onError:r=Zne}=t;ex(r);const i=h=>(h.unsubscribe=()=>e.delete(h.id),e.set(h.id,h),y=>{h.unsubscribe(),y!=null&&y.cancelActive&&nA(h)}),o=h=>{const y=dO(e,h)??q3(h);return i(y)};lf(o,{withTypes:()=>o});const s=h=>{const y=dO(e,h);return y&&(y.unsubscribe(),h.cancelActive&&nA(y)),!!y};lf(s,{withTypes:()=>s});const u=async(h,y,v,E)=>{const S=new AbortController,b=Jne(o,S.signal),I=[];try{h.pending.add(S),await Promise.resolve(h.effect(y,lf({},v,{getOriginalState:E,condition:(R,D)=>b(R,D).then(Boolean),take:b,delay:F3(S.signal),pause:zv(S.signal),extra:n,signal:S.signal,fork:Yne(S.signal,I),unsubscribe:h.unsubscribe,subscribe:()=>{e.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((R,D,C)=>{R!==S&&(su(R,tA),C.delete(R))})},cancel:()=>{su(S,tA),h.pending.delete(S)},throwIfCancelled:()=>{au(S.signal)}})))}catch(R){R instanceof h0||hO(r,R,{raisedBy:"effect"})}finally{await Promise.all(I),su(S,Wne),h.pending.delete(S)}},c=Qne(e);return{middleware:h=>y=>v=>{if(!S3(v))return y(v);if($3.match(v))return o(v.payload);if(Xne.match(v)){c();return}if(z3.match(v))return s(v.payload);let E=h.getState();const S=()=>{if(E===fO)throw new Error(ei(23));return E};let b;try{if(b=y(v),e.size>0){const I=h.getState(),R=Array.from(e.values());for(const D of R){let C=!1;try{C=D.predicate(v,I,E)}catch(q){C=!1,hO(r,q,{raisedBy:"predicate"})}C&&u(D,v,h,S)}}}finally{E=fO}return b},startListening:o,stopListening:s,clearListeners:c}};function ei(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var ere={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},H3=ii({name:"chartLayout",initialState:ere,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:tre,setLayout:nre,setChartSize:rre,setScale:ire}=H3.actions,ore=H3.reducer;function pO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(n),!0).forEach(function(r){sre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sre(t,e,n){return(e=are(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function are(t){var e=lre(t,"string");return typeof e=="symbol"?e:e+""}function lre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hv=Math.PI/180,ure=t=>t*180/Math.PI,Zn=(t,e,n,r)=>({x:t+Math.cos(-Hv*r)*n,y:e+Math.sin(-Hv*r)*n}),cre=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},fre=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},dre=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,s=fre({x:n,y:r},{x:i,y:o});if(s<=0)return{radius:s,angle:0};var u=(n-i)/s,c=Math.acos(u);return r>o&&(c=2*Math.PI-c),{radius:s,angle:ure(c),angleInRadian:c}},hre=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},pre=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return t+s*360},mre=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:o}=dre({x:n,y:r},e),{innerRadius:s,outerRadius:u}=e;if(i<s||i>u||i===0)return null;var{startAngle:c,endAngle:f}=hre(e),h=o,y;if(c<=f){for(;h>f;)h-=360;for(;h<c;)h+=360;y=h>=c&&h<=f}else{for(;h>c;)h-=360;for(;h<f;)h+=360;y=h>=f&&h<=c}return y?mO(mO({},e),{},{radius:i,angle:pre(h,e)}):null};function G3(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ti(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(n),!0).forEach(function(r){gre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gre(t,e,n){return(e=yre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yre(t){var e=vre(t,"string");return typeof e=="symbol"?e:e+""}function vre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wr(t,e,n){return An(t)||An(e)?n:No(e)?Su(t,e,n):typeof e=="function"?e(t):n}var _re=(t,e,n,r,i)=>{var o,s=-1,u=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<u;c++){var f=c>0?n[c-1].coordinate:n[u-1].coordinate,h=n[c].coordinate,y=c>=u-1?n[0].coordinate:n[c+1].coordinate,v=void 0;if(Xr(h-f)!==Xr(y-h)){var E=[];if(Xr(y-h)===Xr(i[1]-i[0])){v=y;var S=h+i[1]-i[0];E[0]=Math.min(S,(S+f)/2),E[1]=Math.max(S,(S+f)/2)}else{v=f;var b=y+i[1]-i[0];E[0]=Math.min(h,(b+h)/2),E[1]=Math.max(h,(b+h)/2)}var I=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(t>I[0]&&t<=I[1]||t>=E[0]&&t<=E[1]){({index:s}=n[c]);break}}else{var R=Math.min(f,y),D=Math.max(f,y);if(t>(R+h)/2&&t<=(D+h)/2){({index:s}=n[c]);break}}}else if(e){for(var C=0;C<u;C++)if(C===0&&t<=(e[C].coordinate+e[C+1].coordinate)/2||C>0&&C<u-1&&t>(e[C].coordinate+e[C-1].coordinate)/2&&t<=(e[C].coordinate+e[C+1].coordinate)/2||C===u-1&&t>(e[C].coordinate+e[C-1].coordinate)/2){({index:s}=e[C]);break}}return s},Tre=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:s,layout:u}=e;if((u==="vertical"||u==="horizontal"&&s==="middle")&&o!=="center"&&De(t[o]))return Ti(Ti({},t),{},{[o]:t[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&s!=="middle"&&De(t[s]))return Ti(Ti({},t),{},{[s]:t[s]+(i||0)})}return t},Ou=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",yO=1e-4,Ere=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-yO,o=Math.max(r[0],r[1])+yO,s=t(e[0]),u=t(e[n-1]);(s<i||s>o||u<i||u>o)&&t.domain([e[0],e[n-1]])}},wre=(t,e)=>{if(!e||e.length!==2||!De(e[0])||!De(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!De(t[0])||t[0]<n)&&(i[0]=n),(!De(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Sre=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,s=0;s<e;++s){var u=Ci(t[s][n][1])?t[s][n][0]:t[s][n][1];u>=0?(t[s][n][0]=i,t[s][n][1]=i+u,i=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+u,o=t[s][n][1])}},bre=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var s=Ci(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=i,t[o][n][1]=i+s,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Are={sign:Sre,expand:rte,none:Vf,silhouette:ite,wiggle:ote,positive:bre},Ire=(t,e,n)=>{var r=Are[n],i=nte().keys(e).value((o,s)=>+wr(o,s,0)).order(Wb).offset(r);return i(t)};function Cre(t){return t==null?void 0:String(t)}var vO=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:o,index:s}=t;if(e.type==="category")return n[s]?n[s].coordinate+r:null;var u=wr(o,e.dataKey,e.scale.domain()[s]);return An(u)?null:e.scale(u)-i/2+r},xre=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Rre=t=>{var e=t.flat(2).filter(De);return[Math.min(...e),Math.max(...e)]},Pre=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Mre=(t,e,n)=>{if(t!=null)return Pre(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:s}=o,u=s.reduce((c,f)=>{var h=G3(f,e,n),y=Rre(h);return[Math.min(c[0],y[0]),Math.max(c[1],y[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},_O=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tx=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=u0(e,h=>h.coordinate),o=1/0,s=1,u=i.length;s<u;s++){var c=i[s],f=i[s-1];o=Math.min((c.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function EO(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return Ti(Ti({},e),{},{dataKey:n,payload:r,value:i,name:o})}function K3(t,e){if(t)return String(t);if(typeof e=="string")return e}function Dre(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var o=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return o?{x:t,y:e}:null}return r?mre({x:t,y:e},r):null}var Nre=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,{radius:s}=r;return Ti(Ti(Ti({},r),Zn(r.cx,r.cy,s,o)),{},{angle:o,radius:s})}var u=i.coordinate,{angle:c}=r;return Ti(Ti(Ti({},r),Zn(r.cx,r.cy,u,c)),{},{angle:c,radius:u})}return{x:0,y:0}},kre=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Ns=t=>t.layout.width,ks=t=>t.layout.height,Ore=t=>t.layout.scale,W3=t=>t.layout.margin,nx=oe(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),rx=oe(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Vre="data-recharts-item-index",Lre="data-recharts-item-data-key",m0=60;function wO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function va(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(n),!0).forEach(function(r){Ure(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ure(t,e,n){return(e=Fre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fre(t){var e=Bre(t,"string");return typeof e=="symbol"?e:e+""}function Bre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qre=t=>t.brush.height,$n=oe([Ns,ks,W3,qre,nx,rx,T3,sne],(t,e,n,r,i,o,s,u)=>{var c=o.reduce((S,b)=>{var{orientation:I}=b;if(!b.mirror&&!b.hide){var R=typeof b.width=="number"?b.width:m0;return va(va({},S),{},{[I]:S[I]+R})}return S},{left:n.left||0,right:n.right||0}),f=i.reduce((S,b)=>{var{orientation:I}=b;return!b.mirror&&!b.hide?va(va({},S),{},{[I]:Su(S,"".concat(I))+b.height}):S},{top:n.top||0,bottom:n.bottom||0}),h=va(va({},f),c),y=h.bottom;h.bottom+=r,h=Tre(h,s,u);var v=t-h.left-h.right,E=e-h.top-h.bottom;return va(va({brushBottom:y},h),{},{width:Math.max(v,0),height:Math.max(E,0)})}),$re=oe($n,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),j3=oe(Ns,ks,(t,e)=>({x:0,y:0,width:t,height:e})),zre=M.createContext(null),Ji=()=>M.useContext(zre)!=null,g0=t=>t.brush,y0=oe([g0,$n,W3],(t,e,n)=>({height:t.height,x:De(t.x)?t.x:e.left,y:De(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:De(t.width)?t.width:e.width})),ix=()=>{var t,e=Ji(),n=Le($re),r=Le(y0),i=(t=Le(g0))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Hre={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Gre=()=>{var t;return(t=Le($n))!==null&&t!==void 0?t:Hre},Kre=()=>Le(Ns),Wre=()=>Le(ks),yt=t=>t.layout.layoutType,ox=()=>Le(yt),jre={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Y3=ii({name:"legend",initialState:jre,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=ms(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:zbe,setLegendSettings:Hbe,addLegendPayload:Yre,removeLegendPayload:Jre}=Y3.actions,Qre=Y3.reducer;function rA(){return rA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rA.apply(null,arguments)}function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){Xre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xre(t,e,n){return(e=Zre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zre(t){var e=eie(t,"string");return typeof e=="symbol"?e:e+""}function eie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tie(t){return Array.isArray(t)&&No(t[0])&&No(t[1])?t.join(" ~ "):t}var nie=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:s,itemSorter:u,wrapperClassName:c,labelClassName:f,label:h,labelFormatter:y,accessibilityLayer:v=!1}=t,E=()=>{if(o&&o.length){var L={padding:0,margin:0},G=(u?u0(o,u):o).map((N,O)=>{if(N.type==="none")return null;var k=N.formatter||s||tie,{value:B,name:F}=N,$=B,z=F;if(k){var Re=k(B,F,N,O,o);if(Array.isArray(Re))[$,z]=Re;else if(Re!=null)$=Re;else return null}var we=dS({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:we},No(z)?M.createElement("span",{className:"recharts-tooltip-item-name"},z):null,No(z)?M.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,M.createElement("span",{className:"recharts-tooltip-item-value"},$),M.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:L},G)}return null},S=dS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),b=dS({margin:0},i),I=!An(h),R=I?h:"",D=Nt("recharts-default-tooltip",c),C=Nt("recharts-tooltip-label",f);I&&y&&o!==void 0&&o!==null&&(R=y(h,o));var q=v?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",rA({className:D,style:S},q),M.createElement("p",{className:C,style:b},M.isValidElement(R)?R:"".concat(R)),E())},Bh="recharts-tooltip-wrapper",rie={visibility:"hidden"};function iie(t){var{coordinate:e,translateX:n,translateY:r}=t;return Nt(Bh,{["".concat(Bh,"-right")]:De(n)&&e&&De(e.x)&&n>=e.x,["".concat(Bh,"-left")]:De(n)&&e&&De(e.x)&&n<e.x,["".concat(Bh,"-bottom")]:De(r)&&e&&De(e.y)&&r>=e.y,["".concat(Bh,"-top")]:De(r)&&e&&De(e.y)&&r<e.y})}function bO(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:u,viewBox:c,viewBoxDimension:f}=t;if(o&&De(o[r]))return o[r];var h=n[r]-u-(i>0?i:0),y=n[r]+i;if(e[r])return s[r]?h:y;var v=c[r];if(v==null)return 0;if(s[r]){var E=h,S=v;return E<S?Math.max(y,v):Math.max(h,v)}if(f==null)return 0;var b=y+u,I=v+f;return b>I?Math.max(h,v):Math.max(y,v)}function oie(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function sie(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:s,useTranslate3d:u,viewBox:c}=t,f,h,y;return s.height>0&&s.width>0&&n?(h=bO({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),y=bO({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=oie({translateX:h,translateY:y,useTranslate3d:u})):f=rie,{cssProperties:f,cssClasses:iie({translateX:h,translateY:y,coordinate:n})}}function AO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(n),!0).forEach(function(r){iA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iA(t,e,n){return(e=aie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aie(t){var e=lie(t,"string");return typeof e=="symbol"?e:e+""}function lie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class uie extends M.PureComponent{constructor(){super(...arguments),iA(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),iA(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:s,hasPayload:u,isAnimationActive:c,offset:f,position:h,reverseDirection:y,useTranslate3d:v,viewBox:E,wrapperStyle:S,lastBoundingBox:b,innerRef:I,hasPortalFromProps:R}=this.props,{cssClasses:D,cssProperties:C}=sie({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:f,position:h,reverseDirection:y,tooltipBox:{height:b.height,width:b.width},useTranslate3d:v,viewBox:E}),q=R?{}:Cy(Cy({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),L=Cy(Cy({},q),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},S);return M.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:D,style:L,ref:I},o)}}var cie=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Pm={isSsr:cie()},J3=()=>Le(t=>t.rootProps.accessibilityLayer);function ri(t){return Number.isFinite(t)}function Gv(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function oA(){return oA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oA.apply(null,arguments)}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){fie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fie(t,e,n){return(e=die(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function die(t){var e=hie(t,"string");return typeof e=="symbol"?e:e+""}function hie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xO={curveBasisClosed:Gee,curveBasisOpen:Kee,curveBasis:Hee,curveBumpX:Pee,curveBumpY:Mee,curveLinearClosed:Wee,curveLinear:a0,curveMonotoneX:jee,curveMonotoneY:Yee,curveNatural:Jee,curveStep:Qee,curveStepAfter:Zee,curveStepBefore:Xee},xy=t=>ri(t.x)&&ri(t.y),qh=t=>t.x,$h=t=>t.y,pie=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Cm(t));return(n==="curveMonotone"||n==="curveBump")&&e?xO["".concat(n).concat(e==="vertical"?"Y":"X")]:xO[n]||a0},mie=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,s=pie(e,i),u=o?n.filter(xy):n,c;if(Array.isArray(r)){var f=o?r.filter(y=>xy(y)):r,h=u.map((y,v)=>CO(CO({},y),{},{base:f[v]}));return i==="vertical"?c=Ey().y($h).x1(qh).x0(y=>y.base.x):c=Ey().x(qh).y1($h).y0(y=>y.base.y),c.defined(xy).curve(s),c(h)}return i==="vertical"&&De(r)?c=Ey().y($h).x1(qh).x0(r):De(r)?c=Ey().x(qh).y1($h).y0(r):c=Xq().x(qh).y($h),c.defined(xy).curve(s),c(u)},gie=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?mie(t):r;return M.createElement("path",oA({},o0(t),gee(t),{className:Nt("recharts-curve",e),d:o===null?void 0:o,ref:i}))},yie=["x","y","top","left","width","height","className"];function sA(){return sA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sA.apply(null,arguments)}function RO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(n),!0).forEach(function(r){_ie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ie(t,e,n){return(e=Tie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tie(t){var e=Eie(t,"string");return typeof e=="symbol"?e:e+""}function Eie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wie(t,e){if(t==null)return{};var n,r,i=Sie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bie=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),Aie=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:s=0,className:u}=t,c=wie(t,yie),f=vie({x:e,y:n,top:r,left:i,width:o,height:s},c);return!De(e)||!De(n)||!De(o)||!De(s)||!De(r)||!De(i)?null:M.createElement("path",sA({},Fn(f,!0),{className:Nt("recharts-cross",u),d:bie(e,n,o,s,r,i)}))};function Iie(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function PO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(n),!0).forEach(function(r){xie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xie(t,e,n){return(e=Rie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rie(t){var e=Pie(t,"string");return typeof e=="symbol"?e:e+""}function Pie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vu(t,e){var n=Cie({},t),r=e,i=Object.keys(e),o=i.reduce((s,u)=>(s[u]===void 0&&r[u]!==void 0&&(s[u]=r[u]),s),n);return o}var hS={},pS={},mS={},MO;function Mie(){return MO||(MO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e})(mS)),mS}var DO;function Die(){return DO||(DO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mie(),n=p3(),r=WC(),i=jC(),o=GC();function s(f,h,y){return u(f,h,void 0,void 0,void 0,void 0,y)}function u(f,h,y,v,E,S,b){const I=b(f,h,y,v,E,S);if(I!==void 0)return I;if(typeof f==typeof h)switch(typeof f){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return f===h;case"number":return f===h||Object.is(f,h);case"function":return f===h;case"object":return c(f,h,S,b)}return c(f,h,S,b)}function c(f,h,y,v){if(Object.is(f,h))return!0;let E=r.getTag(f),S=r.getTag(h);if(E===i.argumentsTag&&(E=i.objectTag),S===i.argumentsTag&&(S=i.objectTag),E!==S)return!1;switch(E){case i.stringTag:return f.toString()===h.toString();case i.numberTag:{const R=f.valueOf(),D=h.valueOf();return o.eq(R,D)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(f.valueOf(),h.valueOf());case i.regexpTag:return f.source===h.source&&f.flags===h.flags;case i.functionTag:return f===h}y=y??new Map;const b=y.get(f),I=y.get(h);if(b!=null&&I!=null)return b===h;y.set(f,h),y.set(h,f);try{switch(E){case i.mapTag:{if(f.size!==h.size)return!1;for(const[R,D]of f.entries())if(!h.has(R)||!u(D,h.get(R),R,f,h,y,v))return!1;return!0}case i.setTag:{if(f.size!==h.size)return!1;const R=Array.from(f.values()),D=Array.from(h.values());for(let C=0;C<R.length;C++){const q=R[C],L=D.findIndex(G=>u(q,G,void 0,f,h,y,v));if(L===-1)return!1;D.splice(L,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(f)!==Buffer.isBuffer(h)||f.length!==h.length)return!1;for(let R=0;R<f.length;R++)if(!u(f[R],h[R],R,f,h,y,v))return!1;return!0}case i.arrayBufferTag:return f.byteLength!==h.byteLength?!1:c(new Uint8Array(f),new Uint8Array(h),y,v);case i.dataViewTag:return f.byteLength!==h.byteLength||f.byteOffset!==h.byteOffset?!1:c(new Uint8Array(f),new Uint8Array(h),y,v);case i.errorTag:return f.name===h.name&&f.message===h.message;case i.objectTag:{if(!(c(f.constructor,h.constructor,y,v)||e.isPlainObject(f)&&e.isPlainObject(h)))return!1;const D=[...Object.keys(f),...n.getSymbols(f)],C=[...Object.keys(h),...n.getSymbols(h)];if(D.length!==C.length)return!1;for(let q=0;q<D.length;q++){const L=D[q],G=f[L];if(!Object.hasOwn(h,L))return!1;const N=h[L];if(!u(G,N,L,f,h,y,v))return!1}return!0}default:return!1}}finally{y.delete(f),y.delete(h)}}t.isEqualWith=s})(pS)),pS}var gS={},NO;function Nie(){return NO||(NO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(gS)),gS}var kO;function kie(){return kO||(kO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Die(),n=Nie();function r(i,o){return e.isEqualWith(i,o,n.noop)}t.isEqual=r})(hS)),hS}var yS,OO;function Oie(){return OO||(OO=1,yS=kie().isEqual),yS}var Vie=Oie();const Lie=Ki(Vie);var Kv=1e-4,Q3=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],X3=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),VO=(t,e)=>n=>{var r=Q3(t,e);return X3(r,n)},Uie=(t,e)=>n=>{var r=Q3(t,e),i=[...r.map((o,s)=>o*s).slice(1),0];return X3(i,n)},LO=function(){for(var e,n,r,i,o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];if(s.length===1)switch(s[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var c=s[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([e,r,n,i]=c[1].split(")")[0].split(",").map(S=>parseFloat(S)))}}else s.length===4&&([e,r,n,i]=s);var f=VO(e,n),h=VO(r,i),y=Uie(e,n),v=S=>S>1?1:S<0?0:S,E=S=>{for(var b=S>1?1:S,I=b,R=0;R<8;++R){var D=f(I)-b,C=y(I);if(Math.abs(D-b)<Kv||C<Kv)return h(I);I=v(I-D/C)}return h(I)};return E.isStepper=!1,E},Fie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(s,u,c)=>{var f=-(s-u)*n,h=c*r,y=c+(f-h)*i/1e3,v=c*i/1e3+s;return Math.abs(v-u)<Kv&&Math.abs(y)<Kv?[u,0]:[v,y]};return o.isStepper=!0,o.dt=i,o},Z3=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return LO(t);case"spring":return Fie();default:if(t.split("(")[0]==="cubic-bezier")return LO(t)}return typeof t=="function"?t:null};function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){Bie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bie(t,e,n){return(e=qie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qie(t){var e=$ie(t,"string");return typeof e=="symbol"?e:e+""}function $ie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zie=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Hie=(t,e,n)=>t.map(r=>"".concat(zie(r)," ").concat(e,"ms ").concat(n)).join(","),Gie=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Jp=(t,e)=>Object.keys(e).reduce((n,r)=>FO(FO({},n),{},{[r]:t(r,e[r])}),{});function BO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(n),!0).forEach(function(r){Kie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kie(t,e,n){return(e=Wie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wie(t){var e=jie(t,"string");return typeof e=="symbol"?e:e+""}function jie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wv=(t,e,n)=>t+(e-t)*n,aA=t=>{var{from:e,to:n}=t;return e!==n},e6=(t,e,n)=>{var r=Jp((i,o)=>{if(aA(o)){var[s,u]=t(o.from,o.to,o.velocity);return Qn(Qn({},o),{},{from:s,velocity:u})}return o},e);return n<1?Jp((i,o)=>aA(o)?Qn(Qn({},o),{},{velocity:Wv(o.velocity,r[i].velocity,n),from:Wv(o.from,r[i].from,n)}):o,e):e6(t,r,n-1)};function Yie(t,e,n,r,i,o){var s,u=r.reduce((v,E)=>Qn(Qn({},v),{},{[E]:{from:t[E],velocity:0,to:e[E]}}),{}),c=()=>Jp((v,E)=>E.from,u),f=()=>!Object.values(u).filter(aA).length,h=null,y=v=>{s||(s=v);var E=v-s,S=E/n.dt;u=e6(n,u,S),i(Qn(Qn(Qn({},t),e),c())),s=v,f()||(h=o.setTimeout(y))};return()=>(h=o.setTimeout(y),()=>{h()})}function Jie(t,e,n,r,i,o,s){var u=null,c=i.reduce((y,v)=>Qn(Qn({},y),{},{[v]:[t[v],e[v]]}),{}),f,h=y=>{f||(f=y);var v=(y-f)/r,E=Jp((b,I)=>Wv(...I,n(v)),c);if(o(Qn(Qn(Qn({},t),e),E)),v<1)u=s.setTimeout(h);else{var S=Jp((b,I)=>Wv(...I,n(1)),c);o(Qn(Qn(Qn({},t),e),S))}};return()=>(u=s.setTimeout(h),()=>{u()})}const t6=(t,e,n,r,i,o)=>{var s=Gie(t,e);return n.isStepper===!0?Yie(t,e,n,s,i,o):Jie(t,e,n,r,s,i,o)};function Qie(t){var e,n=()=>null,r=!1,i=null,o=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var u=s,[c,...f]=u;if(typeof c=="number"){i=t.setTimeout(o.bind(null,f),c);return}o(c),i=t.setTimeout(o.bind(null,f));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),o(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class Xie{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}function Zie(){return Qie(new Xie)}var eoe=M.createContext(Zie);function n6(t,e){var n=M.useContext(eoe);return M.useMemo(()=>e??n(t),[t,e,n])}var toe=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function lA(){return lA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lA.apply(null,arguments)}function noe(t,e){if(t==null)return{};var n,r,i=roe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function roe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(n),!0).forEach(function(r){eu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eu(t,e,n){return(e=ioe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ioe(t){var e=ooe(t,"string");return typeof e=="symbol"?e:e+""}function ooe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class sx extends M.PureComponent{constructor(e,n){super(e,n),eu(this,"mounted",!1),eu(this,"manager",void 0),eu(this,"stopJSAnimation",null),eu(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:o,to:s,children:u,duration:c,animationManager:f}=this.props;if(this.manager=f,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||c<=0){this.state={style:{}},typeof u=="function"&&(this.state={style:s});return}if(o){if(typeof u=="function"){this.state={style:o};return}this.state={style:i?{[i]:o}:o}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:o,to:s,from:u}=this.props,{style:c}=this.state;if(r){if(!n){var f={style:i?{[i]:s}:s};this.state&&c&&(i&&c[i]!==s||!i&&c!==s)&&this.setState(f);return}if(!(Lie(e.to,s)&&e.canBegin&&e.isActive)){var h=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=h||o?u:e.to;if(this.state&&c){var v={style:i?{[i]:y}:y};(i&&c[i]!==y||!i&&c!==y)&&this.setState(v)}this.runAnimation(_a(_a({},this.props),{},{from:y,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:o,begin:s,onAnimationEnd:u,onAnimationStart:c}=e,f=t6(n,r,Z3(o),i,this.changeStyle,this.manager.getTimeoutController()),h=()=>{this.stopJSAnimation=f()};this.manager.start([c,s,h,i,u])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:o,easing:s,onAnimationStart:u,onAnimationEnd:c,children:f}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof s=="function"||typeof f=="function"||s==="spring"){this.runJSAnimation(e);return}var h=i?{[i]:o}:o,y=Hie(Object.keys(h),r,s);this.manager.start([u,n,_a(_a({},h),{},{transition:y}),r,c])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:o,easing:s,isActive:u,from:c,to:f,canBegin:h,onAnimationEnd:y,shouldReAnimate:v,onAnimationReStart:E,animationManager:S}=e,b=noe(e,toe),I=M.Children.count(n),R=this.state.style;if(typeof n=="function")return n(R);if(!u||I===0||i<=0)return n;var D=C=>{var{style:q={},className:L}=C.props,G=M.cloneElement(C,_a(_a({},b),{},{style:_a(_a({},q),R),className:L}));return G};return I===1?D(M.Children.only(n)):M.createElement("div",null,M.Children.map(n,C=>D(C)))}}eu(sx,"displayName","Animate");eu(sx,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function jv(t){var e,n=n6((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return M.createElement(sx,lA({},t,{animationManager:n}))}function Yv(){return Yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yv.apply(null,arguments)}var $O=(t,e,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,u=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,f;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],y=0,v=4;y<v;y++)h[y]=i[y]>o?o:i[y];f="M".concat(t,",").concat(e+s*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(t+u*h[0],",").concat(e)),f+="L ".concat(t+n-u*h[1],",").concat(e),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(e+s*h[1])),f+="L ".concat(t+n,",").concat(e+r-s*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(t+n-u*h[2],",").concat(e+r)),f+="L ".concat(t+u*h[3],",").concat(e+r),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+r-s*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var E=Math.min(o,i);f="M ".concat(t,",").concat(e+s*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(c,",").concat(t+u*E,",").concat(e,`
            L `).concat(t+n-u*E,",").concat(e,`
            A `).concat(E,",").concat(E,",0,0,").concat(c,",").concat(t+n,",").concat(e+s*E,`
            L `).concat(t+n,",").concat(e+r-s*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(c,",").concat(t+n-u*E,",").concat(e+r,`
            L `).concat(t+u*E,",").concat(e+r,`
            A `).concat(E,",").concat(E,",0,0,").concat(c,",").concat(t,",").concat(e+r-s*E," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},soe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},r6=t=>{var e=Vu(t,soe),n=M.useRef(null),[r,i]=M.useState(-1);M.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var R=n.current.getTotalLength();R&&i(R)}catch{}},[]);var{x:o,y:s,width:u,height:c,radius:f,className:h}=e,{animationEasing:y,animationDuration:v,animationBegin:E,isAnimationActive:S,isUpdateAnimationActive:b}=e;if(o!==+o||s!==+s||u!==+u||c!==+c||u===0||c===0)return null;var I=Nt("recharts-rectangle",h);return b?M.createElement(jv,{canBegin:r>0,from:{width:u,height:c,x:o,y:s},to:{width:u,height:c,x:o,y:s},duration:v,animationEasing:y,isActive:b},R=>{var{width:D,height:C,x:q,y:L}=R;return M.createElement(jv,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:E,duration:v,isActive:S,easing:y},M.createElement("path",Yv({},Fn(e,!0),{className:I,d:$O(q,L,D,C,f),ref:n})))}):M.createElement("path",Yv({},Fn(e,!0),{className:I,d:$O(o,s,u,c,f)}))};function i6(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,s=Zn(e,n,r,i),u=Zn(e,n,r,o);return{points:[s,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function uA(){return uA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uA.apply(null,arguments)}var aoe=(t,e)=>{var n=Xr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Ry=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:s,cornerRadius:u,cornerIsExternal:c}=t,f=u*(s?1:-1)+r,h=Math.asin(u/f)/Hv,y=c?i:i+o*h,v=Zn(e,n,f,y),E=Zn(e,n,r,y),S=c?i-o*h:i,b=Zn(e,n,f*Math.cos(h*Hv),S);return{center:v,circleTangency:E,lineTangency:b,theta:h}},o6=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:s}=t,u=aoe(o,s),c=o+u,f=Zn(e,n,i,o),h=Zn(e,n,i,c),y="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var v=Zn(e,n,r,o),E=Zn(e,n,r,c);y+="L ".concat(E.x,",").concat(E.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=c),`,
            `).concat(v.x,",").concat(v.y," Z")}else y+="L ".concat(e,",").concat(n," Z");return y},loe=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:u,startAngle:c,endAngle:f}=t,h=Xr(f-c),{circleTangency:y,lineTangency:v,theta:E}=Ry({cx:e,cy:n,radius:i,angle:c,sign:h,cornerRadius:o,cornerIsExternal:u}),{circleTangency:S,lineTangency:b,theta:I}=Ry({cx:e,cy:n,radius:i,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:u}),R=u?Math.abs(c-f):Math.abs(c-f)-E-I;if(R<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):o6({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:f});var D="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(r>0){var{circleTangency:C,lineTangency:q,theta:L}=Ry({cx:e,cy:n,radius:r,angle:c,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:G,lineTangency:N,theta:O}=Ry({cx:e,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),k=u?Math.abs(c-f):Math.abs(c-f)-L-O;if(k<0&&o===0)return"".concat(D,"L").concat(e,",").concat(n,"Z");D+="L".concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(G.x,",").concat(G.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(h>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(q.x,",").concat(q.y,"Z")}else D+="L".concat(e,",").concat(n,"Z");return D},uoe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},s6=t=>{var e=Vu(t,uoe),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:s,forceCornerRadius:u,cornerIsExternal:c,startAngle:f,endAngle:h,className:y}=e;if(o<i||f===h)return null;var v=Nt("recharts-sector",y),E=o-i,S=Gi(s,E,0,!0),b;return S>0&&Math.abs(f-h)<360?b=loe({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(S,E/2),forceCornerRadius:u,cornerIsExternal:c,startAngle:f,endAngle:h}):b=o6({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h}),M.createElement("path",uA({},Fn(e,!0),{className:v,d:b}))};function coe(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:u,cy:c,innerRadius:f,outerRadius:h,angle:y}=e,v=Zn(u,c,f,y),E=Zn(u,c,h,y);r=v.x,i=v.y,o=E.x,s=E.y}else return i6(e);return[{x:r,y:i},{x:o,y:s}]}var vS={},_S={},TS={},zO;function foe(){return zO||(zO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=v3();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(TS)),TS}var HO;function doe(){return HO||(HO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=foe();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(_S)),_S}var GO;function hoe(){return GO||(GO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_3(),n=doe();function r(i,o,s){s&&typeof s!="number"&&e.isIterateeCall(i,o,s)&&(o=s=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),s=s===void 0?i<o?1:-1:n.toFinite(s);const u=Math.max(Math.ceil((o-i)/(s||1)),0),c=new Array(u);for(let f=0;f<u;f++)c[f]=i,i+=s;return c}t.range=r})(vS)),vS}var ES,KO;function poe(){return KO||(KO=1,ES=hoe().range),ES}var moe=poe();const a6=Ki(moe);function Na(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function goe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ax(t){let e,n,r;t.length!==2?(e=Na,n=(u,c)=>Na(t(u),c),r=(u,c)=>t(u)-c):(e=t===Na||t===goe?t:yoe,n=t,r=t);function i(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const y=f+h>>>1;n(u[y],c)<0?f=y+1:h=y}while(f<h)}return f}function o(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const y=f+h>>>1;n(u[y],c)<=0?f=y+1:h=y}while(f<h)}return f}function s(u,c,f=0,h=u.length){const y=i(u,c,f,h-1);return y>f&&r(u[y-1],c)>-r(u[y],c)?y-1:y}return{left:i,center:s,right:o}}function yoe(){return 0}function l6(t){return t===null?NaN:+t}function*voe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const _oe=ax(Na),Mm=_oe.right;ax(l6).center;class WO extends Map{constructor(e,n=woe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(jO(this,e))}has(e){return super.has(jO(this,e))}set(e,n){return super.set(Toe(this,e),n)}delete(e){return super.delete(Eoe(this,e))}}function jO({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Toe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Eoe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function woe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Soe(t=Na){if(t===Na)return u6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function u6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const boe=Math.sqrt(50),Aoe=Math.sqrt(10),Ioe=Math.sqrt(2);function Jv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=boe?10:o>=Aoe?5:o>=Ioe?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/s,u=Math.round(t*f),c=Math.round(e*f),u/f<t&&++u,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,u=Math.round(t/f),c=Math.round(e/f),u*f<t&&++u,c*f>e&&--c),c<u&&.5<=n&&n<2?Jv(t,e,n*2):[u,c,f]}function cA(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Jv(e,t,n):Jv(t,e,n);if(!(o>=i))return[];const u=o-i+1,c=new Array(u);if(r)if(s<0)for(let f=0;f<u;++f)c[f]=(o-f)/-s;else for(let f=0;f<u;++f)c[f]=(o-f)*s;else if(s<0)for(let f=0;f<u;++f)c[f]=(i+f)/-s;else for(let f=0;f<u;++f)c[f]=(i+f)*s;return c}function fA(t,e,n){return e=+e,t=+t,n=+n,Jv(t,e,n)[2]}function dA(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?fA(e,t,n):fA(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function YO(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function JO(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function c6(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?u6:Soe(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),y=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*y*(c-y)/c)*(f-c/2<0?-1:1),E=Math.max(n,Math.floor(e-f*y/c+v)),S=Math.min(r,Math.floor(e+(c-f)*y/c+v));c6(t,e,E,S,i)}const o=t[e];let s=n,u=r;for(zh(t,n,e),i(t[r],o)>0&&zh(t,n,r);s<u;){for(zh(t,s,u),++s,--u;i(t[s],o)<0;)++s;for(;i(t[u],o)>0;)--u}i(t[n],o)===0?zh(t,n,u):(++u,zh(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function zh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Coe(t,e,n){if(t=Float64Array.from(voe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return JO(t);if(e>=1)return YO(t);var r,i=(r-1)*e,o=Math.floor(i),s=YO(c6(t,o).subarray(0,o+1)),u=JO(t.subarray(o+1));return s+(u-s)*(i-o)}}function xoe(t,e,n=l6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return s+(u-s)*(i-o)}}function Roe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Pi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Os(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const hA=Symbol("implicit");function lx(){var t=new WO,e=[],n=[],r=hA;function i(o){let s=t.get(o);if(s===void 0){if(r!==hA)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new WO;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return lx(e,n).unknown(r)},Pi.apply(i,arguments),i}function ux(){var t=lx().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,u=!1,c=0,f=0,h=.5;delete t.unknown;function y(){var v=e().length,E=i<r,S=E?i:r,b=E?r:i;o=(b-S)/Math.max(1,v-c+f*2),u&&(o=Math.floor(o)),S+=(b-S-o*(v-c))*h,s=o*(1-c),u&&(S=Math.round(S),s=Math.round(s));var I=Roe(v).map(function(R){return S+o*R});return n(E?I.reverse():I)}return t.domain=function(v){return arguments.length?(e(v),y()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,y()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,u=!0,y()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(v){return arguments.length?(u=!!v,y()):u},t.padding=function(v){return arguments.length?(c=Math.min(1,f=+v),y()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),y()):c},t.paddingOuter=function(v){return arguments.length?(f=+v,y()):f},t.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),y()):h},t.copy=function(){return ux(e(),[r,i]).round(u).paddingInner(c).paddingOuter(f).align(h)},Pi.apply(y(),arguments)}function f6(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return f6(e())},t}function Poe(){return f6(ux.apply(null,arguments).paddingInner(1))}function cx(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function d6(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Dm(){}var Qp=.7,Qv=1/Qp,uf="\\s*([+-]?\\d+)\\s*",Xp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Co="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Moe=/^#([0-9a-f]{3,8})$/,Doe=new RegExp(`^rgb\\(${uf},${uf},${uf}\\)$`),Noe=new RegExp(`^rgb\\(${Co},${Co},${Co}\\)$`),koe=new RegExp(`^rgba\\(${uf},${uf},${uf},${Xp}\\)$`),Ooe=new RegExp(`^rgba\\(${Co},${Co},${Co},${Xp}\\)$`),Voe=new RegExp(`^hsl\\(${Xp},${Co},${Co}\\)$`),Loe=new RegExp(`^hsla\\(${Xp},${Co},${Co},${Xp}\\)$`),QO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cx(Dm,Zp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:XO,formatHex:XO,formatHex8:Uoe,formatHsl:Foe,formatRgb:ZO,toString:ZO});function XO(){return this.rgb().formatHex()}function Uoe(){return this.rgb().formatHex8()}function Foe(){return h6(this).formatHsl()}function ZO(){return this.rgb().formatRgb()}function Zp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Moe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?e2(e):n===3?new Nr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Py(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Py(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Doe.exec(t))?new Nr(e[1],e[2],e[3],1):(e=Noe.exec(t))?new Nr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=koe.exec(t))?Py(e[1],e[2],e[3],e[4]):(e=Ooe.exec(t))?Py(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Voe.exec(t))?r2(e[1],e[2]/100,e[3]/100,1):(e=Loe.exec(t))?r2(e[1],e[2]/100,e[3]/100,e[4]):QO.hasOwnProperty(t)?e2(QO[t]):t==="transparent"?new Nr(NaN,NaN,NaN,0):null}function e2(t){return new Nr(t>>16&255,t>>8&255,t&255,1)}function Py(t,e,n,r){return r<=0&&(t=e=n=NaN),new Nr(t,e,n,r)}function Boe(t){return t instanceof Dm||(t=Zp(t)),t?(t=t.rgb(),new Nr(t.r,t.g,t.b,t.opacity)):new Nr}function pA(t,e,n,r){return arguments.length===1?Boe(t):new Nr(t,e,n,r??1)}function Nr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}cx(Nr,pA,d6(Dm,{brighter(t){return t=t==null?Qv:Math.pow(Qv,t),new Nr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Qp:Math.pow(Qp,t),new Nr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Nr(lu(this.r),lu(this.g),lu(this.b),Xv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:t2,formatHex:t2,formatHex8:qoe,formatRgb:n2,toString:n2}));function t2(){return`#${tu(this.r)}${tu(this.g)}${tu(this.b)}`}function qoe(){return`#${tu(this.r)}${tu(this.g)}${tu(this.b)}${tu((isNaN(this.opacity)?1:this.opacity)*255)}`}function n2(){const t=Xv(this.opacity);return`${t===1?"rgb(":"rgba("}${lu(this.r)}, ${lu(this.g)}, ${lu(this.b)}${t===1?")":`, ${t})`}`}function Xv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function lu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function tu(t){return t=lu(t),(t<16?"0":"")+t.toString(16)}function r2(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Fi(t,e,n,r)}function h6(t){if(t instanceof Fi)return new Fi(t.h,t.s,t.l,t.opacity);if(t instanceof Dm||(t=Zp(t)),!t)return new Fi;if(t instanceof Fi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,u=o-i,c=(o+i)/2;return u?(e===o?s=(n-r)/u+(n<r)*6:n===o?s=(r-e)/u+2:s=(e-n)/u+4,u/=c<.5?o+i:2-o-i,s*=60):u=c>0&&c<1?0:s,new Fi(s,u,c,t.opacity)}function $oe(t,e,n,r){return arguments.length===1?h6(t):new Fi(t,e,n,r??1)}function Fi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}cx(Fi,$oe,d6(Dm,{brighter(t){return t=t==null?Qv:Math.pow(Qv,t),new Fi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qp:Math.pow(Qp,t),new Fi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Nr(wS(t>=240?t-240:t+120,i,r),wS(t,i,r),wS(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Fi(i2(this.h),My(this.s),My(this.l),Xv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Xv(this.opacity);return`${t===1?"hsl(":"hsla("}${i2(this.h)}, ${My(this.s)*100}%, ${My(this.l)*100}%${t===1?")":`, ${t})`}`}}));function i2(t){return t=(t||0)%360,t<0?t+360:t}function My(t){return Math.max(0,Math.min(1,t||0))}function wS(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const fx=t=>()=>t;function zoe(t,e){return function(n){return t+n*e}}function Hoe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Goe(t){return(t=+t)==1?p6:function(e,n){return n-e?Hoe(e,n,t):fx(isNaN(e)?n:e)}}function p6(t,e){var n=e-t;return n?zoe(t,n):fx(isNaN(t)?e:t)}const o2=(function t(e){var n=Goe(e);function r(i,o){var s=n((i=pA(i)).r,(o=pA(o)).r),u=n(i.g,o.g),c=n(i.b,o.b),f=p6(i.opacity,o.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function Koe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Woe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function joe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=ld(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(u){for(s=0;s<r;++s)o[s]=i[s](u);return o}}function Yoe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Zv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Joe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ld(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var mA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,SS=new RegExp(mA.source,"g");function Qoe(t){return function(){return t}}function Xoe(t){return function(e){return t(e)+""}}function Zoe(t,e){var n=mA.lastIndex=SS.lastIndex=0,r,i,o,s=-1,u=[],c=[];for(t=t+"",e=e+"";(r=mA.exec(t))&&(i=SS.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[s]?u[s]+=o:u[++s]=o),(r=r[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:Zv(r,i)})),n=SS.lastIndex;return n<e.length&&(o=e.slice(n),u[s]?u[s]+=o:u[++s]=o),u.length<2?c[0]?Xoe(c[0].x):Qoe(e):(e=c.length,function(f){for(var h=0,y;h<e;++h)u[(y=c[h]).i]=y.x(f);return u.join("")})}function ld(t,e){var n=typeof e,r;return e==null||n==="boolean"?fx(e):(n==="number"?Zv:n==="string"?(r=Zp(e))?(e=r,o2):Zoe:e instanceof Zp?o2:e instanceof Date?Yoe:Woe(e)?Koe:Array.isArray(e)?joe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Joe:Zv)(t,e)}function dx(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ese(t,e){e===void 0&&(e=t,t=ld);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var u=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[u](s-u)}}function tse(t){return function(){return t}}function e_(t){return+t}var s2=[0,1];function _r(t){return t}function gA(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:tse(isNaN(e)?NaN:.5)}function nse(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function rse(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=gA(i,r),o=n(s,o)):(r=gA(r,i),o=n(o,s)),function(u){return o(r(u))}}function ise(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=gA(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(u){var c=Mm(t,u,1,r)-1;return o[c](i[c](u))}}function Nm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function v0(){var t=s2,e=s2,n=ld,r,i,o,s=_r,u,c,f;function h(){var v=Math.min(t.length,e.length);return s!==_r&&(s=nse(t[0],t[v-1])),u=v>2?ise:rse,c=f=null,y}function y(v){return v==null||isNaN(v=+v)?o:(c||(c=u(t.map(r),e,n)))(r(s(v)))}return y.invert=function(v){return s(i((f||(f=u(e,t.map(r),Zv)))(v)))},y.domain=function(v){return arguments.length?(t=Array.from(v,e_),h()):t.slice()},y.range=function(v){return arguments.length?(e=Array.from(v),h()):e.slice()},y.rangeRound=function(v){return e=Array.from(v),n=dx,h()},y.clamp=function(v){return arguments.length?(s=v?!0:_r,h()):s!==_r},y.interpolate=function(v){return arguments.length?(n=v,h()):n},y.unknown=function(v){return arguments.length?(o=v,y):o},function(v,E){return r=v,i=E,h()}}function hx(){return v0()(_r,_r)}function ose(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function t_(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Uf(t){return t=t_(Math.abs(t)),t?t[1]:NaN}function sse(t,e){return function(n,r){for(var i=n.length,o=[],s=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[s=(s+1)%t.length];return o.reverse().join(e)}}function ase(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var lse=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function em(t){if(!(e=lse.exec(t)))throw new Error("invalid format: "+t);var e;return new px({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}em.prototype=px.prototype;function px(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}px.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function use(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var m6;function cse(t,e){var n=t_(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(m6=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+t_(t,Math.max(0,e+o-1))[0]}function a2(t,e){var n=t_(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const l2={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ose,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>a2(t*100,e),r:a2,s:cse,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function u2(t){return t}var c2=Array.prototype.map,f2=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function fse(t){var e=t.grouping===void 0||t.thousands===void 0?u2:sse(c2.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?u2:ase(c2.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(y){y=em(y);var v=y.fill,E=y.align,S=y.sign,b=y.symbol,I=y.zero,R=y.width,D=y.comma,C=y.precision,q=y.trim,L=y.type;L==="n"?(D=!0,L="g"):l2[L]||(C===void 0&&(C=12),q=!0,L="g"),(I||v==="0"&&E==="=")&&(I=!0,v="0",E="=");var G=b==="$"?n:b==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",N=b==="$"?r:/[%p]/.test(L)?s:"",O=l2[L],k=/[defgprs%]/.test(L);C=C===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function B(F){var $=G,z=N,Re,we,ee;if(L==="c")z=O(F)+z,F="";else{F=+F;var pe=F<0||1/F<0;if(F=isNaN(F)?c:O(Math.abs(F),C),q&&(F=use(F)),pe&&+F==0&&S!=="+"&&(pe=!1),$=(pe?S==="("?S:u:S==="-"||S==="("?"":S)+$,z=(L==="s"?f2[8+m6/3]:"")+z+(pe&&S==="("?")":""),k){for(Re=-1,we=F.length;++Re<we;)if(ee=F.charCodeAt(Re),48>ee||ee>57){z=(ee===46?i+F.slice(Re+1):F.slice(Re))+z,F=F.slice(0,Re);break}}}D&&!I&&(F=e(F,1/0));var Se=$.length+F.length+z.length,Be=Se<R?new Array(R-Se+1).join(v):"";switch(D&&I&&(F=e(Be+F,Be.length?R-z.length:1/0),Be=""),E){case"<":F=$+F+z+Be;break;case"=":F=$+Be+F+z;break;case"^":F=Be.slice(0,Se=Be.length>>1)+$+F+z+Be.slice(Se);break;default:F=Be+$+F+z;break}return o(F)}return B.toString=function(){return y+""},B}function h(y,v){var E=f((y=em(y),y.type="f",y)),S=Math.max(-8,Math.min(8,Math.floor(Uf(v)/3)))*3,b=Math.pow(10,-S),I=f2[8+S/3];return function(R){return E(b*R)+I}}return{format:f,formatPrefix:h}}var Dy,mx,g6;dse({thousands:",",grouping:[3],currency:["$",""]});function dse(t){return Dy=fse(t),mx=Dy.format,g6=Dy.formatPrefix,Dy}function hse(t){return Math.max(0,-Uf(Math.abs(t)))}function pse(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Uf(e)/3)))*3-Uf(Math.abs(t)))}function mse(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Uf(e)-Uf(t))+1}function y6(t,e,n,r){var i=dA(t,e,n),o;switch(r=em(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=pse(i,s))&&(r.precision=o),g6(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=mse(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=hse(i))&&(r.precision=o-(r.type==="%")*2);break}}return mx(r)}function el(t){var e=t.domain;return t.ticks=function(n){var r=e();return cA(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return y6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],u=r[o],c,f,h=10;for(u<s&&(f=s,s=u,u=f,f=i,i=o,o=f);h-- >0;){if(f=fA(s,u,n),f===c)return r[i]=s,r[o]=u,e(r);if(f>0)s=Math.floor(s/f)*f,u=Math.ceil(u/f)*f;else if(f<0)s=Math.ceil(s*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function v6(){var t=hx();return t.copy=function(){return Nm(t,v6())},Pi.apply(t,arguments),el(t)}function _6(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,e_),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return _6(t).unknown(e)},t=arguments.length?Array.from(t,e_):[0,1],el(n)}function T6(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function d2(t){return Math.log(t)}function h2(t){return Math.exp(t)}function gse(t){return-Math.log(-t)}function yse(t){return-Math.exp(-t)}function vse(t){return isFinite(t)?+("1e"+t):t<0?0:t}function _se(t){return t===10?vse:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Tse(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function p2(t){return(e,n)=>-t(-e,n)}function gx(t){const e=t(d2,h2),n=e.domain;let r=10,i,o;function s(){return i=Tse(r),o=_se(r),n()[0]<0?(i=p2(i),o=p2(o),t(gse,yse)):t(d2,h2),e}return e.base=function(u){return arguments.length?(r=+u,s()):r},e.domain=function(u){return arguments.length?(n(u),s()):n()},e.ticks=u=>{const c=n();let f=c[0],h=c[c.length-1];const y=h<f;y&&([f,h]=[h,f]);let v=i(f),E=i(h),S,b;const I=u==null?10:+u;let R=[];if(!(r%1)&&E-v<I){if(v=Math.floor(v),E=Math.ceil(E),f>0){for(;v<=E;++v)for(S=1;S<r;++S)if(b=v<0?S/o(-v):S*o(v),!(b<f)){if(b>h)break;R.push(b)}}else for(;v<=E;++v)for(S=r-1;S>=1;--S)if(b=v>0?S/o(-v):S*o(v),!(b<f)){if(b>h)break;R.push(b)}R.length*2<I&&(R=cA(f,h,I))}else R=cA(v,E,Math.min(E-v,I)).map(o);return y?R.reverse():R},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=em(c)).precision==null&&(c.trim=!0),c=mx(c)),u===1/0)return c;const f=Math.max(1,r*u/e.ticks().length);return h=>{let y=h/o(Math.round(i(h)));return y*r<r-.5&&(y*=r),y<=f?c(h):""}},e.nice=()=>n(T6(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function E6(){const t=gx(v0()).domain([1,10]);return t.copy=()=>Nm(t,E6()).base(t.base()),Pi.apply(t,arguments),t}function m2(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function g2(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function yx(t){var e=1,n=t(m2(e),g2(e));return n.constant=function(r){return arguments.length?t(m2(e=+r),g2(e)):e},el(n)}function w6(){var t=yx(v0());return t.copy=function(){return Nm(t,w6()).constant(t.constant())},Pi.apply(t,arguments)}function y2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ese(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function wse(t){return t<0?-t*t:t*t}function vx(t){var e=t(_r,_r),n=1;function r(){return n===1?t(_r,_r):n===.5?t(Ese,wse):t(y2(n),y2(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},el(e)}function _x(){var t=vx(v0());return t.copy=function(){return Nm(t,_x()).exponent(t.exponent())},Pi.apply(t,arguments),t}function Sse(){return _x.apply(null,arguments).exponent(.5)}function v2(t){return Math.sign(t)*t*t}function bse(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function S6(){var t=hx(),e=[0,1],n=!1,r;function i(o){var s=bse(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(v2(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,e_)).map(v2)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return S6(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Pi.apply(i,arguments),el(i)}function b6(){var t=[],e=[],n=[],r;function i(){var s=0,u=Math.max(1,e.length);for(n=new Array(u-1);++s<u;)n[s-1]=xoe(t,s/u);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Mm(n,s)]}return o.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Na),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return b6().domain(t).range(e).unknown(r)},Pi.apply(o,arguments)}function A6(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(c){return c!=null&&c<=c?i[Mm(r,c,0,n)]:o}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(c){return arguments.length&&(o=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return A6().domain([t,e]).range(i).unknown(o)},Pi.apply(el(s),arguments)}function I6(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Mm(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return I6().domain(t).range(e).unknown(n)},Pi.apply(i,arguments)}const bS=new Date,AS=new Date;function Cn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),u=i.ceil(o);return o-s<u-o?s:u},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,u)=>{const c=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<s)||!(u>0))return c;let f;do c.push(f=new Date(+o)),e(o,u),t(o);while(f<o&&o<s);return c},i.filter=o=>Cn(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!o(s););else for(;--u>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(bS.setTime(+o),AS.setTime(+s),t(bS),t(AS),Math.floor(n(bS,AS))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const n_=Cn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);n_.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Cn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):n_);n_.range;const fs=1e3,wi=fs*60,ds=wi*60,Ss=ds*24,Tx=Ss*7,_2=Ss*30,IS=Ss*365,nu=Cn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*fs)},(t,e)=>(e-t)/fs,t=>t.getUTCSeconds());nu.range;const Ex=Cn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fs)},(t,e)=>{t.setTime(+t+e*wi)},(t,e)=>(e-t)/wi,t=>t.getMinutes());Ex.range;const wx=Cn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*wi)},(t,e)=>(e-t)/wi,t=>t.getUTCMinutes());wx.range;const Sx=Cn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fs-t.getMinutes()*wi)},(t,e)=>{t.setTime(+t+e*ds)},(t,e)=>(e-t)/ds,t=>t.getHours());Sx.range;const bx=Cn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ds)},(t,e)=>(e-t)/ds,t=>t.getUTCHours());bx.range;const km=Cn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*wi)/Ss,t=>t.getDate()-1);km.range;const _0=Cn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ss,t=>t.getUTCDate()-1);_0.range;const C6=Cn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ss,t=>Math.floor(t/Ss));C6.range;function Lu(t){return Cn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*wi)/Tx)}const T0=Lu(0),r_=Lu(1),Ase=Lu(2),Ise=Lu(3),Ff=Lu(4),Cse=Lu(5),xse=Lu(6);T0.range;r_.range;Ase.range;Ise.range;Ff.range;Cse.range;xse.range;function Uu(t){return Cn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Tx)}const E0=Uu(0),i_=Uu(1),Rse=Uu(2),Pse=Uu(3),Bf=Uu(4),Mse=Uu(5),Dse=Uu(6);E0.range;i_.range;Rse.range;Pse.range;Bf.range;Mse.range;Dse.range;const Ax=Cn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Ax.range;const Ix=Cn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Ix.range;const bs=Cn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());bs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Cn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});bs.range;const As=Cn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());As.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Cn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});As.range;function x6(t,e,n,r,i,o){const s=[[nu,1,fs],[nu,5,5*fs],[nu,15,15*fs],[nu,30,30*fs],[o,1,wi],[o,5,5*wi],[o,15,15*wi],[o,30,30*wi],[i,1,ds],[i,3,3*ds],[i,6,6*ds],[i,12,12*ds],[r,1,Ss],[r,2,2*Ss],[n,1,Tx],[e,1,_2],[e,3,3*_2],[t,1,IS]];function u(f,h,y){const v=h<f;v&&([f,h]=[h,f]);const E=y&&typeof y.range=="function"?y:c(f,h,y),S=E?E.range(f,+h+1):[];return v?S.reverse():S}function c(f,h,y){const v=Math.abs(h-f)/y,E=ax(([,,I])=>I).right(s,v);if(E===s.length)return t.every(dA(f/IS,h/IS,y));if(E===0)return n_.every(Math.max(dA(f,h,y),1));const[S,b]=s[v/s[E-1][2]<s[E][2]/v?E-1:E];return S.every(b)}return[u,c]}const[Nse,kse]=x6(As,Ix,E0,C6,bx,wx),[Ose,Vse]=x6(bs,Ax,T0,km,Sx,Ex);function CS(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function xS(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Hh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Lse(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,u=t.months,c=t.shortMonths,f=Gh(i),h=Kh(i),y=Gh(o),v=Kh(o),E=Gh(s),S=Kh(s),b=Gh(u),I=Kh(u),R=Gh(c),D=Kh(c),C={a:pe,A:Se,b:Be,B:W,c:null,d:A2,e:A2,f:sae,g:gae,G:vae,H:rae,I:iae,j:oae,L:R6,m:aae,M:lae,p:ce,q:ae,Q:x2,s:R2,S:uae,u:cae,U:fae,V:dae,w:hae,W:pae,x:null,X:null,y:mae,Y:yae,Z:_ae,"%":C2},q={a:ge,A:Pe,b:ke,B:Ue,c:null,d:I2,e:I2,f:Sae,g:Nae,G:Oae,H:Tae,I:Eae,j:wae,L:M6,m:bae,M:Aae,p:sn,q:vt,Q:x2,s:R2,S:Iae,u:Cae,U:xae,V:Rae,w:Pae,W:Mae,x:null,X:null,y:Dae,Y:kae,Z:Vae,"%":C2},L={a:B,A:F,b:$,B:z,c:Re,d:S2,e:S2,f:Zse,g:w2,G:E2,H:b2,I:b2,j:Yse,L:Xse,m:jse,M:Jse,p:k,q:Wse,Q:tae,s:nae,S:Qse,u:$se,U:zse,V:Hse,w:qse,W:Gse,x:we,X:ee,y:w2,Y:E2,Z:Kse,"%":eae};C.x=G(n,C),C.X=G(r,C),C.c=G(e,C),q.x=G(n,q),q.X=G(r,q),q.c=G(e,q);function G(Te,$e){return function(ze){var he=[],Gt=-1,Ze=0,yn=Te.length,Pn,an,$u;for(ze instanceof Date||(ze=new Date(+ze));++Gt<yn;)Te.charCodeAt(Gt)===37&&(he.push(Te.slice(Ze,Gt)),(an=T2[Pn=Te.charAt(++Gt)])!=null?Pn=Te.charAt(++Gt):an=Pn==="e"?" ":"0",($u=$e[Pn])&&(Pn=$u(ze,an)),he.push(Pn),Ze=Gt+1);return he.push(Te.slice(Ze,Gt)),he.join("")}}function N(Te,$e){return function(ze){var he=Hh(1900,void 0,1),Gt=O(he,Te,ze+="",0),Ze,yn;if(Gt!=ze.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if($e&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Ze=xS(Hh(he.y,0,1)),yn=Ze.getUTCDay(),Ze=yn>4||yn===0?i_.ceil(Ze):i_(Ze),Ze=_0.offset(Ze,(he.V-1)*7),he.y=Ze.getUTCFullYear(),he.m=Ze.getUTCMonth(),he.d=Ze.getUTCDate()+(he.w+6)%7):(Ze=CS(Hh(he.y,0,1)),yn=Ze.getDay(),Ze=yn>4||yn===0?r_.ceil(Ze):r_(Ze),Ze=km.offset(Ze,(he.V-1)*7),he.y=Ze.getFullYear(),he.m=Ze.getMonth(),he.d=Ze.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),yn="Z"in he?xS(Hh(he.y,0,1)).getUTCDay():CS(Hh(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(yn+5)%7:he.w+he.U*7-(yn+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,xS(he)):CS(he)}}function O(Te,$e,ze,he){for(var Gt=0,Ze=$e.length,yn=ze.length,Pn,an;Gt<Ze;){if(he>=yn)return-1;if(Pn=$e.charCodeAt(Gt++),Pn===37){if(Pn=$e.charAt(Gt++),an=L[Pn in T2?$e.charAt(Gt++):Pn],!an||(he=an(Te,ze,he))<0)return-1}else if(Pn!=ze.charCodeAt(he++))return-1}return he}function k(Te,$e,ze){var he=f.exec($e.slice(ze));return he?(Te.p=h.get(he[0].toLowerCase()),ze+he[0].length):-1}function B(Te,$e,ze){var he=E.exec($e.slice(ze));return he?(Te.w=S.get(he[0].toLowerCase()),ze+he[0].length):-1}function F(Te,$e,ze){var he=y.exec($e.slice(ze));return he?(Te.w=v.get(he[0].toLowerCase()),ze+he[0].length):-1}function $(Te,$e,ze){var he=R.exec($e.slice(ze));return he?(Te.m=D.get(he[0].toLowerCase()),ze+he[0].length):-1}function z(Te,$e,ze){var he=b.exec($e.slice(ze));return he?(Te.m=I.get(he[0].toLowerCase()),ze+he[0].length):-1}function Re(Te,$e,ze){return O(Te,e,$e,ze)}function we(Te,$e,ze){return O(Te,n,$e,ze)}function ee(Te,$e,ze){return O(Te,r,$e,ze)}function pe(Te){return s[Te.getDay()]}function Se(Te){return o[Te.getDay()]}function Be(Te){return c[Te.getMonth()]}function W(Te){return u[Te.getMonth()]}function ce(Te){return i[+(Te.getHours()>=12)]}function ae(Te){return 1+~~(Te.getMonth()/3)}function ge(Te){return s[Te.getUTCDay()]}function Pe(Te){return o[Te.getUTCDay()]}function ke(Te){return c[Te.getUTCMonth()]}function Ue(Te){return u[Te.getUTCMonth()]}function sn(Te){return i[+(Te.getUTCHours()>=12)]}function vt(Te){return 1+~~(Te.getUTCMonth()/3)}return{format:function(Te){var $e=G(Te+="",C);return $e.toString=function(){return Te},$e},parse:function(Te){var $e=N(Te+="",!1);return $e.toString=function(){return Te},$e},utcFormat:function(Te){var $e=G(Te+="",q);return $e.toString=function(){return Te},$e},utcParse:function(Te){var $e=N(Te+="",!0);return $e.toString=function(){return Te},$e}}}var T2={"-":"",_:" ",0:"0"},zn=/^\s*\d+/,Use=/^%/,Fse=/[\\^$*+?|[\]().{}]/g;function st(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Bse(t){return t.replace(Fse,"\\$&")}function Gh(t){return new RegExp("^(?:"+t.map(Bse).join("|")+")","i")}function Kh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function qse(t,e,n){var r=zn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function $se(t,e,n){var r=zn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function zse(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Hse(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Gse(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function E2(t,e,n){var r=zn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function w2(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Kse(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Wse(t,e,n){var r=zn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function jse(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function S2(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Yse(t,e,n){var r=zn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function b2(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Jse(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Qse(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Xse(t,e,n){var r=zn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Zse(t,e,n){var r=zn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function eae(t,e,n){var r=Use.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function tae(t,e,n){var r=zn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function nae(t,e,n){var r=zn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function A2(t,e){return st(t.getDate(),e,2)}function rae(t,e){return st(t.getHours(),e,2)}function iae(t,e){return st(t.getHours()%12||12,e,2)}function oae(t,e){return st(1+km.count(bs(t),t),e,3)}function R6(t,e){return st(t.getMilliseconds(),e,3)}function sae(t,e){return R6(t,e)+"000"}function aae(t,e){return st(t.getMonth()+1,e,2)}function lae(t,e){return st(t.getMinutes(),e,2)}function uae(t,e){return st(t.getSeconds(),e,2)}function cae(t){var e=t.getDay();return e===0?7:e}function fae(t,e){return st(T0.count(bs(t)-1,t),e,2)}function P6(t){var e=t.getDay();return e>=4||e===0?Ff(t):Ff.ceil(t)}function dae(t,e){return t=P6(t),st(Ff.count(bs(t),t)+(bs(t).getDay()===4),e,2)}function hae(t){return t.getDay()}function pae(t,e){return st(r_.count(bs(t)-1,t),e,2)}function mae(t,e){return st(t.getFullYear()%100,e,2)}function gae(t,e){return t=P6(t),st(t.getFullYear()%100,e,2)}function yae(t,e){return st(t.getFullYear()%1e4,e,4)}function vae(t,e){var n=t.getDay();return t=n>=4||n===0?Ff(t):Ff.ceil(t),st(t.getFullYear()%1e4,e,4)}function _ae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+st(e/60|0,"0",2)+st(e%60,"0",2)}function I2(t,e){return st(t.getUTCDate(),e,2)}function Tae(t,e){return st(t.getUTCHours(),e,2)}function Eae(t,e){return st(t.getUTCHours()%12||12,e,2)}function wae(t,e){return st(1+_0.count(As(t),t),e,3)}function M6(t,e){return st(t.getUTCMilliseconds(),e,3)}function Sae(t,e){return M6(t,e)+"000"}function bae(t,e){return st(t.getUTCMonth()+1,e,2)}function Aae(t,e){return st(t.getUTCMinutes(),e,2)}function Iae(t,e){return st(t.getUTCSeconds(),e,2)}function Cae(t){var e=t.getUTCDay();return e===0?7:e}function xae(t,e){return st(E0.count(As(t)-1,t),e,2)}function D6(t){var e=t.getUTCDay();return e>=4||e===0?Bf(t):Bf.ceil(t)}function Rae(t,e){return t=D6(t),st(Bf.count(As(t),t)+(As(t).getUTCDay()===4),e,2)}function Pae(t){return t.getUTCDay()}function Mae(t,e){return st(i_.count(As(t)-1,t),e,2)}function Dae(t,e){return st(t.getUTCFullYear()%100,e,2)}function Nae(t,e){return t=D6(t),st(t.getUTCFullYear()%100,e,2)}function kae(t,e){return st(t.getUTCFullYear()%1e4,e,4)}function Oae(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Bf(t):Bf.ceil(t),st(t.getUTCFullYear()%1e4,e,4)}function Vae(){return"+0000"}function C2(){return"%"}function x2(t){return+t}function R2(t){return Math.floor(+t/1e3)}var zc,N6,k6;Lae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Lae(t){return zc=Lse(t),N6=zc.format,zc.parse,k6=zc.utcFormat,zc.utcParse,zc}function Uae(t){return new Date(t)}function Fae(t){return t instanceof Date?+t:+new Date(+t)}function Cx(t,e,n,r,i,o,s,u,c,f){var h=hx(),y=h.invert,v=h.domain,E=f(".%L"),S=f(":%S"),b=f("%I:%M"),I=f("%I %p"),R=f("%a %d"),D=f("%b %d"),C=f("%B"),q=f("%Y");function L(G){return(c(G)<G?E:u(G)<G?S:s(G)<G?b:o(G)<G?I:r(G)<G?i(G)<G?R:D:n(G)<G?C:q)(G)}return h.invert=function(G){return new Date(y(G))},h.domain=function(G){return arguments.length?v(Array.from(G,Fae)):v().map(Uae)},h.ticks=function(G){var N=v();return t(N[0],N[N.length-1],G??10)},h.tickFormat=function(G,N){return N==null?L:f(N)},h.nice=function(G){var N=v();return(!G||typeof G.range!="function")&&(G=e(N[0],N[N.length-1],G??10)),G?v(T6(N,G)):h},h.copy=function(){return Nm(h,Cx(t,e,n,r,i,o,s,u,c,f))},h}function Bae(){return Pi.apply(Cx(Ose,Vse,bs,Ax,T0,km,Sx,Ex,nu,N6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qae(){return Pi.apply(Cx(Nse,kse,As,Ix,E0,_0,bx,wx,nu,k6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function w0(){var t=0,e=1,n,r,i,o,s=_r,u=!1,c;function f(y){return y==null||isNaN(y=+y)?c:s(i===0?.5:(y=(o(y)-n)*i,u?Math.max(0,Math.min(1,y)):y))}f.domain=function(y){return arguments.length?([t,e]=y,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(y){return arguments.length?(u=!!y,f):u},f.interpolator=function(y){return arguments.length?(s=y,f):s};function h(y){return function(v){var E,S;return arguments.length?([E,S]=v,s=y(E,S),f):[s(0),s(1)]}}return f.range=h(ld),f.rangeRound=h(dx),f.unknown=function(y){return arguments.length?(c=y,f):c},function(y){return o=y,n=y(t),r=y(e),i=n===r?0:1/(r-n),f}}function tl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function O6(){var t=el(w0()(_r));return t.copy=function(){return tl(t,O6())},Os.apply(t,arguments)}function V6(){var t=gx(w0()).domain([1,10]);return t.copy=function(){return tl(t,V6()).base(t.base())},Os.apply(t,arguments)}function L6(){var t=yx(w0());return t.copy=function(){return tl(t,L6()).constant(t.constant())},Os.apply(t,arguments)}function xx(){var t=vx(w0());return t.copy=function(){return tl(t,xx()).exponent(t.exponent())},Os.apply(t,arguments)}function $ae(){return xx.apply(null,arguments).exponent(.5)}function U6(){var t=[],e=_r;function n(r){if(r!=null&&!isNaN(r=+r))return e((Mm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Na),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Coe(t,o/r))},n.copy=function(){return U6(e).domain(t)},Os.apply(n,arguments)}function S0(){var t=0,e=.5,n=1,r=1,i,o,s,u,c,f=_r,h,y=!1,v;function E(b){return isNaN(b=+b)?v:(b=.5+((b=+h(b))-o)*(r*b<r*o?u:c),f(y?Math.max(0,Math.min(1,b)):b))}E.domain=function(b){return arguments.length?([t,e,n]=b,i=h(t=+t),o=h(e=+e),s=h(n=+n),u=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,E):[t,e,n]},E.clamp=function(b){return arguments.length?(y=!!b,E):y},E.interpolator=function(b){return arguments.length?(f=b,E):f};function S(b){return function(I){var R,D,C;return arguments.length?([R,D,C]=I,f=ese(b,[R,D,C]),E):[f(0),f(.5),f(1)]}}return E.range=S(ld),E.rangeRound=S(dx),E.unknown=function(b){return arguments.length?(v=b,E):v},function(b){return h=b,i=b(t),o=b(e),s=b(n),u=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,E}}function F6(){var t=el(S0()(_r));return t.copy=function(){return tl(t,F6())},Os.apply(t,arguments)}function B6(){var t=gx(S0()).domain([.1,1,10]);return t.copy=function(){return tl(t,B6()).base(t.base())},Os.apply(t,arguments)}function q6(){var t=yx(S0());return t.copy=function(){return tl(t,q6()).constant(t.constant())},Os.apply(t,arguments)}function Rx(){var t=vx(S0());return t.copy=function(){return tl(t,Rx()).exponent(t.exponent())},Os.apply(t,arguments)}function zae(){return Rx.apply(null,arguments).exponent(.5)}const ip=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ux,scaleDiverging:F6,scaleDivergingLog:B6,scaleDivergingPow:Rx,scaleDivergingSqrt:zae,scaleDivergingSymlog:q6,scaleIdentity:_6,scaleImplicit:hA,scaleLinear:v6,scaleLog:E6,scaleOrdinal:lx,scalePoint:Poe,scalePow:_x,scaleQuantile:b6,scaleQuantize:A6,scaleRadial:S6,scaleSequential:O6,scaleSequentialLog:V6,scaleSequentialPow:xx,scaleSequentialQuantile:U6,scaleSequentialSqrt:$ae,scaleSequentialSymlog:L6,scaleSqrt:Sse,scaleSymlog:w6,scaleThreshold:I6,scaleTime:Bae,scaleUtc:qae,tickFormat:y6},Symbol.toStringTag,{value:"Module"}));var nl=t=>t.chartData,Hae=oe([nl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Px=(t,e,n,r)=>r?Hae(t):nl(t);function qf(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(ri(e)&&ri(n))return!0}return!1}function P2(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Gae(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(ri(n))i=n;else if(typeof n=="function")return;if(ri(r))o=r;else if(typeof r=="function")return;var s=[i,o];if(qf(s))return s}}function Kae(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(qf(r))return P2(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,s,u;if(i==="auto")e!=null&&(s=Math.min(...e));else if(De(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&_O.test(i)){var c=_O.exec(i);if(c==null||e==null)s=void 0;else{var f=+c[1];s=e[0]-f}}else s=e==null?void 0:e[0];if(o==="auto")e!=null&&(u=Math.max(...e));else if(De(o))u=o;else if(typeof o=="function")try{e!=null&&(u=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&TO.test(o)){var h=TO.exec(o);if(h==null||e==null)u=void 0;else{var y=+h[1];u=e[1]+y}}else u=e==null?void 0:e[1];var v=[s,u];if(qf(v))return e==null?v:P2(v,e,n)}}}var ud=1e9,Wae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Dx,Bt=!0,Ri="[DecimalError] ",uu=Ri+"Invalid argument: ",Mx=Ri+"Exponent out of range: ",cd=Math.floor,Hl=Math.pow,jae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jr,Ln=1e7,Mt=7,$6=9007199254740991,o_=cd($6/Mt),be={};be.absoluteValue=be.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};be.comparedTo=be.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};be.decimalPlaces=be.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Mt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};be.dividedBy=be.div=function(t){return gs(this,new this.constructor(t))};be.dividedToIntegerBy=be.idiv=function(t){var e=this,n=e.constructor;return At(gs(e,new n(t),0,1),n.precision)};be.equals=be.eq=function(t){return!this.cmp(t)};be.exponent=function(){return mn(this)};be.greaterThan=be.gt=function(t){return this.cmp(t)>0};be.greaterThanOrEqualTo=be.gte=function(t){return this.cmp(t)>=0};be.isInteger=be.isint=function(){return this.e>this.d.length-2};be.isNegative=be.isneg=function(){return this.s<0};be.isPositive=be.ispos=function(){return this.s>0};be.isZero=function(){return this.s===0};be.lessThan=be.lt=function(t){return this.cmp(t)<0};be.lessThanOrEqualTo=be.lte=function(t){return this.cmp(t)<1};be.logarithm=be.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Jr))throw Error(Ri+"NaN");if(n.s<1)throw Error(Ri+(n.s?"NaN":"-Infinity"));return n.eq(Jr)?new r(0):(Bt=!1,e=gs(tm(n,o),tm(t,o),o),Bt=!0,At(e,i))};be.minus=be.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?G6(e,t):z6(e,(t.s=-t.s,t))};be.modulo=be.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ri+"NaN");return n.s?(Bt=!1,e=gs(n,t,0,1).times(t),Bt=!0,n.minus(e)):At(new r(n),i)};be.naturalExponential=be.exp=function(){return H6(this)};be.naturalLogarithm=be.ln=function(){return tm(this)};be.negated=be.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};be.plus=be.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?z6(e,t):G6(e,(t.s=-t.s,t))};be.precision=be.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(uu+t);if(e=mn(i)+1,r=i.d.length-1,n=r*Mt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};be.squareRoot=be.sqrt=function(){var t,e,n,r,i,o,s,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(Ri+"NaN")}for(t=mn(u),Bt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=So(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=cd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(o=r,r=o.plus(gs(u,o,s+2)).times(.5),So(o.d).slice(0,s)===(e=So(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(At(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(e!="9999")break;s+=4}return Bt=!0,At(r,n)};be.times=be.mul=function(t){var e,n,r,i,o,s,u,c,f,h=this,y=h.constructor,v=h.d,E=(t=new y(t)).d;if(!h.s||!t.s)return new y(0);for(t.s*=h.s,n=h.e+t.e,c=v.length,f=E.length,c<f&&(o=v,v=E,E=o,s=c,c=f,f=s),o=[],s=c+f,r=s;r--;)o.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)u=o[i]+E[r]*v[i-r-1]+e,o[i--]=u%Ln|0,e=u/Ln|0;o[i]=(o[i]+e)%Ln|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Bt?At(t,y.precision):t};be.toDecimalPlaces=be.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ko(t,0,ud),e===void 0?e=r.rounding:ko(e,0,8),At(n,t+mn(n)+1,e))};be.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Iu(r,!0):(ko(t,0,ud),e===void 0?e=i.rounding:ko(e,0,8),r=At(new i(r),t+1,e),n=Iu(r,!0,t+1)),n};be.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Iu(i):(ko(t,0,ud),e===void 0?e=o.rounding:ko(e,0,8),r=At(new o(i),t+mn(i)+1,e),n=Iu(r.abs(),!1,t+mn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};be.toInteger=be.toint=function(){var t=this,e=t.constructor;return At(new e(t),mn(t)+1,e.rounding)};be.toNumber=function(){return+this};be.toPower=be.pow=function(t){var e,n,r,i,o,s,u=this,c=u.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(Jr);if(u=new c(u),!u.s){if(t.s<1)throw Error(Ri+"Infinity");return u}if(u.eq(Jr))return u;if(r=c.precision,t.eq(Jr))return At(u,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=u.s,s){if((n=h<0?-h:h)<=$6){for(i=new c(Jr),e=Math.ceil(r/Mt+4),Bt=!1;n%2&&(i=i.times(u),D2(i.d,e)),n=cd(n/2),n!==0;)u=u.times(u),D2(u.d,e);return Bt=!0,t.s<0?new c(Jr).div(i):At(i,r)}}else if(o<0)throw Error(Ri+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Bt=!1,i=t.times(tm(u,r+f)),Bt=!0,i=H6(i),i.s=o,i};be.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=mn(i),r=Iu(i,n<=o.toExpNeg||n>=o.toExpPos)):(ko(t,1,ud),e===void 0?e=o.rounding:ko(e,0,8),i=At(new o(i),t,e),n=mn(i),r=Iu(i,t<=n||n<=o.toExpNeg,t)),r};be.toSignificantDigits=be.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ko(t,1,ud),e===void 0?e=r.rounding:ko(e,0,8)),At(new r(n),t,e)};be.toString=be.valueOf=be.val=be.toJSON=be[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=mn(t),n=t.constructor;return Iu(t,e<=n.toExpNeg||e>=n.toExpPos)};function z6(t,e){var n,r,i,o,s,u,c,f,h=t.constructor,y=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Bt?At(e,y):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),o=s-i,o){for(o<0?(r=c,o=-o,u=f.length):(r=f,i=s,u=c.length),s=Math.ceil(y/Mt),u=s>u?s+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=c.length,o=f.length,u-o<0&&(o=u,r=f,f=c,c=r),n=0;o;)n=(c[--o]=c[o]+f[o]+n)/Ln|0,c[o]%=Ln;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,Bt?At(e,y):e}function ko(t,e,n){if(t!==~~t||t<e||t>n)throw Error(uu+t)}function So(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=Mt-r.length,n&&(o+=Ta(n)),o+=r;s=t[e],r=s+"",n=Mt-r.length,n&&(o+=Ta(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var gs=(function(){function t(r,i){var o,s=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+s,r[u]=o%Ln|0,s=o/Ln|0;return s&&r.unshift(s),r}function e(r,i,o,s){var u,c;if(o!=s)c=o>s?1:-1;else for(u=c=0;u<o;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Ln+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var u,c,f,h,y,v,E,S,b,I,R,D,C,q,L,G,N,O,k=r.constructor,B=r.s==i.s?1:-1,F=r.d,$=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(Ri+"Division by zero");for(c=r.e-i.e,N=$.length,L=F.length,E=new k(B),S=E.d=[],f=0;$[f]==(F[f]||0);)++f;if($[f]>(F[f]||0)&&--c,o==null?D=o=k.precision:s?D=o+(mn(r)-mn(i))+1:D=o,D<0)return new k(0);if(D=D/Mt+2|0,f=0,N==1)for(h=0,$=$[0],D++;(f<L||h)&&D--;f++)C=h*Ln+(F[f]||0),S[f]=C/$|0,h=C%$|0;else{for(h=Ln/($[0]+1)|0,h>1&&($=t($,h),F=t(F,h),N=$.length,L=F.length),q=N,b=F.slice(0,N),I=b.length;I<N;)b[I++]=0;O=$.slice(),O.unshift(0),G=$[0],$[1]>=Ln/2&&++G;do h=0,u=e($,b,N,I),u<0?(R=b[0],N!=I&&(R=R*Ln+(b[1]||0)),h=R/G|0,h>1?(h>=Ln&&(h=Ln-1),y=t($,h),v=y.length,I=b.length,u=e(y,b,v,I),u==1&&(h--,n(y,N<v?O:$,v))):(h==0&&(u=h=1),y=$.slice()),v=y.length,v<I&&y.unshift(0),n(b,y,I),u==-1&&(I=b.length,u=e($,b,N,I),u<1&&(h++,n(b,N<I?O:$,I))),I=b.length):u===0&&(h++,b=[0]),S[f++]=h,u&&b[0]?b[I++]=F[q]||0:(b=[F[q]],I=1);while((q++<L||b[0]!==void 0)&&D--)}return S[0]||S.shift(),E.e=c,At(E,s?o+mn(E)+1:o)}})();function H6(t,e){var n,r,i,o,s,u,c=0,f=0,h=t.constructor,y=h.precision;if(mn(t)>16)throw Error(Mx+mn(t));if(!t.s)return new h(Jr);for(Bt=!1,u=y,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(r=Math.log(Hl(2,f))/Math.LN10*2+5|0,u+=r,n=i=o=new h(Jr),h.precision=u;;){if(i=At(i.times(t),u),n=n.times(++c),s=o.plus(gs(i,n,u)),So(s.d).slice(0,u)===So(o.d).slice(0,u)){for(;f--;)o=At(o.times(o),u);return h.precision=y,e==null?(Bt=!0,At(o,y)):o}o=s}}function mn(t){for(var e=t.e*Mt,n=t.d[0];n>=10;n/=10)e++;return e}function RS(t,e,n){if(e>t.LN10.sd())throw Bt=!0,n&&(t.precision=n),Error(Ri+"LN10 precision limit exceeded");return At(new t(t.LN10),e)}function Ta(t){for(var e="";t--;)e+="0";return e}function tm(t,e){var n,r,i,o,s,u,c,f,h,y=1,v=10,E=t,S=E.d,b=E.constructor,I=b.precision;if(E.s<1)throw Error(Ri+(E.s?"NaN":"-Infinity"));if(E.eq(Jr))return new b(0);if(e==null?(Bt=!1,f=I):f=e,E.eq(10))return e==null&&(Bt=!0),RS(b,f);if(f+=v,b.precision=f,n=So(S),r=n.charAt(0),o=mn(E),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)E=E.times(t),n=So(E.d),r=n.charAt(0),y++;o=mn(E),r>1?(E=new b("0."+n),o++):E=new b(r+"."+n.slice(1))}else return c=RS(b,f+2,I).times(o+""),E=tm(new b(r+"."+n.slice(1)),f-v).plus(c),b.precision=I,e==null?(Bt=!0,At(E,I)):E;for(u=s=E=gs(E.minus(Jr),E.plus(Jr),f),h=At(E.times(E),f),i=3;;){if(s=At(s.times(h),f),c=u.plus(gs(s,new b(i),f)),So(c.d).slice(0,f)===So(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(RS(b,f+2,I).times(o+""))),u=gs(u,new b(y),f),b.precision=I,e==null?(Bt=!0,At(u,I)):u;u=c,i+=2}}function M2(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=cd(n/Mt),t.d=[],r=(n+1)%Mt,n<0&&(r+=Mt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Mt;r<i;)t.d.push(+e.slice(r,r+=Mt));e=e.slice(r),r=Mt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Bt&&(t.e>o_||t.e<-o_))throw Error(Mx+n)}else t.s=0,t.e=0,t.d=[0];return t}function At(t,e,n){var r,i,o,s,u,c,f,h,y=t.d;for(s=1,o=y[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=Mt,i=e,f=y[h=0];else{if(h=Math.ceil((r+1)/Mt),o=y.length,h>=o)return t;for(f=o=y[h],s=1;o>=10;o/=10)s++;r%=Mt,i=r-Mt+s}if(n!==void 0&&(o=Hl(10,s-i-1),u=f/o%10|0,c=e<0||y[h+1]!==void 0||f%o,c=n<4?(u||c)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?f/Hl(10,s-i):0:y[h-1])%10&1||n==(t.s<0?8:7))),e<1||!y[0])return c?(o=mn(t),y.length=1,e=e-o-1,y[0]=Hl(10,(Mt-e%Mt)%Mt),t.e=cd(-e/Mt)||0):(y.length=1,y[0]=t.e=t.s=0),t;if(r==0?(y.length=h,o=1,h--):(y.length=h+1,o=Hl(10,Mt-r),y[h]=i>0?(f/Hl(10,s-i)%Hl(10,i)|0)*o:0),c)for(;;)if(h==0){(y[0]+=o)==Ln&&(y[0]=1,++t.e);break}else{if(y[h]+=o,y[h]!=Ln)break;y[h--]=0,o=1}for(r=y.length;y[--r]===0;)y.pop();if(Bt&&(t.e>o_||t.e<-o_))throw Error(Mx+mn(t));return t}function G6(t,e){var n,r,i,o,s,u,c,f,h,y,v=t.constructor,E=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Bt?At(e,E):e;if(c=t.d,y=e.d,r=e.e,f=t.e,c=c.slice(),s=f-r,s){for(h=s<0,h?(n=c,s=-s,u=y.length):(n=y,r=f,u=c.length),i=Math.max(Math.ceil(E/Mt),u)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=y.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=y[i]){h=c[i]<y[i];break}s=0}for(h&&(n=c,c=y,y=n,e.s=-e.s),u=c.length,i=y.length-u;i>0;--i)c[u++]=0;for(i=y.length;i>s;){if(c[--i]<y[i]){for(o=i;o&&c[--o]===0;)c[o]=Ln-1;--c[o],c[i]+=Ln}c[i]-=y[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Bt?At(e,E):e):new v(0)}function Iu(t,e,n){var r,i=mn(t),o=So(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Ta(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ta(-i-1)+o,n&&(r=n-s)>0&&(o+=Ta(r))):i>=s?(o+=Ta(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Ta(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Ta(r))),t.s<0?"-"+o:o}function D2(t,e){if(t.length>e)return t.length=e,!0}function K6(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(uu+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return M2(s,o.toString())}else if(typeof o!="string")throw Error(uu+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,jae.test(o))M2(s,o);else throw Error(uu+o)}if(i.prototype=be,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=K6,i.config=i.set=Yae,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Yae(t){if(!t||typeof t!="object")throw Error(Ri+"Object expected");var e,n,r,i=["precision",1,ud,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(cd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(uu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(uu+n+": "+r);return this}var Dx=K6(Wae);Jr=new Dx(1);const pt=Dx;var Jae=t=>t,W6={},j6=t=>t===W6,N2=t=>function e(){return arguments.length===0||arguments.length===1&&j6(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},Y6=(t,e)=>t===1?e:N2(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(s=>s!==W6).length;return o>=t?e(...r):Y6(t-o,N2(function(){for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];var f=r.map(h=>j6(h)?u.shift():h);return e(...f,...u)}))}),b0=t=>Y6(t.length,t),yA=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Qae=b0((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Xae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Jae;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce((u,c)=>c(u),o(...arguments))}},vA=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),J6=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e&&i.every((s,u)=>{var c;return s===((c=e)===null||c===void 0?void 0:c[u])})||(e=i,n=t(...i)),n}};function Q6(t){var e;return t===0?e=1:e=Math.floor(new pt(t).abs().log(10).toNumber())+1,e}function X6(t,e,n){for(var r=new pt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}b0((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});b0((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});b0((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var Z6=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},e$=(t,e,n)=>{if(t.lte(0))return new pt(0);var r=Q6(t.toNumber()),i=new pt(10).pow(r),o=t.div(i),s=r!==1?.05:.1,u=new pt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),c=u.mul(i);return e?new pt(c.toNumber()):new pt(Math.ceil(c.toNumber()))},Zae=(t,e,n)=>{var r=new pt(1),i=new pt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new pt(10).pow(Q6(t)-1),i=new pt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new pt(Math.floor(t)))}else t===0?i=new pt(Math.floor((e-1)/2)):n||(i=new pt(Math.floor(t)));var s=Math.floor((e-1)/2),u=Xae(Qae(c=>i.add(new pt(c-s).mul(r)).toNumber()),yA);return u(0,e)},t$=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new pt(0),tickMin:new pt(0),tickMax:new pt(0)};var s=e$(new pt(n).sub(e).div(r-1),i,o),u;e<=0&&n>=0?u=new pt(0):(u=new pt(e).add(n).div(2),u=u.sub(new pt(u).mod(s)));var c=Math.ceil(u.sub(e).div(s).toNumber()),f=Math.ceil(new pt(n).sub(u).div(s).toNumber()),h=c+f+1;return h>r?t$(e,n,r,i,o+1):(h<r&&(f=n>0?f+(r-h):f,c=n>0?c:c+(r-h)),{step:s,tickMin:u.sub(new pt(c).mul(s)),tickMax:u.add(new pt(f).mul(s))})};function ele(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[s,u]=Z6([e,n]);if(s===-1/0||u===1/0){var c=u===1/0?[s,...yA(0,r-1).map(()=>1/0)]:[...yA(0,r-1).map(()=>-1/0),u];return e>n?vA(c):c}if(s===u)return Zae(s,r,i);var{step:f,tickMin:h,tickMax:y}=t$(s,u,o,i,0),v=X6(h,y.add(new pt(.1).mul(f)),f);return e>n?vA(v):v}function tle(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=Z6([n,r]);if(o===-1/0||s===1/0)return[n,r];if(o===s)return[o];var u=Math.max(e,2),c=e$(new pt(s).sub(o).div(u-1),i,0),f=[...X6(new pt(o),new pt(s),c),s];return i===!1&&(f=f.map(h=>Math.round(h))),n>r?vA(f):f}var nle=J6(ele),rle=J6(tle),n$=t=>t.rootProps.maxBarSize,ile=t=>t.rootProps.barGap,r$=t=>t.rootProps.barCategoryGap,ole=t=>t.rootProps.barSize,A0=t=>t.rootProps.stackOffset,Nx=t=>t.options.chartName,kx=t=>t.rootProps.syncId,i$=t=>t.rootProps.syncMethod,Ox=t=>t.options.eventEmitter,as={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Wr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},I0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},sle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:as.angleAxisId,includeHidden:!1,name:void 0,reversed:as.reversed,scale:as.scale,tick:as.tick,tickCount:void 0,ticks:void 0,type:as.type,unit:void 0},ale={allowDataOverflow:Wr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wr.scale,tick:Wr.tick,tickCount:Wr.tickCount,ticks:void 0,type:Wr.type,unit:void 0},lle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:as.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:as.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:as.scale,tick:as.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},ule={allowDataOverflow:Wr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wr.scale,tick:Wr.tick,tickCount:Wr.tickCount,ticks:void 0,type:"category",unit:void 0},Vx=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?lle:sle,Lx=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?ule:ale,C0=t=>t.polarOptions,Ux=oe([Ns,ks,$n],cre),o$=oe([C0,Ux],(t,e)=>{if(t!=null)return Gi(t.innerRadius,e,0)}),s$=oe([C0,Ux],(t,e)=>{if(t!=null)return Gi(t.outerRadius,e,e*.8)}),cle=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},a$=oe([C0],cle);oe([Vx,a$],I0);var l$=oe([Ux,o$,s$],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});oe([Lx,l$],I0);var u$=oe([yt,C0,o$,s$,Ns,ks],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:u,startAngle:c,endAngle:f}=e;return{cx:Gi(s,i,i/2),cy:Gi(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:f,clockWise:!1}}}),gn=(t,e)=>e,x0=(t,e,n)=>n;function Fx(t){return t==null?void 0:t.id}var xn=t=>{var e=yt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},fd=t=>t.tooltip.settings.axisId,Rn=t=>{var e=xn(t),n=fd(t);return Om(t,e,n)};function c$(t,e,n){var{chartData:r=[]}=e,i=n==null?void 0:n.dataKey,o=new Map;return t.forEach(s=>{var u,c=(u=s.data)!==null&&u!==void 0?u:r;if(!(c==null||c.length===0)){var f=Fx(s);c.forEach((h,y)=>{var v=i==null?y:String(wr(h,i,null)),E=wr(h,s.dataKey,0),S;o.has(v)?S=o.get(v):S={},Object.assign(S,{[f]:E}),o.set(v,S)})}}),Array.from(o.values())}function R0(t){return t.stackId!=null&&t.dataKey!=null}function k2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k2(Object(n),!0).forEach(function(r){fle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fle(t,e,n){return(e=dle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dle(t){var e=hle(t,"string");return typeof e=="symbol"?e:e+""}function hle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _A=[0,"auto"],Hr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Vs=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??Hr},Gr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:_A,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:m0},rl=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??Gr},ple={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Bx=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??ple},kr=(t,e,n)=>{switch(e){case"xAxis":return Vs(t,n);case"yAxis":return rl(t,n);case"zAxis":return Bx(t,n);case"angleAxis":return Vx(t,n);case"radiusAxis":return Lx(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},mle=(t,e,n)=>{switch(e){case"xAxis":return Vs(t,n);case"yAxis":return rl(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Om=(t,e,n)=>{switch(e){case"xAxis":return Vs(t,n);case"yAxis":return rl(t,n);case"angleAxis":return Vx(t,n);case"radiusAxis":return Lx(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},f$=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function d$(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var qx=t=>t.graphicalItems.cartesianItems,gle=oe([gn,x0],d$),h$=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Vm=oe([qx,kr,gle],h$),p$=oe([Vm],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(R0)),m$=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),g$=oe([Vm],m$),y$=t=>t.map(e=>e.data).filter(Boolean).flat(1),yle=oe([Vm],y$),v$=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},$x=oe([yle,Px],v$),_$=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:wr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:wr(i,r)}))):t.map(r=>({value:r})),P0=oe([$x,kr,Vm],_$);function T$(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Fu(t){return t.filter(e=>No(e)||e instanceof Date).map(Number).filter(e=>Ci(e)===!1)}function vle(t,e,n){return!n||typeof e!="number"||Ci(e)?[]:n.length?Fu(n.flatMap(r=>{var i=wr(t,r.dataKey),o,s;if(Array.isArray(i)?[o,s]=i:o=s=i,!(!ri(o)||!ri(s)))return[e-o,e+s]})):[]}var _le=oe([p$,Px,Rn],c$),E$=(t,e,n)=>{var r={},i=e.reduce((o,s)=>(s.stackId==null||(o[s.stackId]==null&&(o[s.stackId]=[]),o[s.stackId].push(s)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[s,u]=o,c=u.map(Fx);return[s,{stackedData:Ire(t,c,n),graphicalItems:u}]}))},TA=oe([_le,p$,A0],E$),w$=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var o=Mre(t,r,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Tle=oe([TA,nl,gn],w$),S$=(t,e,n,r,i)=>n.length>0?t.flatMap(o=>n.flatMap(s=>{var u,c,f=(u=r[s.id])===null||u===void 0?void 0:u.filter(y=>T$(i,y)),h=wr(o,(c=e.dataKey)!==null&&c!==void 0?c:s.dataKey);return{value:h,errorDomain:vle(o,h,f)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(o=>({value:wr(o,e.dataKey),errorDomain:[]})):t.map(o=>({value:o,errorDomain:[]})),M0=t=>t.errorBars,b$=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>T$(n,r));oe([g$,M0,gn],b$);var Ele=oe([$x,kr,g$,M0,gn],S$);function wle(t){var{value:e}=t;if(No(e)||e instanceof Date)return e}var O2=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Fu(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Sle=(t,e,n)=>{var r=t.map(wle).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&zq(r))?a6(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},zx=t=>{var e;if(t==null||!("domain"in t))return _A;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Fu(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:_A},a_=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),s=Math.min(...o),u=Math.max(...o);return[s,u]}},A$=t=>t.referenceElements.dots,dd=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),ble=oe([A$,gn,x0],dd),I$=t=>t.referenceElements.areas,Ale=oe([I$,gn,x0],dd),C$=t=>t.referenceElements.lines,Ile=oe([C$,gn,x0],dd),x$=(t,e)=>{var n=Fu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Cle=oe(ble,gn,x$),R$=(t,e)=>{var n=Fu(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},xle=oe([Ale,gn],R$),P$=(t,e)=>{var n=Fu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Rle=oe(Ile,gn,P$),Ple=oe(Cle,Rle,xle,(t,e,n)=>a_(t,n,e)),Mle=oe([kr],zx),M$=(t,e,n,r,i,o,s)=>{var u=Gae(e,t.allowDataOverflow);if(u!=null)return u;var c=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",f=c?a_(n,i,O2(r)):a_(i,O2(r));return Kae(e,f,t.allowDataOverflow)},Dle=oe([kr,Mle,Tle,Ele,Ple,yt,gn],M$),Nle=[0,1],D$=(t,e,n,r,i,o,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:u,type:c}=t,f=Ou(e,o);return f&&u==null?a6(0,n.length):c==="category"?Sle(r,t,f):i==="expand"?Nle:s}},Hx=oe([kr,yt,$x,P0,A0,gn,Dle],D$),N$=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:s}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(Cm(o));return u in ip?u:"point"}}},Lm=oe([kr,yt,f$,Nx,gn],N$);function kle(t){if(t!=null){if(t in ip)return ip[t]();var e="scale".concat(Cm(t));if(e in ip)return ip[e]()}}function Gx(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=kle(e);if(i!=null){var o=i.domain(n).range(r);return Ere(o),o}}}var k$=(t,e,n)=>{var r=zx(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&qf(t))return nle(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&qf(t))return rle(t,e.tickCount,e.allowDecimals)}},Kx=oe([Hx,Om,Lm],k$),O$=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&qf(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],s=e[1],u=n[n.length-1];return[Math.min(i,o),Math.max(s,u)]}return e},Ole=oe([kr,Hx,Kx,gn],O$),Vle=oe(P0,kr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Fu(t.map(u=>u.value))).sort((u,c)=>u-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var s=r[o+1]-r[o];n=Math.min(n,s)}return n/i}}),V$=oe(Vle,yt,r$,$n,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!ri(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var s=Gi(n,t*o),u=t*o/2;return u-s-(u-s)/o*s}return 0}),Lle=(t,e)=>{var n=Vs(t,e);return n==null||typeof n.padding!="string"?0:V$(t,"xAxis",e,n.padding)},Ule=(t,e)=>{var n=rl(t,e);return n==null||typeof n.padding!="string"?0:V$(t,"yAxis",e,n.padding)},Fle=oe(Vs,Lle,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Ble=oe(rl,Ule,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),qle=oe([$n,Fle,y0,g0,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),$le=oe([$n,yt,Ble,y0,g0,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:s}=i;return o?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Um=(t,e,n,r)=>{var i;switch(e){case"xAxis":return qle(t,n,r);case"yAxis":return $le(t,n,r);case"zAxis":return(i=Bx(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return a$(t);case"radiusAxis":return l$(t,n);default:return}},L$=oe([kr,Um],I0),hd=oe([kr,Lm,Ole,L$],Gx);oe([Vm,M0,gn],b$);function U$(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var D0=(t,e)=>e,N0=(t,e,n)=>n,zle=oe(nx,D0,N0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(U$)),Hle=oe(rx,D0,N0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(U$)),F$=(t,e)=>({width:t.width,height:e.height}),Gle=(t,e)=>{var n=typeof e.width=="number"?e.width:m0;return{width:n,height:t.height}},B$=oe($n,Vs,F$),Kle=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Wle=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},jle=oe(ks,$n,zle,D0,N0,(t,e,n,r,i)=>{var o={},s;return n.forEach(u=>{var c=F$(e,u);s==null&&(s=Kle(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;o[u.id]=s-Number(f)*c.height,s+=(f?-1:1)*c.height}),o}),Yle=oe(Ns,$n,Hle,D0,N0,(t,e,n,r,i)=>{var o={},s;return n.forEach(u=>{var c=Gle(e,u);s==null&&(s=Wle(e,r,t));var f=r==="left"&&!i||r==="right"&&i;o[u.id]=s-Number(f)*c.width,s+=(f?-1:1)*c.width}),o}),Jle=(t,e)=>{var n=$n(t),r=Vs(t,e);if(r!=null){var i=jle(t,r.orientation,r.mirror),o=i[e];return o==null?{x:n.left,y:0}:{x:n.left,y:o}}},Qle=(t,e)=>{var n=$n(t),r=rl(t,e);if(r!=null){var i=Yle(t,r.orientation,r.mirror),o=i[e];return o==null?{x:0,y:n.top}:{x:o,y:n.top}}},q$=oe($n,rl,(t,e)=>{var n=typeof e.width=="number"?e.width:m0;return{width:n,height:t.height}}),V2=(t,e,n)=>{switch(e){case"xAxis":return B$(t,n).width;case"yAxis":return q$(t,n).height;default:return}},$$=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:s}=n,u=Ou(t,r),c=e.map(f=>f.value);if(s&&u&&o==="category"&&i&&zq(c))return c}},Wx=oe([yt,P0,kr,gn],$$),z$=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,s=Ou(t,r);if(s&&(i==="number"||o!=="auto"))return e.map(u=>u.value)}},jx=oe([yt,P0,Om,gn],z$);oe([yt,mle,Lm,hd,Wx,jx,Um,Kx,gn],(t,e,n,r,i,o,s,u,c)=>{if(e==null)return null;var f=Ou(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:o,duplicateDomain:i,isCategorical:f,niceTicks:u,range:s,realScaleType:n,scale:r}});var Xle=(t,e,n,r,i,o,s,u,c)=>{if(!(e==null||r==null)){var f=Ou(t,c),{type:h,ticks:y,tickCount:v}=e,E=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=h==="category"&&r.bandwidth?r.bandwidth()/E:0;S=c==="angleAxis"&&o!=null&&o.length>=2?Xr(o[0]-o[1])*2*S:S;var b=y||i;if(b){var I=b.map((R,D)=>{var C=s?s.indexOf(R):R;return{index:D,coordinate:r(C)+S,value:R,offset:S}});return I.filter(R=>!Ci(R.coordinate))}return f&&u?u.map((R,D)=>({coordinate:r(R)+S,value:R,index:D,offset:S})):r.ticks?r.ticks(v).map(R=>({coordinate:r(R)+S,value:R,offset:S})):r.domain().map((R,D)=>({coordinate:r(R)+S,value:s?s[R]:R,index:D,offset:S}))}},H$=oe([yt,Om,Lm,hd,Kx,Um,Wx,jx,gn],Xle),Zle=(t,e,n,r,i,o,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Ou(t,s),{tickCount:c}=e,f=0;return f=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Xr(r[0]-r[1])*2*f:f,u&&o?o.map((h,y)=>({coordinate:n(h)+f,value:h,index:y,offset:f})):n.ticks?n.ticks(c).map(h=>({coordinate:n(h)+f,value:h,offset:f})):n.domain().map((h,y)=>({coordinate:n(h)+f,value:i?i[h]:h,index:y,offset:f}))}},$f=oe([yt,Om,hd,Um,Wx,jx,gn],Zle),zf=oe(kr,hd,(t,e)=>{if(!(t==null||e==null))return s_(s_({},t),{},{scale:e})}),eue=oe([kr,Lm,Hx,L$],Gx);oe((t,e,n)=>Bx(t,n),eue,(t,e)=>{if(!(t==null||e==null))return s_(s_({},t),{},{scale:e})});var tue=oe([yt,nx,rx],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),G$=t=>t.options.defaultTooltipEventType,K$=t=>t.options.validateTooltipEventTypes;function W$(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function Yx(t,e){var n=G$(t),r=K$(t);return W$(e,n,r)}function nue(t){return Le(e=>Yx(e,t))}var j$=(t,e)=>{var n,r=Number(e);if(!(Ci(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},rue=t=>t.tooltip.settings,wa={active:!1,index:null,dataKey:void 0,coordinate:void 0},iue={itemInteraction:{click:wa,hover:wa},axisInteraction:{click:wa,hover:wa},keyboardInteraction:wa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Y$=ii({name:"tooltip",initialState:iue,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=ms(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:oue,removeTooltipEntrySettings:sue,setTooltipSettingsState:aue,setActiveMouseOverItemIndex:J$,mouseLeaveItem:lue,mouseLeaveChart:Q$,setActiveClickItemIndex:uue,setMouseOverAxisIndex:X$,setMouseClickAxisIndex:cue,setSyncInteraction:EA,setKeyboardInteraction:wA}=Y$.actions,fue=Y$.reducer;function L2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ny(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L2(Object(n),!0).forEach(function(r){due(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function due(t,e,n){return(e=hue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hue(t){var e=pue(t,"string");return typeof e=="symbol"?e:e+""}function pue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mue(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function gue(t){return t.index!=null}var Z$=(t,e,n,r)=>{if(e==null)return wa;var i=mue(t,e,n);if(i==null)return wa;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(gue(i)){if(o)return Ny(Ny({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Ny(Ny({},wa),{},{coordinate:i.coordinate})},Jx=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!ri(r))return n;var i=0,o=1/0;return e.length>0&&(o=e.length-1),String(Math.max(i,Math.min(r,o)))},e5=(t,e,n,r,i,o,s,u)=>{if(!(o==null||u==null)){var c=s[0],f=c==null?void 0:u(c.positions,o);if(f!=null)return f;var h=i==null?void 0:i[Number(o)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},t5=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.dataKey)===i})},Fm=t=>t.options.tooltipPayloadSearcher,pd=t=>t.tooltip;function U2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U2(Object(n),!0).forEach(function(r){yue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yue(t,e,n){return(e=vue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vue(t){var e=_ue(t,"string");return typeof e=="symbol"?e:e+""}function _ue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tue(t,e){return t??e}var n5=(t,e,n,r,i,o,s)=>{if(!(e==null||o==null)){var{chartData:u,computedData:c,dataStartIndex:f,dataEndIndex:h}=n,y=[];return t.reduce((v,E)=>{var S,{dataDefinedOnItem:b,settings:I}=E,R=Tue(b,u),D=Array.isArray(R)?G3(R,f,h):R,C=(S=I==null?void 0:I.dataKey)!==null&&S!==void 0?S:r==null?void 0:r.dataKey,q=I==null?void 0:I.nameKey,L;if(r!=null&&r.dataKey&&Array.isArray(D)&&!Array.isArray(D[0])&&s==="axis"?L=hee(D,r.dataKey,i):L=o(D,e,c,q),Array.isArray(L))L.forEach(N=>{var O=F2(F2({},I),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});v.push(EO({tooltipEntrySettings:O,dataKey:N.dataKey,payload:N.payload,value:wr(N.payload,N.dataKey),name:N.name}))});else{var G;v.push(EO({tooltipEntrySettings:I,dataKey:C,payload:L,value:wr(L,C),name:(G=wr(L,q))!==null&&G!==void 0?G:I==null?void 0:I.name}))}return v},y)}},Qx=oe([Rn,yt,f$,Nx,xn],N$),Eue=oe([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),wue=oe([xn,fd],d$),Bm=oe([Eue,Rn,wue],h$),Sue=oe([Bm],t=>t.filter(R0)),bue=oe([Bm],y$),md=oe([bue,nl],v$),Aue=oe([Sue,nl,Rn],c$),Xx=oe([md,Rn,Bm],_$),Iue=oe([Rn],zx),Cue=oe([Bm],t=>t.filter(R0)),xue=oe([Aue,Cue,A0],E$),Rue=oe([xue,nl,xn],w$),Pue=oe([Bm],m$),Mue=oe([md,Rn,Pue,M0,xn],S$),Due=oe([A$,xn,fd],dd),Nue=oe([Due,xn],x$),kue=oe([I$,xn,fd],dd),Oue=oe([kue,xn],R$),Vue=oe([C$,xn,fd],dd),Lue=oe([Vue,xn],P$),Uue=oe([Nue,Lue,Oue],a_),Fue=oe([Rn,Iue,Rue,Mue,Uue,yt,xn],M$),r5=oe([Rn,yt,md,Xx,A0,xn,Fue],D$),Bue=oe([r5,Rn,Qx],k$),que=oe([Rn,r5,Bue,xn],O$),i5=t=>{var e=xn(t),n=fd(t),r=!1;return Um(t,e,n,r)},o5=oe([Rn,i5],I0),s5=oe([Rn,Qx,que,o5],Gx),$ue=oe([yt,Xx,Rn,xn],$$),zue=oe([yt,Xx,Rn,xn],z$),Hue=(t,e,n,r,i,o,s,u)=>{if(e){var{type:c}=e,f=Ou(t,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,y=c==="category"&&r.bandwidth?r.bandwidth()/h:0;return y=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Xr(i[0]-i[1])*2*y:y,f&&s?s.map((v,E)=>({coordinate:r(v)+y,value:v,index:E,offset:y})):r.domain().map((v,E)=>({coordinate:r(v)+y,value:o?o[v]:v,index:E,offset:y}))}}},Ls=oe([yt,Rn,Qx,s5,i5,$ue,zue,xn],Hue),Zx=oe([G$,K$,rue],(t,e,n)=>W$(n.shared,t,e)),a5=t=>t.tooltip.settings.trigger,eR=t=>t.tooltip.settings.defaultIndex,k0=oe([pd,Zx,a5,eR],Z$),Hf=oe([k0,md],Jx),l5=oe([Ls,Hf],j$),u5=oe([k0],t=>{if(t)return t.dataKey}),c5=oe([pd,Zx,a5,eR],t5),Gue=oe([Ns,ks,yt,$n,Ls,eR,c5,Fm],e5),Kue=oe([k0,Gue],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Wue=oe([k0],t=>t.active),jue=oe([c5,Hf,nl,Rn,l5,Fm,Zx],n5);oe([jue],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function B2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B2(Object(n),!0).forEach(function(r){Yue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yue(t,e,n){return(e=Jue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jue(t){var e=Que(t,"string");return typeof e=="symbol"?e:e+""}function Que(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xue=()=>Le(Rn),Zue=()=>{var t=Xue(),e=Le(Ls),n=Le(s5);return tx(q2(q2({},t),{},{scale:n}),e)},ece=()=>Le(Nx),tR=(t,e)=>e,f5=(t,e,n)=>n,nR=(t,e,n,r)=>r,tce=oe(Ls,t=>u0(t,e=>e.coordinate)),rR=oe([pd,tR,f5,nR],Z$),d5=oe([rR,md],Jx),nce=(t,e,n)=>{if(e!=null){var r=pd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},h5=oe([pd,tR,f5,nR],t5),l_=oe([Ns,ks,yt,$n,Ls,nR,h5,Fm],e5),rce=oe([rR,l_],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),p5=oe(Ls,d5,j$),ice=oe([h5,d5,nl,Rn,p5,Fm,tR],n5),oce=oe([rR],t=>({isActive:t.active,activeIndex:t.index})),sce=(t,e,n,r,i,o,s,u)=>{if(!(!t||!e||!r||!i||!o)){var c=Dre(t.chartX,t.chartY,e,n,u);if(c){var f=kre(c,e),h=_re(f,s,o,r,i),y=Nre(e,o,h,c);return{activeIndex:String(h),activeCoordinate:y}}}};function SA(){return SA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SA.apply(null,arguments)}function $2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ky(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$2(Object(n),!0).forEach(function(r){ace(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ace(t,e,n){return(e=lce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lce(t){var e=uce(t,"string");return typeof e=="symbol"?e:e+""}function uce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cce(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:s,cursor:u,tooltipEventType:c,chartName:f}=t,h=e,y=n,v=r;if(!u||!h||f!=="ScatterChart"&&c!=="axis")return null;var E,S;if(f==="ScatterChart")E=h,S=Aie;else if(f==="BarChart")E=Iie(s,h,i,o),S=r6;else if(s==="radial"){var{cx:b,cy:I,radius:R,startAngle:D,endAngle:C}=i6(h);E={cx:b,cy:I,startAngle:D,endAngle:C,innerRadius:R,outerRadius:R},S=s6}else E={points:coe(s,h,i)},S=gie;var q=typeof u=="object"&&"className"in u?u.className:void 0,L=ky(ky(ky(ky({stroke:"#ccc",pointerEvents:"none"},i),E),Fn(u,!1)),{},{payload:y,payloadIndex:v,className:Nt("recharts-tooltip-cursor",q)});return M.isValidElement(u)?M.cloneElement(u,L):M.createElement(S,L)}function fce(t){var e=Zue(),n=Gre(),r=ox(),i=ece();return M.createElement(cce,SA({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var m5=M.createContext(null),dce=()=>M.useContext(m5),PS={exports:{}},z2;function hce(){return z2||(z2=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function o(c,f,h,y,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var E=new i(h,y||c,v),S=n?n+f:f;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],E]:c._events[S].push(E):(c._events[S]=E,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,y;if(this._eventsCount===0)return f;for(y in h=this._events)e.call(h,y)&&f.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=n?n+f:f,y=this._events[h];if(!y)return[];if(y.fn)return[y.fn];for(var v=0,E=y.length,S=new Array(E);v<E;v++)S[v]=y[v].fn;return S},u.prototype.listenerCount=function(f){var h=n?n+f:f,y=this._events[h];return y?y.fn?1:y.length:0},u.prototype.emit=function(f,h,y,v,E,S){var b=n?n+f:f;if(!this._events[b])return!1;var I=this._events[b],R=arguments.length,D,C;if(I.fn){switch(I.once&&this.removeListener(f,I.fn,void 0,!0),R){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,h),!0;case 3:return I.fn.call(I.context,h,y),!0;case 4:return I.fn.call(I.context,h,y,v),!0;case 5:return I.fn.call(I.context,h,y,v,E),!0;case 6:return I.fn.call(I.context,h,y,v,E,S),!0}for(C=1,D=new Array(R-1);C<R;C++)D[C-1]=arguments[C];I.fn.apply(I.context,D)}else{var q=I.length,L;for(C=0;C<q;C++)switch(I[C].once&&this.removeListener(f,I[C].fn,void 0,!0),R){case 1:I[C].fn.call(I[C].context);break;case 2:I[C].fn.call(I[C].context,h);break;case 3:I[C].fn.call(I[C].context,h,y);break;case 4:I[C].fn.call(I[C].context,h,y,v);break;default:if(!D)for(L=1,D=new Array(R-1);L<R;L++)D[L-1]=arguments[L];I[C].fn.apply(I[C].context,D)}}return!0},u.prototype.on=function(f,h,y){return o(this,f,h,y,!1)},u.prototype.once=function(f,h,y){return o(this,f,h,y,!0)},u.prototype.removeListener=function(f,h,y,v){var E=n?n+f:f;if(!this._events[E])return this;if(!h)return s(this,E),this;var S=this._events[E];if(S.fn)S.fn===h&&(!v||S.once)&&(!y||S.context===y)&&s(this,E);else{for(var b=0,I=[],R=S.length;b<R;b++)(S[b].fn!==h||v&&!S[b].once||y&&S[b].context!==y)&&I.push(S[b]);I.length?this._events[E]=I.length===1?I[0]:I:s(this,E)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(PS)),PS.exports}var pce=hce();const mce=Ki(pce);var nm=new mce,bA="recharts.syncEvent.tooltip",H2="recharts.syncEvent.brush";function gce(t,e){if(e){var n=Number.parseInt(e,10);if(!Ci(n))return t==null?void 0:t[n]}}var yce={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},g5=ii({name:"options",initialState:yce,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),vce=g5.reducer,{createEventEmitter:_ce}=g5.actions;function Tce(t){return t.tooltip.syncInteraction}var Ece={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},y5=ii({name:"chartData",initialState:Ece,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:G2,setDataStartEndIndexes:wce,setComputedData:Gbe}=y5.actions,Sce=y5.reducer,v5=()=>{};function bce(){var t=Le(kx),e=Le(Ox),n=qn(),r=Le(i$),i=Le(Ls),o=ox(),s=ix(),u=Le(c=>c.rootProps.className);M.useEffect(()=>{if(t==null)return v5;var c=(f,h,y)=>{if(e!==y&&t===f){if(r==="index"){n(h);return}if(i!=null){var v;if(typeof r=="function"){var E={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},S=r(i,E);v=i[S]}else r==="value"&&(v=i.find(G=>String(G.value)===h.payload.label));var{coordinate:b}=h.payload;if(v==null||h.payload.active===!1||b==null||s==null){n(EA({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:I,y:R}=b,D=Math.min(I,s.x+s.width),C=Math.min(R,s.y+s.height),q={x:o==="horizontal"?v.coordinate:D,y:o==="horizontal"?C:v.coordinate},L=EA({active:h.payload.active,coordinate:q,dataKey:h.payload.dataKey,index:String(v.index),label:h.payload.label});n(L)}}};return nm.on(bA,c),()=>{nm.off(bA,c)}},[u,n,e,t,r,i,o,s])}function Ace(){var t=Le(kx),e=Le(Ox),n=qn();M.useEffect(()=>{if(t==null)return v5;var r=(i,o,s)=>{e!==s&&t===i&&n(wce(o))};return nm.on(H2,r),()=>{nm.off(H2,r)}},[n,e,t])}function Ice(){var t=qn();M.useEffect(()=>{t(_ce())},[t]),bce(),Ace()}function Cce(t,e,n,r,i,o){var s=Le(v=>nce(v,t,e)),u=Le(Ox),c=Le(kx),f=Le(i$),h=Le(Tce),y=h==null?void 0:h.active;M.useEffect(()=>{if(!y&&c!=null&&u!=null){var v=EA({active:o,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r});nm.emit(bA,c,v,u)}},[y,n,s,i,r,u,c,f,o])}function K2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K2(Object(n),!0).forEach(function(r){xce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xce(t,e,n){return(e=Rce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rce(t){var e=Pce(t,"string");return typeof e=="symbol"?e:e+""}function Pce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mce(t){return t.dataKey}function Dce(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(nie,e)}var j2=[],Nce={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Pm.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function kce(t){var e=Vu(t,Nce),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:s,filterNull:u,isAnimationActive:c,offset:f,payloadUniqBy:h,position:y,reverseDirection:v,useTranslate3d:E,wrapperStyle:S,cursor:b,shared:I,trigger:R,defaultIndex:D,portal:C,axisId:q}=e,L=qn(),G=typeof D=="number"?String(D):D;M.useEffect(()=>{L(aue({shared:I,trigger:R,axisId:q,active:n,defaultIndex:G}))},[L,I,R,q,n,G]);var N=ix(),O=J3(),k=nue(I),{activeIndex:B,isActive:F}=Le(ke=>oce(ke,k,R,G)),$=Le(ke=>ice(ke,k,R,G)),z=Le(ke=>p5(ke,k,R,G)),Re=Le(ke=>rce(ke,k,R,G)),we=$,ee=dce(),pe=n??F,[Se,Be]=lne([we,pe]),W=k==="axis"?z:void 0;Cce(k,R,Re,W,B,pe);var ce=C??ee;if(ce==null)return null;var ae=we??j2;pe||(ae=j2),u&&ae.length&&(ae=kte(we.filter(ke=>ke.value!=null&&(ke.hide!==!0||e.includeHidden)),h,Mce));var ge=ae.length>0,Pe=M.createElement(uie,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:c,active:pe,coordinate:Re,hasPayload:ge,offset:f,position:y,reverseDirection:v,useTranslate3d:E,viewBox:N,wrapperStyle:S,lastBoundingBox:Se,innerRef:Be,hasPortalFromProps:!!C},Dce(s,W2(W2({},e),{},{payload:ae,label:W,active:pe,coordinate:Re,accessibilityLayer:O})));return M.createElement(M.Fragment,null,z9.createPortal(Pe,ce),pe&&M.createElement(fce,{cursor:b,tooltipEventType:k,coordinate:Re,payload:we,index:B}))}var MS={},DS={},NS={},Y2;function Oce(){return Y2||(Y2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let s,u=null;const c=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),h=()=>{u!==null&&(n.apply(s,u),s=void 0,u=null)},y=()=>{f&&h(),b()};let v=null;const E=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,y()},r)},S=()=>{v!==null&&(clearTimeout(v),v=null)},b=()=>{S(),s=void 0,u=null},I=()=>{h()},R=function(...D){if(i!=null&&i.aborted)return;s=this,u=D;const C=v==null;E(),c&&C&&h()};return R.schedule=E,R.cancel=b,R.flush=I,i==null||i.addEventListener("abort",b,{once:!0}),R}t.debounce=e})(NS)),NS}var J2;function Vce(){return J2||(J2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Oce();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:s=!1,trailing:u=!0,maxWait:c}=o,f=Array(2);s&&(f[0]="leading"),u&&(f[1]="trailing");let h,y=null;const v=e.debounce(function(...b){h=r.apply(this,b),y=null},i,{edges:f}),E=function(...b){return c!=null&&(y===null&&(y=Date.now()),Date.now()-y>=c)?(h=r.apply(this,b),y=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,b),h)},S=()=>(v.flush(),h);return E.cancel=v.cancel,E.flush=S,E}t.debounce=n})(DS)),DS}var Q2;function Lce(){return Q2||(Q2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Vce();function n(r,i=0,o={}){const{leading:s=!0,trailing:u=!0}=o;return e.debounce(r,i,{leading:s,maxWait:i,trailing:u})}t.throttle=n})(MS)),MS}var kS,X2;function Uce(){return X2||(X2=1,kS=Lce().throttle),kS}var Fce=Uce();const Bce=Ki(Fce);var OS=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function Z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z2(Object(n),!0).forEach(function(r){qce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qce(t,e,n){return(e=$ce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ce(t){var e=zce(t,"string");return typeof e=="symbol"?e:e+""}function zce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hce=M.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:s=0,minHeight:u,maxHeight:c,children:f,debounce:h=0,id:y,className:v,onResize:E,style:S={}}=t,b=M.useRef(null),I=M.useRef();I.current=E,M.useImperativeHandle(e,()=>b.current);var[R,D]=M.useState({containerWidth:r.width,containerHeight:r.height}),C=M.useCallback((L,G)=>{D(N=>{var O=Math.round(L),k=Math.round(G);return N.containerWidth===O&&N.containerHeight===k?N:{containerWidth:O,containerHeight:k}})},[]);M.useEffect(()=>{var L=k=>{var B,{width:F,height:$}=k[0].contentRect;C(F,$),(B=I.current)===null||B===void 0||B.call(I,F,$)};h>0&&(L=Bce(L,h,{trailing:!0,leading:!1}));var G=new ResizeObserver(L),{width:N,height:O}=b.current.getBoundingClientRect();return C(N,O),G.observe(b.current),()=>{G.disconnect()}},[C,h]);var q=M.useMemo(()=>{var{containerWidth:L,containerHeight:G}=R;if(L<0||G<0)return null;OS(Zl(i)||Zl(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),OS(!n||n>0,"The aspect(%s) must be greater than zero.",n);var N=Zl(i)?L:i,O=Zl(o)?G:o;return n&&n>0&&(N?O=N/n:O&&(N=O*n),c&&O>c&&(O=c)),OS(N>0||O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,O,i,o,s,u,n),M.Children.map(f,k=>M.cloneElement(k,{width:N,height:O,style:VS({width:N,height:O},k.props.style)}))},[n,f,o,c,u,s,R,i]);return M.createElement("div",{id:y?"".concat(y):void 0,className:Nt("recharts-responsive-container",v),style:VS(VS({},S),{},{width:i,height:o,minWidth:s,minHeight:u,maxHeight:c}),ref:b},M.createElement("div",{style:{width:0,height:0,overflow:"visible"}},q))}),_5=t=>null;_5.displayName="Cell";function Gce(t,e,n){return(e=Kce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kce(t){var e=Wce(t,"string");return typeof e=="symbol"?e:e+""}function Wce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jce{constructor(e){Gce(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function eV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eV(Object(n),!0).forEach(function(r){Jce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jce(t,e,n){return(e=Qce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qce(t){var e=Xce(t,"string");return typeof e=="symbol"?e:e+""}function Xce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zce={cacheSize:2e3,enableCache:!0},T5=Yce({},Zce),tV=new jce(T5.cacheSize),efe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},nV="recharts_measurement_span";function tfe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",s=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(s,"|").concat(u)}var rV=(t,e)=>{try{var n=document.getElementById(nV);n||(n=document.createElement("span"),n.setAttribute("id",nV),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,efe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Ep=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Pm.isSsr)return{width:0,height:0};if(!T5.enableCache)return rV(e,n);var r=tfe(e,n),i=tV.get(r);if(i)return i;var o=rV(e,n);return tV.set(r,o),o},iV=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oV=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nfe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,rfe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,E5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ife=Object.keys(E5),Qc="NaN";function ofe(t,e){return t*E5[e]}class xr{static parse(e){var n,[,r,i]=(n=rfe.exec(e))!==null&&n!==void 0?n:[];return new xr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Ci(e)&&(this.unit=""),n!==""&&!nfe.test(n)&&(this.num=NaN,this.unit=""),ife.includes(n)&&(this.num=ofe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new xr(NaN,""):new xr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new xr(NaN,""):new xr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new xr(NaN,""):new xr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new xr(NaN,""):new xr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ci(this.num)}}function w5(t){if(t.includes(Qc))return Qc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=iV.exec(e))!==null&&n!==void 0?n:[],s=xr.parse(r??""),u=xr.parse(o??""),c=i==="*"?s.multiply(u):s.divide(u);if(c.isNaN())return Qc;e=e.replace(iV,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,h,y,v]=(f=oV.exec(e))!==null&&f!==void 0?f:[],E=xr.parse(h??""),S=xr.parse(v??""),b=y==="+"?E.add(S):E.subtract(S);if(b.isNaN())return Qc;e=e.replace(oV,b.toString())}return e}var sV=/\(([^()]*)\)/;function sfe(t){for(var e=t,n;(n=sV.exec(e))!=null;){var[,r]=n;e=e.replace(sV,w5(r))}return e}function afe(t){var e=t.replace(/\s+/g,"");return e=sfe(e),e=w5(e),e}function lfe(t){try{return afe(t)}catch{return Qc}}function LS(t){var e=lfe(t.slice(5,-1));return e===Qc?"":e}var ufe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],cfe=["dx","dy","angle","className","breakAll"];function AA(){return AA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AA.apply(null,arguments)}function aV(t,e){if(t==null)return{};var n,r,i=ffe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ffe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var S5=/[ \f\n\r\t\v\u2028\u2029]+/,b5=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];An(e)||(n?i=e.toString().split(""):i=e.toString().split(S5));var o=i.map(u=>({word:u,width:Ep(u,r).width})),s=n?0:Ep(" ",r).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},dfe=(t,e,n,r,i)=>{var{maxLines:o,children:s,style:u,breakAll:c}=t,f=De(o),h=s,y=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(($,z)=>{var{word:Re,width:we}=z,ee=$[$.length-1];if(ee&&(r==null||i||ee.width+we+n<Number(r)))ee.words.push(Re),ee.width+=we+n;else{var pe={words:[Re],width:we};$.push(pe)}return $},[])},v=y(e),E=B=>B.reduce((F,$)=>F.width>$.width?F:$);if(!f||i)return v;var S=v.length>o||E(v).width>Number(r);if(!S)return v;for(var b="…",I=B=>{var F=h.slice(0,B),$=b5({breakAll:c,style:u,children:F+b}).wordsWithComputedWidth,z=y($),Re=z.length>o||E(z).width>Number(r);return[Re,z]},R=0,D=h.length-1,C=0,q;R<=D&&C<=h.length-1;){var L=Math.floor((R+D)/2),G=L-1,[N,O]=I(G),[k]=I(L);if(!N&&!k&&(R=L+1),N&&k&&(D=L-1),!N&&k){q=O;break}C++}return q||v},lV=t=>{var e=An(t)?[]:t.toString().split(S5);return[{words:e}]},hfe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:s}=t;if((e||n)&&!Pm.isSsr){var u,c,f=b5({breakAll:o,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:y}=f;u=h,c=y}else return lV(r);return dfe({breakAll:o,children:r,maxLines:s,style:i},u,c,e,n)}return lV(r)},uV="#808080",iR=M.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:s=!1,textAnchor:u="start",verticalAnchor:c="end",fill:f=uV}=t,h=aV(t,ufe),y=M.useMemo(()=>hfe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:s,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,s,h.style,h.width]),{dx:v,dy:E,angle:S,className:b,breakAll:I}=h,R=aV(h,cfe);if(!No(n)||!No(r))return null;var D=n+(De(v)?v:0),C=r+(De(E)?E:0),q;switch(c){case"start":q=LS("calc(".concat(o,")"));break;case"middle":q=LS("calc(".concat((y.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:q=LS("calc(".concat(y.length-1," * -").concat(i,")"));break}var L=[];if(s){var G=y[0].width,{width:N}=h;L.push("scale(".concat(De(N)?N/G:1,")"))}return S&&L.push("rotate(".concat(S,", ").concat(D,", ").concat(C,")")),L.length&&(R.transform=L.join(" ")),M.createElement("text",AA({},Fn(R,!0),{ref:e,x:D,y:C,className:Nt("recharts-text",b),textAnchor:u,fill:f.includes("url")?uV:f}),y.map((O,k)=>{var B=O.words.join(I?"":" ");return M.createElement("tspan",{x:D,dy:k===0?q:i,key:"".concat(B,"-").concat(k)},B)}))});iR.displayName="Text";var pfe=["offset"],mfe=["labelRef"];function cV(t,e){if(t==null)return{};var n,r,i=gfe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fV(Object(n),!0).forEach(function(r){yfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yfe(t,e,n){return(e=vfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vfe(t){var e=_fe(t,"string");return typeof e=="symbol"?e:e+""}function _fe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ls(){return ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ls.apply(null,arguments)}var Tfe=t=>{var{value:e,formatter:n}=t,r=An(t.children)?e:t.children;return typeof n=="function"?n(r):r},oR=t=>t!=null&&typeof t=="function",Efe=(t,e)=>{var n=Xr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},wfe=(t,e,n,r)=>{var{position:i,offset:o,className:s}=t,{cx:u,cy:c,innerRadius:f,outerRadius:h,startAngle:y,endAngle:v,clockWise:E}=r,S=(f+h)/2,b=Efe(y,v),I=b>=0?1:-1,R,D;i==="insideStart"?(R=y+I*o,D=E):i==="insideEnd"?(R=v-I*o,D=!E):i==="end"&&(R=v+I*o,D=E),D=b<=0?D:!D;var C=Zn(u,c,S,R),q=Zn(u,c,S,R+(D?1:-1)*359),L="M".concat(C.x,",").concat(C.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(D?0:1,`,
    `).concat(q.x,",").concat(q.y),G=An(t.id)?Wp("recharts-radial-line-"):t.id;return M.createElement("text",ls({},n,{dominantBaseline:"central",className:Nt("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:G,d:L})),M.createElement("textPath",{xlinkHref:"#".concat(G)},e))},Sfe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:u,endAngle:c}=t,f=(u+c)/2;if(n==="outside"){var{x:h,y}=Zn(r,i,s+e,f);return{x:h,y,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(o+s)/2,{x:E,y:S}=Zn(r,i,v,f);return{x:E,y:S,textAnchor:"middle",verticalAnchor:"middle"}},bfe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:o,y:s,width:u,height:c}=e,f=c>=0?1:-1,h=f*r,y=f>0?"end":"start",v=f>0?"start":"end",E=u>=0?1:-1,S=E*r,b=E>0?"end":"start",I=E>0?"start":"end";if(i==="top"){var R={x:o+u/2,y:s-f*r,textAnchor:"middle",verticalAnchor:y};return Yt(Yt({},R),n?{height:Math.max(s-n.y,0),width:u}:{})}if(i==="bottom"){var D={x:o+u/2,y:s+c+h,textAnchor:"middle",verticalAnchor:v};return Yt(Yt({},D),n?{height:Math.max(n.y+n.height-(s+c),0),width:u}:{})}if(i==="left"){var C={x:o-S,y:s+c/2,textAnchor:b,verticalAnchor:"middle"};return Yt(Yt({},C),n?{width:Math.max(C.x-n.x,0),height:c}:{})}if(i==="right"){var q={x:o+u+S,y:s+c/2,textAnchor:I,verticalAnchor:"middle"};return Yt(Yt({},q),n?{width:Math.max(n.x+n.width-q.x,0),height:c}:{})}var L=n?{width:u,height:c}:{};return i==="insideLeft"?Yt({x:o+S,y:s+c/2,textAnchor:I,verticalAnchor:"middle"},L):i==="insideRight"?Yt({x:o+u-S,y:s+c/2,textAnchor:b,verticalAnchor:"middle"},L):i==="insideTop"?Yt({x:o+u/2,y:s+h,textAnchor:"middle",verticalAnchor:v},L):i==="insideBottom"?Yt({x:o+u/2,y:s+c-h,textAnchor:"middle",verticalAnchor:y},L):i==="insideTopLeft"?Yt({x:o+S,y:s+h,textAnchor:I,verticalAnchor:v},L):i==="insideTopRight"?Yt({x:o+u-S,y:s+h,textAnchor:b,verticalAnchor:v},L):i==="insideBottomLeft"?Yt({x:o+S,y:s+c-h,textAnchor:I,verticalAnchor:y},L):i==="insideBottomRight"?Yt({x:o+u-S,y:s+c-h,textAnchor:b,verticalAnchor:y},L):i&&typeof i=="object"&&(De(i.x)||Zl(i.x))&&(De(i.y)||Zl(i.y))?Yt({x:o+Gi(i.x,u),y:s+Gi(i.y,c),textAnchor:"end",verticalAnchor:"end"},L):Yt({x:o+u/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},L)},Afe=t=>"cx"in t&&De(t.cx);function Yr(t){var{offset:e=5}=t,n=cV(t,pfe),r=Yt({offset:e},n),{viewBox:i,position:o,value:s,children:u,content:c,className:f="",textBreakAll:h,labelRef:y}=r,v=Le(u$),E=ix(),S=o==="center"?E:v??E,b=i||S;if(!b||An(s)&&An(u)&&!M.isValidElement(c)&&typeof c!="function")return null;var I=Yt(Yt({},r),{},{viewBox:b});if(M.isValidElement(c)){var{labelRef:R}=I,D=cV(I,mfe);return M.cloneElement(c,D)}var C;if(typeof c=="function"){if(C=M.createElement(c,I),M.isValidElement(C))return C}else C=Tfe(r);var q=Afe(b),L=Fn(r,!0);if(q&&(o==="insideStart"||o==="insideEnd"||o==="end"))return wfe(r,C,L,b);var G=q?Sfe(b,r.offset,r.position):bfe(r,b);return M.createElement(iR,ls({ref:y,className:Nt("recharts-label",f)},L,G,{breakAll:h}),C)}Yr.displayName="Label";var A5=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:o,r:s,radius:u,innerRadius:c,outerRadius:f,x:h,y,top:v,left:E,width:S,height:b,clockWise:I,labelViewBox:R}=t;if(R)return R;if(De(S)&&De(b)){if(De(h)&&De(y))return{x:h,y,width:S,height:b};if(De(v)&&De(E))return{x:v,y:E,width:S,height:b}}if(De(h)&&De(y))return{x:h,y,width:0,height:0};if(De(e)&&De(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:c||0,outerRadius:f||u||s||0,clockWise:I};if(t.viewBox)return t.viewBox},Ife=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?M.createElement(Yr,ls({key:"label-implicit"},r)):No(t)?M.createElement(Yr,ls({key:"label-implicit",value:t},r)):M.isValidElement(t)?t.type===Yr?M.cloneElement(t,Yt({key:"label-implicit"},r)):M.createElement(Yr,ls({key:"label-implicit",content:t},r)):oR(t)?M.createElement(Yr,ls({key:"label-implicit",content:t},r)):t&&typeof t=="object"?M.createElement(Yr,ls({},t,{key:"label-implicit"},r)):null},Cfe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:o}=e,s=A5(e),u=BC(i,Yr).map((f,h)=>M.cloneElement(f,{viewBox:n||s,key:"label-".concat(h)}));if(!r)return u;var c=Ife(e.label,n||s,o);return[c,...u]};Yr.parseViewBox=A5;Yr.renderCallByParent=Cfe;var US={},FS={},dV;function xfe(){return dV||(dV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(FS)),FS}var BS={},hV;function Rfe(){return hV||(hV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(BS)),BS}var pV;function Pfe(){return pV||(pV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xfe(),n=Rfe(),r=HC();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(US)),US}var qS,mV;function Mfe(){return mV||(mV=1,qS=Pfe().last),qS}var Dfe=Mfe();const Nfe=Ki(Dfe);var kfe=["valueAccessor"],Ofe=["data","dataKey","clockWise","id","textBreakAll"];function u_(){return u_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u_.apply(null,arguments)}function gV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gV(Object(n),!0).forEach(function(r){Vfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vfe(t,e,n){return(e=Lfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lfe(t){var e=Ufe(t,"string");return typeof e=="symbol"?e:e+""}function Ufe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vV(t,e){if(t==null)return{};var n,r,i=Ffe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ffe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Bfe=t=>Array.isArray(t.value)?Nfe(t.value):t.value;function cu(t){var{valueAccessor:e=Bfe}=t,n=vV(t,kfe),{data:r,dataKey:i,clockWise:o,id:s,textBreakAll:u}=n,c=vV(n,Ofe);return!r||!r.length?null:M.createElement(Ka,{className:"recharts-label-list"},r.map((f,h)=>{var y=An(i)?e(f,h):wr(f&&f.payload,i),v=An(s)?{}:{id:"".concat(s,"-").concat(h)};return M.createElement(Yr,u_({},Fn(f,!0),c,v,{parentViewBox:f.parentViewBox,value:y,textBreakAll:u,viewBox:Yr.parseViewBox(An(o)?f:yV(yV({},f),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}cu.displayName="LabelList";function qfe(t,e){return t?t===!0?M.createElement(cu,{key:"labelList-implicit",data:e}):M.isValidElement(t)||oR(t)?M.createElement(cu,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?M.createElement(cu,u_({data:e},t,{key:"labelList-implicit"})):null:null}function $fe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=BC(r,cu).map((s,u)=>M.cloneElement(s,{data:e,key:"labelList-".concat(u)}));if(!n)return i;var o=qfe(t.label,e);return[o,...i]}cu.renderCallByParent=$fe;var zfe={radiusAxis:{},angleAxis:{}},I5=ii({name:"polarAxis",initialState:zfe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Kbe,removeRadiusAxis:Wbe,addAngleAxis:jbe,removeAngleAxis:Ybe}=I5.actions,Hfe=I5.reducer,$S={},_V;function Gfe(){return _V||(_V=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})($S)),$S}var zS,TV;function Kfe(){return TV||(TV=1,zS=Gfe().isPlainObject),zS}var Wfe=Kfe();const jfe=Ki(Wfe);function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c_.apply(null,arguments)}var EV=(t,e,n,r,i)=>{var o=n-r,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+n,",").concat(e),s+="L ".concat(t+n-o/2,",").concat(e+i),s+="L ".concat(t+n-o/2-r,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},Yfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Jfe=t=>{var e=Vu(t,Yfe),n=M.useRef(),[r,i]=M.useState(-1);M.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&i(I)}catch{}},[]);var{x:o,y:s,upperWidth:u,lowerWidth:c,height:f,className:h}=e,{animationEasing:y,animationDuration:v,animationBegin:E,isUpdateAnimationActive:S}=e;if(o!==+o||s!==+s||u!==+u||c!==+c||f!==+f||u===0&&c===0||f===0)return null;var b=Nt("recharts-trapezoid",h);return S?M.createElement(jv,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:f,x:o,y:s},to:{upperWidth:u,lowerWidth:c,height:f,x:o,y:s},duration:v,animationEasing:y,isActive:S},I=>{var{upperWidth:R,lowerWidth:D,height:C,x:q,y:L}=I;return M.createElement(jv,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:E,duration:v,easing:y},M.createElement("path",c_({},Fn(e,!0),{className:b,d:EV(q,L,R,D,C),ref:n})))}):M.createElement("g",null,M.createElement("path",c_({},Fn(e,!0),{className:b,d:EV(o,s,u,c,f)})))},Qfe=["option","shapeType","propTransformer","activeClassName","isActive"];function Xfe(t,e){if(t==null)return{};var n,r,i=Zfe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function f_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wV(Object(n),!0).forEach(function(r){ede(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ede(t,e,n){return(e=tde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tde(t){var e=nde(t,"string");return typeof e=="symbol"?e:e+""}function nde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rde(t,e){return f_(f_({},e),t)}function ide(t,e){return t==="symbols"}function SV(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return M.createElement(r6,n);case"trapezoid":return M.createElement(Jfe,n);case"sector":return M.createElement(s6,n);case"symbols":if(ide(e))return M.createElement(c3,n);break;default:return null}}function ode(t){return M.isValidElement(t)?t.props:t}function sde(t){var{option:e,shapeType:n,propTransformer:r=rde,activeClassName:i="recharts-active-shape",isActive:o}=t,s=Xfe(t,Qfe),u;if(M.isValidElement(e))u=M.cloneElement(e,f_(f_({},s),ode(e)));else if(typeof e=="function")u=e(s);else if(jfe(e)&&typeof e!="boolean"){var c=r(e,s);u=M.createElement(SV,{shapeType:n,elementProps:c})}else{var f=s;u=M.createElement(SV,{shapeType:n,elementProps:f})}return o?M.createElement(Ka,{className:i},u):u}var C5=(t,e)=>{var n=qn();return(r,i)=>o=>{t==null||t(r,i,o),n(J$({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},x5=t=>{var e=qn();return(n,r)=>i=>{t==null||t(n,r,i),e(lue())}},R5=(t,e)=>{var n=qn();return(r,i)=>o=>{t==null||t(r,i,o),n(uue({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function ade(t){var{fn:e,args:n}=t,r=qn(),i=Ji();return M.useEffect(()=>{if(!i){var o=e(n);return r(oue(o)),()=>{r(sue(o))}}},[e,n,r,i]),null}var lde=()=>{};function ude(t){var{legendPayload:e}=t,n=qn(),r=Ji();return M.useEffect(()=>r?lde:(n(Yre(e)),()=>{n(Jre(e))}),[n,r,e]),null}function cde(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=M.useRef(Wp(e)),r=M.useRef(t);return r.current!==t&&(n.current=Wp(e),r.current=t),n.current}var HS,fde=()=>{var[t]=M.useState(()=>Wp("uid-"));return t},dde=(HS=hG.useId)!==null&&HS!==void 0?HS:fde;function hde(t,e){var n=dde();return e||(t?"".concat(t,"-").concat(n):n)}var pde=M.createContext(void 0),mde=t=>{var{id:e,type:n,children:r}=t,i=hde("recharts-".concat(n),e);return M.createElement(pde.Provider,{value:i},r(i))},gde={cartesianItems:[],polarItems:[]},P5=ii({name:"graphicalItems",initialState:gde,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=ms(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=ms(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=ms(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:yde,replaceCartesianGraphicalItem:vde,removeCartesianGraphicalItem:_de,addPolarGraphicalItem:Jbe,removePolarGraphicalItem:Qbe}=P5.actions,Tde=P5.reducer;function Ede(t){var e=qn(),n=M.useRef(null);return M.useEffect(()=>{n.current===null?e(yde(t)):n.current!==t&&e(vde({prev:n.current,next:t})),n.current=t},[e,t]),M.useEffect(()=>()=>{n.current&&(e(_de(n.current)),n.current=null)},[e]),null}function wde(){}var Sde={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},bV={t:0},GS={t:1};function bde(t){var e=Vu(t,Sde),{isActive:n,canBegin:r,duration:i,easing:o,begin:s,onAnimationEnd:u,onAnimationStart:c,children:f}=e,h=n6("JavascriptAnimate",e.animationManager),[y,v]=M.useState(n?bV:GS),E=M.useRef(null);return M.useEffect(()=>{n||v(GS)},[n]),M.useEffect(()=>{if(!n||!r)return wde;var S=t6(bV,GS,Z3(o),i,v,h.getTimeoutController()),b=()=>{E.current=S()};return h.start([c,s,b,i,u]),()=>{h.stop(),E.current&&E.current(),u()}},[n,r,i,o,s,c,u,h]),f(y.t)}var Ade=oe([$n],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Ide=oe([Ade,Ns,ks],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),M5=()=>Le(Ide),Cde="Invariant failed";function xde(t,e){throw new Error(Cde)}var Rde=["x","y"];function IA(){return IA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IA.apply(null,arguments)}function AV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AV(Object(n),!0).forEach(function(r){Pde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pde(t,e,n){return(e=Mde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mde(t){var e=Dde(t,"string");return typeof e=="symbol"?e:e+""}function Dde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nde(t,e){if(t==null)return{};var n,r,i=kde(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ode(t,e){var{x:n,y:r}=t,i=Nde(t,Rde),o="".concat(n),s=parseInt(o,10),u="".concat(r),c=parseInt(u,10),f="".concat(e.height||i.height),h=parseInt(f,10),y="".concat(e.width||i.width),v=parseInt(y,10);return Wh(Wh(Wh(Wh(Wh({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:v,name:e.name,radius:e.radius})}function D5(t){return M.createElement(sde,IA({shapeType:"rectangle",propTransformer:Ode,activeClassName:"recharts-active-bar"},t))}var Vde=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(De(e))return e;var o=De(r)||An(r);return o?e(r,i):(o||xde(),n)}},Lde={},N5=ii({name:"errorBars",initialState:Lde,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Xbe,removeErrorBar:Zbe}=N5.actions,Ude=N5.reducer,Fde=["children"];function Bde(t,e){if(t==null)return{};var n,r,i=qde(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $de={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},zde=M.createContext($de);function Hde(t){var{children:e}=t,n=Bde(t,Fde);return M.createElement(zde.Provider,{value:n},e)}function k5(t,e){var n,r,i=Le(f=>Vs(f,t)),o=Le(f=>rl(f,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Hr.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:Gr.allowDataOverflow,c=s||u;return{needClip:c,needClipX:s,needClipY:u}}function Gde(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=M5(),{needClipX:o,needClipY:s,needClip:u}=k5(e,n);if(!u)return null;var{x:c,y:f,width:h,height:y}=i;return M.createElement("clipPath",{id:"clipPath-".concat(r)},M.createElement("rect",{x:o?c:c-h/2,y:s?f:f-y/2,width:o?h:h*2,height:s?y:y*2}))}var Kde=["onMouseEnter","onMouseLeave","onClick"],Wde=["value","background","tooltipPosition"],jde=["id"],Yde=["onMouseEnter","onClick","onMouseLeave"];function Gf(){return Gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gf.apply(null,arguments)}function IV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IV(Object(n),!0).forEach(function(r){Jde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jde(t,e,n){return(e=Qde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qde(t){var e=Xde(t,"string");return typeof e=="symbol"?e:e+""}function Xde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d_(t,e){if(t==null)return{};var n,r,i=Zde(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ehe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:K3(n,e),payload:t}]};function the(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:o,hide:s,unit:u}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:K3(o,e),hide:s,type:t.tooltipType,color:t.fill,unit:u}}}function nhe(t){var e=Le(Hf),{data:n,dataKey:r,background:i,allOtherBarProps:o}=t,{onMouseEnter:s,onMouseLeave:u,onClick:c}=o,f=d_(o,Kde),h=C5(s,r),y=x5(u),v=R5(c,r);if(!i||n==null)return null;var E=Fn(i,!1);return M.createElement(M.Fragment,null,n.map((S,b)=>{var{value:I,background:R,tooltipPosition:D}=S,C=d_(S,Wde);if(!R)return null;var q=h(S,b),L=y(S,b),G=v(S,b),N=lr(lr(lr(lr(lr({option:i,isActive:String(b)===e},C),{},{fill:"#eee"},R),E),FC(f,S,b)),{},{onMouseEnter:q,onMouseLeave:L,onClick:G,dataKey:r,index:b,className:"recharts-bar-background-rectangle"});return M.createElement(D5,Gf({key:"background-bar-".concat(b)},N))}))}function O5(t){var{data:e,props:n,showLabels:r}=t,i=o0(n),{id:o}=i,s=d_(i,jde),{shape:u,dataKey:c,activeBar:f}=n,h=Le(Hf),y=Le(u5),{onMouseEnter:v,onClick:E,onMouseLeave:S}=n,b=d_(n,Yde),I=C5(v,c),R=x5(S),D=R5(E,c);return e?M.createElement(M.Fragment,null,e.map((C,q)=>{var L=f&&String(q)===h&&(y==null||c===y),G=L?f:u,N=lr(lr(lr({},s),C),{},{isActive:L,option:G,index:q,dataKey:c});return M.createElement(Ka,Gf({className:"recharts-bar-rectangle"},FC(b,C,q),{onMouseEnter:I(C,q),onMouseLeave:R(C,q),onClick:D(C,q),key:"rectangle-".concat(C==null?void 0:C.x,"-").concat(C==null?void 0:C.y,"-").concat(C==null?void 0:C.value,"-").concat(q)}),M.createElement(D5,N))}),r&&cu.renderCallByParent(n,e)):null}function rhe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:o,animationBegin:s,animationDuration:u,animationEasing:c,onAnimationEnd:f,onAnimationStart:h}=e,y=n.current,v=cde(e,"recharts-bar-"),[E,S]=M.useState(!1),b=M.useCallback(()=>{typeof f=="function"&&f(),S(!1)},[f]),I=M.useCallback(()=>{typeof h=="function"&&h(),S(!0)},[h]);return M.createElement(bde,{begin:s,duration:u,isActive:o,easing:c,onAnimationEnd:b,onAnimationStart:I,key:v},R=>{var D=R===1?r:r==null?void 0:r.map((C,q)=>{var L=y&&y[q];if(L)return lr(lr({},C),{},{x:$c(L.x,C.x,R),y:$c(L.y,C.y,R),width:$c(L.width,C.width,R),height:$c(L.height,C.height,R)});if(i==="horizontal"){var G=$c(0,C.height,R);return lr(lr({},C),{},{y:C.y+C.height-G,height:G})}var N=$c(0,C.width,R);return lr(lr({},C),{},{width:N})});return R>0&&(n.current=D??null),D==null?null:M.createElement(Ka,null,M.createElement(O5,{props:e,data:D,showLabels:!E}))})}function ihe(t){var{data:e,isAnimationActive:n}=t,r=M.useRef(null);return n&&e&&e.length&&(r.current==null||r.current!==e)?M.createElement(rhe,{previousRectanglesRef:r,props:t}):M.createElement(O5,{props:t,data:e,showLabels:!0})}var V5=0,ohe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:wr(t,e)}};class she extends M.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:s,needClip:u,background:c,id:f}=this.props;if(e)return null;var h=Nt("recharts-bar",i),y=f;return M.createElement(Ka,{className:h,id:f},u&&M.createElement("defs",null,M.createElement(Gde,{clipPathId:y,xAxisId:o,yAxisId:s})),M.createElement(Ka,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(y,")"):void 0},M.createElement(nhe,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),M.createElement(ihe,this.props)),this.props.children)}}var ahe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Pm.isSsr,legendType:"rect",minPointSize:V5,xAxisId:0,yAxisId:0};function lhe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:s,animationBegin:u,animationDuration:c,animationEasing:f,isAnimationActive:h}=t,{needClip:y}=k5(e,n),v=ox(),E=Ji(),S=BC(t.children,_5),b=Le(D=>Ohe(D,e,n,E,t.id,S));if(v!=="vertical"&&v!=="horizontal")return null;var I,R=b==null?void 0:b[0];return R==null||R.height==null||R.width==null?I=0:I=v==="vertical"?R.height/2:R.width/2,M.createElement(Hde,{xAxisId:e,yAxisId:n,data:b,dataPointFormatter:ohe,errorBarOffset:I},M.createElement(she,Gf({},t,{layout:v,needClip:y,data:b,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:s,animationBegin:u,animationDuration:c,animationEasing:f,isAnimationActive:h})))}function uhe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:s,yAxis:u,xAxisTicks:c,yAxisTicks:f,stackedData:h,displayedData:y,offset:v,cells:E}=t,S=e==="horizontal"?u:s,b=h?S.scale.domain():null,I=xre({numericAxis:S});return y.map((R,D)=>{var C,q,L,G,N,O;h?C=wre(h[D],b):(C=wr(R,n),Array.isArray(C)||(C=[I,C]));var k=Vde(r,V5)(C[1],D);if(e==="horizontal"){var B,[F,$]=[u.scale(C[0]),u.scale(C[1])];q=vO({axis:s,ticks:c,bandSize:o,offset:i.offset,entry:R,index:D}),L=(B=$??F)!==null&&B!==void 0?B:void 0,G=i.size;var z=F-$;if(N=Ci(z)?0:z,O={x:q,y:v.top,width:G,height:v.height},Math.abs(k)>0&&Math.abs(N)<Math.abs(k)){var Re=Xr(N||k)*(Math.abs(k)-Math.abs(N));L-=Re,N+=Re}}else{var[we,ee]=[s.scale(C[0]),s.scale(C[1])];if(q=we,L=vO({axis:u,ticks:f,bandSize:o,offset:i.offset,entry:R,index:D}),G=ee-we,N=i.size,O={x:v.left,y:L,width:v.width,height:N},Math.abs(k)>0&&Math.abs(G)<Math.abs(k)){var pe=Xr(G||k)*(Math.abs(k)-Math.abs(G));G+=pe}}if(q==null||L==null||G==null||N==null)return null;var Se=lr(lr({},R),{},{x:q,y:L,width:G,height:N,value:h?C:C[1],payload:R,background:O,tooltipPosition:{x:q+G/2,y:L+N/2}},E&&E[D]&&E[D].props);return Se}).filter(Boolean)}function L5(t){var e=Vu(t,ahe),n=Ji();return M.createElement(mde,{id:e.id,type:"bar"},r=>M.createElement(M.Fragment,null,M.createElement(ude,{legendPayload:ehe(e)}),M.createElement(ade,{fn:the,args:e}),M.createElement(Ede,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:Cre(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),M.createElement(lhe,Gf({},e,{id:r}))))}L5.displayName="Bar";function CV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CV(Object(n),!0).forEach(function(r){che(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function che(t,e,n){return(e=fhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fhe(t){var e=dhe(t,"string");return typeof e=="symbol"?e:e+""}function dhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hhe=(t,e)=>e,phe=(t,e,n)=>n,mhe=(t,e,n,r)=>r,ghe=(t,e,n,r,i)=>i,qm=oe([qx,ghe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),yhe=oe([qm],t=>t==null?void 0:t.maxBarSize),vhe=(t,e,n,r,i,o)=>o,xV=(t,e,n)=>{var r=n??t;if(!An(r))return Gi(r,e,0)},_he=oe([yt,qx,hhe,phe,mhe],(t,e,n,r,i)=>e.filter(o=>t==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),The=(t,e,n,r)=>{var i=yt(t);return i==="horizontal"?TA(t,"yAxis",n,r):TA(t,"xAxis",e,r)},Ehe=(t,e,n)=>{var r=yt(t);return r==="horizontal"?V2(t,"xAxis",e):V2(t,"yAxis",n)},whe=(t,e,n)=>{var r={},i=t.filter(R0),o=t.filter(f=>f.stackId==null),s=i.reduce((f,h)=>(f[h.stackId]||(f[h.stackId]=[]),f[h.stackId].push(h),f),r),u=Object.entries(s).map(f=>{var[h,y]=f,v=y.map(S=>S.dataKey),E=xV(e,n,y[0].barSize);return{stackId:h,dataKeys:v,barSize:E}}),c=o.map(f=>{var h=[f.dataKey].filter(v=>v!=null),y=xV(e,n,f.barSize);return{stackId:void 0,dataKeys:h,barSize:y}});return[...u,...c]},She=oe([_he,ole,Ehe],whe),bhe=(t,e,n,r,i)=>{var o,s,u=qm(t,e,n,r,i);if(u!=null){var c=yt(t),f=n$(t),{maxBarSize:h}=u,y=An(h)?f:h,v,E;return c==="horizontal"?(v=zf(t,"xAxis",e,r),E=$f(t,"xAxis",e,r)):(v=zf(t,"yAxis",n,r),E=$f(t,"yAxis",n,r)),(o=(s=tx(v,E,!0))!==null&&s!==void 0?s:y)!==null&&o!==void 0?o:0}},U5=(t,e,n,r)=>{var i=yt(t),o,s;return i==="horizontal"?(o=zf(t,"xAxis",e,r),s=$f(t,"xAxis",e,r)):(o=zf(t,"yAxis",n,r),s=$f(t,"yAxis",n,r)),tx(o,s)};function Ahe(t,e,n,r,i){var o=r.length;if(!(o<1)){var s=Gi(t,n,0,!0),u,c=[];if(ri(r[0].barSize)){var f=!1,h=n/o,y=r.reduce((R,D)=>R+(D.barSize||0),0);y+=(o-1)*s,y>=n&&(y-=(o-1)*s,s=0),y>=n&&h>0&&(f=!0,h*=.9,y=o*h);var v=(n-y)/2>>0,E={offset:v-s,size:0};u=r.reduce((R,D)=>{var C,q={stackId:D.stackId,dataKeys:D.dataKeys,position:{offset:E.offset+E.size+s,size:f?h:(C=D.barSize)!==null&&C!==void 0?C:0}},L=[...R,q];return E=L[L.length-1].position,L},c)}else{var S=Gi(e,n,0,!0);n-2*S-(o-1)*s<=0&&(s=0);var b=(n-2*S-(o-1)*s)/o;b>1&&(b>>=0);var I=ri(i)?Math.min(b,i):b;u=r.reduce((R,D,C)=>[...R,{stackId:D.stackId,dataKeys:D.dataKeys,position:{offset:S+(b+s)*C+(b-I)/2,size:I}}],c)}return u}}var Ihe=(t,e,n,r,i,o,s)=>{var u=An(s)?e:s,c=Ahe(n,r,i!==o?i:o,t,u);return i!==o&&c!=null&&(c=c.map(f=>Oy(Oy({},f),{},{position:Oy(Oy({},f.position),{},{offset:f.position.offset-i/2})}))),c},Che=oe([She,n$,ile,r$,bhe,U5,yhe],Ihe),xhe=(t,e,n,r)=>zf(t,"xAxis",e,r),Rhe=(t,e,n,r)=>zf(t,"yAxis",n,r),Phe=(t,e,n,r)=>$f(t,"xAxis",e,r),Mhe=(t,e,n,r)=>$f(t,"yAxis",n,r),Dhe=oe([Che,qm],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Nhe=(t,e)=>{var n=Fx(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:o}=i;if(o)return o.find(s=>s.key===n)}}}},khe=oe([The,qm],Nhe),Ohe=oe([$n,xhe,Rhe,Phe,Mhe,Dhe,yt,Px,U5,khe,qm,vhe],(t,e,n,r,i,o,s,u,c,f,h,y)=>{var{chartData:v,dataStartIndex:E,dataEndIndex:S}=u;if(!(h==null||o==null||s!=="horizontal"&&s!=="vertical"||e==null||n==null||r==null||i==null||c==null)){var{data:b}=h,I;if(b!=null&&b.length>0?I=b:I=v==null?void 0:v.slice(E,S+1),I!=null)return uhe({layout:s,barSettings:h,pos:o,bandSize:c,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:f,displayedData:I,offset:t,cells:y})}}),Vhe=t=>{var{chartData:e}=t,n=qn(),r=Ji();return M.useEffect(()=>r?()=>{}:(n(G2(e)),()=>{n(G2(void 0))}),[e,n,r]),null},RV={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},F5=ii({name:"brush",initialState:RV,reducers:{setBrushSettings(t,e){return e.payload==null?RV:e.payload}}}),{setBrushSettings:eAe}=F5.actions,Lhe=F5.reducer;function Uhe(t,e,n){return(e=Fhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fhe(t){var e=Bhe(t,"string");return typeof e=="symbol"?e:e+""}function Bhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class sR{static create(e){return new sR(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Uhe(sR,"EPS",1e-4);function qhe(t){return(t%180+180)%180}var $he=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=qhe(i),s=o*Math.PI/180,u=Math.atan(r/n),c=s>u&&s<Math.PI-u?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},zhe={dots:[],areas:[],lines:[]},B5=ii({name:"referenceElements",initialState:zhe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ms(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ms(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ms(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:tAe,removeDot:nAe,addArea:rAe,removeArea:iAe,addLine:oAe,removeLine:sAe}=B5.actions,Hhe=B5.reducer,Ghe=M.createContext(void 0),Khe=t=>{var{children:e}=t,[n]=M.useState("".concat(Wp("recharts"),"-clip")),r=M5();if(r==null)return null;var{x:i,y:o,width:s,height:u}=r;return M.createElement(Ghe.Provider,{value:n},M.createElement("defs",null,M.createElement("clipPath",{id:n},M.createElement("rect",{x:i,y:o,height:u,width:s}))),e)};function KS(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function q5(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Whe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return $he(r,n)}function jhe(t,e,n){var r=n==="width",{x:i,y:o,width:s,height:u}=t;return e===1?{start:r?i:o,end:r?i+s:o+u}:{start:r?i+s:o+u,end:r?i:o}}function h_(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Yhe(t,e){return q5(t,e+1)}function Jhe(t,e,n,r,i){for(var o=(r||[]).slice(),{start:s,end:u}=e,c=0,f=1,h=s,y=function(){var S=r==null?void 0:r[c];if(S===void 0)return{v:q5(r,f)};var b=c,I,R=()=>(I===void 0&&(I=n(S,b)),I),D=S.coordinate,C=c===0||h_(t,D,R,h,u);C||(c=0,h=s,f+=1),C&&(h=D+t*(R()/2+i),c+=f)},v;f<=o.length;)if(v=y(),v)return v.v;return[]}function PV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PV(Object(n),!0).forEach(function(r){Qhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qhe(t,e,n){return(e=Xhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xhe(t){var e=Zhe(t,"string");return typeof e=="symbol"?e:e+""}function Zhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function epe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,{start:u}=e,{end:c}=e,f=function(v){var E=o[v],S,b=()=>(S===void 0&&(S=n(E,v)),S);if(v===s-1){var I=t*(E.coordinate+t*b()/2-c);o[v]=E=sr(sr({},E),{},{tickCoord:I>0?E.coordinate-I*t:E.coordinate})}else o[v]=E=sr(sr({},E),{},{tickCoord:E.coordinate});var R=h_(t,E.tickCoord,b,u,c);R&&(c=E.tickCoord-t*(b()/2+i),o[v]=sr(sr({},E),{},{isShow:!0}))},h=s-1;h>=0;h--)f(h);return o}function tpe(t,e,n,r,i,o){var s=(r||[]).slice(),u=s.length,{start:c,end:f}=e;if(o){var h=r[u-1],y=n(h,u-1),v=t*(h.coordinate+t*y/2-f);s[u-1]=h=sr(sr({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate});var E=h_(t,h.tickCoord,()=>y,c,f);E&&(f=h.tickCoord-t*(y/2+i),s[u-1]=sr(sr({},h),{},{isShow:!0}))}for(var S=o?u-1:u,b=function(D){var C=s[D],q,L=()=>(q===void 0&&(q=n(C,D)),q);if(D===0){var G=t*(C.coordinate-t*L()/2-c);s[D]=C=sr(sr({},C),{},{tickCoord:G<0?C.coordinate-G*t:C.coordinate})}else s[D]=C=sr(sr({},C),{},{tickCoord:C.coordinate});var N=h_(t,C.tickCoord,L,c,f);N&&(c=C.tickCoord+t*(L()/2+i),s[D]=sr(sr({},C),{},{isShow:!0}))},I=0;I<S;I++)b(I);return s}function npe(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:s,orientation:u,interval:c,tickFormatter:f,unit:h,angle:y}=t;if(!i||!i.length||!r)return[];if(De(c)||Pm.isSsr){var v;return(v=Yhe(i,De(c)?c:0))!==null&&v!==void 0?v:[]}var E=[],S=u==="top"||u==="bottom"?"width":"height",b=h&&S==="width"?Ep(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},I=(C,q)=>{var L=typeof f=="function"?f(C.value,q):C.value;return S==="width"?Whe(Ep(L,{fontSize:e,letterSpacing:n}),b,y):Ep(L,{fontSize:e,letterSpacing:n})[S]},R=i.length>=2?Xr(i[1].coordinate-i[0].coordinate):1,D=jhe(o,R,S);return c==="equidistantPreserveStart"?Jhe(R,D,I,i,s):(c==="preserveStart"||c==="preserveStartEnd"?E=tpe(R,D,I,i,s,c==="preserveStartEnd"):E=epe(R,D,I,i,s),E.filter(C=>C.isShow))}var rpe=["viewBox"],ipe=["viewBox"];function Xc(){return Xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xc.apply(null,arguments)}function MV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MV(Object(n),!0).forEach(function(r){aR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DV(t,e){if(t==null)return{};var n,r,i=ope(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ope(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function aR(t,e,n){return(e=spe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function spe(t){var e=ape(t,"string");return typeof e=="symbol"?e:e+""}function ape(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class gd extends M.Component{constructor(e){super(e),this.tickRefs=M.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=DV(e,rpe),o=this.props,{viewBox:s}=o,u=DV(o,ipe);return!KS(r,s)||!KS(i,u)||!KS(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:o,orientation:s,tickSize:u,mirror:c,tickMargin:f}=this.props,h,y,v,E,S,b,I=c?-1:1,R=e.tickSize||u,D=De(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":h=y=e.coordinate,E=r+ +!c*o,v=E-I*R,b=v-I*f,S=D;break;case"left":v=E=e.coordinate,y=n+ +!c*i,h=y-I*R,S=h-I*f,b=D;break;case"right":v=E=e.coordinate,y=n+ +c*i,h=y+I*R,S=h+I*f,b=D;break;default:h=y=e.coordinate,E=r+ +c*o,v=E+I*R,b=v+I*f,S=D;break}return{line:{x1:h,y1:v,x2:y,y2:E},tick:{x:S,y:b}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:o,mirror:s,axisLine:u}=this.props,c=Sn(Sn(Sn({},Fn(this.props,!1)),Fn(u,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var f=+(o==="top"&&!s||o==="bottom"&&s);c=Sn(Sn({},c),{},{x1:e,y1:n+f*i,x2:e+r,y2:n+f*i})}else{var h=+(o==="left"&&!s||o==="right"&&s);c=Sn(Sn({},c),{},{x1:e+h*r,y1:n,x2:e+h*r,y2:n+i})}return M.createElement("line",Xc({},c,{className:Nt("recharts-cartesian-axis-line",Su(u,"className"))}))}static renderTickItem(e,n,r){var i,o=Nt(n.className,"recharts-cartesian-axis-tick-value");if(M.isValidElement(e))i=M.cloneElement(e,Sn(Sn({},n),{},{className:o}));else if(typeof e=="function")i=e(Sn(Sn({},n),{},{className:o}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=Nt(s,e.className)),i=M.createElement(iR,Xc({},n,{className:s}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:o,tick:s,tickFormatter:u,unit:c,padding:f}=this.props,h=npe(Sn(Sn({},this.props),{},{ticks:r}),e,n),y=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),E=o0(this.props),S=Fn(s,!1),b=Sn(Sn({},E),{},{fill:"none"},Fn(i,!1)),I=h.map((R,D)=>{var{line:C,tick:q}=this.getTickLineCoord(R),L=Sn(Sn(Sn(Sn({textAnchor:y,verticalAnchor:v},E),{},{stroke:"none",fill:o},S),q),{},{index:D,payload:R,visibleTicksCount:h.length,tickFormatter:u,padding:f});return M.createElement(Ka,Xc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},FC(this.props,R,D)),i&&M.createElement("line",Xc({},b,C,{className:Nt("recharts-cartesian-axis-tick-line",Su(i,"className"))})),s&&gd.renderTickItem(s,L,"".concat(typeof u=="function"?u(R.value,D):R.value).concat(c||"")))});return I.length>0?M.createElement("g",{className:"recharts-cartesian-axis-ticks"},I):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:o}=this.props;if(o)return null;var{ticks:s}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:M.createElement(Ka,{className:Nt("recharts-cartesian-axis",i),ref:u=>{if(u){var c=u.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var f=c[0];if(f){var h=window.getComputedStyle(f).fontSize,y=window.getComputedStyle(f).letterSpacing;(h!==this.state.fontSize||y!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(f).fontSize,letterSpacing:window.getComputedStyle(f).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,s),Yr.renderCallByParent(this.props))}}aR(gd,"displayName","CartesianAxis");aR(gd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function NV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NV(Object(n),!0).forEach(function(r){lpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lpe(t,e,n){return(e=upe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function upe(t){var e=cpe(t,"string");return typeof e=="symbol"?e:e+""}function cpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fpe={xAxis:{},yAxis:{},zAxis:{}},$5=ii({name:"cartesianAxis",initialState:fpe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=kV(kV({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:dpe,removeXAxis:hpe,addYAxis:ppe,removeYAxis:mpe,addZAxis:aAe,removeZAxis:lAe,updateYAxisWidth:gpe}=$5.actions,ype=$5.reducer,vpe=["children"],_pe=["dangerouslySetInnerHTML","ticks"];function z5(t,e,n){return(e=Tpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tpe(t){var e=Epe(t,"string");return typeof e=="symbol"?e:e+""}function Epe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CA(){return CA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CA.apply(null,arguments)}function H5(t,e){if(t==null)return{};var n,r,i=wpe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Spe(t){var e=qn(),n=M.useMemo(()=>{var{children:o}=t,s=H5(t,vpe);return s},[t]),r=Le(o=>Vs(o,n.id)),i=n===r;return M.useEffect(()=>(e(dpe(n)),()=>{e(hpe(n))}),[n,e]),i?t.children:null}var bpe=t=>{var{xAxisId:e,className:n}=t,r=Le(j3),i=Ji(),o="xAxis",s=Le(E=>hd(E,o,e,i)),u=Le(E=>H$(E,o,e,i)),c=Le(E=>B$(E,e)),f=Le(E=>Jle(E,e));if(c==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:y}=t,v=H5(t,_pe);return M.createElement(gd,CA({},v,{scale:s,x:f.x,y:f.y,width:c.width,height:c.height,className:Nt("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:u}))},Ape=t=>{var e,n,r,i,o;return M.createElement(Spe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter},M.createElement(bpe,t))};class lR extends M.Component{render(){return M.createElement(Ape,this.props)}}z5(lR,"displayName","XAxis");z5(lR,"defaultProps",{allowDataOverflow:Hr.allowDataOverflow,allowDecimals:Hr.allowDecimals,allowDuplicatedCategory:Hr.allowDuplicatedCategory,height:Hr.height,hide:!1,mirror:Hr.mirror,orientation:Hr.orientation,padding:Hr.padding,reversed:Hr.reversed,scale:Hr.scale,tickCount:Hr.tickCount,type:Hr.type,xAxisId:0});var Ipe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,s=0;if(e){e.forEach(h=>{if(h){var y=h.getBoundingClientRect();y.width>s&&(s=y.width)}});var u=n?n.getBoundingClientRect().width:0,c=i+o,f=s+c+u+(n?r:0);return Math.round(f)}return 0},Cpe=["dangerouslySetInnerHTML","ticks"];function G5(t,e,n){return(e=xpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xpe(t){var e=Rpe(t,"string");return typeof e=="symbol"?e:e+""}function Rpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xA(){return xA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xA.apply(null,arguments)}function Ppe(t,e){if(t==null)return{};var n,r,i=Mpe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Dpe(t){var e=qn();return M.useEffect(()=>(e(ppe(t)),()=>{e(mpe(t))}),[t,e]),null}var Npe=t=>{var e,{yAxisId:n,className:r,width:i,label:o}=t,s=M.useRef(null),u=M.useRef(null),c=Le(j3),f=Ji(),h=qn(),y="yAxis",v=Le(C=>hd(C,y,n,f)),E=Le(C=>q$(C,n)),S=Le(C=>Qle(C,n)),b=Le(C=>H$(C,y,n,f));if(M.useLayoutEffect(()=>{var C;if(!(i!=="auto"||!E||oR(o)||M.isValidElement(o))){var q=s.current,L=q==null||(C=q.tickRefs)===null||C===void 0?void 0:C.current,{tickSize:G,tickMargin:N}=q.props,O=Ipe({ticks:L,label:u.current,labelGapWithTick:5,tickSize:G,tickMargin:N});Math.round(E.width)!==Math.round(O)&&h(gpe({id:n,width:O}))}},[s,s==null||(e=s.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,E==null?void 0:E.width,E,h,o,n,i]),E==null||S==null)return null;var{dangerouslySetInnerHTML:I,ticks:R}=t,D=Ppe(t,Cpe);return M.createElement(gd,xA({},D,{ref:s,labelRef:u,scale:v,x:S.x,y:S.y,width:E.width,height:E.height,className:Nt("recharts-".concat(y," ").concat(y),r),viewBox:c,ticks:b}))},kpe=t=>{var e,n,r,i,o;return M.createElement(M.Fragment,null,M.createElement(Dpe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter}),M.createElement(Npe,t))},Ope={allowDataOverflow:Gr.allowDataOverflow,allowDecimals:Gr.allowDecimals,allowDuplicatedCategory:Gr.allowDuplicatedCategory,hide:!1,mirror:Gr.mirror,orientation:Gr.orientation,padding:Gr.padding,reversed:Gr.reversed,scale:Gr.scale,tickCount:Gr.tickCount,type:Gr.type,width:Gr.width,yAxisId:0};class uR extends M.Component{render(){return M.createElement(kpe,this.props)}}G5(uR,"displayName","YAxis");G5(uR,"defaultProps",Ope);var WS={exports:{}},jS={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OV;function Vpe(){if(OV)return jS;OV=1;var t=Kf();function e(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,s=t.useMemo,u=t.useDebugValue;return jS.useSyncExternalStoreWithSelector=function(c,f,h,y,v){var E=i(null);if(E.current===null){var S={hasValue:!1,value:null};E.current=S}else S=E.current;E=s(function(){function I(L){if(!R){if(R=!0,D=L,L=y(L),v!==void 0&&S.hasValue){var G=S.value;if(v(G,L))return C=G}return C=L}if(G=C,n(D,L))return G;var N=y(L);return v!==void 0&&v(G,N)?(D=L,G):(D=L,C=N)}var R=!1,D,C,q=h===void 0?null:h;return[function(){return I(f())},q===null?void 0:function(){return I(q())}]},[f,h,y,v]);var b=r(c,E[0],E[1]);return o(function(){S.hasValue=!0,S.value=b},[b]),u(b),b},jS}var VV;function Lpe(){return VV||(VV=1,WS.exports=Vpe()),WS.exports}Lpe();function Upe(t){t()}function Fpe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Upe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var LV={notify(){},get:()=>[]};function Bpe(t,e){let n,r=LV,i=0,o=!1;function s(b){h();const I=r.subscribe(b);let R=!1;return()=>{R||(R=!0,I(),y())}}function u(){r.notify()}function c(){S.onStateChange&&S.onStateChange()}function f(){return o}function h(){i++,n||(n=t.subscribe(c),r=Fpe())}function y(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=LV)}function v(){o||(o=!0,h())}function E(){o&&(o=!1,y())}const S={addNestedSub:s,notifyNestedSubs:u,handleChangeWrapper:c,isSubscribed:f,trySubscribe:v,tryUnsubscribe:E,getListeners:()=>r};return S}var qpe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$pe=qpe(),zpe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Hpe=zpe(),Gpe=()=>$pe||Hpe?M.useLayoutEffect:M.useEffect,Kpe=Gpe(),YS=Symbol.for("react-redux-context"),JS=typeof globalThis<"u"?globalThis:{};function Wpe(){if(!M.createContext)return{};const t=JS[YS]??(JS[YS]=new Map);let e=t.get(M.createContext);return e||(e=M.createContext(null),t.set(M.createContext,e)),e}var jpe=Wpe();function Ype(t){const{children:e,context:n,serverState:r,store:i}=t,o=M.useMemo(()=>{const c=Bpe(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),s=M.useMemo(()=>i.getState(),[i]);Kpe(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,s]);const u=n||jpe;return M.createElement(u.Provider,{value:o},e)}var Jpe=Ype,Qpe=(t,e)=>e,cR=oe([Qpe,yt,u$,xn,o5,Ls,tce,$n],sce),fR=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},K5=xi("mouseClick"),W5=Rm();W5.startListening({actionCreator:K5,effect:(t,e)=>{var n=t.payload,r=cR(e.getState(),fR(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(cue({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var RA=xi("mouseMove"),j5=Rm();j5.startListening({actionCreator:RA,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=Yx(r,r.tooltip.settings.shared),o=cR(r,fR(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?e.dispatch(X$({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(Q$()))}});function Xpe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var UV={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},Y5=ii({name:"rootProps",initialState:UV,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:UV.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Zpe=Y5.reducer,{updateOptions:eme}=Y5.actions,J5=ii({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:uAe}=J5.actions,tme=J5.reducer,Q5=xi("keyDown"),X5=xi("focus"),dR=Rm();dR.startListening({actionCreator:Q5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var s=Number(Jx(i,md(n))),u=Ls(n);if(o==="Enter"){var c=l_(n,"axis","hover",String(i.index));e.dispatch(wA({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var f=tue(n),h=f==="left-to-right"?1:-1,y=o==="ArrowRight"?1:-1,v=s+y*h;if(!(u==null||v>=u.length||v<0)){var E=l_(n,"axis","hover",String(v));e.dispatch(wA({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:E}))}}}}});dR.startListening({actionCreator:X5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",s=l_(n,"axis","hover",String(o));e.dispatch(wA({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:s}))}}}});var _i=xi("externalEvent"),Z5=Rm();Z5.startListening({actionCreator:_i,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:Kue(n),activeDataKey:u5(n),activeIndex:Hf(n),activeLabel:l5(n),activeTooltipIndex:Hf(n),isTooltipActive:Wue(n)};t.payload.handler(r,t.payload.reactEvent)}}});var nme=oe([pd],t=>t.tooltipItemPayloads),rme=oe([nme,Fm,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var s=e(o,n);return s}}}),ez=xi("touchMove"),tz=Rm();tz.startListening({actionCreator:ez,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=Yx(r,r.tooltip.settings.shared);if(i==="axis"){var o=cR(r,fR({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(X$({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var s,u=n.touches[0],c=document.elementFromPoint(u.clientX,u.clientY);if(!c||!c.getAttribute)return;var f=c.getAttribute(Vre),h=(s=c.getAttribute(Lre))!==null&&s!==void 0?s:void 0,y=rme(e.getState(),f,h);e.dispatch(J$({activeDataKey:h,activeIndex:f,activeCoordinate:y}))}}});var ime=w3({brush:Lhe,cartesianAxis:ype,chartData:Sce,errorBars:Ude,graphicalItems:Tde,layout:ore,legend:Qre,options:vce,polarAxis:Hfe,polarOptions:tme,referenceElements:Hhe,rootProps:Zpe,tooltip:fue}),ome=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Pne({reducer:ime,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([W5.middleware,j5.middleware,dR.middleware,Z5.middleware,tz.middleware]),devTools:{serialize:{replacer:Xpe},name:"recharts-".concat(n)}})};function sme(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Ji(),o=M.useRef(null);if(i)return n;o.current==null&&(o.current=ome(e,r));var s=YC;return M.createElement(Jpe,{context:s,store:o.current},n)}function ame(t){var{layout:e,width:n,height:r,margin:i}=t,o=qn(),s=Ji();return M.useEffect(()=>{s||(o(nre(e)),o(rre({width:n,height:r})),o(tre(i)))},[o,s,e,n,r,i]),null}function lme(t){var e=qn();return M.useEffect(()=>{e(eme(t))},[e,t]),null}var ume=["children"];function cme(t,e){if(t==null)return{};var n,r,i=fme(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function p_(){return p_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p_.apply(null,arguments)}var dme={width:"100%",height:"100%"},hme=M.forwardRef((t,e)=>{var n=Kre(),r=Wre(),i=J3();if(!Gv(n)||!Gv(r))return null;var{children:o,otherAttributes:s,title:u,desc:c}=t,f,h;return typeof s.tabIndex=="number"?f=s.tabIndex:f=i?0:void 0,typeof s.role=="string"?h=s.role:h=i?"application":void 0,M.createElement(Kq,p_({},s,{title:u,desc:c,role:h,tabIndex:f,width:n,height:r,style:dme,ref:e}),o)}),pme=t=>{var{children:e}=t,n=Le(y0);if(!n)return null;var{width:r,height:i,y:o,x:s}=n;return M.createElement(Kq,{width:r,height:i,x:s,y:o},e)},FV=M.forwardRef((t,e)=>{var{children:n}=t,r=cme(t,ume),i=Ji();return i?M.createElement(pme,null,n):M.createElement(hme,p_({ref:e},r),n)});function mme(){var t=qn(),[e,n]=M.useState(null),r=Le(Ore);return M.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;ri(o)&&o!==r&&t(ire(o))}},[e,t,r]),n}function BV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gme(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BV(Object(n),!0).forEach(function(r){yme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yme(t,e,n){return(e=vme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vme(t){var e=_me(t,"string");return typeof e=="symbol"?e:e+""}function _me(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tme=M.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:s,onDoubleClick:u,onMouseDown:c,onMouseEnter:f,onMouseLeave:h,onMouseMove:y,onMouseUp:v,onTouchEnd:E,onTouchMove:S,onTouchStart:b,style:I,width:R}=t,D=qn(),[C,q]=M.useState(null),[L,G]=M.useState(null);Ice();var N=mme(),O=M.useCallback(ae=>{N(ae),typeof e=="function"&&e(ae),q(ae),G(ae)},[N,e,q,G]),k=M.useCallback(ae=>{D(K5(ae)),D(_i({handler:o,reactEvent:ae}))},[D,o]),B=M.useCallback(ae=>{D(RA(ae)),D(_i({handler:f,reactEvent:ae}))},[D,f]),F=M.useCallback(ae=>{D(Q$()),D(_i({handler:h,reactEvent:ae}))},[D,h]),$=M.useCallback(ae=>{D(RA(ae)),D(_i({handler:y,reactEvent:ae}))},[D,y]),z=M.useCallback(()=>{D(X5())},[D]),Re=M.useCallback(ae=>{D(Q5(ae.key))},[D]),we=M.useCallback(ae=>{D(_i({handler:s,reactEvent:ae}))},[D,s]),ee=M.useCallback(ae=>{D(_i({handler:u,reactEvent:ae}))},[D,u]),pe=M.useCallback(ae=>{D(_i({handler:c,reactEvent:ae}))},[D,c]),Se=M.useCallback(ae=>{D(_i({handler:v,reactEvent:ae}))},[D,v]),Be=M.useCallback(ae=>{D(_i({handler:b,reactEvent:ae}))},[D,b]),W=M.useCallback(ae=>{D(ez(ae)),D(_i({handler:S,reactEvent:ae}))},[D,S]),ce=M.useCallback(ae=>{D(_i({handler:E,reactEvent:ae}))},[D,E]);return M.createElement(m5.Provider,{value:C},M.createElement(Iee.Provider,{value:L},M.createElement("div",{className:Nt("recharts-wrapper",r),style:gme({position:"relative",cursor:"default",width:R,height:i},I),onClick:k,onContextMenu:we,onDoubleClick:ee,onFocus:z,onKeyDown:Re,onMouseDown:pe,onMouseEnter:B,onMouseLeave:F,onMouseMove:$,onMouseUp:Se,onTouchEnd:ce,onTouchMove:W,onTouchStart:Be,ref:O},n)))}),Eme=["children","className","width","height","style","compact","title","desc"];function wme(t,e){if(t==null)return{};var n,r,i=Sme(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bme=M.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:o,style:s,compact:u,title:c,desc:f}=t,h=wme(t,Eme),y=o0(h);return u?M.createElement(FV,{otherAttributes:y,title:c,desc:f},n):M.createElement(Tme,{className:r,style:s,width:i,height:o,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},M.createElement(FV,{otherAttributes:y,title:c,desc:f,ref:e},M.createElement(Khe,null,n)))}),Ame=["width","height"];function PA(){return PA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PA.apply(null,arguments)}function Ime(t,e){if(t==null)return{};var n,r,i=Cme(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xme={top:5,right:5,bottom:5,left:5},Rme={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:xme,reverseStackOrder:!1,syncMethod:"index"},Pme=M.forwardRef(function(e,n){var r,i=Vu(e.categoricalChartProps,Rme),{width:o,height:s}=i,u=Ime(i,Ame);if(!Gv(o)||!Gv(s))return null;var{chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:y,categoricalChartProps:v}=e,E={chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:y,eventEmitter:void 0};return M.createElement(sme,{preloadedState:{options:E},reduxStoreName:(r=v.id)!==null&&r!==void 0?r:c},M.createElement(Vhe,{chartData:v.data}),M.createElement(ame,{width:o,height:s,layout:i.layout,margin:i.margin}),M.createElement(lme,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),M.createElement(bme,PA({},u,{width:o,height:s,ref:n})))}),Mme=["axis","item"],Dme=M.forwardRef((t,e)=>M.createElement(Pme,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Mme,tooltipPayloadSearcher:gce,categoricalChartProps:t,ref:e}));const Nme=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:H.jsx("path",{d:"M2 11h3v7H2v-7zM6 3h3v15H6V3zm5 8h3v7h-3v-7zm4-4h3v11h-3V7z"})}),kme=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:H.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),Ome=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:H.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),Vme=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),Lme=({data:t})=>!t||t.length===0?H.jsx("p",{className:"text-stone-400 text-center py-8",children:"Нет данных для отображения."}):H.jsx(Hce,{width:"100%",height:300,children:H.jsxs(Dme,{data:t,margin:{top:5,right:20,left:-10,bottom:5},children:[H.jsx(lR,{dataKey:"label",stroke:"#a8a29e",fontSize:12,tickLine:!1,axisLine:!1}),H.jsx(uR,{stroke:"#a8a29e",fontSize:12,tickLine:!1,axisLine:!1,allowDecimals:!1}),H.jsx(kce,{contentStyle:{backgroundColor:"#292524",border:"1px solid #57534e",borderRadius:"0.375rem"},labelStyle:{color:"#f59e0b"},itemStyle:{color:"#d6d3d1"},formatter:e=>[e,"Просмотры"]}),H.jsx(L5,{dataKey:"value",fill:"#f59e0b",radius:[4,4,0,0]})]})}),Ume=({codeword:t,onUpdate:e,onDelete:n})=>{const[r,i]=M.useState(t.usedMessage),[o,s]=M.useState(t.introText||"ВАШЕ КОДОВОЕ СЛОВО:"),[u,c]=M.useState(t.note||""),[f,h]=M.useState(!1),[y,v]=M.useState([]),[E,S]=M.useState(!1),[b,I]=M.useState(""),[R,D]=M.useState("day"),C=`${window.location.origin}${window.location.pathname}#/view?c=${t.id}`,q=`https://api.qrserver.com/v1/create-qr-code/?size=256x256&data=${encodeURIComponent(C)}`,L=async()=>{S(!0),I(""),v([]);try{const O=(await Cr.collection("codewords").doc(t.id).collection("viewEvents").orderBy("viewedAt","asc").get()).docs.map(F=>F.data().viewedAt.toDate());if(O.length===0){S(!1);return}const k={};O.forEach(F=>{let $="";R==="day"?$=F.toLocaleDateString("ru-RU",{year:"2-digit",month:"2-digit",day:"2-digit"}):$=F.toLocaleDateString("ru-RU",{year:"2-digit",month:"2-digit",day:"2-digit"})+` ${F.getHours()}:00`,k[$]=(k[$]||0)+1});const B=Object.keys(k).map(F=>({label:F,value:k[F]}));v(B)}catch(N){console.error("Error fetching stats:",N),I("Не удалось загрузить статистику.")}finally{S(!1)}};M.useEffect(()=>{f&&L()},[f,R]);const G=async()=>{try{const N=await fetch(q);if(!N.ok)throw new Error("QR code fetch failed");const O=await N.blob(),k=window.URL.createObjectURL(O),B=document.createElement("a");B.href=k;const F=t.word.replace(/[^a-z0-9а-яё]/gi,"_").toLowerCase();B.setAttribute("download",`qr_${F}.png`),document.body.appendChild(B),B.click(),B.parentNode&&B.parentNode.removeChild(B),window.URL.revokeObjectURL(k)}catch(N){console.error("Failed to download QR code",N),alert("Не удалось скачать QR-код.")}};return H.jsxs(H.Fragment,{children:[H.jsxs("div",{className:"bg-stone-800/70 border border-stone-700 p-4 rounded-md grid grid-cols-1 md:grid-cols-3 gap-4 items-start",children:[H.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[H.jsx("img",{src:q,alt:"QR Code",className:"w-36 h-36 border-2 border-stone-600 rounded-md"}),H.jsxs("button",{onClick:G,className:"flex items-center justify-center gap-2 w-full bg-stone-600 hover:bg-stone-500 text-stone-200 px-3 py-2 rounded-md text-sm transition-colors",children:[H.jsx(Vme,{}),"Скачать QR"]}),H.jsx("a",{href:C,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-amber-400 hover:text-amber-300 break-all text-center pt-1",children:C})]}),H.jsxs("div",{className:"md:col-span-2 space-y-3",children:[H.jsxs("div",{children:[H.jsx("label",{htmlFor:`introText_${t.id}`,className:"text-sm font-bold text-stone-400 block",children:"Вступительный текст:"}),H.jsx("input",{id:`introText_${t.id}`,type:"text",value:o,onChange:N=>s(N.target.value),onBlur:()=>e(t.id,{introText:o}),className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-3 py-1 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-bold text-stone-400 block",children:"Кодовое слово:"}),H.jsx("p",{className:"text-lg bg-stone-900 p-2 rounded-md font-bold text-stone-100 break-words",children:t.word})]}),H.jsxs("div",{children:[H.jsx("label",{htmlFor:`usedMsg_${t.id}`,className:"text-sm font-bold text-stone-400 block",children:"Сообщение (если использовано):"}),H.jsx("input",{id:`usedMsg_${t.id}`,type:"text",value:r,onChange:N=>i(N.target.value),onBlur:()=>e(t.id,{usedMessage:r}),className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-3 py-1 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"})]}),H.jsxs("div",{children:[H.jsx("label",{htmlFor:`note_${t.id}`,className:"text-sm font-bold text-stone-400 block",children:"Заметка (видна только вам):"}),H.jsx("textarea",{id:`note_${t.id}`,value:u,onChange:N=>c(N.target.value),onBlur:()=>e(t.id,{note:u}),className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-3 py-1 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all h-20 resize-y",placeholder:"Любые пометки по этому коду..."})]}),H.jsxs("div",{className:"flex items-center justify-between pt-2",children:[H.jsxs("label",{htmlFor:`toggle_${t.id}`,className:"flex items-center cursor-pointer",children:[H.jsxs("div",{className:"relative",children:[H.jsx("input",{type:"checkbox",id:`toggle_${t.id}`,className:"sr-only",checked:t.isUsed,onChange:()=>e(t.id,{isUsed:!t.isUsed})}),H.jsx("div",{className:`block ${t.isUsed?"bg-amber-500":"bg-stone-600"} w-14 h-8 rounded-full transition-colors`}),H.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-transform ${t.isUsed?"transform translate-x-6":""}`})]}),H.jsx("div",{className:"ml-3 text-stone-300 font-semibold",children:t.isUsed?"ИСПОЛЬЗОВАНО":"АКТИВНО"})]}),H.jsxs("div",{className:"flex items-center gap-2 text-stone-400",children:[H.jsxs("div",{className:"flex items-center gap-1",title:"Просмотры",children:[H.jsx(kme,{}),H.jsx("span",{children:t.views||0})]}),H.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-1 bg-sky-800 hover:bg-sky-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[H.jsx(Nme,{}),"Статистика"]}),H.jsxs("button",{onClick:()=>n(t.id),className:"flex items-center gap-1 bg-red-800 hover:bg-red-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[H.jsx(Ome,{}),"Удалить"]})]})]})]})]}),f&&H.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",onClick:()=>h(!1),role:"dialog","aria-modal":"true","aria-labelledby":"stats-modal-title",children:H.jsxs("div",{className:"bg-stone-800 border border-stone-700 rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col",onClick:N=>N.stopPropagation(),children:[H.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-stone-700",children:[H.jsx("h3",{id:"stats-modal-title",className:"font-display text-2xl text-amber-400",children:"Статистика просмотров"}),H.jsx("button",{onClick:()=>h(!1),className:"text-stone-400 hover:text-white text-3xl leading-none","aria-label":"Close",children:"×"})]}),H.jsxs("div",{className:"p-4 flex-grow overflow-y-auto",children:[H.jsxs("div",{className:"flex gap-2 mb-4",children:[H.jsx("button",{onClick:()=>D("day"),className:`px-4 py-2 rounded-md font-semibold ${R==="day"?"bg-amber-500 text-stone-900":"bg-stone-700 text-stone-300 hover:bg-stone-600"}`,children:"По дням"}),H.jsx("button",{onClick:()=>D("hour"),className:`px-4 py-2 rounded-md font-semibold ${R==="hour"?"bg-amber-500 text-stone-900":"bg-stone-700 text-stone-300 hover:bg-stone-600"}`,children:"По часам"})]}),E&&H.jsx("p",{className:"animate-pulse text-center py-8 font-display text-xl text-stone-400",children:"ЗАГРУЗКА СТАТИСТИКИ..."}),b&&H.jsx("p",{className:"text-red-500 text-center py-8",children:b}),!E&&!b&&H.jsx(Lme,{data:y})]})]})})]})},Fme=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:H.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),Bme=()=>H.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[H.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),H.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),qme=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:H.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),$me=({game:t,onDelete:e})=>{var o;const n=(o=t.createdAt)==null?void 0:o.toDate().toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}),r=()=>{window.location.hash=`#/admin/quest/${t.id}`},i=()=>{window.location.hash=`#/play/${t.id}`};return H.jsxs("div",{className:"bg-stone-800/70 border border-stone-700 p-4 rounded-md flex justify-between items-center",children:[H.jsxs("div",{children:[H.jsx("h4",{className:"text-xl font-bold text-stone-100",children:t.title}),H.jsxs("div",{className:"text-sm text-stone-400 mt-1",children:[H.jsx("span",{className:`inline-block px-2 py-0.5 rounded-md mr-2 text-xs font-semibold ${t.status==="published"?"bg-green-900/50 text-green-300":"bg-sky-900/50 text-sky-300"}`,children:t.status==="published"?"Опубликован":"Черновик"}),H.jsxs("span",{children:["Создан: ",n||"N/A"]})]})]}),H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsxs("button",{onClick:i,className:"flex items-center gap-1 bg-green-800 hover:bg-green-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[H.jsx(Fme,{})," Играть"]}),H.jsxs("button",{onClick:r,className:"flex items-center gap-1 bg-blue-800 hover:bg-blue-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[H.jsx(Bme,{})," Редактировать"]}),H.jsxs("button",{onClick:()=>e(t.id),className:"flex items-center gap-1 bg-red-800 hover:bg-red-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[H.jsx(qme,{})," Удалить"]})]})]})},zme=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H5v-2H3v-2H1v-4a6 6 0 017.743-5.743z"})}),Hme=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),Gme=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:H.jsx("path",{d:"M17 3H5a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2zm-3 12H8v-4h6v4zm2-6H5V5h12v4z"})}),Kme=()=>{const[t,e]=M.useState("codewords"),[n,r]=M.useState([]),[i,o]=M.useState(""),[s,u]=M.useState("Этот код уже был использован."),[c,f]=M.useState("ВАШЕ КОДОВОЕ СЛОВО:"),[h,y]=M.useState([]),[v,E]=M.useState(""),[S,b]=M.useState(""),[I,R]=M.useState({type:"",text:""});M.useEffect(()=>{let k;return t==="codewords"?k=Cr.collection("codewords").orderBy("createdAt","desc").onSnapshot(B=>{const F=B.docs.map($=>({...$.data(),id:$.id}));r(F)},B=>{console.error("Error fetching codewords:",B),alert("Не удалось загрузить кодовые слова.")}):t==="quests"&&(k=Cr.collection("games").orderBy("createdAt","desc").onSnapshot(B=>{const F=B.docs.map($=>({...$.data(),id:$.id}));y(F)},B=>{console.error("Error fetching games:",B),alert("Не удалось загрузить квесты.")})),()=>k&&k()},[t]);const D=async k=>{if(k.preventDefault(),i.trim()!=="")try{await Cr.collection("codewords").add({word:i.trim(),isUsed:!1,usedMessage:s.trim()||"Этот код уже был использован.",introText:c.trim()||"ВАШЕ КОДОВОЕ СЛОВО:",note:"",createdAt:af.serverTimestamp(),views:0}),o(""),f("ВАШЕ КОДОВОЕ СЛОВО:"),u("Этот код уже был использован.")}catch(B){console.error("Error adding codeword: ",B),alert("Ошибка при добавлении кода.")}},C=async(k,B)=>{try{await Cr.collection("codewords").doc(k).update(B)}catch(F){console.error("Error updating codeword: ",F),alert("Ошибка при обновлении кода.")}},q=async k=>{if(window.confirm("Вы уверены, что хотите удалить этот код? Это действие необратимо."))try{const B=await Cr.collection("codewords").doc(k).collection("viewEvents").get(),F=Cr.batch();B.docs.forEach($=>F.delete($.ref)),await F.commit(),await Cr.collection("codewords").doc(k).delete()}catch(B){console.error("Error deleting codeword:",B),alert("Ошибка при удалении кода.")}},L=async k=>{if(k.preventDefault(),v.trim()!=="")try{const B=`quest_${Date.now()}`;await Cr.collection("games").add({title:v.trim(),status:"draft",createdAt:af.serverTimestamp(),updatedAt:af.serverTimestamp(),dsl:{format:"bk-quest@1",meta:{id:B,title:v.trim(),version:1,defaultLocale:"ru"},assets:{images:{},audio:{}},state:{vars:{},inventory:[]},nodes:{start:{text:"This is the beginning."}}}}),E("")}catch(B){console.error("Error adding quest: ",B),alert("Ошибка при создании квеста.")}},G=async k=>{if(window.confirm("Вы уверены, что хотите удалить этот квест? Все его данные будут стерты навсегда."))try{await Cr.collection("games").doc(k).delete()}catch(B){console.error("Error deleting quest:",B),alert("Ошибка при удалении квеста.")}},N=async k=>{if(k.preventDefault(),R({type:"",text:""}),window.confirm("Вы уверены, что хотите изменить пароль?"))try{if(!Tp.currentUser)throw new Error("Пользователь не авторизован.");if(!S||S.length<6)throw new Error("Пароль должен содержать не менее 6 символов.");await Tp.currentUser.updatePassword(S),R({type:"success",text:"Пароль успешно изменен!"}),b("")}catch(B){R({type:"error",text:`Ошибка: ${B.message}`})}},O=({tabName:k,label:B,children:F})=>H.jsxs("button",{onClick:()=>e(k),className:`flex items-center justify-center w-full px-4 py-3 font-display text-xl rounded-t-md transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-500
            ${t===k?"bg-stone-800/50 text-amber-400 border-b-2 border-amber-400":"bg-stone-900/50 text-stone-400 hover:bg-stone-800/50"}`,children:[F,B]});return H.jsxs("div",{className:"container mx-auto py-8 px-4",children:[H.jsxs("div",{className:"flex justify-between items-center mb-6",children:[H.jsx("h2",{className:"font-display text-4xl text-stone-200",children:"Панель управления"}),H.jsx("button",{onClick:()=>Tp.signOut(),className:"bg-stone-700 hover:bg-stone-600 text-stone-200 font-semibold py-2 px-4 rounded-md transition-colors",children:"Выйти"})]}),H.jsxs("div",{className:"bg-stone-800/50 border border-stone-700 p-6 rounded-md mb-8",children:[H.jsx("h3",{className:"font-display text-2xl text-amber-400 mb-4",children:"Изменить пароль"}),H.jsxs("form",{onSubmit:N,className:"space-y-4",children:[H.jsx("input",{type:"password",value:S,onChange:k=>b(k.target.value),placeholder:"Новый пароль (минимум 6 символов)",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),H.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center font-display text-xl bg-amber-500 text-stone-900 py-2 rounded-md hover:bg-amber-400 transition-colors",children:[H.jsx(Gme,{})," Сохранить пароль"]}),I.text&&H.jsx("p",{className:I.type==="success"?"text-green-400":"text-red-500",children:I.text})]})]}),H.jsxs("div",{className:"flex mb-[-1px]",children:[H.jsx(O,{tabName:"codewords",label:"Кодовые слова",children:H.jsx(zme,{})}),H.jsx(O,{tabName:"quests",label:"Квесты",children:H.jsx(Hme,{})})]}),H.jsxs("div",{className:"bg-stone-800/50 border border-stone-700 p-6 rounded-b-md rounded-tr-md",children:[t==="codewords"&&H.jsxs(H.Fragment,{children:[H.jsxs("div",{className:"mb-8",children:[H.jsx("h3",{className:"font-display text-2xl text-amber-400 mb-4",children:"Добавить новый код"}),H.jsxs("form",{onSubmit:D,className:"space-y-4",children:[H.jsx("input",{type:"text",value:c,onChange:k=>f(k.target.value),placeholder:"Вступительный текст (обращение)",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),H.jsx("input",{type:"text",value:i,onChange:k=>o(k.target.value),placeholder:"Новое кодовое слово",required:!0,className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),H.jsx("input",{type:"text",value:s,onChange:k=>u(k.target.value),placeholder:"Сообщение если код использован",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),H.jsx("button",{type:"submit",className:"w-full font-display text-xl bg-amber-500 text-stone-900 py-2 rounded-md hover:bg-amber-400 transition-colors",children:"Создать QR-код"})]})]}),H.jsx("div",{className:"space-y-4",children:n.map(k=>H.jsx(Ume,{codeword:k,onUpdate:C,onDelete:q},k.id))})]}),t==="quests"&&H.jsxs(H.Fragment,{children:[H.jsxs("div",{className:"mb-8",children:[H.jsx("h3",{className:"font-display text-2xl text-amber-400 mb-4",children:"Создать новый квест"}),H.jsxs("form",{onSubmit:L,className:"flex gap-4",children:[H.jsx("input",{type:"text",value:v,onChange:k=>E(k.target.value),placeholder:"Название квеста",required:!0,className:"flex-grow bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),H.jsx("button",{type:"submit",className:"font-display text-xl bg-amber-500 text-stone-900 py-2 px-6 rounded-md hover:bg-amber-400 transition-colors",children:"Создать"})]})]}),H.jsx("div",{className:"space-y-4",children:h.length>0?h.map(k=>H.jsx($me,{game:k,onDelete:G},k.id)):H.jsx("p",{className:"text-stone-400 text-center py-4",children:"Квесты еще не созданы."})})]})]})]})},Wme=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),jme=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),nz=({codeId:t})=>{const[e,n]=M.useState(null),[r,i]=M.useState("loading"),[o,s]=M.useState(!1),u=Is();M.useEffect(()=>{const f=new URLSearchParams(u.search),h=t||f.get("c");if(h){const y=Cr.collection("codewords").doc(h);(async()=>{try{const E=await y.get();if(E.exists){const S={id:E.id,...E.data()};n(S),i("found");const b=`viewed-${h}`;sessionStorage.getItem(b)||(await y.update({views:af.increment(1)}),await y.collection("viewEvents").add({viewedAt:af.serverTimestamp()}),sessionStorage.setItem(b,"true"))}else i("not-found")}catch(E){console.error("Failed to fetch codeword from Firestore:",E),i("error")}})()}else i("not-found")},[u,t]);const c=()=>{e&&!e.isUsed&&(navigator.clipboard.writeText(e.word),s(!0),setTimeout(()=>s(!1),2e3))};return r==="loading"?H.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:H.jsx("p",{className:"font-display text-2xl text-stone-400 animate-pulse",children:"ПОИСК КОДА..."})}):r==="not-found"||r==="error"?H.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center p-4",children:[H.jsx("h2",{className:"font-display text-6xl text-red-500",children:"404"}),H.jsx("p",{className:"text-stone-300 text-xl mt-2",children:"Код не найден."}),H.jsx("p",{className:"text-stone-500",children:"Возможно, ссылка неверна или код был удален."})]}):e!=null&&e.isUsed?H.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center p-4",children:[H.jsx("h2",{className:"font-display text-5xl text-amber-500",children:"КОД ИСПОЛЬЗОВАН"}),H.jsx("p",{className:"text-stone-300 text-xl mt-4 max-w-lg",children:e.usedMessage})]}):H.jsx("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center p-4",children:H.jsxs("div",{className:"w-full max-w-2xl bg-stone-800/50 border-2 border-stone-700 p-8 rounded-lg shadow-2xl shadow-black/50",children:[H.jsx("p",{className:"text-stone-400 font-display text-2xl tracking-wide",children:(e==null?void 0:e.introText)||"ВАШЕ КОДОВОЕ СЛОВО:"}),H.jsx("p",{className:"text-amber-400 font-bold text-3xl md:text-5xl my-4 break-words select-all tracking-widest",children:e==null?void 0:e.word}),H.jsxs("button",{onClick:c,className:"w-full flex items-center justify-center gap-3 mt-6 bg-stone-700 hover:bg-amber-500 hover:text-stone-900 text-stone-200 font-display text-2xl py-3 rounded-md transition-all duration-300",children:[o?H.jsx(jme,{}):H.jsx(Wme,{}),o?"СКОПИРОВАНО!":"СКОПИРОВАТЬ КОД"]})]})})},Yme=()=>{var D;const{questId:t}=KA(),[e,n]=M.useState(null),[r,i]=M.useState(null),[o,s]=M.useState("start"),[u,c]=M.useState(!0),[f,h]=M.useState(""),y=C=>C?typeof C=="string"?C:C[(e==null?void 0:e.dsl.meta.defaultLocale)||"ru"]||Object.values(C)[0]||"":"",v=M.useCallback((C,q)=>{if(C.all)return C.all.every(N=>v(N,q));if(C.any)return C.any.some(N=>v(N,q));if(C.not)return!v(C.not,q);const{vars:L,inventory:G}=q;return C.hp_eq!==void 0?L.hp===C.hp_eq:C.hp_gt!==void 0?L.hp>C.hp_gt:C.hp_gte!==void 0?L.hp>=C.hp_gte:C.hp_lt!==void 0?L.hp<C.hp_lt:C.hp_lte!==void 0?L.hp<=C.hp_lte:C.has_item?G.includes(C.has_item):C.missing_item?!G.includes(C.missing_item):C.var_eq?Object.entries(C.var_eq).every(([N,O])=>L[N]===O):C.var_neq?Object.entries(C.var_neq).every(([N,O])=>L[N]!==O):!0},[]),E=M.useCallback((C,q)=>{if(!C)return q;const L=JSON.parse(JSON.stringify(q));return C.forEach(G=>{G.add&&Object.entries(G.add).forEach(([N,O])=>{L.vars[N]=(L.vars[N]||0)+O}),G.set&&Object.entries(G.set).forEach(([N,O])=>{L.vars[N]=O}),G.inv_add&&!L.inventory.includes(G.inv_add)&&L.inventory.push(G.inv_add),G.inv_remove&&(L.inventory=L.inventory.filter(N=>N!==G.inv_remove))}),L},[]);M.useEffect(()=>{if(!t){h("Квест не найден."),c(!1);return}c(!0),h(""),Cr.collection("games").doc(t).get().then(q=>{if(q.exists){const L={id:q.id,...q.data()};n(L);const G=localStorage.getItem(`quest-save-${t}`);if(G){const{playerState:N,currentNodeId:O}=JSON.parse(G);i(N),s(O)}else i(L.dsl.state),s("start")}else h("Квест не найден.");c(!1)}).catch(q=>{console.error("Error fetching quest:",q),h("Ошибка при загрузке квеста."),c(!1)})},[t]),M.useEffect(()=>{if(e&&r){const C={questId:t,playerState:r,currentNodeId:o};localStorage.setItem(`quest-save-${t}`,JSON.stringify(C))}},[r,o,t,e]);const S=e==null?void 0:e.dsl.nodes[o];M.useEffect(()=>{if(!S||!r)return;const C=E(S.effects,r);if(C!==r){i(C);return}if(S.branch){for(const q of S.branch)if(v(q.when,r)){s(q.to);return}}S.fallback&&s(S.fallback)},[o,e,r,E,v]);const b=C=>{if(!r)return;const q=E(C.effects,r);i(q),s(C.to)};if(u)return H.jsx("div",{className:"text-center p-8 font-display text-4xl text-stone-400 animate-pulse",children:"ЗАГРУЗКА КВЕСТА..."});if(f)return H.jsx("div",{className:"text-center p-8 text-2xl text-red-500",children:f});if(!e||!r||!S)return H.jsx("div",{className:"text-center p-8 text-2xl text-stone-400",children:"Инициализация..."});const I=S.bg&&e.dsl.assets.images[S.bg]?e.dsl.assets.images[S.bg]:void 0,R=((D=S.choices)==null?void 0:D.filter(C=>C.when?v(C.when,r):!0))||[];return H.jsxs("div",{className:"min-h-screen w-full flex flex-col justify-end p-4 md:p-8 bg-cover bg-center transition-all duration-500",style:{backgroundImage:I?`url(${I})`:"none",backgroundColor:"#1c1917"},children:[H.jsxs("div",{className:"absolute top-4 left-4 right-4 flex items-center justify-between gap-4 bg-black/50 p-2 rounded-md text-stone-200 backdrop-blur-sm",children:[H.jsx("div",{className:"flex gap-4",children:Object.keys(r.vars).map(C=>H.jsxs("span",{children:[C.toUpperCase(),": ",r.vars[C]??0]},C))}),H.jsx("div",{children:H.jsx("span",{children:r.inventory.join(", ")})})]}),H.jsxs("div",{className:"bg-black/70 backdrop-blur-sm border border-stone-700 p-6 md:p-8 rounded-lg max-w-4xl mx-auto w-full shadow-2xl shadow-black/50",children:[H.jsx("h2",{className:"font-display text-3xl md:text-4xl text-amber-400 mb-4",children:y(S.title)}),H.jsx("p",{className:"text-stone-300 whitespace-pre-wrap leading-relaxed mb-6",children:y(S.text)}),S.end&&H.jsxs("div",{className:"text-center",children:[H.jsx("h3",{className:`font-display text-4xl ${S.end.type==="win"?"text-lime-400":"text-red-500"}`,children:S.end.type==="win"?"Победа!":"Конец игры"}),H.jsx("p",{className:"mt-4 text-stone-300",children:y(S.end.message)})]}),H.jsx("div",{className:"flex flex-col space-y-3",children:R.map((C,q)=>H.jsx("button",{onClick:()=>b(C),className:"text-left w-full p-4 bg-stone-800/70 border border-stone-600 rounded-md hover:bg-amber-500 hover:border-amber-400 hover:text-stone-900 transition-all text-stone-200 font-semibold",children:y(C.label)},q))})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Jme,Qme;function Xme(){return{geminiUrl:Jme,vertexUrl:Qme}}function Zme(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=Xme();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bu{}function Ie(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function m(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let f=0;f<c.length;f++){const h=c[f];m(h,e.slice(o+1),n[f])}else for(const f of c)m(f,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];m(c[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function p(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const o=t[i];return Array.isArray(o)?o.map(s=>p(s,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MA(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qV;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(qV||(qV={}));var $V;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})($V||($V={}));var Ca;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ca||(Ca={}));var zV;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(zV||(zV={}));var HV;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(HV||(HV={}));var GV;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(GV||(GV={}));var KV;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(KV||(KV={}));var WV;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(WV||(WV={}));var jV;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(jV||(jV={}));var YV;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(YV||(YV={}));var JV;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(JV||(JV={}));var QV;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(QV||(QV={}));var XV;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(XV||(XV={}));var ZV;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(ZV||(ZV={}));var eL;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(eL||(eL={}));var m_;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(m_||(m_={}));var tL;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(tL||(tL={}));var DA;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(DA||(DA={}));var nL;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(nL||(nL={}));var rL;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(rL||(rL={}));var iL;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(iL||(iL={}));var oL;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(oL||(oL={}));var sL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(sL||(sL={}));var aL;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(aL||(aL={}));var lL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(lL||(lL={}));var uL;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(uL||(uL={}));var cL;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(cL||(cL={}));var fL;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(fL||(fL={}));var dL;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(dL||(dL={}));var hL;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(hL||(hL={}));var pL;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(pL||(pL={}));var mL;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(mL||(mL={}));var gL;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(gL||(gL={}));var yL;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(yL||(yL={}));var vL;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(vL||(vL={}));var _L;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(_L||(_L={}));var TL;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(TL||(TL={}));var EL;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(EL||(EL={}));var wL;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(wL||(wL={}));var SL;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(SL||(SL={}));var bL;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(bL||(bL={}));var AL;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(AL||(AL={}));var IL;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(IL||(IL={}));var CL;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(CL||(CL={}));var xL;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(xL||(xL={}));var Zc;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Zc||(Zc={}));class NA{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class jh{get text(){var e,n,r,i,o,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const y=[];for(const v of(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[E,S]of Object.entries(v))E!=="text"&&E!=="thought"&&(S!==null||S!==void 0)&&y.push(E);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;h=!0,f+=v.text}}return y.length>0&&console.warn(`there are non-text parts ${y} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,r,i,o,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const y of(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[v,E]of Object.entries(y))v!=="inlineData"&&(E!==null||E!==void 0)&&h.push(v);y.inlineData&&typeof y.inlineData.data=="string"&&(f+=atob(y.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,o,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,i,o,s,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(y=>y.executableCode).map(y=>y.executableCode).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,o,s,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(y=>y.codeExecutionResult).map(y=>y.codeExecutionResult).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class RL{}class PL{}class ege{}class tge{}class nge{}class rge{}class ML{}class DL{}class NL{}class ige{}class kL{}class g_{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new g_;if(r.name=e.name,r.metadata=e.metadata,r.done=e.done,r.error=e.error,n){const i=e.response;if(i){const o=new kL,s=i.videos;o.generatedVideos=s==null?void 0:s.map(u=>({video:{uri:u.gcsUri,videoBytes:u.bytesBase64Encoded?MA(u.bytesBase64Encoded):void 0,mimeType:u.mimeType}})),o.raiMediaFilteredCount=i.raiMediaFilteredCount,o.raiMediaFilteredReasons=i.raiMediaFilteredReasons,r.response=o}}else{const i=e.response;if(i){const o=new kL,s=i.generateVideoResponse,u=s==null?void 0:s.generatedSamples;o.generatedVideos=u==null?void 0:u.map(c=>{const f=c.video;return{video:{uri:f==null?void 0:f.uri,videoBytes:f!=null&&f.encodedVideo?MA(f==null?void 0:f.encodedVideo):void 0,mimeType:c.encoding}}}),o.raiMediaFilteredCount=s==null?void 0:s.raiMediaFilteredCount,o.raiMediaFilteredReasons=s==null?void 0:s.raiMediaFilteredReasons,r.response=o}}return r}}class OL{}class VL{}class LL{}class oge{}class sge{}class age{}class UL{}class lge{get text(){var e,n,r;let i="",o=!1;const s=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&s.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(s))u!=="inlineData"&&c!==null&&o.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class uge{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function rz(t,e){const n=lt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function iz(t){return Array.isArray(t)?t.map(e=>y_(e)):[y_(t)]}function y_(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function oz(t){const e=y_(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function sz(t){const e=y_(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function FL(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function az(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>FL(e)):[FL(t)]}function kA(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function BL(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function qL(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function cr(t){if(t==null)throw new Error("ContentUnion is required");return kA(t)?t:{role:"user",parts:az(t)}}function lz(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=cr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=cr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>cr(n)):[cr(e)]}function bi(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(BL(t)||qL(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[cr(t)]}const e=[],n=[],r=kA(t[0]);for(const i of t){const o=kA(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(BL(i)||qL(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:az(n)}),e}function cge(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Ca).includes(n[0].toUpperCase())?n[0].toUpperCase():Ca.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Ca).includes(r.toUpperCase())?r.toUpperCase():Ca.TYPE_UNSPECIFIED})}}function cf(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&cge(t.type,e);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Ca).includes(u.toUpperCase())?u.toUpperCase():Ca.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=cf(u);else if(r.includes(s)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(cf(f))}e[s]=c}else if(i.includes(s)){const c={};for(const[f,h]of Object.entries(u))c[f]=cf(h);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=u}return e}function hR(t){return cf(t)}function pR(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function mR(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function yd(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=cf(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=cf(e.response));return t}function vd(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function fge(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Us(t,e){if(typeof e!="string")throw new Error("name must be a string");return fge(t,e,"cachedContents")}function uz(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function qu(t){return MA(t)}function dge(t){return t!=null&&typeof t=="object"&&"name"in t}function hge(t){return t!=null&&typeof t=="object"&&"video"in t}function pge(t){return t!=null&&typeof t=="object"&&"uri"in t}function cz(t){var e;let n;if(dge(t)&&(n=t.name),!(pge(t)&&(n=t.uri,n===void 0))&&!(hge(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function fz(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function dz(t){for(const e of["models","tunedModels","publisherModels"])if(mge(t,e))return t[e];return[]}function mge(t,e){return t!==null&&typeof t=="object"&&e in t}function gge(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function yge(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=gge(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function hz(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function vge(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function _d(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function pz(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _ge(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Tge(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Ege(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function wge(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],_ge(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],Tge(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Ege(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const f=p(t,["functionCall"]);f!=null&&m(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function mz(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>wge(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Sge(t){const e={},n=p(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const r=p(t,["default"]);r!=null&&m(e,["default"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["enum"]);o!=null&&m(e,["enum"],o);const s=p(t,["example"]);s!=null&&m(e,["example"],s);const u=p(t,["format"]);u!=null&&m(e,["format"],u);const c=p(t,["items"]);c!=null&&m(e,["items"],c);const f=p(t,["maxItems"]);f!=null&&m(e,["maxItems"],f);const h=p(t,["maxLength"]);h!=null&&m(e,["maxLength"],h);const y=p(t,["maxProperties"]);y!=null&&m(e,["maxProperties"],y);const v=p(t,["maximum"]);v!=null&&m(e,["maximum"],v);const E=p(t,["minItems"]);E!=null&&m(e,["minItems"],E);const S=p(t,["minLength"]);S!=null&&m(e,["minLength"],S);const b=p(t,["minProperties"]);b!=null&&m(e,["minProperties"],b);const I=p(t,["minimum"]);I!=null&&m(e,["minimum"],I);const R=p(t,["nullable"]);R!=null&&m(e,["nullable"],R);const D=p(t,["pattern"]);D!=null&&m(e,["pattern"],D);const C=p(t,["properties"]);C!=null&&m(e,["properties"],C);const q=p(t,["propertyOrdering"]);q!=null&&m(e,["propertyOrdering"],q);const L=p(t,["required"]);L!=null&&m(e,["required"],L);const G=p(t,["title"]);G!=null&&m(e,["title"],G);const N=p(t,["type"]);return N!=null&&m(e,["type"],N),e}function bge(t){const e={};if(p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["category"]);n!=null&&m(e,["category"],n);const r=p(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function Age(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const o=p(t,["parameters"]);o!=null&&m(e,["parameters"],o);const s=p(t,["parametersJsonSchema"]);s!=null&&m(e,["parametersJsonSchema"],s);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&m(e,["responseJsonSchema"],c),e}function Ige(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function Cge(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],Ige(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function xge(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function Rge(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],xge(n)),e}function Pge(){return{}}function Mge(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function Dge(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>Age(f))),m(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],Cge(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],Rge(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],Pge());const s=p(t,["computerUse"]);s!=null&&m(e,["computerUse"],Mge(s));const u=p(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function Nge(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function kge(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function Oge(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],kge(n));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function Vge(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Nge(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],Oge(r)),e}function Lge(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function gz(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],Lge(n)),e}function Uge(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],gz(r)),e}function Fge(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Uge(i))),m(e,["speakerVoiceConfigs"],r)}return e}function Bge(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],gz(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],Fge(r));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function qge(t){const e={},n=p(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=p(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function $ge(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],mz(cr(i)));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&m(r,["topP"],s);const u=p(e,["topK"]);u!=null&&m(r,["topK"],u);const c=p(e,["candidateCount"]);c!=null&&m(r,["candidateCount"],c);const f=p(e,["maxOutputTokens"]);f!=null&&m(r,["maxOutputTokens"],f);const h=p(e,["stopSequences"]);h!=null&&m(r,["stopSequences"],h);const y=p(e,["responseLogprobs"]);y!=null&&m(r,["responseLogprobs"],y);const v=p(e,["logprobs"]);v!=null&&m(r,["logprobs"],v);const E=p(e,["presencePenalty"]);E!=null&&m(r,["presencePenalty"],E);const S=p(e,["frequencyPenalty"]);S!=null&&m(r,["frequencyPenalty"],S);const b=p(e,["seed"]);b!=null&&m(r,["seed"],b);const I=p(e,["responseMimeType"]);I!=null&&m(r,["responseMimeType"],I);const R=p(e,["responseSchema"]);R!=null&&m(r,["responseSchema"],Sge(hR(R)));const D=p(e,["responseJsonSchema"]);if(D!=null&&m(r,["responseJsonSchema"],D),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const C=p(e,["safetySettings"]);if(n!==void 0&&C!=null){let F=C;Array.isArray(F)&&(F=F.map($=>bge($))),m(n,["safetySettings"],F)}const q=p(e,["tools"]);if(n!==void 0&&q!=null){let F=vd(q);Array.isArray(F)&&(F=F.map($=>Dge(yd($)))),m(n,["tools"],F)}const L=p(e,["toolConfig"]);if(n!==void 0&&L!=null&&m(n,["toolConfig"],Vge(L)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=p(e,["cachedContent"]);n!==void 0&&G!=null&&m(n,["cachedContent"],Us(t,G));const N=p(e,["responseModalities"]);N!=null&&m(r,["responseModalities"],N);const O=p(e,["mediaResolution"]);O!=null&&m(r,["mediaResolution"],O);const k=p(e,["speechConfig"]);if(k!=null&&m(r,["speechConfig"],Bge(pR(k))),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=p(e,["thinkingConfig"]);return B!=null&&m(r,["thinkingConfig"],qge(B)),r}function zge(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["request","model"],lt(t,r));const i=p(e,["contents"]);if(i!=null){let s=bi(i);Array.isArray(s)&&(s=s.map(u=>mz(u))),m(n,["request","contents"],s)}const o=p(e,["config"]);return o!=null&&m(n,["request","generationConfig"],$ge(t,o,n)),n}function Hge(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&m(n,["fileName"],r);const i=p(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>zge(t,s))),m(n,["requests","requests"],o)}return n}function Gge(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&m(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function $L(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],lt(t,r));const i=p(e,["src"]);i!=null&&m(n,["batch","inputConfig"],Hge(t,hz(t,i)));const o=p(e,["config"]);return o!=null&&m(n,["config"],Gge(o,n)),n}function Kge(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],_d(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function Wge(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],_d(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function jge(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Yge(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],jge(n,e)),e}function Jge(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],_d(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function Qge(t){const e={},n=p(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&m(e,["gcsSource","uris"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Xge(t){const e={},n=p(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&m(e,["gcsDestination","outputUriPrefix"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function Zge(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["dest"]);return e!==void 0&&i!=null&&m(e,["outputConfig"],Xge(vge(i))),n}function eye(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],lt(t,r));const i=p(e,["src"]);i!=null&&m(n,["inputConfig"],Qge(hz(t,i)));const o=p(e,["config"]);return o!=null&&m(n,["config"],Zge(o,n)),n}function tye(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],_d(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function nye(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],_d(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function rye(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function iye(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],rye(n,e)),e}function oye(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],_d(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function sye(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function aye(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function lye(t){const e={},n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function uye(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],sye(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],aye(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],lye(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const f=p(t,["functionCall"]);f!=null&&m(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function cye(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>uye(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function fye(t){const e={},n=p(t,["citationSources"]);return n!=null&&m(e,["citations"],n),e}function dye(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function hye(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>dye(i))),m(e,["urlMetadata"],r)}return e}function pye(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],cye(n));const r=p(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],fye(r));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const s=p(t,["urlContextMetadata"]);s!=null&&m(e,["urlContextMetadata"],hye(s));const u=p(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const c=p(t,["groundingMetadata"]);c!=null&&m(e,["groundingMetadata"],c);const f=p(t,["index"]);f!=null&&m(e,["index"],f);const h=p(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const y=p(t,["safetyRatings"]);return y!=null&&m(e,["safetyRatings"],y),e}function mye(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>pye(f))),m(e,["candidates"],c)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const s=p(t,["responseId"]);s!=null&&m(e,["responseId"],s);const u=p(t,["usageMetadata"]);return u!=null&&m(e,["usageMetadata"],u),e}function yz(t){const e={},n=p(t,["details"]);n!=null&&m(e,["details"],n);const r=p(t,["code"]);r!=null&&m(e,["code"],r);const i=p(t,["message"]);return i!=null&&m(e,["message"],i),e}function gye(t){const e={},n=p(t,["response"]);n!=null&&m(e,["response"],mye(n));const r=p(t,["error"]);return r!=null&&m(e,["error"],yz(r)),e}function yye(t){const e={},n=p(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>gye(o))),m(e,["inlinedResponses"],i)}return e}function nv(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["metadata","state"]);i!=null&&m(e,["state"],pz(i));const o=p(t,["metadata","createTime"]);o!=null&&m(e,["createTime"],o);const s=p(t,["metadata","endTime"]);s!=null&&m(e,["endTime"],s);const u=p(t,["metadata","updateTime"]);u!=null&&m(e,["updateTime"],u);const c=p(t,["metadata","model"]);c!=null&&m(e,["model"],c);const f=p(t,["metadata","output"]);return f!=null&&m(e,["dest"],yye(f)),e}function vye(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>nv(s))),m(e,["batchJobs"],o)}return e}function _ye(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);return o!=null&&m(e,["error"],yz(o)),e}function vz(t){const e={},n=p(t,["details"]);n!=null&&m(e,["details"],n);const r=p(t,["code"]);r!=null&&m(e,["code"],r);const i=p(t,["message"]);return i!=null&&m(e,["message"],i),e}function Tye(t){const e={},n=p(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&m(e,["gcsUri"],r);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function Eye(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&m(e,["gcsUri"],r);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function OA(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["state"]);i!=null&&m(e,["state"],pz(i));const o=p(t,["error"]);o!=null&&m(e,["error"],vz(o));const s=p(t,["createTime"]);s!=null&&m(e,["createTime"],s);const u=p(t,["startTime"]);u!=null&&m(e,["startTime"],u);const c=p(t,["endTime"]);c!=null&&m(e,["endTime"],c);const f=p(t,["updateTime"]);f!=null&&m(e,["updateTime"],f);const h=p(t,["model"]);h!=null&&m(e,["model"],h);const y=p(t,["inputConfig"]);y!=null&&m(e,["src"],Tye(y));const v=p(t,["outputConfig"]);return v!=null&&m(e,["dest"],Eye(v)),e}function wye(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>OA(s))),m(e,["batchJobs"],o)}return e}function Sye(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);return o!=null&&m(e,["error"],vz(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Cu;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Cu||(Cu={}));class $m{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bye extends Bu{constructor(e){super(),this.apiClient=e,this.create=async n=>{var r,i;if(this.apiClient.isVertexAI()){const s=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${s}`;else throw new Error("Unsupported source:"+n.src)}else if(Array.isArray(n.src)||typeof n.src!="string"&&n.src.inlinedRequests){let o="",s={};const u=$L(this.apiClient,n);o=Ie("{model}:batchGenerateContent",u._url),s=u._query;const h=u.batch.inputConfig.requests,y=h.requests,v=[];for(const S of y){const b=S;if(b.systemInstruction){const I=b.systemInstruction;delete b.systemInstruction;const R=b.request;R.systemInstruction=I,b.request=R}v.push(b)}return h.requests=v,delete u.config,delete u._url,delete u._query,this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(S=>S.json()).then(S=>nv(S))}return await this.createInternal(n)},this.list=async(n={})=>new $m(Cu.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}async createInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=eye(this.apiClient,e);return u=Ie("batchPredictionJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>OA(h))}else{const f=$L(this.apiClient,e);return u=Ie("{model}:batchGenerateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>nv(h))}}async get(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=tye(this.apiClient,e);return u=Ie("batchPredictionJobs/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>OA(h))}else{const f=Kge(this.apiClient,e);return u=Ie("batches/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>nv(h))}}async cancel(e){var n,r,i,o;let s="",u={};if(this.apiClient.isVertexAI()){const c=nye(this.apiClient,e);s=Ie("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=Wge(this.apiClient,e);s=Ie("batches/{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=iye(e);return u=Ie("batchPredictionJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const y=wye(h),v=new UL;return Object.assign(v,y),v})}else{const f=Yge(e);return u=Ie("batches",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const y=vye(h),v=new UL;return Object.assign(v,y),v})}}async delete(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=oye(this.apiClient,e);return u=Ie("batchPredictionJobs/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>Sye(h))}else{const f=Jge(this.apiClient,e);return u=Ie("batches/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>_ye(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Aye(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Iye(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Cye(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function xye(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Aye(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],Iye(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Cye(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const f=p(t,["functionCall"]);f!=null&&m(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function zL(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>xye(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Rye(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const o=p(t,["parameters"]);o!=null&&m(e,["parameters"],o);const s=p(t,["parametersJsonSchema"]);s!=null&&m(e,["parametersJsonSchema"],s);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&m(e,["responseJsonSchema"],c),e}function Pye(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function Mye(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],Pye(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Dye(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function Nye(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],Dye(n)),e}function kye(){return{}}function Oye(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function Vye(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>Rye(f))),m(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],Mye(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],Nye(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],kye());const s=p(t,["computerUse"]);s!=null&&m(e,["computerUse"],Oye(s));const u=p(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function Lye(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function Uye(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function Fye(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],Uye(n));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function Bye(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Lye(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],Fye(r)),e}function qye(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const s=p(t,["contents"]);if(e!==void 0&&s!=null){let h=bi(s);Array.isArray(h)&&(h=h.map(y=>zL(y))),m(e,["contents"],h)}const u=p(t,["systemInstruction"]);e!==void 0&&u!=null&&m(e,["systemInstruction"],zL(cr(u)));const c=p(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>Vye(y))),m(e,["tools"],h)}const f=p(t,["toolConfig"]);if(e!==void 0&&f!=null&&m(e,["toolConfig"],Bye(f)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function $ye(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],rz(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],qye(i,n)),n}function zye(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Us(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function Hye(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Us(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function Gye(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function Kye(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Us(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Gye(i,n)),n}function Wye(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function jye(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],Wye(n,e)),e}function Yye(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Jye(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["data"]);r!=null&&m(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Qye(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Xye(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Yye(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],Jye(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Qye(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const f=p(t,["functionCall"]);f!=null&&m(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function HL(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Xye(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Zye(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&m(e,["response"],s);const u=p(t,["responseJsonSchema"]);return u!=null&&m(e,["responseJsonSchema"],u),e}function eve(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function tve(t){const e={},n=p(t,["timeRangeFilter"]);n!=null&&m(e,["timeRangeFilter"],eve(n));const r=p(t,["excludeDomains"]);return r!=null&&m(e,["excludeDomains"],r),e}function nve(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function rve(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],nve(n)),e}function ive(t){const e={},n=p(t,["excludeDomains"]);return n!=null&&m(e,["excludeDomains"],n),e}function ove(t){const e={},n=p(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function sve(t){const e={},n=p(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],ove(n));const r=p(t,["authType"]);r!=null&&m(e,["authType"],r);const i=p(t,["googleServiceAccountConfig"]);i!=null&&m(e,["googleServiceAccountConfig"],i);const o=p(t,["httpBasicAuthConfig"]);o!=null&&m(e,["httpBasicAuthConfig"],o);const s=p(t,["oauthConfig"]);s!=null&&m(e,["oauthConfig"],s);const u=p(t,["oidcConfig"]);return u!=null&&m(e,["oidcConfig"],u),e}function ave(t){const e={},n=p(t,["authConfig"]);return n!=null&&m(e,["authConfig"],sve(n)),e}function lve(){return{}}function uve(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function cve(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(v=>Zye(v))),m(e,["functionDeclarations"],y)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],tve(i));const o=p(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],rve(o));const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],ive(s));const u=p(t,["googleMaps"]);u!=null&&m(e,["googleMaps"],ave(u)),p(t,["urlContext"])!=null&&m(e,["urlContext"],lve());const f=p(t,["computerUse"]);f!=null&&m(e,["computerUse"],uve(f));const h=p(t,["codeExecution"]);return h!=null&&m(e,["codeExecution"],h),e}function fve(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function dve(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function hve(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],dve(n));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function pve(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],fve(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],hve(r)),e}function mve(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const s=p(t,["contents"]);if(e!==void 0&&s!=null){let y=bi(s);Array.isArray(y)&&(y=y.map(v=>HL(v))),m(e,["contents"],y)}const u=p(t,["systemInstruction"]);e!==void 0&&u!=null&&m(e,["systemInstruction"],HL(cr(u)));const c=p(t,["tools"]);if(e!==void 0&&c!=null){let y=c;Array.isArray(y)&&(y=y.map(v=>cve(v))),m(e,["tools"],y)}const f=p(t,["toolConfig"]);e!==void 0&&f!=null&&m(e,["toolConfig"],pve(f));const h=p(t,["kmsKeyName"]);return e!==void 0&&h!=null&&m(e,["encryption_spec","kmsKeyName"],h),n}function gve(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],rz(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],mve(i,n)),n}function yve(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Us(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function vve(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Us(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function _ve(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function Tve(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Us(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],_ve(i,n)),n}function Eve(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function wve(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],Eve(n,e)),e}function rv(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["model"]);i!=null&&m(e,["model"],i);const o=p(t,["createTime"]);o!=null&&m(e,["createTime"],o);const s=p(t,["updateTime"]);s!=null&&m(e,["updateTime"],s);const u=p(t,["expireTime"]);u!=null&&m(e,["expireTime"],u);const c=p(t,["usageMetadata"]);return c!=null&&m(e,["usageMetadata"],c),e}function Sve(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function bve(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>rv(s))),m(e,["cachedContents"],o)}return e}function iv(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["model"]);i!=null&&m(e,["model"],i);const o=p(t,["createTime"]);o!=null&&m(e,["createTime"],o);const s=p(t,["updateTime"]);s!=null&&m(e,["updateTime"],s);const u=p(t,["expireTime"]);u!=null&&m(e,["expireTime"],u);const c=p(t,["usageMetadata"]);return c!=null&&m(e,["usageMetadata"],c),e}function Ave(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Ive(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>iv(s))),m(e,["cachedContents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cve extends Bu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $m(Cu.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=gve(this.apiClient,e);return u=Ie("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>iv(h))}else{const f=$ye(this.apiClient,e);return u=Ie("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>rv(h))}}async get(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=yve(this.apiClient,e);return u=Ie("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>iv(h))}else{const f=zye(this.apiClient,e);return u=Ie("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>rv(h))}}async delete(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=vve(this.apiClient,e);return u=Ie("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const y=Ave(h),v=new VL;return Object.assign(v,y),v})}else{const f=Hye(this.apiClient,e);return u=Ie("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const y=Sve(h),v=new VL;return Object.assign(v,y),v})}}async update(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Tve(this.apiClient,e);return u=Ie("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>iv(h))}else{const f=Kye(this.apiClient,e);return u=Ie("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>rv(h))}}async listInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=wve(e);return u=Ie("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const y=Ive(h),v=new LL;return Object.assign(v,y),v})}else{const f=jye(e);return u=Ie("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const y=bve(h),v=new LL;return Object.assign(v,y),v})}}}function GL(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pt(t){return this instanceof Pt?(this.v=t,this):new Pt(t)}function ff(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(E){return function(S){return Promise.resolve(S).then(E,y)}}function u(E,S){r[E]&&(i[E]=function(b){return new Promise(function(I,R){o.push([E,b,I,R])>1||c(E,b)})},S&&(i[E]=S(i[E])))}function c(E,S){try{f(r[E](S))}catch(b){v(o[0][3],b)}}function f(E){E.value instanceof Pt?Promise.resolve(E.value.v).then(h,y):v(o[0][2],E)}function h(E){c("next",E)}function y(E){c("throw",E)}function v(E,S){E(S),o.shift(),o.length&&c(o[0][0],o[0][1])}}function wp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof GL=="function"?GL(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(u,c){s=t[o](s),i(u,c,s.done,s.value)})}}function i(o,s,u,c){Promise.resolve(c).then(function(f){o({value:f,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xve(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:_z(n)}function _z(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Rve(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function KL(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!_z(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class Pve{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Mve(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Mve{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),Rve(o)}async sendMessage(e){var n;await this.sendPromise;const r=cr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,u;const c=await i,f=(s=(o=c.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,h=c.automaticFunctionCallingHistory,y=this.getHistory(!0).length;let v=[];h!=null&&(v=(u=h.slice(y))!==null&&u!==void 0?u:[]);const E=f?[f]:[];this.recordHistory(r,E,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=cr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?KL(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return ff(this,arguments,function*(){var s,u,c,f;const h=[];try{for(var y=!0,v=wp(e),E;E=yield Pt(v.next()),s=E.done,!s;y=!0){f=E.value,y=!1;const S=f;if(xve(S)){const b=(i=(r=S.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;b!==void 0&&h.push(b)}yield yield Pt(S)}}catch(S){u={error:S}}finally{try{!y&&!s&&(c=v.return)&&(yield Pt(c.call(v)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...KL(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class O0 extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,O0.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dve(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Nve(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],Dve(n,e)),e}function kve(t){const e={},n=p(t,["details"]);n!=null&&m(e,["details"],n);const r=p(t,["message"]);r!=null&&m(e,["message"],r);const i=p(t,["code"]);return i!=null&&m(e,["code"],i),e}function Ove(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["mimeType"]);i!=null&&m(e,["mimeType"],i);const o=p(t,["sizeBytes"]);o!=null&&m(e,["sizeBytes"],o);const s=p(t,["createTime"]);s!=null&&m(e,["createTime"],s);const u=p(t,["expirationTime"]);u!=null&&m(e,["expirationTime"],u);const c=p(t,["updateTime"]);c!=null&&m(e,["updateTime"],c);const f=p(t,["sha256Hash"]);f!=null&&m(e,["sha256Hash"],f);const h=p(t,["uri"]);h!=null&&m(e,["uri"],h);const y=p(t,["downloadUri"]);y!=null&&m(e,["downloadUri"],y);const v=p(t,["state"]);v!=null&&m(e,["state"],v);const E=p(t,["source"]);E!=null&&m(e,["source"],E);const S=p(t,["videoMetadata"]);S!=null&&m(e,["videoMetadata"],S);const b=p(t,["error"]);return b!=null&&m(e,["error"],kve(b)),e}function Vve(t){const e={},n=p(t,["file"]);n!=null&&m(e,["file"],Ove(n));const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function Lve(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","file"],cz(n));const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function Uve(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","file"],cz(n));const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function Fve(t){const e={},n=p(t,["details"]);n!=null&&m(e,["details"],n);const r=p(t,["message"]);r!=null&&m(e,["message"],r);const i=p(t,["code"]);return i!=null&&m(e,["code"],i),e}function VA(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["mimeType"]);i!=null&&m(e,["mimeType"],i);const o=p(t,["sizeBytes"]);o!=null&&m(e,["sizeBytes"],o);const s=p(t,["createTime"]);s!=null&&m(e,["createTime"],s);const u=p(t,["expirationTime"]);u!=null&&m(e,["expirationTime"],u);const c=p(t,["updateTime"]);c!=null&&m(e,["updateTime"],c);const f=p(t,["sha256Hash"]);f!=null&&m(e,["sha256Hash"],f);const h=p(t,["uri"]);h!=null&&m(e,["uri"],h);const y=p(t,["downloadUri"]);y!=null&&m(e,["downloadUri"],y);const v=p(t,["state"]);v!=null&&m(e,["state"],v);const E=p(t,["source"]);E!=null&&m(e,["source"],E);const S=p(t,["videoMetadata"]);S!=null&&m(e,["videoMetadata"],S);const b=p(t,["error"]);return b!=null&&m(e,["error"],Fve(b)),e}function Bve(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>VA(s))),m(e,["files"],o)}return e}function qve(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function $ve(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zve extends Bu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $m(Cu.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>VA(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Nve(e);return o=Ie("files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Bve(c),h=new oge;return Object.assign(h,f),h})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Vve(e);return o=Ie("upload/v1beta/files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=qve(c),h=new sge;return Object.assign(h,f),h})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Lve(e);return o=Ie("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>VA(c))}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Uve(e);return o=Ie("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=$ve(c),h=new age;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hve(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function Tz(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],Hve(n)),e}function Gve(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],Tz(r)),e}function Kve(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Gve(i))),m(e,["speakerVoiceConfigs"],r)}return e}function Wve(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],Tz(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],Kve(r));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function jve(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Yve(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Jve(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Qve(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],jve(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],Yve(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Jve(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const f=p(t,["functionCall"]);f!=null&&m(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function Xve(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Qve(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Zve(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const o=p(t,["parameters"]);o!=null&&m(e,["parameters"],o);const s=p(t,["parametersJsonSchema"]);s!=null&&m(e,["parametersJsonSchema"],s);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&m(e,["responseJsonSchema"],c),e}function e_e(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function t_e(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],e_e(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function n_e(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function r_e(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],n_e(n)),e}function i_e(){return{}}function o_e(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function s_e(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>Zve(f))),m(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],t_e(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],r_e(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],i_e());const s=p(t,["computerUse"]);s!=null&&m(e,["computerUse"],o_e(s));const u=p(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function a_e(t){const e={},n=p(t,["handle"]);if(n!=null&&m(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function WL(){return{}}function l_e(t){const e={},n=p(t,["disabled"]);n!=null&&m(e,["disabled"],n);const r=p(t,["startOfSpeechSensitivity"]);r!=null&&m(e,["startOfSpeechSensitivity"],r);const i=p(t,["endOfSpeechSensitivity"]);i!=null&&m(e,["endOfSpeechSensitivity"],i);const o=p(t,["prefixPaddingMs"]);o!=null&&m(e,["prefixPaddingMs"],o);const s=p(t,["silenceDurationMs"]);return s!=null&&m(e,["silenceDurationMs"],s),e}function u_e(t){const e={},n=p(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],l_e(n));const r=p(t,["activityHandling"]);r!=null&&m(e,["activityHandling"],r);const i=p(t,["turnCoverage"]);return i!=null&&m(e,["turnCoverage"],i),e}function c_e(t){const e={},n=p(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function f_e(t){const e={},n=p(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const r=p(t,["slidingWindow"]);return r!=null&&m(e,["slidingWindow"],c_e(r)),e}function d_e(t){const e={},n=p(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function h_e(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topP"],s);const u=p(t,["topK"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topK"],u);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","maxOutputTokens"],c);const f=p(t,["mediaResolution"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","mediaResolution"],f);const h=p(t,["seed"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","seed"],h);const y=p(t,["speechConfig"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","speechConfig"],Wve(mR(y)));const v=p(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],v);const E=p(t,["systemInstruction"]);e!==void 0&&E!=null&&m(e,["setup","systemInstruction"],Xve(cr(E)));const S=p(t,["tools"]);if(e!==void 0&&S!=null){let L=vd(S);Array.isArray(L)&&(L=L.map(G=>s_e(yd(G)))),m(e,["setup","tools"],L)}const b=p(t,["sessionResumption"]);e!==void 0&&b!=null&&m(e,["setup","sessionResumption"],a_e(b));const I=p(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&m(e,["setup","inputAudioTranscription"],WL());const R=p(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&m(e,["setup","outputAudioTranscription"],WL());const D=p(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&m(e,["setup","realtimeInputConfig"],u_e(D));const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&m(e,["setup","contextWindowCompression"],f_e(C));const q=p(t,["proactivity"]);return e!==void 0&&q!=null&&m(e,["setup","proactivity"],d_e(q)),n}function p_e(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],lt(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],h_e(i,n)),n}function m_e(){return{}}function g_e(){return{}}function y_e(t){const e={},n=p(t,["media"]);n!=null&&m(e,["mediaChunks"],iz(n));const r=p(t,["audio"]);r!=null&&m(e,["audio"],sz(r));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&m(e,["video"],oz(o));const s=p(t,["text"]);return s!=null&&m(e,["text"],s),p(t,["activityStart"])!=null&&m(e,["activityStart"],m_e()),p(t,["activityEnd"])!=null&&m(e,["activityEnd"],g_e()),e}function Ez(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const r=p(t,["weight"]);return r!=null&&m(e,["weight"],r),e}function v_e(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Ez(i))),m(e,["weightedPrompts"],r)}return e}function wz(t){const e={},n=p(t,["temperature"]);n!=null&&m(e,["temperature"],n);const r=p(t,["topK"]);r!=null&&m(e,["topK"],r);const i=p(t,["seed"]);i!=null&&m(e,["seed"],i);const o=p(t,["guidance"]);o!=null&&m(e,["guidance"],o);const s=p(t,["bpm"]);s!=null&&m(e,["bpm"],s);const u=p(t,["density"]);u!=null&&m(e,["density"],u);const c=p(t,["brightness"]);c!=null&&m(e,["brightness"],c);const f=p(t,["scale"]);f!=null&&m(e,["scale"],f);const h=p(t,["muteBass"]);h!=null&&m(e,["muteBass"],h);const y=p(t,["muteDrums"]);y!=null&&m(e,["muteDrums"],y);const v=p(t,["onlyBassAndDrums"]);v!=null&&m(e,["onlyBassAndDrums"],v);const E=p(t,["musicGenerationMode"]);return E!=null&&m(e,["musicGenerationMode"],E),e}function __e(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],wz(n)),e}function Sz(t){const e={},n=p(t,["model"]);return n!=null&&m(e,["model"],n),e}function bz(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Ez(i))),m(e,["weightedPrompts"],r)}return e}function LA(t){const e={},n=p(t,["setup"]);n!=null&&m(e,["setup"],Sz(n));const r=p(t,["clientContent"]);r!=null&&m(e,["clientContent"],bz(r));const i=p(t,["musicGenerationConfig"]);i!=null&&m(e,["musicGenerationConfig"],wz(i));const o=p(t,["playbackControl"]);return o!=null&&m(e,["playbackControl"],o),e}function T_e(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function E_e(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],T_e(n)),e}function w_e(t){const e={},n=p(t,["voiceConfig"]);if(n!=null&&m(e,["voiceConfig"],E_e(n)),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function S_e(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function b_e(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["data"]);r!=null&&m(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function A_e(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function I_e(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],S_e(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],b_e(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],A_e(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const f=p(t,["functionCall"]);f!=null&&m(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function C_e(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>I_e(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function x_e(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&m(e,["response"],s);const u=p(t,["responseJsonSchema"]);return u!=null&&m(e,["responseJsonSchema"],u),e}function R_e(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function P_e(t){const e={},n=p(t,["timeRangeFilter"]);n!=null&&m(e,["timeRangeFilter"],R_e(n));const r=p(t,["excludeDomains"]);return r!=null&&m(e,["excludeDomains"],r),e}function M_e(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function D_e(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],M_e(n)),e}function N_e(t){const e={},n=p(t,["excludeDomains"]);return n!=null&&m(e,["excludeDomains"],n),e}function k_e(t){const e={},n=p(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function O_e(t){const e={},n=p(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],k_e(n));const r=p(t,["authType"]);r!=null&&m(e,["authType"],r);const i=p(t,["googleServiceAccountConfig"]);i!=null&&m(e,["googleServiceAccountConfig"],i);const o=p(t,["httpBasicAuthConfig"]);o!=null&&m(e,["httpBasicAuthConfig"],o);const s=p(t,["oauthConfig"]);s!=null&&m(e,["oauthConfig"],s);const u=p(t,["oidcConfig"]);return u!=null&&m(e,["oidcConfig"],u),e}function V_e(t){const e={},n=p(t,["authConfig"]);return n!=null&&m(e,["authConfig"],O_e(n)),e}function L_e(){return{}}function U_e(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function F_e(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(v=>x_e(v))),m(e,["functionDeclarations"],y)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],P_e(i));const o=p(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],D_e(o));const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],N_e(s));const u=p(t,["googleMaps"]);u!=null&&m(e,["googleMaps"],V_e(u)),p(t,["urlContext"])!=null&&m(e,["urlContext"],L_e());const f=p(t,["computerUse"]);f!=null&&m(e,["computerUse"],U_e(f));const h=p(t,["codeExecution"]);return h!=null&&m(e,["codeExecution"],h),e}function B_e(t){const e={},n=p(t,["handle"]);n!=null&&m(e,["handle"],n);const r=p(t,["transparent"]);return r!=null&&m(e,["transparent"],r),e}function jL(){return{}}function q_e(t){const e={},n=p(t,["disabled"]);n!=null&&m(e,["disabled"],n);const r=p(t,["startOfSpeechSensitivity"]);r!=null&&m(e,["startOfSpeechSensitivity"],r);const i=p(t,["endOfSpeechSensitivity"]);i!=null&&m(e,["endOfSpeechSensitivity"],i);const o=p(t,["prefixPaddingMs"]);o!=null&&m(e,["prefixPaddingMs"],o);const s=p(t,["silenceDurationMs"]);return s!=null&&m(e,["silenceDurationMs"],s),e}function $_e(t){const e={},n=p(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],q_e(n));const r=p(t,["activityHandling"]);r!=null&&m(e,["activityHandling"],r);const i=p(t,["turnCoverage"]);return i!=null&&m(e,["turnCoverage"],i),e}function z_e(t){const e={},n=p(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function H_e(t){const e={},n=p(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const r=p(t,["slidingWindow"]);return r!=null&&m(e,["slidingWindow"],z_e(r)),e}function G_e(t){const e={},n=p(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function K_e(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topP"],s);const u=p(t,["topK"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topK"],u);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","maxOutputTokens"],c);const f=p(t,["mediaResolution"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","mediaResolution"],f);const h=p(t,["seed"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","seed"],h);const y=p(t,["speechConfig"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","speechConfig"],w_e(mR(y)));const v=p(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],v);const E=p(t,["systemInstruction"]);e!==void 0&&E!=null&&m(e,["setup","systemInstruction"],C_e(cr(E)));const S=p(t,["tools"]);if(e!==void 0&&S!=null){let L=vd(S);Array.isArray(L)&&(L=L.map(G=>F_e(yd(G)))),m(e,["setup","tools"],L)}const b=p(t,["sessionResumption"]);e!==void 0&&b!=null&&m(e,["setup","sessionResumption"],B_e(b));const I=p(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&m(e,["setup","inputAudioTranscription"],jL());const R=p(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&m(e,["setup","outputAudioTranscription"],jL());const D=p(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&m(e,["setup","realtimeInputConfig"],$_e(D));const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&m(e,["setup","contextWindowCompression"],H_e(C));const q=p(t,["proactivity"]);return e!==void 0&&q!=null&&m(e,["setup","proactivity"],G_e(q)),n}function W_e(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],lt(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],K_e(i,n)),n}function j_e(){return{}}function Y_e(){return{}}function J_e(t){const e={},n=p(t,["media"]);n!=null&&m(e,["mediaChunks"],iz(n));const r=p(t,["audio"]);r!=null&&m(e,["audio"],sz(r));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&m(e,["video"],oz(o));const s=p(t,["text"]);return s!=null&&m(e,["text"],s),p(t,["activityStart"])!=null&&m(e,["activityStart"],j_e()),p(t,["activityEnd"])!=null&&m(e,["activityEnd"],Y_e()),e}function Q_e(){return{}}function X_e(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Z_e(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function e0e(t){const e={},n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function t0e(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],X_e(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],Z_e(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],e0e(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const f=p(t,["functionCall"]);f!=null&&m(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function n0e(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>t0e(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function YL(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const r=p(t,["finished"]);return r!=null&&m(e,["finished"],r),e}function r0e(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function i0e(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>r0e(i))),m(e,["urlMetadata"],r)}return e}function o0e(t){const e={},n=p(t,["modelTurn"]);n!=null&&m(e,["modelTurn"],n0e(n));const r=p(t,["turnComplete"]);r!=null&&m(e,["turnComplete"],r);const i=p(t,["interrupted"]);i!=null&&m(e,["interrupted"],i);const o=p(t,["groundingMetadata"]);o!=null&&m(e,["groundingMetadata"],o);const s=p(t,["generationComplete"]);s!=null&&m(e,["generationComplete"],s);const u=p(t,["inputTranscription"]);u!=null&&m(e,["inputTranscription"],YL(u));const c=p(t,["outputTranscription"]);c!=null&&m(e,["outputTranscription"],YL(c));const f=p(t,["urlContextMetadata"]);return f!=null&&m(e,["urlContextMetadata"],i0e(f)),e}function s0e(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);return i!=null&&m(e,["name"],i),e}function a0e(t){const e={},n=p(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>s0e(i))),m(e,["functionCalls"],r)}return e}function l0e(t){const e={},n=p(t,["ids"]);return n!=null&&m(e,["ids"],n),e}function Vy(t){const e={},n=p(t,["modality"]);n!=null&&m(e,["modality"],n);const r=p(t,["tokenCount"]);return r!=null&&m(e,["tokenCount"],r),e}function u0e(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const i=p(t,["responseTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&m(e,["toolUsePromptTokenCount"],o);const s=p(t,["thoughtsTokenCount"]);s!=null&&m(e,["thoughtsTokenCount"],s);const u=p(t,["totalTokenCount"]);u!=null&&m(e,["totalTokenCount"],u);const c=p(t,["promptTokensDetails"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(E=>Vy(E))),m(e,["promptTokensDetails"],v)}const f=p(t,["cacheTokensDetails"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(E=>Vy(E))),m(e,["cacheTokensDetails"],v)}const h=p(t,["responseTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(E=>Vy(E))),m(e,["responseTokensDetails"],v)}const y=p(t,["toolUsePromptTokensDetails"]);if(y!=null){let v=y;Array.isArray(v)&&(v=v.map(E=>Vy(E))),m(e,["toolUsePromptTokensDetails"],v)}return e}function c0e(t){const e={},n=p(t,["timeLeft"]);return n!=null&&m(e,["timeLeft"],n),e}function f0e(t){const e={},n=p(t,["newHandle"]);n!=null&&m(e,["newHandle"],n);const r=p(t,["resumable"]);r!=null&&m(e,["resumable"],r);const i=p(t,["lastConsumedClientMessageIndex"]);return i!=null&&m(e,["lastConsumedClientMessageIndex"],i),e}function d0e(t){const e={};p(t,["setupComplete"])!=null&&m(e,["setupComplete"],Q_e());const r=p(t,["serverContent"]);r!=null&&m(e,["serverContent"],o0e(r));const i=p(t,["toolCall"]);i!=null&&m(e,["toolCall"],a0e(i));const o=p(t,["toolCallCancellation"]);o!=null&&m(e,["toolCallCancellation"],l0e(o));const s=p(t,["usageMetadata"]);s!=null&&m(e,["usageMetadata"],u0e(s));const u=p(t,["goAway"]);u!=null&&m(e,["goAway"],c0e(u));const c=p(t,["sessionResumptionUpdate"]);return c!=null&&m(e,["sessionResumptionUpdate"],f0e(c)),e}function h0e(){return{}}function p0e(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const r=p(t,["weight"]);return r!=null&&m(e,["weight"],r),e}function m0e(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>p0e(i))),m(e,["weightedPrompts"],r)}return e}function g0e(t){const e={},n=p(t,["temperature"]);n!=null&&m(e,["temperature"],n);const r=p(t,["topK"]);r!=null&&m(e,["topK"],r);const i=p(t,["seed"]);i!=null&&m(e,["seed"],i);const o=p(t,["guidance"]);o!=null&&m(e,["guidance"],o);const s=p(t,["bpm"]);s!=null&&m(e,["bpm"],s);const u=p(t,["density"]);u!=null&&m(e,["density"],u);const c=p(t,["brightness"]);c!=null&&m(e,["brightness"],c);const f=p(t,["scale"]);f!=null&&m(e,["scale"],f);const h=p(t,["muteBass"]);h!=null&&m(e,["muteBass"],h);const y=p(t,["muteDrums"]);y!=null&&m(e,["muteDrums"],y);const v=p(t,["onlyBassAndDrums"]);v!=null&&m(e,["onlyBassAndDrums"],v);const E=p(t,["musicGenerationMode"]);return E!=null&&m(e,["musicGenerationMode"],E),e}function y0e(t){const e={},n=p(t,["clientContent"]);n!=null&&m(e,["clientContent"],m0e(n));const r=p(t,["musicGenerationConfig"]);return r!=null&&m(e,["musicGenerationConfig"],g0e(r)),e}function v0e(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);r!=null&&m(e,["mimeType"],r);const i=p(t,["sourceMetadata"]);return i!=null&&m(e,["sourceMetadata"],y0e(i)),e}function _0e(t){const e={},n=p(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>v0e(i))),m(e,["audioChunks"],r)}return e}function T0e(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const r=p(t,["filteredReason"]);return r!=null&&m(e,["filteredReason"],r),e}function E0e(t){const e={};p(t,["setupComplete"])!=null&&m(e,["setupComplete"],h0e());const r=p(t,["serverContent"]);r!=null&&m(e,["serverContent"],_0e(r));const i=p(t,["filteredPrompt"]);return i!=null&&m(e,["filteredPrompt"],T0e(i)),e}function w0e(t){const e={},n=p(t,["sessionId"]);return n!=null&&m(e,["sessionId"],n),e}function S0e(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function b0e(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["data"]);r!=null&&m(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function A0e(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function I0e(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],S0e(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],b0e(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],A0e(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const f=p(t,["functionCall"]);f!=null&&m(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function C0e(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>I0e(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function JL(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const r=p(t,["finished"]);return r!=null&&m(e,["finished"],r),e}function x0e(t){const e={},n=p(t,["modelTurn"]);n!=null&&m(e,["modelTurn"],C0e(n));const r=p(t,["turnComplete"]);r!=null&&m(e,["turnComplete"],r);const i=p(t,["interrupted"]);i!=null&&m(e,["interrupted"],i);const o=p(t,["groundingMetadata"]);o!=null&&m(e,["groundingMetadata"],o);const s=p(t,["generationComplete"]);s!=null&&m(e,["generationComplete"],s);const u=p(t,["inputTranscription"]);u!=null&&m(e,["inputTranscription"],JL(u));const c=p(t,["outputTranscription"]);return c!=null&&m(e,["outputTranscription"],JL(c)),e}function R0e(t){const e={},n=p(t,["args"]);n!=null&&m(e,["args"],n);const r=p(t,["name"]);return r!=null&&m(e,["name"],r),e}function P0e(t){const e={},n=p(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>R0e(i))),m(e,["functionCalls"],r)}return e}function M0e(t){const e={},n=p(t,["ids"]);return n!=null&&m(e,["ids"],n),e}function Ly(t){const e={},n=p(t,["modality"]);n!=null&&m(e,["modality"],n);const r=p(t,["tokenCount"]);return r!=null&&m(e,["tokenCount"],r),e}function D0e(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const i=p(t,["candidatesTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&m(e,["toolUsePromptTokenCount"],o);const s=p(t,["thoughtsTokenCount"]);s!=null&&m(e,["thoughtsTokenCount"],s);const u=p(t,["totalTokenCount"]);u!=null&&m(e,["totalTokenCount"],u);const c=p(t,["promptTokensDetails"]);if(c!=null){let E=c;Array.isArray(E)&&(E=E.map(S=>Ly(S))),m(e,["promptTokensDetails"],E)}const f=p(t,["cacheTokensDetails"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(S=>Ly(S))),m(e,["cacheTokensDetails"],E)}const h=p(t,["candidatesTokensDetails"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(S=>Ly(S))),m(e,["responseTokensDetails"],E)}const y=p(t,["toolUsePromptTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(S=>Ly(S))),m(e,["toolUsePromptTokensDetails"],E)}const v=p(t,["trafficType"]);return v!=null&&m(e,["trafficType"],v),e}function N0e(t){const e={},n=p(t,["timeLeft"]);return n!=null&&m(e,["timeLeft"],n),e}function k0e(t){const e={},n=p(t,["newHandle"]);n!=null&&m(e,["newHandle"],n);const r=p(t,["resumable"]);r!=null&&m(e,["resumable"],r);const i=p(t,["lastConsumedClientMessageIndex"]);return i!=null&&m(e,["lastConsumedClientMessageIndex"],i),e}function O0e(t){const e={},n=p(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],w0e(n));const r=p(t,["serverContent"]);r!=null&&m(e,["serverContent"],x0e(r));const i=p(t,["toolCall"]);i!=null&&m(e,["toolCall"],P0e(i));const o=p(t,["toolCallCancellation"]);o!=null&&m(e,["toolCallCancellation"],M0e(o));const s=p(t,["usageMetadata"]);s!=null&&m(e,["usageMetadata"],D0e(s));const u=p(t,["goAway"]);u!=null&&m(e,["goAway"],N0e(u));const c=p(t,["sessionResumptionUpdate"]);return c!=null&&m(e,["sessionResumptionUpdate"],k0e(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function V0e(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function L0e(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function U0e(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function F0e(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],V0e(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],L0e(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],U0e(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const f=p(t,["functionCall"]);f!=null&&m(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function V0(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>F0e(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function B0e(t){const e={},n=p(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const r=p(t,["default"]);r!=null&&m(e,["default"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["enum"]);o!=null&&m(e,["enum"],o);const s=p(t,["example"]);s!=null&&m(e,["example"],s);const u=p(t,["format"]);u!=null&&m(e,["format"],u);const c=p(t,["items"]);c!=null&&m(e,["items"],c);const f=p(t,["maxItems"]);f!=null&&m(e,["maxItems"],f);const h=p(t,["maxLength"]);h!=null&&m(e,["maxLength"],h);const y=p(t,["maxProperties"]);y!=null&&m(e,["maxProperties"],y);const v=p(t,["maximum"]);v!=null&&m(e,["maximum"],v);const E=p(t,["minItems"]);E!=null&&m(e,["minItems"],E);const S=p(t,["minLength"]);S!=null&&m(e,["minLength"],S);const b=p(t,["minProperties"]);b!=null&&m(e,["minProperties"],b);const I=p(t,["minimum"]);I!=null&&m(e,["minimum"],I);const R=p(t,["nullable"]);R!=null&&m(e,["nullable"],R);const D=p(t,["pattern"]);D!=null&&m(e,["pattern"],D);const C=p(t,["properties"]);C!=null&&m(e,["properties"],C);const q=p(t,["propertyOrdering"]);q!=null&&m(e,["propertyOrdering"],q);const L=p(t,["required"]);L!=null&&m(e,["required"],L);const G=p(t,["title"]);G!=null&&m(e,["title"],G);const N=p(t,["type"]);return N!=null&&m(e,["type"],N),e}function q0e(t){const e={};if(p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["category"]);n!=null&&m(e,["category"],n);const r=p(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function $0e(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const o=p(t,["parameters"]);o!=null&&m(e,["parameters"],o);const s=p(t,["parametersJsonSchema"]);s!=null&&m(e,["parametersJsonSchema"],s);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&m(e,["responseJsonSchema"],c),e}function z0e(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function H0e(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],z0e(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function G0e(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function K0e(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],G0e(n)),e}function W0e(){return{}}function j0e(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function Y0e(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>$0e(f))),m(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],H0e(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],K0e(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],W0e());const s=p(t,["computerUse"]);s!=null&&m(e,["computerUse"],j0e(s));const u=p(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function J0e(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function Q0e(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function X0e(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],Q0e(n));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function Z0e(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],J0e(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],X0e(r)),e}function eTe(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function Az(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],eTe(n)),e}function tTe(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],Az(r)),e}function nTe(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>tTe(i))),m(e,["speakerVoiceConfigs"],r)}return e}function rTe(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],Az(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],nTe(r));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function iTe(t){const e={},n=p(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=p(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function oTe(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],V0(cr(i)));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&m(r,["topP"],s);const u=p(e,["topK"]);u!=null&&m(r,["topK"],u);const c=p(e,["candidateCount"]);c!=null&&m(r,["candidateCount"],c);const f=p(e,["maxOutputTokens"]);f!=null&&m(r,["maxOutputTokens"],f);const h=p(e,["stopSequences"]);h!=null&&m(r,["stopSequences"],h);const y=p(e,["responseLogprobs"]);y!=null&&m(r,["responseLogprobs"],y);const v=p(e,["logprobs"]);v!=null&&m(r,["logprobs"],v);const E=p(e,["presencePenalty"]);E!=null&&m(r,["presencePenalty"],E);const S=p(e,["frequencyPenalty"]);S!=null&&m(r,["frequencyPenalty"],S);const b=p(e,["seed"]);b!=null&&m(r,["seed"],b);const I=p(e,["responseMimeType"]);I!=null&&m(r,["responseMimeType"],I);const R=p(e,["responseSchema"]);R!=null&&m(r,["responseSchema"],B0e(hR(R)));const D=p(e,["responseJsonSchema"]);if(D!=null&&m(r,["responseJsonSchema"],D),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const C=p(e,["safetySettings"]);if(n!==void 0&&C!=null){let F=C;Array.isArray(F)&&(F=F.map($=>q0e($))),m(n,["safetySettings"],F)}const q=p(e,["tools"]);if(n!==void 0&&q!=null){let F=vd(q);Array.isArray(F)&&(F=F.map($=>Y0e(yd($)))),m(n,["tools"],F)}const L=p(e,["toolConfig"]);if(n!==void 0&&L!=null&&m(n,["toolConfig"],Z0e(L)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=p(e,["cachedContent"]);n!==void 0&&G!=null&&m(n,["cachedContent"],Us(t,G));const N=p(e,["responseModalities"]);N!=null&&m(r,["responseModalities"],N);const O=p(e,["mediaResolution"]);O!=null&&m(r,["mediaResolution"],O);const k=p(e,["speechConfig"]);if(k!=null&&m(r,["speechConfig"],rTe(pR(k))),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=p(e,["thinkingConfig"]);return B!=null&&m(r,["thinkingConfig"],iTe(B)),r}function QL(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],lt(t,r));const i=p(e,["contents"]);if(i!=null){let s=bi(i);Array.isArray(s)&&(s=s.map(u=>V0(u))),m(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&m(n,["generationConfig"],oTe(t,o,n)),n}function sTe(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function aTe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],lt(t,r));const i=p(e,["contents"]);i!=null&&m(n,["requests[]","content"],lz(t,i));const o=p(e,["config"]);o!=null&&m(n,["config"],sTe(o,n));const s=p(e,["model"]);return s!==void 0&&m(n,["requests[]","model"],lt(t,s)),n}function lTe(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&m(e,["parameters","aspectRatio"],i);const o=p(t,["guidanceScale"]);if(e!==void 0&&o!=null&&m(e,["parameters","guidanceScale"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&m(e,["parameters","safetySetting"],s);const u=p(t,["personGeneration"]);e!==void 0&&u!=null&&m(e,["parameters","personGeneration"],u);const c=p(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&m(e,["parameters","includeSafetyAttributes"],c);const f=p(t,["includeRaiReason"]);e!==void 0&&f!=null&&m(e,["parameters","includeRaiReason"],f);const h=p(t,["language"]);e!==void 0&&h!=null&&m(e,["parameters","language"],h);const y=p(t,["outputMimeType"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","mimeType"],y);const v=p(t,["outputCompressionQuality"]);if(e!==void 0&&v!=null&&m(e,["parameters","outputOptions","compressionQuality"],v),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const E=p(t,["imageSize"]);if(e!==void 0&&E!=null&&m(e,["parameters","sampleImageSize"],E),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function uTe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],lt(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&m(n,["config"],lTe(o,n)),n}function cTe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],lt(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function fTe(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const s=p(e,["filter"]);n!==void 0&&s!=null&&m(n,["_query","filter"],s);const u=p(e,["queryBase"]);return n!==void 0&&u!=null&&m(n,["_url","models_url"],fz(t,u)),r}function dTe(t,e){const n={},r=p(e,["config"]);return r!=null&&m(n,["config"],fTe(t,r,n)),n}function hTe(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function pTe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],lt(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],hTe(i,n)),n}function mTe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],lt(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function gTe(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function yTe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],lt(t,r));const i=p(e,["contents"]);if(i!=null){let s=bi(i);Array.isArray(s)&&(s=s.map(u=>V0(u))),m(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&m(n,["config"],gTe(o)),n}function Iz(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],qu(n));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function vTe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);if(e!==void 0&&i!=null&&m(e,["instances[0]","image"],Iz(i)),p(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return n}function _Te(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&m(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const s=p(t,["resolution"]);e!==void 0&&s!=null&&m(e,["parameters","resolution"],s);const u=p(t,["personGeneration"]);if(e!==void 0&&u!=null&&m(e,["parameters","personGeneration"],u),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=p(t,["negativePrompt"]);e!==void 0&&c!=null&&m(e,["parameters","negativePrompt"],c);const f=p(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&m(e,["parameters","enhancePrompt"],f),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(p(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(p(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function TTe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],lt(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["image"]);if(o!=null&&m(n,["instances[0]","image"],Iz(o)),p(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const s=p(e,["source"]);s!=null&&m(n,["config"],vTe(s,n));const u=p(e,["config"]);return u!=null&&m(n,["config"],_Te(u,n)),n}function ETe(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function wTe(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["data"]);r!=null&&m(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function STe(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function bTe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],ETe(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],wTe(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],STe(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const f=p(t,["functionCall"]);f!=null&&m(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function Td(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>bTe(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function ATe(t){const e={},n=p(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const r=p(t,["default"]);r!=null&&m(e,["default"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["enum"]);o!=null&&m(e,["enum"],o);const s=p(t,["example"]);s!=null&&m(e,["example"],s);const u=p(t,["format"]);u!=null&&m(e,["format"],u);const c=p(t,["items"]);c!=null&&m(e,["items"],c);const f=p(t,["maxItems"]);f!=null&&m(e,["maxItems"],f);const h=p(t,["maxLength"]);h!=null&&m(e,["maxLength"],h);const y=p(t,["maxProperties"]);y!=null&&m(e,["maxProperties"],y);const v=p(t,["maximum"]);v!=null&&m(e,["maximum"],v);const E=p(t,["minItems"]);E!=null&&m(e,["minItems"],E);const S=p(t,["minLength"]);S!=null&&m(e,["minLength"],S);const b=p(t,["minProperties"]);b!=null&&m(e,["minProperties"],b);const I=p(t,["minimum"]);I!=null&&m(e,["minimum"],I);const R=p(t,["nullable"]);R!=null&&m(e,["nullable"],R);const D=p(t,["pattern"]);D!=null&&m(e,["pattern"],D);const C=p(t,["properties"]);C!=null&&m(e,["properties"],C);const q=p(t,["propertyOrdering"]);q!=null&&m(e,["propertyOrdering"],q);const L=p(t,["required"]);L!=null&&m(e,["required"],L);const G=p(t,["title"]);G!=null&&m(e,["title"],G);const N=p(t,["type"]);return N!=null&&m(e,["type"],N),e}function ITe(t){const e={},n=p(t,["featureSelectionPreference"]);return n!=null&&m(e,["featureSelectionPreference"],n),e}function CTe(t){const e={},n=p(t,["method"]);n!=null&&m(e,["method"],n);const r=p(t,["category"]);r!=null&&m(e,["category"],r);const i=p(t,["threshold"]);return i!=null&&m(e,["threshold"],i),e}function xTe(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&m(e,["response"],s);const u=p(t,["responseJsonSchema"]);return u!=null&&m(e,["responseJsonSchema"],u),e}function RTe(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function PTe(t){const e={},n=p(t,["timeRangeFilter"]);n!=null&&m(e,["timeRangeFilter"],RTe(n));const r=p(t,["excludeDomains"]);return r!=null&&m(e,["excludeDomains"],r),e}function MTe(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function DTe(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],MTe(n)),e}function NTe(t){const e={},n=p(t,["excludeDomains"]);return n!=null&&m(e,["excludeDomains"],n),e}function kTe(t){const e={},n=p(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function OTe(t){const e={},n=p(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],kTe(n));const r=p(t,["authType"]);r!=null&&m(e,["authType"],r);const i=p(t,["googleServiceAccountConfig"]);i!=null&&m(e,["googleServiceAccountConfig"],i);const o=p(t,["httpBasicAuthConfig"]);o!=null&&m(e,["httpBasicAuthConfig"],o);const s=p(t,["oauthConfig"]);s!=null&&m(e,["oauthConfig"],s);const u=p(t,["oidcConfig"]);return u!=null&&m(e,["oidcConfig"],u),e}function VTe(t){const e={},n=p(t,["authConfig"]);return n!=null&&m(e,["authConfig"],OTe(n)),e}function LTe(){return{}}function UTe(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function Cz(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(v=>xTe(v))),m(e,["functionDeclarations"],y)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],PTe(i));const o=p(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],DTe(o));const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],NTe(s));const u=p(t,["googleMaps"]);u!=null&&m(e,["googleMaps"],VTe(u)),p(t,["urlContext"])!=null&&m(e,["urlContext"],LTe());const f=p(t,["computerUse"]);f!=null&&m(e,["computerUse"],UTe(f));const h=p(t,["codeExecution"]);return h!=null&&m(e,["codeExecution"],h),e}function FTe(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function BTe(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function qTe(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],BTe(n));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function $Te(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],FTe(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],qTe(r)),e}function zTe(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function HTe(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],zTe(n)),e}function GTe(t){const e={},n=p(t,["voiceConfig"]);if(n!=null&&m(e,["voiceConfig"],HTe(n)),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function KTe(t){const e={},n=p(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=p(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function WTe(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],Td(cr(i)));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&m(r,["topP"],s);const u=p(e,["topK"]);u!=null&&m(r,["topK"],u);const c=p(e,["candidateCount"]);c!=null&&m(r,["candidateCount"],c);const f=p(e,["maxOutputTokens"]);f!=null&&m(r,["maxOutputTokens"],f);const h=p(e,["stopSequences"]);h!=null&&m(r,["stopSequences"],h);const y=p(e,["responseLogprobs"]);y!=null&&m(r,["responseLogprobs"],y);const v=p(e,["logprobs"]);v!=null&&m(r,["logprobs"],v);const E=p(e,["presencePenalty"]);E!=null&&m(r,["presencePenalty"],E);const S=p(e,["frequencyPenalty"]);S!=null&&m(r,["frequencyPenalty"],S);const b=p(e,["seed"]);b!=null&&m(r,["seed"],b);const I=p(e,["responseMimeType"]);I!=null&&m(r,["responseMimeType"],I);const R=p(e,["responseSchema"]);R!=null&&m(r,["responseSchema"],ATe(hR(R)));const D=p(e,["responseJsonSchema"]);D!=null&&m(r,["responseJsonSchema"],D);const C=p(e,["routingConfig"]);C!=null&&m(r,["routingConfig"],C);const q=p(e,["modelSelectionConfig"]);q!=null&&m(r,["modelConfig"],ITe(q));const L=p(e,["safetySettings"]);if(n!==void 0&&L!=null){let we=L;Array.isArray(we)&&(we=we.map(ee=>CTe(ee))),m(n,["safetySettings"],we)}const G=p(e,["tools"]);if(n!==void 0&&G!=null){let we=vd(G);Array.isArray(we)&&(we=we.map(ee=>Cz(yd(ee)))),m(n,["tools"],we)}const N=p(e,["toolConfig"]);n!==void 0&&N!=null&&m(n,["toolConfig"],$Te(N));const O=p(e,["labels"]);n!==void 0&&O!=null&&m(n,["labels"],O);const k=p(e,["cachedContent"]);n!==void 0&&k!=null&&m(n,["cachedContent"],Us(t,k));const B=p(e,["responseModalities"]);B!=null&&m(r,["responseModalities"],B);const F=p(e,["mediaResolution"]);F!=null&&m(r,["mediaResolution"],F);const $=p(e,["speechConfig"]);$!=null&&m(r,["speechConfig"],GTe(pR($)));const z=p(e,["audioTimestamp"]);z!=null&&m(r,["audioTimestamp"],z);const Re=p(e,["thinkingConfig"]);return Re!=null&&m(r,["thinkingConfig"],KTe(Re)),r}function XL(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],lt(t,r));const i=p(e,["contents"]);if(i!=null){let s=bi(i);Array.isArray(s)&&(s=s.map(u=>Td(u))),m(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&m(n,["generationConfig"],WTe(t,o,n)),n}function jTe(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["instances[]","task_type"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["instances[]","title"],i);const o=p(t,["outputDimensionality"]);e!==void 0&&o!=null&&m(e,["parameters","outputDimensionality"],o);const s=p(t,["mimeType"]);e!==void 0&&s!=null&&m(e,["instances[]","mimeType"],s);const u=p(t,["autoTruncate"]);return e!==void 0&&u!=null&&m(e,["parameters","autoTruncate"],u),n}function YTe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],lt(t,r));const i=p(e,["contents"]);i!=null&&m(n,["instances[]","content"],lz(t,i));const o=p(e,["config"]);return o!=null&&m(n,["config"],jTe(o,n)),n}function JTe(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&m(e,["parameters","aspectRatio"],s);const u=p(t,["guidanceScale"]);e!==void 0&&u!=null&&m(e,["parameters","guidanceScale"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&m(e,["parameters","seed"],c);const f=p(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&m(e,["parameters","safetySetting"],f);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&m(e,["parameters","personGeneration"],h);const y=p(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&m(e,["parameters","includeSafetyAttributes"],y);const v=p(t,["includeRaiReason"]);e!==void 0&&v!=null&&m(e,["parameters","includeRaiReason"],v);const E=p(t,["language"]);e!==void 0&&E!=null&&m(e,["parameters","language"],E);const S=p(t,["outputMimeType"]);e!==void 0&&S!=null&&m(e,["parameters","outputOptions","mimeType"],S);const b=p(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&m(e,["parameters","outputOptions","compressionQuality"],b);const I=p(t,["addWatermark"]);e!==void 0&&I!=null&&m(e,["parameters","addWatermark"],I);const R=p(t,["imageSize"]);e!==void 0&&R!=null&&m(e,["parameters","sampleImageSize"],R);const D=p(t,["enhancePrompt"]);return e!==void 0&&D!=null&&m(e,["parameters","enhancePrompt"],D),n}function QTe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],lt(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&m(n,["config"],JTe(o,n)),n}function Oo(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&m(e,["bytesBase64Encoded"],qu(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function XTe(t){const e={},n=p(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&m(e,["maskClasses"],r);const i=p(t,["maskDilation"]);return i!=null&&m(e,["dilation"],i),e}function ZTe(t){const e={},n=p(t,["controlType"]);n!=null&&m(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&m(e,["computeControl"],r),e}function eEe(t){const e={},n=p(t,["styleDescription"]);return n!=null&&m(e,["styleDescription"],n),e}function tEe(t){const e={},n=p(t,["subjectType"]);n!=null&&m(e,["subjectType"],n);const r=p(t,["subjectDescription"]);return r!=null&&m(e,["subjectDescription"],r),e}function nEe(t){const e={},n=p(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],Oo(n));const r=p(t,["referenceId"]);r!=null&&m(e,["referenceId"],r);const i=p(t,["referenceType"]);i!=null&&m(e,["referenceType"],i);const o=p(t,["maskImageConfig"]);o!=null&&m(e,["maskImageConfig"],XTe(o));const s=p(t,["controlImageConfig"]);s!=null&&m(e,["controlImageConfig"],ZTe(s));const u=p(t,["styleImageConfig"]);u!=null&&m(e,["styleImageConfig"],eEe(u));const c=p(t,["subjectImageConfig"]);return c!=null&&m(e,["subjectImageConfig"],tEe(c)),e}function rEe(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&m(e,["parameters","aspectRatio"],s);const u=p(t,["guidanceScale"]);e!==void 0&&u!=null&&m(e,["parameters","guidanceScale"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&m(e,["parameters","seed"],c);const f=p(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&m(e,["parameters","safetySetting"],f);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&m(e,["parameters","personGeneration"],h);const y=p(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&m(e,["parameters","includeSafetyAttributes"],y);const v=p(t,["includeRaiReason"]);e!==void 0&&v!=null&&m(e,["parameters","includeRaiReason"],v);const E=p(t,["language"]);e!==void 0&&E!=null&&m(e,["parameters","language"],E);const S=p(t,["outputMimeType"]);e!==void 0&&S!=null&&m(e,["parameters","outputOptions","mimeType"],S);const b=p(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&m(e,["parameters","outputOptions","compressionQuality"],b);const I=p(t,["addWatermark"]);e!==void 0&&I!=null&&m(e,["parameters","addWatermark"],I);const R=p(t,["editMode"]);e!==void 0&&R!=null&&m(e,["parameters","editMode"],R);const D=p(t,["baseSteps"]);return e!==void 0&&D!=null&&m(e,["parameters","editConfig","baseSteps"],D),n}function iEe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],lt(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>nEe(c))),m(n,["instances[0]","referenceImages"],u)}const s=p(e,["config"]);return s!=null&&m(n,["config"],rEe(s,n)),n}function oEe(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["includeRaiReason"]);e!==void 0&&i!=null&&m(e,["parameters","includeRaiReason"],i);const o=p(t,["outputMimeType"]);e!==void 0&&o!=null&&m(e,["parameters","outputOptions","mimeType"],o);const s=p(t,["outputCompressionQuality"]);e!==void 0&&s!=null&&m(e,["parameters","outputOptions","compressionQuality"],s);const u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=p(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const f=p(t,["numberOfImages"]);e!==void 0&&f!=null&&m(e,["parameters","sampleCount"],f);const h=p(t,["mode"]);return e!==void 0&&h!=null&&m(e,["parameters","mode"],h),n}function sEe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],lt(t,r));const i=p(e,["image"]);i!=null&&m(n,["instances[0]","image"],Oo(i));const o=p(e,["upscaleFactor"]);o!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=p(e,["config"]);return s!=null&&m(n,["config"],oEe(s,n)),n}function aEe(t){const e={},n=p(t,["productImage"]);return n!=null&&m(e,["image"],Oo(n)),e}function lEe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["personImage"]);e!==void 0&&i!=null&&m(e,["instances[0]","personImage","image"],Oo(i));const o=p(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>aEe(u))),m(e,["instances[0]","productImages"],s)}return n}function uEe(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&m(e,["parameters","editConfig","baseSteps"],i);const o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const s=p(t,["seed"]);e!==void 0&&s!=null&&m(e,["parameters","seed"],s);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const f=p(t,["addWatermark"]);e!==void 0&&f!=null&&m(e,["parameters","addWatermark"],f);const h=p(t,["outputMimeType"]);e!==void 0&&h!=null&&m(e,["parameters","outputOptions","mimeType"],h);const y=p(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","compressionQuality"],y);const v=p(t,["enhancePrompt"]);return e!==void 0&&v!=null&&m(e,["parameters","enhancePrompt"],v),n}function cEe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],lt(t,r));const i=p(e,["source"]);i!=null&&m(n,["config"],lEe(i,n));const o=p(e,["config"]);return o!=null&&m(n,["config"],uEe(o,n)),n}function fEe(t){const e={},n=p(t,["image"]);return n!=null&&m(e,["image"],Oo(n)),e}function dEe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],Oo(i));const o=p(t,["scribbleImage"]);return e!==void 0&&o!=null&&m(e,["instances[0]","scribble"],fEe(o)),n}function hEe(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&m(e,["parameters","mode"],r);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&m(e,["parameters","maxPredictions"],i);const o=p(t,["confidenceThreshold"]);e!==void 0&&o!=null&&m(e,["parameters","confidenceThreshold"],o);const s=p(t,["maskDilation"]);e!==void 0&&s!=null&&m(e,["parameters","maskDilation"],s);const u=p(t,["binaryColorThreshold"]);return e!==void 0&&u!=null&&m(e,["parameters","binaryColorThreshold"],u),n}function pEe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],lt(t,r));const i=p(e,["source"]);i!=null&&m(n,["config"],dEe(i,n));const o=p(e,["config"]);return o!=null&&m(n,["config"],hEe(o,n)),n}function mEe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],lt(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function gEe(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const s=p(e,["filter"]);n!==void 0&&s!=null&&m(n,["_query","filter"],s);const u=p(e,["queryBase"]);return n!==void 0&&u!=null&&m(n,["_url","models_url"],fz(t,u)),r}function yEe(t,e){const n={},r=p(e,["config"]);return r!=null&&m(n,["config"],gEe(t,r,n)),n}function vEe(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function _Ee(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],lt(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],vEe(i,n)),n}function TEe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],lt(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function EEe(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&m(e,["systemInstruction"],Td(cr(r)));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>Cz(u))),m(e,["tools"],s)}const o=p(t,["generationConfig"]);return e!==void 0&&o!=null&&m(e,["generationConfig"],o),n}function wEe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],lt(t,r));const i=p(e,["contents"]);if(i!=null){let s=bi(i);Array.isArray(s)&&(s=s.map(u=>Td(u))),m(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&m(n,["config"],EEe(o,n)),n}function SEe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],lt(t,r));const i=p(e,["contents"]);if(i!=null){let s=bi(i);Array.isArray(s)&&(s=s.map(u=>Td(u))),m(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&m(n,["config"],o),n}function xz(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&m(e,["bytesBase64Encoded"],qu(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function bEe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],Oo(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],xz(o)),n}function AEe(t){const e={},n=p(t,["image"]);n!=null&&m(e,["image"],Oo(n));const r=p(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function IEe(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=p(t,["fps"]);e!==void 0&&o!=null&&m(e,["parameters","fps"],o);const s=p(t,["durationSeconds"]);e!==void 0&&s!=null&&m(e,["parameters","durationSeconds"],s);const u=p(t,["seed"]);e!==void 0&&u!=null&&m(e,["parameters","seed"],u);const c=p(t,["aspectRatio"]);e!==void 0&&c!=null&&m(e,["parameters","aspectRatio"],c);const f=p(t,["resolution"]);e!==void 0&&f!=null&&m(e,["parameters","resolution"],f);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&m(e,["parameters","personGeneration"],h);const y=p(t,["pubsubTopic"]);e!==void 0&&y!=null&&m(e,["parameters","pubsubTopic"],y);const v=p(t,["negativePrompt"]);e!==void 0&&v!=null&&m(e,["parameters","negativePrompt"],v);const E=p(t,["enhancePrompt"]);e!==void 0&&E!=null&&m(e,["parameters","enhancePrompt"],E);const S=p(t,["generateAudio"]);e!==void 0&&S!=null&&m(e,["parameters","generateAudio"],S);const b=p(t,["lastFrame"]);e!==void 0&&b!=null&&m(e,["instances[0]","lastFrame"],Oo(b));const I=p(t,["referenceImages"]);if(e!==void 0&&I!=null){let D=I;Array.isArray(D)&&(D=D.map(C=>AEe(C))),m(e,["instances[0]","referenceImages"],D)}const R=p(t,["compressionQuality"]);return e!==void 0&&R!=null&&m(e,["parameters","compressionQuality"],R),n}function CEe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],lt(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&m(n,["instances[0]","image"],Oo(o));const s=p(e,["video"]);s!=null&&m(n,["instances[0]","video"],xz(s));const u=p(e,["source"]);u!=null&&m(n,["config"],bEe(u,n));const c=p(e,["config"]);return c!=null&&m(n,["config"],IEe(c,n)),n}function xEe(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function REe(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function PEe(t){const e={},n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function MEe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],xEe(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],REe(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],PEe(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const f=p(t,["functionCall"]);f!=null&&m(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function DEe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>MEe(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function NEe(t){const e={},n=p(t,["citationSources"]);return n!=null&&m(e,["citations"],n),e}function kEe(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function OEe(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>kEe(i))),m(e,["urlMetadata"],r)}return e}function VEe(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],DEe(n));const r=p(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],NEe(r));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const s=p(t,["urlContextMetadata"]);s!=null&&m(e,["urlContextMetadata"],OEe(s));const u=p(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const c=p(t,["groundingMetadata"]);c!=null&&m(e,["groundingMetadata"],c);const f=p(t,["index"]);f!=null&&m(e,["index"],f);const h=p(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const y=p(t,["safetyRatings"]);return y!=null&&m(e,["safetyRatings"],y),e}function ZL(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>VEe(f))),m(e,["candidates"],c)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const s=p(t,["responseId"]);s!=null&&m(e,["responseId"],s);const u=p(t,["usageMetadata"]);return u!=null&&m(e,["usageMetadata"],u),e}function LEe(t){const e={},n=p(t,["values"]);return n!=null&&m(e,["values"],n),e}function UEe(){return{}}function FEe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>LEe(s))),m(e,["embeddings"],o)}return p(t,["metadata"])!=null&&m(e,["metadata"],UEe()),e}function BEe(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],qu(n));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Rz(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function qEe(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["image"],BEe(n));const r=p(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=p(t,["_self"]);return i!=null&&m(e,["safetyAttributes"],Rz(i)),e}function $Ee(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>qEe(s))),m(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],Rz(i)),e}function zEe(t){const e={},n=p(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function UA(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["version"]);o!=null&&m(e,["version"],o);const s=p(t,["_self"]);s!=null&&m(e,["tunedModelInfo"],zEe(s));const u=p(t,["inputTokenLimit"]);u!=null&&m(e,["inputTokenLimit"],u);const c=p(t,["outputTokenLimit"]);c!=null&&m(e,["outputTokenLimit"],c);const f=p(t,["supportedGenerationMethods"]);return f!=null&&m(e,["supportedActions"],f),e}function HEe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=dz(i);Array.isArray(o)&&(o=o.map(s=>UA(s))),m(e,["models"],o)}return e}function GEe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function KEe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&m(e,["totalTokens"],r);const i=p(t,["cachedContentTokenCount"]);return i!=null&&m(e,["cachedContentTokenCount"],i),e}function WEe(t){const e={},n=p(t,["video","uri"]);n!=null&&m(e,["uri"],n);const r=p(t,["video","encodedVideo"]);r!=null&&m(e,["videoBytes"],qu(r));const i=p(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function jEe(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],WEe(n)),e}function YEe(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>jEe(s))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function JEe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const s=p(t,["response","generateVideoResponse"]);return s!=null&&m(e,["response"],YEe(s)),e}function QEe(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function XEe(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["data"]);r!=null&&m(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function ZEe(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function ewe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],QEe(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],XEe(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],ZEe(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const f=p(t,["functionCall"]);f!=null&&m(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function twe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ewe(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function nwe(t){const e={},n=p(t,["citations"]);return n!=null&&m(e,["citations"],n),e}function rwe(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function iwe(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>rwe(i))),m(e,["urlMetadata"],r)}return e}function owe(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],twe(n));const r=p(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],nwe(r));const i=p(t,["finishMessage"]);i!=null&&m(e,["finishMessage"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const s=p(t,["urlContextMetadata"]);s!=null&&m(e,["urlContextMetadata"],iwe(s));const u=p(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const c=p(t,["groundingMetadata"]);c!=null&&m(e,["groundingMetadata"],c);const f=p(t,["index"]);f!=null&&m(e,["index"],f);const h=p(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const y=p(t,["safetyRatings"]);return y!=null&&m(e,["safetyRatings"],y),e}function eU(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>owe(h))),m(e,["candidates"],f)}const i=p(t,["createTime"]);i!=null&&m(e,["createTime"],i);const o=p(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const s=p(t,["promptFeedback"]);s!=null&&m(e,["promptFeedback"],s);const u=p(t,["responseId"]);u!=null&&m(e,["responseId"],u);const c=p(t,["usageMetadata"]);return c!=null&&m(e,["usageMetadata"],c),e}function swe(t){const e={},n=p(t,["truncated"]);n!=null&&m(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&m(e,["tokenCount"],r),e}function awe(t){const e={},n=p(t,["values"]);n!=null&&m(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&m(e,["statistics"],swe(r)),e}function lwe(t){const e={},n=p(t,["billableCharacterCount"]);return n!=null&&m(e,["billableCharacterCount"],n),e}function uwe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>awe(s))),m(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&m(e,["metadata"],lwe(i)),e}function Pz(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["imageBytes"],qu(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Mz(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function L0(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["image"],Pz(n));const r=p(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=p(t,["_self"]);i!=null&&m(e,["safetyAttributes"],Mz(i));const o=p(t,["prompt"]);return o!=null&&m(e,["enhancedPrompt"],o),e}function cwe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>L0(s))),m(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],Mz(i)),e}function fwe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>L0(o))),m(e,["generatedImages"],i)}return e}function dwe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>L0(o))),m(e,["generatedImages"],i)}return e}function hwe(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>L0(i))),m(e,["generatedImages"],r)}return e}function pwe(t){const e={},n=p(t,["label"]);n!=null&&m(e,["label"],n);const r=p(t,["score"]);return r!=null&&m(e,["score"],r),e}function mwe(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["mask"],Pz(n));const r=p(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>pwe(o))),m(e,["labels"],i)}return e}function gwe(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>mwe(i))),m(e,["generatedMasks"],r)}return e}function ywe(t){const e={},n=p(t,["endpoint"]);n!=null&&m(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&m(e,["deployedModelId"],r),e}function vwe(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function _we(t){const e={},n=p(t,["checkpointId"]);n!=null&&m(e,["checkpointId"],n);const r=p(t,["epoch"]);r!=null&&m(e,["epoch"],r);const i=p(t,["step"]);return i!=null&&m(e,["step"],i),e}function FA(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["versionId"]);o!=null&&m(e,["version"],o);const s=p(t,["deployedModels"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(v=>ywe(v))),m(e,["endpoints"],y)}const u=p(t,["labels"]);u!=null&&m(e,["labels"],u);const c=p(t,["_self"]);c!=null&&m(e,["tunedModelInfo"],vwe(c));const f=p(t,["defaultCheckpointId"]);f!=null&&m(e,["defaultCheckpointId"],f);const h=p(t,["checkpoints"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(v=>_we(v))),m(e,["checkpoints"],y)}return e}function Twe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=dz(i);Array.isArray(o)&&(o=o.map(s=>FA(s))),m(e,["models"],o)}return e}function Ewe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function wwe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&m(e,["totalTokens"],r),e}function Swe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);return r!=null&&m(e,["tokensInfo"],r),e}function bwe(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],qu(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Awe(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],bwe(n)),e}function Iwe(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Awe(s))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Cwe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const s=p(t,["response"]);return s!=null&&m(e,["response"],Iwe(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xwe="Content-Type",Rwe="X-Server-Timeout",Pwe="User-Agent",BA="x-goog-api-client",Mwe="1.17.0",Dwe=`google-genai-sdk/${Mwe}`,Nwe="v1beta1",kwe="v1beta",tU=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Owe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Nwe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:kwe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))i.searchParams.append(s,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,o=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>i.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=o}return n&&n.extraBody!==null&&Vwe(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await nU(i),new NA(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await nU(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return ff(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:c}=yield Pt(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c,{stream:!0});try{const y=JSON.parse(f);if("error"in y){const v=JSON.parse(JSON.stringify(y.error)),E=v.status,S=v.code,b=`got status: ${E}. ${JSON.stringify(y)}`;if(S>=400&&S<600)throw new O0({message:b,status:S})}}catch(y){if(y.name==="ApiError")throw y}s+=f;let h=s.match(tU);for(;h;){const y=h[1];try{const v=new Response(y,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Pt(new NA(v)),s=s.slice(h[0].length),h=s.match(tU)}catch(v){throw new Error(`exception parsing stream chunk ${y}. ${v}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Dwe+" "+this.clientOptions.userAgentExtra;return e[Pwe]=n,e[BA]=n,e[xwe]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(Rwe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c=await this.fetchUploadUrl(i,n);return o.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},s=await this.request({path:Ie("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:i});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(r=s==null?void 0:s.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function nU(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new O0({message:i,status:n}):new Error(i)}}function Vwe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const u=Object.assign({},o);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const f=s[c],h=u[c];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?u[c]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),u[c]=f)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lwe="mcp_used/unknown";let Uwe=!1;function Dz(t){for(const e of t)if(Fwe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Uwe}function Nz(t){var e;const n=(e=t[BA])!==null&&e!==void 0?e:"";t[BA]=(n+` ${Lwe}`).trimStart()}function Fwe(t){return t!==null&&typeof t=="object"&&t instanceof gR}function Bwe(t,e=100){return ff(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield Pt(t.listTools({cursor:r}));for(const s of o.tools)yield yield Pt(s),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class gR{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new gR(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const h of this.mcpClients)try{for(var u=!0,c=(n=void 0,wp(Bwe(h))),f;f=await c.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const y=i;s.push(y);const v=y.name;if(o[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);o[v]=h}}catch(y){n={error:y}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),yge(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function qwe(t,e,n){const r=new uge;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const o=E0e(i);Object.assign(r,o),e(r)}class $we{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=Gwe(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(C=>{f=C}),y=e.callbacks,v=function(){f({})},E=this.apiClient,S={onopen:v,onmessage:C=>{qwe(E,y.onmessage,C)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(C){}},b=this.webSocketFactory.create(c,Hwe(s),S);b.connect(),await h;const I=lt(this.apiClient,e.model),R=Sz({model:I}),D=LA({setup:R});return b.send(JSON.stringify(D)),new zwe(b,this.apiClient)}}class zwe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=v_e(e),r=bz(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=__e(e),r=LA(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=LA({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Zc.PLAY)}pause(){this.sendPlaybackControl(Zc.PAUSE)}stop(){this.sendPlaybackControl(Zc.STOP)}resetContext(){this.sendPlaybackControl(Zc.RESET_CONTEXT)}close(){this.conn.close()}}function Hwe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Gwe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kwe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Wwe(t,e,n){const r=new lge;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=O0e(o);Object.assign(r,s)}else{const s=d0e(o);Object.assign(r,s)}e(r)}class jwe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new $we(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const y=this.apiClient.getHeaders();e.config&&e.config.tools&&Dz(e.config.tools)&&Nz(y);const v=Xwe(y);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v);else{const k=this.apiClient.getApiKey();let B="BidiGenerateContent",F="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),B="BidiGenerateContentConstrained",F="access_token"),h=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${B}?${F}=${k}`}let E=()=>{};const S=new Promise(k=>{E=k}),b=e.callbacks,I=function(){var k;(k=b==null?void 0:b.onopen)===null||k===void 0||k.call(b),E({})},R=this.apiClient,D={onopen:I,onmessage:k=>{Wwe(R,b.onmessage,k)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(k){}},C=this.webSocketFactory.create(h,Qwe(v),D);C.connect(),await S;let q=lt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&q.startsWith("publishers/")){const k=this.apiClient.getProject(),B=this.apiClient.getLocation();q=`projects/${k}/locations/${B}/`+q}let L={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[m_.AUDIO]}:e.config.responseModalities=[m_.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const G=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],N=[];for(const k of G)if(this.isCallableTool(k)){const B=k;N.push(await B.tool())}else N.push(k);N.length>0&&(e.config.tools=N);const O={model:q,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?L=W_e(this.apiClient,O):L=p_e(this.apiClient,O),delete L.config,C.send(JSON.stringify(L)),new Jwe(C,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Ywe={turnComplete:!0};class Jwe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=bi(n.turns),e.isVertexAI()?r=r.map(i=>Td(i)):r=r.map(i=>V0(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(Kwe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Ywe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:J_e(e)}:n={realtimeInput:y_e(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Qwe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Xwe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rU=10;function iU(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(df(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function df(t){return"callTool"in t&&typeof t.callTool=="function"}function Zwe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>df(i)))!==null&&r!==void 0?r:!1}function eSe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!df(i)))!==null&&r!==void 0?r:!1}function oU(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tSe extends Bu{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Zwe(n)||iU(n.config))return await this.generateContentInternal(c);if(eSe(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,h;const y=bi(c.contents),v=(o=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:rU;let E=0;for(;E<v&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const S=f.candidates[0].content,b=[];for(const I of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(df(I)){const D=await I.callTool(f.functionCalls);b.push(...D)}E++,h={role:"user",parts:b},c.contents=bi(c.contents),c.contents.push(S),c.contents.push(h),oU(c.config)&&(y.push(S),y.push(h))}return oU(c.config)&&(f.automaticFunctionCallingHistory=y),f},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),iU(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=c==null?void 0:c.safetyAttributes:s.push(c);let u;return o?u={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new $m(Cu.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async c=>df(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&Dz(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),Nz(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(df(s)){const u=s,c=await u.tool();for(const f of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:rU;let s=!1,u=0;const c=await this.initAfcToolsMap(e);return(function(f,h,y){var v,E;return ff(this,arguments,function*(){for(var S,b,I,R;u<o;){s&&(u++,s=!1);const L=yield Pt(f.processParamsMaybeAddMcpUsage(y)),G=yield Pt(f.generateContentStreamInternal(L)),N=[],O=[];try{for(var D=!0,C=(b=void 0,wp(G)),q;q=yield Pt(C.next()),S=q.done,!S;D=!0){R=q.value,D=!1;const k=R;if(yield yield Pt(k),k.candidates&&(!((v=k.candidates[0])===null||v===void 0)&&v.content)){O.push(k.candidates[0].content);for(const B of(E=k.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(u<o&&B.functionCall){if(!B.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(B.functionCall.name)){const F=yield Pt(h.get(B.functionCall.name).callTool([B.functionCall]));N.push(...F)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${B.functionCall.name}`)}}}}catch(k){b={error:k}}finally{try{!D&&!S&&(I=C.return)&&(yield Pt(I.call(C)))}finally{if(b)throw b.error}}if(N.length>0){s=!0;const k=new jh;k.candidates=[{content:{role:"user",parts:N}}],yield yield Pt(k);const B=[];B.push(...O),B.push({role:"user",parts:N});const F=bi(y.contents).concat(B);y.contents=F}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=XL(this.apiClient,e);return u=Ie("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const y=eU(h),v=new jh;return Object.assign(v,y),v})}else{const f=QL(this.apiClient,e);return u=Ie("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const y=ZL(h),v=new jh;return Object.assign(v,y),v})}}async generateContentStreamInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=XL(this.apiClient,e);return u=Ie("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(y){return ff(this,arguments,function*(){var v,E,S,b;try{for(var I=!0,R=wp(y),D;D=yield Pt(R.next()),v=D.done,!v;I=!0){b=D.value,I=!1;const C=b,q=eU(yield Pt(C.json()));q.sdkHttpResponse={headers:C.headers};const L=new jh;Object.assign(L,q),yield yield Pt(L)}}catch(C){E={error:C}}finally{try{!I&&!v&&(S=R.return)&&(yield Pt(S.call(R)))}finally{if(E)throw E.error}}})})}else{const f=QL(this.apiClient,e);return u=Ie("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(y){return ff(this,arguments,function*(){var v,E,S,b;try{for(var I=!0,R=wp(y),D;D=yield Pt(R.next()),v=D.done,!v;I=!0){b=D.value,I=!1;const C=b,q=ZL(yield Pt(C.json()));q.sdkHttpResponse={headers:C.headers};const L=new jh;Object.assign(L,q),yield yield Pt(L)}}catch(C){E={error:C}}finally{try{!I&&!v&&(S=R.return)&&(yield Pt(S.call(R)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=YTe(this.apiClient,e);return u=Ie("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const y=uwe(h),v=new RL;return Object.assign(v,y),v})}else{const f=aTe(this.apiClient,e);return u=Ie("{model}:batchEmbedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const y=FEe(h),v=new RL;return Object.assign(v,y),v})}}async generateImagesInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=QTe(this.apiClient,e);return u=Ie("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const y=cwe(h),v=new PL;return Object.assign(v,y),v})}else{const f=uTe(this.apiClient,e);return u=Ie("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const y=$Ee(h),v=new PL;return Object.assign(v,y),v})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=iEe(this.apiClient,e);return o=Ie("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=fwe(c),h=new ege;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=sEe(this.apiClient,e);return o=Ie("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=dwe(c),h=new tge;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=cEe(this.apiClient,e);return o=Ie("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=hwe(c),h=new nge;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=pEe(this.apiClient,e);return o=Ie("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=gwe(c),h=new rge;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=mEe(this.apiClient,e);return u=Ie("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>FA(h))}else{const f=cTe(this.apiClient,e);return u=Ie("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>UA(h))}}async listInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=yEe(this.apiClient,e);return u=Ie("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const y=Twe(h),v=new ML;return Object.assign(v,y),v})}else{const f=dTe(this.apiClient,e);return u=Ie("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const y=HEe(h),v=new ML;return Object.assign(v,y),v})}}async update(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=_Ee(this.apiClient,e);return u=Ie("{model}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>FA(h))}else{const f=pTe(this.apiClient,e);return u=Ie("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>UA(h))}}async delete(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=TEe(this.apiClient,e);return u=Ie("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const y=Ewe(h),v=new DL;return Object.assign(v,y),v})}else{const f=mTe(this.apiClient,e);return u=Ie("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const y=GEe(h),v=new DL;return Object.assign(v,y),v})}}async countTokens(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=wEe(this.apiClient,e);return u=Ie("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const y=wwe(h),v=new NL;return Object.assign(v,y),v})}else{const f=yTe(this.apiClient,e);return u=Ie("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const y=KEe(h),v=new NL;return Object.assign(v,y),v})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=SEe(this.apiClient,e);return o=Ie("{model}:computeTokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Swe(c),h=new ige;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=CEe(this.apiClient,e);return u=Ie("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const y=Cwe(h),v=new g_;return Object.assign(v,y),v})}else{const f=TTe(this.apiClient,e);return u=Ie("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>{const y=JEe(h),v=new g_;return Object.assign(v,y),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nSe(t){const e={},n=p(t,["operationName"]);n!=null&&m(e,["_url","operationName"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function rSe(t){const e={},n=p(t,["operationName"]);n!=null&&m(e,["operationName"],n);const r=p(t,["resourceName"]);r!=null&&m(e,["_url","resourceName"],r);const i=p(t,["config"]);return i!=null&&m(e,["config"],i),e}function iSe(t){const e={},n=p(t,["operationName"]);n!=null&&m(e,["_url","operationName"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oSe extends Bu{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=iSe(e);return u=Ie("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const f=nSe(e);return u=Ie("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=rSe(e);return o=Ie("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sSe(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function kz(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],sSe(n)),e}function aSe(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],kz(r)),e}function lSe(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>aSe(i))),m(e,["speakerVoiceConfigs"],r)}return e}function uSe(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],kz(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],lSe(r));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function cSe(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function fSe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function dSe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function hSe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],cSe(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],fSe(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],dSe(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const f=p(t,["functionCall"]);f!=null&&m(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function pSe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>hSe(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function mSe(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const o=p(t,["parameters"]);o!=null&&m(e,["parameters"],o);const s=p(t,["parametersJsonSchema"]);s!=null&&m(e,["parametersJsonSchema"],s);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&m(e,["responseJsonSchema"],c),e}function gSe(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function ySe(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],gSe(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function vSe(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function _Se(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],vSe(n)),e}function TSe(){return{}}function ESe(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function wSe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>mSe(f))),m(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],ySe(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],_Se(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],TSe());const s=p(t,["computerUse"]);s!=null&&m(e,["computerUse"],ESe(s));const u=p(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function SSe(t){const e={},n=p(t,["handle"]);if(n!=null&&m(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function sU(){return{}}function bSe(t){const e={},n=p(t,["disabled"]);n!=null&&m(e,["disabled"],n);const r=p(t,["startOfSpeechSensitivity"]);r!=null&&m(e,["startOfSpeechSensitivity"],r);const i=p(t,["endOfSpeechSensitivity"]);i!=null&&m(e,["endOfSpeechSensitivity"],i);const o=p(t,["prefixPaddingMs"]);o!=null&&m(e,["prefixPaddingMs"],o);const s=p(t,["silenceDurationMs"]);return s!=null&&m(e,["silenceDurationMs"],s),e}function ASe(t){const e={},n=p(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],bSe(n));const r=p(t,["activityHandling"]);r!=null&&m(e,["activityHandling"],r);const i=p(t,["turnCoverage"]);return i!=null&&m(e,["turnCoverage"],i),e}function ISe(t){const e={},n=p(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function CSe(t){const e={},n=p(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const r=p(t,["slidingWindow"]);return r!=null&&m(e,["slidingWindow"],ISe(r)),e}function xSe(t){const e={},n=p(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function RSe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topP"],s);const u=p(t,["topK"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topK"],u);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","maxOutputTokens"],c);const f=p(t,["mediaResolution"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","mediaResolution"],f);const h=p(t,["seed"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","seed"],h);const y=p(t,["speechConfig"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","speechConfig"],uSe(mR(y)));const v=p(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],v);const E=p(t,["systemInstruction"]);e!==void 0&&E!=null&&m(e,["setup","systemInstruction"],pSe(cr(E)));const S=p(t,["tools"]);if(e!==void 0&&S!=null){let L=vd(S);Array.isArray(L)&&(L=L.map(G=>wSe(yd(G)))),m(e,["setup","tools"],L)}const b=p(t,["sessionResumption"]);e!==void 0&&b!=null&&m(e,["setup","sessionResumption"],SSe(b));const I=p(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&m(e,["setup","inputAudioTranscription"],sU());const R=p(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&m(e,["setup","outputAudioTranscription"],sU());const D=p(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&m(e,["setup","realtimeInputConfig"],ASe(D));const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&m(e,["setup","contextWindowCompression"],CSe(C));const q=p(t,["proactivity"]);return e!==void 0&&q!=null&&m(e,["setup","proactivity"],xSe(q)),n}function PSe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],lt(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],RSe(i,n)),n}function MSe(t,e,n){const r={},i=p(e,["expireTime"]);n!==void 0&&i!=null&&m(n,["expireTime"],i);const o=p(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&m(n,["newSessionExpireTime"],o);const s=p(e,["uses"]);n!==void 0&&s!=null&&m(n,["uses"],s);const u=p(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&m(n,["bidiGenerateContentSetup"],PSe(t,u));const c=p(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&m(n,["fieldMask"],c),r}function DSe(t,e){const n={},r=p(e,["config"]);return r!=null&&m(n,["config"],MSe(t,r,n)),n}function NSe(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kSe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function OSe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=kSe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>s.includes(f)?`generationConfig.${f}`:f));const c=[];o&&c.push(o),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class VSe extends Bu{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=DSe(this.apiClient,e);o=Ie("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const c=OSe(u,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>NSe(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LSe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function USe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function FSe(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],USe(n,e)),e}function BSe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function qSe(t){const e={},n=p(t,["textInput"]);n!=null&&m(e,["textInput"],n);const r=p(t,["output"]);return r!=null&&m(e,["output"],r),e}function $Se(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=p(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>qSe(i))),m(e,["examples","examples"],r)}return e}function zSe(t,e){const n={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=p(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&m(e,["displayName"],r),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=p(t,["epochCount"]);e!==void 0&&i!=null&&m(e,["tuningTask","hyperparameters","epochCount"],i);const o=p(t,["learningRateMultiplier"]);if(o!=null&&m(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=p(t,["batchSize"]);e!==void 0&&s!=null&&m(e,["tuningTask","hyperparameters","batchSize"],s);const u=p(t,["learningRate"]);return e!==void 0&&u!=null&&m(e,["tuningTask","hyperparameters","learningRate"],u),n}function HSe(t){const e={},n=p(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["preTunedModel"]);r!=null&&m(e,["preTunedModel"],r);const i=p(t,["trainingDataset"]);i!=null&&m(e,["tuningTask","trainingData"],$Se(i));const o=p(t,["config"]);return o!=null&&m(e,["config"],zSe(o,e)),e}function GSe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function KSe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function WSe(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],KSe(n,e)),e}function jSe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function YSe(t,e){const n={},r=p(t,["gcsUri"]);e!==void 0&&r!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],i),p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function JSe(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&m(n,["validationDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}function QSe(t,e){const n={},r=p(t,["validationDataset"]);e!==void 0&&r!=null&&m(e,["supervisedTuningSpec"],JSe(r,n));const i=p(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&m(e,["tunedModelDisplayName"],i);const o=p(t,["description"]);e!==void 0&&o!=null&&m(e,["description"],o);const s=p(t,["epochCount"]);e!==void 0&&s!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],s);const u=p(t,["learningRateMultiplier"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const c=p(t,["exportLastCheckpointOnly"]);e!==void 0&&c!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const f=p(t,["preTunedModelCheckpointId"]);f!=null&&m(n,["preTunedModel","checkpointId"],f);const h=p(t,["adapterSize"]);if(e!==void 0&&h!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],h),p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function XSe(t){const e={},n=p(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["preTunedModel"]);r!=null&&m(e,["preTunedModel"],r);const i=p(t,["trainingDataset"]);i!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],YSe(i,e));const o=p(t,["config"]);return o!=null&&m(e,["config"],QSe(o,e)),e}function ZSe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["model"],n);const r=p(t,["name"]);return r!=null&&m(e,["endpoint"],r),e}function Oz(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["state"]);i!=null&&m(e,["state"],uz(i));const o=p(t,["createTime"]);o!=null&&m(e,["createTime"],o);const s=p(t,["tuningTask","startTime"]);s!=null&&m(e,["startTime"],s);const u=p(t,["tuningTask","completeTime"]);u!=null&&m(e,["endTime"],u);const c=p(t,["updateTime"]);c!=null&&m(e,["updateTime"],c);const f=p(t,["description"]);f!=null&&m(e,["description"],f);const h=p(t,["baseModel"]);h!=null&&m(e,["baseModel"],h);const y=p(t,["_self"]);y!=null&&m(e,["tunedModel"],ZSe(y));const v=p(t,["customBaseModel"]);v!=null&&m(e,["customBaseModel"],v);const E=p(t,["experiment"]);E!=null&&m(e,["experiment"],E);const S=p(t,["labels"]);S!=null&&m(e,["labels"],S);const b=p(t,["outputUri"]);b!=null&&m(e,["outputUri"],b);const I=p(t,["pipelineJob"]);I!=null&&m(e,["pipelineJob"],I);const R=p(t,["serviceAccount"]);R!=null&&m(e,["serviceAccount"],R);const D=p(t,["tunedModelDisplayName"]);return D!=null&&m(e,["tunedModelDisplayName"],D),e}function ebe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Oz(s))),m(e,["tuningJobs"],o)}return e}function tbe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=p(t,["done"]);o!=null&&m(e,["done"],o);const s=p(t,["error"]);return s!=null&&m(e,["error"],s),e}function nbe(t){const e={},n=p(t,["checkpointId"]);n!=null&&m(e,["checkpointId"],n);const r=p(t,["epoch"]);r!=null&&m(e,["epoch"],r);const i=p(t,["step"]);i!=null&&m(e,["step"],i);const o=p(t,["endpoint"]);return o!=null&&m(e,["endpoint"],o),e}function rbe(t){const e={},n=p(t,["model"]);n!=null&&m(e,["model"],n);const r=p(t,["endpoint"]);r!=null&&m(e,["endpoint"],r);const i=p(t,["checkpoints"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>nbe(s))),m(e,["checkpoints"],o)}return e}function qA(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["state"]);i!=null&&m(e,["state"],uz(i));const o=p(t,["createTime"]);o!=null&&m(e,["createTime"],o);const s=p(t,["startTime"]);s!=null&&m(e,["startTime"],s);const u=p(t,["endTime"]);u!=null&&m(e,["endTime"],u);const c=p(t,["updateTime"]);c!=null&&m(e,["updateTime"],c);const f=p(t,["error"]);f!=null&&m(e,["error"],f);const h=p(t,["description"]);h!=null&&m(e,["description"],h);const y=p(t,["baseModel"]);y!=null&&m(e,["baseModel"],y);const v=p(t,["tunedModel"]);v!=null&&m(e,["tunedModel"],rbe(v));const E=p(t,["preTunedModel"]);E!=null&&m(e,["preTunedModel"],E);const S=p(t,["supervisedTuningSpec"]);S!=null&&m(e,["supervisedTuningSpec"],S);const b=p(t,["tuningDataStats"]);b!=null&&m(e,["tuningDataStats"],b);const I=p(t,["encryptionSpec"]);I!=null&&m(e,["encryptionSpec"],I);const R=p(t,["partnerModelTuningSpec"]);R!=null&&m(e,["partnerModelTuningSpec"],R);const D=p(t,["customBaseModel"]);D!=null&&m(e,["customBaseModel"],D);const C=p(t,["experiment"]);C!=null&&m(e,["experiment"],C);const q=p(t,["labels"]);q!=null&&m(e,["labels"],q);const L=p(t,["outputUri"]);L!=null&&m(e,["outputUri"],L);const G=p(t,["pipelineJob"]);G!=null&&m(e,["pipelineJob"],G);const N=p(t,["serviceAccount"]);N!=null&&m(e,["serviceAccount"],N);const O=p(t,["tunedModelDisplayName"]);return O!=null&&m(e,["tunedModelDisplayName"],O),e}function ibe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>qA(s))),m(e,["tuningJobs"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class obe extends Bu{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new $m(Cu.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel},i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:DA.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=GSe(e);return u=Ie("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>qA(h))}else{const f=LSe(e);return u=Ie("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>Oz(h))}}async listInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=WSe(e);return u=Ie("tuningJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const y=ibe(h),v=new OL;return Object.assign(v,y),v})}else{const f=FSe(e);return u=Ie("tunedModels",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const v=y;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const y=ebe(h),v=new OL;return Object.assign(v,y),v})}}async cancel(e){var n,r,i,o;let s="",u={};if(this.apiClient.isVertexAI()){const c=jSe(e);s=Ie("{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=BSe(e);s=Ie("{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=XSe(e);return o=Ie("tuningJobs",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>qA(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=HSe(e);return o=Ie("tunedModels",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>tbe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sbe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const abe=1024*1024*8,lbe=3,ube=1e3,cbe=2,QS="x-goog-upload-status";async function fbe(t,e,n){var r,i,o;let s=0,u=0,c=new NA(new Response),f="upload";for(s=t.size;u<s;){const y=Math.min(abe,s-u),v=t.slice(u,u+y);u+y>=s&&(f+=", finalize");let E=0,S=ube;for(;E<lbe&&(c=await n.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(y)}}}),!(!((r=c==null?void 0:c.headers)===null||r===void 0)&&r[QS]));)E++,await hbe(S),S=S*cbe;if(u+=y,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[QS])!=="active")break;if(s<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(c==null?void 0:c.json());if(((o=c==null?void 0:c.headers)===null||o===void 0?void 0:o[QS])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function dbe(t){return{size:t.size,type:t.type}}function hbe(t){return new Promise(e=>setTimeout(e,t))}class pbe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await fbe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await dbe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mbe{create(e,n,r){return new gbe(e,n,r)}}class gbe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aU="x-goog-api-key";class ybe{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(aU)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(aU,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vbe="gl-node/";class _be{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Zme(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new ybe(this.apiKey);this.apiClient=new Owe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:vbe+"web",uploader:new pbe,downloader:new sbe}),this.models=new tSe(this.apiClient),this.live=new jwe(this.apiClient,i,new mbe),this.batches=new bye(this.apiClient),this.chats=new Pve(this.models,this.apiClient),this.caches=new Cve(this.apiClient),this.files=new zve(this.apiClient),this.operations=new oSe(this.apiClient),this.authTokens=new VSe(this.apiClient),this.tunings=new obe(this.apiClient)}}const Tbe=new _be({apiKey:"PLACEHOLDER_API_KEY"}),Ebe=async t=>{try{const e=await Tbe.models.generateImages({model:"imagen-4.0-generate-001",prompt:`Futuristic, dark, dystopian, gritty, mysterious, quest item. ${t}`,config:{numberOfImages:1,outputMimeType:"image/jpeg",aspectRatio:"16:9"}});if(e.generatedImages&&e.generatedImages.length>0)return`data:image/jpeg;base64,${e.generatedImages[0].image.imageBytes}`;throw new Error("No image was generated by the API.")}catch(e){throw console.error("Error generating image with Gemini API:",e),e instanceof Error?new Error(`Failed to generate image: ${e.message}`):new Error("An unknown error occurred while generating the image.")}},wbe=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:H.jsx("path",{d:"M17 3H5a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2zm-3 12H8v-4h6v4zm2-6H5V5h12v4z"})}),Sbe=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),bbe=()=>{var N,O,k,B,F;const{questId:t}=KA(),e=GA(),[n,r]=M.useState(null),[i,o]=M.useState(null),[s,u]=M.useState("start"),[c,f]=M.useState(!0),[h,y]=M.useState(!1),[v,E]=M.useState(""),[S,b]=M.useState(null),[I,R]=M.useState({}),D=M.useCallback($=>{o($)},[]);M.useEffect(()=>{if(!t){E("Квест не найден."),f(!1);return}f(!0);const $=Cr.collection("games").doc(t).onSnapshot(z=>{if(z.exists){const Re={id:z.id,...z.data()};r(Re),i||D(JSON.parse(JSON.stringify(Re.dsl)))}else E("Квест не найден.");f(!1)},z=>{console.error(z),E("Ошибка загрузки квеста."),f(!1)});return()=>$()},[t]);const C=async()=>{if(!(!t||!i)){y(!0);try{await Cr.collection("games").doc(t).update({title:i.meta.title,dsl:i,updatedAt:af.serverTimestamp()}),b(new Date)}catch($){console.error($),alert("Не удалось сохранить изменения.")}finally{y(!1)}}},q=($,z,Re)=>{if(!i)return;const we={...i};we.nodes[$]={...we.nodes[$],[z]:Re},D(we)},L=async $=>{var Re;if(!i)return;const z=(Re=document.getElementById(`image-prompt-${$}`))==null?void 0:Re.value;if(!z){alert("Пожалуйста, введите описание для генерации изображения.");return}R(we=>({...we,[$]:{loading:!0,error:""}}));try{const we=await Ebe(z),ee=JSON.parse(JSON.stringify(i));ee.assets.images||(ee.assets.images={}),ee.assets.images[$]=we,ee.nodes[$].bg=$,D(ee)}catch(we){R(ee=>({...ee,[$]:{loading:!1,error:we.message||"Ошибка генерации"}}))}finally{R(we=>({...we,[$]:{...we[$],loading:!1}}))}};if(c)return H.jsx("div",{className:"text-center p-8 font-display text-2xl text-stone-400 animate-pulse",children:"ЗАГРУЗКА РЕДАКТОРА..."});if(v)return H.jsx("div",{className:"text-center p-8 text-2xl text-red-500",children:v});if(!n||!i)return null;const G=i.nodes[s];return H.jsxs("div",{className:"container mx-auto py-8 px-4",children:[H.jsxs("div",{className:"flex justify-between items-center mb-6",children:[H.jsxs("div",{className:"flex items-center gap-4",children:[H.jsx("button",{onClick:()=>e("/admin"),className:"bg-stone-700 hover:bg-stone-600 text-stone-200 font-semibold py-2 px-4 rounded-md transition-colors",children:"← Назад"}),H.jsx("input",{type:"text",value:i.meta.title,onChange:$=>D({...i,meta:{...i.meta,title:$.target.value}}),className:"font-display text-4xl text-stone-200 bg-transparent border-0 focus:ring-2 focus:ring-amber-500 rounded-md p-1"})]}),H.jsxs("div",{className:"flex items-center gap-4",children:[S&&H.jsxs("span",{className:"text-sm text-stone-400",children:["Сохранено: ",S.toLocaleTimeString()]}),H.jsxs("button",{onClick:C,disabled:h,className:"flex items-center justify-center font-display text-xl bg-amber-500 text-stone-900 py-2 px-6 rounded-md hover:bg-amber-400 transition-colors disabled:bg-stone-600 disabled:cursor-not-allowed",children:[H.jsx(wbe,{})," ",h?"СОХРАНЕНИЕ...":"СОХРАНИТЬ"]})]})]}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[H.jsxs("div",{className:"md:col-span-1 bg-stone-800/50 border border-stone-700 p-4 rounded-md",children:[H.jsx("h3",{className:"font-display text-2xl text-amber-400 mb-4",children:"Узлы Сценария"}),H.jsx("div",{className:"flex flex-col space-y-2",children:Object.keys(i.nodes).map($=>H.jsx("button",{onClick:()=>u($),className:`w-full text-left p-2 rounded-md transition-colors ${s===$?"bg-amber-500 text-stone-900 font-bold":"bg-stone-700 hover:bg-stone-600"}`,children:$},$))})]}),H.jsx("div",{className:"md:col-span-3 bg-stone-800/50 border border-stone-700 p-6 rounded-md space-y-6",children:G?H.jsxs("div",{children:[H.jsxs("h3",{className:"font-display text-3xl text-stone-100 mb-4 border-b-2 border-amber-500 pb-2",children:["Узел: ",H.jsx("span",{className:"text-amber-400",children:s})]}),H.jsxs("div",{children:[H.jsx("label",{htmlFor:"nodeText",className:"text-sm font-bold text-stone-400 block mb-1",children:"Текст узла:"}),H.jsx("textarea",{id:"nodeText",value:G.text,onChange:$=>q(s,"text",$.target.value),className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all h-40 resize-y"})]}),H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-sm font-bold text-stone-400 block",children:"Фоновое изображение (AI):"}),H.jsxs("div",{className:"aspect-video bg-stone-900 rounded-md overflow-hidden relative flex items-center justify-center",children:[i.assets.images[G.bg||""]?H.jsx("img",{src:i.assets.images[G.bg||""],alt:"Generated background",className:"w-full h-full object-cover"}):H.jsx("span",{className:"text-stone-500",children:"Нет изображения"}),((N=I[s])==null?void 0:N.loading)&&H.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:H.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-500"})})]}),H.jsxs("div",{className:"flex gap-2",children:[H.jsx("input",{id:`image-prompt-${s}`,type:"text",placeholder:"Опишите сцену... (на английском)",className:"flex-grow bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),H.jsxs("button",{onClick:()=>L(s),disabled:(O=I[s])==null?void 0:O.loading,className:"flex items-center justify-center font-display text-lg bg-sky-600 text-white py-2 px-4 rounded-md hover:bg-sky-500 transition-colors disabled:bg-stone-600",children:[H.jsx(Sbe,{})," ",(k=I[s])!=null&&k.loading?"Генерация...":"Создать"]})]}),((B=I[s])==null?void 0:B.error)&&H.jsx("p",{className:"text-red-500 text-sm mt-1",children:(F=I[s])==null?void 0:F.error})]}),H.jsxs("div",{children:[H.jsx("h4",{className:"text-lg font-bold text-stone-300 mt-6 mb-2",children:"Выборы:"}),H.jsx("div",{className:"space-y-2",children:(G.choices||[]).map(($,z)=>H.jsxs("div",{className:"flex gap-2 items-center bg-stone-900/50 p-2 rounded",children:[H.jsx("input",{type:"text",value:$.label,placeholder:"Текст выбора",className:"flex-grow bg-stone-700 text-stone-200 border border-stone-600 rounded px-2 py-1"}),H.jsx("span",{className:"text-stone-400",children:"→"}),H.jsx("input",{type:"text",value:$.to,placeholder:"ID узла",className:"w-32 bg-stone-700 text-stone-200 border border-stone-600 rounded px-2 py-1"})]},z))})]})]}):H.jsx("p",{className:"text-stone-400",children:"Выберите узел для редактирования"})})]})]})},Abe=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:H.jsx("path",{fillRule:"evenodd",d:"M10 2a4 4 0 00-4 4v4H4a2 2 0 00-2 2v6a2 2 0 002 2h12a2 2 0 002-2v-6a2 2 0 00-2-2h-2V6a4 4 0 00-4-4zm-2 6V6a2 2 0 114 0v4H8z",clipRule:"evenodd"})}),lU=()=>{const[t,e]=M.useState(""),[n,r]=M.useState(""),[i,o]=M.useState(""),s=async u=>{u.preventDefault(),o("");try{await Tp.signInWithEmailAndPassword(t,n)}catch(c){o("Ошибка входа. Проверьте почту и пароль."),console.error(c)}};return H.jsx("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:H.jsxs("div",{className:"w-full max-w-sm p-8 bg-stone-800/50 border border-stone-700 rounded-md shadow-lg",children:[H.jsx("h2",{className:"font-display text-3xl text-center text-stone-200 mb-6 tracking-wider",children:"ВХОД В ПАНЕЛЬ"}),H.jsxs("form",{onSubmit:s,className:"space-y-4",children:[H.jsx("input",{type:"email",value:t,onChange:u=>e(u.target.value),placeholder:"Email",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all","aria-label":"Email",required:!0}),H.jsx("input",{type:"password",value:n,onChange:u=>r(u.target.value),placeholder:"Пароль",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all","aria-label":"Password",required:!0}),H.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center font-display text-xl bg-amber-500 text-stone-900 py-2 rounded-md hover:bg-amber-400 transition-colors",children:[H.jsx(Abe,{}),"ВОЙТИ"]}),i&&H.jsx("p",{className:"text-red-500 text-center text-sm mt-4",children:i})]})]})})},Ibe=()=>H.jsx("header",{className:"bg-black/50 border-b-2 border-amber-500/50 p-4 sticky top-0 z-20 backdrop-blur-sm",children:H.jsxs("div",{className:"container mx-auto text-center",children:[H.jsx("a",{href:"/#",className:"font-display text-4xl md:text-5xl text-amber-400 tracking-widest no-underline",children:"B_KOMHATE"}),H.jsx("p",{className:"text-stone-400 text-sm tracking-wider",children:"QUEST & CODEWORD PLATFORM"})]})}),Cbe=()=>H.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center p-4",children:[H.jsx("h2",{className:"font-display text-6xl text-red-500",children:"404"}),H.jsx("p",{className:"text-stone-300 text-xl mt-2",children:"Страница не найдена."}),H.jsx("a",{href:"/#/admin",className:"text-amber-400 hover:text-amber-300 mt-4",children:"Перейти в панель управления"})]}),xbe=()=>{const{currentUser:t,loading:e}=iee(),{c:n}=KA(),r=window.location.hash;return e?H.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:H.jsx("p",{className:"font-display text-2xl text-stone-400 animate-pulse",children:"ИНИЦИАЛИЗАЦИЯ СИСТЕМЫ..."})}):r.startsWith("#/view")||r.startsWith("#/play")?H.jsxs(EU,{children:[H.jsx(Sa,{path:"/view",element:H.jsx(nz,{})}),H.jsx(Sa,{path:"/play/:questId",element:H.jsx(Yme,{})}),H.jsx(Sa,{path:"*",element:H.jsx(uU,{currentUser:t})})]}):H.jsx(uU,{currentUser:t})},uU=({currentUser:t})=>{const e=window.location.hash;return(e==="#/"||e==="#/admin"||e.startsWith("#/admin/"))&&!t?H.jsx(lU,{}):t?H.jsxs(EU,{children:[H.jsx(Sa,{path:"/admin",element:H.jsx(Kme,{})}),H.jsx(Sa,{path:"/admin/quest/:questId",element:H.jsx(bbe,{})}),H.jsx(Sa,{path:"/",element:H.jsx(u9,{to:"/admin",replace:!0})}),H.jsx(Sa,{path:"*",element:H.jsx(Cbe,{})})]}):H.jsx(lU,{})},Rbe=()=>{const t=window.location.hash,n=new URLSearchParams(t.split("?")[1]).get("c");return t.startsWith("#/view")&&n?H.jsx(nz,{codeId:n}):H.jsx(xbe,{})},Pbe=()=>H.jsx("div",{className:"min-h-screen",children:H.jsx(oee,{children:H.jsxs(N9,{children:[H.jsx(Ibe,{}),H.jsx("main",{children:H.jsx(Rbe,{})})]})})}),Vz=document.getElementById("root");if(!Vz)throw new Error("Could not find root element to mount to");const Mbe=TG.createRoot(Vz);Mbe.render(H.jsx(cU.StrictMode,{children:H.jsx(Pbe,{})}));
