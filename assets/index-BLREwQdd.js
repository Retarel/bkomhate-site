var M6=Object.defineProperty;var N6=(t,e,n)=>e in t?M6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var w0=(t,e,n)=>N6(t,typeof e!="symbol"?e+"":e,n);function D6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function mi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var A0={exports:{}},Pf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a1;function O6(){if(a1)return Pf;a1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var s=null;if(o!==void 0&&(s=""+o),i.key!==void 0&&(s=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:o}}return Pf.Fragment=e,Pf.jsx=n,Pf.jsxs=n,Pf}var s1;function k6(){return s1||(s1=1,A0.exports=O6()),A0.exports}var F=k6(),b0={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l1;function L6(){if(l1)return He;l1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),y=Symbol.iterator;function _(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,A={};function C(j,ce,ae){this.props=j,this.context=ce,this.refs=A,this.updater=ae||S}C.prototype.isReactComponent={},C.prototype.setState=function(j,ce){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ce,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function I(){}I.prototype=C.prototype;function N(j,ce,ae){this.props=j,this.context=ce,this.refs=A,this.updater=ae||S}var M=N.prototype=new I;M.constructor=N,w(M,C.prototype),M.isPureReactComponent=!0;var U=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function O(j,ce,ae,me,Ae,Re){return ae=Re.ref,{$$typeof:t,type:j,key:ce,ref:ae!==void 0?ae:null,props:Re}}function k(j,ce){return O(j.type,ce,void 0,void 0,void 0,j.props)}function D(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function $(j){var ce={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ae){return ce[ae]})}var q=/\/+/g;function z(j,ce){return typeof j=="object"&&j!==null&&j.key!=null?$(""+j.key):ce.toString(36)}function H(){}function Me(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(H,H):(j.status="pending",j.then(function(ce){j.status==="pending"&&(j.status="fulfilled",j.value=ce)},function(ce){j.status==="pending"&&(j.status="rejected",j.reason=ce)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function be(j,ce,ae,me,Ae){var Re=typeof j;(Re==="undefined"||Re==="boolean")&&(j=null);var Ne=!1;if(j===null)Ne=!0;else switch(Re){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(j.$$typeof){case t:case e:Ne=!0;break;case h:return Ne=j._init,be(Ne(j._payload),ce,ae,me,Ae)}}if(Ne)return Ae=Ae(j),Ne=me===""?"."+z(j,0):me,U(Ae)?(ae="",Ne!=null&&(ae=Ne.replace(q,"$&/")+"/"),be(Ae,ce,ae,"",function(Z){return Z})):Ae!=null&&(D(Ae)&&(Ae=k(Ae,ae+(Ae.key==null||j&&j.key===Ae.key?"":(""+Ae.key).replace(q,"$&/")+"/")+Ne)),ce.push(Ae)),1;Ne=0;var Nt=me===""?".":me+":";if(U(j))for(var rt=0;rt<j.length;rt++)me=j[rt],Re=Nt+z(me,rt),Ne+=be(me,ce,ae,Re,Ae);else if(rt=_(j),typeof rt=="function")for(j=rt.call(j),rt=0;!(me=j.next()).done;)me=me.value,Re=Nt+z(me,rt++),Ne+=be(me,ce,ae,Re,Ae);else if(Re==="object"){if(typeof j.then=="function")return be(Me(j),ce,ae,me,Ae);throw ce=String(j),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function ne(j,ce,ae){if(j==null)return j;var me=[],Ae=0;return be(j,me,"","",function(Re){return ce.call(ae,Re,Ae++)}),me}function pe(j){if(j._status===-1){var ce=j._result;ce=ce(),ce.then(function(ae){(j._status===0||j._status===-1)&&(j._status=1,j._result=ae)},function(ae){(j._status===0||j._status===-1)&&(j._status=2,j._result=ae)}),j._status===-1&&(j._status=0,j._result=ce)}if(j._status===1)return j._result.default;throw j._result}var _e=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function Le(){}return He.Children={map:ne,forEach:function(j,ce,ae){ne(j,function(){ce.apply(this,arguments)},ae)},count:function(j){var ce=0;return ne(j,function(){ce++}),ce},toArray:function(j){return ne(j,function(ce){return ce})||[]},only:function(j){if(!D(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},He.Component=C,He.Fragment=n,He.Profiler=i,He.PureComponent=N,He.StrictMode=r,He.Suspense=f,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,He.__COMPILER_RUNTIME={__proto__:null,c:function(j){return B.H.useMemoCache(j)}},He.cache=function(j){return function(){return j.apply(null,arguments)}},He.cloneElement=function(j,ce,ae){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var me=w({},j.props),Ae=j.key,Re=void 0;if(ce!=null)for(Ne in ce.ref!==void 0&&(Re=void 0),ce.key!==void 0&&(Ae=""+ce.key),ce)!G.call(ce,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&ce.ref===void 0||(me[Ne]=ce[Ne]);var Ne=arguments.length-2;if(Ne===1)me.children=ae;else if(1<Ne){for(var Nt=Array(Ne),rt=0;rt<Ne;rt++)Nt[rt]=arguments[rt+2];me.children=Nt}return O(j.type,Ae,void 0,void 0,Re,me)},He.createContext=function(j){return j={$$typeof:s,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},He.createElement=function(j,ce,ae){var me,Ae={},Re=null;if(ce!=null)for(me in ce.key!==void 0&&(Re=""+ce.key),ce)G.call(ce,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Ae[me]=ce[me]);var Ne=arguments.length-2;if(Ne===1)Ae.children=ae;else if(1<Ne){for(var Nt=Array(Ne),rt=0;rt<Ne;rt++)Nt[rt]=arguments[rt+2];Ae.children=Nt}if(j&&j.defaultProps)for(me in Ne=j.defaultProps,Ne)Ae[me]===void 0&&(Ae[me]=Ne[me]);return O(j,Re,void 0,void 0,null,Ae)},He.createRef=function(){return{current:null}},He.forwardRef=function(j){return{$$typeof:u,render:j}},He.isValidElement=D,He.lazy=function(j){return{$$typeof:h,_payload:{_status:-1,_result:j},_init:pe}},He.memo=function(j,ce){return{$$typeof:c,type:j,compare:ce===void 0?null:ce}},He.startTransition=function(j){var ce=B.T,ae={};B.T=ae;try{var me=j(),Ae=B.S;Ae!==null&&Ae(ae,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(Le,_e)}catch(Re){_e(Re)}finally{B.T=ce}},He.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},He.use=function(j){return B.H.use(j)},He.useActionState=function(j,ce,ae){return B.H.useActionState(j,ce,ae)},He.useCallback=function(j,ce){return B.H.useCallback(j,ce)},He.useContext=function(j){return B.H.useContext(j)},He.useDebugValue=function(){},He.useDeferredValue=function(j,ce){return B.H.useDeferredValue(j,ce)},He.useEffect=function(j,ce,ae){var me=B.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(j,ce)},He.useId=function(){return B.H.useId()},He.useImperativeHandle=function(j,ce,ae){return B.H.useImperativeHandle(j,ce,ae)},He.useInsertionEffect=function(j,ce){return B.H.useInsertionEffect(j,ce)},He.useLayoutEffect=function(j,ce){return B.H.useLayoutEffect(j,ce)},He.useMemo=function(j,ce){return B.H.useMemo(j,ce)},He.useOptimistic=function(j,ce){return B.H.useOptimistic(j,ce)},He.useReducer=function(j,ce,ae){return B.H.useReducer(j,ce,ae)},He.useRef=function(j){return B.H.useRef(j)},He.useState=function(j){return B.H.useState(j)},He.useSyncExternalStore=function(j,ce,ae){return B.H.useSyncExternalStore(j,ce,ae)},He.useTransition=function(){return B.H.useTransition()},He.version="19.1.1",He}var u1;function Zu(){return u1||(u1=1,b0.exports=L6()),b0.exports}var P=Zu();const p2=mi(P),V6=D6({__proto__:null,default:p2},[P]);var C0={exports:{}},Mf={},x0={exports:{}},I0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c1;function U6(){return c1||(c1=1,(function(t){function e(ne,pe){var _e=ne.length;ne.push(pe);e:for(;0<_e;){var Le=_e-1>>>1,j=ne[Le];if(0<i(j,pe))ne[Le]=pe,ne[_e]=j,_e=Le;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var pe=ne[0],_e=ne.pop();if(_e!==pe){ne[0]=_e;e:for(var Le=0,j=ne.length,ce=j>>>1;Le<ce;){var ae=2*(Le+1)-1,me=ne[ae],Ae=ae+1,Re=ne[Ae];if(0>i(me,_e))Ae<j&&0>i(Re,me)?(ne[Le]=Re,ne[Ae]=_e,Le=Ae):(ne[Le]=me,ne[ae]=_e,Le=ae);else if(Ae<j&&0>i(Re,_e))ne[Le]=Re,ne[Ae]=_e,Le=Ae;else break e}}return pe}function i(ne,pe){var _e=ne.sortIndex-pe.sortIndex;return _e!==0?_e:ne.id-pe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var f=[],c=[],h=1,y=null,_=3,S=!1,w=!1,A=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function U(ne){for(var pe=n(c);pe!==null;){if(pe.callback===null)r(c);else if(pe.startTime<=ne)r(c),pe.sortIndex=pe.expirationTime,e(f,pe);else break;pe=n(c)}}function B(ne){if(A=!1,U(ne),!w)if(n(f)!==null)w=!0,G||(G=!0,z());else{var pe=n(c);pe!==null&&be(B,pe.startTime-ne)}}var G=!1,O=-1,k=5,D=-1;function $(){return C?!0:!(t.unstable_now()-D<k)}function q(){if(C=!1,G){var ne=t.unstable_now();D=ne;var pe=!0;try{e:{w=!1,A&&(A=!1,N(O),O=-1),S=!0;var _e=_;try{t:{for(U(ne),y=n(f);y!==null&&!(y.expirationTime>ne&&$());){var Le=y.callback;if(typeof Le=="function"){y.callback=null,_=y.priorityLevel;var j=Le(y.expirationTime<=ne);if(ne=t.unstable_now(),typeof j=="function"){y.callback=j,U(ne),pe=!0;break t}y===n(f)&&r(f),U(ne)}else r(f);y=n(f)}if(y!==null)pe=!0;else{var ce=n(c);ce!==null&&be(B,ce.startTime-ne),pe=!1}}break e}finally{y=null,_=_e,S=!1}pe=void 0}}finally{pe?z():G=!1}}}var z;if(typeof M=="function")z=function(){M(q)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Me=H.port2;H.port1.onmessage=q,z=function(){Me.postMessage(null)}}else z=function(){I(q,0)};function be(ne,pe){O=I(function(){ne(t.unstable_now())},pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(ne){switch(_){case 1:case 2:case 3:var pe=3;break;default:pe=_}var _e=_;_=pe;try{return ne()}finally{_=_e}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(ne,pe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var _e=_;_=ne;try{return pe()}finally{_=_e}},t.unstable_scheduleCallback=function(ne,pe,_e){var Le=t.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Le+_e:Le):_e=Le,ne){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=_e+j,ne={id:h++,callback:pe,priorityLevel:ne,startTime:_e,expirationTime:j,sortIndex:-1},_e>Le?(ne.sortIndex=_e,e(c,ne),n(f)===null&&ne===n(c)&&(A?(N(O),O=-1):A=!0,be(B,_e-Le))):(ne.sortIndex=j,e(f,ne),w||S||(w=!0,G||(G=!0,z()))),ne},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(ne){var pe=_;return function(){var _e=_;_=pe;try{return ne.apply(this,arguments)}finally{_=_e}}}})(I0)),I0}var f1;function B6(){return f1||(f1=1,x0.exports=U6()),x0.exports}var R0={exports:{}},Un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d1;function q6(){if(d1)return Un;d1=1;var t=Zu();function e(f){var c="https://react.dev/errors/"+f;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,c,h){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:f,containerInfo:c,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,c){if(f==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Un.createPortal=function(f,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return o(f,c,null,h)},Un.flushSync=function(f){var c=s.T,h=r.p;try{if(s.T=null,r.p=2,f)return f()}finally{s.T=c,r.p=h,r.d.f()}},Un.preconnect=function(f,c){typeof f=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(f,c))},Un.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Un.preinit=function(f,c){if(typeof f=="string"&&c&&typeof c.as=="string"){var h=c.as,y=u(h,c.crossOrigin),_=typeof c.integrity=="string"?c.integrity:void 0,S=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;h==="style"?r.d.S(f,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:S}):h==="script"&&r.d.X(f,{crossOrigin:y,integrity:_,fetchPriority:S,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Un.preinitModule=function(f,c){if(typeof f=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var h=u(c.as,c.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(f)},Un.preload=function(f,c){if(typeof f=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var h=c.as,y=u(h,c.crossOrigin);r.d.L(f,h,{crossOrigin:y,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Un.preloadModule=function(f,c){if(typeof f=="string")if(c){var h=u(c.as,c.crossOrigin);r.d.m(f,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(f)},Un.requestFormReset=function(f){r.d.r(f)},Un.unstable_batchedUpdates=function(f,c){return f(c)},Un.useFormState=function(f,c,h){return s.H.useFormState(f,c,h)},Un.useFormStatus=function(){return s.H.useHostTransitionStatus()},Un.version="19.1.1",Un}var h1;function m2(){if(h1)return R0.exports;h1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),R0.exports=q6(),R0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1;function F6(){if(p1)return Mf;p1=1;var t=B6(),e=Zu(),n=m2();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function s(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(o(a)!==a)throw Error(r(188))}function f(a){var l=a.alternate;if(!l){if(l=o(a),l===null)throw Error(r(188));return l!==a?null:a}for(var d=a,g=l;;){var T=d.return;if(T===null)break;var E=T.alternate;if(E===null){if(g=T.return,g!==null){d=g;continue}break}if(T.child===E.child){for(E=T.child;E;){if(E===d)return u(T),a;if(E===g)return u(T),l;E=E.sibling}throw Error(r(188))}if(d.return!==g.return)d=T,g=E;else{for(var R=!1,L=T.child;L;){if(L===d){R=!0,d=T,g=E;break}if(L===g){R=!0,g=T,d=E;break}L=L.sibling}if(!R){for(L=E.child;L;){if(L===d){R=!0,d=E,g=T;break}if(L===g){R=!0,g=E,d=T;break}L=L.sibling}if(!R)throw Error(r(189))}}if(d.alternate!==g)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:l}function c(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=c(a),l!==null)return l;a=a.sibling}return null}var h=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function z(a){return a===null||typeof a!="object"?null:(a=q&&a[q]||a["@@iterator"],typeof a=="function"?a:null)}var H=Symbol.for("react.client.reference");function Me(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===H?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case C:return"Profiler";case A:return"StrictMode";case B:return"Suspense";case G:return"SuspenseList";case D:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case M:return(a.displayName||"Context")+".Provider";case N:return(a._context.displayName||"Context")+".Consumer";case U:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case O:return l=a.displayName||null,l!==null?l:Me(a.type)||"Memo";case k:l=a._payload,a=a._init;try{return Me(a(l))}catch{}}return null}var be=Array.isArray,ne=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Le=[],j=-1;function ce(a){return{current:a}}function ae(a){0>j||(a.current=Le[j],Le[j]=null,j--)}function me(a,l){j++,Le[j]=a.current,a.current=l}var Ae=ce(null),Re=ce(null),Ne=ce(null),Nt=ce(null);function rt(a,l){switch(me(Ne,l),me(Re,a),me(Ae,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?Ox(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=Ox(l),a=kx(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ae(Ae),me(Ae,a)}function Z(){ae(Ae),ae(Re),ae(Ne)}function he(a){a.memoizedState!==null&&me(Nt,a);var l=Ae.current,d=kx(l,a.type);l!==d&&(me(Re,a),me(Ae,d))}function ge(a){Re.current===a&&(ae(Ae),ae(Re)),Nt.current===a&&(ae(Nt),bf._currentValue=_e)}var re=Object.prototype.hasOwnProperty,Pe=t.unstable_scheduleCallback,qe=t.unstable_cancelCallback,Tt=t.unstable_shouldYield,Ft=t.unstable_requestPaint,Dt=t.unstable_now,Qi=t.unstable_getCurrentPriorityLevel,Zo=t.unstable_ImmediatePriority,Xi=t.unstable_UserBlockingPriority,Kn=t.unstable_NormalPriority,jn=t.unstable_LowPriority,Ti=t.unstable_IdlePriority,ea=t.log,ah=t.unstable_setDisableYieldValue,Lt=null,lt=null;function cr(a){if(typeof ea=="function"&&ah(a),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(Lt,a)}catch{}}var Ln=Math.clz32?Math.clz32:ls,sh=Math.log,by=Math.LN2;function ls(a){return a>>>=0,a===0?32:31-(sh(a)/by|0)|0}var us=256,cs=4194304;function ni(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function bl(a,l,d){var g=a.pendingLanes;if(g===0)return 0;var T=0,E=a.suspendedLanes,R=a.pingedLanes;a=a.warmLanes;var L=g&134217727;return L!==0?(g=L&~E,g!==0?T=ni(g):(R&=L,R!==0?T=ni(R):d||(d=L&~a,d!==0&&(T=ni(d))))):(L=g&~E,L!==0?T=ni(L):R!==0?T=ni(R):d||(d=g&~a,d!==0&&(T=ni(d)))),T===0?0:l!==0&&l!==T&&(l&E)===0&&(E=T&-T,d=l&-l,E>=d||E===32&&(d&4194048)!==0)?l:T}function fs(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function Ac(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bc(){var a=us;return us<<=1,(us&4194048)===0&&(us=256),a}function Cc(){var a=cs;return cs<<=1,(cs&62914560)===0&&(cs=4194304),a}function Zi(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function eo(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function xc(a,l,d,g,T,E){var R=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var L=a.entanglements,K=a.expirationTimes,X=a.hiddenUpdates;for(d=R&~d;0<d;){var se=31-Ln(d),fe=1<<se;L[se]=0,K[se]=-1;var ee=X[se];if(ee!==null)for(X[se]=null,se=0;se<ee.length;se++){var te=ee[se];te!==null&&(te.lane&=-536870913)}d&=~fe}g!==0&&Ei(a,g,0),E!==0&&T===0&&a.tag!==0&&(a.suspendedLanes|=E&~(R&~l))}function Ei(a,l,d){a.pendingLanes|=l,a.suspendedLanes&=~l;var g=31-Ln(l);a.entangledLanes|=l,a.entanglements[g]=a.entanglements[g]|1073741824|d&4194090}function Ic(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var g=31-Ln(d),T=1<<g;T&l|a[g]&l&&(a[g]|=l),d&=~T}}function ta(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Cl(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function na(){var a=pe.p;return a!==0?a:(a=window.event,a===void 0?32:e1(a.type))}function lh(a,l){var d=pe.p;try{return pe.p=a,l()}finally{pe.p=d}}var It=Math.random().toString(36).slice(2),nn="__reactFiber$"+It,jt="__reactProps$"+It,Nr="__reactContainer$"+It,Rc="__reactEvents$"+It,Cy="__reactListeners$"+It,ra="__reactHandles$"+It,uh="__reactResources$"+It,ds="__reactMarker$"+It;function ia(a){delete a[nn],delete a[jt],delete a[Rc],delete a[Cy],delete a[ra]}function to(a){var l=a[nn];if(l)return l;for(var d=a.parentNode;d;){if(l=d[Nr]||d[nn]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=Bx(a);a!==null;){if(d=a[nn])return d;a=Bx(a)}return l}a=d,d=a.parentNode}return null}function Si(a){if(a=a[nn]||a[Nr]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function wi(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function Yn(a){var l=a[uh];return l||(l=a[uh]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function $t(a){a[ds]=!0}var Pc=new Set,xl={};function ri(a,l){no(a,l),no(a+"Capture",l)}function no(a,l){for(xl[a]=l,a=0;a<l.length;a++)Pc.add(l[a])}var ch=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fh={},hs={};function dh(a){return re.call(hs,a)?!0:re.call(fh,a)?!1:ch.test(a)?hs[a]=!0:(fh[a]=!0,!1)}function oa(a,l,d){if(dh(l))if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+d)}}function Ai(a,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+d)}}function bn(a,l,d,g){if(g===null)a.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(l,d,""+g)}}var ps,hh;function ro(a){if(ps===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);ps=l&&l[1]||"",hh=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ps+a+hh}var Il=!1;function Rl(a,l){if(!a||Il)return"";Il=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(te){var ee=te}Reflect.construct(a,[],fe)}else{try{fe.call()}catch(te){ee=te}a.call(fe.prototype)}}else{try{throw Error()}catch(te){ee=te}(fe=a())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=g.DetermineComponentFrameRoot(),R=E[0],L=E[1];if(R&&L){var K=R.split(`
`),X=L.split(`
`);for(T=g=0;g<K.length&&!K[g].includes("DetermineComponentFrameRoot");)g++;for(;T<X.length&&!X[T].includes("DetermineComponentFrameRoot");)T++;if(g===K.length||T===X.length)for(g=K.length-1,T=X.length-1;1<=g&&0<=T&&K[g]!==X[T];)T--;for(;1<=g&&0<=T;g--,T--)if(K[g]!==X[T]){if(g!==1||T!==1)do if(g--,T--,0>T||K[g]!==X[T]){var se=`
`+K[g].replace(" at new "," at ");return a.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",a.displayName)),se}while(1<=g&&0<=T);break}}}finally{Il=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?ro(d):""}function Mc(a){switch(a.tag){case 26:case 27:case 5:return ro(a.type);case 16:return ro("Lazy");case 13:return ro("Suspense");case 19:return ro("SuspenseList");case 0:case 15:return Rl(a.type,!1);case 11:return Rl(a.type.render,!1);case 1:return Rl(a.type,!0);case 31:return ro("Activity");default:return""}}function Pl(a){try{var l="";do l+=Mc(a),a=a.return;while(a);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Wn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Nc(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function xy(a){var l=Nc(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),g=""+a[l];if(!a.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var T=d.get,E=d.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return T.call(this)},set:function(R){g=""+R,E.call(this,R)}}),Object.defineProperty(a,l,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(R){g=""+R},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Ml(a){a._valueTracker||(a._valueTracker=xy(a))}function Dc(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return a&&(g=Nc(a)?a.checked?"true":"false":a.value),a=g,a!==d?(l.setValue(a),!0):!1}function ms(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Iy=/[\n"\\]/g;function Yt(a){return a.replace(Iy,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function fr(a,l,d,g,T,E,R,L){a.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?a.type=R:a.removeAttribute("type"),l!=null?R==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Wn(l)):a.value!==""+Wn(l)&&(a.value=""+Wn(l)):R!=="submit"&&R!=="reset"||a.removeAttribute("value"),l!=null?aa(a,R,Wn(l)):d!=null?aa(a,R,Wn(d)):g!=null&&a.removeAttribute("value"),T==null&&E!=null&&(a.defaultChecked=!!E),T!=null&&(a.checked=T&&typeof T!="function"&&typeof T!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?a.name=""+Wn(L):a.removeAttribute("name")}function gs(a,l,d,g,T,E,R,L){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(a.type=E),l!=null||d!=null){if(!(E!=="submit"&&E!=="reset"||l!=null))return;d=d!=null?""+Wn(d):"",l=l!=null?""+Wn(l):d,L||l===a.value||(a.value=l),a.defaultValue=l}g=g??T,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=L?a.checked:!!g,a.defaultChecked=!!g,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(a.name=R)}function aa(a,l,d){l==="number"&&ms(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function io(a,l,d,g){if(a=a.options,l){l={};for(var T=0;T<d.length;T++)l["$"+d[T]]=!0;for(d=0;d<a.length;d++)T=l.hasOwnProperty("$"+a[d].value),a[d].selected!==T&&(a[d].selected=T),T&&g&&(a[d].defaultSelected=!0)}else{for(d=""+Wn(d),l=null,T=0;T<a.length;T++){if(a[T].value===d){a[T].selected=!0,g&&(a[T].defaultSelected=!0);return}l!==null||a[T].disabled||(l=a[T])}l!==null&&(l.selected=!0)}}function ht(a,l,d){if(l!=null&&(l=""+Wn(l),l!==a.value&&(a.value=l),d==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=d!=null?""+Wn(d):""}function ys(a,l,d,g){if(l==null){if(g!=null){if(d!=null)throw Error(r(92));if(be(g)){if(1<g.length)throw Error(r(93));g=g[0]}d=g}d==null&&(d=""),l=d}d=Wn(l),a.defaultValue=d,g=a.textContent,g===d&&g!==""&&g!==null&&(a.value=g)}function Dr(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var vs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ph(a,l,d){var g=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":g?a.setProperty(l,d):typeof d!="number"||d===0||vs.has(l)?l==="float"?a.cssFloat=d:a[l]=(""+d).trim():a[l]=d+"px"}function Oc(a,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var T in l)g=l[T],l.hasOwnProperty(T)&&d[T]!==g&&ph(a,T,g)}else for(var E in l)l.hasOwnProperty(E)&&ph(a,E,l[E])}function kc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ry=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Py=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nl(a){return Py.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var oo=null;function Or(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ao=null,so=null;function Lc(a){var l=Si(a);if(l&&(a=l.stateNode)){var d=a[jt]||null;e:switch(a=l.stateNode,l.type){case"input":if(fr(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Yt(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==a&&g.form===a.form){var T=g[jt]||null;if(!T)throw Error(r(90));fr(g,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(l=0;l<d.length;l++)g=d[l],g.form===a.form&&Dc(g)}break e;case"textarea":ht(a,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&io(a,!!d.multiple,l,!1)}}}var bi=!1;function mh(a,l,d){if(bi)return a(l,d);bi=!0;try{var g=a(l);return g}finally{if(bi=!1,(ao!==null||so!==null)&&(lp(),ao&&(l=ao,a=so,so=ao=null,Lc(l),a)))for(l=0;l<a.length;l++)Lc(a[l])}}function _s(a,l){var d=a.stateNode;if(d===null)return null;var g=d[jt]||null;if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kr=!1;if(ii)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){kr=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{kr=!1}var Ci=null,sa=null,lo=null;function Vc(){if(lo)return lo;var a,l=sa,d=l.length,g,T="value"in Ci?Ci.value:Ci.textContent,E=T.length;for(a=0;a<d&&l[a]===T[a];a++);var R=d-a;for(g=1;g<=R&&l[d-g]===T[E-g];g++);return lo=T.slice(a,1<g?1-g:void 0)}function xi(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Ii(){return!0}function Uc(){return!1}function pn(a){function l(d,g,T,E,R){this._reactName=d,this._targetInst=T,this.type=g,this.nativeEvent=E,this.target=R,this.currentTarget=null;for(var L in a)a.hasOwnProperty(L)&&(d=a[L],this[L]=d?d(E):E[L]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Ii:Uc,this.isPropagationStopped=Uc,this}return h(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),l}var at={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=pn(at),Es=h({},at,{view:0,detail:0}),gh=pn(Es),Ol,kl,Ri,Ss=h({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ri&&(Ri&&a.type==="mousemove"?(Ol=a.screenX-Ri.screenX,kl=a.screenY-Ri.screenY):kl=Ol=0,Ri=a),Ol)},movementY:function(a){return"movementY"in a?a.movementY:kl}}),Lr=pn(Ss),yh=h({},Ss,{dataTransfer:0}),My=pn(yh),ws=h({},Es,{relatedTarget:0}),Ll=pn(ws),Bc=h({},at,{animationName:0,elapsedTime:0,pseudoElement:0}),Vl=pn(Bc),vh=h({},at,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Ul=pn(vh),Ny=h({},at,{data:0}),qc=pn(Ny),As={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_h={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Th={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fc(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Th[a])?!!l[a]:!1}function bs(){return Fc}var Eh=h({},Es,{key:function(a){if(a.key){var l=As[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=xi(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?_h[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(a){return a.type==="keypress"?xi(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?xi(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Bl=pn(Eh),Sh=h({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$c=pn(Sh),uo=h({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),wh=pn(uo),Ah=h({},at,{propertyName:0,elapsedTime:0,pseudoElement:0}),bh=pn(Ah),Ch=h({},Ss,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ql=pn(Ch),Jn=h({},at,{newState:0,oldState:0}),xh=pn(Jn),Ih=[9,13,27,32],Pi=ii&&"CompositionEvent"in window,v=null;ii&&"documentMode"in document&&(v=document.documentMode);var b=ii&&"TextEvent"in window&&!v,x=ii&&(!Pi||v&&8<v&&11>=v),V=" ",J=!1;function ie(a,l){switch(a){case"keyup":return Ih.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ye(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Qe=!1;function rn(a,l){switch(a){case"compositionend":return ye(l);case"keypress":return l.which!==32?null:(J=!0,V);case"textInput":return a=l.data,a===V&&J?null:a;default:return null}}function Xe(a,l){if(Qe)return a==="compositionend"||!Pi&&ie(a,l)?(a=Vc(),lo=sa=Ci=null,Qe=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return x&&l.locale!=="ko"?null:l.data;default:return null}}var mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function on(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!mn[a.type]:l==="textarea"}function co(a,l,d,g){ao?so?so.push(g):so=[g]:ao=g,l=pp(l,"onChange"),0<l.length&&(d=new Dl("onChange","change",null,d,g),a.push({event:d,listeners:l}))}var Cn=null,Mi=null;function Hc(a){Rx(a,0)}function Rh(a){var l=wi(a);if(Dc(l))return a}function JA(a,l){if(a==="change")return l}var QA=!1;if(ii){var Dy;if(ii){var Oy="oninput"in document;if(!Oy){var XA=document.createElement("div");XA.setAttribute("oninput","return;"),Oy=typeof XA.oninput=="function"}Dy=Oy}else Dy=!1;QA=Dy&&(!document.documentMode||9<document.documentMode)}function ZA(){Cn&&(Cn.detachEvent("onpropertychange",eb),Mi=Cn=null)}function eb(a){if(a.propertyName==="value"&&Rh(Mi)){var l=[];co(l,Mi,a,Or(a)),mh(Hc,l)}}function sB(a,l,d){a==="focusin"?(ZA(),Cn=l,Mi=d,Cn.attachEvent("onpropertychange",eb)):a==="focusout"&&ZA()}function lB(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Rh(Mi)}function uB(a,l){if(a==="click")return Rh(l)}function cB(a,l){if(a==="input"||a==="change")return Rh(l)}function fB(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var dr=typeof Object.is=="function"?Object.is:fB;function zc(a,l){if(dr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var T=d[g];if(!re.call(l,T)||!dr(a[T],l[T]))return!1}return!0}function tb(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function nb(a,l){var d=tb(a);a=0;for(var g;d;){if(d.nodeType===3){if(g=a+d.textContent.length,a<=l&&g>=l)return{node:d,offset:l-a};a=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=tb(d)}}function rb(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?rb(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function ib(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=ms(a.document);l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=ms(a.document)}return l}function ky(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var dB=ii&&"documentMode"in document&&11>=document.documentMode,Fl=null,Ly=null,Gc=null,Vy=!1;function ob(a,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Vy||Fl==null||Fl!==ms(g)||(g=Fl,"selectionStart"in g&&ky(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Gc&&zc(Gc,g)||(Gc=g,g=pp(Ly,"onSelect"),0<g.length&&(l=new Dl("onSelect","select",null,l,d),a.push({event:l,listeners:g}),l.target=Fl)))}function Cs(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var $l={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},Uy={},ab={};ii&&(ab=document.createElement("div").style,"AnimationEvent"in window||(delete $l.animationend.animation,delete $l.animationiteration.animation,delete $l.animationstart.animation),"TransitionEvent"in window||delete $l.transitionend.transition);function xs(a){if(Uy[a])return Uy[a];if(!$l[a])return a;var l=$l[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in ab)return Uy[a]=l[d];return a}var sb=xs("animationend"),lb=xs("animationiteration"),ub=xs("animationstart"),hB=xs("transitionrun"),pB=xs("transitionstart"),mB=xs("transitioncancel"),cb=xs("transitionend"),fb=new Map,By="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");By.push("scrollEnd");function oi(a,l){fb.set(a,l),ri(l,[a])}var db=new WeakMap;function Vr(a,l){if(typeof a=="object"&&a!==null){var d=db.get(a);return d!==void 0?d:(l={value:a,source:l,stack:Pl(l)},db.set(a,l),l)}return{value:a,source:l,stack:Pl(l)}}var Ur=[],Hl=0,qy=0;function Ph(){for(var a=Hl,l=qy=Hl=0;l<a;){var d=Ur[l];Ur[l++]=null;var g=Ur[l];Ur[l++]=null;var T=Ur[l];Ur[l++]=null;var E=Ur[l];if(Ur[l++]=null,g!==null&&T!==null){var R=g.pending;R===null?T.next=T:(T.next=R.next,R.next=T),g.pending=T}E!==0&&hb(d,T,E)}}function Mh(a,l,d,g){Ur[Hl++]=a,Ur[Hl++]=l,Ur[Hl++]=d,Ur[Hl++]=g,qy|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function Fy(a,l,d,g){return Mh(a,l,d,g),Nh(a)}function zl(a,l){return Mh(a,null,null,l),Nh(a)}function hb(a,l,d){a.lanes|=d;var g=a.alternate;g!==null&&(g.lanes|=d);for(var T=!1,E=a.return;E!==null;)E.childLanes|=d,g=E.alternate,g!==null&&(g.childLanes|=d),E.tag===22&&(a=E.stateNode,a===null||a._visibility&1||(T=!0)),a=E,E=E.return;return a.tag===3?(E=a.stateNode,T&&l!==null&&(T=31-Ln(d),a=E.hiddenUpdates,g=a[T],g===null?a[T]=[l]:g.push(l),l.lane=d|536870912),E):null}function Nh(a){if(50<yf)throw yf=0,jv=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Gl={};function gB(a,l,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(a,l,d,g){return new gB(a,l,d,g)}function $y(a){return a=a.prototype,!(!a||!a.isReactComponent)}function fo(a,l){var d=a.alternate;return d===null?(d=hr(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function pb(a,l){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,l=d.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Dh(a,l,d,g,T,E){var R=0;if(g=a,typeof a=="function")$y(a)&&(R=1);else if(typeof a=="string")R=v6(a,d,Ae.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case D:return a=hr(31,d,l,T),a.elementType=D,a.lanes=E,a;case w:return Is(d.children,T,E,l);case A:R=8,T|=24;break;case C:return a=hr(12,d,l,T|2),a.elementType=C,a.lanes=E,a;case B:return a=hr(13,d,l,T),a.elementType=B,a.lanes=E,a;case G:return a=hr(19,d,l,T),a.elementType=G,a.lanes=E,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case I:case M:R=10;break e;case N:R=9;break e;case U:R=11;break e;case O:R=14;break e;case k:R=16,g=null;break e}R=29,d=Error(r(130,a===null?"null":typeof a,"")),g=null}return l=hr(R,d,l,T),l.elementType=a,l.type=g,l.lanes=E,l}function Is(a,l,d,g){return a=hr(7,a,g,l),a.lanes=d,a}function Hy(a,l,d){return a=hr(6,a,null,l),a.lanes=d,a}function zy(a,l,d){return l=hr(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var Kl=[],jl=0,Oh=null,kh=0,Br=[],qr=0,Rs=null,ho=1,po="";function Ps(a,l){Kl[jl++]=kh,Kl[jl++]=Oh,Oh=a,kh=l}function mb(a,l,d){Br[qr++]=ho,Br[qr++]=po,Br[qr++]=Rs,Rs=a;var g=ho;a=po;var T=32-Ln(g)-1;g&=~(1<<T),d+=1;var E=32-Ln(l)+T;if(30<E){var R=T-T%5;E=(g&(1<<R)-1).toString(32),g>>=R,T-=R,ho=1<<32-Ln(l)+T|d<<T|g,po=E+a}else ho=1<<E|d<<T|g,po=a}function Gy(a){a.return!==null&&(Ps(a,1),mb(a,1,0))}function Ky(a){for(;a===Oh;)Oh=Kl[--jl],Kl[jl]=null,kh=Kl[--jl],Kl[jl]=null;for(;a===Rs;)Rs=Br[--qr],Br[qr]=null,po=Br[--qr],Br[qr]=null,ho=Br[--qr],Br[qr]=null}var Qn=null,Vt=null,it=!1,Ms=null,Ni=!1,jy=Error(r(519));function Ns(a){var l=Error(r(418,""));throw Yc(Vr(l,a)),jy}function gb(a){var l=a.stateNode,d=a.type,g=a.memoizedProps;switch(l[nn]=a,l[jt]=g,d){case"dialog":je("cancel",l),je("close",l);break;case"iframe":case"object":case"embed":je("load",l);break;case"video":case"audio":for(d=0;d<_f.length;d++)je(_f[d],l);break;case"source":je("error",l);break;case"img":case"image":case"link":je("error",l),je("load",l);break;case"details":je("toggle",l);break;case"input":je("invalid",l),gs(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),Ml(l);break;case"select":je("invalid",l);break;case"textarea":je("invalid",l),ys(l,g.value,g.defaultValue,g.children),Ml(l)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||g.suppressHydrationWarning===!0||Dx(l.textContent,d)?(g.popover!=null&&(je("beforetoggle",l),je("toggle",l)),g.onScroll!=null&&je("scroll",l),g.onScrollEnd!=null&&je("scrollend",l),g.onClick!=null&&(l.onclick=mp),l=!0):l=!1,l||Ns(a)}function yb(a){for(Qn=a.return;Qn;)switch(Qn.tag){case 5:case 13:Ni=!1;return;case 27:case 3:Ni=!0;return;default:Qn=Qn.return}}function Kc(a){if(a!==Qn)return!1;if(!it)return yb(a),it=!0,!1;var l=a.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||u0(a.type,a.memoizedProps)),d=!d),d&&Vt&&Ns(a),yb(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(d=a.data,d==="/$"){if(l===0){Vt=si(a.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++;a=a.nextSibling}Vt=null}}else l===27?(l=Vt,wa(a.type)?(a=h0,h0=null,Vt=a):Vt=l):Vt=Qn?si(a.stateNode.nextSibling):null;return!0}function jc(){Vt=Qn=null,it=!1}function vb(){var a=Ms;return a!==null&&(nr===null?nr=a:nr.push.apply(nr,a),Ms=null),a}function Yc(a){Ms===null?Ms=[a]:Ms.push(a)}var Yy=ce(null),Ds=null,mo=null;function la(a,l,d){me(Yy,l._currentValue),l._currentValue=d}function go(a){a._currentValue=Yy.current,ae(Yy)}function Wy(a,l,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),a===d)break;a=a.return}}function Jy(a,l,d,g){var T=a.child;for(T!==null&&(T.return=a);T!==null;){var E=T.dependencies;if(E!==null){var R=T.child;E=E.firstContext;e:for(;E!==null;){var L=E;E=T;for(var K=0;K<l.length;K++)if(L.context===l[K]){E.lanes|=d,L=E.alternate,L!==null&&(L.lanes|=d),Wy(E.return,d,a),g||(R=null);break e}E=L.next}}else if(T.tag===18){if(R=T.return,R===null)throw Error(r(341));R.lanes|=d,E=R.alternate,E!==null&&(E.lanes|=d),Wy(R,d,a),R=null}else R=T.child;if(R!==null)R.return=T;else for(R=T;R!==null;){if(R===a){R=null;break}if(T=R.sibling,T!==null){T.return=R.return,R=T;break}R=R.return}T=R}}function Wc(a,l,d,g){a=null;for(var T=l,E=!1;T!==null;){if(!E){if((T.flags&524288)!==0)E=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var R=T.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var L=T.type;dr(T.pendingProps.value,R.value)||(a!==null?a.push(L):a=[L])}}else if(T===Nt.current){if(R=T.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(a!==null?a.push(bf):a=[bf])}T=T.return}a!==null&&Jy(l,a,d,g),l.flags|=262144}function Lh(a){for(a=a.firstContext;a!==null;){if(!dr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Os(a){Ds=a,mo=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Vn(a){return _b(Ds,a)}function Vh(a,l){return Ds===null&&Os(a),_b(a,l)}function _b(a,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},mo===null){if(a===null)throw Error(r(308));mo=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else mo=mo.next=l;return d}var yB=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(d,g){a.push(g)}};this.abort=function(){l.aborted=!0,a.forEach(function(d){return d()})}},vB=t.unstable_scheduleCallback,_B=t.unstable_NormalPriority,an={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qy(){return{controller:new yB,data:new Map,refCount:0}}function Jc(a){a.refCount--,a.refCount===0&&vB(_B,function(){a.controller.abort()})}var Qc=null,Xy=0,Yl=0,Wl=null;function TB(a,l){if(Qc===null){var d=Qc=[];Xy=0,Yl=e0(),Wl={status:"pending",value:void 0,then:function(g){d.push(g)}}}return Xy++,l.then(Tb,Tb),l}function Tb(){if(--Xy===0&&Qc!==null){Wl!==null&&(Wl.status="fulfilled");var a=Qc;Qc=null,Yl=0,Wl=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function EB(a,l){var d=[],g={status:"pending",value:null,reason:null,then:function(T){d.push(T)}};return a.then(function(){g.status="fulfilled",g.value=l;for(var T=0;T<d.length;T++)(0,d[T])(l)},function(T){for(g.status="rejected",g.reason=T,T=0;T<d.length;T++)(0,d[T])(void 0)}),g}var Eb=ne.S;ne.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&TB(a,l),Eb!==null&&Eb(a,l)};var ks=ce(null);function Zy(){var a=ks.current;return a!==null?a:Et.pooledCache}function Uh(a,l){l===null?me(ks,ks.current):me(ks,l.pool)}function Sb(){var a=Zy();return a===null?null:{parent:an._currentValue,pool:a}}var Xc=Error(r(460)),wb=Error(r(474)),Bh=Error(r(542)),ev={then:function(){}};function Ab(a){return a=a.status,a==="fulfilled"||a==="rejected"}function qh(){}function bb(a,l,d){switch(d=a[d],d===void 0?a.push(l):d!==l&&(l.then(qh,qh),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,xb(a),a;default:if(typeof l.status=="string")l.then(qh,qh);else{if(a=Et,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(g){if(l.status==="pending"){var T=l;T.status="fulfilled",T.value=g}},function(g){if(l.status==="pending"){var T=l;T.status="rejected",T.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,xb(a),a}throw Zc=l,Xc}}var Zc=null;function Cb(){if(Zc===null)throw Error(r(459));var a=Zc;return Zc=null,a}function xb(a){if(a===Xc||a===Bh)throw Error(r(483))}var ua=!1;function tv(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nv(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ca(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function fa(a,l,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(ut&2)!==0){var T=g.pending;return T===null?l.next=l:(l.next=T.next,T.next=l),g.pending=l,l=Nh(a),hb(a,null,d),l}return Mh(a,g,l,d),Nh(a)}function ef(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var g=l.lanes;g&=a.pendingLanes,d|=g,l.lanes=d,Ic(a,d)}}function rv(a,l){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var T=null,E=null;if(d=d.firstBaseUpdate,d!==null){do{var R={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};E===null?T=E=R:E=E.next=R,d=d.next}while(d!==null);E===null?T=E=l:E=E.next=l}else T=E=l;d={baseState:g.baseState,firstBaseUpdate:T,lastBaseUpdate:E,shared:g.shared,callbacks:g.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}var iv=!1;function tf(){if(iv){var a=Wl;if(a!==null)throw a}}function nf(a,l,d,g){iv=!1;var T=a.updateQueue;ua=!1;var E=T.firstBaseUpdate,R=T.lastBaseUpdate,L=T.shared.pending;if(L!==null){T.shared.pending=null;var K=L,X=K.next;K.next=null,R===null?E=X:R.next=X,R=K;var se=a.alternate;se!==null&&(se=se.updateQueue,L=se.lastBaseUpdate,L!==R&&(L===null?se.firstBaseUpdate=X:L.next=X,se.lastBaseUpdate=K))}if(E!==null){var fe=T.baseState;R=0,se=X=K=null,L=E;do{var ee=L.lane&-536870913,te=ee!==L.lane;if(te?(Ze&ee)===ee:(g&ee)===ee){ee!==0&&ee===Yl&&(iv=!0),se!==null&&(se=se.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var Be=a,De=L;ee=l;var gt=d;switch(De.tag){case 1:if(Be=De.payload,typeof Be=="function"){fe=Be.call(gt,fe,ee);break e}fe=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=De.payload,ee=typeof Be=="function"?Be.call(gt,fe,ee):Be,ee==null)break e;fe=h({},fe,ee);break e;case 2:ua=!0}}ee=L.callback,ee!==null&&(a.flags|=64,te&&(a.flags|=8192),te=T.callbacks,te===null?T.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:L.tag,payload:L.payload,callback:L.callback,next:null},se===null?(X=se=te,K=fe):se=se.next=te,R|=ee;if(L=L.next,L===null){if(L=T.shared.pending,L===null)break;te=L,L=te.next,te.next=null,T.lastBaseUpdate=te,T.shared.pending=null}}while(!0);se===null&&(K=fe),T.baseState=K,T.firstBaseUpdate=X,T.lastBaseUpdate=se,E===null&&(T.shared.lanes=0),_a|=R,a.lanes=R,a.memoizedState=fe}}function Ib(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function Rb(a,l){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)Ib(d[a],l)}var Jl=ce(null),Fh=ce(0);function Pb(a,l){a=wo,me(Fh,a),me(Jl,l),wo=a|l.baseLanes}function ov(){me(Fh,wo),me(Jl,Jl.current)}function av(){wo=Fh.current,ae(Jl),ae(Fh)}var da=0,ze=null,pt=null,Wt=null,$h=!1,Ql=!1,Ls=!1,Hh=0,rf=0,Xl=null,SB=0;function Ht(){throw Error(r(321))}function sv(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!dr(a[d],l[d]))return!1;return!0}function lv(a,l,d,g,T,E){return da=E,ze=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ne.H=a===null||a.memoizedState===null?hC:pC,Ls=!1,E=d(g,T),Ls=!1,Ql&&(E=Nb(l,d,g,T)),Mb(a),E}function Mb(a){ne.H=Wh;var l=pt!==null&&pt.next!==null;if(da=0,Wt=pt=ze=null,$h=!1,rf=0,Xl=null,l)throw Error(r(300));a===null||gn||(a=a.dependencies,a!==null&&Lh(a)&&(gn=!0))}function Nb(a,l,d,g){ze=a;var T=0;do{if(Ql&&(Xl=null),rf=0,Ql=!1,25<=T)throw Error(r(301));if(T+=1,Wt=pt=null,a.updateQueue!=null){var E=a.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}ne.H=RB,E=l(d,g)}while(Ql);return E}function wB(){var a=ne.H,l=a.useState()[0];return l=typeof l.then=="function"?of(l):l,a=a.useState()[0],(pt!==null?pt.memoizedState:null)!==a&&(ze.flags|=1024),l}function uv(){var a=Hh!==0;return Hh=0,a}function cv(a,l,d){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~d}function fv(a){if($h){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}$h=!1}da=0,Wt=pt=ze=null,Ql=!1,rf=Hh=0,Xl=null}function er(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?ze.memoizedState=Wt=a:Wt=Wt.next=a,Wt}function Jt(){if(pt===null){var a=ze.alternate;a=a!==null?a.memoizedState:null}else a=pt.next;var l=Wt===null?ze.memoizedState:Wt.next;if(l!==null)Wt=l,pt=a;else{if(a===null)throw ze.alternate===null?Error(r(467)):Error(r(310));pt=a,a={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Wt===null?ze.memoizedState=Wt=a:Wt=Wt.next=a}return Wt}function dv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function of(a){var l=rf;return rf+=1,Xl===null&&(Xl=[]),a=bb(Xl,a,l),l=ze,(Wt===null?l.memoizedState:Wt.next)===null&&(l=l.alternate,ne.H=l===null||l.memoizedState===null?hC:pC),a}function zh(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return of(a);if(a.$$typeof===M)return Vn(a)}throw Error(r(438,String(a)))}function hv(a){var l=null,d=ze.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var g=ze.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(T){return T.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=dv(),ze.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(a),g=0;g<a;g++)d[g]=$;return l.index++,d}function yo(a,l){return typeof l=="function"?l(a):l}function Gh(a){var l=Jt();return pv(l,pt,a)}function pv(a,l,d){var g=a.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=d;var T=a.baseQueue,E=g.pending;if(E!==null){if(T!==null){var R=T.next;T.next=E.next,E.next=R}l.baseQueue=T=E,g.pending=null}if(E=a.baseState,T===null)a.memoizedState=E;else{l=T.next;var L=R=null,K=null,X=l,se=!1;do{var fe=X.lane&-536870913;if(fe!==X.lane?(Ze&fe)===fe:(da&fe)===fe){var ee=X.revertLane;if(ee===0)K!==null&&(K=K.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),fe===Yl&&(se=!0);else if((da&ee)===ee){X=X.next,ee===Yl&&(se=!0);continue}else fe={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},K===null?(L=K=fe,R=E):K=K.next=fe,ze.lanes|=ee,_a|=ee;fe=X.action,Ls&&d(E,fe),E=X.hasEagerState?X.eagerState:d(E,fe)}else ee={lane:fe,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},K===null?(L=K=ee,R=E):K=K.next=ee,ze.lanes|=fe,_a|=fe;X=X.next}while(X!==null&&X!==l);if(K===null?R=E:K.next=L,!dr(E,a.memoizedState)&&(gn=!0,se&&(d=Wl,d!==null)))throw d;a.memoizedState=E,a.baseState=R,a.baseQueue=K,g.lastRenderedState=E}return T===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function mv(a){var l=Jt(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var g=d.dispatch,T=d.pending,E=l.memoizedState;if(T!==null){d.pending=null;var R=T=T.next;do E=a(E,R.action),R=R.next;while(R!==T);dr(E,l.memoizedState)||(gn=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),d.lastRenderedState=E}return[E,g]}function Db(a,l,d){var g=ze,T=Jt(),E=it;if(E){if(d===void 0)throw Error(r(407));d=d()}else d=l();var R=!dr((pt||T).memoizedState,d);R&&(T.memoizedState=d,gn=!0),T=T.queue;var L=Lb.bind(null,g,T,a);if(af(2048,8,L,[a]),T.getSnapshot!==l||R||Wt!==null&&Wt.memoizedState.tag&1){if(g.flags|=2048,Zl(9,Kh(),kb.bind(null,g,T,d,l),null),Et===null)throw Error(r(349));E||(da&124)!==0||Ob(g,l,d)}return d}function Ob(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=ze.updateQueue,l===null?(l=dv(),ze.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function kb(a,l,d,g){l.value=d,l.getSnapshot=g,Vb(l)&&Ub(a)}function Lb(a,l,d){return d(function(){Vb(l)&&Ub(a)})}function Vb(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!dr(a,d)}catch{return!0}}function Ub(a){var l=zl(a,2);l!==null&&vr(l,a,2)}function gv(a){var l=er();if(typeof a=="function"){var d=a;if(a=d(),Ls){cr(!0);try{d()}finally{cr(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yo,lastRenderedState:a},l}function Bb(a,l,d,g){return a.baseState=d,pv(a,pt,typeof g=="function"?g:yo)}function AB(a,l,d,g,T){if(Yh(a))throw Error(r(485));if(a=l.action,a!==null){var E={payload:T,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){E.listeners.push(R)}};ne.T!==null?d(!0):E.isTransition=!1,g(E),d=l.pending,d===null?(E.next=l.pending=E,qb(l,E)):(E.next=d.next,l.pending=d.next=E)}}function qb(a,l){var d=l.action,g=l.payload,T=a.state;if(l.isTransition){var E=ne.T,R={};ne.T=R;try{var L=d(T,g),K=ne.S;K!==null&&K(R,L),Fb(a,l,L)}catch(X){yv(a,l,X)}finally{ne.T=E}}else try{E=d(T,g),Fb(a,l,E)}catch(X){yv(a,l,X)}}function Fb(a,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){$b(a,l,g)},function(g){return yv(a,l,g)}):$b(a,l,d)}function $b(a,l,d){l.status="fulfilled",l.value=d,Hb(l),a.state=d,l=a.pending,l!==null&&(d=l.next,d===l?a.pending=null:(d=d.next,l.next=d,qb(a,d)))}function yv(a,l,d){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=d,Hb(l),l=l.next;while(l!==g)}a.action=null}function Hb(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function zb(a,l){return l}function Gb(a,l){if(it){var d=Et.formState;if(d!==null){e:{var g=ze;if(it){if(Vt){t:{for(var T=Vt,E=Ni;T.nodeType!==8;){if(!E){T=null;break t}if(T=si(T.nextSibling),T===null){T=null;break t}}E=T.data,T=E==="F!"||E==="F"?T:null}if(T){Vt=si(T.nextSibling),g=T.data==="F!";break e}}Ns(g)}g=!1}g&&(l=d[0])}}return d=er(),d.memoizedState=d.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zb,lastRenderedState:l},d.queue=g,d=cC.bind(null,ze,g),g.dispatch=d,g=gv(!1),E=Sv.bind(null,ze,!1,g.queue),g=er(),T={state:l,dispatch:null,action:a,pending:null},g.queue=T,d=AB.bind(null,ze,T,E,d),T.dispatch=d,g.memoizedState=a,[l,d,!1]}function Kb(a){var l=Jt();return jb(l,pt,a)}function jb(a,l,d){if(l=pv(a,l,zb)[0],a=Gh(yo)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=of(l)}catch(R){throw R===Xc?Bh:R}else g=l;l=Jt();var T=l.queue,E=T.dispatch;return d!==l.memoizedState&&(ze.flags|=2048,Zl(9,Kh(),bB.bind(null,T,d),null)),[g,E,a]}function bB(a,l){a.action=l}function Yb(a){var l=Jt(),d=pt;if(d!==null)return jb(l,d,a);Jt(),l=l.memoizedState,d=Jt();var g=d.queue.dispatch;return d.memoizedState=a,[l,g,!1]}function Zl(a,l,d,g){return a={tag:a,create:d,deps:g,inst:l,next:null},l=ze.updateQueue,l===null&&(l=dv(),ze.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,l.lastEffect=a),a}function Kh(){return{destroy:void 0,resource:void 0}}function Wb(){return Jt().memoizedState}function jh(a,l,d,g){var T=er();g=g===void 0?null:g,ze.flags|=a,T.memoizedState=Zl(1|l,Kh(),d,g)}function af(a,l,d,g){var T=Jt();g=g===void 0?null:g;var E=T.memoizedState.inst;pt!==null&&g!==null&&sv(g,pt.memoizedState.deps)?T.memoizedState=Zl(l,E,d,g):(ze.flags|=a,T.memoizedState=Zl(1|l,E,d,g))}function Jb(a,l){jh(8390656,8,a,l)}function Qb(a,l){af(2048,8,a,l)}function Xb(a,l){return af(4,2,a,l)}function Zb(a,l){return af(4,4,a,l)}function eC(a,l){if(typeof l=="function"){a=a();var d=l(a);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function tC(a,l,d){d=d!=null?d.concat([a]):null,af(4,4,eC.bind(null,l,a),d)}function vv(){}function nC(a,l){var d=Jt();l=l===void 0?null:l;var g=d.memoizedState;return l!==null&&sv(l,g[1])?g[0]:(d.memoizedState=[a,l],a)}function rC(a,l){var d=Jt();l=l===void 0?null:l;var g=d.memoizedState;if(l!==null&&sv(l,g[1]))return g[0];if(g=a(),Ls){cr(!0);try{a()}finally{cr(!1)}}return d.memoizedState=[g,l],g}function _v(a,l,d){return d===void 0||(da&1073741824)!==0?a.memoizedState=l:(a.memoizedState=d,a=ax(),ze.lanes|=a,_a|=a,d)}function iC(a,l,d,g){return dr(d,l)?d:Jl.current!==null?(a=_v(a,d,g),dr(a,l)||(gn=!0),a):(da&42)===0?(gn=!0,a.memoizedState=d):(a=ax(),ze.lanes|=a,_a|=a,l)}function oC(a,l,d,g,T){var E=pe.p;pe.p=E!==0&&8>E?E:8;var R=ne.T,L={};ne.T=L,Sv(a,!1,l,d);try{var K=T(),X=ne.S;if(X!==null&&X(L,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var se=EB(K,g);sf(a,l,se,yr(a))}else sf(a,l,g,yr(a))}catch(fe){sf(a,l,{then:function(){},status:"rejected",reason:fe},yr())}finally{pe.p=E,ne.T=R}}function CB(){}function Tv(a,l,d,g){if(a.tag!==5)throw Error(r(476));var T=aC(a).queue;oC(a,T,l,_e,d===null?CB:function(){return sC(a),d(g)})}function aC(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yo,lastRenderedState:_e},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yo,lastRenderedState:d},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function sC(a){var l=aC(a).next.queue;sf(a,l,{},yr())}function Ev(){return Vn(bf)}function lC(){return Jt().memoizedState}function uC(){return Jt().memoizedState}function xB(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var d=yr();a=ca(d);var g=fa(l,a,d);g!==null&&(vr(g,l,d),ef(g,l,d)),l={cache:Qy()},a.payload=l;return}l=l.return}}function IB(a,l,d){var g=yr();d={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},Yh(a)?fC(l,d):(d=Fy(a,l,d,g),d!==null&&(vr(d,a,g),dC(d,l,g)))}function cC(a,l,d){var g=yr();sf(a,l,d,g)}function sf(a,l,d,g){var T={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(Yh(a))fC(l,T);else{var E=a.alternate;if(a.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var R=l.lastRenderedState,L=E(R,d);if(T.hasEagerState=!0,T.eagerState=L,dr(L,R))return Mh(a,l,T,0),Et===null&&Ph(),!1}catch{}finally{}if(d=Fy(a,l,T,g),d!==null)return vr(d,a,g),dC(d,l,g),!0}return!1}function Sv(a,l,d,g){if(g={lane:2,revertLane:e0(),action:g,hasEagerState:!1,eagerState:null,next:null},Yh(a)){if(l)throw Error(r(479))}else l=Fy(a,d,g,2),l!==null&&vr(l,a,2)}function Yh(a){var l=a.alternate;return a===ze||l!==null&&l===ze}function fC(a,l){Ql=$h=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function dC(a,l,d){if((d&4194048)!==0){var g=l.lanes;g&=a.pendingLanes,d|=g,l.lanes=d,Ic(a,d)}}var Wh={readContext:Vn,use:zh,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useLayoutEffect:Ht,useInsertionEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useSyncExternalStore:Ht,useId:Ht,useHostTransitionStatus:Ht,useFormState:Ht,useActionState:Ht,useOptimistic:Ht,useMemoCache:Ht,useCacheRefresh:Ht},hC={readContext:Vn,use:zh,useCallback:function(a,l){return er().memoizedState=[a,l===void 0?null:l],a},useContext:Vn,useEffect:Jb,useImperativeHandle:function(a,l,d){d=d!=null?d.concat([a]):null,jh(4194308,4,eC.bind(null,l,a),d)},useLayoutEffect:function(a,l){return jh(4194308,4,a,l)},useInsertionEffect:function(a,l){jh(4,2,a,l)},useMemo:function(a,l){var d=er();l=l===void 0?null:l;var g=a();if(Ls){cr(!0);try{a()}finally{cr(!1)}}return d.memoizedState=[g,l],g},useReducer:function(a,l,d){var g=er();if(d!==void 0){var T=d(l);if(Ls){cr(!0);try{d(l)}finally{cr(!1)}}}else T=l;return g.memoizedState=g.baseState=T,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:T},g.queue=a,a=a.dispatch=IB.bind(null,ze,a),[g.memoizedState,a]},useRef:function(a){var l=er();return a={current:a},l.memoizedState=a},useState:function(a){a=gv(a);var l=a.queue,d=cC.bind(null,ze,l);return l.dispatch=d,[a.memoizedState,d]},useDebugValue:vv,useDeferredValue:function(a,l){var d=er();return _v(d,a,l)},useTransition:function(){var a=gv(!1);return a=oC.bind(null,ze,a.queue,!0,!1),er().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,d){var g=ze,T=er();if(it){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Et===null)throw Error(r(349));(Ze&124)!==0||Ob(g,l,d)}T.memoizedState=d;var E={value:d,getSnapshot:l};return T.queue=E,Jb(Lb.bind(null,g,E,a),[a]),g.flags|=2048,Zl(9,Kh(),kb.bind(null,g,E,d,l),null),d},useId:function(){var a=er(),l=Et.identifierPrefix;if(it){var d=po,g=ho;d=(g&~(1<<32-Ln(g)-1)).toString(32)+d,l="«"+l+"R"+d,d=Hh++,0<d&&(l+="H"+d.toString(32)),l+="»"}else d=SB++,l="«"+l+"r"+d.toString(32)+"»";return a.memoizedState=l},useHostTransitionStatus:Ev,useFormState:Gb,useActionState:Gb,useOptimistic:function(a){var l=er();l.memoizedState=l.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=Sv.bind(null,ze,!0,d),d.dispatch=l,[a,l]},useMemoCache:hv,useCacheRefresh:function(){return er().memoizedState=xB.bind(null,ze)}},pC={readContext:Vn,use:zh,useCallback:nC,useContext:Vn,useEffect:Qb,useImperativeHandle:tC,useInsertionEffect:Xb,useLayoutEffect:Zb,useMemo:rC,useReducer:Gh,useRef:Wb,useState:function(){return Gh(yo)},useDebugValue:vv,useDeferredValue:function(a,l){var d=Jt();return iC(d,pt.memoizedState,a,l)},useTransition:function(){var a=Gh(yo)[0],l=Jt().memoizedState;return[typeof a=="boolean"?a:of(a),l]},useSyncExternalStore:Db,useId:lC,useHostTransitionStatus:Ev,useFormState:Kb,useActionState:Kb,useOptimistic:function(a,l){var d=Jt();return Bb(d,pt,a,l)},useMemoCache:hv,useCacheRefresh:uC},RB={readContext:Vn,use:zh,useCallback:nC,useContext:Vn,useEffect:Qb,useImperativeHandle:tC,useInsertionEffect:Xb,useLayoutEffect:Zb,useMemo:rC,useReducer:mv,useRef:Wb,useState:function(){return mv(yo)},useDebugValue:vv,useDeferredValue:function(a,l){var d=Jt();return pt===null?_v(d,a,l):iC(d,pt.memoizedState,a,l)},useTransition:function(){var a=mv(yo)[0],l=Jt().memoizedState;return[typeof a=="boolean"?a:of(a),l]},useSyncExternalStore:Db,useId:lC,useHostTransitionStatus:Ev,useFormState:Yb,useActionState:Yb,useOptimistic:function(a,l){var d=Jt();return pt!==null?Bb(d,pt,a,l):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:hv,useCacheRefresh:uC},eu=null,lf=0;function Jh(a){var l=lf;return lf+=1,eu===null&&(eu=[]),bb(eu,a,l)}function uf(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Qh(a,l){throw l.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function mC(a){var l=a._init;return l(a._payload)}function gC(a){function l(W,Y){if(a){var Q=W.deletions;Q===null?(W.deletions=[Y],W.flags|=16):Q.push(Y)}}function d(W,Y){if(!a)return null;for(;Y!==null;)l(W,Y),Y=Y.sibling;return null}function g(W){for(var Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function T(W,Y){return W=fo(W,Y),W.index=0,W.sibling=null,W}function E(W,Y,Q){return W.index=Q,a?(Q=W.alternate,Q!==null?(Q=Q.index,Q<Y?(W.flags|=67108866,Y):Q):(W.flags|=67108866,Y)):(W.flags|=1048576,Y)}function R(W){return a&&W.alternate===null&&(W.flags|=67108866),W}function L(W,Y,Q,ue){return Y===null||Y.tag!==6?(Y=Hy(Q,W.mode,ue),Y.return=W,Y):(Y=T(Y,Q),Y.return=W,Y)}function K(W,Y,Q,ue){var Se=Q.type;return Se===w?se(W,Y,Q.props.children,ue,Q.key):Y!==null&&(Y.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===k&&mC(Se)===Y.type)?(Y=T(Y,Q.props),uf(Y,Q),Y.return=W,Y):(Y=Dh(Q.type,Q.key,Q.props,null,W.mode,ue),uf(Y,Q),Y.return=W,Y)}function X(W,Y,Q,ue){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==Q.containerInfo||Y.stateNode.implementation!==Q.implementation?(Y=zy(Q,W.mode,ue),Y.return=W,Y):(Y=T(Y,Q.children||[]),Y.return=W,Y)}function se(W,Y,Q,ue,Se){return Y===null||Y.tag!==7?(Y=Is(Q,W.mode,ue,Se),Y.return=W,Y):(Y=T(Y,Q),Y.return=W,Y)}function fe(W,Y,Q){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Hy(""+Y,W.mode,Q),Y.return=W,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case _:return Q=Dh(Y.type,Y.key,Y.props,null,W.mode,Q),uf(Q,Y),Q.return=W,Q;case S:return Y=zy(Y,W.mode,Q),Y.return=W,Y;case k:var ue=Y._init;return Y=ue(Y._payload),fe(W,Y,Q)}if(be(Y)||z(Y))return Y=Is(Y,W.mode,Q,null),Y.return=W,Y;if(typeof Y.then=="function")return fe(W,Jh(Y),Q);if(Y.$$typeof===M)return fe(W,Vh(W,Y),Q);Qh(W,Y)}return null}function ee(W,Y,Q,ue){var Se=Y!==null?Y.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Se!==null?null:L(W,Y,""+Q,ue);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case _:return Q.key===Se?K(W,Y,Q,ue):null;case S:return Q.key===Se?X(W,Y,Q,ue):null;case k:return Se=Q._init,Q=Se(Q._payload),ee(W,Y,Q,ue)}if(be(Q)||z(Q))return Se!==null?null:se(W,Y,Q,ue,null);if(typeof Q.then=="function")return ee(W,Y,Jh(Q),ue);if(Q.$$typeof===M)return ee(W,Y,Vh(W,Q),ue);Qh(W,Q)}return null}function te(W,Y,Q,ue,Se){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return W=W.get(Q)||null,L(Y,W,""+ue,Se);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case _:return W=W.get(ue.key===null?Q:ue.key)||null,K(Y,W,ue,Se);case S:return W=W.get(ue.key===null?Q:ue.key)||null,X(Y,W,ue,Se);case k:var Ge=ue._init;return ue=Ge(ue._payload),te(W,Y,Q,ue,Se)}if(be(ue)||z(ue))return W=W.get(Q)||null,se(Y,W,ue,Se,null);if(typeof ue.then=="function")return te(W,Y,Q,Jh(ue),Se);if(ue.$$typeof===M)return te(W,Y,Q,Vh(Y,ue),Se);Qh(Y,ue)}return null}function Be(W,Y,Q,ue){for(var Se=null,Ge=null,Ce=Y,Oe=Y=0,vn=null;Ce!==null&&Oe<Q.length;Oe++){Ce.index>Oe?(vn=Ce,Ce=null):vn=Ce.sibling;var tt=ee(W,Ce,Q[Oe],ue);if(tt===null){Ce===null&&(Ce=vn);break}a&&Ce&&tt.alternate===null&&l(W,Ce),Y=E(tt,Y,Oe),Ge===null?Se=tt:Ge.sibling=tt,Ge=tt,Ce=vn}if(Oe===Q.length)return d(W,Ce),it&&Ps(W,Oe),Se;if(Ce===null){for(;Oe<Q.length;Oe++)Ce=fe(W,Q[Oe],ue),Ce!==null&&(Y=E(Ce,Y,Oe),Ge===null?Se=Ce:Ge.sibling=Ce,Ge=Ce);return it&&Ps(W,Oe),Se}for(Ce=g(Ce);Oe<Q.length;Oe++)vn=te(Ce,W,Oe,Q[Oe],ue),vn!==null&&(a&&vn.alternate!==null&&Ce.delete(vn.key===null?Oe:vn.key),Y=E(vn,Y,Oe),Ge===null?Se=vn:Ge.sibling=vn,Ge=vn);return a&&Ce.forEach(function(Ia){return l(W,Ia)}),it&&Ps(W,Oe),Se}function De(W,Y,Q,ue){if(Q==null)throw Error(r(151));for(var Se=null,Ge=null,Ce=Y,Oe=Y=0,vn=null,tt=Q.next();Ce!==null&&!tt.done;Oe++,tt=Q.next()){Ce.index>Oe?(vn=Ce,Ce=null):vn=Ce.sibling;var Ia=ee(W,Ce,tt.value,ue);if(Ia===null){Ce===null&&(Ce=vn);break}a&&Ce&&Ia.alternate===null&&l(W,Ce),Y=E(Ia,Y,Oe),Ge===null?Se=Ia:Ge.sibling=Ia,Ge=Ia,Ce=vn}if(tt.done)return d(W,Ce),it&&Ps(W,Oe),Se;if(Ce===null){for(;!tt.done;Oe++,tt=Q.next())tt=fe(W,tt.value,ue),tt!==null&&(Y=E(tt,Y,Oe),Ge===null?Se=tt:Ge.sibling=tt,Ge=tt);return it&&Ps(W,Oe),Se}for(Ce=g(Ce);!tt.done;Oe++,tt=Q.next())tt=te(Ce,W,Oe,tt.value,ue),tt!==null&&(a&&tt.alternate!==null&&Ce.delete(tt.key===null?Oe:tt.key),Y=E(tt,Y,Oe),Ge===null?Se=tt:Ge.sibling=tt,Ge=tt);return a&&Ce.forEach(function(P6){return l(W,P6)}),it&&Ps(W,Oe),Se}function gt(W,Y,Q,ue){if(typeof Q=="object"&&Q!==null&&Q.type===w&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case _:e:{for(var Se=Q.key;Y!==null;){if(Y.key===Se){if(Se=Q.type,Se===w){if(Y.tag===7){d(W,Y.sibling),ue=T(Y,Q.props.children),ue.return=W,W=ue;break e}}else if(Y.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===k&&mC(Se)===Y.type){d(W,Y.sibling),ue=T(Y,Q.props),uf(ue,Q),ue.return=W,W=ue;break e}d(W,Y);break}else l(W,Y);Y=Y.sibling}Q.type===w?(ue=Is(Q.props.children,W.mode,ue,Q.key),ue.return=W,W=ue):(ue=Dh(Q.type,Q.key,Q.props,null,W.mode,ue),uf(ue,Q),ue.return=W,W=ue)}return R(W);case S:e:{for(Se=Q.key;Y!==null;){if(Y.key===Se)if(Y.tag===4&&Y.stateNode.containerInfo===Q.containerInfo&&Y.stateNode.implementation===Q.implementation){d(W,Y.sibling),ue=T(Y,Q.children||[]),ue.return=W,W=ue;break e}else{d(W,Y);break}else l(W,Y);Y=Y.sibling}ue=zy(Q,W.mode,ue),ue.return=W,W=ue}return R(W);case k:return Se=Q._init,Q=Se(Q._payload),gt(W,Y,Q,ue)}if(be(Q))return Be(W,Y,Q,ue);if(z(Q)){if(Se=z(Q),typeof Se!="function")throw Error(r(150));return Q=Se.call(Q),De(W,Y,Q,ue)}if(typeof Q.then=="function")return gt(W,Y,Jh(Q),ue);if(Q.$$typeof===M)return gt(W,Y,Vh(W,Q),ue);Qh(W,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,Y!==null&&Y.tag===6?(d(W,Y.sibling),ue=T(Y,Q),ue.return=W,W=ue):(d(W,Y),ue=Hy(Q,W.mode,ue),ue.return=W,W=ue),R(W)):d(W,Y)}return function(W,Y,Q,ue){try{lf=0;var Se=gt(W,Y,Q,ue);return eu=null,Se}catch(Ce){if(Ce===Xc||Ce===Bh)throw Ce;var Ge=hr(29,Ce,null,W.mode);return Ge.lanes=ue,Ge.return=W,Ge}finally{}}}var tu=gC(!0),yC=gC(!1),Fr=ce(null),Di=null;function ha(a){var l=a.alternate;me(sn,sn.current&1),me(Fr,a),Di===null&&(l===null||Jl.current!==null||l.memoizedState!==null)&&(Di=a)}function vC(a){if(a.tag===22){if(me(sn,sn.current),me(Fr,a),Di===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(Di=a)}}else pa()}function pa(){me(sn,sn.current),me(Fr,Fr.current)}function vo(a){ae(Fr),Di===a&&(Di=null),ae(sn)}var sn=ce(0);function Xh(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d0(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function wv(a,l,d,g){l=a.memoizedState,d=d(g,l),d=d==null?l:h({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Av={enqueueSetState:function(a,l,d){a=a._reactInternals;var g=yr(),T=ca(g);T.payload=l,d!=null&&(T.callback=d),l=fa(a,T,g),l!==null&&(vr(l,a,g),ef(l,a,g))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var g=yr(),T=ca(g);T.tag=1,T.payload=l,d!=null&&(T.callback=d),l=fa(a,T,g),l!==null&&(vr(l,a,g),ef(l,a,g))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=yr(),g=ca(d);g.tag=2,l!=null&&(g.callback=l),l=fa(a,g,d),l!==null&&(vr(l,a,d),ef(l,a,d))}};function _C(a,l,d,g,T,E,R){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,E,R):l.prototype&&l.prototype.isPureReactComponent?!zc(d,g)||!zc(T,E):!0}function TC(a,l,d,g){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==a&&Av.enqueueReplaceState(l,l.state,null)}function Vs(a,l){var d=l;if("ref"in l){d={};for(var g in l)g!=="ref"&&(d[g]=l[g])}if(a=a.defaultProps){d===l&&(d=h({},d));for(var T in a)d[T]===void 0&&(d[T]=a[T])}return d}var Zh=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function EC(a){Zh(a)}function SC(a){console.error(a)}function wC(a){Zh(a)}function ep(a,l){try{var d=a.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function AC(a,l,d){try{var g=a.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function bv(a,l,d){return d=ca(d),d.tag=3,d.payload={element:null},d.callback=function(){ep(a,l)},d}function bC(a){return a=ca(a),a.tag=3,a}function CC(a,l,d,g){var T=d.type.getDerivedStateFromError;if(typeof T=="function"){var E=g.value;a.payload=function(){return T(E)},a.callback=function(){AC(l,d,g)}}var R=d.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(a.callback=function(){AC(l,d,g),typeof T!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var L=g.stack;this.componentDidCatch(g.value,{componentStack:L!==null?L:""})})}function PB(a,l,d,g,T){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=d.alternate,l!==null&&Wc(l,d,T,!0),d=Fr.current,d!==null){switch(d.tag){case 13:return Di===null?Wv():d.alternate===null&&Ut===0&&(Ut=3),d.flags&=-257,d.flags|=65536,d.lanes=T,g===ev?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([g]):l.add(g),Qv(a,g,T)),!1;case 22:return d.flags|=65536,g===ev?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([g]):d.add(g)),Qv(a,g,T)),!1}throw Error(r(435,d.tag))}return Qv(a,g,T),Wv(),!1}if(it)return l=Fr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=T,g!==jy&&(a=Error(r(422),{cause:g}),Yc(Vr(a,d)))):(g!==jy&&(l=Error(r(423),{cause:g}),Yc(Vr(l,d))),a=a.current.alternate,a.flags|=65536,T&=-T,a.lanes|=T,g=Vr(g,d),T=bv(a.stateNode,g,T),rv(a,T),Ut!==4&&(Ut=2)),!1;var E=Error(r(520),{cause:g});if(E=Vr(E,d),gf===null?gf=[E]:gf.push(E),Ut!==4&&(Ut=2),l===null)return!0;g=Vr(g,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,a=T&-T,d.lanes|=a,a=bv(d.stateNode,g,a),rv(d,a),!1;case 1:if(l=d.type,E=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ta===null||!Ta.has(E))))return d.flags|=65536,T&=-T,d.lanes|=T,T=bC(T),CC(T,a,d,g),rv(d,T),!1}d=d.return}while(d!==null);return!1}var xC=Error(r(461)),gn=!1;function xn(a,l,d,g){l.child=a===null?yC(l,null,d,g):tu(l,a.child,d,g)}function IC(a,l,d,g,T){d=d.render;var E=l.ref;if("ref"in g){var R={};for(var L in g)L!=="ref"&&(R[L]=g[L])}else R=g;return Os(l),g=lv(a,l,d,R,E,T),L=uv(),a!==null&&!gn?(cv(a,l,T),_o(a,l,T)):(it&&L&&Gy(l),l.flags|=1,xn(a,l,g,T),l.child)}function RC(a,l,d,g,T){if(a===null){var E=d.type;return typeof E=="function"&&!$y(E)&&E.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=E,PC(a,l,E,g,T)):(a=Dh(d.type,null,g,l,l.mode,T),a.ref=l.ref,a.return=l,l.child=a)}if(E=a.child,!Dv(a,T)){var R=E.memoizedProps;if(d=d.compare,d=d!==null?d:zc,d(R,g)&&a.ref===l.ref)return _o(a,l,T)}return l.flags|=1,a=fo(E,g),a.ref=l.ref,a.return=l,l.child=a}function PC(a,l,d,g,T){if(a!==null){var E=a.memoizedProps;if(zc(E,g)&&a.ref===l.ref)if(gn=!1,l.pendingProps=g=E,Dv(a,T))(a.flags&131072)!==0&&(gn=!0);else return l.lanes=a.lanes,_o(a,l,T)}return Cv(a,l,d,g,T)}function MC(a,l,d){var g=l.pendingProps,T=g.children,E=a!==null?a.memoizedState:null;if(g.mode==="hidden"){if((l.flags&128)!==0){if(g=E!==null?E.baseLanes|d:d,a!==null){for(T=l.child=a.child,E=0;T!==null;)E=E|T.lanes|T.childLanes,T=T.sibling;l.childLanes=E&~g}else l.childLanes=0,l.child=null;return NC(a,l,g,d)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Uh(l,E!==null?E.cachePool:null),E!==null?Pb(l,E):ov(),vC(l);else return l.lanes=l.childLanes=536870912,NC(a,l,E!==null?E.baseLanes|d:d,d)}else E!==null?(Uh(l,E.cachePool),Pb(l,E),pa(),l.memoizedState=null):(a!==null&&Uh(l,null),ov(),pa());return xn(a,l,T,d),l.child}function NC(a,l,d,g){var T=Zy();return T=T===null?null:{parent:an._currentValue,pool:T},l.memoizedState={baseLanes:d,cachePool:T},a!==null&&Uh(l,null),ov(),vC(l),a!==null&&Wc(a,l,g,!0),null}function tp(a,l){var d=l.ref;if(d===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(a===null||a.ref!==d)&&(l.flags|=4194816)}}function Cv(a,l,d,g,T){return Os(l),d=lv(a,l,d,g,void 0,T),g=uv(),a!==null&&!gn?(cv(a,l,T),_o(a,l,T)):(it&&g&&Gy(l),l.flags|=1,xn(a,l,d,T),l.child)}function DC(a,l,d,g,T,E){return Os(l),l.updateQueue=null,d=Nb(l,g,d,T),Mb(a),g=uv(),a!==null&&!gn?(cv(a,l,E),_o(a,l,E)):(it&&g&&Gy(l),l.flags|=1,xn(a,l,d,E),l.child)}function OC(a,l,d,g,T){if(Os(l),l.stateNode===null){var E=Gl,R=d.contextType;typeof R=="object"&&R!==null&&(E=Vn(R)),E=new d(g,E),l.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Av,l.stateNode=E,E._reactInternals=l,E=l.stateNode,E.props=g,E.state=l.memoizedState,E.refs={},tv(l),R=d.contextType,E.context=typeof R=="object"&&R!==null?Vn(R):Gl,E.state=l.memoizedState,R=d.getDerivedStateFromProps,typeof R=="function"&&(wv(l,d,R,g),E.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(R=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),R!==E.state&&Av.enqueueReplaceState(E,E.state,null),nf(l,g,E,T),tf(),E.state=l.memoizedState),typeof E.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(a===null){E=l.stateNode;var L=l.memoizedProps,K=Vs(d,L);E.props=K;var X=E.context,se=d.contextType;R=Gl,typeof se=="object"&&se!==null&&(R=Vn(se));var fe=d.getDerivedStateFromProps;se=typeof fe=="function"||typeof E.getSnapshotBeforeUpdate=="function",L=l.pendingProps!==L,se||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(L||X!==R)&&TC(l,E,g,R),ua=!1;var ee=l.memoizedState;E.state=ee,nf(l,g,E,T),tf(),X=l.memoizedState,L||ee!==X||ua?(typeof fe=="function"&&(wv(l,d,fe,g),X=l.memoizedState),(K=ua||_C(l,d,K,g,ee,X,R))?(se||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(l.flags|=4194308)):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=X),E.props=g,E.state=X,E.context=R,g=K):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{E=l.stateNode,nv(a,l),R=l.memoizedProps,se=Vs(d,R),E.props=se,fe=l.pendingProps,ee=E.context,X=d.contextType,K=Gl,typeof X=="object"&&X!==null&&(K=Vn(X)),L=d.getDerivedStateFromProps,(X=typeof L=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==fe||ee!==K)&&TC(l,E,g,K),ua=!1,ee=l.memoizedState,E.state=ee,nf(l,g,E,T),tf();var te=l.memoizedState;R!==fe||ee!==te||ua||a!==null&&a.dependencies!==null&&Lh(a.dependencies)?(typeof L=="function"&&(wv(l,d,L,g),te=l.memoizedState),(se=ua||_C(l,d,se,g,ee,te,K)||a!==null&&a.dependencies!==null&&Lh(a.dependencies))?(X||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(g,te,K),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(g,te,K)),typeof E.componentDidUpdate=="function"&&(l.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof E.componentDidUpdate!="function"||R===a.memoizedProps&&ee===a.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&ee===a.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=te),E.props=g,E.state=te,E.context=K,g=se):(typeof E.componentDidUpdate!="function"||R===a.memoizedProps&&ee===a.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&ee===a.memoizedState||(l.flags|=1024),g=!1)}return E=g,tp(a,l),g=(l.flags&128)!==0,E||g?(E=l.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:E.render(),l.flags|=1,a!==null&&g?(l.child=tu(l,a.child,null,T),l.child=tu(l,null,d,T)):xn(a,l,d,T),l.memoizedState=E.state,a=l.child):a=_o(a,l,T),a}function kC(a,l,d,g){return jc(),l.flags|=256,xn(a,l,d,g),l.child}var xv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Iv(a){return{baseLanes:a,cachePool:Sb()}}function Rv(a,l,d){return a=a!==null?a.childLanes&~d:0,l&&(a|=$r),a}function LC(a,l,d){var g=l.pendingProps,T=!1,E=(l.flags&128)!==0,R;if((R=E)||(R=a!==null&&a.memoizedState===null?!1:(sn.current&2)!==0),R&&(T=!0,l.flags&=-129),R=(l.flags&32)!==0,l.flags&=-33,a===null){if(it){if(T?ha(l):pa(),it){var L=Vt,K;if(K=L){e:{for(K=L,L=Ni;K.nodeType!==8;){if(!L){L=null;break e}if(K=si(K.nextSibling),K===null){L=null;break e}}L=K}L!==null?(l.memoizedState={dehydrated:L,treeContext:Rs!==null?{id:ho,overflow:po}:null,retryLane:536870912,hydrationErrors:null},K=hr(18,null,null,0),K.stateNode=L,K.return=l,l.child=K,Qn=l,Vt=null,K=!0):K=!1}K||Ns(l)}if(L=l.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return d0(L)?l.lanes=32:l.lanes=536870912,null;vo(l)}return L=g.children,g=g.fallback,T?(pa(),T=l.mode,L=np({mode:"hidden",children:L},T),g=Is(g,T,d,null),L.return=l,g.return=l,L.sibling=g,l.child=L,T=l.child,T.memoizedState=Iv(d),T.childLanes=Rv(a,R,d),l.memoizedState=xv,g):(ha(l),Pv(l,L))}if(K=a.memoizedState,K!==null&&(L=K.dehydrated,L!==null)){if(E)l.flags&256?(ha(l),l.flags&=-257,l=Mv(a,l,d)):l.memoizedState!==null?(pa(),l.child=a.child,l.flags|=128,l=null):(pa(),T=g.fallback,L=l.mode,g=np({mode:"visible",children:g.children},L),T=Is(T,L,d,null),T.flags|=2,g.return=l,T.return=l,g.sibling=T,l.child=g,tu(l,a.child,null,d),g=l.child,g.memoizedState=Iv(d),g.childLanes=Rv(a,R,d),l.memoizedState=xv,l=T);else if(ha(l),d0(L)){if(R=L.nextSibling&&L.nextSibling.dataset,R)var X=R.dgst;R=X,g=Error(r(419)),g.stack="",g.digest=R,Yc({value:g,source:null,stack:null}),l=Mv(a,l,d)}else if(gn||Wc(a,l,d,!1),R=(d&a.childLanes)!==0,gn||R){if(R=Et,R!==null&&(g=d&-d,g=(g&42)!==0?1:ta(g),g=(g&(R.suspendedLanes|d))!==0?0:g,g!==0&&g!==K.retryLane))throw K.retryLane=g,zl(a,g),vr(R,a,g),xC;L.data==="$?"||Wv(),l=Mv(a,l,d)}else L.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=K.treeContext,Vt=si(L.nextSibling),Qn=l,it=!0,Ms=null,Ni=!1,a!==null&&(Br[qr++]=ho,Br[qr++]=po,Br[qr++]=Rs,ho=a.id,po=a.overflow,Rs=l),l=Pv(l,g.children),l.flags|=4096);return l}return T?(pa(),T=g.fallback,L=l.mode,K=a.child,X=K.sibling,g=fo(K,{mode:"hidden",children:g.children}),g.subtreeFlags=K.subtreeFlags&65011712,X!==null?T=fo(X,T):(T=Is(T,L,d,null),T.flags|=2),T.return=l,g.return=l,g.sibling=T,l.child=g,g=T,T=l.child,L=a.child.memoizedState,L===null?L=Iv(d):(K=L.cachePool,K!==null?(X=an._currentValue,K=K.parent!==X?{parent:X,pool:X}:K):K=Sb(),L={baseLanes:L.baseLanes|d,cachePool:K}),T.memoizedState=L,T.childLanes=Rv(a,R,d),l.memoizedState=xv,g):(ha(l),d=a.child,a=d.sibling,d=fo(d,{mode:"visible",children:g.children}),d.return=l,d.sibling=null,a!==null&&(R=l.deletions,R===null?(l.deletions=[a],l.flags|=16):R.push(a)),l.child=d,l.memoizedState=null,d)}function Pv(a,l){return l=np({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function np(a,l){return a=hr(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Mv(a,l,d){return tu(l,a.child,null,d),a=Pv(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function VC(a,l,d){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l),Wy(a.return,l,d)}function Nv(a,l,d,g,T){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:T}:(E.isBackwards=l,E.rendering=null,E.renderingStartTime=0,E.last=g,E.tail=d,E.tailMode=T)}function UC(a,l,d){var g=l.pendingProps,T=g.revealOrder,E=g.tail;if(xn(a,l,g.children,d),g=sn.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&VC(a,d,l);else if(a.tag===19)VC(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}switch(me(sn,g),T){case"forwards":for(d=l.child,T=null;d!==null;)a=d.alternate,a!==null&&Xh(a)===null&&(T=d),d=d.sibling;d=T,d===null?(T=l.child,l.child=null):(T=d.sibling,d.sibling=null),Nv(l,!1,T,d,E);break;case"backwards":for(d=null,T=l.child,l.child=null;T!==null;){if(a=T.alternate,a!==null&&Xh(a)===null){l.child=T;break}a=T.sibling,T.sibling=d,d=T,T=a}Nv(l,!0,d,null,E);break;case"together":Nv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function _o(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),_a|=l.lanes,(d&l.childLanes)===0)if(a!==null){if(Wc(a,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,d=fo(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=fo(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function Dv(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Lh(a)))}function MB(a,l,d){switch(l.tag){case 3:rt(l,l.stateNode.containerInfo),la(l,an,a.memoizedState.cache),jc();break;case 27:case 5:he(l);break;case 4:rt(l,l.stateNode.containerInfo);break;case 10:la(l,l.type,l.memoizedProps.value);break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(ha(l),l.flags|=128,null):(d&l.child.childLanes)!==0?LC(a,l,d):(ha(l),a=_o(a,l,d),a!==null?a.sibling:null);ha(l);break;case 19:var T=(a.flags&128)!==0;if(g=(d&l.childLanes)!==0,g||(Wc(a,l,d,!1),g=(d&l.childLanes)!==0),T){if(g)return UC(a,l,d);l.flags|=128}if(T=l.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),me(sn,sn.current),g)break;return null;case 22:case 23:return l.lanes=0,MC(a,l,d);case 24:la(l,an,a.memoizedState.cache)}return _o(a,l,d)}function BC(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps)gn=!0;else{if(!Dv(a,d)&&(l.flags&128)===0)return gn=!1,MB(a,l,d);gn=(a.flags&131072)!==0}else gn=!1,it&&(l.flags&1048576)!==0&&mb(l,kh,l.index);switch(l.lanes=0,l.tag){case 16:e:{a=l.pendingProps;var g=l.elementType,T=g._init;if(g=T(g._payload),l.type=g,typeof g=="function")$y(g)?(a=Vs(g,a),l.tag=1,l=OC(null,l,g,a,d)):(l.tag=0,l=Cv(null,l,g,a,d));else{if(g!=null){if(T=g.$$typeof,T===U){l.tag=11,l=IC(null,l,g,a,d);break e}else if(T===O){l.tag=14,l=RC(null,l,g,a,d);break e}}throw l=Me(g)||g,Error(r(306,l,""))}}return l;case 0:return Cv(a,l,l.type,l.pendingProps,d);case 1:return g=l.type,T=Vs(g,l.pendingProps),OC(a,l,g,T,d);case 3:e:{if(rt(l,l.stateNode.containerInfo),a===null)throw Error(r(387));g=l.pendingProps;var E=l.memoizedState;T=E.element,nv(a,l),nf(l,g,null,d);var R=l.memoizedState;if(g=R.cache,la(l,an,g),g!==E.cache&&Jy(l,[an],d,!0),tf(),g=R.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:R.cache},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){l=kC(a,l,g,d);break e}else if(g!==T){T=Vr(Error(r(424)),l),Yc(T),l=kC(a,l,g,d);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Vt=si(a.firstChild),Qn=l,it=!0,Ms=null,Ni=!0,d=yC(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(jc(),g===T){l=_o(a,l,d);break e}xn(a,l,g,d)}l=l.child}return l;case 26:return tp(a,l),a===null?(d=Hx(l.type,null,l.pendingProps,null))?l.memoizedState=d:it||(d=l.type,a=l.pendingProps,g=gp(Ne.current).createElement(d),g[nn]=l,g[jt]=a,Rn(g,d,a),$t(g),l.stateNode=g):l.memoizedState=Hx(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return he(l),a===null&&it&&(g=l.stateNode=qx(l.type,l.pendingProps,Ne.current),Qn=l,Ni=!0,T=Vt,wa(l.type)?(h0=T,Vt=si(g.firstChild)):Vt=T),xn(a,l,l.pendingProps.children,d),tp(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&it&&((T=g=Vt)&&(g=o6(g,l.type,l.pendingProps,Ni),g!==null?(l.stateNode=g,Qn=l,Vt=si(g.firstChild),Ni=!1,T=!0):T=!1),T||Ns(l)),he(l),T=l.type,E=l.pendingProps,R=a!==null?a.memoizedProps:null,g=E.children,u0(T,E)?g=null:R!==null&&u0(T,R)&&(l.flags|=32),l.memoizedState!==null&&(T=lv(a,l,wB,null,null,d),bf._currentValue=T),tp(a,l),xn(a,l,g,d),l.child;case 6:return a===null&&it&&((a=d=Vt)&&(d=a6(d,l.pendingProps,Ni),d!==null?(l.stateNode=d,Qn=l,Vt=null,a=!0):a=!1),a||Ns(l)),null;case 13:return LC(a,l,d);case 4:return rt(l,l.stateNode.containerInfo),g=l.pendingProps,a===null?l.child=tu(l,null,g,d):xn(a,l,g,d),l.child;case 11:return IC(a,l,l.type,l.pendingProps,d);case 7:return xn(a,l,l.pendingProps,d),l.child;case 8:return xn(a,l,l.pendingProps.children,d),l.child;case 12:return xn(a,l,l.pendingProps.children,d),l.child;case 10:return g=l.pendingProps,la(l,l.type,g.value),xn(a,l,g.children,d),l.child;case 9:return T=l.type._context,g=l.pendingProps.children,Os(l),T=Vn(T),g=g(T),l.flags|=1,xn(a,l,g,d),l.child;case 14:return RC(a,l,l.type,l.pendingProps,d);case 15:return PC(a,l,l.type,l.pendingProps,d);case 19:return UC(a,l,d);case 31:return g=l.pendingProps,d=l.mode,g={mode:g.mode,children:g.children},a===null?(d=np(g,d),d.ref=l.ref,l.child=d,d.return=l,l=d):(d=fo(a.child,g),d.ref=l.ref,l.child=d,d.return=l,l=d),l;case 22:return MC(a,l,d);case 24:return Os(l),g=Vn(an),a===null?(T=Zy(),T===null&&(T=Et,E=Qy(),T.pooledCache=E,E.refCount++,E!==null&&(T.pooledCacheLanes|=d),T=E),l.memoizedState={parent:g,cache:T},tv(l),la(l,an,T)):((a.lanes&d)!==0&&(nv(a,l),nf(l,null,null,d),tf()),T=a.memoizedState,E=l.memoizedState,T.parent!==g?(T={parent:g,cache:g},l.memoizedState=T,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=T),la(l,an,g)):(g=E.cache,la(l,an,g),g!==T.cache&&Jy(l,[an],d,!0))),xn(a,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function To(a){a.flags|=4}function qC(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Yx(l)){if(l=Fr.current,l!==null&&((Ze&4194048)===Ze?Di!==null:(Ze&62914560)!==Ze&&(Ze&536870912)===0||l!==Di))throw Zc=ev,wb;a.flags|=8192}}function rp(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Cc():536870912,a.lanes|=l,ou|=l)}function cf(a,l){if(!it)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Ot(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(l)for(var T=a.child;T!==null;)d|=T.lanes|T.childLanes,g|=T.subtreeFlags&65011712,g|=T.flags&65011712,T.return=a,T=T.sibling;else for(T=a.child;T!==null;)d|=T.lanes|T.childLanes,g|=T.subtreeFlags,g|=T.flags,T.return=a,T=T.sibling;return a.subtreeFlags|=g,a.childLanes=d,l}function NB(a,l,d){var g=l.pendingProps;switch(Ky(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(l),null;case 1:return Ot(l),null;case 3:return d=l.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),go(an),Z(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(Kc(l)?To(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,vb())),Ot(l),null;case 26:return d=l.memoizedState,a===null?(To(l),d!==null?(Ot(l),qC(l,d)):(Ot(l),l.flags&=-16777217)):d?d!==a.memoizedState?(To(l),Ot(l),qC(l,d)):(Ot(l),l.flags&=-16777217):(a.memoizedProps!==g&&To(l),Ot(l),l.flags&=-16777217),null;case 27:ge(l),d=Ne.current;var T=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==g&&To(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Ot(l),null}a=Ae.current,Kc(l)?gb(l):(a=qx(T,g,d),l.stateNode=a,To(l))}return Ot(l),null;case 5:if(ge(l),d=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==g&&To(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Ot(l),null}if(a=Ae.current,Kc(l))gb(l);else{switch(T=gp(Ne.current),a){case 1:a=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:a=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":a=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":a=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":a=T.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof g.is=="string"?T.createElement("select",{is:g.is}):T.createElement("select"),g.multiple?a.multiple=!0:g.size&&(a.size=g.size);break;default:a=typeof g.is=="string"?T.createElement(d,{is:g.is}):T.createElement(d)}}a[nn]=l,a[jt]=g;e:for(T=l.child;T!==null;){if(T.tag===5||T.tag===6)a.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===l)break e;for(;T.sibling===null;){if(T.return===null||T.return===l)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}l.stateNode=a;e:switch(Rn(a,d,g),d){case"button":case"input":case"select":case"textarea":a=!!g.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&To(l)}}return Ot(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==g&&To(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(a=Ne.current,Kc(l)){if(a=l.stateNode,d=l.memoizedProps,g=null,T=Qn,T!==null)switch(T.tag){case 27:case 5:g=T.memoizedProps}a[nn]=l,a=!!(a.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||Dx(a.nodeValue,d)),a||Ns(l)}else a=gp(a).createTextNode(g),a[nn]=l,l.stateNode=a}return Ot(l),null;case 13:if(g=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(T=Kc(l),g!==null&&g.dehydrated!==null){if(a===null){if(!T)throw Error(r(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[nn]=l}else jc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ot(l),T=!1}else T=vb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=T),T=!0;if(!T)return l.flags&256?(vo(l),l):(vo(l),null)}if(vo(l),(l.flags&128)!==0)return l.lanes=d,l;if(d=g!==null,a=a!==null&&a.memoizedState!==null,d){g=l.child,T=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(T=g.alternate.memoizedState.cachePool.pool);var E=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(E=g.memoizedState.cachePool.pool),E!==T&&(g.flags|=2048)}return d!==a&&d&&(l.child.flags|=8192),rp(l,l.updateQueue),Ot(l),null;case 4:return Z(),a===null&&i0(l.stateNode.containerInfo),Ot(l),null;case 10:return go(l.type),Ot(l),null;case 19:if(ae(sn),T=l.memoizedState,T===null)return Ot(l),null;if(g=(l.flags&128)!==0,E=T.rendering,E===null)if(g)cf(T,!1);else{if(Ut!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(E=Xh(a),E!==null){for(l.flags|=128,cf(T,!1),a=E.updateQueue,l.updateQueue=a,rp(l,a),l.subtreeFlags=0,a=d,d=l.child;d!==null;)pb(d,a),d=d.sibling;return me(sn,sn.current&1|2),l.child}a=a.sibling}T.tail!==null&&Dt()>ap&&(l.flags|=128,g=!0,cf(T,!1),l.lanes=4194304)}else{if(!g)if(a=Xh(E),a!==null){if(l.flags|=128,g=!0,a=a.updateQueue,l.updateQueue=a,rp(l,a),cf(T,!0),T.tail===null&&T.tailMode==="hidden"&&!E.alternate&&!it)return Ot(l),null}else 2*Dt()-T.renderingStartTime>ap&&d!==536870912&&(l.flags|=128,g=!0,cf(T,!1),l.lanes=4194304);T.isBackwards?(E.sibling=l.child,l.child=E):(a=T.last,a!==null?a.sibling=E:l.child=E,T.last=E)}return T.tail!==null?(l=T.tail,T.rendering=l,T.tail=l.sibling,T.renderingStartTime=Dt(),l.sibling=null,a=sn.current,me(sn,g?a&1|2:a&1),l):(Ot(l),null);case 22:case 23:return vo(l),av(),g=l.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(d&536870912)!==0&&(l.flags&128)===0&&(Ot(l),l.subtreeFlags&6&&(l.flags|=8192)):Ot(l),d=l.updateQueue,d!==null&&rp(l,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==d&&(l.flags|=2048),a!==null&&ae(ks),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),go(an),Ot(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function DB(a,l){switch(Ky(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return go(an),Z(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return ge(l),null;case 13:if(vo(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));jc()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return ae(sn),null;case 4:return Z(),null;case 10:return go(l.type),null;case 22:case 23:return vo(l),av(),a!==null&&ae(ks),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return go(an),null;case 25:return null;default:return null}}function FC(a,l){switch(Ky(l),l.tag){case 3:go(an),Z();break;case 26:case 27:case 5:ge(l);break;case 4:Z();break;case 13:vo(l);break;case 19:ae(sn);break;case 10:go(l.type);break;case 22:case 23:vo(l),av(),a!==null&&ae(ks);break;case 24:go(an)}}function ff(a,l){try{var d=l.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var T=g.next;d=T;do{if((d.tag&a)===a){g=void 0;var E=d.create,R=d.inst;g=E(),R.destroy=g}d=d.next}while(d!==T)}}catch(L){vt(l,l.return,L)}}function ma(a,l,d){try{var g=l.updateQueue,T=g!==null?g.lastEffect:null;if(T!==null){var E=T.next;g=E;do{if((g.tag&a)===a){var R=g.inst,L=R.destroy;if(L!==void 0){R.destroy=void 0,T=l;var K=d,X=L;try{X()}catch(se){vt(T,K,se)}}}g=g.next}while(g!==E)}}catch(se){vt(l,l.return,se)}}function $C(a){var l=a.updateQueue;if(l!==null){var d=a.stateNode;try{Rb(l,d)}catch(g){vt(a,a.return,g)}}}function HC(a,l,d){d.props=Vs(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(g){vt(a,l,g)}}function df(a,l){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof d=="function"?a.refCleanup=d(g):d.current=g}}catch(T){vt(a,l,T)}}function Oi(a,l){var d=a.ref,g=a.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(T){vt(a,l,T)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(T){vt(a,l,T)}else d.current=null}function zC(a){var l=a.type,d=a.memoizedProps,g=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(T){vt(a,a.return,T)}}function Ov(a,l,d){try{var g=a.stateNode;e6(g,a.type,d,l),g[jt]=l}catch(T){vt(a,a.return,T)}}function GC(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&wa(a.type)||a.tag===4}function kv(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||GC(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&wa(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Lv(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(a),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=mp));else if(g!==4&&(g===27&&wa(a.type)&&(d=a.stateNode,l=null),a=a.child,a!==null))for(Lv(a,l,d),a=a.sibling;a!==null;)Lv(a,l,d),a=a.sibling}function ip(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(g!==4&&(g===27&&wa(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(ip(a,l,d),a=a.sibling;a!==null;)ip(a,l,d),a=a.sibling}function KC(a){var l=a.stateNode,d=a.memoizedProps;try{for(var g=a.type,T=l.attributes;T.length;)l.removeAttributeNode(T[0]);Rn(l,g,d),l[nn]=a,l[jt]=d}catch(E){vt(a,a.return,E)}}var Eo=!1,zt=!1,Vv=!1,jC=typeof WeakSet=="function"?WeakSet:Set,yn=null;function OB(a,l){if(a=a.containerInfo,s0=Sp,a=ib(a),ky(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var T=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{d.nodeType,E.nodeType}catch{d=null;break e}var R=0,L=-1,K=-1,X=0,se=0,fe=a,ee=null;t:for(;;){for(var te;fe!==d||T!==0&&fe.nodeType!==3||(L=R+T),fe!==E||g!==0&&fe.nodeType!==3||(K=R+g),fe.nodeType===3&&(R+=fe.nodeValue.length),(te=fe.firstChild)!==null;)ee=fe,fe=te;for(;;){if(fe===a)break t;if(ee===d&&++X===T&&(L=R),ee===E&&++se===g&&(K=R),(te=fe.nextSibling)!==null)break;fe=ee,ee=fe.parentNode}fe=te}d=L===-1||K===-1?null:{start:L,end:K}}else d=null}d=d||{start:0,end:0}}else d=null;for(l0={focusedElem:a,selectionRange:d},Sp=!1,yn=l;yn!==null;)if(l=yn,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,yn=a;else for(;yn!==null;){switch(l=yn,E=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&E!==null){a=void 0,d=l,T=E.memoizedProps,E=E.memoizedState,g=d.stateNode;try{var Be=Vs(d.type,T,d.elementType===d.type);a=g.getSnapshotBeforeUpdate(Be,E),g.__reactInternalSnapshotBeforeUpdate=a}catch(De){vt(d,d.return,De)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,d=a.nodeType,d===9)f0(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":f0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,yn=a;break}yn=l.return}}function YC(a,l,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:ga(a,d),g&4&&ff(5,d);break;case 1:if(ga(a,d),g&4)if(a=d.stateNode,l===null)try{a.componentDidMount()}catch(R){vt(d,d.return,R)}else{var T=Vs(d.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(T,l,a.__reactInternalSnapshotBeforeUpdate)}catch(R){vt(d,d.return,R)}}g&64&&$C(d),g&512&&df(d,d.return);break;case 3:if(ga(a,d),g&64&&(a=d.updateQueue,a!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{Rb(a,l)}catch(R){vt(d,d.return,R)}}break;case 27:l===null&&g&4&&KC(d);case 26:case 5:ga(a,d),l===null&&g&4&&zC(d),g&512&&df(d,d.return);break;case 12:ga(a,d);break;case 13:ga(a,d),g&4&&QC(a,d),g&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=HB.bind(null,d),s6(a,d))));break;case 22:if(g=d.memoizedState!==null||Eo,!g){l=l!==null&&l.memoizedState!==null||zt,T=Eo;var E=zt;Eo=g,(zt=l)&&!E?ya(a,d,(d.subtreeFlags&8772)!==0):ga(a,d),Eo=T,zt=E}break;case 30:break;default:ga(a,d)}}function WC(a){var l=a.alternate;l!==null&&(a.alternate=null,WC(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&ia(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Rt=null,tr=!1;function So(a,l,d){for(d=d.child;d!==null;)JC(a,l,d),d=d.sibling}function JC(a,l,d){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Lt,d)}catch{}switch(d.tag){case 26:zt||Oi(d,l),So(a,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:zt||Oi(d,l);var g=Rt,T=tr;wa(d.type)&&(Rt=d.stateNode,tr=!1),So(a,l,d),Ef(d.stateNode),Rt=g,tr=T;break;case 5:zt||Oi(d,l);case 6:if(g=Rt,T=tr,Rt=null,So(a,l,d),Rt=g,tr=T,Rt!==null)if(tr)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(d.stateNode)}catch(E){vt(d,l,E)}else try{Rt.removeChild(d.stateNode)}catch(E){vt(d,l,E)}break;case 18:Rt!==null&&(tr?(a=Rt,Ux(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),Rf(a)):Ux(Rt,d.stateNode));break;case 4:g=Rt,T=tr,Rt=d.stateNode.containerInfo,tr=!0,So(a,l,d),Rt=g,tr=T;break;case 0:case 11:case 14:case 15:zt||ma(2,d,l),zt||ma(4,d,l),So(a,l,d);break;case 1:zt||(Oi(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"&&HC(d,l,g)),So(a,l,d);break;case 21:So(a,l,d);break;case 22:zt=(g=zt)||d.memoizedState!==null,So(a,l,d),zt=g;break;default:So(a,l,d)}}function QC(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Rf(a)}catch(d){vt(l,l.return,d)}}function kB(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new jC),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new jC),l;default:throw Error(r(435,a.tag))}}function Uv(a,l){var d=kB(a);l.forEach(function(g){var T=zB.bind(null,a,g);d.has(g)||(d.add(g),g.then(T,T))})}function pr(a,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var T=d[g],E=a,R=l,L=R;e:for(;L!==null;){switch(L.tag){case 27:if(wa(L.type)){Rt=L.stateNode,tr=!1;break e}break;case 5:Rt=L.stateNode,tr=!1;break e;case 3:case 4:Rt=L.stateNode.containerInfo,tr=!0;break e}L=L.return}if(Rt===null)throw Error(r(160));JC(E,R,T),Rt=null,tr=!1,E=T.alternate,E!==null&&(E.return=null),T.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)XC(l,a),l=l.sibling}var ai=null;function XC(a,l){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:pr(l,a),mr(a),g&4&&(ma(3,a,a.return),ff(3,a),ma(5,a,a.return));break;case 1:pr(l,a),mr(a),g&512&&(zt||d===null||Oi(d,d.return)),g&64&&Eo&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var T=ai;if(pr(l,a),mr(a),g&512&&(zt||d===null||Oi(d,d.return)),g&4){var E=d!==null?d.memoizedState:null;if(g=a.memoizedState,d===null)if(g===null)if(a.stateNode===null){e:{g=a.type,d=a.memoizedProps,T=T.ownerDocument||T;t:switch(g){case"title":E=T.getElementsByTagName("title")[0],(!E||E[ds]||E[nn]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=T.createElement(g),T.head.insertBefore(E,T.querySelector("head > title"))),Rn(E,g,d),E[nn]=a,$t(E),g=E;break e;case"link":var R=Kx("link","href",T).get(g+(d.href||""));if(R){for(var L=0;L<R.length;L++)if(E=R[L],E.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&E.getAttribute("rel")===(d.rel==null?null:d.rel)&&E.getAttribute("title")===(d.title==null?null:d.title)&&E.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){R.splice(L,1);break t}}E=T.createElement(g),Rn(E,g,d),T.head.appendChild(E);break;case"meta":if(R=Kx("meta","content",T).get(g+(d.content||""))){for(L=0;L<R.length;L++)if(E=R[L],E.getAttribute("content")===(d.content==null?null:""+d.content)&&E.getAttribute("name")===(d.name==null?null:d.name)&&E.getAttribute("property")===(d.property==null?null:d.property)&&E.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&E.getAttribute("charset")===(d.charSet==null?null:d.charSet)){R.splice(L,1);break t}}E=T.createElement(g),Rn(E,g,d),T.head.appendChild(E);break;default:throw Error(r(468,g))}E[nn]=a,$t(E),g=E}a.stateNode=g}else jx(T,a.type,a.stateNode);else a.stateNode=Gx(T,g,a.memoizedProps);else E!==g?(E===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):E.count--,g===null?jx(T,a.type,a.stateNode):Gx(T,g,a.memoizedProps)):g===null&&a.stateNode!==null&&Ov(a,a.memoizedProps,d.memoizedProps)}break;case 27:pr(l,a),mr(a),g&512&&(zt||d===null||Oi(d,d.return)),d!==null&&g&4&&Ov(a,a.memoizedProps,d.memoizedProps);break;case 5:if(pr(l,a),mr(a),g&512&&(zt||d===null||Oi(d,d.return)),a.flags&32){T=a.stateNode;try{Dr(T,"")}catch(te){vt(a,a.return,te)}}g&4&&a.stateNode!=null&&(T=a.memoizedProps,Ov(a,T,d!==null?d.memoizedProps:T)),g&1024&&(Vv=!0);break;case 6:if(pr(l,a),mr(a),g&4){if(a.stateNode===null)throw Error(r(162));g=a.memoizedProps,d=a.stateNode;try{d.nodeValue=g}catch(te){vt(a,a.return,te)}}break;case 3:if(_p=null,T=ai,ai=yp(l.containerInfo),pr(l,a),ai=T,mr(a),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Rf(l.containerInfo)}catch(te){vt(a,a.return,te)}Vv&&(Vv=!1,ZC(a));break;case 4:g=ai,ai=yp(a.stateNode.containerInfo),pr(l,a),mr(a),ai=g;break;case 12:pr(l,a),mr(a);break;case 13:pr(l,a),mr(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(zv=Dt()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Uv(a,g)));break;case 22:T=a.memoizedState!==null;var K=d!==null&&d.memoizedState!==null,X=Eo,se=zt;if(Eo=X||T,zt=se||K,pr(l,a),zt=se,Eo=X,mr(a),g&8192)e:for(l=a.stateNode,l._visibility=T?l._visibility&-2:l._visibility|1,T&&(d===null||K||Eo||zt||Us(a)),d=null,l=a;;){if(l.tag===5||l.tag===26){if(d===null){K=d=l;try{if(E=K.stateNode,T)R=E.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{L=K.stateNode;var fe=K.memoizedProps.style,ee=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;L.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){vt(K,K.return,te)}}}else if(l.tag===6){if(d===null){K=l;try{K.stateNode.nodeValue=T?"":K.memoizedProps}catch(te){vt(K,K.return,te)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=a.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,Uv(a,d))));break;case 19:pr(l,a),mr(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Uv(a,g)));break;case 30:break;case 21:break;default:pr(l,a),mr(a)}}function mr(a){var l=a.flags;if(l&2){try{for(var d,g=a.return;g!==null;){if(GC(g)){d=g;break}g=g.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var T=d.stateNode,E=kv(a);ip(a,E,T);break;case 5:var R=d.stateNode;d.flags&32&&(Dr(R,""),d.flags&=-33);var L=kv(a);ip(a,L,R);break;case 3:case 4:var K=d.stateNode.containerInfo,X=kv(a);Lv(a,X,K);break;default:throw Error(r(161))}}catch(se){vt(a,a.return,se)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function ZC(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;ZC(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function ga(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)YC(a,l.alternate,l),l=l.sibling}function Us(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:ma(4,l,l.return),Us(l);break;case 1:Oi(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&HC(l,l.return,d),Us(l);break;case 27:Ef(l.stateNode);case 26:case 5:Oi(l,l.return),Us(l);break;case 22:l.memoizedState===null&&Us(l);break;case 30:Us(l);break;default:Us(l)}a=a.sibling}}function ya(a,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,T=a,E=l,R=E.flags;switch(E.tag){case 0:case 11:case 15:ya(T,E,d),ff(4,E);break;case 1:if(ya(T,E,d),g=E,T=g.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(X){vt(g,g.return,X)}if(g=E,T=g.updateQueue,T!==null){var L=g.stateNode;try{var K=T.shared.hiddenCallbacks;if(K!==null)for(T.shared.hiddenCallbacks=null,T=0;T<K.length;T++)Ib(K[T],L)}catch(X){vt(g,g.return,X)}}d&&R&64&&$C(E),df(E,E.return);break;case 27:KC(E);case 26:case 5:ya(T,E,d),d&&g===null&&R&4&&zC(E),df(E,E.return);break;case 12:ya(T,E,d);break;case 13:ya(T,E,d),d&&R&4&&QC(T,E);break;case 22:E.memoizedState===null&&ya(T,E,d),df(E,E.return);break;case 30:break;default:ya(T,E,d)}l=l.sibling}}function Bv(a,l){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&Jc(d))}function qv(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Jc(a))}function ki(a,l,d,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)ex(a,l,d,g),l=l.sibling}function ex(a,l,d,g){var T=l.flags;switch(l.tag){case 0:case 11:case 15:ki(a,l,d,g),T&2048&&ff(9,l);break;case 1:ki(a,l,d,g);break;case 3:ki(a,l,d,g),T&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Jc(a)));break;case 12:if(T&2048){ki(a,l,d,g),a=l.stateNode;try{var E=l.memoizedProps,R=E.id,L=E.onPostCommit;typeof L=="function"&&L(R,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(K){vt(l,l.return,K)}}else ki(a,l,d,g);break;case 13:ki(a,l,d,g);break;case 23:break;case 22:E=l.stateNode,R=l.alternate,l.memoizedState!==null?E._visibility&2?ki(a,l,d,g):hf(a,l):E._visibility&2?ki(a,l,d,g):(E._visibility|=2,nu(a,l,d,g,(l.subtreeFlags&10256)!==0)),T&2048&&Bv(R,l);break;case 24:ki(a,l,d,g),T&2048&&qv(l.alternate,l);break;default:ki(a,l,d,g)}}function nu(a,l,d,g,T){for(T=T&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var E=a,R=l,L=d,K=g,X=R.flags;switch(R.tag){case 0:case 11:case 15:nu(E,R,L,K,T),ff(8,R);break;case 23:break;case 22:var se=R.stateNode;R.memoizedState!==null?se._visibility&2?nu(E,R,L,K,T):hf(E,R):(se._visibility|=2,nu(E,R,L,K,T)),T&&X&2048&&Bv(R.alternate,R);break;case 24:nu(E,R,L,K,T),T&&X&2048&&qv(R.alternate,R);break;default:nu(E,R,L,K,T)}l=l.sibling}}function hf(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=a,g=l,T=g.flags;switch(g.tag){case 22:hf(d,g),T&2048&&Bv(g.alternate,g);break;case 24:hf(d,g),T&2048&&qv(g.alternate,g);break;default:hf(d,g)}l=l.sibling}}var pf=8192;function ru(a){if(a.subtreeFlags&pf)for(a=a.child;a!==null;)tx(a),a=a.sibling}function tx(a){switch(a.tag){case 26:ru(a),a.flags&pf&&a.memoizedState!==null&&T6(ai,a.memoizedState,a.memoizedProps);break;case 5:ru(a);break;case 3:case 4:var l=ai;ai=yp(a.stateNode.containerInfo),ru(a),ai=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=pf,pf=16777216,ru(a),pf=l):ru(a));break;default:ru(a)}}function nx(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function mf(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];yn=g,ix(g,a)}nx(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)rx(a),a=a.sibling}function rx(a){switch(a.tag){case 0:case 11:case 15:mf(a),a.flags&2048&&ma(9,a,a.return);break;case 3:mf(a);break;case 12:mf(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,op(a)):mf(a);break;default:mf(a)}}function op(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];yn=g,ix(g,a)}nx(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:ma(8,l,l.return),op(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,op(l));break;default:op(l)}a=a.sibling}}function ix(a,l){for(;yn!==null;){var d=yn;switch(d.tag){case 0:case 11:case 15:ma(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Jc(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,yn=g;else e:for(d=a;yn!==null;){g=yn;var T=g.sibling,E=g.return;if(WC(g),g===d){yn=null;break e}if(T!==null){T.return=E,yn=T;break e}yn=E}}}var LB={getCacheForType:function(a){var l=Vn(an),d=l.data.get(a);return d===void 0&&(d=a(),l.data.set(a,d)),d}},VB=typeof WeakMap=="function"?WeakMap:Map,ut=0,Et=null,Ke=null,Ze=0,ct=0,gr=null,va=!1,iu=!1,Fv=!1,wo=0,Ut=0,_a=0,Bs=0,$v=0,$r=0,ou=0,gf=null,nr=null,Hv=!1,zv=0,ap=1/0,sp=null,Ta=null,In=0,Ea=null,au=null,su=0,Gv=0,Kv=null,ox=null,yf=0,jv=null;function yr(){if((ut&2)!==0&&Ze!==0)return Ze&-Ze;if(ne.T!==null){var a=Yl;return a!==0?a:e0()}return na()}function ax(){$r===0&&($r=(Ze&536870912)===0||it?bc():536870912);var a=Fr.current;return a!==null&&(a.flags|=32),$r}function vr(a,l,d){(a===Et&&(ct===2||ct===9)||a.cancelPendingCommit!==null)&&(lu(a,0),Sa(a,Ze,$r,!1)),eo(a,d),((ut&2)===0||a!==Et)&&(a===Et&&((ut&2)===0&&(Bs|=d),Ut===4&&Sa(a,Ze,$r,!1)),Li(a))}function sx(a,l,d){if((ut&6)!==0)throw Error(r(327));var g=!d&&(l&124)===0&&(l&a.expiredLanes)===0||fs(a,l),T=g?qB(a,l):Jv(a,l,!0),E=g;do{if(T===0){iu&&!g&&Sa(a,l,0,!1);break}else{if(d=a.current.alternate,E&&!UB(d)){T=Jv(a,l,!1),E=!1;continue}if(T===2){if(E=l,a.errorRecoveryDisabledLanes&E)var R=0;else R=a.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){l=R;e:{var L=a;T=gf;var K=L.current.memoizedState.isDehydrated;if(K&&(lu(L,R).flags|=256),R=Jv(L,R,!1),R!==2){if(Fv&&!K){L.errorRecoveryDisabledLanes|=E,Bs|=E,T=4;break e}E=nr,nr=T,E!==null&&(nr===null?nr=E:nr.push.apply(nr,E))}T=R}if(E=!1,T!==2)continue}}if(T===1){lu(a,0),Sa(a,l,0,!0);break}e:{switch(g=a,E=T,E){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Sa(g,l,$r,!va);break e;case 2:nr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(T=zv+300-Dt(),10<T)){if(Sa(g,l,$r,!va),bl(g,0,!0)!==0)break e;g.timeoutHandle=Lx(lx.bind(null,g,d,nr,sp,Hv,l,$r,Bs,ou,va,E,2,-0,0),T);break e}lx(g,d,nr,sp,Hv,l,$r,Bs,ou,va,E,0,-0,0)}}break}while(!0);Li(a)}function lx(a,l,d,g,T,E,R,L,K,X,se,fe,ee,te){if(a.timeoutHandle=-1,fe=l.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(Af={stylesheets:null,count:0,unsuspend:_6},tx(l),fe=E6(),fe!==null)){a.cancelPendingCommit=fe(mx.bind(null,a,l,E,d,g,T,R,L,K,se,1,ee,te)),Sa(a,E,R,!X);return}mx(a,l,E,d,g,T,R,L,K)}function UB(a){for(var l=a;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var T=d[g],E=T.getSnapshot;T=T.value;try{if(!dr(E(),T))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Sa(a,l,d,g){l&=~$v,l&=~Bs,a.suspendedLanes|=l,a.pingedLanes&=~l,g&&(a.warmLanes|=l),g=a.expirationTimes;for(var T=l;0<T;){var E=31-Ln(T),R=1<<E;g[E]=-1,T&=~R}d!==0&&Ei(a,d,l)}function lp(){return(ut&6)===0?(vf(0),!1):!0}function Yv(){if(Ke!==null){if(ct===0)var a=Ke.return;else a=Ke,mo=Ds=null,fv(a),eu=null,lf=0,a=Ke;for(;a!==null;)FC(a.alternate,a),a=a.return;Ke=null}}function lu(a,l){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,n6(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),Yv(),Et=a,Ke=d=fo(a.current,null),Ze=l,ct=0,gr=null,va=!1,iu=fs(a,l),Fv=!1,ou=$r=$v=Bs=_a=Ut=0,nr=gf=null,Hv=!1,(l&8)!==0&&(l|=l&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=l;0<g;){var T=31-Ln(g),E=1<<T;l|=a[T],g&=~E}return wo=l,Ph(),d}function ux(a,l){ze=null,ne.H=Wh,l===Xc||l===Bh?(l=Cb(),ct=3):l===wb?(l=Cb(),ct=4):ct=l===xC?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,gr=l,Ke===null&&(Ut=1,ep(a,Vr(l,a.current)))}function cx(){var a=ne.H;return ne.H=Wh,a===null?Wh:a}function fx(){var a=ne.A;return ne.A=LB,a}function Wv(){Ut=4,va||(Ze&4194048)!==Ze&&Fr.current!==null||(iu=!0),(_a&134217727)===0&&(Bs&134217727)===0||Et===null||Sa(Et,Ze,$r,!1)}function Jv(a,l,d){var g=ut;ut|=2;var T=cx(),E=fx();(Et!==a||Ze!==l)&&(sp=null,lu(a,l)),l=!1;var R=Ut;e:do try{if(ct!==0&&Ke!==null){var L=Ke,K=gr;switch(ct){case 8:Yv(),R=6;break e;case 3:case 2:case 9:case 6:Fr.current===null&&(l=!0);var X=ct;if(ct=0,gr=null,uu(a,L,K,X),d&&iu){R=0;break e}break;default:X=ct,ct=0,gr=null,uu(a,L,K,X)}}BB(),R=Ut;break}catch(se){ux(a,se)}while(!0);return l&&a.shellSuspendCounter++,mo=Ds=null,ut=g,ne.H=T,ne.A=E,Ke===null&&(Et=null,Ze=0,Ph()),R}function BB(){for(;Ke!==null;)dx(Ke)}function qB(a,l){var d=ut;ut|=2;var g=cx(),T=fx();Et!==a||Ze!==l?(sp=null,ap=Dt()+500,lu(a,l)):iu=fs(a,l);e:do try{if(ct!==0&&Ke!==null){l=Ke;var E=gr;t:switch(ct){case 1:ct=0,gr=null,uu(a,l,E,1);break;case 2:case 9:if(Ab(E)){ct=0,gr=null,hx(l);break}l=function(){ct!==2&&ct!==9||Et!==a||(ct=7),Li(a)},E.then(l,l);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:Ab(E)?(ct=0,gr=null,hx(l)):(ct=0,gr=null,uu(a,l,E,7));break;case 5:var R=null;switch(Ke.tag){case 26:R=Ke.memoizedState;case 5:case 27:var L=Ke;if(!R||Yx(R)){ct=0,gr=null;var K=L.sibling;if(K!==null)Ke=K;else{var X=L.return;X!==null?(Ke=X,up(X)):Ke=null}break t}}ct=0,gr=null,uu(a,l,E,5);break;case 6:ct=0,gr=null,uu(a,l,E,6);break;case 8:Yv(),Ut=6;break e;default:throw Error(r(462))}}FB();break}catch(se){ux(a,se)}while(!0);return mo=Ds=null,ne.H=g,ne.A=T,ut=d,Ke!==null?0:(Et=null,Ze=0,Ph(),Ut)}function FB(){for(;Ke!==null&&!Tt();)dx(Ke)}function dx(a){var l=BC(a.alternate,a,wo);a.memoizedProps=a.pendingProps,l===null?up(a):Ke=l}function hx(a){var l=a,d=l.alternate;switch(l.tag){case 15:case 0:l=DC(d,l,l.pendingProps,l.type,void 0,Ze);break;case 11:l=DC(d,l,l.pendingProps,l.type.render,l.ref,Ze);break;case 5:fv(l);default:FC(d,l),l=Ke=pb(l,wo),l=BC(d,l,wo)}a.memoizedProps=a.pendingProps,l===null?up(a):Ke=l}function uu(a,l,d,g){mo=Ds=null,fv(l),eu=null,lf=0;var T=l.return;try{if(PB(a,T,l,d,Ze)){Ut=1,ep(a,Vr(d,a.current)),Ke=null;return}}catch(E){if(T!==null)throw Ke=T,E;Ut=1,ep(a,Vr(d,a.current)),Ke=null;return}l.flags&32768?(it||g===1?a=!0:iu||(Ze&536870912)!==0?a=!1:(va=a=!0,(g===2||g===9||g===3||g===6)&&(g=Fr.current,g!==null&&g.tag===13&&(g.flags|=16384))),px(l,a)):up(l)}function up(a){var l=a;do{if((l.flags&32768)!==0){px(l,va);return}a=l.return;var d=NB(l.alternate,l,wo);if(d!==null){Ke=d;return}if(l=l.sibling,l!==null){Ke=l;return}Ke=l=a}while(l!==null);Ut===0&&(Ut=5)}function px(a,l){do{var d=DB(a.alternate,a);if(d!==null){d.flags&=32767,Ke=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(a=a.sibling,a!==null)){Ke=a;return}Ke=a=d}while(a!==null);Ut=6,Ke=null}function mx(a,l,d,g,T,E,R,L,K){a.cancelPendingCommit=null;do cp();while(In!==0);if((ut&6)!==0)throw Error(r(327));if(l!==null){if(l===a.current)throw Error(r(177));if(E=l.lanes|l.childLanes,E|=qy,xc(a,d,E,R,L,K),a===Et&&(Ke=Et=null,Ze=0),au=l,Ea=a,su=d,Gv=E,Kv=T,ox=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,GB(Kn,function(){return Tx(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=ne.T,ne.T=null,T=pe.p,pe.p=2,R=ut,ut|=4;try{OB(a,l,d)}finally{ut=R,pe.p=T,ne.T=g}}In=1,gx(),yx(),vx()}}function gx(){if(In===1){In=0;var a=Ea,l=au,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=ne.T,ne.T=null;var g=pe.p;pe.p=2;var T=ut;ut|=4;try{XC(l,a);var E=l0,R=ib(a.containerInfo),L=E.focusedElem,K=E.selectionRange;if(R!==L&&L&&L.ownerDocument&&rb(L.ownerDocument.documentElement,L)){if(K!==null&&ky(L)){var X=K.start,se=K.end;if(se===void 0&&(se=X),"selectionStart"in L)L.selectionStart=X,L.selectionEnd=Math.min(se,L.value.length);else{var fe=L.ownerDocument||document,ee=fe&&fe.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),Be=L.textContent.length,De=Math.min(K.start,Be),gt=K.end===void 0?De:Math.min(K.end,Be);!te.extend&&De>gt&&(R=gt,gt=De,De=R);var W=nb(L,De),Y=nb(L,gt);if(W&&Y&&(te.rangeCount!==1||te.anchorNode!==W.node||te.anchorOffset!==W.offset||te.focusNode!==Y.node||te.focusOffset!==Y.offset)){var Q=fe.createRange();Q.setStart(W.node,W.offset),te.removeAllRanges(),De>gt?(te.addRange(Q),te.extend(Y.node,Y.offset)):(Q.setEnd(Y.node,Y.offset),te.addRange(Q))}}}}for(fe=[],te=L;te=te.parentNode;)te.nodeType===1&&fe.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<fe.length;L++){var ue=fe[L];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Sp=!!s0,l0=s0=null}finally{ut=T,pe.p=g,ne.T=d}}a.current=l,In=2}}function yx(){if(In===2){In=0;var a=Ea,l=au,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=ne.T,ne.T=null;var g=pe.p;pe.p=2;var T=ut;ut|=4;try{YC(a,l.alternate,l)}finally{ut=T,pe.p=g,ne.T=d}}In=3}}function vx(){if(In===4||In===3){In=0,Ft();var a=Ea,l=au,d=su,g=ox;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?In=5:(In=0,au=Ea=null,_x(a,a.pendingLanes));var T=a.pendingLanes;if(T===0&&(Ta=null),Cl(d),l=l.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Lt,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=ne.T,T=pe.p,pe.p=2,ne.T=null;try{for(var E=a.onRecoverableError,R=0;R<g.length;R++){var L=g[R];E(L.value,{componentStack:L.stack})}}finally{ne.T=l,pe.p=T}}(su&3)!==0&&cp(),Li(a),T=a.pendingLanes,(d&4194090)!==0&&(T&42)!==0?a===jv?yf++:(yf=0,jv=a):yf=0,vf(0)}}function _x(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Jc(l)))}function cp(a){return gx(),yx(),vx(),Tx()}function Tx(){if(In!==5)return!1;var a=Ea,l=Gv;Gv=0;var d=Cl(su),g=ne.T,T=pe.p;try{pe.p=32>d?32:d,ne.T=null,d=Kv,Kv=null;var E=Ea,R=su;if(In=0,au=Ea=null,su=0,(ut&6)!==0)throw Error(r(331));var L=ut;if(ut|=4,rx(E.current),ex(E,E.current,R,d),ut=L,vf(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Lt,E)}catch{}return!0}finally{pe.p=T,ne.T=g,_x(a,l)}}function Ex(a,l,d){l=Vr(d,l),l=bv(a.stateNode,l,2),a=fa(a,l,2),a!==null&&(eo(a,2),Li(a))}function vt(a,l,d){if(a.tag===3)Ex(a,a,d);else for(;l!==null;){if(l.tag===3){Ex(l,a,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ta===null||!Ta.has(g))){a=Vr(d,a),d=bC(2),g=fa(l,d,2),g!==null&&(CC(d,g,l,a),eo(g,2),Li(g));break}}l=l.return}}function Qv(a,l,d){var g=a.pingCache;if(g===null){g=a.pingCache=new VB;var T=new Set;g.set(l,T)}else T=g.get(l),T===void 0&&(T=new Set,g.set(l,T));T.has(d)||(Fv=!0,T.add(d),a=$B.bind(null,a,l,d),l.then(a,a))}function $B(a,l,d){var g=a.pingCache;g!==null&&g.delete(l),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,Et===a&&(Ze&d)===d&&(Ut===4||Ut===3&&(Ze&62914560)===Ze&&300>Dt()-zv?(ut&2)===0&&lu(a,0):$v|=d,ou===Ze&&(ou=0)),Li(a)}function Sx(a,l){l===0&&(l=Cc()),a=zl(a,l),a!==null&&(eo(a,l),Li(a))}function HB(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),Sx(a,d)}function zB(a,l){var d=0;switch(a.tag){case 13:var g=a.stateNode,T=a.memoizedState;T!==null&&(d=T.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(l),Sx(a,d)}function GB(a,l){return Pe(a,l)}var fp=null,cu=null,Xv=!1,dp=!1,Zv=!1,qs=0;function Li(a){a!==cu&&a.next===null&&(cu===null?fp=cu=a:cu=cu.next=a),dp=!0,Xv||(Xv=!0,jB())}function vf(a,l){if(!Zv&&dp){Zv=!0;do for(var d=!1,g=fp;g!==null;){if(a!==0){var T=g.pendingLanes;if(T===0)var E=0;else{var R=g.suspendedLanes,L=g.pingedLanes;E=(1<<31-Ln(42|a)+1)-1,E&=T&~(R&~L),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(d=!0,Cx(g,E))}else E=Ze,E=bl(g,g===Et?E:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(E&3)===0||fs(g,E)||(d=!0,Cx(g,E));g=g.next}while(d);Zv=!1}}function KB(){wx()}function wx(){dp=Xv=!1;var a=0;qs!==0&&(t6()&&(a=qs),qs=0);for(var l=Dt(),d=null,g=fp;g!==null;){var T=g.next,E=Ax(g,l);E===0?(g.next=null,d===null?fp=T:d.next=T,T===null&&(cu=d)):(d=g,(a!==0||(E&3)!==0)&&(dp=!0)),g=T}vf(a)}function Ax(a,l){for(var d=a.suspendedLanes,g=a.pingedLanes,T=a.expirationTimes,E=a.pendingLanes&-62914561;0<E;){var R=31-Ln(E),L=1<<R,K=T[R];K===-1?((L&d)===0||(L&g)!==0)&&(T[R]=Ac(L,l)):K<=l&&(a.expiredLanes|=L),E&=~L}if(l=Et,d=Ze,d=bl(a,a===l?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,d===0||a===l&&(ct===2||ct===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&qe(g),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||fs(a,d)){if(l=d&-d,l===a.callbackPriority)return l;switch(g!==null&&qe(g),Cl(d)){case 2:case 8:d=Xi;break;case 32:d=Kn;break;case 268435456:d=Ti;break;default:d=Kn}return g=bx.bind(null,a),d=Pe(d,g),a.callbackPriority=l,a.callbackNode=d,l}return g!==null&&g!==null&&qe(g),a.callbackPriority=2,a.callbackNode=null,2}function bx(a,l){if(In!==0&&In!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(cp()&&a.callbackNode!==d)return null;var g=Ze;return g=bl(a,a===Et?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(sx(a,g,l),Ax(a,Dt()),a.callbackNode!=null&&a.callbackNode===d?bx.bind(null,a):null)}function Cx(a,l){if(cp())return null;sx(a,l,!0)}function jB(){r6(function(){(ut&6)!==0?Pe(Zo,KB):wx()})}function e0(){return qs===0&&(qs=bc()),qs}function xx(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Nl(""+a)}function Ix(a,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,a.id&&d.setAttribute("form",a.id),l.parentNode.insertBefore(d,l),a=new FormData(a),d.parentNode.removeChild(d),a}function YB(a,l,d,g,T){if(l==="submit"&&d&&d.stateNode===T){var E=xx((T[jt]||null).action),R=g.submitter;R&&(l=(l=R[jt]||null)?xx(l.formAction):R.getAttribute("formAction"),l!==null&&(E=l,R=null));var L=new Dl("action","action",null,g,T);a.push({event:L,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(qs!==0){var K=R?Ix(T,R):new FormData(T);Tv(d,{pending:!0,data:K,method:T.method,action:E},null,K)}}else typeof E=="function"&&(L.preventDefault(),K=R?Ix(T,R):new FormData(T),Tv(d,{pending:!0,data:K,method:T.method,action:E},E,K))},currentTarget:T}]})}}for(var t0=0;t0<By.length;t0++){var n0=By[t0],WB=n0.toLowerCase(),JB=n0[0].toUpperCase()+n0.slice(1);oi(WB,"on"+JB)}oi(sb,"onAnimationEnd"),oi(lb,"onAnimationIteration"),oi(ub,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(hB,"onTransitionRun"),oi(pB,"onTransitionStart"),oi(mB,"onTransitionCancel"),oi(cb,"onTransitionEnd"),no("onMouseEnter",["mouseout","mouseover"]),no("onMouseLeave",["mouseout","mouseover"]),no("onPointerEnter",["pointerout","pointerover"]),no("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _f="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_f));function Rx(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var g=a[d],T=g.event;g=g.listeners;e:{var E=void 0;if(l)for(var R=g.length-1;0<=R;R--){var L=g[R],K=L.instance,X=L.currentTarget;if(L=L.listener,K!==E&&T.isPropagationStopped())break e;E=L,T.currentTarget=X;try{E(T)}catch(se){Zh(se)}T.currentTarget=null,E=K}else for(R=0;R<g.length;R++){if(L=g[R],K=L.instance,X=L.currentTarget,L=L.listener,K!==E&&T.isPropagationStopped())break e;E=L,T.currentTarget=X;try{E(T)}catch(se){Zh(se)}T.currentTarget=null,E=K}}}}function je(a,l){var d=l[Rc];d===void 0&&(d=l[Rc]=new Set);var g=a+"__bubble";d.has(g)||(Px(l,a,2,!1),d.add(g))}function r0(a,l,d){var g=0;l&&(g|=4),Px(d,a,g,l)}var hp="_reactListening"+Math.random().toString(36).slice(2);function i0(a){if(!a[hp]){a[hp]=!0,Pc.forEach(function(d){d!=="selectionchange"&&(QB.has(d)||r0(d,!1,a),r0(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[hp]||(l[hp]=!0,r0("selectionchange",!1,l))}}function Px(a,l,d,g){switch(e1(l)){case 2:var T=A6;break;case 8:T=b6;break;default:T=v0}d=T.bind(null,l,d,a),T=void 0,!kr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(T=!0),g?T!==void 0?a.addEventListener(l,d,{capture:!0,passive:T}):a.addEventListener(l,d,!0):T!==void 0?a.addEventListener(l,d,{passive:T}):a.addEventListener(l,d,!1)}function o0(a,l,d,g,T){var E=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var R=g.tag;if(R===3||R===4){var L=g.stateNode.containerInfo;if(L===T)break;if(R===4)for(R=g.return;R!==null;){var K=R.tag;if((K===3||K===4)&&R.stateNode.containerInfo===T)return;R=R.return}for(;L!==null;){if(R=to(L),R===null)return;if(K=R.tag,K===5||K===6||K===26||K===27){g=E=R;continue e}L=L.parentNode}}g=g.return}mh(function(){var X=E,se=Or(d),fe=[];e:{var ee=fb.get(a);if(ee!==void 0){var te=Dl,Be=a;switch(a){case"keypress":if(xi(d)===0)break e;case"keydown":case"keyup":te=Bl;break;case"focusin":Be="focus",te=Ll;break;case"focusout":Be="blur",te=Ll;break;case"beforeblur":case"afterblur":te=Ll;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=My;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=wh;break;case sb:case lb:case ub:te=Vl;break;case cb:te=bh;break;case"scroll":case"scrollend":te=gh;break;case"wheel":te=ql;break;case"copy":case"cut":case"paste":te=Ul;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=$c;break;case"toggle":case"beforetoggle":te=xh}var De=(l&4)!==0,gt=!De&&(a==="scroll"||a==="scrollend"),W=De?ee!==null?ee+"Capture":null:ee;De=[];for(var Y=X,Q;Y!==null;){var ue=Y;if(Q=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Q===null||W===null||(ue=_s(Y,W),ue!=null&&De.push(Tf(Y,ue,Q))),gt)break;Y=Y.return}0<De.length&&(ee=new te(ee,Be,null,d,se),fe.push({event:ee,listeners:De}))}}if((l&7)===0){e:{if(ee=a==="mouseover"||a==="pointerover",te=a==="mouseout"||a==="pointerout",ee&&d!==oo&&(Be=d.relatedTarget||d.fromElement)&&(to(Be)||Be[Nr]))break e;if((te||ee)&&(ee=se.window===se?se:(ee=se.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(Be=d.relatedTarget||d.toElement,te=X,Be=Be?to(Be):null,Be!==null&&(gt=o(Be),De=Be.tag,Be!==gt||De!==5&&De!==27&&De!==6)&&(Be=null)):(te=null,Be=X),te!==Be)){if(De=Lr,ue="onMouseLeave",W="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(De=$c,ue="onPointerLeave",W="onPointerEnter",Y="pointer"),gt=te==null?ee:wi(te),Q=Be==null?ee:wi(Be),ee=new De(ue,Y+"leave",te,d,se),ee.target=gt,ee.relatedTarget=Q,ue=null,to(se)===X&&(De=new De(W,Y+"enter",Be,d,se),De.target=Q,De.relatedTarget=gt,ue=De),gt=ue,te&&Be)t:{for(De=te,W=Be,Y=0,Q=De;Q;Q=fu(Q))Y++;for(Q=0,ue=W;ue;ue=fu(ue))Q++;for(;0<Y-Q;)De=fu(De),Y--;for(;0<Q-Y;)W=fu(W),Q--;for(;Y--;){if(De===W||W!==null&&De===W.alternate)break t;De=fu(De),W=fu(W)}De=null}else De=null;te!==null&&Mx(fe,ee,te,De,!1),Be!==null&&gt!==null&&Mx(fe,gt,Be,De,!0)}}e:{if(ee=X?wi(X):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var Se=JA;else if(on(ee))if(QA)Se=cB;else{Se=lB;var Ge=sB}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?X&&kc(X.elementType)&&(Se=JA):Se=uB;if(Se&&(Se=Se(a,X))){co(fe,Se,d,se);break e}Ge&&Ge(a,ee,X),a==="focusout"&&X&&ee.type==="number"&&X.memoizedProps.value!=null&&aa(ee,"number",ee.value)}switch(Ge=X?wi(X):window,a){case"focusin":(on(Ge)||Ge.contentEditable==="true")&&(Fl=Ge,Ly=X,Gc=null);break;case"focusout":Gc=Ly=Fl=null;break;case"mousedown":Vy=!0;break;case"contextmenu":case"mouseup":case"dragend":Vy=!1,ob(fe,d,se);break;case"selectionchange":if(dB)break;case"keydown":case"keyup":ob(fe,d,se)}var Ce;if(Pi)e:{switch(a){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Qe?ie(a,d)&&(Oe="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Oe="onCompositionStart");Oe&&(x&&d.locale!=="ko"&&(Qe||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Qe&&(Ce=Vc()):(Ci=se,sa="value"in Ci?Ci.value:Ci.textContent,Qe=!0)),Ge=pp(X,Oe),0<Ge.length&&(Oe=new qc(Oe,a,null,d,se),fe.push({event:Oe,listeners:Ge}),Ce?Oe.data=Ce:(Ce=ye(d),Ce!==null&&(Oe.data=Ce)))),(Ce=b?rn(a,d):Xe(a,d))&&(Oe=pp(X,"onBeforeInput"),0<Oe.length&&(Ge=new qc("onBeforeInput","beforeinput",null,d,se),fe.push({event:Ge,listeners:Oe}),Ge.data=Ce)),YB(fe,a,X,d,se)}Rx(fe,l)})}function Tf(a,l,d){return{instance:a,listener:l,currentTarget:d}}function pp(a,l){for(var d=l+"Capture",g=[];a!==null;){var T=a,E=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||E===null||(T=_s(a,d),T!=null&&g.unshift(Tf(a,T,E)),T=_s(a,l),T!=null&&g.push(Tf(a,T,E))),a.tag===3)return g;a=a.return}return[]}function fu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Mx(a,l,d,g,T){for(var E=l._reactName,R=[];d!==null&&d!==g;){var L=d,K=L.alternate,X=L.stateNode;if(L=L.tag,K!==null&&K===g)break;L!==5&&L!==26&&L!==27||X===null||(K=X,T?(X=_s(d,E),X!=null&&R.unshift(Tf(d,X,K))):T||(X=_s(d,E),X!=null&&R.push(Tf(d,X,K)))),d=d.return}R.length!==0&&a.push({event:l,listeners:R})}var XB=/\r\n?/g,ZB=/\u0000|\uFFFD/g;function Nx(a){return(typeof a=="string"?a:""+a).replace(XB,`
`).replace(ZB,"")}function Dx(a,l){return l=Nx(l),Nx(a)===l}function mp(){}function mt(a,l,d,g,T,E){switch(d){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||Dr(a,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&Dr(a,""+g);break;case"className":Ai(a,"class",g);break;case"tabIndex":Ai(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Ai(a,d,g);break;case"style":Oc(a,g,E);break;case"data":if(l!=="object"){Ai(a,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||d!=="href")){a.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=Nl(""+g),a.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(d==="formAction"?(l!=="input"&&mt(a,l,"name",T.name,T,null),mt(a,l,"formEncType",T.formEncType,T,null),mt(a,l,"formMethod",T.formMethod,T,null),mt(a,l,"formTarget",T.formTarget,T,null)):(mt(a,l,"encType",T.encType,T,null),mt(a,l,"method",T.method,T,null),mt(a,l,"target",T.target,T,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=Nl(""+g),a.setAttribute(d,g);break;case"onClick":g!=null&&(a.onclick=mp);break;case"onScroll":g!=null&&je("scroll",a);break;case"onScrollEnd":g!=null&&je("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(d=g.__html,d!=null){if(T.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}d=Nl(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""+g):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":g===!0?a.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,g):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(d,g):a.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(d):a.setAttribute(d,g);break;case"popover":je("beforetoggle",a),je("toggle",a),oa(a,"popover",g);break;case"xlinkActuate":bn(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":bn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":bn(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":bn(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":bn(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":bn(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":bn(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":bn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":bn(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":oa(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Ry.get(d)||d,oa(a,d,g))}}function a0(a,l,d,g,T,E){switch(d){case"style":Oc(a,g,E);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(d=g.__html,d!=null){if(T.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"children":typeof g=="string"?Dr(a,g):(typeof g=="number"||typeof g=="bigint")&&Dr(a,""+g);break;case"onScroll":g!=null&&je("scroll",a);break;case"onScrollEnd":g!=null&&je("scrollend",a);break;case"onClick":g!=null&&(a.onclick=mp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xl.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(T=d.endsWith("Capture"),l=d.slice(2,T?d.length-7:void 0),E=a[jt]||null,E=E!=null?E[d]:null,typeof E=="function"&&a.removeEventListener(l,E,T),typeof g=="function")){typeof E!="function"&&E!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(l,g,T);break e}d in a?a[d]=g:g===!0?a.setAttribute(d,""):oa(a,d,g)}}}function Rn(a,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",a),je("load",a);var g=!1,T=!1,E;for(E in d)if(d.hasOwnProperty(E)){var R=d[E];if(R!=null)switch(E){case"src":g=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:mt(a,l,E,R,d,null)}}T&&mt(a,l,"srcSet",d.srcSet,d,null),g&&mt(a,l,"src",d.src,d,null);return;case"input":je("invalid",a);var L=E=R=T=null,K=null,X=null;for(g in d)if(d.hasOwnProperty(g)){var se=d[g];if(se!=null)switch(g){case"name":T=se;break;case"type":R=se;break;case"checked":K=se;break;case"defaultChecked":X=se;break;case"value":E=se;break;case"defaultValue":L=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,l));break;default:mt(a,l,g,se,d,null)}}gs(a,E,L,K,X,R,T,!1),Ml(a);return;case"select":je("invalid",a),g=R=E=null;for(T in d)if(d.hasOwnProperty(T)&&(L=d[T],L!=null))switch(T){case"value":E=L;break;case"defaultValue":R=L;break;case"multiple":g=L;default:mt(a,l,T,L,d,null)}l=E,d=R,a.multiple=!!g,l!=null?io(a,!!g,l,!1):d!=null&&io(a,!!g,d,!0);return;case"textarea":je("invalid",a),E=T=g=null;for(R in d)if(d.hasOwnProperty(R)&&(L=d[R],L!=null))switch(R){case"value":g=L;break;case"defaultValue":T=L;break;case"children":E=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:mt(a,l,R,L,d,null)}ys(a,g,T,E),Ml(a);return;case"option":for(K in d)if(d.hasOwnProperty(K)&&(g=d[K],g!=null))switch(K){case"selected":a.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:mt(a,l,K,g,d,null)}return;case"dialog":je("beforetoggle",a),je("toggle",a),je("cancel",a),je("close",a);break;case"iframe":case"object":je("load",a);break;case"video":case"audio":for(g=0;g<_f.length;g++)je(_f[g],a);break;case"image":je("error",a),je("load",a);break;case"details":je("toggle",a);break;case"embed":case"source":case"link":je("error",a),je("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in d)if(d.hasOwnProperty(X)&&(g=d[X],g!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:mt(a,l,X,g,d,null)}return;default:if(kc(l)){for(se in d)d.hasOwnProperty(se)&&(g=d[se],g!==void 0&&a0(a,l,se,g,d,void 0));return}}for(L in d)d.hasOwnProperty(L)&&(g=d[L],g!=null&&mt(a,l,L,g,d,null))}function e6(a,l,d,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,E=null,R=null,L=null,K=null,X=null,se=null;for(te in d){var fe=d[te];if(d.hasOwnProperty(te)&&fe!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":K=fe;default:g.hasOwnProperty(te)||mt(a,l,te,null,g,fe)}}for(var ee in g){var te=g[ee];if(fe=d[ee],g.hasOwnProperty(ee)&&(te!=null||fe!=null))switch(ee){case"type":E=te;break;case"name":T=te;break;case"checked":X=te;break;case"defaultChecked":se=te;break;case"value":R=te;break;case"defaultValue":L=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,l));break;default:te!==fe&&mt(a,l,ee,te,g,fe)}}fr(a,R,L,K,X,se,E,T);return;case"select":te=R=L=ee=null;for(E in d)if(K=d[E],d.hasOwnProperty(E)&&K!=null)switch(E){case"value":break;case"multiple":te=K;default:g.hasOwnProperty(E)||mt(a,l,E,null,g,K)}for(T in g)if(E=g[T],K=d[T],g.hasOwnProperty(T)&&(E!=null||K!=null))switch(T){case"value":ee=E;break;case"defaultValue":L=E;break;case"multiple":R=E;default:E!==K&&mt(a,l,T,E,g,K)}l=L,d=R,g=te,ee!=null?io(a,!!d,ee,!1):!!g!=!!d&&(l!=null?io(a,!!d,l,!0):io(a,!!d,d?[]:"",!1));return;case"textarea":te=ee=null;for(L in d)if(T=d[L],d.hasOwnProperty(L)&&T!=null&&!g.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:mt(a,l,L,null,g,T)}for(R in g)if(T=g[R],E=d[R],g.hasOwnProperty(R)&&(T!=null||E!=null))switch(R){case"value":ee=T;break;case"defaultValue":te=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:T!==E&&mt(a,l,R,T,g,E)}ht(a,ee,te);return;case"option":for(var Be in d)if(ee=d[Be],d.hasOwnProperty(Be)&&ee!=null&&!g.hasOwnProperty(Be))switch(Be){case"selected":a.selected=!1;break;default:mt(a,l,Be,null,g,ee)}for(K in g)if(ee=g[K],te=d[K],g.hasOwnProperty(K)&&ee!==te&&(ee!=null||te!=null))switch(K){case"selected":a.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:mt(a,l,K,ee,g,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in d)ee=d[De],d.hasOwnProperty(De)&&ee!=null&&!g.hasOwnProperty(De)&&mt(a,l,De,null,g,ee);for(X in g)if(ee=g[X],te=d[X],g.hasOwnProperty(X)&&ee!==te&&(ee!=null||te!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,l));break;default:mt(a,l,X,ee,g,te)}return;default:if(kc(l)){for(var gt in d)ee=d[gt],d.hasOwnProperty(gt)&&ee!==void 0&&!g.hasOwnProperty(gt)&&a0(a,l,gt,void 0,g,ee);for(se in g)ee=g[se],te=d[se],!g.hasOwnProperty(se)||ee===te||ee===void 0&&te===void 0||a0(a,l,se,ee,g,te);return}}for(var W in d)ee=d[W],d.hasOwnProperty(W)&&ee!=null&&!g.hasOwnProperty(W)&&mt(a,l,W,null,g,ee);for(fe in g)ee=g[fe],te=d[fe],!g.hasOwnProperty(fe)||ee===te||ee==null&&te==null||mt(a,l,fe,ee,g,te)}var s0=null,l0=null;function gp(a){return a.nodeType===9?a:a.ownerDocument}function Ox(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kx(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function u0(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var c0=null;function t6(){var a=window.event;return a&&a.type==="popstate"?a===c0?!1:(c0=a,!0):(c0=null,!1)}var Lx=typeof setTimeout=="function"?setTimeout:void 0,n6=typeof clearTimeout=="function"?clearTimeout:void 0,Vx=typeof Promise=="function"?Promise:void 0,r6=typeof queueMicrotask=="function"?queueMicrotask:typeof Vx<"u"?function(a){return Vx.resolve(null).then(a).catch(i6)}:Lx;function i6(a){setTimeout(function(){throw a})}function wa(a){return a==="head"}function Ux(a,l){var d=l,g=0,T=0;do{var E=d.nextSibling;if(a.removeChild(d),E&&E.nodeType===8)if(d=E.data,d==="/$"){if(0<g&&8>g){d=g;var R=a.ownerDocument;if(d&1&&Ef(R.documentElement),d&2&&Ef(R.body),d&4)for(d=R.head,Ef(d),R=d.firstChild;R;){var L=R.nextSibling,K=R.nodeName;R[ds]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&R.rel.toLowerCase()==="stylesheet"||d.removeChild(R),R=L}}if(T===0){a.removeChild(E),Rf(l);return}T--}else d==="$"||d==="$?"||d==="$!"?T++:g=d.charCodeAt(0)-48;else g=0;d=E}while(d);Rf(l)}function f0(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":f0(d),ia(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function o6(a,l,d,g){for(;a.nodeType===1;){var T=d;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[ds])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(E=a.getAttribute("rel"),E==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(E!==T.rel||a.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||a.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||a.getAttribute("title")!==(T.title==null?null:T.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(E=a.getAttribute("src"),(E!==(T.src==null?null:T.src)||a.getAttribute("type")!==(T.type==null?null:T.type)||a.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&E&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var E=T.name==null?null:""+T.name;if(T.type==="hidden"&&a.getAttribute("name")===E)return a}else return a;if(a=si(a.nextSibling),a===null)break}return null}function a6(a,l,d){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=si(a.nextSibling),a===null))return null;return a}function d0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function s6(a,l){var d=a.ownerDocument;if(a.data!=="$?"||d.readyState==="complete")l();else{var g=function(){l(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function si(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var h0=null;function Bx(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return a;l--}else d==="/$"&&l++}a=a.previousSibling}return null}function qx(a,l,d){switch(l=gp(d),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Ef(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);ia(a)}var Hr=new Map,Fx=new Set;function yp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ao=pe.d;pe.d={f:l6,r:u6,D:c6,C:f6,L:d6,m:h6,X:m6,S:p6,M:g6};function l6(){var a=Ao.f(),l=lp();return a||l}function u6(a){var l=Si(a);l!==null&&l.tag===5&&l.type==="form"?sC(l):Ao.r(a)}var du=typeof document>"u"?null:document;function $x(a,l,d){var g=du;if(g&&typeof l=="string"&&l){var T=Yt(l);T='link[rel="'+a+'"][href="'+T+'"]',typeof d=="string"&&(T+='[crossorigin="'+d+'"]'),Fx.has(T)||(Fx.add(T),a={rel:a,crossOrigin:d,href:l},g.querySelector(T)===null&&(l=g.createElement("link"),Rn(l,"link",a),$t(l),g.head.appendChild(l)))}}function c6(a){Ao.D(a),$x("dns-prefetch",a,null)}function f6(a,l){Ao.C(a,l),$x("preconnect",a,l)}function d6(a,l,d){Ao.L(a,l,d);var g=du;if(g&&a&&l){var T='link[rel="preload"][as="'+Yt(l)+'"]';l==="image"&&d&&d.imageSrcSet?(T+='[imagesrcset="'+Yt(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(T+='[imagesizes="'+Yt(d.imageSizes)+'"]')):T+='[href="'+Yt(a)+'"]';var E=T;switch(l){case"style":E=hu(a);break;case"script":E=pu(a)}Hr.has(E)||(a=h({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:a,as:l},d),Hr.set(E,a),g.querySelector(T)!==null||l==="style"&&g.querySelector(Sf(E))||l==="script"&&g.querySelector(wf(E))||(l=g.createElement("link"),Rn(l,"link",a),$t(l),g.head.appendChild(l)))}}function h6(a,l){Ao.m(a,l);var d=du;if(d&&a){var g=l&&typeof l.as=="string"?l.as:"script",T='link[rel="modulepreload"][as="'+Yt(g)+'"][href="'+Yt(a)+'"]',E=T;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=pu(a)}if(!Hr.has(E)&&(a=h({rel:"modulepreload",href:a},l),Hr.set(E,a),d.querySelector(T)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(wf(E)))return}g=d.createElement("link"),Rn(g,"link",a),$t(g),d.head.appendChild(g)}}}function p6(a,l,d){Ao.S(a,l,d);var g=du;if(g&&a){var T=Yn(g).hoistableStyles,E=hu(a);l=l||"default";var R=T.get(E);if(!R){var L={loading:0,preload:null};if(R=g.querySelector(Sf(E)))L.loading=5;else{a=h({rel:"stylesheet",href:a,"data-precedence":l},d),(d=Hr.get(E))&&p0(a,d);var K=R=g.createElement("link");$t(K),Rn(K,"link",a),K._p=new Promise(function(X,se){K.onload=X,K.onerror=se}),K.addEventListener("load",function(){L.loading|=1}),K.addEventListener("error",function(){L.loading|=2}),L.loading|=4,vp(R,l,g)}R={type:"stylesheet",instance:R,count:1,state:L},T.set(E,R)}}}function m6(a,l){Ao.X(a,l);var d=du;if(d&&a){var g=Yn(d).hoistableScripts,T=pu(a),E=g.get(T);E||(E=d.querySelector(wf(T)),E||(a=h({src:a,async:!0},l),(l=Hr.get(T))&&m0(a,l),E=d.createElement("script"),$t(E),Rn(E,"link",a),d.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(T,E))}}function g6(a,l){Ao.M(a,l);var d=du;if(d&&a){var g=Yn(d).hoistableScripts,T=pu(a),E=g.get(T);E||(E=d.querySelector(wf(T)),E||(a=h({src:a,async:!0,type:"module"},l),(l=Hr.get(T))&&m0(a,l),E=d.createElement("script"),$t(E),Rn(E,"link",a),d.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(T,E))}}function Hx(a,l,d,g){var T=(T=Ne.current)?yp(T):null;if(!T)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=hu(d.href),d=Yn(T).hoistableStyles,g=d.get(l),g||(g={type:"style",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=hu(d.href);var E=Yn(T).hoistableStyles,R=E.get(a);if(R||(T=T.ownerDocument||T,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(a,R),(E=T.querySelector(Sf(a)))&&!E._p&&(R.instance=E,R.state.loading=5),Hr.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Hr.set(a,d),E||y6(T,a,d,R.state))),l&&g===null)throw Error(r(528,""));return R}if(l&&g!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=pu(d),d=Yn(T).hoistableScripts,g=d.get(l),g||(g={type:"script",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function hu(a){return'href="'+Yt(a)+'"'}function Sf(a){return'link[rel="stylesheet"]['+a+"]"}function zx(a){return h({},a,{"data-precedence":a.precedence,precedence:null})}function y6(a,l,d,g){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=a.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),Rn(l,"link",d),$t(l),a.head.appendChild(l))}function pu(a){return'[src="'+Yt(a)+'"]'}function wf(a){return"script[async]"+a}function Gx(a,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var g=a.querySelector('style[data-href~="'+Yt(d.href)+'"]');if(g)return l.instance=g,$t(g),g;var T=h({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),$t(g),Rn(g,"style",T),vp(g,d.precedence,a),l.instance=g;case"stylesheet":T=hu(d.href);var E=a.querySelector(Sf(T));if(E)return l.state.loading|=4,l.instance=E,$t(E),E;g=zx(d),(T=Hr.get(T))&&p0(g,T),E=(a.ownerDocument||a).createElement("link"),$t(E);var R=E;return R._p=new Promise(function(L,K){R.onload=L,R.onerror=K}),Rn(E,"link",g),l.state.loading|=4,vp(E,d.precedence,a),l.instance=E;case"script":return E=pu(d.src),(T=a.querySelector(wf(E)))?(l.instance=T,$t(T),T):(g=d,(T=Hr.get(E))&&(g=h({},d),m0(g,T)),a=a.ownerDocument||a,T=a.createElement("script"),$t(T),Rn(T,"link",g),a.head.appendChild(T),l.instance=T);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,vp(g,d.precedence,a));return l.instance}function vp(a,l,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=g.length?g[g.length-1]:null,E=T,R=0;R<g.length;R++){var L=g[R];if(L.dataset.precedence===l)E=L;else if(E!==T)break}E?E.parentNode.insertBefore(a,E.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(a,l.firstChild))}function p0(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function m0(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var _p=null;function Kx(a,l,d){if(_p===null){var g=new Map,T=_p=new Map;T.set(d,g)}else T=_p,g=T.get(d),g||(g=new Map,T.set(d,g));if(g.has(a))return g;for(g.set(a,null),d=d.getElementsByTagName(a),T=0;T<d.length;T++){var E=d[T];if(!(E[ds]||E[nn]||a==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var R=E.getAttribute(l)||"";R=a+R;var L=g.get(R);L?L.push(E):g.set(R,[E])}}return g}function jx(a,l,d){a=a.ownerDocument||a,a.head.insertBefore(d,l==="title"?a.querySelector("head > title"):null)}function v6(a,l,d){if(d===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Yx(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Af=null;function _6(){}function T6(a,l,d){if(Af===null)throw Error(r(475));var g=Af;if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var T=hu(d.href),E=a.querySelector(Sf(T));if(E){a=E._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(g.count++,g=Tp.bind(g),a.then(g,g)),l.state.loading|=4,l.instance=E,$t(E);return}E=a.ownerDocument||a,d=zx(d),(T=Hr.get(T))&&p0(d,T),E=E.createElement("link"),$t(E);var R=E;R._p=new Promise(function(L,K){R.onload=L,R.onerror=K}),Rn(E,"link",d),l.instance=E}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(g.count++,l=Tp.bind(g),a.addEventListener("load",l),a.addEventListener("error",l))}}function E6(){if(Af===null)throw Error(r(475));var a=Af;return a.stylesheets&&a.count===0&&g0(a,a.stylesheets),0<a.count?function(l){var d=setTimeout(function(){if(a.stylesheets&&g0(a,a.stylesheets),a.unsuspend){var g=a.unsuspend;a.unsuspend=null,g()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(d)}}:null}function Tp(){if(this.count--,this.count===0){if(this.stylesheets)g0(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Ep=null;function g0(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Ep=new Map,l.forEach(S6,a),Ep=null,Tp.call(a))}function S6(a,l){if(!(l.state.loading&4)){var d=Ep.get(a);if(d)var g=d.get(null);else{d=new Map,Ep.set(a,d);for(var T=a.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<T.length;E++){var R=T[E];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(d.set(R.dataset.precedence,R),g=R)}g&&d.set(null,g)}T=l.instance,R=T.getAttribute("data-precedence"),E=d.get(R)||g,E===g&&d.set(null,T),d.set(R,T),this.count++,g=Tp.bind(this),T.addEventListener("load",g),T.addEventListener("error",g),E?E.parentNode.insertBefore(T,E.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(T,a.firstChild)),l.state.loading|=4}}var bf={$$typeof:M,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function w6(a,l,d,g,T,E,R,L){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zi(0),this.hiddenUpdates=Zi(null),this.identifierPrefix=g,this.onUncaughtError=T,this.onCaughtError=E,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Wx(a,l,d,g,T,E,R,L,K,X,se,fe){return a=new w6(a,l,d,R,L,K,X,fe),l=1,E===!0&&(l|=24),E=hr(3,null,null,l),a.current=E,E.stateNode=a,l=Qy(),l.refCount++,a.pooledCache=l,l.refCount++,E.memoizedState={element:g,isDehydrated:d,cache:l},tv(E),a}function Jx(a){return a?(a=Gl,a):Gl}function Qx(a,l,d,g,T,E){T=Jx(T),g.context===null?g.context=T:g.pendingContext=T,g=ca(l),g.payload={element:d},E=E===void 0?null:E,E!==null&&(g.callback=E),d=fa(a,g,l),d!==null&&(vr(d,a,l),ef(d,a,l))}function Xx(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function y0(a,l){Xx(a,l),(a=a.alternate)&&Xx(a,l)}function Zx(a){if(a.tag===13){var l=zl(a,67108864);l!==null&&vr(l,a,67108864),y0(a,67108864)}}var Sp=!0;function A6(a,l,d,g){var T=ne.T;ne.T=null;var E=pe.p;try{pe.p=2,v0(a,l,d,g)}finally{pe.p=E,ne.T=T}}function b6(a,l,d,g){var T=ne.T;ne.T=null;var E=pe.p;try{pe.p=8,v0(a,l,d,g)}finally{pe.p=E,ne.T=T}}function v0(a,l,d,g){if(Sp){var T=_0(g);if(T===null)o0(a,l,g,wp,d),t1(a,g);else if(x6(T,a,l,d,g))g.stopPropagation();else if(t1(a,g),l&4&&-1<C6.indexOf(a)){for(;T!==null;){var E=Si(T);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var R=ni(E.pendingLanes);if(R!==0){var L=E;for(L.pendingLanes|=2,L.entangledLanes|=2;R;){var K=1<<31-Ln(R);L.entanglements[1]|=K,R&=~K}Li(E),(ut&6)===0&&(ap=Dt()+500,vf(0))}}break;case 13:L=zl(E,2),L!==null&&vr(L,E,2),lp(),y0(E,2)}if(E=_0(g),E===null&&o0(a,l,g,wp,d),E===T)break;T=E}T!==null&&g.stopPropagation()}else o0(a,l,g,null,d)}}function _0(a){return a=Or(a),T0(a)}var wp=null;function T0(a){if(wp=null,a=to(a),a!==null){var l=o(a);if(l===null)a=null;else{var d=l.tag;if(d===13){if(a=s(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return wp=a,null}function e1(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qi()){case Zo:return 2;case Xi:return 8;case Kn:case jn:return 32;case Ti:return 268435456;default:return 32}default:return 32}}var E0=!1,Aa=null,ba=null,Ca=null,Cf=new Map,xf=new Map,xa=[],C6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function t1(a,l){switch(a){case"focusin":case"focusout":Aa=null;break;case"dragenter":case"dragleave":ba=null;break;case"mouseover":case"mouseout":Ca=null;break;case"pointerover":case"pointerout":Cf.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":xf.delete(l.pointerId)}}function If(a,l,d,g,T,E){return a===null||a.nativeEvent!==E?(a={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:E,targetContainers:[T]},l!==null&&(l=Si(l),l!==null&&Zx(l)),a):(a.eventSystemFlags|=g,l=a.targetContainers,T!==null&&l.indexOf(T)===-1&&l.push(T),a)}function x6(a,l,d,g,T){switch(l){case"focusin":return Aa=If(Aa,a,l,d,g,T),!0;case"dragenter":return ba=If(ba,a,l,d,g,T),!0;case"mouseover":return Ca=If(Ca,a,l,d,g,T),!0;case"pointerover":var E=T.pointerId;return Cf.set(E,If(Cf.get(E)||null,a,l,d,g,T)),!0;case"gotpointercapture":return E=T.pointerId,xf.set(E,If(xf.get(E)||null,a,l,d,g,T)),!0}return!1}function n1(a){var l=to(a.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=s(d),l!==null){a.blockedOn=l,lh(a.priority,function(){if(d.tag===13){var g=yr();g=ta(g);var T=zl(d,g);T!==null&&vr(T,d,g),y0(d,g)}});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Ap(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=_0(a.nativeEvent);if(d===null){d=a.nativeEvent;var g=new d.constructor(d.type,d);oo=g,d.target.dispatchEvent(g),oo=null}else return l=Si(d),l!==null&&Zx(l),a.blockedOn=d,!1;l.shift()}return!0}function r1(a,l,d){Ap(a)&&d.delete(l)}function I6(){E0=!1,Aa!==null&&Ap(Aa)&&(Aa=null),ba!==null&&Ap(ba)&&(ba=null),Ca!==null&&Ap(Ca)&&(Ca=null),Cf.forEach(r1),xf.forEach(r1)}function bp(a,l){a.blockedOn===l&&(a.blockedOn=null,E0||(E0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,I6)))}var Cp=null;function i1(a){Cp!==a&&(Cp=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Cp===a&&(Cp=null);for(var l=0;l<a.length;l+=3){var d=a[l],g=a[l+1],T=a[l+2];if(typeof g!="function"){if(T0(g||d)===null)continue;break}var E=Si(d);E!==null&&(a.splice(l,3),l-=3,Tv(E,{pending:!0,data:T,method:d.method,action:g},g,T))}}))}function Rf(a){function l(K){return bp(K,a)}Aa!==null&&bp(Aa,a),ba!==null&&bp(ba,a),Ca!==null&&bp(Ca,a),Cf.forEach(l),xf.forEach(l);for(var d=0;d<xa.length;d++){var g=xa[d];g.blockedOn===a&&(g.blockedOn=null)}for(;0<xa.length&&(d=xa[0],d.blockedOn===null);)n1(d),d.blockedOn===null&&xa.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var T=d[g],E=d[g+1],R=T[jt]||null;if(typeof E=="function")R||i1(d);else if(R){var L=null;if(E&&E.hasAttribute("formAction")){if(T=E,R=E[jt]||null)L=R.formAction;else if(T0(T)!==null)continue}else L=R.action;typeof L=="function"?d[g+1]=L:(d.splice(g,3),g-=3),i1(d)}}}function S0(a){this._internalRoot=a}xp.prototype.render=S0.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,g=yr();Qx(d,g,a,l,null,null)},xp.prototype.unmount=S0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;Qx(a.current,2,null,a,null,null),lp(),l[Nr]=null}};function xp(a){this._internalRoot=a}xp.prototype.unstable_scheduleHydration=function(a){if(a){var l=na();a={blockedOn:null,target:a,priority:l};for(var d=0;d<xa.length&&l!==0&&l<xa[d].priority;d++);xa.splice(d,0,a),d===0&&n1(a)}};var o1=e.version;if(o1!=="19.1.1")throw Error(r(527,o1,"19.1.1"));pe.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(l),a=a!==null?c(a):null,a=a===null?null:a.stateNode,a};var R6={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ip=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ip.isDisabled&&Ip.supportsFiber)try{Lt=Ip.inject(R6),lt=Ip}catch{}}return Mf.createRoot=function(a,l){if(!i(a))throw Error(r(299));var d=!1,g="",T=EC,E=SC,R=wC,L=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(T=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(L=l.unstable_transitionCallbacks)),l=Wx(a,1,!1,null,null,d,g,T,E,R,L,null),a[Nr]=l.current,i0(a),new S0(l)},Mf.hydrateRoot=function(a,l,d){if(!i(a))throw Error(r(299));var g=!1,T="",E=EC,R=SC,L=wC,K=null,X=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onUncaughtError!==void 0&&(E=d.onUncaughtError),d.onCaughtError!==void 0&&(R=d.onCaughtError),d.onRecoverableError!==void 0&&(L=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(K=d.unstable_transitionCallbacks),d.formState!==void 0&&(X=d.formState)),l=Wx(a,1,!0,l,d??null,g,T,E,R,L,K,X),l.context=Jx(null),d=l.current,g=yr(),g=ta(g),T=ca(g),T.callback=null,fa(d,T,g),d=g,l.current.lanes=d,eo(l,d),Li(l),a[Nr]=l.current,i0(a),new xp(l)},Mf.version="19.1.1",Mf}var m1;function $6(){if(m1)return C0.exports;m1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),C0.exports=F6(),C0.exports}var H6=$6();const z6=mi(H6);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var g1="popstate";function G6(t={}){function e(i,o){let{pathname:s="/",search:u="",hash:f=""}=pl(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),NT("",{pathname:s,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),u="";if(s&&s.getAttribute("href")){let f=i.location.href,c=f.indexOf("#");u=c===-1?f:f.slice(0,c)}return u+"#"+(typeof o=="string"?o:ad(o))}function r(i,o){Qr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return j6(e,n,r,t)}function Mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function K6(){return Math.random().toString(36).substring(2,10)}function y1(t,e){return{usr:t.state,key:t.key,idx:e}}function NT(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?pl(e):e,state:n,key:e&&e.key||r||K6()}}function ad({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function pl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function j6(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,u="POP",f=null,c=h();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function h(){return(s.state||{idx:null}).idx}function y(){u="POP";let C=h(),I=C==null?null:C-c;c=C,f&&f({action:u,location:A.location,delta:I})}function _(C,I){u="PUSH";let N=NT(A.location,C,I);n&&n(N,C),c=h()+1;let M=y1(N,c),U=A.createHref(N);try{s.pushState(M,"",U)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(U)}o&&f&&f({action:u,location:A.location,delta:1})}function S(C,I){u="REPLACE";let N=NT(A.location,C,I);n&&n(N,C),c=h();let M=y1(N,c),U=A.createHref(N);s.replaceState(M,"",U),o&&f&&f({action:u,location:A.location,delta:0})}function w(C){return Y6(C)}let A={get action(){return u},get location(){return t(i,s)},listen(C){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(g1,y),f=C,()=>{i.removeEventListener(g1,y),f=null}},createHref(C){return e(i,C)},createURL:w,encodeLocation(C){let I=w(C);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:_,replace:S,go(C){return s.go(C)}};return A}function Y6(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ad(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function g2(t,e,n="/"){return W6(t,e,n,!1)}function W6(t,e,n,r){let i=typeof e=="string"?pl(e):e,o=ko(i.pathname||"/",n);if(o==null)return null;let s=y2(t);J6(s);let u=null;for(let f=0;u==null&&f<s.length;++f){let c=sq(o);u=oq(s[f],c,r)}return u}function y2(t,e=[],n=[],r="",i=!1){let o=(s,u,f=i,c)=>{let h={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:u,route:s};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&f)return;Mt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let y=Mo([r,h.relativePath]),_=n.concat(h);s.children&&s.children.length>0&&(Mt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),y2(s.children,e,_,y,f)),!(s.path==null&&!s.index)&&e.push({path:y,score:rq(y,s.index),routesMeta:_})};return t.forEach((s,u)=>{var f;if(s.path===""||!((f=s.path)!=null&&f.includes("?")))o(s,u);else for(let c of v2(s.path))o(s,u,!0,c)}),e}function v2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=v2(r.join("/")),u=[];return u.push(...s.map(f=>f===""?o:[o,f].join("/"))),i&&u.push(...s),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function J6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:iq(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Q6=/^:[\w-]+$/,X6=3,Z6=2,eq=1,tq=10,nq=-2,v1=t=>t==="*";function rq(t,e){let n=t.split("/"),r=n.length;return n.some(v1)&&(r+=nq),e&&(r+=Z6),n.filter(i=>!v1(i)).reduce((i,o)=>i+(Q6.test(o)?X6:o===""?eq:tq),r)}function iq(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function oq(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let u=0;u<r.length;++u){let f=r[u],c=u===r.length-1,h=o==="/"?e:e.slice(o.length)||"/",y=gm({path:f.relativePath,caseSensitive:f.caseSensitive,end:c},h),_=f.route;if(!y&&c&&n&&!r[r.length-1].route.index&&(y=gm({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!y)return null;Object.assign(i,y.params),s.push({params:i,pathname:Mo([o,y.pathname]),pathnameBase:fq(Mo([o,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(o=Mo([o,y.pathnameBase]))}return s}function gm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=aq(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:y},_)=>{if(h==="*"){let w=u[_]||"";s=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const S=u[_];return y&&!S?c[h]=void 0:c[h]=(S||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function aq(t,e=!1,n=!0){Qr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function sq(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ko(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function lq(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?pl(t):t;return{pathname:n?n.startsWith("/")?n:uq(n,e):e,search:dq(r),hash:hq(i)}}function uq(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function P0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cq(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cS(t){let e=cq(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function fS(t,e,n,r=!1){let i;typeof t=="string"?i=pl(t):(i={...t},Mt(!i.pathname||!i.pathname.includes("?"),P0("?","pathname","search",i)),Mt(!i.pathname||!i.pathname.includes("#"),P0("#","pathname","hash",i)),Mt(!i.search||!i.search.includes("#"),P0("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,u;if(s==null)u=n;else{let y=e.length-1;if(!r&&s.startsWith("..")){let _=s.split("/");for(;_[0]==="..";)_.shift(),y-=1;i.pathname=_.join("/")}u=y>=0?e[y]:"/"}let f=lq(i,u),c=s&&s!=="/"&&s.endsWith("/"),h=(o||s===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(c||h)&&(f.pathname+="/"),f}var Mo=t=>t.join("/").replace(/\/\/+/g,"/"),fq=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dq=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hq=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pq(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var _2=["POST","PUT","PATCH","DELETE"];new Set(_2);var mq=["GET",..._2];new Set(mq);var ec=P.createContext(null);ec.displayName="DataRouter";var Eg=P.createContext(null);Eg.displayName="DataRouterState";P.createContext(!1);var T2=P.createContext({isTransitioning:!1});T2.displayName="ViewTransition";var gq=P.createContext(new Map);gq.displayName="Fetchers";var yq=P.createContext(null);yq.displayName="Await";var gi=P.createContext(null);gi.displayName="Navigation";var Id=P.createContext(null);Id.displayName="Location";var yi=P.createContext({outlet:null,matches:[],isDataRoute:!1});yi.displayName="Route";var dS=P.createContext(null);dS.displayName="RouteError";function vq(t,{relative:e}={}){Mt(tc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(gi),{hash:i,pathname:o,search:s}=Rd(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:Mo([n,o])),r.createHref({pathname:u,search:s,hash:i})}function tc(){return P.useContext(Id)!=null}function Wi(){return Mt(tc(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Id).location}var E2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function S2(t){P.useContext(gi).static||P.useLayoutEffect(t)}function hS(){let{isDataRoute:t}=P.useContext(yi);return t?Mq():_q()}function _q(){Mt(tc(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(ec),{basename:e,navigator:n}=P.useContext(gi),{matches:r}=P.useContext(yi),{pathname:i}=Wi(),o=JSON.stringify(cS(r)),s=P.useRef(!1);return S2(()=>{s.current=!0}),P.useCallback((f,c={})=>{if(Qr(s.current,E2),!s.current)return;if(typeof f=="number"){n.go(f);return}let h=fS(f,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Mo([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,o,i,t])}P.createContext(null);function w2(){let{matches:t}=P.useContext(yi),e=t[t.length-1];return e?e.params:{}}function Rd(t,{relative:e}={}){let{matches:n}=P.useContext(yi),{pathname:r}=Wi(),i=JSON.stringify(cS(n));return P.useMemo(()=>fS(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Tq(t,e){return A2(t,e)}function A2(t,e,n,r,i){var N;Mt(tc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=P.useContext(gi),{matches:s}=P.useContext(yi),u=s[s.length-1],f=u?u.params:{},c=u?u.pathname:"/",h=u?u.pathnameBase:"/",y=u&&u.route;{let M=y&&y.path||"";b2(c,!y||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let _=Wi(),S;if(e){let M=typeof e=="string"?pl(e):e;Mt(h==="/"||((N=M.pathname)==null?void 0:N.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${M.pathname}" was given in the \`location\` prop.`),S=M}else S=_;let w=S.pathname||"/",A=w;if(h!=="/"){let M=h.replace(/^\//,"").split("/");A="/"+w.replace(/^\//,"").split("/").slice(M.length).join("/")}let C=g2(t,{pathname:A});Qr(y||C!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Qr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=bq(C&&C.map(M=>Object.assign({},M,{params:Object.assign({},f,M.params),pathname:Mo([h,o.encodeLocation?o.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?h:Mo([h,o.encodeLocation?o.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),s,n,r,i);return e&&I?P.createElement(Id.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},I):I}function Eq(){let t=Pq(),e=pq(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=P.createElement(P.Fragment,null,P.createElement("p",null,"💿 Hey developer 👋"),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:o},"ErrorBoundary")," or"," ",P.createElement("code",{style:o},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,s)}var Sq=P.createElement(Eq,null),wq=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?P.createElement(yi.Provider,{value:this.props.routeContext},P.createElement(dS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Aq({routeContext:t,match:e,children:n}){let r=P.useContext(ec);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(yi.Provider,{value:t},n)}function bq(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,s=n==null?void 0:n.errors;if(s!=null){let c=o.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);Mt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),o=o.slice(0,Math.min(o.length,c+1))}let u=!1,f=-1;if(n)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=c),h.route.id){let{loaderData:y,errors:_}=n,S=h.route.loader&&!y.hasOwnProperty(h.route.id)&&(!_||_[h.route.id]===void 0);if(h.route.lazy||S){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((c,h,y)=>{let _,S=!1,w=null,A=null;n&&(_=s&&h.route.id?s[h.route.id]:void 0,w=h.route.errorElement||Sq,u&&(f<0&&y===0?(b2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,A=null):f===y&&(S=!0,A=h.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,y+1)),I=()=>{let N;return _?N=w:S?N=A:h.route.Component?N=P.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=c,P.createElement(Aq,{match:h,routeContext:{outlet:c,matches:C,isDataRoute:n!=null},children:N})};return n&&(h.route.ErrorBoundary||h.route.errorElement||y===0)?P.createElement(wq,{location:n.location,revalidation:n.revalidation,component:w,error:_,children:I(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:r}):I()},null)}function pS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cq(t){let e=P.useContext(ec);return Mt(e,pS(t)),e}function xq(t){let e=P.useContext(Eg);return Mt(e,pS(t)),e}function Iq(t){let e=P.useContext(yi);return Mt(e,pS(t)),e}function mS(t){let e=Iq(t),n=e.matches[e.matches.length-1];return Mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Rq(){return mS("useRouteId")}function Pq(){var r;let t=P.useContext(dS),e=xq("useRouteError"),n=mS("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Mq(){let{router:t}=Cq("useNavigate"),e=mS("useNavigate"),n=P.useRef(!1);return S2(()=>{n.current=!0}),P.useCallback(async(i,o={})=>{Qr(n.current,E2),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var _1={};function b2(t,e,n){!e&&!_1[t]&&(_1[t]=!0,Qr(!1,n))}P.memo(Nq);function Nq({routes:t,future:e,state:n,unstable_onError:r}){return A2(t,void 0,n,r,e)}function Dq({to:t,replace:e,state:n,relative:r}){Mt(tc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=P.useContext(gi);Qr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=P.useContext(yi),{pathname:s}=Wi(),u=hS(),f=fS(t,cS(o),s,r==="path"),c=JSON.stringify(f);return P.useEffect(()=>{u(JSON.parse(c),{replace:e,state:n,relative:r})},[u,c,r,e,n]),null}function _r(t){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Oq({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Mt(!tc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),u=P.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=pl(n));let{pathname:f="/",search:c="",hash:h="",state:y=null,key:_="default"}=n,S=P.useMemo(()=>{let w=ko(f,s);return w==null?null:{location:{pathname:w,search:c,hash:h,state:y,key:_},navigationType:r}},[s,f,c,h,y,_,r]);return Qr(S!=null,`<Router basename="${s}"> is not able to match the URL "${f}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:P.createElement(gi.Provider,{value:u},P.createElement(Id.Provider,{children:e,value:S}))}function T1({children:t,location:e}){return Tq(DT(t),e)}function DT(t,e=[]){let n=[];return P.Children.forEach(t,(r,i)=>{if(!P.isValidElement(r))return;let o=[...e,i];if(r.type===P.Fragment){n.push.apply(n,DT(r.props.children,o));return}Mt(r.type===_r,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=DT(r.props.children,o)),n.push(s)}),n}var Zp="get",em="application/x-www-form-urlencoded";function Sg(t){return t!=null&&typeof t.tagName=="string"}function kq(t){return Sg(t)&&t.tagName.toLowerCase()==="button"}function Lq(t){return Sg(t)&&t.tagName.toLowerCase()==="form"}function Vq(t){return Sg(t)&&t.tagName.toLowerCase()==="input"}function Uq(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Bq(t,e){return t.button===0&&(!e||e==="_self")&&!Uq(t)}var Rp=null;function qq(){if(Rp===null)try{new FormData(document.createElement("form"),0),Rp=!1}catch{Rp=!0}return Rp}var Fq=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function M0(t){return t!=null&&!Fq.has(t)?(Qr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${em}"`),null):t}function $q(t,e){let n,r,i,o,s;if(Lq(t)){let u=t.getAttribute("action");r=u?ko(u,e):null,n=t.getAttribute("method")||Zp,i=M0(t.getAttribute("enctype"))||em,o=new FormData(t)}else if(kq(t)||Vq(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||u.getAttribute("action");if(r=f?ko(f,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Zp,i=M0(t.getAttribute("formenctype"))||M0(u.getAttribute("enctype"))||em,o=new FormData(u,t),!qq()){let{name:c,type:h,value:y}=t;if(h==="image"){let _=c?`${c}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else c&&o.append(c,y)}}else{if(Sg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zp,r=null,i=em,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Hq(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ko(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function zq(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Gq(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Kq(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await zq(o,n);return s.links?s.links():[]}return[]}));return Jq(r.flat(1).filter(Gq).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function E1(t,e,n,r,i,o){let s=(f,c)=>n[c]?f.route.id!==n[c].route.id:!0,u=(f,c)=>{var h;return n[c].pathname!==f.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,c)=>s(f,c)||u(f,c)):o==="data"?e.filter((f,c)=>{var y;let h=r.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(s(f,c)||u(f,c))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function jq(t,e,{includeHydrateFallback:n}={}){return Yq(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function Yq(t){return[...new Set(t)]}function Wq(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Jq(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(Wq(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function C2(){let t=P.useContext(ec);return gS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Qq(){let t=P.useContext(Eg);return gS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var yS=P.createContext(void 0);yS.displayName="FrameworkContext";function x2(){let t=P.useContext(yS);return gS(t,"You must render this element inside a <HydratedRouter> element"),t}function Xq(t,e){let n=P.useContext(yS),[r,i]=P.useState(!1),[o,s]=P.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:c,onMouseLeave:h,onTouchStart:y}=e,_=P.useRef(null);P.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let A=I=>{I.forEach(N=>{s(N.isIntersecting)})},C=new IntersectionObserver(A,{threshold:.5});return _.current&&C.observe(_.current),()=>{C.disconnect()}}},[t]),P.useEffect(()=>{if(r){let A=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(A)}}},[r]);let S=()=>{i(!0)},w=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,_,{}]:[o,_,{onFocus:Nf(u,S),onBlur:Nf(f,w),onMouseEnter:Nf(c,S),onMouseLeave:Nf(h,w),onTouchStart:Nf(y,S)}]:[!1,_,{}]}function Nf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Zq({page:t,...e}){let{router:n}=C2(),r=P.useMemo(()=>g2(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?P.createElement(tF,{page:t,matches:r,...e}):null}function eF(t){let{manifest:e,routeModules:n}=x2(),[r,i]=P.useState([]);return P.useEffect(()=>{let o=!1;return Kq(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function tF({page:t,matches:e,...n}){let r=Wi(),{manifest:i,routeModules:o}=x2(),{basename:s}=C2(),{loaderData:u,matches:f}=Qq(),c=P.useMemo(()=>E1(t,e,f,i,r,"data"),[t,e,f,i,r]),h=P.useMemo(()=>E1(t,e,f,i,r,"assets"),[t,e,f,i,r]),y=P.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,A=!1;if(e.forEach(I=>{var M;let N=i.routes[I.route.id];!N||!N.hasLoader||(!c.some(U=>U.route.id===I.route.id)&&I.route.id in u&&((M=o[I.route.id])!=null&&M.shouldRevalidate)||N.hasClientLoader?A=!0:w.add(I.route.id))}),w.size===0)return[];let C=Hq(t,s,"data");return A&&w.size>0&&C.searchParams.set("_routes",e.filter(I=>w.has(I.route.id)).map(I=>I.route.id).join(",")),[C.pathname+C.search]},[s,u,r,i,c,e,t,o]),_=P.useMemo(()=>jq(h,i),[h,i]),S=eF(h);return P.createElement(P.Fragment,null,y.map(w=>P.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),_.map(w=>P.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),S.map(({key:w,link:A})=>P.createElement("link",{key:w,nonce:n.nonce,...A})))}function nF(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var I2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{I2&&(window.__reactRouterVersion="7.8.2")}catch{}function rF({basename:t,children:e,window:n}){let r=P.useRef();r.current==null&&(r.current=G6({window:n,v5Compat:!0}));let i=r.current,[o,s]=P.useState({action:i.action,location:i.location}),u=P.useCallback(f=>{P.startTransition(()=>s(f))},[s]);return P.useLayoutEffect(()=>i.listen(u),[i,u]),P.createElement(Oq,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var R2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P2=P.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:u,target:f,to:c,preventScrollReset:h,viewTransition:y,..._},S){let{basename:w}=P.useContext(gi),A=typeof c=="string"&&R2.test(c),C,I=!1;if(typeof c=="string"&&A&&(C=c,I2))try{let D=new URL(window.location.href),$=c.startsWith("//")?new URL(D.protocol+c):new URL(c),q=ko($.pathname,w);$.origin===D.origin&&q!=null?c=q+$.search+$.hash:I=!0}catch{Qr(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=vq(c,{relative:i}),[M,U,B]=Xq(r,_),G=sF(c,{replace:s,state:u,target:f,preventScrollReset:h,relative:i,viewTransition:y});function O(D){e&&e(D),D.defaultPrevented||G(D)}let k=P.createElement("a",{..._,...B,href:C||N,onClick:I||o?e:O,ref:nF(S,U),target:f,"data-discover":!A&&n==="render"?"true":void 0});return M&&!A?P.createElement(P.Fragment,null,k,P.createElement(Zq,{page:N})):k});P2.displayName="Link";var iF=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:u,children:f,...c},h){let y=Rd(s,{relative:c.relative}),_=Wi(),S=P.useContext(Eg),{navigator:w,basename:A}=P.useContext(gi),C=S!=null&&dF(y)&&u===!0,I=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,N=_.pathname,M=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(N=N.toLowerCase(),M=M?M.toLowerCase():null,I=I.toLowerCase()),M&&A&&(M=ko(M,A)||M);const U=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let B=N===I||!i&&N.startsWith(I)&&N.charAt(U)==="/",G=M!=null&&(M===I||!i&&M.startsWith(I)&&M.charAt(I.length)==="/"),O={isActive:B,isPending:G,isTransitioning:C},k=B?e:void 0,D;typeof r=="function"?D=r(O):D=[r,B?"active":null,G?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let $=typeof o=="function"?o(O):o;return P.createElement(P2,{...c,"aria-current":k,className:D,ref:h,style:$,to:s,viewTransition:u},typeof f=="function"?f(O):f)});iF.displayName="NavLink";var oF=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=Zp,action:u,onSubmit:f,relative:c,preventScrollReset:h,viewTransition:y,..._},S)=>{let w=cF(),A=fF(u,{relative:c}),C=s.toLowerCase()==="get"?"get":"post",I=typeof u=="string"&&R2.test(u),N=M=>{if(f&&f(M),M.defaultPrevented)return;M.preventDefault();let U=M.nativeEvent.submitter,B=(U==null?void 0:U.getAttribute("formmethod"))||s;w(U||M.currentTarget,{fetcherKey:e,method:B,navigate:n,replace:i,state:o,relative:c,preventScrollReset:h,viewTransition:y})};return P.createElement("form",{ref:S,method:C,action:A,onSubmit:r?f:N,..._,"data-discover":!I&&t==="render"?"true":void 0})});oF.displayName="Form";function aF(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M2(t){let e=P.useContext(ec);return Mt(e,aF(t)),e}function sF(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let u=hS(),f=Wi(),c=Rd(t,{relative:o});return P.useCallback(h=>{if(Bq(h,e)){h.preventDefault();let y=n!==void 0?n:ad(f)===ad(c);u(t,{replace:y,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[f,u,c,n,r,e,t,i,o,s])}var lF=0,uF=()=>`__${String(++lF)}__`;function cF(){let{router:t}=M2("useSubmit"),{basename:e}=P.useContext(gi),n=Rq();return P.useCallback(async(r,i={})=>{let{action:o,method:s,encType:u,formData:f,body:c}=$q(r,e);if(i.navigate===!1){let h=i.fetcherKey||uF();await t.fetch(h,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:c,formMethod:i.method||s,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:c,formMethod:i.method||s,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function fF(t,{relative:e}={}){let{basename:n}=P.useContext(gi),r=P.useContext(yi);Mt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Rd(t||".",{relative:e})},s=Wi();if(t==null){o.search=s.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(h=>h==="")){u.delete("index"),f.filter(y=>y).forEach(y=>u.append("index",y));let h=u.toString();o.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Mo([n,o.pathname])),ad(o)}function dF(t,{relative:e}={}){let n=P.useContext(T2);Mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=M2("useViewTransitionState"),i=Rd(t,{relative:e});if(!n.isTransitioning)return!1;let o=ko(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=ko(n.nextLocation.pathname,r)||n.nextLocation.pathname;return gm(i.pathname,s)!=null||gm(i.pathname,o)!=null}var hF=m2();const pF=()=>{};var S1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],u=t[n++],f=((i&7)<<18|(o&63)<<12|(s&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},D2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,u=s?t[i+1]:0,f=i+2<t.length,c=f?t[i+2]:0,h=o>>2,y=(o&3)<<4|u>>4;let _=(u&15)<<2|c>>6,S=c&63;f||(S=64,s||(_=64)),r.push(n[h],n[y],n[_],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(N2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||c==null||y==null)throw new gF;const _=o<<2|u>>4;if(r.push(_),c!==64){const S=u<<4&240|c>>2;if(r.push(S),y!==64){const w=c<<6&192|y;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yF=function(t){const e=N2(t);return D2.encodeByteArray(e,!0)},ym=function(t){return yF(t).replace(/\./g,"")},O2=function(t){try{return D2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F=()=>vF().__FIREBASE_DEFAULTS__,TF=()=>{if(typeof process>"u"||typeof S1>"u")return;const t=S1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},EF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&O2(t[1]);return e&&JSON.parse(e)},wg=()=>{try{return pF()||_F()||TF()||EF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},k2=t=>{var e,n;return(n=(e=wg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},SF=t=>{const e=k2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},L2=()=>{var t;return(t=wg())==null?void 0:t.config},V2=t=>{var e;return(e=wg())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function U2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ym(JSON.stringify(n)),ym(JSON.stringify(s)),""].join(".")}const Jf={};function bF(){const t={prod:[],emulator:[]};for(const e of Object.keys(Jf))Jf[e]?t.emulator.push(e):t.prod.push(e);return t}function CF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let w1=!1;function B2(t,e){if(typeof window>"u"||typeof document>"u"||!nc(window.location.host)||Jf[t]===e||Jf[t]||w1)return;Jf[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",o=bF().prod.length>0;function s(){const _=document.getElementById(r);_&&_.remove()}function u(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,S){_.setAttribute("width","24"),_.setAttribute("id",S),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function c(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{w1=!0,s()},_}function h(_,S){_.setAttribute("id",S),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=CF(r),S=n("text"),w=document.getElementById(S)||document.createElement("span"),A=n("learnmore"),C=document.getElementById(A)||document.createElement("a"),I=n("preprendIcon"),N=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const M=_.element;u(M),h(C,A);const U=c();f(N,I),M.append(N,w,C,U),document.body.appendChild(M)}o?(w.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gn())}function IF(){var e;const t=(e=wg())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NF(){const t=Gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function DF(){return!IF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OF(){try{return typeof indexedDB=="object"}catch{return!1}}function kF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF="FirebaseError";class Go extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LF,Object.setPrototypeOf(this,Go.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pd.prototype.create)}}class Pd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?VF(o,r):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new Go(i,u,r)}}function VF(t,e){return t.replace(UF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const UF=/\{\$([^}]+)}/g;function BF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function il(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(A1(o)&&A1(s)){if(!il(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function A1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $f(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Hf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function qF(t,e){const n=new FF(t,e);return n.subscribe.bind(n)}class FF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$F(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=N0),i.error===void 0&&(i.error=N0),i.complete===void 0&&(i.complete=N0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $F(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function N0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t){return t&&t._delegate?t._delegate:t}class ol{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HF=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new wF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GF(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function zF(t){return t===Fs?void 0:t}function GF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const jF={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},YF=Ye.INFO,WF={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},JF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vS{constructor(e){this.name=e,this._logLevel=YF,this._logHandler=JF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const QF=(t,e)=>e.some(n=>t instanceof n);let b1,C1;function XF(){return b1||(b1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZF(){return C1||(C1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const q2=new WeakMap,OT=new WeakMap,F2=new WeakMap,D0=new WeakMap,_S=new WeakMap;function e5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(qa(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&q2.set(n,t)}).catch(()=>{}),_S.set(e,t),e}function t5(t){if(OT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});OT.set(t,e)}let kT={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return OT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||F2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function n5(t){kT=t(kT)}function r5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(O0(this),e,...n);return F2.set(r,e.sort?e.sort():[e]),qa(r)}:ZF().includes(t)?function(...e){return t.apply(O0(this),e),qa(q2.get(this))}:function(...e){return qa(t.apply(O0(this),e))}}function i5(t){return typeof t=="function"?r5(t):(t instanceof IDBTransaction&&t5(t),QF(t,XF())?new Proxy(t,kT):t)}function qa(t){if(t instanceof IDBRequest)return e5(t);if(D0.has(t))return D0.get(t);const e=i5(t);return e!==t&&(D0.set(t,e),_S.set(e,t)),e}const O0=t=>_S.get(t);function o5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),u=qa(s);return r&&s.addEventListener("upgradeneeded",f=>{r(qa(s.result),f.oldVersion,f.newVersion,qa(s.transaction),f)}),n&&s.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),u}const a5=["get","getKey","getAll","getAllKeys","count"],s5=["put","add","delete","clear"],k0=new Map;function x1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(k0.get(e))return k0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=s5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||a5.includes(n)))return;const o=async function(s,...u){const f=this.transaction(s,i?"readwrite":"readonly");let c=f.store;return r&&(c=c.index(u.shift())),(await Promise.all([c[n](...u),i&&f.done]))[0]};return k0.set(e,o),o}n5(t=>({...t,get:(e,n,r)=>x1(e,n)||t.get(e,n,r),has:(e,n)=>!!x1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(u5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function u5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const LT="@firebase/app",I1="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new vS("@firebase/app"),c5="@firebase/app-compat",f5="@firebase/analytics-compat",d5="@firebase/analytics",h5="@firebase/app-check-compat",p5="@firebase/app-check",m5="@firebase/auth",g5="@firebase/auth-compat",y5="@firebase/database",v5="@firebase/data-connect",_5="@firebase/database-compat",T5="@firebase/functions",E5="@firebase/functions-compat",S5="@firebase/installations",w5="@firebase/installations-compat",A5="@firebase/messaging",b5="@firebase/messaging-compat",C5="@firebase/performance",x5="@firebase/performance-compat",I5="@firebase/remote-config",R5="@firebase/remote-config-compat",P5="@firebase/storage",M5="@firebase/storage-compat",N5="@firebase/firestore",D5="@firebase/ai",O5="@firebase/firestore-compat",k5="firebase",L5="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="[DEFAULT]",V5={[LT]:"fire-core",[c5]:"fire-core-compat",[d5]:"fire-analytics",[f5]:"fire-analytics-compat",[p5]:"fire-app-check",[h5]:"fire-app-check-compat",[m5]:"fire-auth",[g5]:"fire-auth-compat",[y5]:"fire-rtdb",[v5]:"fire-data-connect",[_5]:"fire-rtdb-compat",[T5]:"fire-fn",[E5]:"fire-fn-compat",[S5]:"fire-iid",[w5]:"fire-iid-compat",[A5]:"fire-fcm",[b5]:"fire-fcm-compat",[C5]:"fire-perf",[x5]:"fire-perf-compat",[I5]:"fire-rc",[R5]:"fire-rc-compat",[P5]:"fire-gcs",[M5]:"fire-gcs-compat",[N5]:"fire-fst",[O5]:"fire-fst-compat",[D5]:"fire-vertex","fire-js":"fire-js",[k5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=new Map,U5=new Map,UT=new Map;function R1(t,e){try{t.container.addComponent(e)}catch(n){Lo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ou(t){const e=t.name;if(UT.has(e))return Lo.debug(`There were multiple attempts to register component ${e}.`),!1;UT.set(e,t);for(const n of vm.values())R1(n,t);for(const n of U5.values())R1(n,t);return!0}function TS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function li(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fa=new Pd("app","Firebase",B5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ol("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=L5;function $2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:VT,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Fa.create("bad-app-name",{appName:String(i)});if(n||(n=L2()),!n)throw Fa.create("no-options");const o=vm.get(i);if(o){if(il(n,o.options)&&il(r,o.config))return o;throw Fa.create("duplicate-app",{appName:i})}const s=new KF(i);for(const f of UT.values())s.addComponent(f);const u=new q5(n,r,s);return vm.set(i,u),u}function H2(t=VT){const e=vm.get(t);if(!e&&t===VT&&L2())return $2();if(!e)throw Fa.create("no-app",{appName:t});return e}function $a(t,e,n){let r=V5[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lo.warn(s.join(" "));return}Ou(new ol(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5="firebase-heartbeat-database",$5=1,sd="firebase-heartbeat-store";let L0=null;function z2(){return L0||(L0=o5(F5,$5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fa.create("idb-open",{originalErrorMessage:t.message})})),L0}async function H5(t){try{const n=(await z2()).transaction(sd),r=await n.objectStore(sd).get(G2(t));return await n.done,r}catch(e){if(e instanceof Go)Lo.warn(e.message);else{const n=Fa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Lo.warn(n.message)}}}async function P1(t,e){try{const r=(await z2()).transaction(sd,"readwrite");await r.objectStore(sd).put(e,G2(t)),await r.done}catch(n){if(n instanceof Go)Lo.warn(n.message);else{const r=Fa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Lo.warn(r.message)}}}function G2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5=1024,G5=30;class K5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Y5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=M1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>G5){const s=W5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Lo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=M1(),{heartbeatsToSend:r,unsentEntries:i}=j5(this._heartbeatsCache.heartbeats),o=ym(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Lo.warn(n),""}}}function M1(){return new Date().toISOString().substring(0,10)}function j5(t,e=z5){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),N1(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),N1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Y5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OF()?kF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await H5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return P1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return P1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function N1(t){return ym(JSON.stringify({version:2,heartbeats:t})).length}function W5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(t){Ou(new ol("platform-logger",e=>new l5(e),"PRIVATE")),Ou(new ol("heartbeat",e=>new K5(e),"PRIVATE")),$a(LT,I1,t),$a(LT,I1,"esm2020"),$a("fire-js","")}J5("");var Q5="firebase",X5="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$a(Q5,X5,"app");function K2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Z5=K2,j2=new Pd("auth","Firebase",K2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m=new vS("@firebase/auth");function e9(t,...e){_m.logLevel<=Ye.WARN&&_m.warn(`Auth (${rc}): ${t}`,...e)}function tm(t,...e){_m.logLevel<=Ye.ERROR&&_m.error(`Auth (${rc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t,...e){throw ES(t,...e)}function Bi(t,...e){return ES(t,...e)}function Y2(t,e,n){const r={...Z5(),[e]:n};return new Pd("auth","Firebase",r).create(e,{appName:t.name})}function Ha(t){return Y2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ES(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return j2.create(t,...e)}function Ve(t,e,...n){if(!t)throw ES(e,...n)}function xo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw tm(e),new Error(e)}function Vo(t,e){t||xo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function t9(){return D1()==="http:"||D1()==="https:"}function D1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(t9()||PF()||"connection"in navigator)?navigator.onLine:!0}function r9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vo(n>e,"Short delay should be less than long delay!"),this.isMobile=xF()||MF()}get(){return n9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(t,e){Vo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],a9=new Nd(3e4,6e4);function ml(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ko(t,e,n,r,i={}){return J2(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const u=Md({key:t.config.apiKey,...s}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:f,...o};return RF()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&nc(t.emulatorConfig.host)&&(c.credentials="include"),W2.fetch()(await Q2(t,t.config.apiHost,n,u),c)})}async function J2(t,e,n){t._canInitEmulator=!1;const r={...i9,...e};try{const i=new l9(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Pp(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const u=o.ok?s.errorMessage:s.error.message,[f,c]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pp(t,"credential-already-in-use",s);if(f==="EMAIL_EXISTS")throw Pp(t,"email-already-in-use",s);if(f==="USER_DISABLED")throw Pp(t,"user-disabled",s);const h=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Y2(t,h,c);di(t,h)}}catch(i){if(i instanceof Go)throw i;di(t,"network-request-failed",{message:String(i)})}}async function Ag(t,e,n,r,i={}){const o=await Ko(t,e,n,r,i);return"mfaPendingCredential"in o&&di(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function Q2(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?SS(t.config,i):`${t.config.apiScheme}://${i}`;return o9.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function s9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class l9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bi(this.auth,"network-request-failed")),a9.get())})}}function Pp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Bi(t,e,r);return i.customData._tokenResponse=n,i}function O1(t){return t!==void 0&&t.enterprise!==void 0}class u9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return s9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function c9(t,e){return Ko(t,"GET","/v2/recaptchaConfig",ml(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f9(t,e){return Ko(t,"POST","/v1/accounts:delete",e)}async function Tm(t,e){return Ko(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function d9(t,e=!1){const n=qt(t),r=await n.getIdToken(e),i=wS(r);Ve(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Qf(V0(i.auth_time)),issuedAtTime:Qf(V0(i.iat)),expirationTime:Qf(V0(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function V0(t){return Number(t)*1e3}function wS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return tm("JWT malformed, contained fewer than 3 sections"),null;try{const i=O2(n);return i?JSON.parse(i):(tm("Failed to decode base64 JWT payload"),null)}catch(i){return tm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function k1(t){const e=wS(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Go&&h9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function h9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qf(this.lastLoginAt),this.creationTime=Qf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Em(t){var y;const e=t.auth,n=await t.getIdToken(),r=await ku(t,Tm(e,{idToken:n}));Ve(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(y=i.providerUserInfo)!=null&&y.length?X2(i.providerUserInfo):[],s=g9(t.providerData,o),u=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=u?f:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new qT(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function m9(t){const e=qt(t);await Em(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function g9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function X2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y9(t,e){const n=await J2(t,{},async()=>{const r=Md({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await Q2(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return t.emulatorConfig&&nc(t.emulatorConfig.host)&&(f.credentials="include"),W2.fetch()(s,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function v9(t,e){return Ko(t,"POST","/v2/accounts:revokeToken",ml(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):k1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=k1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await y9(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new bu;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ve(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ve(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bu,this.toJSON())}_performRefresh(){return xo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new p9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new qT(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ku(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return d9(this,e)}reload(){return m9(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Em(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(Ha(this.auth));const e=await this.getIdToken();return await ku(this,f9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,u=n.tenantId??void 0,f=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:S,providerData:w,stsTokenManager:A}=n;Ve(y&&A,e,"internal-error");const C=bu.fromJSON(this.name,A);Ve(typeof y=="string",e,"internal-error"),Ra(r,e.name),Ra(i,e.name),Ve(typeof _=="boolean",e,"internal-error"),Ve(typeof S=="boolean",e,"internal-error"),Ra(o,e.name),Ra(s,e.name),Ra(u,e.name),Ra(f,e.name),Ra(c,e.name),Ra(h,e.name);const I=new fi({uid:y,auth:e,email:i,emailVerified:_,displayName:r,isAnonymous:S,photoURL:s,phoneNumber:o,tenantId:u,stsTokenManager:C,createdAt:c,lastLoginAt:h});return w&&Array.isArray(w)&&(I.providerData=w.map(N=>({...N}))),f&&(I._redirectEventId=f),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new bu;i.updateFromServerResponse(n);const o=new fi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Em(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ve(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?X2(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new bu;u.updateFromIdToken(r);const f=new fi({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new qT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,c),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=new Map;function Io(t){Vo(t instanceof Function,"Expected a class definition");let e=L1.get(t);return e?(Vo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,L1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Z2.type="NONE";const V1=Z2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(t,e,n){return`firebase:${t}:${e}:${n}`}class Cu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=nm(this.userKey,i.apiKey,o),this.fullPersistenceKey=nm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Tm(this.auth,{idToken:e}).catch(()=>{});return n?fi._fromGetAccountInfoResponse(this.auth,n,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Cu(Io(V1),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||Io(V1);const s=nm(r,e.config.apiKey,e.name);let u=null;for(const c of n)try{const h=await c._get(s);if(h){let y;if(typeof h=="string"){const _=await Tm(e,{idToken:h}).catch(()=>{});if(!_)break;y=await fi._fromGetAccountInfoResponse(e,_,h)}else y=fi._fromJSON(e,h);c!==o&&(u=y),o=c;break}}catch{}const f=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Cu(o,e,r):(o=f[0],u&&await o._set(s,u.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new Cu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oO(e))return"Blackberry";if(aO(e))return"Webos";if(tO(e))return"Safari";if((e.includes("chrome/")||nO(e))&&!e.includes("edge/"))return"Chrome";if(iO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eO(t=Gn()){return/firefox\//i.test(t)}function tO(t=Gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nO(t=Gn()){return/crios\//i.test(t)}function rO(t=Gn()){return/iemobile/i.test(t)}function iO(t=Gn()){return/android/i.test(t)}function oO(t=Gn()){return/blackberry/i.test(t)}function aO(t=Gn()){return/webos/i.test(t)}function AS(t=Gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _9(t=Gn()){var e;return AS(t)&&!!((e=window.navigator)!=null&&e.standalone)}function T9(){return NF()&&document.documentMode===10}function sO(t=Gn()){return AS(t)||iO(t)||aO(t)||oO(t)||/windows phone/i.test(t)||rO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t,e=[]){let n;switch(t){case"Browser":n=U1(Gn());break;case"Worker":n=`${U1(Gn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,u)=>{try{const f=e(o);s(f)}catch(f){u(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S9(t,e={}){return Ko(t,"GET","/v2/passwordPolicy",ml(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=6;class A9{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??w9,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B1(this),this.idTokenSubscription=new B1(this),this.beforeStateQueue=new E9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Io(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Cu.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Tm(this,{idToken:e}),r=await fi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(li(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,u=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!s||s===u)&&(f!=null&&f.user)&&(r=f.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Em(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=r9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(li(this.app))return Promise.reject(Ha(this));const n=e?qt(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(Ha(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return li(this.app)?Promise.reject(Ha(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Io(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await S9(this),n=new A9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await v9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Io(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await Cu.create(this,[Io(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(u,this,"internal-error"),u.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{s=!0,f()}}else{const f=e.addObserver(n);return()=>{s=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&e9(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ic(t){return qt(t)}class B1{constructor(e){this.auth=e,this.observer=null,this.addObserver=qF(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function C9(t){bg=t}function uO(t){return bg.loadJS(t)}function x9(){return bg.recaptchaEnterpriseScript}function I9(){return bg.gapiScript}function R9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class P9{constructor(){this.enterprise=new M9}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class M9{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const N9="recaptcha-enterprise",cO="NO_RECAPTCHA";class D9{constructor(e){this.type=N9,this.auth=ic(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,u)=>{c9(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const c=new u9(f);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(f=>{u(f)})})}function i(o,s,u){const f=window.grecaptcha;O1(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(cO)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new P9().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(u=>{if(!n&&O1(window.grecaptcha))i(u,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let f=x9();f.length!==0&&(f+=u),uO(f).then(()=>{i(u,o,s)}).catch(c=>{s(c)})}}).catch(u=>{s(u)})})}}async function q1(t,e,n,r=!1,i=!1){const o=new D9(t);let s;if(i)s=cO;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,c=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:s}):Object.assign(u,{captchaResponse:s}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function F1(t,e,n,r,i){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await q1(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await q1(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(t,e){const n=TS(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(il(o,e??{}))return i;di(i,"already-initialized")}return n.initialize({options:e})}function k9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Io);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function L9(t,e,n){const r=ic(t);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=fO(e),{host:s,port:u}=V9(e),f=u===null?"":`:${u}`,c={url:`${o}//${s}${f}/`},h=Object.freeze({host:s,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(il(c,r.config.emulator)&&il(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,nc(s)?(U2(`${o}//${s}${f}`),B2("Auth",!0)):U9()}function fO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function V9(t){const e=fO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:$1(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:$1(s)}}}function $1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function U9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xo("not implemented")}_getIdTokenResponse(e){return xo("not implemented")}_linkToIdToken(e,n){return xo("not implemented")}_getReauthenticationResolver(e){return xo("not implemented")}}async function B9(t,e){return Ko(t,"POST","/v1/accounts:update",e)}async function q9(t,e){return Ko(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F9(t,e){return Ag(t,"POST","/v1/accounts:signInWithPassword",ml(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $9(t,e){return Ag(t,"POST","/v1/accounts:signInWithEmailLink",ml(t,e))}async function H9(t,e){return Ag(t,"POST","/v1/accounts:signInWithEmailLink",ml(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld extends bS{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ld(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ld(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return F1(e,n,"signInWithPassword",F9);case"emailLink":return $9(e,{email:this._email,oobCode:this._password});default:di(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return F1(e,r,"signUpPassword",q9);case"emailLink":return H9(e,{idToken:n,email:this._email,oobCode:this._password});default:di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(t,e){return Ag(t,"POST","/v1/accounts:signInWithIdp",ml(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9="http://localhost";class al extends bS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new al(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new al(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return xu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xu(e,n)}buildRequest(){const e={requestUri:z9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Md(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function K9(t){const e=$f(Hf(t)).link,n=e?$f(Hf(e)).deep_link_id:null,r=$f(Hf(t)).deep_link_id;return(r?$f(Hf(r)).link:null)||r||n||e||t}class CS{constructor(e){const n=$f(Hf(e)),r=n.apiKey??null,i=n.oobCode??null,o=G9(n.mode??null);Ve(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=K9(e);try{return new CS(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this.providerId=oc.PROVIDER_ID}static credential(e,n){return ld._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=CS.parseLink(n);return Ve(r,"argument-error"),ld._fromEmailAndCode(e,r.code,r.tenantId)}}oc.PROVIDER_ID="password";oc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd extends dO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends Dd{constructor(){super("facebook.com")}static credential(e){return al._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Da.credentialFromTaggedObject(e)}static credentialFromError(e){return Da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Da.credential(e.oauthAccessToken)}catch{return null}}}Da.FACEBOOK_SIGN_IN_METHOD="facebook.com";Da.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends Dd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return al._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Oa.credential(n,r)}catch{return null}}}Oa.GOOGLE_SIGN_IN_METHOD="google.com";Oa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends Dd{constructor(){super("github.com")}static credential(e){return al._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ka.credentialFromTaggedObject(e)}static credentialFromError(e){return ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ka.credential(e.oauthAccessToken)}catch{return null}}}ka.GITHUB_SIGN_IN_METHOD="github.com";ka.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends Dd{constructor(){super("twitter.com")}static credential(e,n){return al._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return La.credentialFromTaggedObject(e)}static credentialFromError(e){return La.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return La.credential(n,r)}catch{return null}}}La.TWITTER_SIGN_IN_METHOD="twitter.com";La.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await fi._fromIdTokenResponse(e,r,i),s=H1(r);return new Lu({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=H1(r);return new Lu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function H1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm extends Go{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Sm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Sm(e,n,r,i)}}function hO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Sm._fromErrorAndOperation(t,o,e,r):o})}async function j9(t,e,n=!1){const r=await ku(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Lu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y9(t,e,n=!1){const{auth:r}=t;if(li(r.app))return Promise.reject(Ha(r));const i="reauthenticate";try{const o=await ku(t,hO(r,i,e,t),n);Ve(o.idToken,r,"internal-error");const s=wS(o.idToken);Ve(s,r,"internal-error");const{sub:u}=s;return Ve(t.uid===u,r,"user-mismatch"),Lu._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&di(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO(t,e,n=!1){if(li(t.app))return Promise.reject(Ha(t));const r="signIn",i=await hO(t,r,e),o=await Lu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function W9(t,e){return pO(ic(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J9(t){const e=ic(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Q9(t,e,n){return li(t.app)?Promise.reject(Ha(t)):W9(qt(t),oc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&J9(t),r})}function X9(t,e){return Z9(qt(t),null,e)}async function Z9(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(o.password=n);const s=await ku(t,B9(r,o));await t._updateTokensIfNecessary(s,!0)}function e$(t,e,n,r){return qt(t).onIdTokenChanged(e,n,r)}function t$(t,e,n){return qt(t).beforeAuthStateChanged(e,n)}function n$(t,e,n,r){return qt(t).onAuthStateChanged(e,n,r)}function r$(t){return qt(t).signOut()}const wm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wm,"1"),this.storage.removeItem(wm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$=1e3,o$=10;class gO extends mO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,u,f)=>{this.notifyListeners(s,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);T9()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,o$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},i$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gO.type="LOCAL";const a$=gO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO extends mO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yO.type="SESSION";const vO=yO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Cg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(s).map(async c=>c(n.origin,o)),f=await s$(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((u,f)=>{const c=xS("",20);i.port1.start();const h=setTimeout(()=>{f(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(y){const _=y;if(_.data.eventId===c)switch(_.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(_.data.response);break;default:clearTimeout(h),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(){return window}function u$(t){qi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function c$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function f$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function d$(){return _O()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="firebaseLocalStorageDb",h$=1,Am="firebaseLocalStorage",EO="fbase_key";class Od{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xg(t,e){return t.transaction([Am],e?"readwrite":"readonly").objectStore(Am)}function p$(){const t=indexedDB.deleteDatabase(TO);return new Od(t).toPromise()}function FT(){const t=indexedDB.open(TO,h$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Am,{keyPath:EO})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Am)?e(r):(r.close(),await p$(),e(await FT()))})})}async function z1(t,e,n){const r=xg(t,!0).put({[EO]:e,value:n});return new Od(r).toPromise()}async function m$(t,e){const n=xg(t,!1).get(e),r=await new Od(n).toPromise();return r===void 0?null:r.value}function G1(t,e){const n=xg(t,!0).delete(e);return new Od(n).toPromise()}const g$=800,y$=3;class SO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await FT(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>y$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _O()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cg._getInstance(d$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await c$(),!this.activeServiceWorker)return;this.sender=new l$(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||f$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await FT();return await z1(e,wm,"1"),await G1(e,wm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>z1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>m$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>G1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=xg(i,!1).getAll();return new Od(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),g$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SO.type="LOCAL";const v$=SO;new Nd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(t,e){return e?Io(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS extends bS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function T$(t){return pO(t.auth,new IS(t),t.bypassAuthState)}function E$(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),Y9(n,new IS(t),t.bypassAuthState)}async function S$(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),j9(n,new IS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:u}=e;if(s){this.reject(s);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return T$;case"linkViaPopup":case"linkViaRedirect":return S$;case"reauthViaPopup":case"reauthViaRedirect":return E$;default:di(this.auth,"internal-error")}}resolve(e){Vo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w$=new Nd(2e3,1e4);class Eu extends wO{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Eu.currentPopupAction&&Eu.currentPopupAction.cancel(),Eu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Vo(this.filter.length===1,"Popup operations only handle one event");const e=xS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Eu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,w$.get())};e()}}Eu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$="pendingRedirect",rm=new Map;class b$ extends wO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=rm.get(this.auth._key());if(!e){try{const r=await C$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}rm.set(this.auth._key(),e)}return this.bypassAuthState||rm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function C$(t,e){const n=R$(e),r=I$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function x$(t,e){rm.set(t._key(),e)}function I$(t){return Io(t._redirectPersistence)}function R$(t){return nm(A$,t.config.apiKey,t.name)}async function P$(t,e,n=!1){if(li(t.app))return Promise.reject(Ha(t));const r=ic(t),i=_$(r,e),s=await new b$(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$=600*1e3;class N${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!D$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AO(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Bi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=M$&&this.cachedEventUids.clear(),this.cachedEventUids.has(K1(e))}saveEventToCache(e){this.cachedEventUids.add(K1(e)),this.lastProcessedEventTime=Date.now()}}function K1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function D$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O$(t,e={}){return Ko(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,L$=/^https?/;async function V$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await O$(t);for(const n of e)try{if(U$(n))return}catch{}di(t,"unauthorized-domain")}function U$(t){const e=BT(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!L$.test(n))return!1;if(k$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$=new Nd(3e4,6e4);function j1(){const t=qi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function q$(t){return new Promise((e,n)=>{var i,o,s;function r(){j1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j1(),n(Bi(t,"network-request-failed"))},timeout:B$.get()})}if((o=(i=qi().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=qi().gapi)!=null&&s.load)r();else{const u=R9("iframefcb");return qi()[u]=()=>{gapi.load?r():n(Bi(t,"network-request-failed"))},uO(`${I9()}?onload=${u}`).catch(f=>n(f))}}).catch(e=>{throw im=null,e})}let im=null;function F$(t){return im=im||q$(t),im}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$=new Nd(5e3,15e3),H$="__/auth/iframe",z$="emulator/auth/iframe",G$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},K$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j$(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?SS(e,z$):`https://${t.config.authDomain}/${H$}`,r={apiKey:e.apiKey,appName:t.name,v:rc},i=K$.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Md(r).slice(1)}`}async function Y$(t){const e=await F$(t),n=qi().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:j$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:G$,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Bi(t,"network-request-failed"),u=qi().setTimeout(()=>{o(s)},$$.get());function f(){qi().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},J$=500,Q$=600,X$="_blank",Z$="http://localhost";class Y1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eH(t,e,n,r=J$,i=Q$){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...W$,width:r.toString(),height:i.toString(),top:o,left:s},c=Gn().toLowerCase();n&&(u=nO(c)?X$:n),eO(c)&&(e=e||Z$,f.scrollbars="yes");const h=Object.entries(f).reduce((_,[S,w])=>`${_}${S}=${w},`,"");if(_9(c)&&u!=="_self")return tH(e||"",u),new Y1(null);const y=window.open(e||"",u,h);Ve(y,t,"popup-blocked");try{y.focus()}catch{}return new Y1(y)}function tH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nH="__/auth/handler",rH="emulator/auth/handler",iH=encodeURIComponent("fac");async function W1(t,e,n,r,i,o){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:rc,eventId:i};if(e instanceof dO){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",BF(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,y]of Object.entries({}))s[h]=y}if(e instanceof Dd){const h=e.getScopes().filter(y=>y!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const u=s;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const f=await t._getAppCheckToken(),c=f?`#${iH}=${encodeURIComponent(f)}`:"";return`${oH(t)}?${Md(u).slice(1)}${c}`}function oH({config:t}){return t.emulator?SS(t,rH):`https://${t.authDomain}/${nH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="webStorageSupport";class aH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vO,this._completeRedirectFn=P$,this._overrideRedirectResult=x$}async _openPopup(e,n,r,i){var s;Vo((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await W1(e,n,r,BT(),i);return eH(e,o,xS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await W1(e,n,r,BT(),i);return u$(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Vo(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Y$(e),r=new N$(e);return n.register("authEvent",i=>(Ve(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(U0,{type:U0},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[U0];o!==void 0&&n(!!o),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=V$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sO()||tO()||AS()}}const sH=aH;var J1="@firebase/auth",Q1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cH(t){Ou(new ol("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=r.options;Ve(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:s,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lO(t)},c=new b9(r,i,o,f);return k9(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ou(new ol("auth-internal",e=>{const n=ic(e.getProvider("auth").getImmediate());return(r=>new lH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$a(J1,Q1,uH(t)),$a(J1,Q1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fH=300,dH=V2("authIdTokenMaxAge")||fH;let X1=null;const hH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dH)return;const i=n==null?void 0:n.token;X1!==i&&(X1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pH(t=H2()){const e=TS(t,"auth");if(e.isInitialized())return e.getImmediate();const n=O9(t,{popupRedirectResolver:sH,persistence:[v$,a$,vO]}),r=V2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=hH(o.toString());t$(n,s,()=>s(n.currentUser)),e$(n,u=>s(u))}}const i=k2("auth");return i&&L9(n,`http://${i}`),n}function mH(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}C9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Bi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",mH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cH("Browser");var Z1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var za,bO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,k){function D(){}D.prototype=k.prototype,O.D=k.prototype,O.prototype=new D,O.prototype.constructor=O,O.C=function($,q,z){for(var H=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)H[Me-2]=arguments[Me];return k.prototype[q].apply($,H)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,k,D){D||(D=0);var $=Array(16);if(typeof k=="string")for(var q=0;16>q;++q)$[q]=k.charCodeAt(D++)|k.charCodeAt(D++)<<8|k.charCodeAt(D++)<<16|k.charCodeAt(D++)<<24;else for(q=0;16>q;++q)$[q]=k[D++]|k[D++]<<8|k[D++]<<16|k[D++]<<24;k=O.g[0],D=O.g[1],q=O.g[2];var z=O.g[3],H=k+(z^D&(q^z))+$[0]+3614090360&4294967295;k=D+(H<<7&4294967295|H>>>25),H=z+(q^k&(D^q))+$[1]+3905402710&4294967295,z=k+(H<<12&4294967295|H>>>20),H=q+(D^z&(k^D))+$[2]+606105819&4294967295,q=z+(H<<17&4294967295|H>>>15),H=D+(k^q&(z^k))+$[3]+3250441966&4294967295,D=q+(H<<22&4294967295|H>>>10),H=k+(z^D&(q^z))+$[4]+4118548399&4294967295,k=D+(H<<7&4294967295|H>>>25),H=z+(q^k&(D^q))+$[5]+1200080426&4294967295,z=k+(H<<12&4294967295|H>>>20),H=q+(D^z&(k^D))+$[6]+2821735955&4294967295,q=z+(H<<17&4294967295|H>>>15),H=D+(k^q&(z^k))+$[7]+4249261313&4294967295,D=q+(H<<22&4294967295|H>>>10),H=k+(z^D&(q^z))+$[8]+1770035416&4294967295,k=D+(H<<7&4294967295|H>>>25),H=z+(q^k&(D^q))+$[9]+2336552879&4294967295,z=k+(H<<12&4294967295|H>>>20),H=q+(D^z&(k^D))+$[10]+4294925233&4294967295,q=z+(H<<17&4294967295|H>>>15),H=D+(k^q&(z^k))+$[11]+2304563134&4294967295,D=q+(H<<22&4294967295|H>>>10),H=k+(z^D&(q^z))+$[12]+1804603682&4294967295,k=D+(H<<7&4294967295|H>>>25),H=z+(q^k&(D^q))+$[13]+4254626195&4294967295,z=k+(H<<12&4294967295|H>>>20),H=q+(D^z&(k^D))+$[14]+2792965006&4294967295,q=z+(H<<17&4294967295|H>>>15),H=D+(k^q&(z^k))+$[15]+1236535329&4294967295,D=q+(H<<22&4294967295|H>>>10),H=k+(q^z&(D^q))+$[1]+4129170786&4294967295,k=D+(H<<5&4294967295|H>>>27),H=z+(D^q&(k^D))+$[6]+3225465664&4294967295,z=k+(H<<9&4294967295|H>>>23),H=q+(k^D&(z^k))+$[11]+643717713&4294967295,q=z+(H<<14&4294967295|H>>>18),H=D+(z^k&(q^z))+$[0]+3921069994&4294967295,D=q+(H<<20&4294967295|H>>>12),H=k+(q^z&(D^q))+$[5]+3593408605&4294967295,k=D+(H<<5&4294967295|H>>>27),H=z+(D^q&(k^D))+$[10]+38016083&4294967295,z=k+(H<<9&4294967295|H>>>23),H=q+(k^D&(z^k))+$[15]+3634488961&4294967295,q=z+(H<<14&4294967295|H>>>18),H=D+(z^k&(q^z))+$[4]+3889429448&4294967295,D=q+(H<<20&4294967295|H>>>12),H=k+(q^z&(D^q))+$[9]+568446438&4294967295,k=D+(H<<5&4294967295|H>>>27),H=z+(D^q&(k^D))+$[14]+3275163606&4294967295,z=k+(H<<9&4294967295|H>>>23),H=q+(k^D&(z^k))+$[3]+4107603335&4294967295,q=z+(H<<14&4294967295|H>>>18),H=D+(z^k&(q^z))+$[8]+1163531501&4294967295,D=q+(H<<20&4294967295|H>>>12),H=k+(q^z&(D^q))+$[13]+2850285829&4294967295,k=D+(H<<5&4294967295|H>>>27),H=z+(D^q&(k^D))+$[2]+4243563512&4294967295,z=k+(H<<9&4294967295|H>>>23),H=q+(k^D&(z^k))+$[7]+1735328473&4294967295,q=z+(H<<14&4294967295|H>>>18),H=D+(z^k&(q^z))+$[12]+2368359562&4294967295,D=q+(H<<20&4294967295|H>>>12),H=k+(D^q^z)+$[5]+4294588738&4294967295,k=D+(H<<4&4294967295|H>>>28),H=z+(k^D^q)+$[8]+2272392833&4294967295,z=k+(H<<11&4294967295|H>>>21),H=q+(z^k^D)+$[11]+1839030562&4294967295,q=z+(H<<16&4294967295|H>>>16),H=D+(q^z^k)+$[14]+4259657740&4294967295,D=q+(H<<23&4294967295|H>>>9),H=k+(D^q^z)+$[1]+2763975236&4294967295,k=D+(H<<4&4294967295|H>>>28),H=z+(k^D^q)+$[4]+1272893353&4294967295,z=k+(H<<11&4294967295|H>>>21),H=q+(z^k^D)+$[7]+4139469664&4294967295,q=z+(H<<16&4294967295|H>>>16),H=D+(q^z^k)+$[10]+3200236656&4294967295,D=q+(H<<23&4294967295|H>>>9),H=k+(D^q^z)+$[13]+681279174&4294967295,k=D+(H<<4&4294967295|H>>>28),H=z+(k^D^q)+$[0]+3936430074&4294967295,z=k+(H<<11&4294967295|H>>>21),H=q+(z^k^D)+$[3]+3572445317&4294967295,q=z+(H<<16&4294967295|H>>>16),H=D+(q^z^k)+$[6]+76029189&4294967295,D=q+(H<<23&4294967295|H>>>9),H=k+(D^q^z)+$[9]+3654602809&4294967295,k=D+(H<<4&4294967295|H>>>28),H=z+(k^D^q)+$[12]+3873151461&4294967295,z=k+(H<<11&4294967295|H>>>21),H=q+(z^k^D)+$[15]+530742520&4294967295,q=z+(H<<16&4294967295|H>>>16),H=D+(q^z^k)+$[2]+3299628645&4294967295,D=q+(H<<23&4294967295|H>>>9),H=k+(q^(D|~z))+$[0]+4096336452&4294967295,k=D+(H<<6&4294967295|H>>>26),H=z+(D^(k|~q))+$[7]+1126891415&4294967295,z=k+(H<<10&4294967295|H>>>22),H=q+(k^(z|~D))+$[14]+2878612391&4294967295,q=z+(H<<15&4294967295|H>>>17),H=D+(z^(q|~k))+$[5]+4237533241&4294967295,D=q+(H<<21&4294967295|H>>>11),H=k+(q^(D|~z))+$[12]+1700485571&4294967295,k=D+(H<<6&4294967295|H>>>26),H=z+(D^(k|~q))+$[3]+2399980690&4294967295,z=k+(H<<10&4294967295|H>>>22),H=q+(k^(z|~D))+$[10]+4293915773&4294967295,q=z+(H<<15&4294967295|H>>>17),H=D+(z^(q|~k))+$[1]+2240044497&4294967295,D=q+(H<<21&4294967295|H>>>11),H=k+(q^(D|~z))+$[8]+1873313359&4294967295,k=D+(H<<6&4294967295|H>>>26),H=z+(D^(k|~q))+$[15]+4264355552&4294967295,z=k+(H<<10&4294967295|H>>>22),H=q+(k^(z|~D))+$[6]+2734768916&4294967295,q=z+(H<<15&4294967295|H>>>17),H=D+(z^(q|~k))+$[13]+1309151649&4294967295,D=q+(H<<21&4294967295|H>>>11),H=k+(q^(D|~z))+$[4]+4149444226&4294967295,k=D+(H<<6&4294967295|H>>>26),H=z+(D^(k|~q))+$[11]+3174756917&4294967295,z=k+(H<<10&4294967295|H>>>22),H=q+(k^(z|~D))+$[2]+718787259&4294967295,q=z+(H<<15&4294967295|H>>>17),H=D+(z^(q|~k))+$[9]+3951481745&4294967295,O.g[0]=O.g[0]+k&4294967295,O.g[1]=O.g[1]+(q+(H<<21&4294967295|H>>>11))&4294967295,O.g[2]=O.g[2]+q&4294967295,O.g[3]=O.g[3]+z&4294967295}r.prototype.u=function(O,k){k===void 0&&(k=O.length);for(var D=k-this.blockSize,$=this.B,q=this.h,z=0;z<k;){if(q==0)for(;z<=D;)i(this,O,z),z+=this.blockSize;if(typeof O=="string"){for(;z<k;)if($[q++]=O.charCodeAt(z++),q==this.blockSize){i(this,$),q=0;break}}else for(;z<k;)if($[q++]=O[z++],q==this.blockSize){i(this,$),q=0;break}}this.h=q,this.o+=k},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var k=1;k<O.length-8;++k)O[k]=0;var D=8*this.o;for(k=O.length-8;k<O.length;++k)O[k]=D&255,D/=256;for(this.u(O),O=Array(16),k=D=0;4>k;++k)for(var $=0;32>$;$+=8)O[D++]=this.g[k]>>>$&255;return O};function o(O,k){var D=u;return Object.prototype.hasOwnProperty.call(D,O)?D[O]:D[O]=k(O)}function s(O,k){this.h=k;for(var D=[],$=!0,q=O.length-1;0<=q;q--){var z=O[q]|0;$&&z==k||(D[q]=z,$=!1)}this.g=D}var u={};function f(O){return-128<=O&&128>O?o(O,function(k){return new s([k|0],0>k?-1:0)}):new s([O|0],0>O?-1:0)}function c(O){if(isNaN(O)||!isFinite(O))return y;if(0>O)return C(c(-O));for(var k=[],D=1,$=0;O>=D;$++)k[$]=O/D|0,D*=4294967296;return new s(k,0)}function h(O,k){if(O.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(O.charAt(0)=="-")return C(h(O.substring(1),k));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=c(Math.pow(k,8)),$=y,q=0;q<O.length;q+=8){var z=Math.min(8,O.length-q),H=parseInt(O.substring(q,q+z),k);8>z?(z=c(Math.pow(k,z)),$=$.j(z).add(c(H))):($=$.j(D),$=$.add(c(H)))}return $}var y=f(0),_=f(1),S=f(16777216);t=s.prototype,t.m=function(){if(A(this))return-C(this).m();for(var O=0,k=1,D=0;D<this.g.length;D++){var $=this.i(D);O+=(0<=$?$:4294967296+$)*k,k*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(w(this))return"0";if(A(this))return"-"+C(this).toString(O);for(var k=c(Math.pow(O,6)),D=this,$="";;){var q=U(D,k).g;D=I(D,q.j(k));var z=((0<D.g.length?D.g[0]:D.h)>>>0).toString(O);if(D=q,w(D))return z+$;for(;6>z.length;)z="0"+z;$=z+$}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function w(O){if(O.h!=0)return!1;for(var k=0;k<O.g.length;k++)if(O.g[k]!=0)return!1;return!0}function A(O){return O.h==-1}t.l=function(O){return O=I(this,O),A(O)?-1:w(O)?0:1};function C(O){for(var k=O.g.length,D=[],$=0;$<k;$++)D[$]=~O.g[$];return new s(D,~O.h).add(_)}t.abs=function(){return A(this)?C(this):this},t.add=function(O){for(var k=Math.max(this.g.length,O.g.length),D=[],$=0,q=0;q<=k;q++){var z=$+(this.i(q)&65535)+(O.i(q)&65535),H=(z>>>16)+(this.i(q)>>>16)+(O.i(q)>>>16);$=H>>>16,z&=65535,H&=65535,D[q]=H<<16|z}return new s(D,D[D.length-1]&-2147483648?-1:0)};function I(O,k){return O.add(C(k))}t.j=function(O){if(w(this)||w(O))return y;if(A(this))return A(O)?C(this).j(C(O)):C(C(this).j(O));if(A(O))return C(this.j(C(O)));if(0>this.l(S)&&0>O.l(S))return c(this.m()*O.m());for(var k=this.g.length+O.g.length,D=[],$=0;$<2*k;$++)D[$]=0;for($=0;$<this.g.length;$++)for(var q=0;q<O.g.length;q++){var z=this.i($)>>>16,H=this.i($)&65535,Me=O.i(q)>>>16,be=O.i(q)&65535;D[2*$+2*q]+=H*be,N(D,2*$+2*q),D[2*$+2*q+1]+=z*be,N(D,2*$+2*q+1),D[2*$+2*q+1]+=H*Me,N(D,2*$+2*q+1),D[2*$+2*q+2]+=z*Me,N(D,2*$+2*q+2)}for($=0;$<k;$++)D[$]=D[2*$+1]<<16|D[2*$];for($=k;$<2*k;$++)D[$]=0;return new s(D,0)};function N(O,k){for(;(O[k]&65535)!=O[k];)O[k+1]+=O[k]>>>16,O[k]&=65535,k++}function M(O,k){this.g=O,this.h=k}function U(O,k){if(w(k))throw Error("division by zero");if(w(O))return new M(y,y);if(A(O))return k=U(C(O),k),new M(C(k.g),C(k.h));if(A(k))return k=U(O,C(k)),new M(C(k.g),k.h);if(30<O.g.length){if(A(O)||A(k))throw Error("slowDivide_ only works with positive integers.");for(var D=_,$=k;0>=$.l(O);)D=B(D),$=B($);var q=G(D,1),z=G($,1);for($=G($,2),D=G(D,2);!w($);){var H=z.add($);0>=H.l(O)&&(q=q.add(D),z=H),$=G($,1),D=G(D,1)}return k=I(O,q.j(k)),new M(q,k)}for(q=y;0<=O.l(k);){for(D=Math.max(1,Math.floor(O.m()/k.m())),$=Math.ceil(Math.log(D)/Math.LN2),$=48>=$?1:Math.pow(2,$-48),z=c(D),H=z.j(k);A(H)||0<H.l(O);)D-=$,z=c(D),H=z.j(k);w(z)&&(z=_),q=q.add(z),O=I(O,H)}return new M(q,O)}t.A=function(O){return U(this,O).h},t.and=function(O){for(var k=Math.max(this.g.length,O.g.length),D=[],$=0;$<k;$++)D[$]=this.i($)&O.i($);return new s(D,this.h&O.h)},t.or=function(O){for(var k=Math.max(this.g.length,O.g.length),D=[],$=0;$<k;$++)D[$]=this.i($)|O.i($);return new s(D,this.h|O.h)},t.xor=function(O){for(var k=Math.max(this.g.length,O.g.length),D=[],$=0;$<k;$++)D[$]=this.i($)^O.i($);return new s(D,this.h^O.h)};function B(O){for(var k=O.g.length+1,D=[],$=0;$<k;$++)D[$]=O.i($)<<1|O.i($-1)>>>31;return new s(D,O.h)}function G(O,k){var D=k>>5;k%=32;for(var $=O.g.length-D,q=[],z=0;z<$;z++)q[z]=0<k?O.i(z+D)>>>k|O.i(z+D+1)<<32-k:O.i(z+D);return new s(q,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bO=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=h,za=s}).apply(typeof Z1<"u"?Z1:typeof self<"u"?self:typeof window<"u"?window:{});var Mp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CO,zf,xO,om,$T,IO,RO,PO;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,b,x){return v==Array.prototype||v==Object.prototype||(v[b]=x.value),v};function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mp=="object"&&Mp];for(var b=0;b<v.length;++b){var x=v[b];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(v,b){if(b)e:{var x=r;v=v.split(".");for(var V=0;V<v.length-1;V++){var J=v[V];if(!(J in x))break e;x=x[J]}v=v[v.length-1],V=x[v],b=b(V),b!=V&&b!=null&&e(x,v,{configurable:!0,writable:!0,value:b})}}function o(v,b){v instanceof String&&(v+="");var x=0,V=!1,J={next:function(){if(!V&&x<v.length){var ie=x++;return{value:b(ie,v[ie]),done:!1}}return V=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(v){return v||function(){return o(this,function(b,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},u=this||self;function f(v){var b=typeof v;return b=b!="object"?b:v?Array.isArray(v)?"array":b:"null",b=="array"||b=="object"&&typeof v.length=="number"}function c(v){var b=typeof v;return b=="object"&&v!=null||b=="function"}function h(v,b,x){return v.call.apply(v.bind,arguments)}function y(v,b,x){if(!v)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,V),v.apply(b,J)}}return function(){return v.apply(b,arguments)}}function _(v,b,x){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:y,_.apply(null,arguments)}function S(v,b){var x=Array.prototype.slice.call(arguments,1);return function(){var V=x.slice();return V.push.apply(V,arguments),v.apply(this,V)}}function w(v,b){function x(){}x.prototype=b.prototype,v.aa=b.prototype,v.prototype=new x,v.prototype.constructor=v,v.Qb=function(V,J,ie){for(var ye=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)ye[Qe-2]=arguments[Qe];return b.prototype[J].apply(V,ye)}}function A(v){const b=v.length;if(0<b){const x=Array(b);for(let V=0;V<b;V++)x[V]=v[V];return x}return[]}function C(v,b){for(let x=1;x<arguments.length;x++){const V=arguments[x];if(f(V)){const J=v.length||0,ie=V.length||0;v.length=J+ie;for(let ye=0;ye<ie;ye++)v[J+ye]=V[ye]}else v.push(V)}}class I{constructor(b,x){this.i=b,this.j=x,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function N(v){return/^[\s\xa0]*$/.test(v)}function M(){var v=u.navigator;return v&&(v=v.userAgent)?v:""}function U(v){return U[" "](v),v}U[" "]=function(){};var B=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function G(v,b,x){for(const V in v)b.call(x,v[V],V,v)}function O(v,b){for(const x in v)b.call(void 0,v[x],x,v)}function k(v){const b={};for(const x in v)b[x]=v[x];return b}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(v,b){let x,V;for(let J=1;J<arguments.length;J++){V=arguments[J];for(x in V)v[x]=V[x];for(let ie=0;ie<D.length;ie++)x=D[ie],Object.prototype.hasOwnProperty.call(V,x)&&(v[x]=V[x])}}function q(v){var b=1;v=v.split(":");const x=[];for(;0<b&&v.length;)x.push(v.shift()),b--;return v.length&&x.push(v.join(":")),x}function z(v){u.setTimeout(()=>{throw v},0)}function H(){var v=Le;let b=null;return v.g&&(b=v.g,v.g=v.g.next,v.g||(v.h=null),b.next=null),b}class Me{constructor(){this.h=this.g=null}add(b,x){const V=be.get();V.set(b,x),this.h?this.h.next=V:this.g=V,this.h=V}}var be=new I(()=>new ne,v=>v.reset());class ne{constructor(){this.next=this.g=this.h=null}set(b,x){this.h=b,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,_e=!1,Le=new Me,j=()=>{const v=u.Promise.resolve(void 0);pe=()=>{v.then(ce)}};var ce=()=>{for(var v;v=H();){try{v.h.call(v.g)}catch(x){z(x)}var b=be;b.j(v),100>b.h&&(b.h++,v.next=b.g,b.g=v)}_e=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(v,b){this.type=v,this.g=this.target=b,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Ae=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var v=!1,b=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const x=()=>{};u.addEventListener("test",x,b),u.removeEventListener("test",x,b)}catch{}return v})();function Re(v,b){if(me.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var x=this.type=v.type,V=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=b,b=v.relatedTarget){if(B){e:{try{U(b.nodeName);var J=!0;break e}catch{}J=!1}J||(b=null)}}else x=="mouseover"?b=v.fromElement:x=="mouseout"&&(b=v.toElement);this.relatedTarget=b,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:Ne[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&Re.aa.h.call(this)}}w(Re,me);var Ne={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),rt=0;function Z(v,b,x,V,J){this.listener=v,this.proxy=null,this.src=b,this.type=x,this.capture=!!V,this.ha=J,this.key=++rt,this.da=this.fa=!1}function he(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function ge(v){this.src=v,this.g={},this.h=0}ge.prototype.add=function(v,b,x,V,J){var ie=v.toString();v=this.g[ie],v||(v=this.g[ie]=[],this.h++);var ye=Pe(v,b,V,J);return-1<ye?(b=v[ye],x||(b.fa=!1)):(b=new Z(b,this.src,ie,!!V,J),b.fa=x,v.push(b)),b};function re(v,b){var x=b.type;if(x in v.g){var V=v.g[x],J=Array.prototype.indexOf.call(V,b,void 0),ie;(ie=0<=J)&&Array.prototype.splice.call(V,J,1),ie&&(he(b),v.g[x].length==0&&(delete v.g[x],v.h--))}}function Pe(v,b,x,V){for(var J=0;J<v.length;++J){var ie=v[J];if(!ie.da&&ie.listener==b&&ie.capture==!!x&&ie.ha==V)return J}return-1}var qe="closure_lm_"+(1e6*Math.random()|0),Tt={};function Ft(v,b,x,V,J){if(Array.isArray(b)){for(var ie=0;ie<b.length;ie++)Ft(v,b[ie],x,V,J);return null}return x=ah(x),v&&v[Nt]?v.K(b,x,c(V)?!!V.capture:!1,J):Dt(v,b,x,!1,V,J)}function Dt(v,b,x,V,J,ie){if(!b)throw Error("Invalid event type");var ye=c(J)?!!J.capture:!!J,Qe=Ti(v);if(Qe||(v[qe]=Qe=new ge(v)),x=Qe.add(b,x,V,ye,ie),x.proxy)return x;if(V=Qi(),x.proxy=V,V.src=v,V.listener=x,v.addEventListener)Ae||(J=ye),J===void 0&&(J=!1),v.addEventListener(b.toString(),V,J);else if(v.attachEvent)v.attachEvent(Kn(b.toString()),V);else if(v.addListener&&v.removeListener)v.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Qi(){function v(x){return b.call(v.src,v.listener,x)}const b=jn;return v}function Zo(v,b,x,V,J){if(Array.isArray(b))for(var ie=0;ie<b.length;ie++)Zo(v,b[ie],x,V,J);else V=c(V)?!!V.capture:!!V,x=ah(x),v&&v[Nt]?(v=v.i,b=String(b).toString(),b in v.g&&(ie=v.g[b],x=Pe(ie,x,V,J),-1<x&&(he(ie[x]),Array.prototype.splice.call(ie,x,1),ie.length==0&&(delete v.g[b],v.h--)))):v&&(v=Ti(v))&&(b=v.g[b.toString()],v=-1,b&&(v=Pe(b,x,V,J)),(x=-1<v?b[v]:null)&&Xi(x))}function Xi(v){if(typeof v!="number"&&v&&!v.da){var b=v.src;if(b&&b[Nt])re(b.i,v);else{var x=v.type,V=v.proxy;b.removeEventListener?b.removeEventListener(x,V,v.capture):b.detachEvent?b.detachEvent(Kn(x),V):b.addListener&&b.removeListener&&b.removeListener(V),(x=Ti(b))?(re(x,v),x.h==0&&(x.src=null,b[qe]=null)):he(v)}}}function Kn(v){return v in Tt?Tt[v]:Tt[v]="on"+v}function jn(v,b){if(v.da)v=!0;else{b=new Re(b,this);var x=v.listener,V=v.ha||v.src;v.fa&&Xi(v),v=x.call(V,b)}return v}function Ti(v){return v=v[qe],v instanceof ge?v:null}var ea="__closure_events_fn_"+(1e9*Math.random()>>>0);function ah(v){return typeof v=="function"?v:(v[ea]||(v[ea]=function(b){return v.handleEvent(b)}),v[ea])}function Lt(){ae.call(this),this.i=new ge(this),this.M=this,this.F=null}w(Lt,ae),Lt.prototype[Nt]=!0,Lt.prototype.removeEventListener=function(v,b,x,V){Zo(this,v,b,x,V)};function lt(v,b){var x,V=v.F;if(V)for(x=[];V;V=V.F)x.push(V);if(v=v.M,V=b.type||b,typeof b=="string")b=new me(b,v);else if(b instanceof me)b.target=b.target||v;else{var J=b;b=new me(V,v),$(b,J)}if(J=!0,x)for(var ie=x.length-1;0<=ie;ie--){var ye=b.g=x[ie];J=cr(ye,V,!0,b)&&J}if(ye=b.g=v,J=cr(ye,V,!0,b)&&J,J=cr(ye,V,!1,b)&&J,x)for(ie=0;ie<x.length;ie++)ye=b.g=x[ie],J=cr(ye,V,!1,b)&&J}Lt.prototype.N=function(){if(Lt.aa.N.call(this),this.i){var v=this.i,b;for(b in v.g){for(var x=v.g[b],V=0;V<x.length;V++)he(x[V]);delete v.g[b],v.h--}}this.F=null},Lt.prototype.K=function(v,b,x,V){return this.i.add(String(v),b,!1,x,V)},Lt.prototype.L=function(v,b,x,V){return this.i.add(String(v),b,!0,x,V)};function cr(v,b,x,V){if(b=v.i.g[String(b)],!b)return!0;b=b.concat();for(var J=!0,ie=0;ie<b.length;++ie){var ye=b[ie];if(ye&&!ye.da&&ye.capture==x){var Qe=ye.listener,rn=ye.ha||ye.src;ye.fa&&re(v.i,ye),J=Qe.call(rn,V)!==!1&&J}}return J&&!V.defaultPrevented}function Ln(v,b,x){if(typeof v=="function")x&&(v=_(v,x));else if(v&&typeof v.handleEvent=="function")v=_(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:u.setTimeout(v,b||0)}function sh(v){v.g=Ln(()=>{v.g=null,v.i&&(v.i=!1,sh(v))},v.l);const b=v.h;v.h=null,v.m.apply(null,b)}class by extends ae{constructor(b,x){super(),this.m=b,this.l=x,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:sh(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(v){ae.call(this),this.h=v,this.g={}}w(ls,ae);var us=[];function cs(v){G(v.g,function(b,x){this.g.hasOwnProperty(x)&&Xi(b)},v),v.g={}}ls.prototype.N=function(){ls.aa.N.call(this),cs(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ni=u.JSON.stringify,bl=u.JSON.parse,fs=class{stringify(v){return u.JSON.stringify(v,void 0)}parse(v){return u.JSON.parse(v,void 0)}};function Ac(){}Ac.prototype.h=null;function bc(v){return v.h||(v.h=v.i())}function Cc(){}var Zi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function eo(){me.call(this,"d")}w(eo,me);function xc(){me.call(this,"c")}w(xc,me);var Ei={},Ic=null;function ta(){return Ic=Ic||new Lt}Ei.La="serverreachability";function Cl(v){me.call(this,Ei.La,v)}w(Cl,me);function na(v){const b=ta();lt(b,new Cl(b))}Ei.STAT_EVENT="statevent";function lh(v,b){me.call(this,Ei.STAT_EVENT,v),this.stat=b}w(lh,me);function It(v){const b=ta();lt(b,new lh(b,v))}Ei.Ma="timingevent";function nn(v,b){me.call(this,Ei.Ma,v),this.size=b}w(nn,me);function jt(v,b){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){v()},b)}function Nr(){this.g=!0}Nr.prototype.xa=function(){this.g=!1};function Rc(v,b,x,V,J,ie){v.info(function(){if(v.g)if(ie)for(var ye="",Qe=ie.split("&"),rn=0;rn<Qe.length;rn++){var Xe=Qe[rn].split("=");if(1<Xe.length){var mn=Xe[0];Xe=Xe[1];var on=mn.split("_");ye=2<=on.length&&on[1]=="type"?ye+(mn+"="+Xe+"&"):ye+(mn+"=redacted&")}}else ye=null;else ye=ie;return"XMLHTTP REQ ("+V+") [attempt "+J+"]: "+b+`
`+x+`
`+ye})}function Cy(v,b,x,V,J,ie,ye){v.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+J+"]: "+b+`
`+x+`
`+ie+" "+ye})}function ra(v,b,x,V){v.info(function(){return"XMLHTTP TEXT ("+b+"): "+ds(v,x)+(V?" "+V:"")})}function uh(v,b){v.info(function(){return"TIMEOUT: "+b})}Nr.prototype.info=function(){};function ds(v,b){if(!v.g)return b;if(!b)return null;try{var x=JSON.parse(b);if(x){for(v=0;v<x.length;v++)if(Array.isArray(x[v])){var V=x[v];if(!(2>V.length)){var J=V[1];if(Array.isArray(J)&&!(1>J.length)){var ie=J[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ye=1;ye<J.length;ye++)J[ye]=""}}}}return ni(x)}catch{return b}}var ia={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},to={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Si;function wi(){}w(wi,Ac),wi.prototype.g=function(){return new XMLHttpRequest},wi.prototype.i=function(){return{}},Si=new wi;function Yn(v,b,x,V){this.j=v,this.i=b,this.l=x,this.R=V||1,this.U=new ls(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $t}function $t(){this.i=null,this.g="",this.h=!1}var Pc={},xl={};function ri(v,b,x){v.L=1,v.v=ys(fr(b)),v.m=x,v.P=!0,no(v,null)}function no(v,b){v.F=Date.now(),hs(v),v.A=fr(v.v);var x=v.A,V=v.R;Array.isArray(V)||(V=[String(V)]),Lc(x.i,"t",V),v.C=0,x=v.j.J,v.h=new $t,v.g=bh(v.j,x?b:null,!v.m),0<v.O&&(v.M=new by(_(v.Y,v,v.g),v.O)),b=v.U,x=v.g,V=v.ca;var J="readystatechange";Array.isArray(J)||(J&&(us[0]=J.toString()),J=us);for(var ie=0;ie<J.length;ie++){var ye=Ft(x,J[ie],V||b.handleEvent,!1,b.h||b);if(!ye)break;b.g[ye.key]=ye}b=v.H?k(v.H):{},v.m?(v.u||(v.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,b)):(v.u="GET",v.g.ea(v.A,v.u,null,b)),na(),Rc(v.i,v.u,v.A,v.l,v.R,v.m)}Yn.prototype.ca=function(v){v=v.target;const b=this.M;b&&Lr(v)==3?b.j():this.Y(v)},Yn.prototype.Y=function(v){try{if(v==this.g)e:{const on=Lr(this.g);var b=this.g.Ba();const co=this.g.Z();if(!(3>on)&&(on!=3||this.g&&(this.h.h||this.g.oa()||yh(this.g)))){this.J||on!=4||b==7||(b==8||0>=co?na(3):na(2)),oa(this);var x=this.g.Z();this.X=x;t:if(ch(this)){var V=yh(this.g);v="";var J=V.length,ie=Lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bn(this),Ai(this);var ye="";break t}this.h.i=new u.TextDecoder}for(b=0;b<J;b++)this.h.h=!0,v+=this.h.i.decode(V[b],{stream:!(ie&&b==J-1)});V.length=0,this.h.g+=v,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=x==200,Cy(this.i,this.u,this.A,this.l,this.R,on,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,rn=this.g;if((Qe=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(Qe)){var Xe=Qe;break t}}Xe=null}if(x=Xe)ra(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ps(this,x);else{this.o=!1,this.s=3,It(12),bn(this),Ai(this);break e}}if(this.P){x=!0;let Cn;for(;!this.J&&this.C<ye.length;)if(Cn=fh(this,ye),Cn==xl){on==4&&(this.s=4,It(14),x=!1),ra(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==Pc){this.s=4,It(15),ra(this.i,this.l,ye,"[Invalid Chunk]"),x=!1;break}else ra(this.i,this.l,Cn,null),ps(this,Cn);if(ch(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||ye.length!=0||this.h.h||(this.s=1,It(16),x=!1),this.o=this.o&&x,!x)ra(this.i,this.l,ye,"[Invalid Chunked Response]"),bn(this),Ai(this);else if(0<ye.length&&!this.W){this.W=!0;var mn=this.j;mn.g==this&&mn.ba&&!mn.M&&(mn.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),bs(mn),mn.M=!0,It(11))}}else ra(this.i,this.l,ye,null),ps(this,ye);on==4&&bn(this),this.o&&!this.J&&(on==4?Sh(this.j,this):(this.o=!1,hs(this)))}else My(this.g),x==400&&0<ye.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),bn(this),Ai(this)}}}catch{}finally{}};function ch(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function fh(v,b){var x=v.C,V=b.indexOf(`
`,x);return V==-1?xl:(x=Number(b.substring(x,V)),isNaN(x)?Pc:(V+=1,V+x>b.length?xl:(b=b.slice(V,V+x),v.C=V+x,b)))}Yn.prototype.cancel=function(){this.J=!0,bn(this)};function hs(v){v.S=Date.now()+v.I,dh(v,v.I)}function dh(v,b){if(v.B!=null)throw Error("WatchDog timer not null");v.B=jt(_(v.ba,v),b)}function oa(v){v.B&&(u.clearTimeout(v.B),v.B=null)}Yn.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(uh(this.i,this.A),this.L!=2&&(na(),It(17)),bn(this),this.s=2,Ai(this)):dh(this,this.S-v)};function Ai(v){v.j.G==0||v.J||Sh(v.j,v)}function bn(v){oa(v);var b=v.M;b&&typeof b.ma=="function"&&b.ma(),v.M=null,cs(v.U),v.g&&(b=v.g,v.g=null,b.abort(),b.ma())}function ps(v,b){try{var x=v.j;if(x.G!=0&&(x.g==v||Mc(x.h,v))){if(!v.K&&Mc(x.h,v)&&x.G==3){try{var V=x.Da.g.parse(b)}catch{V=null}if(Array.isArray(V)&&V.length==3){var J=V;if(J[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<v.F)Bl(x),Vl(x);else break e;Fc(x),It(18)}}else x.za=J[1],0<x.za-x.T&&37500>J[2]&&x.F&&x.v==0&&!x.C&&(x.C=jt(_(x.Za,x),6e3));if(1>=Rl(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else uo(x,11)}else if((v.K||x.g==v)&&Bl(x),!N(b))for(J=x.Da.g.parse(b),b=0;b<J.length;b++){let Xe=J[b];if(x.T=Xe[0],Xe=Xe[1],x.G==2)if(Xe[0]=="c"){x.K=Xe[1],x.ia=Xe[2];const mn=Xe[3];mn!=null&&(x.la=mn,x.j.info("VER="+x.la));const on=Xe[4];on!=null&&(x.Aa=on,x.j.info("SVER="+x.Aa));const co=Xe[5];co!=null&&typeof co=="number"&&0<co&&(V=1.5*co,x.L=V,x.j.info("backChannelRequestTimeoutMs_="+V)),V=x;const Cn=v.g;if(Cn){const Mi=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mi){var ie=V.h;ie.g||Mi.indexOf("spdy")==-1&&Mi.indexOf("quic")==-1&&Mi.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Pl(ie,ie.h),ie.h=null))}if(V.D){const Hc=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Hc&&(V.ya=Hc,ht(V.I,V.D,Hc))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-v.F,x.j.info("Handshake RTT: "+x.R+"ms")),V=x;var ye=v;if(V.qa=Ah(V,V.J?V.ia:null,V.W),ye.K){Wn(V.h,ye);var Qe=ye,rn=V.L;rn&&(Qe.I=rn),Qe.B&&(oa(Qe),hs(Qe)),V.g=ye}else Th(V);0<x.i.length&&Ul(x)}else Xe[0]!="stop"&&Xe[0]!="close"||uo(x,7);else x.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?uo(x,7):Bc(x):Xe[0]!="noop"&&x.l&&x.l.ta(Xe),x.v=0)}}na(4)}catch{}}var hh=class{constructor(v,b){this.g=v,this.map=b}};function ro(v){this.l=v||10,u.PerformanceNavigationTiming?(v=u.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Il(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function Rl(v){return v.h?1:v.g?v.g.size:0}function Mc(v,b){return v.h?v.h==b:v.g?v.g.has(b):!1}function Pl(v,b){v.g?v.g.add(b):v.h=b}function Wn(v,b){v.h&&v.h==b?v.h=null:v.g&&v.g.has(b)&&v.g.delete(b)}ro.prototype.cancel=function(){if(this.i=Nc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Nc(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let b=v.i;for(const x of v.g.values())b=b.concat(x.D);return b}return A(v.i)}function xy(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(f(v)){for(var b=[],x=v.length,V=0;V<x;V++)b.push(v[V]);return b}b=[],x=0;for(V in v)b[x++]=v[V];return b}function Ml(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(f(v)||typeof v=="string"){var b=[];v=v.length;for(var x=0;x<v;x++)b.push(x);return b}b=[],x=0;for(const V in v)b[x++]=V;return b}}}function Dc(v,b){if(v.forEach&&typeof v.forEach=="function")v.forEach(b,void 0);else if(f(v)||typeof v=="string")Array.prototype.forEach.call(v,b,void 0);else for(var x=Ml(v),V=xy(v),J=V.length,ie=0;ie<J;ie++)b.call(void 0,V[ie],x&&x[ie],v)}var ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Iy(v,b){if(v){v=v.split("&");for(var x=0;x<v.length;x++){var V=v[x].indexOf("="),J=null;if(0<=V){var ie=v[x].substring(0,V);J=v[x].substring(V+1)}else ie=v[x];b(ie,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Yt(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof Yt){this.h=v.h,gs(this,v.j),this.o=v.o,this.g=v.g,aa(this,v.s),this.l=v.l;var b=v.i,x=new oo;x.i=b.i,b.g&&(x.g=new Map(b.g),x.h=b.h),io(this,x),this.m=v.m}else v&&(b=String(v).match(ms))?(this.h=!1,gs(this,b[1]||"",!0),this.o=Dr(b[2]||""),this.g=Dr(b[3]||"",!0),aa(this,b[4]),this.l=Dr(b[5]||"",!0),io(this,b[6]||"",!0),this.m=Dr(b[7]||"")):(this.h=!1,this.i=new oo(null,this.h))}Yt.prototype.toString=function(){var v=[],b=this.j;b&&v.push(vs(b,Oc,!0),":");var x=this.g;return(x||b=="file")&&(v.push("//"),(b=this.o)&&v.push(vs(b,Oc,!0),"@"),v.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&v.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&v.push("/"),v.push(vs(x,x.charAt(0)=="/"?Ry:kc,!0))),(x=this.i.toString())&&v.push("?",x),(x=this.m)&&v.push("#",vs(x,Nl)),v.join("")};function fr(v){return new Yt(v)}function gs(v,b,x){v.j=x?Dr(b,!0):b,v.j&&(v.j=v.j.replace(/:$/,""))}function aa(v,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);v.s=b}else v.s=null}function io(v,b,x){b instanceof oo?(v.i=b,mh(v.i,v.h)):(x||(b=vs(b,Py)),v.i=new oo(b,v.h))}function ht(v,b,x){v.i.set(b,x)}function ys(v){return ht(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function Dr(v,b){return v?b?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function vs(v,b,x){return typeof v=="string"?(v=encodeURI(v).replace(b,ph),x&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function ph(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Oc=/[#\/\?@]/g,kc=/[#\?:]/g,Ry=/[#\?]/g,Py=/[#\?@]/g,Nl=/#/g;function oo(v,b){this.h=this.g=null,this.i=v||null,this.j=!!b}function Or(v){v.g||(v.g=new Map,v.h=0,v.i&&Iy(v.i,function(b,x){v.add(decodeURIComponent(b.replace(/\+/g," ")),x)}))}t=oo.prototype,t.add=function(v,b){Or(this),this.i=null,v=bi(this,v);var x=this.g.get(v);return x||this.g.set(v,x=[]),x.push(b),this.h+=1,this};function ao(v,b){Or(v),b=bi(v,b),v.g.has(b)&&(v.i=null,v.h-=v.g.get(b).length,v.g.delete(b))}function so(v,b){return Or(v),b=bi(v,b),v.g.has(b)}t.forEach=function(v,b){Or(this),this.g.forEach(function(x,V){x.forEach(function(J){v.call(b,J,V,this)},this)},this)},t.na=function(){Or(this);const v=Array.from(this.g.values()),b=Array.from(this.g.keys()),x=[];for(let V=0;V<b.length;V++){const J=v[V];for(let ie=0;ie<J.length;ie++)x.push(b[V])}return x},t.V=function(v){Or(this);let b=[];if(typeof v=="string")so(this,v)&&(b=b.concat(this.g.get(bi(this,v))));else{v=Array.from(this.g.values());for(let x=0;x<v.length;x++)b=b.concat(v[x])}return b},t.set=function(v,b){return Or(this),this.i=null,v=bi(this,v),so(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[b]),this.h+=1,this},t.get=function(v,b){return v?(v=this.V(v),0<v.length?String(v[0]):b):b};function Lc(v,b,x){ao(v,b),0<x.length&&(v.i=null,v.g.set(bi(v,b),A(x)),v.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],b=Array.from(this.g.keys());for(var x=0;x<b.length;x++){var V=b[x];const ie=encodeURIComponent(String(V)),ye=this.V(V);for(V=0;V<ye.length;V++){var J=ie;ye[V]!==""&&(J+="="+encodeURIComponent(String(ye[V]))),v.push(J)}}return this.i=v.join("&")};function bi(v,b){return b=String(b),v.j&&(b=b.toLowerCase()),b}function mh(v,b){b&&!v.j&&(Or(v),v.i=null,v.g.forEach(function(x,V){var J=V.toLowerCase();V!=J&&(ao(this,V),Lc(this,J,x))},v)),v.j=b}function _s(v,b){const x=new Nr;if(u.Image){const V=new Image;V.onload=S(kr,x,"TestLoadImage: loaded",!0,b,V),V.onerror=S(kr,x,"TestLoadImage: error",!1,b,V),V.onabort=S(kr,x,"TestLoadImage: abort",!1,b,V),V.ontimeout=S(kr,x,"TestLoadImage: timeout",!1,b,V),u.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=v}else b(!1)}function ii(v,b){const x=new Nr,V=new AbortController,J=setTimeout(()=>{V.abort(),kr(x,"TestPingServer: timeout",!1,b)},1e4);fetch(v,{signal:V.signal}).then(ie=>{clearTimeout(J),ie.ok?kr(x,"TestPingServer: ok",!0,b):kr(x,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(J),kr(x,"TestPingServer: error",!1,b)})}function kr(v,b,x,V,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),V(x)}catch{}}function Ts(){this.g=new fs}function Ci(v,b,x){const V=x||"";try{Dc(v,function(J,ie){let ye=J;c(J)&&(ye=ni(J)),b.push(V+ie+"="+encodeURIComponent(ye))})}catch(J){throw b.push(V+"type="+encodeURIComponent("_badmap")),J}}function sa(v){this.l=v.Ub||null,this.j=v.eb||!1}w(sa,Ac),sa.prototype.g=function(){return new lo(this.l,this.j)},sa.prototype.i=(function(v){return function(){return v}})({});function lo(v,b){Lt.call(this),this.D=v,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(lo,Lt),t=lo.prototype,t.open=function(v,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=b,this.readyState=1,Ii(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(b.body=v),(this.D||u).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xi(this)),this.readyState=0},t.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Ii(this)),this.g&&(this.readyState=3,Ii(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vc(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vc(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}t.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var b=v.value?v.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!v.done}))&&(this.response=this.responseText+=b)}v.done?xi(this):Ii(this),this.readyState==3&&Vc(this)}},t.Ra=function(v){this.g&&(this.response=this.responseText=v,xi(this))},t.Qa=function(v){this.g&&(this.response=v,xi(this))},t.ga=function(){this.g&&xi(this)};function xi(v){v.readyState=4,v.l=null,v.j=null,v.v=null,Ii(v)}t.setRequestHeader=function(v,b){this.u.append(v,b)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],b=this.h.entries();for(var x=b.next();!x.done;)x=x.value,v.push(x[0]+": "+x[1]),x=b.next();return v.join(`\r
`)};function Ii(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(lo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Uc(v){let b="";return G(v,function(x,V){b+=V,b+=":",b+=x,b+=`\r
`}),b}function pn(v,b,x){e:{for(V in x){var V=!1;break e}V=!0}V||(x=Uc(x),typeof v=="string"?x!=null&&encodeURIComponent(String(x)):ht(v,b,x))}function at(v){Lt.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(at,Lt);var Dl=/^https?$/i,Es=["POST","PUT"];t=at.prototype,t.Ha=function(v){this.J=v},t.ea=function(v,b,x,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);b=b?b.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Si.g(),this.v=this.o?bc(this.o):bc(Si),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(b,String(v),!0),this.B=!1}catch(ie){gh(this,ie);return}if(v=x||"",x=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var J in V)x.set(J,V[J]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ie of V.keys())x.set(ie,V.get(ie));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(x.keys()).find(ie=>ie.toLowerCase()=="content-type"),J=u.FormData&&v instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Es,b,void 0))||V||J||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ye]of x)this.g.setRequestHeader(ie,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ss(this),this.u=!0,this.g.send(v),this.u=!1}catch(ie){gh(this,ie)}};function gh(v,b){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=b,v.m=5,Ol(v),Ri(v)}function Ol(v){v.A||(v.A=!0,lt(v,"complete"),lt(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,lt(this,"complete"),lt(this,"abort"),Ri(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),at.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?kl(this):this.bb())},t.bb=function(){kl(this)};function kl(v){if(v.h&&typeof s<"u"&&(!v.v[1]||Lr(v)!=4||v.Z()!=2)){if(v.u&&Lr(v)==4)Ln(v.Ea,0,v);else if(lt(v,"readystatechange"),Lr(v)==4){v.h=!1;try{const ye=v.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var x;if(!(x=b)){var V;if(V=ye===0){var J=String(v.D).match(ms)[1]||null;!J&&u.self&&u.self.location&&(J=u.self.location.protocol.slice(0,-1)),V=!Dl.test(J?J.toLowerCase():"")}x=V}if(x)lt(v,"complete"),lt(v,"success");else{v.m=6;try{var ie=2<Lr(v)?v.g.statusText:""}catch{ie=""}v.l=ie+" ["+v.Z()+"]",Ol(v)}}finally{Ri(v)}}}}function Ri(v,b){if(v.g){Ss(v);const x=v.g,V=v.v[0]?()=>{}:null;v.g=null,v.v=null,b||lt(v,"ready");try{x.onreadystatechange=V}catch{}}}function Ss(v){v.I&&(u.clearTimeout(v.I),v.I=null)}t.isActive=function(){return!!this.g};function Lr(v){return v.g?v.g.readyState:0}t.Z=function(){try{return 2<Lr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(v){if(this.g){var b=this.g.responseText;return v&&b.indexOf(v)==0&&(b=b.substring(v.length)),bl(b)}};function yh(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function My(v){const b={};v=(v.g&&2<=Lr(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<v.length;V++){if(N(v[V]))continue;var x=q(v[V]);const J=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const ie=b[J]||[];b[J]=ie,ie.push(x)}O(b,function(V){return V.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ws(v,b,x){return x&&x.internalChannelParams&&x.internalChannelParams[v]||b}function Ll(v){this.Aa=0,this.i=[],this.j=new Nr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ws("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ws("baseRetryDelayMs",5e3,v),this.cb=ws("retryDelaySeedMs",1e4,v),this.Wa=ws("forwardChannelMaxRetries",2,v),this.wa=ws("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new ro(v&&v.concurrentRequestLimit),this.Da=new Ts,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ll.prototype,t.la=8,t.G=1,t.connect=function(v,b,x,V){It(0),this.W=v,this.H=b||{},x&&V!==void 0&&(this.H.OSID=x,this.H.OAID=V),this.F=this.X,this.I=Ah(this,null,this.W),Ul(this)};function Bc(v){if(vh(v),v.G==3){var b=v.U++,x=fr(v.I);if(ht(x,"SID",v.K),ht(x,"RID",b),ht(x,"TYPE","terminate"),As(v,x),b=new Yn(v,v.j,b),b.L=2,b.v=ys(fr(x)),x=!1,u.navigator&&u.navigator.sendBeacon)try{x=u.navigator.sendBeacon(b.v.toString(),"")}catch{}!x&&u.Image&&(new Image().src=b.v,x=!0),x||(b.g=bh(b.j,null),b.g.ea(b.v)),b.F=Date.now(),hs(b)}wh(v)}function Vl(v){v.g&&(bs(v),v.g.cancel(),v.g=null)}function vh(v){Vl(v),v.u&&(u.clearTimeout(v.u),v.u=null),Bl(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&u.clearTimeout(v.s),v.s=null)}function Ul(v){if(!Il(v.h)&&!v.s){v.s=!0;var b=v.Ga;pe||j(),_e||(pe(),_e=!0),Le.add(b,v),v.B=0}}function Ny(v,b){return Rl(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=b.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=jt(_(v.Ga,v,b),$c(v,v.B)),v.B++,!0)}t.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const J=new Yn(this,this.j,v);let ie=this.o;if(this.S&&(ie?(ie=k(ie),$(ie,this.S)):ie=this.S),this.m!==null||this.O||(J.H=ie,ie=null),this.P)e:{for(var b=0,x=0;x<this.i.length;x++){t:{var V=this.i[x];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(b+=V,4096<b){b=x;break e}if(b===4096||x===this.i.length-1){b=x+1;break e}}b=1e3}else b=1e3;b=_h(this,J,b),x=fr(this.I),ht(x,"RID",v),ht(x,"CVER",22),this.D&&ht(x,"X-HTTP-Session-Id",this.D),As(this,x),ie&&(this.O?b="headers="+encodeURIComponent(String(Uc(ie)))+"&"+b:this.m&&pn(x,this.m,ie)),Pl(this.h,J),this.Ua&&ht(x,"TYPE","init"),this.P?(ht(x,"$req",b),ht(x,"SID","null"),J.T=!0,ri(J,x,null)):ri(J,x,b),this.G=2}}else this.G==3&&(v?qc(this,v):this.i.length==0||Il(this.h)||qc(this))};function qc(v,b){var x;b?x=b.l:x=v.U++;const V=fr(v.I);ht(V,"SID",v.K),ht(V,"RID",x),ht(V,"AID",v.T),As(v,V),v.m&&v.o&&pn(V,v.m,v.o),x=new Yn(v,v.j,x,v.B+1),v.m===null&&(x.H=v.o),b&&(v.i=b.D.concat(v.i)),b=_h(v,x,1e3),x.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),Pl(v.h,x),ri(x,V,b)}function As(v,b){v.H&&G(v.H,function(x,V){ht(b,V,x)}),v.l&&Dc({},function(x,V){ht(b,V,x)})}function _h(v,b,x){x=Math.min(v.i.length,x);var V=v.l?_(v.l.Na,v.l,v):null;e:{var J=v.i;let ie=-1;for(;;){const ye=["count="+x];ie==-1?0<x?(ie=J[0].g,ye.push("ofs="+ie)):ie=0:ye.push("ofs="+ie);let Qe=!0;for(let rn=0;rn<x;rn++){let Xe=J[rn].g;const mn=J[rn].map;if(Xe-=ie,0>Xe)ie=Math.max(0,J[rn].g-100),Qe=!1;else try{Ci(mn,ye,"req"+Xe+"_")}catch{V&&V(mn)}}if(Qe){V=ye.join("&");break e}}}return v=v.i.splice(0,x),b.D=v,V}function Th(v){if(!v.g&&!v.u){v.Y=1;var b=v.Fa;pe||j(),_e||(pe(),_e=!0),Le.add(b,v),v.v=0}}function Fc(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=jt(_(v.Fa,v),$c(v,v.v)),v.v++,!0)}t.Fa=function(){if(this.u=null,Eh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=jt(_(this.ab,this),v)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),Vl(this),Eh(this))};function bs(v){v.A!=null&&(u.clearTimeout(v.A),v.A=null)}function Eh(v){v.g=new Yn(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var b=fr(v.qa);ht(b,"RID","rpc"),ht(b,"SID",v.K),ht(b,"AID",v.T),ht(b,"CI",v.F?"0":"1"),!v.F&&v.ja&&ht(b,"TO",v.ja),ht(b,"TYPE","xmlhttp"),As(v,b),v.m&&v.o&&pn(b,v.m,v.o),v.L&&(v.g.I=v.L);var x=v.g;v=v.ia,x.L=1,x.v=ys(fr(b)),x.m=null,x.P=!0,no(x,v)}t.Za=function(){this.C!=null&&(this.C=null,Vl(this),Fc(this),It(19))};function Bl(v){v.C!=null&&(u.clearTimeout(v.C),v.C=null)}function Sh(v,b){var x=null;if(v.g==b){Bl(v),bs(v),v.g=null;var V=2}else if(Mc(v.h,b))x=b.D,Wn(v.h,b),V=1;else return;if(v.G!=0){if(b.o)if(V==1){x=b.m?b.m.length:0,b=Date.now()-b.F;var J=v.B;V=ta(),lt(V,new nn(V,x)),Ul(v)}else Th(v);else if(J=b.s,J==3||J==0&&0<b.X||!(V==1&&Ny(v,b)||V==2&&Fc(v)))switch(x&&0<x.length&&(b=v.h,b.i=b.i.concat(x)),J){case 1:uo(v,5);break;case 4:uo(v,10);break;case 3:uo(v,6);break;default:uo(v,2)}}}function $c(v,b){let x=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(x*=2),x*b}function uo(v,b){if(v.j.info("Error code "+b),b==2){var x=_(v.fb,v),V=v.Xa;const J=!V;V=new Yt(V||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||gs(V,"https"),ys(V),J?_s(V.toString(),x):ii(V.toString(),x)}else It(2);v.G=0,v.l&&v.l.sa(b),wh(v),vh(v)}t.fb=function(v){v?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function wh(v){if(v.G=0,v.ka=[],v.l){const b=Nc(v.h);(b.length!=0||v.i.length!=0)&&(C(v.ka,b),C(v.ka,v.i),v.h.i.length=0,A(v.i),v.i.length=0),v.l.ra()}}function Ah(v,b,x){var V=x instanceof Yt?fr(x):new Yt(x);if(V.g!="")b&&(V.g=b+"."+V.g),aa(V,V.s);else{var J=u.location;V=J.protocol,b=b?b+"."+J.hostname:J.hostname,J=+J.port;var ie=new Yt(null);V&&gs(ie,V),b&&(ie.g=b),J&&aa(ie,J),x&&(ie.l=x),V=ie}return x=v.D,b=v.ya,x&&b&&ht(V,x,b),ht(V,"VER",v.la),As(v,V),V}function bh(v,b,x){if(b&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=v.Ca&&!v.pa?new at(new sa({eb:x})):new at(v.pa),b.Ha(v.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ch(){}t=Ch.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ql(){}ql.prototype.g=function(v,b){return new Jn(v,b)};function Jn(v,b){Lt.call(this),this.g=new Ll(b),this.l=v,this.h=b&&b.messageUrlParams||null,v=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(v?v["X-WebChannel-Content-Type"]=b.messageContentType:v={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(v?v["X-WebChannel-Client-Profile"]=b.va:v={"X-WebChannel-Client-Profile":b.va}),this.g.S=v,(v=b&&b.Sb)&&!N(v)&&(this.g.m=v),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!N(b)&&(this.g.D=b,v=this.h,v!==null&&b in v&&(v=this.h,b in v&&delete v[b])),this.j=new Pi(this)}w(Jn,Lt),Jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jn.prototype.close=function(){Bc(this.g)},Jn.prototype.o=function(v){var b=this.g;if(typeof v=="string"){var x={};x.__data__=v,v=x}else this.u&&(x={},x.__data__=ni(v),v=x);b.i.push(new hh(b.Ya++,v)),b.G==3&&Ul(b)},Jn.prototype.N=function(){this.g.l=null,delete this.j,Bc(this.g),delete this.g,Jn.aa.N.call(this)};function xh(v){eo.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var b=v.__sm__;if(b){e:{for(const x in b){v=x;break e}v=void 0}(this.i=v)&&(v=this.i,b=b!==null&&v in b?b[v]:void 0),this.data=b}else this.data=v}w(xh,eo);function Ih(){xc.call(this),this.status=1}w(Ih,xc);function Pi(v){this.g=v}w(Pi,Ch),Pi.prototype.ua=function(){lt(this.g,"a")},Pi.prototype.ta=function(v){lt(this.g,new xh(v))},Pi.prototype.sa=function(v){lt(this.g,new Ih)},Pi.prototype.ra=function(){lt(this.g,"b")},ql.prototype.createWebChannel=ql.prototype.g,Jn.prototype.send=Jn.prototype.o,Jn.prototype.open=Jn.prototype.m,Jn.prototype.close=Jn.prototype.close,PO=function(){return new ql},RO=function(){return ta()},IO=Ei,$T={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ia.NO_ERROR=0,ia.TIMEOUT=8,ia.HTTP_ERROR=6,om=ia,to.COMPLETE="complete",xO=to,Cc.EventType=Zi,Zi.OPEN="a",Zi.CLOSE="b",Zi.ERROR="c",Zi.MESSAGE="d",Lt.prototype.listen=Lt.prototype.K,zf=Cc,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,CO=at}).apply(typeof Mp<"u"?Mp:typeof self<"u"?self:typeof window<"u"?window:{});const eI="@firebase/firestore",tI="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fn.UNAUTHENTICATED=new Fn(null),Fn.GOOGLE_CREDENTIALS=new Fn("google-credentials-uid"),Fn.FIRST_PARTY=new Fn("first-party-uid"),Fn.MOCK_USER=new Fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=new vS("@firebase/firestore");function yu(){return sl.logLevel}function Te(t,...e){if(sl.logLevel<=Ye.DEBUG){const n=e.map(RS);sl.debug(`Firestore (${ac}): ${t}`,...n)}}function Uo(t,...e){if(sl.logLevel<=Ye.ERROR){const n=e.map(RS);sl.error(`Firestore (${ac}): ${t}`,...n)}}function Vu(t,...e){if(sl.logLevel<=Ye.WARN){const n=e.map(RS);sl.warn(`Firestore (${ac}): ${t}`,...n)}}function RS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,MO(t,r,n)}function MO(t,e,n){let r=`FIRESTORE (${ac}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Uo(r),new Error(r)}function st(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||MO(e,i,r)}function $e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Go{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Fn.UNAUTHENTICATED)))}shutdown(){}}class yH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class vH{constructor(e){this.t=e,this.currentUser=Fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new No;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new No,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new No)}}),0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string",31837,{l:r}),new NO(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new Fn(e)}}class _H{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TH{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new _H(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EH{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,li(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const r=o=>{o.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,Te("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new nI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new nI(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=SH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function HT(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return B0(i)===B0(o)?We(i,o):B0(i)?1:-1}return We(t.length,e.length)}const wH=55296,AH=57343;function B0(t){const e=t.charCodeAt(0);return e>=wH&&e<=AH}function Uu(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="__name__";class Vi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ue(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ue(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Vi.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return We(e.length,n.length)}static compareSegments(e,n){const r=Vi.isNumericId(e),i=Vi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Vi.extractNumericId(e).compare(Vi.extractNumericId(n)):HT(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return za.fromString(e.substring(4,e.length-2))}}class wt extends Vi{construct(e,n,r){return new wt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new wt(n)}static emptyPath(){return new wt([])}}const bH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dn extends Vi{construct(e,n,r){return new Dn(e,n,r)}static isValidIdentifier(e){return bH.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rI}static keyField(){return new Dn([rI])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ve(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ve(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ve(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new ve(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dn(n)}static emptyPath(){return new Dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(wt.fromString(e))}static fromName(e){return new Ie(wt.fromString(e).popFirst(5))}static empty(){return new Ie(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t,e,n){if(!n)throw new ve(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function CH(t,e,n,r){if(e===!0&&r===!0)throw new ve(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function iI(t){if(!Ie.isDocumentKey(t))throw new ve(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function oI(t){if(Ie.isDocumentKey(t))throw new ve(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function OO(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ig(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue(12329,{type:typeof t})}function xr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ig(t);throw new ve(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t,e){const n={typeString:t};return e&&(n.value=e),n}function kd(t,e){if(!OO(t))throw new ve(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ve(le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=-62135596800,sI=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*sI);return new Ct(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<aI)throw new ve(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sI}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(kd(e,Ct._jsonSchema))return new Ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-aI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ct._jsonSchemaVersion="firestore/timestamp/1.0",Ct._jsonSchema={type:Zt("string",Ct._jsonSchemaVersion),seconds:Zt("number"),nanoseconds:Zt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new Ct(0,0))}static max(){return new Fe(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=-1;function xH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(r===1e9?new Ct(n+1,0):new Ct(n,r));return new Ya(i,Ie.empty(),e)}function IH(t){return new Ya(t.readTime,t.key,ud)}class Ya{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ya(Fe.min(),Ie.empty(),ud)}static max(){return new Ya(Fe.max(),Ie.empty(),ud)}}function RH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==PH)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):de.reject(n)}static resolve(e){return new de(((n,r)=>{n(e)}))}static reject(e){return new de(((n,r)=>{r(e)}))}static waitFor(e){return new de(((n,r)=>{let i=0,o=0,s=!1;e.forEach((u=>{++i,u.next((()=>{++o,s&&o===i&&n()}),(f=>r(f)))})),s=!0,o===i&&n()}))}static or(e){let n=de.resolve(!1);for(const r of e)n=n.next((i=>i?de.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new de(((r,i)=>{const o=e.length,s=new Array(o);let u=0;for(let f=0;f<o;f++){const c=f;n(e[c]).next((h=>{s[c]=h,++u,u===o&&r(s)}),(h=>i(h)))}}))}static doWhile(e,n){return new de(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function NH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=-1;function Pg(t){return t==null}function bm(t){return t===0&&1/t==-1/0}function DH(t){return typeof t=="number"&&Number.isInteger(t)&&!bm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="";function OH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=lI(e)),e=kH(t.get(n),e);return lI(e)}function kH(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case kO:n+="";break;default:n+=o}}return n}function lI(t){return t+kO+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ts(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n){this.comparator=e,this.root=n||Mn.EMPTY}insert(e,n){return new kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mn.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Np(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Np(this.root,e,this.comparator,!1)}getReverseIterator(){return new Np(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Np(this.root,e,this.comparator,!0)}}class Np{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Mn.RED,this.left=i??Mn.EMPTY,this.right=o??Mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Mn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Mn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}Mn.EMPTY=null,Mn.RED=!0,Mn.BLACK=!1;Mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cI(this.data.getIterator())}getIteratorFrom(e){return new cI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class cI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.fields=e,e.sort(Dn.comparator)}static empty(){return new br([])}unionWith(e){let n=new un(Dn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Uu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new VO("Invalid base64 string: "+o):o}})(e);return new kn(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new kn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const LH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wa(t){if(st(!!t,39018),typeof t=="string"){let e=0;const n=LH.exec(t);if(st(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gt(t.seconds),nanos:Gt(t.nanos)}}function Gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ja(t){return typeof t=="string"?kn.fromBase64String(t):kn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="server_timestamp",BO="__type__",qO="__previous_value__",FO="__local_write_time__";function NS(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[BO])==null?void 0:r.stringValue)===UO}function Mg(t){const e=t.mapValue.fields[qO];return NS(e)?Mg(e):e}function cd(t){const e=Wa(t.mapValue.fields[FO].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(e,n,r,i,o,s,u,f,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=c,this.isUsingEmulator=h}}const Cm="(default)";class fd{constructor(e,n){this.projectId=e,this.database=n||Cm}static empty(){return new fd("","")}get isDefaultDatabase(){return this.database===Cm}isEqual(e){return e instanceof fd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="__type__",UH="__max__",Dp={mapValue:{}},HO="__vector__",xm="value";function Qa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?NS(t)?4:qH(t)?9007199254740991:BH(t)?10:11:Ue(28295,{value:t})}function Ki(t,e){if(t===e)return!0;const n=Qa(t);if(n!==Qa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cd(t).isEqual(cd(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Wa(i.timestampValue),u=Wa(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Ja(i.bytesValue).isEqual(Ja(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Gt(i.geoPointValue.latitude)===Gt(o.geoPointValue.latitude)&&Gt(i.geoPointValue.longitude)===Gt(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Gt(i.integerValue)===Gt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Gt(i.doubleValue),u=Gt(o.doubleValue);return s===u?bm(s)===bm(u):isNaN(s)&&isNaN(u)}return!1})(t,e);case 9:return Uu(t.arrayValue.values||[],e.arrayValue.values||[],Ki);case 10:case 11:return(function(i,o){const s=i.mapValue.fields||{},u=o.mapValue.fields||{};if(uI(s)!==uI(u))return!1;for(const f in s)if(s.hasOwnProperty(f)&&(u[f]===void 0||!Ki(s[f],u[f])))return!1;return!0})(t,e);default:return Ue(52216,{left:t})}}function dd(t,e){return(t.values||[]).find((n=>Ki(n,e)))!==void 0}function Bu(t,e){if(t===e)return 0;const n=Qa(t),r=Qa(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return(function(o,s){const u=Gt(o.integerValue||o.doubleValue),f=Gt(s.integerValue||s.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return fI(t.timestampValue,e.timestampValue);case 4:return fI(cd(t),cd(e));case 5:return HT(t.stringValue,e.stringValue);case 6:return(function(o,s){const u=Ja(o),f=Ja(s);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){const u=o.split("/"),f=s.split("/");for(let c=0;c<u.length&&c<f.length;c++){const h=We(u[c],f[c]);if(h!==0)return h}return We(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){const u=We(Gt(o.latitude),Gt(s.latitude));return u!==0?u:We(Gt(o.longitude),Gt(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return dI(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var _,S,w,A;const u=o.fields||{},f=s.fields||{},c=(_=u[xm])==null?void 0:_.arrayValue,h=(S=f[xm])==null?void 0:S.arrayValue,y=We(((w=c==null?void 0:c.values)==null?void 0:w.length)||0,((A=h==null?void 0:h.values)==null?void 0:A.length)||0);return y!==0?y:dI(c,h)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Dp.mapValue&&s===Dp.mapValue)return 0;if(o===Dp.mapValue)return 1;if(s===Dp.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),c=s.fields||{},h=Object.keys(c);f.sort(),h.sort();for(let y=0;y<f.length&&y<h.length;++y){const _=HT(f[y],h[y]);if(_!==0)return _;const S=Bu(u[f[y]],c[h[y]]);if(S!==0)return S}return We(f.length,h.length)})(t.mapValue,e.mapValue);default:throw Ue(23264,{he:n})}}function fI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=Wa(t),r=Wa(e),i=We(n.seconds,r.seconds);return i!==0?i:We(n.nanos,r.nanos)}function dI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Bu(n[i],r[i]);if(o)return o}return We(n.length,r.length)}function qu(t){return zT(t)}function zT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Wa(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ja(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ie.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=zT(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${zT(n.fields[s])}`;return i+"}"})(t.mapValue):Ue(61005,{value:t})}function am(t){switch(Qa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mg(t);return e?16+am(e):16;case 5:return 2*t.stringValue.length;case 6:return Ja(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+am(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return ts(r.fields,((o,s)=>{i+=o.length+am(s)})),i})(t.mapValue);default:throw Ue(13486,{value:t})}}function hI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function GT(t){return!!t&&"integerValue"in t}function DS(t){return!!t&&"arrayValue"in t}function pI(t){return!!t&&"nullValue"in t}function mI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sm(t){return!!t&&"mapValue"in t}function BH(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[$O])==null?void 0:r.stringValue)===HO}function Xf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ts(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Xf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xf(t.arrayValue.values[n]);return e}return{...t}}function qH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===UH}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.value=e}static empty(){return new ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xf(n)}setAll(e){let n=Dn.emptyPath(),r={},i=[];e.forEach(((s,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=u.popLast()}s?r[u.lastSegment()]=Xf(s):i.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());sm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];sm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ts(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new ar(Xf(this.value))}}function zO(t){const e=[];return ts(t.fields,((n,r)=>{const i=new Dn([n]);if(sm(r)){const o=zO(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)})),new br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n,r,i,o,s,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=u}static newInvalidDocument(e){return new $n(e,0,Fe.min(),Fe.min(),Fe.min(),ar.empty(),0)}static newFoundDocument(e,n,r,i){return new $n(e,1,n,Fe.min(),r,i,0)}static newNoDocument(e,n){return new $n(e,2,n,Fe.min(),Fe.min(),ar.empty(),0)}static newUnknownDocument(e,n){return new $n(e,3,n,Fe.min(),Fe.min(),ar.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n){this.position=e,this.inclusive=n}}function gI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Ie.comparator(Ie.fromName(s.referenceValue),n.key):r=Bu(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function yI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ki(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n="asc"){this.field=e,this.dir=n}}function FH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{}class Xt extends GO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new HH(e,n,r):n==="array-contains"?new KH(e,r):n==="in"?new jH(e,r):n==="not-in"?new YH(e,r):n==="array-contains-any"?new WH(e,r):new Xt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new zH(e,r):new GH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bu(n,this.value)):n!==null&&Qa(this.value)===Qa(n)&&this.matchesComparison(Bu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends GO{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new hi(e,n)}matches(e){return KO(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function KO(t){return t.op==="and"}function jO(t){return $H(t)&&KO(t)}function $H(t){for(const e of t.filters)if(e instanceof hi)return!1;return!0}function KT(t){if(t instanceof Xt)return t.field.canonicalString()+t.op.toString()+qu(t.value);if(jO(t))return t.filters.map((e=>KT(e))).join(",");{const e=t.filters.map((n=>KT(n))).join(",");return`${t.op}(${e})`}}function YO(t,e){return t instanceof Xt?(function(r,i){return i instanceof Xt&&r.op===i.op&&r.field.isEqual(i.field)&&Ki(r.value,i.value)})(t,e):t instanceof hi?(function(r,i){return i instanceof hi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,s,u)=>o&&YO(s,i.filters[u])),!0):!1})(t,e):void Ue(19439)}function WO(t){return t instanceof Xt?(function(n){return`${n.field.canonicalString()} ${n.op} ${qu(n.value)}`})(t):t instanceof hi?(function(n){return n.op.toString()+" {"+n.getFilters().map(WO).join(" ,")+"}"})(t):"Filter"}class HH extends Xt{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class zH extends Xt{constructor(e,n){super(e,"in",n),this.keys=JO("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class GH extends Xt{constructor(e,n){super(e,"not-in",n),this.keys=JO("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function JO(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Ie.fromName(r.referenceValue)))}class KH extends Xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return DS(n)&&dd(n.arrayValue,this.value)}}class jH extends Xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dd(this.value.arrayValue,n)}}class YH extends Xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(dd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!dd(this.value.arrayValue,n)}}class WH extends Xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!DS(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>dd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(e,n=null,r=[],i=[],o=null,s=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=u,this.Te=null}}function vI(t,e=null,n=[],r=[],i=null,o=null,s=null){return new JH(t,e,n,r,i,o,s)}function OS(t){const e=$e(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>KT(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Pg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>qu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>qu(r))).join(",")),e.Te=n}return e.Te}function kS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!FH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yI(t.startAt,e.startAt)&&yI(t.endAt,e.endAt)}function jT(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n=null,r=[],i=[],o=null,s="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function QH(t,e,n,r,i,o,s,u){return new uc(t,e,n,r,i,o,s,u)}function Ng(t){return new uc(t)}function _I(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function QO(t){return t.collectionGroup!==null}function Zf(t){const e=$e(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new un(Dn.comparator);return s.filters.forEach((f=>{f.getFlattenedFilters().forEach((c=>{c.isInequality()&&(u=u.add(c.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new hd(o,r))})),n.has(Dn.keyField().canonicalString())||e.Ie.push(new hd(Dn.keyField(),r))}return e.Ie}function Fi(t){const e=$e(t);return e.Ee||(e.Ee=XH(e,Zf(t))),e.Ee}function XH(t,e){if(t.limitType==="F")return vI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new hd(i.field,o)}));const n=t.endAt?new Im(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Im(t.startAt.position,t.startAt.inclusive):null;return vI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function YT(t,e){const n=t.filters.concat([e]);return new uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function WT(t,e,n){return new uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dg(t,e){return kS(Fi(t),Fi(e))&&t.limitType===e.limitType}function XO(t){return`${OS(Fi(t))}|lt:${t.limitType}`}function vu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>WO(i))).join(", ")}]`),Pg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>qu(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>qu(i))).join(",")),`Target(${r})`})(Fi(t))}; limitType=${t.limitType})`}function Og(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ie.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of Zf(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,u,f){const c=gI(s,u,f);return s.inclusive?c<=0:c<0})(r.startAt,Zf(r),i)||r.endAt&&!(function(s,u,f){const c=gI(s,u,f);return s.inclusive?c>=0:c>0})(r.endAt,Zf(r),i))})(t,e)}function ZH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZO(t){return(e,n)=>{let r=!1;for(const i of Zf(t)){const o=ez(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function ez(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):(function(o,s,u){const f=s.data.field(o),c=u.data.field(o);return f!==null&&c!==null?Bu(f,c):Ue(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ts(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return LO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz=new kt(Ie.comparator);function Bo(){return tz}const ek=new kt(Ie.comparator);function Gf(...t){let e=ek;for(const n of t)e=e.insert(n.key,n);return e}function tk(t){let e=ek;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ks(){return ed()}function nk(){return ed()}function ed(){return new gl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const nz=new kt(Ie.comparator),rz=new un(Ie.comparator);function Je(...t){let e=rz;for(const n of t)e=e.add(n);return e}const iz=new un(We);function oz(){return iz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bm(e)?"-0":e}}function rk(t){return{integerValue:""+t}}function ik(t,e){return DH(e)?rk(e):LS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(){this._=void 0}}function az(t,e,n){return t instanceof pd?(function(i,o){const s={fields:{[BO]:{stringValue:UO},[FO]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&NS(o)&&(o=Mg(o)),o&&(s.fields[qO]=o),{mapValue:s}})(n,e):t instanceof md?ak(t,e):t instanceof gd?sk(t,e):(function(i,o){const s=ok(i,o),u=TI(s)+TI(i.Ae);return GT(s)&&GT(i.Ae)?rk(u):LS(i.serializer,u)})(t,e)}function sz(t,e,n){return t instanceof md?ak(t,e):t instanceof gd?sk(t,e):n}function ok(t,e){return t instanceof yd?(function(r){return GT(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class pd extends kg{}class md extends kg{constructor(e){super(),this.elements=e}}function ak(t,e){const n=lk(e);for(const r of t.elements)n.some((i=>Ki(i,r)))||n.push(r);return{arrayValue:{values:n}}}class gd extends kg{constructor(e){super(),this.elements=e}}function sk(t,e){let n=lk(e);for(const r of t.elements)n=n.filter((i=>!Ki(i,r)));return{arrayValue:{values:n}}}class yd extends kg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function TI(t){return Gt(t.integerValue||t.doubleValue)}function lk(t){return DS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,n){this.field=e,this.transform=n}}function lz(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof md&&i instanceof md||r instanceof gd&&i instanceof gd?Uu(r.elements,i.elements,Ki):r instanceof yd&&i instanceof yd?Ki(r.Ae,i.Ae):r instanceof pd&&i instanceof pd})(t.transform,e.transform)}class uz{constructor(e,n){this.version=e,this.transformResults=n}}class lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lg{}function ck(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vg(t.key,lr.none()):new Ld(t.key,t.data,lr.none());{const n=t.data,r=ar.empty();let i=new un(Dn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ns(t.key,r,new br(i.toArray()),lr.none())}}function cz(t,e,n){t instanceof Ld?(function(i,o,s){const u=i.value.clone(),f=SI(i.fieldTransforms,o,s.transformResults);u.setAll(f),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):t instanceof ns?(function(i,o,s){if(!lm(i.precondition,o))return void o.convertToUnknownDocument(s.version);const u=SI(i.fieldTransforms,o,s.transformResults),f=o.data;f.setAll(fk(i)),f.setAll(u),o.convertToFoundDocument(s.version,f).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function td(t,e,n,r){return t instanceof Ld?(function(o,s,u,f){if(!lm(o.precondition,s))return u;const c=o.value.clone(),h=wI(o.fieldTransforms,f,s);return c.setAll(h),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null})(t,e,n,r):t instanceof ns?(function(o,s,u,f){if(!lm(o.precondition,s))return u;const c=wI(o.fieldTransforms,f,s),h=s.data;return h.setAll(fk(o)),h.setAll(c),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(t,e,n,r):(function(o,s,u){return lm(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u})(t,e,n)}function fz(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=ok(r.transform,i||null);o!=null&&(n===null&&(n=ar.empty()),n.set(r.field,o))}return n||null}function EI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Uu(r,i,((o,s)=>lz(o,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ld extends Lg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ns extends Lg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function fk(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function SI(t,e,n){const r=new Map;st(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,u=e.data.field(o.field);r.set(o.field,sz(s,u,n[i]))}return r}function wI(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,az(o,s,e))}return r}class Vg extends Lg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dz extends Lg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&cz(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=td(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=td(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=nk();return this.mutations.forEach((i=>{const o=e.get(i.key),s=o.overlayedDocument;let u=this.applyToLocalView(s,o.mutatedFields);u=n.has(i.key)?null:u;const f=ck(s,u);f!==null&&r.set(i.key,f),s.isValidDocument()||s.convertToNoDocument(Fe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Je())}isEqual(e){return this.batchId===e.batchId&&Uu(this.mutations,e.mutations,((n,r)=>EI(n,r)))&&Uu(this.baseMutations,e.baseMutations,((n,r)=>EI(n,r)))}}class VS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){st(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return nz})();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new VS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,et;function gz(t){switch(t){case le.OK:return Ue(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Ue(15467,{code:t})}}function dk(t){if(t===void 0)return Uo("GRPC error has no .code"),le.UNKNOWN;switch(t){case Qt.OK:return le.OK;case Qt.CANCELLED:return le.CANCELLED;case Qt.UNKNOWN:return le.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return le.INTERNAL;case Qt.UNAVAILABLE:return le.UNAVAILABLE;case Qt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Qt.NOT_FOUND:return le.NOT_FOUND;case Qt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Qt.ABORTED:return le.ABORTED;case Qt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Qt.DATA_LOSS:return le.DATA_LOSS;default:return Ue(39323,{code:t})}}(et=Qt||(Qt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz=new za([4294967295,4294967295],0);function AI(t){const e=yz().encode(t),n=new bO;return n.update(e),new Uint8Array(n.digest())}function bI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new za([n,r],0),new za([i,o],0)]}class US{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kf(`Invalid padding: ${n}`);if(r<0)throw new Kf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=za.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(za.fromNumber(r)));return i.compare(vz)===1&&(i=new za([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=AI(e),[r,i]=bI(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new US(o,i,n);return r.forEach((u=>s.insert(u))),s}insert(e){if(this.ge===0)return;const n=AI(e),[r,i]=bI(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Kf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ug(Fe.min(),i,new kt(We),Bo(),Je())}}class Vd{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vd(r,n,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class hk{constructor(e,n){this.targetId=e,this.Ce=n}}class pk{constructor(e,n,r=kn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class CI{constructor(){this.ve=0,this.Fe=xI(),this.Me=kn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),n=Je(),r=Je();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ue(38017,{changeType:o})}})),new Vd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=xI()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _z{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bo(),this.Je=Op(),this.He=Op(),this.Ye=new kt(We)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ue(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(jT(o))if(r===0){const s=new Ie(o.path);this.et(n,s,$n.newNoDocument(s,Fe.min()))}else st(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const u=this.ut(e),f=u?this.ct(u,e,s):1;if(f!==0){this.it(n);const c=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,u;try{s=Ja(r).toUint8Array()}catch(f){if(f instanceof VO)return Vu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new US(s,i,o)}catch(f){return Vu(f instanceof Kf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const s=this.Ge.ht(),u=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,s)=>{const u=this.ot(s);if(u){if(o.current&&jT(u.target)){const f=new Ie(u.target.path);this.It(f).has(s)||this.Et(s,f)||this.et(s,f,$n.newNoDocument(f,e))}o.Be&&(n.set(s,o.ke()),o.qe())}}));let r=Je();this.He.forEach(((o,s)=>{let u=!0;s.forEachWhile((f=>{const c=this.ot(f);return!c||c.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,s)=>s.setReadTime(e)));const i=new Ug(e,n,this.Ye,this.je,r);return this.je=Bo(),this.Je=Op(),this.He=Op(),this.Ye=new kt(We),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new CI,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new un(We),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new un(We),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new CI),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Op(){return new kt(Ie.comparator)}function xI(){return new kt(Ie.comparator)}const Tz={asc:"ASCENDING",desc:"DESCENDING"},Ez={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sz={and:"AND",or:"OR"};class wz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function JT(t,e){return t.useProto3Json||Pg(e)?e:{value:e}}function Rm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Az(t,e){return Rm(t,e.toTimestamp())}function $i(t){return st(!!t,49232),Fe.fromTimestamp((function(n){const r=Wa(n);return new Ct(r.seconds,r.nanos)})(t))}function BS(t,e){return QT(t,e).canonicalString()}function QT(t,e){const n=(function(i){return new wt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function gk(t){const e=wt.fromString(t);return st(Ek(e),10190,{key:e.toString()}),e}function XT(t,e){return BS(t.databaseId,e.path)}function q0(t,e){const n=gk(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(vk(n))}function yk(t,e){return BS(t.databaseId,e)}function bz(t){const e=gk(t);return e.length===4?wt.emptyPath():vk(e)}function ZT(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vk(t){return st(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function II(t,e,n){return{name:XT(t,e),fields:n.value.mapValue.fields}}function Cz(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ue(39313,{state:c})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(c,h){return c.useProto3Json?(st(h===void 0||typeof h=="string",58123),kn.fromBase64String(h||"")):(st(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),kn.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&(function(c){const h=c.code===void 0?le.UNKNOWN:dk(c.code);return new ve(h,c.message||"")})(s);n=new pk(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=q0(t,r.document.name),o=$i(r.document.updateTime),s=r.document.createTime?$i(r.document.createTime):Fe.min(),u=new ar({mapValue:{fields:r.document.fields}}),f=$n.newFoundDocument(i,o,s,u),c=r.targetIds||[],h=r.removedTargetIds||[];n=new um(c,h,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=q0(t,r.document),o=r.readTime?$i(r.readTime):Fe.min(),s=$n.newNoDocument(i,o),u=r.removedTargetIds||[];n=new um([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=q0(t,r.document),o=r.removedTargetIds||[];n=new um([],o,i,null)}else{if(!("filter"in e))return Ue(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new mz(i,o),u=r.targetId;n=new hk(u,s)}}return n}function xz(t,e){let n;if(e instanceof Ld)n={update:II(t,e.key,e.value)};else if(e instanceof Vg)n={delete:XT(t,e.key)};else if(e instanceof ns)n={update:II(t,e.key,e.data),updateMask:Lz(e.fieldMask)};else{if(!(e instanceof dz))return Ue(16599,{Vt:e.type});n={verify:XT(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,s){const u=s.transform;if(u instanceof pd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof md)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof gd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof yd)return{fieldPath:s.field.canonicalString(),increment:u.Ae};throw Ue(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:Az(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ue(27497)})(t,e.precondition)),n}function Iz(t,e){return t&&t.length>0?(st(e!==void 0,14353),t.map((n=>(function(i,o){let s=i.updateTime?$i(i.updateTime):$i(o);return s.isEqual(Fe.min())&&(s=$i(o)),new uz(s,i.transformResults||[])})(n,e)))):[]}function Rz(t,e){return{documents:[yk(t,e.path)]}}function Pz(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yk(t,i);const o=(function(c){if(c.length!==0)return Tk(hi.create(c,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const s=(function(c){if(c.length!==0)return c.map((h=>(function(_){return{field:_u(_.field),direction:Dz(_.dir)}})(h)))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);const u=JT(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{ft:n,parent:i}}function Mz(t){let e=bz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){st(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(y){const _=_k(y);return _ instanceof hi&&jO(_)?_.getFilters():[_]})(n.where));let s=[];n.orderBy&&(s=(function(y){return y.map((_=>(function(w){return new hd(Tu(w.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(_)))})(n.orderBy));let u=null;n.limit&&(u=(function(y){let _;return _=typeof y=="object"?y.value:y,Pg(_)?null:_})(n.limit));let f=null;n.startAt&&(f=(function(y){const _=!!y.before,S=y.values||[];return new Im(S,_)})(n.startAt));let c=null;return n.endAt&&(c=(function(y){const _=!y.before,S=y.values||[];return new Im(S,_)})(n.endAt)),QH(e,i,s,o,u,"F",f,c)}function Nz(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _k(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Tu(n.unaryFilter.field);return Xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Tu(n.unaryFilter.field);return Xt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Tu(n.unaryFilter.field);return Xt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Tu(n.unaryFilter.field);return Xt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Xt.create(Tu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return hi.create(n.compositeFilter.filters.map((r=>_k(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}})(n.compositeFilter.op))})(t):Ue(30097,{filter:t})}function Dz(t){return Tz[t]}function Oz(t){return Ez[t]}function kz(t){return Sz[t]}function _u(t){return{fieldPath:t.canonicalString()}}function Tu(t){return Dn.fromServerFormat(t.fieldPath)}function Tk(t){return t instanceof Xt?(function(n){if(n.op==="=="){if(mI(n.value))return{unaryFilter:{field:_u(n.field),op:"IS_NAN"}};if(pI(n.value))return{unaryFilter:{field:_u(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mI(n.value))return{unaryFilter:{field:_u(n.field),op:"IS_NOT_NAN"}};if(pI(n.value))return{unaryFilter:{field:_u(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_u(n.field),op:Oz(n.op),value:n.value}}})(t):t instanceof hi?(function(n){const r=n.getFilters().map((i=>Tk(i)));return r.length===1?r[0]:{compositeFilter:{op:kz(n.op),filters:r}}})(t):Ue(54877,{filter:t})}function Lz(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Ek(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n,r,i,o=Fe.min(),s=Fe.min(),u=kn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Ua(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e){this.yt=e}}function Uz(t){const e=Mz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?WT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(){this.Cn=new qz}addToCollectionParentIndex(e,n){return this.Cn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(Ya.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(Ya.min())}updateCollectionGroup(e,n,r){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class qz{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new un(wt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new un(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sk=41943040;class or{static withCacheSize(e){return new or(e,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or.DEFAULT_COLLECTION_PERCENTILE=10,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,or.DEFAULT=new or(Sk,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),or.DISABLED=new or(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Fu(0)}static cr(){return new Fu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="LruGarbageCollector",Fz=1048576;function MI([t,e],[n,r]){const i=We(t,n);return i===0?We(e,r):i}class $z{constructor(e){this.Ir=e,this.buffer=new un(MI),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();MI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Hz{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Te(PI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){lc(n)?Te(PI,"Ignoring IndexedDB error during garbage collection: ",n):await sc(n)}await this.Vr(3e5)}))}}class zz{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return de.resolve(Rg.ce);const r=new $z(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(RI)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RI):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,u,f,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,s=Date.now(),this.nthSequenceNumber(e,i)))).next((y=>(r=y,u=Date.now(),this.removeTargets(e,r,n)))).next((y=>(o=y,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(c=Date.now(),yu()<=Ye.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(u-s)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${y} documents in `+(c-f)+`ms
Total Duration: ${c-h}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y}))))}}function Gz(t,e){return new zz(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(){this.changes=new gl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?de.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&td(r.mutation,i,br.empty(),Ct.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Je()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Je()){const i=Ks();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let s=Gf();return o.forEach(((u,f)=>{s=s.insert(u,f.overlayedDocument)})),s}))))}getOverlayedDocuments(e,n){const r=Ks();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Je())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((s,u)=>{n.set(s,u)}))}))}computeViews(e,n,r,i){let o=Bo();const s=ed(),u=(function(){return ed()})();return n.forEach(((f,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof ns)?o=o.insert(c.key,c):h!==void 0?(s.set(c.key,h.mutation.getFieldMask()),td(h.mutation,c,h.mutation.getFieldMask(),Ct.now())):s.set(c.key,br.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((c,h)=>s.set(c,h))),n.forEach(((c,h)=>u.set(c,new jz(h,s.get(c)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=ed();let i=new kt(((s,u)=>s-u)),o=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((s=>{for(const u of s)u.keys().forEach((f=>{const c=n.get(f);if(c===null)return;let h=r.get(f)||br.empty();h=u.applyToLocalView(c,h),r.set(f,h);const y=(i.get(u.batchId)||Je()).add(f);i=i.insert(u.batchId,y)}))})).next((()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),c=f.key,h=f.value,y=nk();h.forEach((_=>{if(!o.has(_)){const S=ck(n.get(_),r.get(_));S!==null&&y.set(_,S),o=o.add(_)}})),s.push(this.documentOverlayCache.saveOverlays(e,c,y))}return de.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return Ie.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):QO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):de.resolve(Ks());let u=ud,f=o;return s.next((c=>de.forEach(c,((h,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),o.get(h)?de.resolve():this.remoteDocumentCache.getEntry(e,h).next((_=>{f=f.insert(h,_)}))))).next((()=>this.populateOverlays(e,c,o))).next((()=>this.computeViews(e,f,c,Je()))).next((h=>({batchId:u,changes:tk(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((r=>{let i=Gf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Gf();return this.indexManager.getCollectionParents(e,o).next((u=>de.forEach(u,(f=>{const c=(function(y,_){return new uc(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next((h=>{h.forEach(((y,_)=>{s=s.insert(y,_)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((s=>{o.forEach(((f,c)=>{const h=c.getKey();s.get(h)===null&&(s=s.insert(h,$n.newInvalidDocument(h)))}));let u=Gf();return s.forEach(((f,c)=>{const h=o.get(f);h!==void 0&&td(h.mutation,c,br.empty(),Ct.now()),Og(n,c)&&(u=u.insert(f,c))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return de.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:$i(i.createTime)}})(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:Uz(i.bundledQuery),readTime:$i(i.readTime)}})(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(){this.overlays=new kt(Ie.comparator),this.qr=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ks();return de.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.St(e,n,o)})),de.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),de.resolve()}getOverlaysForCollection(e,n,r){const i=Ks(),o=n.length+1,s=new Ie(n.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const f=u.getNext().value,c=f.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return de.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new kt(((c,h)=>c-h));const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=o.get(c.largestBatchId);h===null&&(h=Ks(),o=o.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const u=Ks(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((c,h)=>u.set(c,h))),!(u.size()>=i)););return de.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new pz(n,r));let o=this.qr.get(n);o===void 0&&(o=Je(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(){this.sessionToken=kn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.Qr=new un(_n.$r),this.Ur=new un(_n.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new _n(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new _n(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ie(new wt([])),r=new _n(n,e),i=new _n(n,e+1),o=[];return this.Ur.forEachInRange([r,i],(s=>{this.Gr(s),o.push(s.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ie(new wt([])),r=new _n(n,e),i=new _n(n,e+1);let o=Je();return this.Ur.forEachInRange([r,i],(s=>{o=o.add(s.key)})),o}containsKey(e){const n=new _n(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _n{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ie.comparator(e.key,n.key)||We(e.Yr,n.Yr)}static Kr(e,n){return We(e.Yr,n.Yr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new un(_n.$r)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new hz(o,n,r,i);this.mutationQueue.push(s);for(const u of i)this.Zr=this.Zr.add(new _n(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return de.resolve(s)}lookupMutationBatch(e,n){return de.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return de.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?MS:this.tr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _n(n,0),i=new _n(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(s=>{const u=this.Xr(s.Yr);o.push(u)})),de.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new un(We);return n.forEach((i=>{const o=new _n(i,0),s=new _n(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],(u=>{r=r.add(u.Yr)}))})),de.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Ie.isDocumentKey(o)||(o=o.child(""));const s=new _n(new Ie(o),0);let u=new un(We);return this.Zr.forEachWhile((f=>{const c=f.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(u=u.add(f.Yr)),!0)}),s),de.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){st(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return de.forEach(n.mutations,(i=>{const o=new _n(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new _n(n,0),i=this.Zr.firstAfterOrEqual(r);return de.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(e){this.ri=e,this.docs=(function(){return new kt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return de.resolve(r?r.document.mutableCopy():$n.newInvalidDocument(n))}getEntries(e,n){let r=Bo();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():$n.newInvalidDocument(i))})),de.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Bo();const s=n.path,u=new Ie(s.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:c,value:{document:h}}=f.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||RH(IH(h),r)<=0||(i.has(h.key)||Og(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return de.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ue(9500)}ii(e,n){return de.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new eG(this)}getSize(e){return de.resolve(this.size)}}class eG extends Kz{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),de.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tG{constructor(e){this.persistence=e,this.si=new gl((n=>OS(n)),kS),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.oi=0,this._i=new qS,this.targetCount=0,this.ai=Fu.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),de.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Fu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Pr(n),de.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach(((s,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),de.waitFor(o).next((()=>i))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return de.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),de.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((s=>{o.push(i.markPotentiallyOrphaned(e,s))})),de.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return de.resolve(r)}containsKey(e,n){return de.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,n){this.ui={},this.overlays={},this.ci=new Rg(0),this.li=!1,this.li=!0,this.hi=new Qz,this.referenceDelegate=e(this),this.Pi=new tG(this),this.indexManager=new Bz,this.remoteDocumentCache=(function(i){return new Zz(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Vz(n),this.Ii=new Wz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Jz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Xz(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const i=new nG(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,n){return de.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class nG extends MH{constructor(e){super(),this.currentSequenceNumber=e}}class FS{constructor(e){this.persistence=e,this.Ri=new qS,this.Vi=null}static mi(e){return new FS(e)}get fi(){if(this.Vi)return this.Vi;throw Ue(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),de.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),de.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.fi,(r=>{const i=Ie.fromPath(r);return this.gi(e,i).next((o=>{o||n.removeEntry(i,Fe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return de.or([()=>de.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Pm{constructor(e,n){this.persistence=e,this.pi=new gl((r=>OH(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Gz(this,n)}static mi(e,n){return new Pm(e,n)}Ei(){}di(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return de.forEach(this.pi,((r,i)=>this.br(e,r,i).next((o=>o?de.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(s=>this.br(e,s,n).next((u=>{u||(r++,o.removeEntry(s,Fe.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),de.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),de.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=am(e.data.value)),n}br(e,n,r){return de.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return de.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Je(),i=Je();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new $S(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iG{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return DF()?8:NH(Gn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next((s=>{o.result=s})).next((()=>{if(!o.result)return this.ws(e,n,i,r).next((s=>{o.result=s}))})).next((()=>{if(o.result)return;const s=new rG;return this.Ss(e,n,s).next((u=>{if(o.result=u,this.Vs)return this.bs(e,n,s,u.size)}))})).next((()=>o.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(yu()<=Ye.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",vu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),de.resolve()):(yu()<=Ye.DEBUG&&Te("QueryEngine","Query:",vu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(yu()<=Ye.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",vu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fi(n))):de.resolve())}ys(e,n){if(_I(n))return de.resolve(null);let r=Fi(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=WT(n,null,"F"),r=Fi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const s=Je(...o);return this.ps.getDocuments(e,s).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const c=this.Ds(n,u);return this.Cs(n,c,s,f.readTime)?this.ys(e,WT(n,null,"F")):this.vs(e,c,n,f)}))))})))))}ws(e,n,r,i){return _I(n)||i.isEqual(Fe.min())?de.resolve(null):this.ps.getDocuments(e,r).next((o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?de.resolve(null):(yu()<=Ye.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vu(n)),this.vs(e,s,n,xH(i,ud)).next((u=>u)))}))}Ds(e,n){let r=new un(ZO(e));return n.forEach(((i,o)=>{Og(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return yu()<=Ye.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",vu(n)),this.ps.getDocumentsMatchingQuery(e,n,Ya.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((s=>{o=o.insert(s.key,s)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="LocalStore",oG=3e8;class aG{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new kt(We),this.xs=new gl((o=>OS(o)),kS),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yz(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function sG(t,e,n,r){return new aG(t,e,n,r)}async function Ak(t,e){const n=$e(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const s=[],u=[];let f=Je();for(const c of i){s.push(c.batchId);for(const h of c.mutations)f=f.add(h.key)}for(const c of o){u.push(c.batchId);for(const h of c.mutations)f=f.add(h.key)}return n.localDocuments.getDocuments(r,f).next((c=>({Ls:c,removedBatchIds:s,addedBatchIds:u})))}))}))}function lG(t,e){const n=$e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,c,h){const y=c.batch,_=y.keys();let S=de.resolve();return _.forEach((w=>{S=S.next((()=>h.getEntry(f,w))).next((A=>{const C=c.docVersions.get(w);st(C!==null,48541),A.version.compareTo(C)<0&&(y.applyToRemoteDocument(A,c),A.isValidDocument()&&(A.setReadTime(c.commitVersion),h.addEntry(A)))}))})),S.next((()=>u.mutationQueue.removeMutationBatch(f,y)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=Je();for(let c=0;c<u.mutationResults.length;++c)u.mutationResults[c].transformResults.length>0&&(f=f.add(u.batch.mutations[c].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function bk(t){const e=$e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function uG(t,e){const n=$e(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((h,y)=>{const _=i.get(y);if(!_)return;u.push(n.Pi.removeMatchingKeys(o,h.removedDocuments,y).next((()=>n.Pi.addMatchingKeys(o,h.addedDocuments,y))));let S=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?S=S.withResumeToken(kn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):h.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(h.resumeToken,r)),i=i.insert(y,S),(function(A,C,I){return A.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=oG?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(_,S,h)&&u.push(n.Pi.updateTargetData(o,S))}));let f=Bo(),c=Je();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))})),u.push(cG(o,s,e.documentUpdates).next((h=>{f=h.ks,c=h.qs}))),!r.isEqual(Fe.min())){const h=n.Pi.getLastRemoteSnapshotVersion(o).next((y=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(h)}return de.waitFor(u).next((()=>s.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,f,c))).next((()=>f))})).then((o=>(n.Ms=i,o)))}function cG(t,e,n){let r=Je(),i=Je();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let s=Bo();return n.forEach(((u,f)=>{const c=o.get(u);f.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(Fe.min())?(e.removeEntry(u,f.readTime),s=s.insert(u,f)):!c.isValidDocument()||f.version.compareTo(c.version)>0||f.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(f),s=s.insert(u,f)):Te(HS,"Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",f.version)})),{ks:s,qs:i}}))}function fG(t,e){const n=$e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=MS),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function dG(t,e){const n=$e(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((o=>o?(i=o,de.resolve(i)):n.Pi.allocateTargetId(r).next((s=>(i=new Ua(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function eE(t,e,n){const r=$e(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!lc(s))throw s;Te(HS,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function NI(t,e,n){const r=$e(t);let i=Fe.min(),o=Je();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(f,c,h){const y=$e(f),_=y.xs.get(h);return _!==void 0?de.resolve(y.Ms.get(_)):y.Pi.getTargetData(c,h)})(r,s,Fi(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,u.targetId).next((f=>{o=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:Fe.min(),n?o:Je()))).next((u=>(hG(r,ZH(e),u),{documents:u,Qs:o})))))}function hG(t,e,n){let r=t.Os.get(e)||Fe.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class DI{constructor(){this.activeTargetIds=oz()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pG{constructor(){this.Mo=new DI,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new DI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mG{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="ConnectivityMonitor";class kI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Te(OI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Te(OI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kp=null;function tE(){return kp===null?kp=(function(){return 268435456+Math.round(2147483648*Math.random())})():kp++,"0x"+kp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="RestConnection",gG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yG{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Cm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=tE(),u=this.zo(e,n.toUriEncodedString());Te(F0,`Sending RPC '${e}' ${s}:`,u,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,o);const{host:c}=new URL(u),h=nc(c);return this.Jo(e,u,f,r,h).then((y=>(Te(F0,`Received RPC '${e}' ${s}: `,y),y)),(y=>{throw Vu(F0,`RPC '${e}' ${s} failed with error: `,y,"url: ",u,"request:",r),y}))}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ac})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,n){const r=gG[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn="WebChannelConnection";class _G extends yG{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=tE();return new Promise(((u,f)=>{const c=new CO;c.setWithCredentials(!0),c.listenOnce(xO.COMPLETE,(()=>{try{switch(c.getLastErrorCode()){case om.NO_ERROR:const y=c.getResponseJson();Te(Bn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(y)),u(y);break;case om.TIMEOUT:Te(Bn,`RPC '${e}' ${s} timed out`),f(new ve(le.DEADLINE_EXCEEDED,"Request time out"));break;case om.HTTP_ERROR:const _=c.getStatus();if(Te(Bn,`RPC '${e}' ${s} failed with status:`,_,"response text:",c.getResponseText()),_>0){let S=c.getResponseJson();Array.isArray(S)&&(S=S[0]);const w=S==null?void 0:S.error;if(w&&w.status&&w.message){const A=(function(I){const N=I.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(N)>=0?N:le.UNKNOWN})(w.status);f(new ve(A,w.message))}else f(new ve(le.UNKNOWN,"Server responded with status "+c.getStatus()))}else f(new ve(le.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Te(Bn,`RPC '${e}' ${s} completed.`)}}));const h=JSON.stringify(i);Te(Bn,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=tE(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=PO(),u=RO(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(f.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const h=o.join("");Te(Bn,`Creating RPC '${e}' stream ${i}: ${h}`,f);const y=s.createWebChannel(h,f);this.I_(y);let _=!1,S=!1;const w=new vG({Yo:C=>{S?Te(Bn,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(_||(Te(Bn,`Opening RPC '${e}' stream ${i} transport.`),y.open(),_=!0),Te(Bn,`RPC '${e}' stream ${i} sending:`,C),y.send(C))},Zo:()=>y.close()}),A=(C,I,N)=>{C.listen(I,(M=>{try{N(M)}catch(U){setTimeout((()=>{throw U}),0)}}))};return A(y,zf.EventType.OPEN,(()=>{S||(Te(Bn,`RPC '${e}' stream ${i} transport opened.`),w.o_())})),A(y,zf.EventType.CLOSE,(()=>{S||(S=!0,Te(Bn,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(y))})),A(y,zf.EventType.ERROR,(C=>{S||(S=!0,Vu(Bn,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),w.a_(new ve(le.UNAVAILABLE,"The operation could not be completed")))})),A(y,zf.EventType.MESSAGE,(C=>{var I;if(!S){const N=C.data[0];st(!!N,16349);const M=N,U=(M==null?void 0:M.error)||((I=M[0])==null?void 0:I.error);if(U){Te(Bn,`RPC '${e}' stream ${i} received error:`,U);const B=U.status;let G=(function(D){const $=Qt[D];if($!==void 0)return dk($)})(B),O=U.message;G===void 0&&(G=le.INTERNAL,O="Unknown error status: "+B+" with message "+U.message),S=!0,w.a_(new ve(G,O)),y.close()}else Te(Bn,`RPC '${e}' stream ${i} received:`,N),w.u_(N)}})),A(u,IO.STAT_EVENT,(C=>{C.stat===$T.PROXY?Te(Bn,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===$T.NOPROXY&&Te(Bn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function $0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t){return new wz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="PersistentStream";class xk{constructor(e,n,r,i,o,s,u,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ck(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(Uo(n.toString()),Uo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ve(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(LI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Te(LI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TG extends xk{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Cz(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Fe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Fe.min():s.readTime?$i(s.readTime):Fe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ZT(this.serializer),n.addTarget=(function(o,s){let u;const f=s.target;if(u=jT(f)?{documents:Rz(o,f)}:{query:Pz(o,f).ft},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=mk(o,s.resumeToken);const c=JT(o,s.expectedCount);c!==null&&(u.expectedCount=c)}else if(s.snapshotVersion.compareTo(Fe.min())>0){u.readTime=Rm(o,s.snapshotVersion.toTimestamp());const c=JT(o,s.expectedCount);c!==null&&(u.expectedCount=c)}return u})(this.serializer,e);const r=Nz(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ZT(this.serializer),n.removeTarget=e,this.q_(n)}}class EG extends xk{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Iz(e.writeResults,e.commitTime),r=$i(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ZT(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>xz(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{}class wG extends SG{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ve(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,s])=>this.connection.Go(e,QT(n,r),i,o,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(le.UNKNOWN,o.toString())}))}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,u])=>this.connection.Ho(e,QT(n,r),i,s,u,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ve(le.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class AG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Uo(n),this.aa=!1):Te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll="RemoteStore";class bG{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((s=>{r.enqueueAndForget((async()=>{yl(this)&&(Te(ll,"Restarting streams for network reachability change."),await(async function(f){const c=$e(f);c.Ea.add(4),await Ud(c),c.Ra.set("Unknown"),c.Ea.delete(4),await qg(c)})(this))}))})),this.Ra=new AG(r,i)}}async function qg(t){if(yl(t))for(const e of t.da)await e(!0)}async function Ud(t){for(const e of t.da)await e(!1)}function Ik(t,e){const n=$e(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),jS(n)?KS(n):cc(n).O_()&&GS(n,e))}function zS(t,e){const n=$e(t),r=cc(n);n.Ia.delete(e),r.O_()&&Rk(n,e),n.Ia.size===0&&(r.O_()?r.L_():yl(n)&&n.Ra.set("Unknown"))}function GS(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cc(t).Y_(e)}function Rk(t,e){t.Va.Ue(e),cc(t).Z_(e)}function KS(t){t.Va=new _z({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),cc(t).start(),t.Ra.ua()}function jS(t){return yl(t)&&!cc(t).x_()&&t.Ia.size>0}function yl(t){return $e(t).Ea.size===0}function Pk(t){t.Va=void 0}async function CG(t){t.Ra.set("Online")}async function xG(t){t.Ia.forEach(((e,n)=>{GS(t,e)}))}async function IG(t,e){Pk(t),jS(t)?(t.Ra.ha(e),KS(t)):t.Ra.set("Unknown")}async function RG(t,e,n){if(t.Ra.set("Online"),e instanceof pk&&e.state===2&&e.cause)try{await(async function(i,o){const s=o.cause;for(const u of o.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,s),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){Te(ll,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Mm(t,r)}else if(e instanceof um?t.Va.Ze(e):e instanceof hk?t.Va.st(e):t.Va.tt(e),!n.isEqual(Fe.min()))try{const r=await bk(t.localStore);n.compareTo(r)>=0&&await(function(o,s){const u=o.Va.Tt(s);return u.targetChanges.forEach(((f,c)=>{if(f.resumeToken.approximateByteSize()>0){const h=o.Ia.get(c);h&&o.Ia.set(c,h.withResumeToken(f.resumeToken,s))}})),u.targetMismatches.forEach(((f,c)=>{const h=o.Ia.get(f);if(!h)return;o.Ia.set(f,h.withResumeToken(kn.EMPTY_BYTE_STRING,h.snapshotVersion)),Rk(o,f);const y=new Ua(h.target,f,c,h.sequenceNumber);GS(o,y)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Te(ll,"Failed to raise snapshot:",r),await Mm(t,r)}}async function Mm(t,e,n){if(!lc(e))throw e;t.Ea.add(1),await Ud(t),t.Ra.set("Offline"),n||(n=()=>bk(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te(ll,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await qg(t)}))}function Mk(t,e){return e().catch((n=>Mm(t,n,e)))}async function Fg(t){const e=$e(t),n=Xa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:MS;for(;PG(e);)try{const i=await fG(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,MG(e,i)}catch(i){await Mm(e,i)}Nk(e)&&Dk(e)}function PG(t){return yl(t)&&t.Ta.length<10}function MG(t,e){t.Ta.push(e);const n=Xa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Nk(t){return yl(t)&&!Xa(t).x_()&&t.Ta.length>0}function Dk(t){Xa(t).start()}async function NG(t){Xa(t).ra()}async function DG(t){const e=Xa(t);for(const n of t.Ta)e.ea(n.mutations)}async function OG(t,e,n){const r=t.Ta.shift(),i=VS.from(r,e,n);await Mk(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Fg(t)}async function kG(t,e){e&&Xa(t).X_&&await(async function(r,i){if((function(s){return gz(s)&&s!==le.ABORTED})(i.code)){const o=r.Ta.shift();Xa(r).B_(),await Mk(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await Fg(r)}})(t,e),Nk(t)&&Dk(t)}async function VI(t,e){const n=$e(t);n.asyncQueue.verifyOperationInProgress(),Te(ll,"RemoteStore received new credentials");const r=yl(n);n.Ea.add(3),await Ud(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await qg(n)}async function LG(t,e){const n=$e(t);e?(n.Ea.delete(2),await qg(n)):e||(n.Ea.add(2),await Ud(n),n.Ra.set("Unknown"))}function cc(t){return t.ma||(t.ma=(function(n,r,i){const o=$e(n);return o.sa(),new TG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:CG.bind(null,t),t_:xG.bind(null,t),r_:IG.bind(null,t),H_:RG.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),jS(t)?KS(t):t.Ra.set("Unknown")):(await t.ma.stop(),Pk(t))}))),t.ma}function Xa(t){return t.fa||(t.fa=(function(n,r,i){const o=$e(n);return o.sa(),new EG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:NG.bind(null,t),r_:kG.bind(null,t),ta:DG.bind(null,t),na:OG.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Fg(t)):(await t.fa.stop(),t.Ta.length>0&&(Te(ll,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new No,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,u=new YS(e,n,s,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function WS(t,e){if(Uo("AsyncQueue",`${e}: ${t}`),lc(t))return new ve(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{static emptySet(e){return new Iu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=Gf(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Iu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Iu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.ga=new kt(Ie.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ue(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class $u{constructor(e,n,r,i,o,s,u,f,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach((u=>{s.push({type:0,doc:u})})),new $u(e,n,Iu.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VG{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class UG{constructor(){this.queries=BI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=$e(n),o=i.queries;i.queries=BI(),o.forEach(((s,u)=>{for(const f of u.Sa)f.onError(r)}))})(this,new ve(le.ABORTED,"Firestore shutting down"))}}function BI(){return new gl((t=>XO(t)),Dg)}async function JS(t,e){const n=$e(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new VG,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const u=WS(s,`Initialization of query '${vu(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&XS(n)}async function QS(t,e){const n=$e(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function BG(t,e){const n=$e(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const u of s.Sa)u.Fa(i)&&(r=!0);s.wa=i}}r&&XS(n)}function qG(t,e,n){const r=$e(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function XS(t){t.Ca.forEach((e=>{e.next()}))}var nE,qI;(qI=nE||(nE={})).Ma="default",qI.Cache="cache";class ZS{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new $u(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=$u.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==nE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.key=e}}class kk{constructor(e){this.key=e}}class FG{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Je(),this.mutatedKeys=Je(),this.eu=ZO(e),this.tu=new Iu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new UI,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,y)=>{const _=i.get(h),S=Og(this.query,y)?y:null,w=!!_&&this.mutatedKeys.has(_.key),A=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let C=!1;_&&S?_.data.isEqual(S.data)?w!==A&&(r.track({type:3,doc:S}),C=!0):this.su(_,S)||(r.track({type:2,doc:S}),C=!0,(f&&this.eu(S,f)>0||c&&this.eu(S,c)<0)&&(u=!0)):!_&&S?(r.track({type:0,doc:S}),C=!0):_&&!S&&(r.track({type:1,doc:_}),C=!0,(f||c)&&(u=!0)),C&&(S?(s=s.add(S),o=A?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Cs:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((h,y)=>(function(S,w){const A=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Rt:C})}};return A(S)-A(w)})(h.type,y.type)||this.eu(h.doc,y.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,c=f!==this.Za;return this.Za=f,s.length!==0||c?{snapshot:new $u(this.query,e.tu,o,s,e.mutatedKeys,f===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new UI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new kk(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new Ok(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return $u.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ew="SyncEngine";class $G{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class HG{constructor(e){this.key=e,this.hu=!1}}class zG{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new gl((u=>XO(u)),Dg),this.Iu=new Map,this.Eu=new Set,this.du=new kt(Ie.comparator),this.Au=new Map,this.Ru=new qS,this.Vu={},this.mu=new Map,this.fu=Fu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function GG(t,e,n=!0){const r=Fk(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await Lk(r,e,n,!0),i}async function KG(t,e){const n=Fk(t);await Lk(n,e,!0,!1)}async function Lk(t,e,n,r){const i=await dG(t.localStore,Fi(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await jG(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&Ik(t.remoteStore,i),u}async function jG(t,e,n,r,i){t.pu=(y,_,S)=>(async function(A,C,I,N){let M=C.view.ru(I);M.Cs&&(M=await NI(A.localStore,C.query,!1).then((({documents:O})=>C.view.ru(O,M))));const U=N&&N.targetChanges.get(C.targetId),B=N&&N.targetMismatches.get(C.targetId)!=null,G=C.view.applyChanges(M,A.isPrimaryClient,U,B);return $I(A,C.targetId,G.au),G.snapshot})(t,y,_,S);const o=await NI(t.localStore,e,!0),s=new FG(e,o.Qs),u=s.ru(o.documents),f=Vd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(u,t.isPrimaryClient,f);$I(t,n,c.au);const h=new $G(e,n,s);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function YG(t,e,n){const r=$e(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((s=>!Dg(s,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await eE(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&zS(r.remoteStore,i.targetId),rE(r,i.targetId)})).catch(sc)):(rE(r,i.targetId),await eE(r.localStore,i.targetId,!0))}async function WG(t,e){const n=$e(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zS(n.remoteStore,r.targetId))}async function JG(t,e,n){const r=r8(t);try{const i=await(function(s,u){const f=$e(s),c=Ct.now(),h=u.reduce(((S,w)=>S.add(w.key)),Je());let y,_;return f.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let w=Bo(),A=Je();return f.Ns.getEntries(S,h).next((C=>{w=C,w.forEach(((I,N)=>{N.isValidDocument()||(A=A.add(I))}))})).next((()=>f.localDocuments.getOverlayedDocuments(S,w))).next((C=>{y=C;const I=[];for(const N of u){const M=fz(N,y.get(N.key).overlayedDocument);M!=null&&I.push(new ns(N.key,M,zO(M.value.mapValue),lr.exists(!0)))}return f.mutationQueue.addMutationBatch(S,c,I,u)})).next((C=>{_=C;const I=C.applyToLocalDocumentSet(y,A);return f.documentOverlayCache.saveOverlays(S,C.batchId,I)}))})).then((()=>({batchId:_.batchId,changes:tk(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,u,f){let c=s.Vu[s.currentUser.toKey()];c||(c=new kt(We)),c=c.insert(u,f),s.Vu[s.currentUser.toKey()]=c})(r,i.batchId,n),await Bd(r,i.changes),await Fg(r.remoteStore)}catch(i){const o=WS(i,"Failed to persist write");n.reject(o)}}async function Vk(t,e){const n=$e(t);try{const r=await uG(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const s=n.Au.get(o);s&&(st(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?st(s.hu,14607):i.removedDocuments.size>0&&(st(s.hu,42227),s.hu=!1))})),await Bd(n,r,e)}catch(r){await sc(r)}}function FI(t,e,n){const r=$e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,s)=>{const u=s.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(s,u){const f=$e(s);f.onlineState=u;let c=!1;f.queries.forEach(((h,y)=>{for(const _ of y.Sa)_.va(u)&&(c=!0)})),c&&XS(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function QG(t,e,n){const r=$e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new kt(Ie.comparator);s=s.insert(o,$n.newNoDocument(o,Fe.min()));const u=Je().add(o),f=new Ug(Fe.min(),new Map,new kt(We),s,u);await Vk(r,f),r.du=r.du.remove(o),r.Au.delete(e),tw(r)}else await eE(r.localStore,e,!1).then((()=>rE(r,e,n))).catch(sc)}async function XG(t,e){const n=$e(t),r=e.batch.batchId;try{const i=await lG(n.localStore,e);Bk(n,r,null),Uk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bd(n,i)}catch(i){await sc(i)}}async function ZG(t,e,n){const r=$e(t);try{const i=await(function(s,u){const f=$e(s);return f.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let h;return f.mutationQueue.lookupMutationBatch(c,u).next((y=>(st(y!==null,37113),h=y.keys(),f.mutationQueue.removeMutationBatch(c,y)))).next((()=>f.mutationQueue.performConsistencyCheck(c))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(c,h,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h))).next((()=>f.localDocuments.getDocuments(c,h)))}))})(r.localStore,e);Bk(r,e,n),Uk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bd(r,i)}catch(i){await sc(i)}}function Uk(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Bk(t,e,n){const r=$e(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function rE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||qk(t,r)}))}function qk(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(zS(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),tw(t))}function $I(t,e,n){for(const r of n)r instanceof Ok?(t.Ru.addReference(r.key,e),e8(t,r)):r instanceof kk?(Te(ew,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||qk(t,r.key)):Ue(19791,{wu:r})}function e8(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Te(ew,"New document in limbo: "+n),t.Eu.add(r),tw(t))}function tw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ie(wt.fromString(e)),r=t.fu.next();t.Au.set(r,new HG(n)),t.du=t.du.insert(n,r),Ik(t.remoteStore,new Ua(Fi(Ng(n.path)),r,"TargetPurposeLimboResolution",Rg.ce))}}async function Bd(t,e,n){const r=$e(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{s.push(r.pu(f,e,n).then((c=>{var h;if((c||n)&&r.isPrimaryClient){const y=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(c){i.push(c);const y=$S.As(f.targetId,c);o.push(y)}})))})),await Promise.all(s),r.Pu.H_(i),await(async function(f,c){const h=$e(f);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>de.forEach(c,(_=>de.forEach(_.Es,(S=>h.persistence.referenceDelegate.addReference(y,_.targetId,S))).next((()=>de.forEach(_.ds,(S=>h.persistence.referenceDelegate.removeReference(y,_.targetId,S)))))))))}catch(y){if(!lc(y))throw y;Te(HS,"Failed to update sequence numbers: "+y)}for(const y of c){const _=y.targetId;if(!y.fromCache){const S=h.Ms.get(_),w=S.snapshotVersion,A=S.withLastLimboFreeSnapshotVersion(w);h.Ms=h.Ms.insert(_,A)}}})(r.localStore,o))}async function t8(t,e){const n=$e(t);if(!n.currentUser.isEqual(e)){Te(ew,"User change. New user:",e.toKey());const r=await Ak(n.localStore,e);n.currentUser=e,(function(o,s){o.mu.forEach((u=>{u.forEach((f=>{f.reject(new ve(le.CANCELLED,s))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bd(n,r.Ls)}}function n8(t,e){const n=$e(t),r=n.Au.get(e);if(r&&r.hu)return Je().add(r.key);{let i=Je();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const u=n.Tu.get(s);i=i.unionWith(u.view.nu)}return i}}function Fk(t){const e=$e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QG.bind(null,e),e.Pu.H_=BG.bind(null,e.eventManager),e.Pu.yu=qG.bind(null,e.eventManager),e}function r8(t){const e=$e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZG.bind(null,e),e}class Nm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return sG(this.persistence,new iG,e.initialUser,this.serializer)}Cu(e){return new wk(FS.mi,this.serializer)}Du(e){return new pG}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nm.provider={build:()=>new Nm};class i8 extends Nm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){st(this.persistence.referenceDelegate instanceof Pm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Hz(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?or.withCacheSize(this.cacheSizeBytes):or.DEFAULT;return new wk((r=>Pm.mi(r,n)),this.serializer)}}class iE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>FI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=t8.bind(null,this.syncEngine),await LG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new UG})()}createDatastore(e){const n=Bg(e.databaseInfo.databaseId),r=(function(o){return new _G(o)})(e.databaseInfo);return(function(o,s,u,f){return new wG(o,s,u,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,s,u){return new bG(r,i,o,s,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>FI(this.syncEngine,n,0)),(function(){return kI.v()?new kI:new mG})())}createSyncEngine(e,n){return(function(i,o,s,u,f,c,h){const y=new zG(i,o,s,u,f,c);return h&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=$e(i);Te(ll,"RemoteStore shutting down."),o.Ea.add(5),await Ud(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}iE.provider={build:()=>new iE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Uo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="FirestoreClient";class o8{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fn.UNAUTHENTICATED,this.clientId=PS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async s=>{Te(Za,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(Te(Za,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new No;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=WS(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function H0(t,e){t.asyncQueue.verifyOperationInProgress(),Te(Za,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Ak(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function HI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await a8(t);Te(Za,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>VI(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>VI(e.remoteStore,i))),t._onlineComponents=e}async function a8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(Za,"Using user provided OfflineComponentProvider");try{await H0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===le.FAILED_PRECONDITION||i.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Vu("Error using user provided cache. Falling back to memory cache: "+n),await H0(t,new Nm)}}else Te(Za,"Using default OfflineComponentProvider"),await H0(t,new i8(void 0));return t._offlineComponents}async function $k(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(Za,"Using user provided OnlineComponentProvider"),await HI(t,t._uninitializedComponentsProvider._online)):(Te(Za,"Using default OnlineComponentProvider"),await HI(t,new iE))),t._onlineComponents}function s8(t){return $k(t).then((e=>e.syncEngine))}async function Dm(t){const e=await $k(t),n=e.eventManager;return n.onListen=GG.bind(null,e.syncEngine),n.onUnlisten=YG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KG.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=WG.bind(null,e.syncEngine),n}function l8(t,e,n={}){const r=new No;return t.asyncQueue.enqueueAndForget((async()=>(function(o,s,u,f,c){const h=new nw({next:_=>{h.Nu(),s.enqueueAndForget((()=>QS(o,y)));const S=_.docs.has(u);!S&&_.fromCache?c.reject(new ve(le.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&_.fromCache&&f&&f.source==="server"?c.reject(new ve(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(_)},error:_=>c.reject(_)}),y=new ZS(Ng(u.path),h,{includeMetadataChanges:!0,qa:!0});return JS(o,y)})(await Dm(t),t.asyncQueue,e,n,r))),r.promise}function u8(t,e,n={}){const r=new No;return t.asyncQueue.enqueueAndForget((async()=>(function(o,s,u,f,c){const h=new nw({next:_=>{h.Nu(),s.enqueueAndForget((()=>QS(o,y))),_.fromCache&&f.source==="server"?c.reject(new ve(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(_)},error:_=>c.reject(_)}),y=new ZS(u,h,{includeMetadataChanges:!0,qa:!0});return JS(o,y)})(await Dm(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk="firestore.googleapis.com",GI=!0;class KI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zk,this.ssl=GI}else this.host=e.host,this.ssl=e.ssl??GI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Sk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Fz)throw new ve(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hk(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $g{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new gH;switch(r.type){case"firstParty":return new TH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=zI.get(n);r&&(Te("ComponentProvider","Removing Datastore"),zI.delete(n),r.terminate())})(this),Promise.resolve()}}function c8(t,e,n,r={}){var c;t=xr(t,$g);const i=nc(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(U2(`https://${u}`),B2("Firestore",!0)),o.host!==zk&&o.host!==u&&Vu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:u,ssl:i,emulatorOptions:r};if(!il(f,s)&&(t._setSettings(f),r.mockUserToken)){let h,y;if(typeof r.mockUserToken=="string")h=r.mockUserToken,y=Fn.MOCK_USER;else{h=AF(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new ve(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Fn(_)}t._authCredentials=new yH(new NO(h,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rs(this.firestore,e,this._query)}}class Kt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(kd(n,Kt._jsonSchema))return new Kt(e,r||null,new Ie(wt.fromString(n.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:Zt("string",Kt._jsonSchemaVersion),referencePath:Zt("string")};class Ga extends rs{constructor(e,n,r){super(e,n,Ng(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new Ie(e))}withConverter(e){return new Ga(this.firestore,e,this._path)}}function Gs(t,e,...n){if(t=qt(t),DO("collection","path",e),t instanceof $g){const r=wt.fromString(e,...n);return oI(r),new Ga(t,null,r)}{if(!(t instanceof Kt||t instanceof Ga))throw new ve(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return oI(r),new Ga(t.firestore,null,r)}}function Ka(t,e,...n){if(t=qt(t),arguments.length===1&&(e=PS.newId()),DO("doc","path",e),t instanceof $g){const r=wt.fromString(e,...n);return iI(r),new Kt(t,null,new Ie(r))}{if(!(t instanceof Kt||t instanceof Ga))throw new ve(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return iI(r),new Kt(t.firestore,t instanceof Ga?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="AsyncQueue";class YI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ck(this,"async_queue_retry"),this._c=()=>{const r=$0();r&&Te(jI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=$0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=$0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new No;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!lc(e))throw e;Te(jI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Uo("INTERNAL UNHANDLED ERROR: ",WI(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=YS.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Ue(47125,{Pc:WI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function WI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}class qo extends $g{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new YI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new YI(e),this._firestoreClient=void 0,await e}}}function f8(t,e){const n=typeof t=="object"?t:H2(),r=typeof t=="string"?t:Cm,i=TS(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=SF("firestore");o&&c8(i,...o)}return i}function qd(t){if(t._terminated)throw new ve(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||d8(t),t._firestoreClient}function d8(t){var r,i,o;const e=t._freezeSettings(),n=(function(u,f,c,h){return new VH(u,f,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Hk(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new o8(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(u){const f=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yr(kn.fromBase64String(e))}catch(n){throw new ve(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yr(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(kd(e,Yr._jsonSchema))return Yr.fromBase64String(e.bytes)}}Yr._jsonSchemaVersion="firestore/bytes/1.0",Yr._jsonSchema={type:Zt("string",Yr._jsonSchemaVersion),bytes:Zt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(e){if(kd(e,Hi._jsonSchema))return new Hi(e.latitude,e.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:Zt("string",Hi._jsonSchemaVersion),latitude:Zt("number"),longitude:Zt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(kd(e,zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new zi(e.vectorValues);throw new ve(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zi._jsonSchemaVersion="firestore/vectorValue/1.0",zi._jsonSchema={type:Zt("string",zi._jsonSchemaVersion),vectorValues:Zt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h8=/^__.*__$/;class p8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ns(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ld(e,this.data,n,this.fieldTransforms)}}class Gk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ns(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Kk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ac:t})}}class rw{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new rw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Om(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Kk(this.Ac)&&h8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class m8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bg(e)}Cc(e,n,r,i=!1){return new rw({Ac:e,methodName:n,Dc:r,path:Dn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hg(t){const e=t._freezeSettings(),n=Bg(t._databaseId);return new m8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jk(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);aw("Data must be an object, but it was:",s,r);const u=Jk(r,s);let f,c;if(o.merge)f=new br(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const y of o.mergeFields){const _=oE(e,y,n);if(!s.contains(_))throw new ve(le.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Xk(h,_)||h.push(_)}f=new br(h),c=s.fieldTransforms.filter((y=>f.covers(y.field)))}else f=null,c=s.fieldTransforms;return new p8(new ar(u),f,c)}class zg extends $d{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zg}}class iw extends $d{_toFieldTransform(e){return new uk(e.path,new pd)}isEqual(e){return e instanceof iw}}class ow extends $d{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new yd(e.serializer,ik(e.serializer,this.Fc));return new uk(e.path,n)}isEqual(e){return e instanceof ow&&this.Fc===e.Fc}}function Yk(t,e,n,r){const i=t.Cc(1,e,n);aw("Data must be an object, but it was:",i,r);const o=[],s=ar.empty();ts(r,((f,c)=>{const h=sw(e,f,n);c=qt(c);const y=i.yc(h);if(c instanceof zg)o.push(h);else{const _=Hd(c,y);_!=null&&(o.push(h),s.set(h,_))}}));const u=new br(o);return new Gk(s,u,i.fieldTransforms)}function Wk(t,e,n,r,i,o){const s=t.Cc(1,e,n),u=[oE(e,r,n)],f=[i];if(o.length%2!=0)throw new ve(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)u.push(oE(e,o[_])),f.push(o[_+1]);const c=[],h=ar.empty();for(let _=u.length-1;_>=0;--_)if(!Xk(c,u[_])){const S=u[_];let w=f[_];w=qt(w);const A=s.yc(S);if(w instanceof zg)c.push(S);else{const C=Hd(w,A);C!=null&&(c.push(S),h.set(S,C))}}const y=new br(c);return new Gk(h,y,s.fieldTransforms)}function g8(t,e,n,r=!1){return Hd(n,t.Cc(r?4:3,e))}function Hd(t,e){if(Qk(t=qt(t)))return aw("Unsupported field value:",e,t),Jk(t,e);if(t instanceof $d)return(function(r,i){if(!Kk(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let s=0;for(const u of r){let f=Hd(u,i.wc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ik(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ct.fromDate(r);return{timestampValue:Rm(i.serializer,o)}}if(r instanceof Ct){const o=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rm(i.serializer,o)}}if(r instanceof Hi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yr)return{bytesValue:mk(i.serializer,r._byteString)};if(r instanceof Kt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:BS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof zi)return(function(s,u){return{mapValue:{fields:{[$O]:{stringValue:HO},[xm]:{arrayValue:{values:s.toArray().map((c=>{if(typeof c!="number")throw u.Sc("VectorValues must only contain numeric values.");return LS(u.serializer,c)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Ig(r)}`)})(t,e)}function Jk(t,e){const n={};return LO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ts(t,((r,i)=>{const o=Hd(i,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function Qk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof Hi||t instanceof Yr||t instanceof Kt||t instanceof $d||t instanceof zi)}function aw(t,e,n){if(!Qk(n)||!OO(n)){const r=Ig(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function oE(t,e,n){if((e=qt(e))instanceof Fd)return e._internalPath;if(typeof e=="string")return sw(t,e);throw Om("Field path arguments must be of type string or ",t,!1,void 0,n)}const y8=new RegExp("[~\\*/\\[\\]]");function sw(t,e,n){if(e.search(y8)>=0)throw Om(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fd(...e.split("."))._internalPath}catch{throw Om(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Om(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||s)&&(f+=" (found",o&&(f+=` in field ${r}`),s&&(f+=` in document ${i}`),f+=")"),new ve(le.INVALID_ARGUMENT,u+t+f)}function Xk(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new v8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class v8 extends Zk{data(){return super.data()}}function lw(t,e){return typeof e=="string"?sw(t,e):e instanceof Fd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uw{}class tL extends uw{}function cm(t,e,...n){let r=[];e instanceof uw&&r.push(e),r=r.concat(n),(function(o){const s=o.filter((f=>f instanceof fw)).length,u=o.filter((f=>f instanceof cw)).length;if(s>1||s>0&&u>0)throw new ve(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class cw extends tL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new cw(e,n,r)}_apply(e){const n=this._parse(e);return nL(e._query,n),new rs(e.firestore,e.converter,YT(e._query,n))}_parse(e){const n=Hg(e.firestore);return(function(o,s,u,f,c,h,y){let _;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ve(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){XI(y,h);const w=[];for(const A of y)w.push(QI(f,o,A));_={arrayValue:{values:w}}}else _=QI(f,o,y)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||XI(y,h),_=g8(u,s,y,h==="in"||h==="not-in");return Xt.create(c,h,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class fw extends uw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fw(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:hi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i;const u=o.getFlattenedFilters();for(const f of u)nL(s,f),s=YT(s,f)})(e._query,n),new rs(e.firestore,e.converter,YT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dw extends tL{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dw(e,n)}_apply(e){const n=(function(i,o,s){if(i.startAt!==null)throw new ve(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ve(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hd(o,s)})(e._query,this._field,this._direction);return new rs(e.firestore,e.converter,(function(i,o){const s=i.explicitOrderBy.concat([o]);return new uc(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function aE(t,e="asc"){const n=e,r=lw("orderBy",t);return dw._create(r,n)}function QI(t,e,n){if(typeof(n=qt(n))=="string"){if(n==="")throw new ve(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QO(e)&&n.indexOf("/")!==-1)throw new ve(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(wt.fromString(n));if(!Ie.isDocumentKey(r))throw new ve(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hI(t,new Ie(r))}if(n instanceof Kt)return hI(t,n._key);throw new ve(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ig(n)}.`)}function XI(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nL(t,e){const n=(function(i,o){for(const s of i)for(const u of s.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _8{convertValue(e,n="none"){switch(Qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ts(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[xm].arrayValue)==null?void 0:i.values)==null?void 0:o.map((s=>Gt(s.doubleValue)));return new zi(n)}convertGeoPoint(e){return new Hi(Gt(e.latitude),Gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Mg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cd(e));default:return null}}convertTimestamp(e){const n=Wa(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=wt.fromString(e);st(Ek(r),9688,{name:e});const i=new fd(r.get(1),r.get(3)),o=new Ie(r.popFirst(5));return i.isEqual(n)||Uo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class jf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qs extends Zk{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qs._jsonSchema={type:Zt("string",Qs._jsonSchemaVersion),bundleSource:Zt("string","DocumentSnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class fm extends Qs{data(e={}){return super.data(e)}}class Xs{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new jf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new fm(this._firestore,this._userDataWriter,r.key,r,new jf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((u=>{const f=new fm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new jf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const f=new fm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new jf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return u.type!==0&&(c=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(s=s.add(u.doc),h=s.indexOf(u.doc.key)),{type:T8(u.type),doc:f,oldIndex:c,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=PS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function T8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(t){t=xr(t,Kt);const e=xr(t.firestore,qo);return l8(qd(e),t._key).then((n=>aL(e,t,n)))}Xs._jsonSchemaVersion="firestore/querySnapshot/1.0",Xs._jsonSchema={type:Zt("string",Xs._jsonSchemaVersion),bundleSource:Zt("string","QuerySnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class hw extends _8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function oL(t){t=xr(t,rs);const e=xr(t.firestore,qo),n=qd(e),r=new hw(e);return eL(t._query),u8(n,t._query).then((i=>new Xs(e,r,t,i)))}function pw(t,e,n,...r){t=xr(t,Kt);const i=xr(t.firestore,qo),o=Hg(i);let s;return s=typeof(e=qt(e))=="string"||e instanceof Fd?Wk(o,"updateDoc",t._key,e,n,r):Yk(o,"updateDoc",t._key,e),Gg(i,[s.toMutation(t._key,lr.exists(!0))])}function ZI(t){return Gg(xr(t.firestore,qo),[new Vg(t._key,lr.none())])}function sE(t,e){const n=xr(t.firestore,qo),r=Ka(t),i=rL(t.converter,e);return Gg(n,[jk(Hg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,lr.exists(!1))]).then((()=>r))}function lE(t,...e){var f,c,h;t=qt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||JI(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(JI(e[r])){const y=e[r];e[r]=(f=y.next)==null?void 0:f.bind(y),e[r+1]=(c=y.error)==null?void 0:c.bind(y),e[r+2]=(h=y.complete)==null?void 0:h.bind(y)}let o,s,u;if(t instanceof Kt)s=xr(t.firestore,qo),u=Ng(t._key.path),o={next:y=>{e[r]&&e[r](aL(s,t,y))},error:e[r+1],complete:e[r+2]};else{const y=xr(t,rs);s=xr(y.firestore,qo),u=y._query;const _=new hw(s);o={next:S=>{e[r]&&e[r](new Xs(s,_,y,S))},error:e[r+1],complete:e[r+2]},eL(t._query)}return(function(_,S,w,A){const C=new nw(A),I=new ZS(S,C,w);return _.asyncQueue.enqueueAndForget((async()=>JS(await Dm(_),I))),()=>{C.Nu(),_.asyncQueue.enqueueAndForget((async()=>QS(await Dm(_),I)))}})(qd(s),u,i,o)}function Gg(t,e){return(function(r,i){const o=new No;return r.asyncQueue.enqueueAndForget((async()=>JG(await s8(r),i,o))),o.promise})(qd(t),e)}function aL(t,e,n){const r=n.docs.get(e._key),i=new hw(t);return new Qs(t,i,e._key,r,new jf(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Hg(e)}set(e,n,r){this._verifyNotCommitted();const i=z0(e,this._firestore),o=rL(i.converter,n,r),s=jk(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,lr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=z0(e,this._firestore);let s;return s=typeof(n=qt(n))=="string"||n instanceof Fd?Wk(this._dataReader,"WriteBatch.update",o._key,n,r,i):Yk(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,lr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=z0(e,this._firestore);return this._mutations=this._mutations.concat(new Vg(n._key,lr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ve(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function z0(t,e){if((t=qt(t)).firestore!==e)throw new ve(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function nd(){return new iw("serverTimestamp")}function S8(t){return new ow("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(t){return qd(t=xr(t,qo)),new E8(t,(e=>Gg(t,e)))}(function(e,n=!0){(function(i){ac=i})(rc),Ou(new ol("firestore",((r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),u=new qo(new vH(r.getProvider("auth-internal")),new EH(s,r.getProvider("app-check-internal")),(function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ve(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fd(c.options.projectId,h)})(s,i),s);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),$a(eI,tI,e),$a(eI,tI,"esm2020")})();const sL={apiKey:"AIzaSyCZh_PwX7LZfXujZiHGH9T-8uA17hNQGBY",authDomain:"bkomhate-site.firebaseapp.com",projectId:"bkomhate-site",storageBucket:"bkomhate-site.appspot.com",messagingSenderId:"37549082348",appId:"1:37549082348:web:cf0c6c4f504b40192887c9"},lL=$2(sL),rd=pH(lL),rr=f8(lL),uL=P.createContext({currentUser:null,loading:!0}),A8=()=>P.useContext(uL),b8=({children:t})=>{const[e,n]=P.useState(null),[r,i]=P.useState(!0);P.useEffect(()=>n$(rd,u=>{n(u),i(!1)}),[]);const o={currentUser:e,loading:r};return F.jsx(uL.Provider,{value:o,children:t})};function cL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=cL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function xt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=cL(t))&&(r&&(r+=" "),r+=e);return r}var G0={},K0={},eR;function C8(){return eR||(eR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(K0)),K0}var j0={},tR;function fL(){return tR||(tR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(j0)),j0}var Y0={},nR;function dL(){return nR||(nR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(Y0)),Y0}var W0={},rR;function mw(){return rR||(rR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let o=0,s="",u="",f=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<i;){const c=n[o];u?c==="\\"&&o+1<i?(o++,s+=n[o]):c===u?u="":s+=c:f?c==='"'||c==="'"?u=c:c==="]"?(f=!1,r.push(s),s=""):s+=c:c==="["?(f=!0,s&&(r.push(s),s="")):c==="."?s&&(r.push(s),s=""):s+=c,o++}return s&&r.push(s),r}t.toPath=e})(W0)),W0}var iR;function gw(){return iR||(iR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C8(),n=fL(),r=dL(),i=mw();function o(u,f,c){if(u==null)return c;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return c;const h=u[f];return h===void 0?n.isDeepKey(f)?o(u,i.toPath(f),c):c:h}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const h=u[f];return h===void 0?c:h}default:{if(Array.isArray(f))return s(u,f,c);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return c;const h=u[f];return h===void 0?c:h}}}function s(u,f,c){if(f.length===0)return c;let h=u;for(let y=0;y<f.length;y++){if(h==null||e.isUnsafeProperty(f[y]))return c;h=h[f[y]]}return h===void 0?c:h}t.get=o})(G0)),G0}var J0,oR;function x8(){return oR||(oR=1,J0=gw().get),J0}var I8=x8();const ul=mi(I8);var Q0={exports:{}},yt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aR;function R8(){if(aR)return yt;aR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.view_transition"),S=Symbol.for("react.client.reference");function w(A){if(typeof A=="object"&&A!==null){var C=A.$$typeof;switch(C){case t:switch(A=A.type,A){case n:case i:case r:case f:case c:case _:return A;default:switch(A=A&&A.$$typeof,A){case s:case u:case y:case h:return A;case o:return A;default:return C}}case e:return C}}}return yt.ContextConsumer=o,yt.ContextProvider=s,yt.Element=t,yt.ForwardRef=u,yt.Fragment=n,yt.Lazy=y,yt.Memo=h,yt.Portal=e,yt.Profiler=i,yt.StrictMode=r,yt.Suspense=f,yt.SuspenseList=c,yt.isContextConsumer=function(A){return w(A)===o},yt.isContextProvider=function(A){return w(A)===s},yt.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===t},yt.isForwardRef=function(A){return w(A)===u},yt.isFragment=function(A){return w(A)===n},yt.isLazy=function(A){return w(A)===y},yt.isMemo=function(A){return w(A)===h},yt.isPortal=function(A){return w(A)===e},yt.isProfiler=function(A){return w(A)===i},yt.isStrictMode=function(A){return w(A)===r},yt.isSuspense=function(A){return w(A)===f},yt.isSuspenseList=function(A){return w(A)===c},yt.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===i||A===r||A===f||A===c||typeof A=="object"&&A!==null&&(A.$$typeof===y||A.$$typeof===h||A.$$typeof===s||A.$$typeof===o||A.$$typeof===u||A.$$typeof===S||A.getModuleId!==void 0)},yt.typeOf=w,yt}var sR;function P8(){return sR||(sR=1,Q0.exports=R8()),Q0.exports}var M8=P8(),Cr=t=>t===0?0:t>0?1:-1,Xr=t=>typeof t=="number"&&t!=+t,js=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,xe=t=>(typeof t=="number"||t instanceof Number)&&!Xr(t),ji=t=>xe(t)||typeof t=="string",N8=0,vd=t=>{var e=++N8;return"".concat(t||"").concat(e)},pi=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xe(e)&&typeof e!="string")return r;var o;if(js(e)){if(n==null)return r;var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Xr(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},hL=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function mu(t,e,n){return xe(t)&&xe(e)?t+n*(e-t):e}function D8(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):ul(r,e))===n)}var cn=t=>t===null||typeof t>"u",zd=t=>cn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),O8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function yw(t){if(typeof t!="string")return!1;var e=O8;return e.includes(t)}var k8=["viewBox","children"],lR=["points","pathLength"],X0={svg:k8,polygon:lR,polyline:lR},L8=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(P.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{yw(i)&&(r[i]=(o=>n[i](n,o)))}),r},V8=(t,e,n)=>r=>(t(e,n,r),null),vw=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];yw(i)&&typeof o=="function"&&(r||(r={}),r[i]=V8(o,e,n))}),r},U8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function pL(t){if(typeof t!="string")return!1;var e=U8;return e.includes(t)}function Kg(t){var e=Object.entries(t).filter(n=>{var[r]=n;return pL(r)});return Object.fromEntries(e)}var uR=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",cR=null,Z0=null,mL=t=>{if(t===cR&&Array.isArray(Z0))return Z0;var e=[];return P.Children.forEach(t,n=>{cn(n)||(M8.isFragment(n)?e=e.concat(mL(n.props.children)):e.push(n))}),Z0=e,cR=t,e};function _w(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>uR(i)):r=[uR(e)],mL(t).forEach(i=>{var o=ul(i,"type.displayName")||ul(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}var B8=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var o=(i=r&&(X0==null?void 0:X0[r]))!==null&&i!==void 0?i:[],s=e.startsWith("data-"),u=typeof t!="function"&&(!!r&&o.includes(e)||pL(e)),f=!!n&&yw(e);return s||u||f},En=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(P.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(o=>{var s;B8((s=r)===null||s===void 0?void 0:s[o],o,e,n)&&(i[o]=r[o])}),i},q8=["children","width","height","viewBox","className","style","title","desc"];function uE(){return uE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uE.apply(null,arguments)}function F8(t,e){if(t==null)return{};var n,r,i=$8(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var gL=P.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:s,style:u,title:f,desc:c}=t,h=F8(t,q8),y=o||{width:r,height:i,x:0,y:0},_=xt("recharts-surface",s);return P.createElement("svg",uE({},En(h,!0,"svg"),{className:_,width:r,height:i,style:u,viewBox:"".concat(y.x," ").concat(y.y," ").concat(y.width," ").concat(y.height),ref:e}),P.createElement("title",null,f),P.createElement("desc",null,c),n)}),H8=["children","className"];function cE(){return cE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cE.apply(null,arguments)}function z8(t,e){if(t==null)return{};var n,r,i=G8(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function G8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var es=P.forwardRef((t,e)=>{var{children:n,className:r}=t,i=z8(t,H8),o=xt("recharts-layer",r);return P.createElement("g",cE({className:o},En(i,!0),{ref:e}),n)}),K8=P.createContext(null);function St(t){return function(){return t}}const yL=Math.cos,km=Math.sin,vi=Math.sqrt,Lm=Math.PI,jg=2*Lm,fE=Math.PI,dE=2*fE,$s=1e-6,j8=dE-$s;function vL(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Y8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return vL;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class W8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?vL:Y8(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,u=this._y1,f=r-e,c=i-n,h=s-e,y=u-n,_=h*h+y*y;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(_>$s)if(!(Math.abs(y*f-c*h)>$s)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let S=r-s,w=i-u,A=f*f+c*c,C=S*S+w*w,I=Math.sqrt(A),N=Math.sqrt(_),M=o*Math.tan((fE-Math.acos((A+_-C)/(2*I*N)))/2),U=M/N,B=M/I;Math.abs(U-1)>$s&&this._append`L${e+U*h},${n+U*y}`,this._append`A${o},${o},0,0,${+(y*S>h*w)},${this._x1=e+B*f},${this._y1=n+B*c}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),c=e+u,h=n+f,y=1^s,_=s?i-o:o-i;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>$s||Math.abs(this._y1-h)>$s)&&this._append`L${c},${h}`,r&&(_<0&&(_=_%dE+dE),_>j8?this._append`A${r},${r},0,1,${y},${e-u},${n-f}A${r},${r},0,1,${y},${this._x1=c},${this._y1=h}`:_>$s&&this._append`A${r},${r},0,${+(_>=fE)},${y},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Tw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new W8(e)}function Ew(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _L(t){this._context=t}_L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Yg(t){return new _L(t)}function TL(t){return t[0]}function EL(t){return t[1]}function SL(t,e){var n=St(!0),r=null,i=Yg,o=null,s=Tw(u);t=typeof t=="function"?t:t===void 0?TL:St(t),e=typeof e=="function"?e:e===void 0?EL:St(e);function u(f){var c,h=(f=Ew(f)).length,y,_=!1,S;for(r==null&&(o=i(S=s())),c=0;c<=h;++c)!(c<h&&n(y=f[c],c,f))===_&&((_=!_)?o.lineStart():o.lineEnd()),_&&o.point(+t(y,c,f),+e(y,c,f));if(S)return o=null,S+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:St(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:St(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:St(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),u):r},u}function Lp(t,e,n){var r=null,i=St(!0),o=null,s=Yg,u=null,f=Tw(c);t=typeof t=="function"?t:t===void 0?TL:St(+t),e=typeof e=="function"?e:St(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?EL:St(+n);function c(y){var _,S,w,A=(y=Ew(y)).length,C,I=!1,N,M=new Array(A),U=new Array(A);for(o==null&&(u=s(N=f())),_=0;_<=A;++_){if(!(_<A&&i(C=y[_],_,y))===I)if(I=!I)S=_,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=_-1;w>=S;--w)u.point(M[w],U[w]);u.lineEnd(),u.areaEnd()}I&&(M[_]=+t(C,_,y),U[_]=+e(C,_,y),u.point(r?+r(C,_,y):M[_],n?+n(C,_,y):U[_]))}if(N)return u=null,N+""||null}function h(){return SL().defined(i).curve(s).context(o)}return c.x=function(y){return arguments.length?(t=typeof y=="function"?y:St(+y),r=null,c):t},c.x0=function(y){return arguments.length?(t=typeof y=="function"?y:St(+y),c):t},c.x1=function(y){return arguments.length?(r=y==null?null:typeof y=="function"?y:St(+y),c):r},c.y=function(y){return arguments.length?(e=typeof y=="function"?y:St(+y),n=null,c):e},c.y0=function(y){return arguments.length?(e=typeof y=="function"?y:St(+y),c):e},c.y1=function(y){return arguments.length?(n=y==null?null:typeof y=="function"?y:St(+y),c):n},c.lineX0=c.lineY0=function(){return h().x(t).y(e)},c.lineY1=function(){return h().x(t).y(n)},c.lineX1=function(){return h().x(r).y(e)},c.defined=function(y){return arguments.length?(i=typeof y=="function"?y:St(!!y),c):i},c.curve=function(y){return arguments.length?(s=y,o!=null&&(u=s(o)),c):s},c.context=function(y){return arguments.length?(y==null?o=u=null:u=s(o=y),c):o},c}class wL{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function J8(t){return new wL(t,!0)}function Q8(t){return new wL(t,!1)}const Sw={draw(t,e){const n=vi(e/Lm);t.moveTo(n,0),t.arc(0,0,n,0,jg)}},X8={draw(t,e){const n=vi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},AL=vi(1/3),Z8=AL*2,e7={draw(t,e){const n=vi(e/Z8),r=n*AL;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},t7={draw(t,e){const n=vi(e),r=-n/2;t.rect(r,r,n,n)}},n7=.8908130915292852,bL=km(Lm/10)/km(7*Lm/10),r7=km(jg/10)*bL,i7=-yL(jg/10)*bL,o7={draw(t,e){const n=vi(e*n7),r=r7*n,i=i7*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=jg*o/5,u=yL(s),f=km(s);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},e_=vi(3),a7={draw(t,e){const n=-vi(e/(e_*3));t.moveTo(0,n*2),t.lineTo(-e_*n,-n),t.lineTo(e_*n,-n),t.closePath()}},zr=-.5,Gr=vi(3)/2,hE=1/vi(12),s7=(hE/2+1)*3,l7={draw(t,e){const n=vi(e/s7),r=n/2,i=n*hE,o=r,s=n*hE+n,u=-o,f=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(u,f),t.lineTo(zr*r-Gr*i,Gr*r+zr*i),t.lineTo(zr*o-Gr*s,Gr*o+zr*s),t.lineTo(zr*u-Gr*f,Gr*u+zr*f),t.lineTo(zr*r+Gr*i,zr*i-Gr*r),t.lineTo(zr*o+Gr*s,zr*s-Gr*o),t.lineTo(zr*u+Gr*f,zr*f-Gr*u),t.closePath()}};function u7(t,e){let n=null,r=Tw(i);t=typeof t=="function"?t:St(t||Sw),e=typeof e=="function"?e:St(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:St(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:St(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Vm(){}function Um(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function CL(t){this._context=t}CL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Um(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Um(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function c7(t){return new CL(t)}function xL(t){this._context=t}xL.prototype={areaStart:Vm,areaEnd:Vm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Um(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function f7(t){return new xL(t)}function IL(t){this._context=t}IL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Um(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function d7(t){return new IL(t)}function RL(t){this._context=t}RL.prototype={areaStart:Vm,areaEnd:Vm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function h7(t){return new RL(t)}function fR(t){return t<0?-1:1}function dR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),u=(o*i+s*r)/(r+i);return(fR(o)+fR(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(u))||0}function hR(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function t_(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,s-u*n,o,s)}function Bm(t){this._context=t}Bm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:t_(this,this._t0,hR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,t_(this,hR(this,n=dR(this,t,e)),n);break;default:t_(this,this._t0,n=dR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function PL(t){this._context=new ML(t)}(PL.prototype=Object.create(Bm.prototype)).point=function(t,e){Bm.prototype.point.call(this,e,t)};function ML(t){this._context=t}ML.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function p7(t){return new Bm(t)}function m7(t){return new PL(t)}function NL(t){this._context=t}NL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=pR(t),i=pR(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function pR(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function g7(t){return new NL(t)}function Wg(t,e){this._context=t,this._t=e}Wg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function y7(t){return new Wg(t,.5)}function v7(t){return new Wg(t,0)}function _7(t){return new Wg(t,1)}function Hu(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,u=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function pE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function T7(t,e){return t[e]}function E7(t){const e=[];return e.key=t,e}function S7(){var t=St([]),e=pE,n=Hu,r=T7;function i(o){var s=Array.from(t.apply(this,arguments),E7),u,f=s.length,c=-1,h;for(const y of o)for(u=0,++c;u<f;++u)(s[u][c]=[0,+r(y,s[u].key,c,o)]).data=y;for(u=0,h=Ew(e(s));u<f;++u)s[h[u]].index=u;return n(s,h),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:St(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:St(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?pE:typeof o=="function"?o:St(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Hu,i):n},i}function w7(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Hu(t,e)}}function A7(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,u=0;s<i;++s)u+=t[s][n][1]||0;r[n][1]+=r[n][0]=-u/2}Hu(t,e)}}function b7(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var u=0,f=0,c=0;u<s;++u){for(var h=t[e[u]],y=h[r][1]||0,_=h[r-1][1]||0,S=(y-_)/2,w=0;w<u;++w){var A=t[e[w]],C=A[r][1]||0,I=A[r-1][1]||0;S+=C-I}f+=y,c+=S*y}i[r-1][1]+=i[r-1][0]=n,f&&(n-=c/f)}i[r-1][1]+=i[r-1][0]=n,Hu(t,e)}}var C7=["type","size","sizeType"];function mE(){return mE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mE.apply(null,arguments)}function mR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mR(Object(n),!0).forEach(function(r){x7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x7(t,e,n){return(e=I7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I7(t){var e=R7(t,"string");return typeof e=="symbol"?e:e+""}function R7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P7(t,e){if(t==null)return{};var n,r,i=M7(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function M7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var DL={symbolCircle:Sw,symbolCross:X8,symbolDiamond:e7,symbolSquare:t7,symbolStar:o7,symbolTriangle:a7,symbolWye:l7},N7=Math.PI/180,D7=t=>{var e="symbol".concat(zd(t));return DL[e]||Sw},O7=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*N7;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},k7=(t,e)=>{DL["symbol".concat(zd(t))]=e},OL=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=P7(t,C7),o=gR(gR({},i),{},{type:e,size:n,sizeType:r}),s=()=>{var y=D7(e),_=u7().type(y).size(O7(n,r,e));return _()},{className:u,cx:f,cy:c}=o,h=En(o,!0);return f===+f&&c===+c&&n===+n?P.createElement("path",mE({},h,{className:xt("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(c,")"),d:s()})):null};OL.registerSymbol=k7;var n_={},r_={},yR;function L7(){return yR||(yR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const s=n[o],u=r(s);i.has(u)||i.set(u,s)}return Array.from(i.values())}t.uniqBy=e})(r_)),r_}var i_={},vR;function kL(){return vR||(vR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(i_)),i_}var o_={},a_={},s_={},_R;function V7(){return _R||(_R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(s_)),s_}var TR;function ww(){return TR||(TR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V7();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(a_)),a_}var l_={},ER;function U7(){return ER||(ER=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(l_)),l_}var SR;function B7(){return SR||(SR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ww(),n=U7();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(o_)),o_}var u_={},c_={},wR;function q7(){return wR||(wR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gw();function n(r){return function(i){return e.get(i,r)}}t.property=n})(c_)),c_}var f_={},d_={},h_={},p_={},AR;function LL(){return AR||(AR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(p_)),p_}var m_={},bR;function VL(){return bR||(bR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(m_)),m_}var g_={},CR;function Aw(){return CR||(CR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(g_)),g_}var xR;function F7(){return xR||(xR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bw(),n=LL(),r=VL(),i=Aw();function o(y,_,S){return typeof S!="function"?e.isMatch(y,_):s(y,_,function w(A,C,I,N,M,U){const B=S(A,C,I,N,M,U);return B!==void 0?!!B:s(A,C,w,U)},new Map)}function s(y,_,S,w){if(_===y)return!0;switch(typeof _){case"object":return u(y,_,S,w);case"function":return Object.keys(_).length>0?s(y,{..._},S,w):i.eq(y,_);default:return n.isObject(y)?typeof _=="string"?_==="":!0:i.eq(y,_)}}function u(y,_,S,w){if(_==null)return!0;if(Array.isArray(_))return c(y,_,S,w);if(_ instanceof Map)return f(y,_,S,w);if(_ instanceof Set)return h(y,_,S,w);const A=Object.keys(_);if(y==null)return A.length===0;if(A.length===0)return!0;if(w&&w.has(_))return w.get(_)===y;w&&w.set(_,y);try{for(let C=0;C<A.length;C++){const I=A[C];if(!r.isPrimitive(y)&&!(I in y)||_[I]===void 0&&y[I]!==void 0||_[I]===null&&y[I]!==null||!S(y[I],_[I],I,y,_,w))return!1}return!0}finally{w&&w.delete(_)}}function f(y,_,S,w){if(_.size===0)return!0;if(!(y instanceof Map))return!1;for(const[A,C]of _.entries()){const I=y.get(A);if(S(I,C,A,y,_,w)===!1)return!1}return!0}function c(y,_,S,w){if(_.length===0)return!0;if(!Array.isArray(y))return!1;const A=new Set;for(let C=0;C<_.length;C++){const I=_[C];let N=!1;for(let M=0;M<y.length;M++){if(A.has(M))continue;const U=y[M];let B=!1;if(S(U,I,C,y,_,w)&&(B=!0),B){A.add(M),N=!0;break}}if(!N)return!1}return!0}function h(y,_,S,w){return _.size===0?!0:y instanceof Set?c([...y],[..._],S,w):!1}t.isMatchWith=o,t.isSetMatch=h})(h_)),h_}var IR;function bw(){return IR||(IR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F7();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(d_)),d_}var y_={},v_={},__={},RR;function UL(){return RR||(RR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(__)),__}var T_={},PR;function Cw(){return PR||(PR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(T_)),T_}var E_={},MR;function xw(){return MR||(MR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",s="[object Symbol]",u="[object Date]",f="[object Map]",c="[object Set]",h="[object Array]",y="[object Function]",_="[object ArrayBuffer]",S="[object Object]",w="[object Error]",A="[object DataView]",C="[object Uint8Array]",I="[object Uint8ClampedArray]",N="[object Uint16Array]",M="[object Uint32Array]",U="[object BigUint64Array]",B="[object Int8Array]",G="[object Int16Array]",O="[object Int32Array]",k="[object BigInt64Array]",D="[object Float32Array]",$="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=_,t.arrayTag=h,t.bigInt64ArrayTag=k,t.bigUint64ArrayTag=U,t.booleanTag=i,t.dataViewTag=A,t.dateTag=u,t.errorTag=w,t.float32ArrayTag=D,t.float64ArrayTag=$,t.functionTag=y,t.int16ArrayTag=G,t.int32ArrayTag=O,t.int8ArrayTag=B,t.mapTag=f,t.numberTag=r,t.objectTag=S,t.regexpTag=e,t.setTag=c,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=N,t.uint32ArrayTag=M,t.uint8ArrayTag=C,t.uint8ClampedArrayTag=I})(E_)),E_}var S_={},NR;function $7(){return NR||(NR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(S_)),S_}var DR;function BL(){return DR||(DR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UL(),n=Cw(),r=xw(),i=VL(),o=$7();function s(h,y){return u(h,void 0,h,new Map,y)}function u(h,y,_,S=new Map,w=void 0){const A=w==null?void 0:w(h,y,_,S);if(A!==void 0)return A;if(i.isPrimitive(h))return h;if(S.has(h))return S.get(h);if(Array.isArray(h)){const C=new Array(h.length);S.set(h,C);for(let I=0;I<h.length;I++)C[I]=u(h[I],I,_,S,w);return Object.hasOwn(h,"index")&&(C.index=h.index),Object.hasOwn(h,"input")&&(C.input=h.input),C}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const C=new RegExp(h.source,h.flags);return C.lastIndex=h.lastIndex,C}if(h instanceof Map){const C=new Map;S.set(h,C);for(const[I,N]of h)C.set(I,u(N,I,_,S,w));return C}if(h instanceof Set){const C=new Set;S.set(h,C);for(const I of h)C.add(u(I,void 0,_,S,w));return C}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const C=new(Object.getPrototypeOf(h)).constructor(h.length);S.set(h,C);for(let I=0;I<h.length;I++)C[I]=u(h[I],I,_,S,w);return C}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const C=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return S.set(h,C),f(C,h,_,S,w),C}if(typeof File<"u"&&h instanceof File){const C=new File([h],h.name,{type:h.type});return S.set(h,C),f(C,h,_,S,w),C}if(h instanceof Blob){const C=new Blob([h],{type:h.type});return S.set(h,C),f(C,h,_,S,w),C}if(h instanceof Error){const C=new h.constructor;return S.set(h,C),C.message=h.message,C.name=h.name,C.stack=h.stack,C.cause=h.cause,f(C,h,_,S,w),C}if(typeof h=="object"&&c(h)){const C=Object.create(Object.getPrototypeOf(h));return S.set(h,C),f(C,h,_,S,w),C}return h}function f(h,y,_=h,S,w){const A=[...Object.keys(y),...e.getSymbols(y)];for(let C=0;C<A.length;C++){const I=A[C],N=Object.getOwnPropertyDescriptor(h,I);(N==null||N.writable)&&(h[I]=u(y[I],I,_,S,w))}}function c(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=u,t.copyProperties=f})(v_)),v_}var OR;function H7(){return OR||(OR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BL();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(y_)),y_}var kR;function z7(){return kR||(kR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bw(),n=H7();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(f_)),f_}var w_={},A_={},b_={},LR;function G7(){return LR||(LR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BL(),n=xw();function r(i,o){return e.cloneDeepWith(i,(s,u,f,c)=>{const h=o==null?void 0:o(s,u,f,c);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const y=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(y,i),y}case n.argumentsTag:{const y={};return e.copyProperties(y,i),y.length=i.length,y[Symbol.iterator]=i[Symbol.iterator],y}default:return}})}t.cloneDeepWith=r})(b_)),b_}var VR;function K7(){return VR||(VR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G7();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(A_)),A_}var C_={},x_={},UR;function qL(){return UR||(UR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(x_)),x_}var I_={},BR;function j7(){return BR||(BR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Cw();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(I_)),I_}var qR;function Y7(){return qR||(qR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fL(),n=qL(),r=j7(),i=mw();function o(s,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&e.isDeepKey(u)&&(s==null?void 0:s[u])==null?f=i.toPath(u):f=[u],f.length===0)return!1;let c=s;for(let h=0;h<f.length;h++){const y=f[h];if((c==null||!Object.hasOwn(c,y))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(y)&&y<c.length))return!1;c=c[y]}return!0}t.has=o})(C_)),C_}var FR;function W7(){return FR||(FR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bw(),n=dL(),r=K7(),i=gw(),o=Y7();function s(u,f){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(c){const h=i.get(c,u);return h===void 0?o.has(c,u):f===void 0?h===void 0:e.isMatch(h,f)}}t.matchesProperty=s})(w_)),w_}var $R;function J7(){return $R||($R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kL(),n=q7(),r=z7(),i=W7();function o(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=o})(u_)),u_}var HR;function Q7(){return HR||(HR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L7(),n=kL(),r=B7(),i=J7();function o(s,u=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(u)):[]}t.uniqBy=o})(n_)),n_}var R_,zR;function X7(){return zR||(zR=1,R_=Q7().uniqBy),R_}var Z7=X7();const GR=mi(Z7);function eK(t,e,n){return e===!0?GR(t,n):typeof e=="function"?GR(t,e):t}var P_={exports:{}},M_={},N_={exports:{}},D_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KR;function tK(){if(KR)return D_;KR=1;var t=Zu();function e(y,_){return y===_&&(y!==0||1/y===1/_)||y!==y&&_!==_}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,s=t.useDebugValue;function u(y,_){var S=_(),w=r({inst:{value:S,getSnapshot:_}}),A=w[0].inst,C=w[1];return o(function(){A.value=S,A.getSnapshot=_,f(A)&&C({inst:A})},[y,S,_]),i(function(){return f(A)&&C({inst:A}),y(function(){f(A)&&C({inst:A})})},[y]),s(S),S}function f(y){var _=y.getSnapshot;y=y.value;try{var S=_();return!n(y,S)}catch{return!0}}function c(y,_){return _()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:u;return D_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,D_}var jR;function nK(){return jR||(jR=1,N_.exports=tK()),N_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YR;function rK(){if(YR)return M_;YR=1;var t=Zu(),e=nK();function n(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,s=t.useEffect,u=t.useMemo,f=t.useDebugValue;return M_.useSyncExternalStoreWithSelector=function(c,h,y,_,S){var w=o(null);if(w.current===null){var A={hasValue:!1,value:null};w.current=A}else A=w.current;w=u(function(){function I(G){if(!N){if(N=!0,M=G,G=_(G),S!==void 0&&A.hasValue){var O=A.value;if(S(O,G))return U=O}return U=G}if(O=U,r(M,G))return O;var k=_(G);return S!==void 0&&S(O,k)?(M=G,O):(M=G,U=k)}var N=!1,M,U,B=y===void 0?null:y;return[function(){return I(h())},B===null?void 0:function(){return I(B())}]},[h,y,_,S]);var C=i(c,w[0],w[1]);return s(function(){A.hasValue=!0,A.value=C},[C]),f(C),C},M_}var WR;function iK(){return WR||(WR=1,P_.exports=rK()),P_.exports}var oK=iK(),Iw=P.createContext(null),aK=t=>t,Sn=()=>{var t=P.useContext(Iw);return t?t.store.dispatch:aK},dm=()=>{},sK=()=>dm,lK=(t,e)=>t===e;function ke(t){var e=P.useContext(Iw);return oK.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:sK,e?e.store.getState:dm,e?e.store.getState:dm,e?t:dm,lK)}function uK(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function cK(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function fK(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var JR=t=>Array.isArray(t)?t:[t];function dK(t){const e=Array.isArray(t[0])?t[0]:t;return fK(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function hK(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var pK=class{constructor(t){this.value=t}deref(){return this.value}},mK=typeof WeakRef<"u"?WeakRef:pK,gK=0,QR=1;function Vp(){return{s:gK,v:void 0,o:null,p:null}}function FL(t,e={}){let n=Vp();const{resultEqualityCheck:r}=e;let i,o=0;function s(){var y;let u=n;const{length:f}=arguments;for(let _=0,S=f;_<S;_++){const w=arguments[_];if(typeof w=="function"||typeof w=="object"&&w!==null){let A=u.o;A===null&&(u.o=A=new WeakMap);const C=A.get(w);C===void 0?(u=Vp(),A.set(w,u)):u=C}else{let A=u.p;A===null&&(u.p=A=new Map);const C=A.get(w);C===void 0?(u=Vp(),A.set(w,u)):u=C}}const c=u;let h;if(u.s===QR)h=u.v;else if(h=t.apply(null,arguments),o++,r){const _=((y=i==null?void 0:i.deref)==null?void 0:y.call(i))??i;_!=null&&r(_,h)&&(h=_,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new mK(h):h}return c.s=QR,c.v=h,h}return s.clearCache=()=>{n=Vp(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function yK(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,s=0,u,f={},c=i.pop();typeof c=="object"&&(f=c,c=i.pop()),uK(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const h={...n,...f},{memoize:y,memoizeOptions:_=[],argsMemoize:S=FL,argsMemoizeOptions:w=[]}=h,A=JR(_),C=JR(w),I=dK(i),N=y(function(){return o++,c.apply(null,arguments)},...A),M=S(function(){s++;const B=hK(I,arguments);return u=N.apply(null,B),u},...C);return Object.assign(M,{resultFunc:c,memoizedResultFunc:N,dependencies:I,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:y,argsMemoize:S})};return Object.assign(r,{withTypes:()=>r}),r}var oe=yK(FL),vK=Object.assign((t,e=oe)=>{cK(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((s,u,f)=>(s[n[f]]=u,s),{}))},{withTypes:()=>vK}),O_={},k_={},L_={},XR;function _K(){return XR||(XR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const s=e(r),u=e(i);if(s===u&&s===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-s:s-u}return 0};t.compareValues=n})(L_)),L_}var V_={},U_={},ZR;function $L(){return ZR||(ZR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(U_)),U_}var eP;function TK(){return eP||(eP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$L(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||s!=null&&Object.hasOwn(s,o)}t.isKey=i})(V_)),V_}var tP;function EK(){return tP||(tP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_K(),n=TK(),r=mw();function i(o,s,u,f){if(o==null)return[];u=f?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(S=>String(S));const c=(S,w)=>{let A=S;for(let C=0;C<w.length&&A!=null;++C)A=A[w[C]];return A},h=(S,w)=>w==null||S==null?w:typeof S=="object"&&"key"in S?Object.hasOwn(w,S.key)?w[S.key]:c(w,S.path):typeof S=="function"?S(w):Array.isArray(S)?c(w,S):typeof w=="object"?w[S]:w,y=s.map(S=>(Array.isArray(S)&&S.length===1&&(S=S[0]),S==null||typeof S=="function"||Array.isArray(S)||n.isKey(S)?S:{key:S,path:r.toPath(S)}));return o.map(S=>({original:S,criteria:y.map(w=>h(w,S))})).slice().sort((S,w)=>{for(let A=0;A<y.length;A++){const C=e.compareValues(S.criteria[A],w.criteria[A],u[A]);if(C!==0)return C}return 0}).map(S=>S.original)}t.orderBy=i})(k_)),k_}var B_={},nP;function SK(){return nP||(nP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),s=(u,f)=>{for(let c=0;c<u.length;c++){const h=u[c];Array.isArray(h)&&f<o?s(h,f+1):i.push(h)}};return s(n,0),i}t.flatten=e})(B_)),B_}var q_={},rP;function HL(){return rP||(rP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qL(),n=ww(),r=LL(),i=Aw();function o(s,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&e.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.eq(f[u],s):!1}t.isIterateeCall=o})(q_)),q_}var iP;function wK(){return iP||(iP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EK(),n=SK(),r=HL();function i(o,...s){const u=s.length;return u>1&&r.isIterateeCall(o,s[0],s[1])?s=[]:u>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(o,n.flatten(s),["asc"])}t.sortBy=i})(O_)),O_}var F_,oP;function AK(){return oP||(oP=1,F_=wK().sortBy),F_}var bK=AK();const Jg=mi(bK);var zL=t=>t.legend.settings,CK=t=>t.legend.size,xK=t=>t.legend.payload;oe([xK,zL],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Jg(r,n):r});var Up=1;function IK(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=P.useState({height:0,left:0,top:0,width:0}),r=P.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),s={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(s.height-e.height)>Up||Math.abs(s.left-e.left)>Up||Math.abs(s.top-e.top)>Up||Math.abs(s.width-e.width)>Up)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Pn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var RK=typeof Symbol=="function"&&Symbol.observable||"@@observable",aP=RK,$_=()=>Math.random().toString(36).substring(7).split("").join("."),PK={INIT:`@@redux/INIT${$_()}`,REPLACE:`@@redux/REPLACE${$_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${$_()}`},qm=PK;function Rw(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function GL(t,e,n){if(typeof t!="function")throw new Error(Pn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Pn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Pn(1));return n(GL)(t,e)}let r=t,i=e,o=new Map,s=o,u=0,f=!1;function c(){s===o&&(s=new Map,o.forEach((C,I)=>{s.set(I,C)}))}function h(){if(f)throw new Error(Pn(3));return i}function y(C){if(typeof C!="function")throw new Error(Pn(4));if(f)throw new Error(Pn(5));let I=!0;c();const N=u++;return s.set(N,C),function(){if(I){if(f)throw new Error(Pn(6));I=!1,c(),s.delete(N),o=null}}}function _(C){if(!Rw(C))throw new Error(Pn(7));if(typeof C.type>"u")throw new Error(Pn(8));if(typeof C.type!="string")throw new Error(Pn(17));if(f)throw new Error(Pn(9));try{f=!0,i=r(i,C)}finally{f=!1}return(o=s).forEach(N=>{N()}),C}function S(C){if(typeof C!="function")throw new Error(Pn(10));r=C,_({type:qm.REPLACE})}function w(){const C=y;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(Pn(11));function N(){const U=I;U.next&&U.next(h())}return N(),{unsubscribe:C(N)}},[aP](){return this}}}return _({type:qm.INIT}),{dispatch:_,subscribe:y,getState:h,replaceReducer:S,[aP]:w}}function MK(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:qm.INIT})>"u")throw new Error(Pn(12));if(typeof n(void 0,{type:qm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Pn(13))})}function KL(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const s=e[o];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{MK(n)}catch(o){i=o}return function(s={},u){if(i)throw i;let f=!1;const c={};for(let h=0;h<r.length;h++){const y=r[h],_=n[y],S=s[y],w=_(S,u);if(typeof w>"u")throw u&&u.type,new Error(Pn(14));c[y]=w,f=f||w!==S}return f=f||r.length!==Object.keys(s).length,f?c:s}}function Fm(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function NK(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(Pn(15))};const s={getState:i.getState,dispatch:(f,...c)=>o(f,...c)},u=t.map(f=>f(s));return o=Fm(...u)(i.dispatch),{...i,dispatch:o}}}function jL(t){return Rw(t)&&"type"in t&&typeof t.type=="string"}var YL=Symbol.for("immer-nothing"),sP=Symbol.for("immer-draftable"),Rr=Symbol.for("immer-state");function ui(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var zu=Object.getPrototypeOf;function cl(t){return!!t&&!!t[Rr]}function Fo(t){var e;return t?WL(t)||Array.isArray(t)||!!t[sP]||!!((e=t.constructor)!=null&&e[sP])||Gd(t)||Xg(t):!1}var DK=Object.prototype.constructor.toString();function WL(t){if(!t||typeof t!="object")return!1;const e=zu(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===DK}function $m(t,e){Qg(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Qg(t){const e=t[Rr];return e?e.type_:Array.isArray(t)?1:Gd(t)?2:Xg(t)?3:0}function gE(t,e){return Qg(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function JL(t,e,n){const r=Qg(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function OK(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Gd(t){return t instanceof Map}function Xg(t){return t instanceof Set}function Hs(t){return t.copy_||t.base_}function yE(t,e){if(Gd(t))return new Map(t);if(Xg(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=WL(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Rr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],u=r[s];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[s]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[s]})}return Object.create(zu(t),r)}else{const r=zu(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function Pw(t,e=!1){return Zg(t)||cl(t)||!Fo(t)||(Qg(t)>1&&Object.defineProperties(t,{set:{value:Bp},add:{value:Bp},clear:{value:Bp},delete:{value:Bp}}),Object.freeze(t),e&&Object.values(t).forEach(n=>Pw(n,!0))),t}function Bp(){ui(2)}function Zg(t){return Object.isFrozen(t)}var kK={};function fl(t){const e=kK[t];return e||ui(0,t),e}var _d;function QL(){return _d}function LK(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function lP(t,e){e&&(fl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function vE(t){_E(t),t.drafts_.forEach(VK),t.drafts_=null}function _E(t){t===_d&&(_d=t.parent_)}function uP(t){return _d=LK(_d,t)}function VK(t){const e=t[Rr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function cP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Rr].modified_&&(vE(e),ui(4)),Fo(t)&&(t=Hm(e,t),e.parent_||zm(e,t)),e.patches_&&fl("Patches").generateReplacementPatches_(n[Rr].base_,t,e.patches_,e.inversePatches_)):t=Hm(e,n,[]),vE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==YL?t:void 0}function Hm(t,e,n){if(Zg(e))return e;const r=e[Rr];if(!r)return $m(e,(i,o)=>fP(t,r,e,i,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return zm(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),$m(o,(u,f)=>fP(t,r,i,u,f,n,s)),zm(t,i,!1),n&&t.patches_&&fl("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function fP(t,e,n,r,i,o,s){if(cl(i)){const u=o&&e&&e.type_!==3&&!gE(e.assigned_,r)?o.concat(r):void 0,f=Hm(t,i,u);if(JL(n,r,f),cl(f))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Fo(i)&&!Zg(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Hm(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Gd(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&zm(t,i)}}function zm(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Pw(e,n)}function UK(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:QL(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Mw;n&&(i=[r],o=Td);const{revoke:s,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=s,u}var Mw={get(t,e){if(e===Rr)return t;const n=Hs(t);if(!gE(n,e))return BK(t,n,e);const r=n[e];return t.finalized_||!Fo(r)?r:r===H_(t.base_,e)?(z_(t),t.copy_[e]=EE(r,t)):r},has(t,e){return e in Hs(t)},ownKeys(t){return Reflect.ownKeys(Hs(t))},set(t,e,n){const r=XL(Hs(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=H_(Hs(t),e),o=i==null?void 0:i[Rr];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(OK(n,i)&&(n!==void 0||gE(t.base_,e)))return!0;z_(t),TE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return H_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,z_(t),TE(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Hs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ui(11)},getPrototypeOf(t){return zu(t.base_)},setPrototypeOf(){ui(12)}},Td={};$m(Mw,(t,e)=>{Td[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Td.deleteProperty=function(t,e){return Td.set.call(this,t,e,void 0)};Td.set=function(t,e,n){return Mw.set.call(this,t[0],e,n,t[0])};function H_(t,e){const n=t[Rr];return(n?Hs(n):t)[e]}function BK(t,e,n){var i;const r=XL(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function XL(t,e){if(!(e in t))return;let n=zu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=zu(n)}}function TE(t){t.modified_||(t.modified_=!0,t.parent_&&TE(t.parent_))}function z_(t){t.copy_||(t.copy_=yE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var qK=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const s=this;return function(f=o,...c){return s.produce(f,h=>n.call(this,h,...c))}}typeof n!="function"&&ui(6),r!==void 0&&typeof r!="function"&&ui(7);let i;if(Fo(e)){const o=uP(this),s=EE(e,void 0);let u=!0;try{i=n(s),u=!1}finally{u?vE(o):_E(o)}return lP(o,r),cP(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===YL&&(i=void 0),this.autoFreeze_&&Pw(i,!0),r){const o=[],s=[];fl("Patches").generateReplacementPatches_(e,i,o,s),r(o,s)}return i}else ui(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...u)=>this.produceWithPatches(s,f=>e(f,...u));let r,i;return[this.produce(e,n,(s,u)=>{r=s,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Fo(t)||ui(8),cl(t)&&(t=Do(t));const e=uP(this),n=EE(t,void 0);return n[Rr].isManual_=!0,_E(e),n}finishDraft(t,e){const n=t&&t[Rr];(!n||!n.isManual_)&&ui(9);const{scope_:r}=n;return lP(r,e),cP(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=fl("Patches").applyPatches_;return cl(t)?r(t,e):this.produce(t,i=>r(i,e))}};function EE(t,e){const n=Gd(t)?fl("MapSet").proxyMap_(t,e):Xg(t)?fl("MapSet").proxySet_(t,e):UK(t,e);return(e?e.scope_:QL()).drafts_.push(n),n}function Do(t){return cl(t)||ui(10,t),ZL(t)}function ZL(t){if(!Fo(t)||Zg(t))return t;const e=t[Rr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=yE(t,e.scope_.immer_.useStrictShallowCopy_)}else n=yE(t,!0);return $m(n,(r,i)=>{JL(n,r,ZL(i))}),e&&(e.finalized_=!1),n}var FK=new qK,eV=FK.produce;function tV(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var $K=tV(),HK=tV,zK=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Fm:Fm.apply(null,arguments)};function Zr(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Ir(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>jL(r)&&r.type===t,n}var nV=class Yf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Yf.prototype)}static get[Symbol.species](){return Yf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Yf(...e[0].concat(this)):new Yf(...e.concat(this))}};function dP(t){return Fo(t)?eV(t,()=>{}):t}function qp(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function GK(t){return typeof t=="boolean"}var KK=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let s=new nV;return n&&(GK(n)?s.push($K):s.push(HK(n.extraArgument))),s},jK="RTK_autoBatch",hP=t=>e=>{setTimeout(e,t)},YK=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,s=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:hP(10):t.type==="callback"?t.queueNotification:hP(t.timeout),c=()=>{s=!1,o&&(o=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const y=()=>i&&h(),_=r.subscribe(y);return u.add(h),()=>{_(),u.delete(h)}},dispatch(h){var y;try{return i=!((y=h==null?void 0:h.meta)!=null&&y[jK]),o=!i,o&&(s||(s=!0,f(c))),r.dispatch(h)}finally{i=!0}}})},WK=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new nV(t);return r&&i.push(YK(typeof r=="object"?r:void 0)),i};function JK(t){const e=KK(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(Rw(n))u=KL(n);else throw new Error(Ir(1));let f;typeof r=="function"?f=r(e):f=e();let c=Fm;i&&(c=zK({trace:!1,...typeof i=="object"&&i}));const h=NK(...f),y=WK(h);let _=typeof s=="function"?s(y):y();const S=c(..._);return GL(u,o,S)}function rV(t){const e={},n=[];let r;const i={addCase(o,s){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Ir(28));if(u in e)throw new Error(Ir(29));return e[u]=s,i},addAsyncThunk(o,s){return s.pending&&(e[o.pending.type]=s.pending),s.rejected&&(e[o.rejected.type]=s.rejected),s.fulfilled&&(e[o.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:o.settled,reducer:s.settled}),i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function QK(t){return typeof t=="function"}function XK(t,e){let[n,r,i]=rV(e),o;if(QK(t))o=()=>dP(t());else{const u=dP(t);o=()=>u}function s(u=o(),f){let c=[n[f.type],...r.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return c.filter(h=>!!h).length===0&&(c=[i]),c.reduce((h,y)=>{if(y)if(cl(h)){const S=y(h,f);return S===void 0?h:S}else{if(Fo(h))return eV(h,_=>y(_,f));{const _=y(h,f);if(_===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return _}}return h},u)}return s.getInitialState=o,s}var ZK="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ej=(t=21)=>{let e="",n=t;for(;n--;)e+=ZK[Math.random()*64|0];return e},tj=Symbol.for("rtk-slice-createasyncthunk");function nj(t,e){return`${t}/${e}`}function rj({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[tj];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(Ir(11));const u=(typeof i.reducers=="function"?i.reducers(oj()):i.reducers)||{},f=Object.keys(u),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(U,B){const G=typeof U=="string"?U:U.type;if(!G)throw new Error(Ir(12));if(G in c.sliceCaseReducersByType)throw new Error(Ir(13));return c.sliceCaseReducersByType[G]=B,h},addMatcher(U,B){return c.sliceMatchers.push({matcher:U,reducer:B}),h},exposeAction(U,B){return c.actionCreators[U]=B,h},exposeCaseReducer(U,B){return c.sliceCaseReducersByName[U]=B,h}};f.forEach(U=>{const B=u[U],G={reducerName:U,type:nj(o,U),createNotation:typeof i.reducers=="function"};sj(B)?uj(G,B,h,e):aj(G,B,h)});function y(){const[U={},B=[],G=void 0]=typeof i.extraReducers=="function"?rV(i.extraReducers):[i.extraReducers],O={...U,...c.sliceCaseReducersByType};return XK(i.initialState,k=>{for(let D in O)k.addCase(D,O[D]);for(let D of c.sliceMatchers)k.addMatcher(D.matcher,D.reducer);for(let D of B)k.addMatcher(D.matcher,D.reducer);G&&k.addDefaultCase(G)})}const _=U=>U,S=new Map,w=new WeakMap;let A;function C(U,B){return A||(A=y()),A(U,B)}function I(){return A||(A=y()),A.getInitialState()}function N(U,B=!1){function G(k){let D=k[U];return typeof D>"u"&&B&&(D=qp(w,G,I)),D}function O(k=_){const D=qp(S,B,()=>new WeakMap);return qp(D,k,()=>{const $={};for(const[q,z]of Object.entries(i.selectors??{}))$[q]=ij(z,k,()=>qp(w,k,I),B);return $})}return{reducerPath:U,getSelectors:O,get selectors(){return O(G)},selectSlice:G}}const M={name:o,reducer:C,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:I,...N(s),injectInto(U,{reducerPath:B,...G}={}){const O=B??s;return U.inject({reducerPath:O,reducer:C},G),{...M,...N(O,!0)}}};return M}}function ij(t,e,n,r){function i(o,...s){let u=e(o);return typeof u>"u"&&r&&(u=n()),t(u,...s)}return i.unwrapped=t,i}var Mr=rj();function oj(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function aj({type:t,reducerName:e,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!lj(r))throw new Error(Ir(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,s?Zr(t,s):Zr(t))}function sj(t){return t._reducerDefinitionType==="asyncThunk"}function lj(t){return t._reducerDefinitionType==="reducerWithPrepare"}function uj({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Ir(18));const{payloadCreator:o,fulfilled:s,pending:u,rejected:f,settled:c,options:h}=n,y=i(t,o,h);r.exposeAction(e,y),s&&r.addCase(y.fulfilled,s),u&&r.addCase(y.pending,u),f&&r.addCase(y.rejected,f),c&&r.addMatcher(y.settled,c),r.exposeCaseReducer(e,{fulfilled:s||Fp,pending:u||Fp,rejected:f||Fp,settled:c||Fp})}function Fp(){}var cj="task",iV="listener",oV="completed",Nw="cancelled",fj=`task-${Nw}`,dj=`task-${oV}`,SE=`${iV}-${Nw}`,hj=`${iV}-${oV}`,ey=class{constructor(t){w0(this,"name","TaskAbortError");w0(this,"message");this.code=t,this.message=`${cj} ${Nw} (reason: ${t})`}},Dw=(t,e)=>{if(typeof t!="function")throw new TypeError(Ir(32))},Gm=()=>{},aV=(t,e=Gm)=>(t.catch(e),t),sV=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Zs=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},el=t=>{if(t.aborted){const{reason:e}=t;throw new ey(e)}};function lV(t,e){let n=Gm;return new Promise((r,i)=>{const o=()=>i(new ey(t.reason));if(t.aborted){o();return}n=sV(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Gm})}var pj=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof ey?"cancelled":"rejected",error:n}}finally{e==null||e()}},Km=t=>e=>aV(lV(t,e).then(n=>(el(t),n))),uV=t=>{const e=Km(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Ru}=Object,pP={},ty="listenerMiddleware",mj=(t,e)=>{const n=r=>sV(t,()=>Zs(r,t.reason));return(r,i)=>{Dw(r);const o=new AbortController;n(o);const s=pj(async()=>{el(t),el(o.signal);const u=await r({pause:Km(o.signal),delay:uV(o.signal),signal:o.signal});return el(o.signal),u},()=>Zs(o,dj));return i!=null&&i.autoJoin&&e.push(s.catch(Gm)),{result:Km(t)(s),cancel(){Zs(o,fj)}}}},gj=(t,e)=>{const n=async(r,i)=>{el(e);let o=()=>{};const u=[new Promise((f,c)=>{let h=t({predicate:r,effect:(y,_)=>{_.unsubscribe(),f([y,_.getState(),_.getOriginalState()])}});o=()=>{h(),c()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await lV(e,Promise.race(u));return el(e),f}finally{o()}};return(r,i)=>aV(n(r,i))},cV=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=Zr(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Ir(21));return Dw(o),{predicate:i,type:e,effect:o}},fV=Ru(t=>{const{type:e,predicate:n,effect:r}=cV(t);return{id:ej(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ir(22))}}},{withTypes:()=>fV}),mP=(t,e)=>{const{type:n,effect:r,predicate:i}=cV(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},wE=t=>{t.pending.forEach(e=>{Zs(e,SE)})},yj=t=>()=>{t.forEach(wE),t.clear()},gP=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},dV=Ru(Zr(`${ty}/add`),{withTypes:()=>dV}),vj=Zr(`${ty}/removeAll`),hV=Ru(Zr(`${ty}/remove`),{withTypes:()=>hV}),_j=(...t)=>{console.error(`${ty}/error`,...t)},Kd=(t={})=>{const e=new Map,{extra:n,onError:r=_j}=t;Dw(r);const i=h=>(h.unsubscribe=()=>e.delete(h.id),e.set(h.id,h),y=>{h.unsubscribe(),y!=null&&y.cancelActive&&wE(h)}),o=h=>{const y=mP(e,h)??fV(h);return i(y)};Ru(o,{withTypes:()=>o});const s=h=>{const y=mP(e,h);return y&&(y.unsubscribe(),h.cancelActive&&wE(y)),!!y};Ru(s,{withTypes:()=>s});const u=async(h,y,_,S)=>{const w=new AbortController,A=gj(o,w.signal),C=[];try{h.pending.add(w),await Promise.resolve(h.effect(y,Ru({},_,{getOriginalState:S,condition:(I,N)=>A(I,N).then(Boolean),take:A,delay:uV(w.signal),pause:Km(w.signal),extra:n,signal:w.signal,fork:mj(w.signal,C),unsubscribe:h.unsubscribe,subscribe:()=>{e.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((I,N,M)=>{I!==w&&(Zs(I,SE),M.delete(I))})},cancel:()=>{Zs(w,SE),h.pending.delete(w)},throwIfCancelled:()=>{el(w.signal)}})))}catch(I){I instanceof ey||gP(r,I,{raisedBy:"effect"})}finally{await Promise.all(C),Zs(w,hj),h.pending.delete(w)}},f=yj(e);return{middleware:h=>y=>_=>{if(!jL(_))return y(_);if(dV.match(_))return o(_.payload);if(vj.match(_)){f();return}if(hV.match(_))return s(_.payload);let S=h.getState();const w=()=>{if(S===pP)throw new Error(Ir(23));return S};let A;try{if(A=y(_),e.size>0){const C=h.getState(),I=Array.from(e.values());for(const N of I){let M=!1;try{M=N.predicate(_,C,S)}catch(U){M=!1,gP(r,U,{raisedBy:"predicate"})}M&&u(N,_,h,w)}}}finally{S=pP}return A},startListening:o,stopListening:s,clearListeners:f}};function Ir(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Tj={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},pV=Mr({name:"chartLayout",initialState:Tj,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:Ej,setLayout:Sj,setChartSize:wj,setScale:Aj}=pV.actions,bj=pV.reducer;function yP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(n),!0).forEach(function(r){Cj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cj(t,e,n){return(e=xj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xj(t){var e=Ij(t,"string");return typeof e=="symbol"?e:e+""}function Ij(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jm=Math.PI/180,Rj=t=>t*180/Math.PI,On=(t,e,n,r)=>({x:t+Math.cos(-jm*r)*n,y:e+Math.sin(-jm*r)*n}),Pj=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Mj=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},Nj=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,s=Mj({x:n,y:r},{x:i,y:o});if(s<=0)return{radius:s,angle:0};var u=(n-i)/s,f=Math.acos(u);return r>o&&(f=2*Math.PI-f),{radius:s,angle:Rj(f),angleInRadian:f}},Dj=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},Oj=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return t+s*360},kj=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:o}=Nj({x:n,y:r},e),{innerRadius:s,outerRadius:u}=e;if(i<s||i>u||i===0)return null;var{startAngle:f,endAngle:c}=Dj(e),h=o,y;if(f<=c){for(;h>c;)h-=360;for(;h<f;)h+=360;y=h>=f&&h<=c}else{for(;h>f;)h-=360;for(;h<c;)h+=360;y=h>=c&&h<=f}return y?vP(vP({},e),{},{radius:i,angle:Oj(h,e)}):null};function mV(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function _P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(n),!0).forEach(function(r){Lj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lj(t,e,n){return(e=Vj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vj(t){var e=Uj(t,"string");return typeof e=="symbol"?e:e+""}function Uj(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zn(t,e,n){return cn(t)||cn(e)?n:ji(e)?ul(t,e,n):typeof e=="function"?e(t):n}var Bj=(t,e,n,r,i)=>{var o,s=-1,u=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<u;f++){var c=f>0?n[f-1].coordinate:n[u-1].coordinate,h=n[f].coordinate,y=f>=u-1?n[0].coordinate:n[f+1].coordinate,_=void 0;if(Cr(h-c)!==Cr(y-h)){var S=[];if(Cr(y-h)===Cr(i[1]-i[0])){_=y;var w=h+i[1]-i[0];S[0]=Math.min(w,(w+c)/2),S[1]=Math.max(w,(w+c)/2)}else{_=c;var A=y+i[1]-i[0];S[0]=Math.min(h,(A+h)/2),S[1]=Math.max(h,(A+h)/2)}var C=[Math.min(h,(_+h)/2),Math.max(h,(_+h)/2)];if(t>C[0]&&t<=C[1]||t>=S[0]&&t<=S[1]){({index:s}=n[f]);break}}else{var I=Math.min(c,y),N=Math.max(c,y);if(t>(I+h)/2&&t<=(N+h)/2){({index:s}=n[f]);break}}}else if(e){for(var M=0;M<u;M++)if(M===0&&t<=(e[M].coordinate+e[M+1].coordinate)/2||M>0&&M<u-1&&t>(e[M].coordinate+e[M-1].coordinate)/2&&t<=(e[M].coordinate+e[M+1].coordinate)/2||M===u-1&&t>(e[M].coordinate+e[M-1].coordinate)/2){({index:s}=e[M]);break}}return s},qj=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:s,layout:u}=e;if((u==="vertical"||u==="horizontal"&&s==="middle")&&o!=="center"&&xe(t[o]))return jr(jr({},t),{},{[o]:t[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&s!=="middle"&&xe(t[s]))return jr(jr({},t),{},{[s]:t[s]+(i||0)})}return t},vl=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",TP=1e-4,Fj=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-TP,o=Math.max(r[0],r[1])+TP,s=t(e[0]),u=t(e[n-1]);(s<i||s>o||u<i||u>o)&&t.domain([e[0],e[n-1]])}},$j=(t,e)=>{if(!e||e.length!==2||!xe(e[0])||!xe(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!xe(t[0])||t[0]<n)&&(i[0]=n),(!xe(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Hj=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,s=0;s<e;++s){var u=Xr(t[s][n][1])?t[s][n][0]:t[s][n][1];u>=0?(t[s][n][0]=i,t[s][n][1]=i+u,i=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+u,o=t[s][n][1])}},zj=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var s=Xr(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=i,t[o][n][1]=i+s,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Gj={sign:Hj,expand:w7,none:Hu,silhouette:A7,wiggle:b7,positive:zj},Kj=(t,e,n)=>{var r=Gj[n],i=S7().keys(e).value((o,s)=>+Zn(o,s,0)).order(pE).offset(r);return i(t)};function jj(t){return t==null?void 0:String(t)}var EP=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:o,index:s}=t;if(e.type==="category")return n[s]?n[s].coordinate+r:null;var u=Zn(o,e.dataKey,e.scale.domain()[s]);return cn(u)?null:e.scale(u)-i/2+r},Yj=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Wj=t=>{var e=t.flat(2).filter(xe);return[Math.min(...e),Math.max(...e)]},Jj=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Qj=(t,e,n)=>{if(t!=null)return Jj(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:s}=o,u=s.reduce((f,c)=>{var h=mV(c,e,n),y=Wj(h);return[Math.min(f[0],y[0]),Math.max(f[1],y[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},SP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ow=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Jg(e,h=>h.coordinate),o=1/0,s=1,u=i.length;s<u;s++){var f=i[s],c=i[s-1];o=Math.min((f.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function AP(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return jr(jr({},e),{},{dataKey:n,payload:r,value:i,name:o})}function gV(t,e){if(t)return String(t);if(typeof e=="string")return e}function Xj(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var o=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return o?{x:t,y:e}:null}return r?kj({x:t,y:e},r):null}var Zj=(t,e,n,r)=>{var i=e.find(c=>c&&c.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,{radius:s}=r;return jr(jr(jr({},r),On(r.cx,r.cy,s,o)),{},{angle:o,radius:s})}var u=i.coordinate,{angle:f}=r;return jr(jr(jr({},r),On(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{x:0,y:0}},eY=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,jo=t=>t.layout.width,Yo=t=>t.layout.height,tY=t=>t.layout.scale,yV=t=>t.layout.margin,kw=oe(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Lw=oe(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),nY="data-recharts-item-index",rY="data-recharts-item-data-key",ny=60;function bP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(n),!0).forEach(function(r){iY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iY(t,e,n){return(e=oY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oY(t){var e=aY(t,"string");return typeof e=="symbol"?e:e+""}function aY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sY=t=>t.brush.height,wn=oe([jo,Yo,yV,sY,kw,Lw,zL,CK],(t,e,n,r,i,o,s,u)=>{var f=o.reduce((w,A)=>{var{orientation:C}=A;if(!A.mirror&&!A.hide){var I=typeof A.width=="number"?A.width:ny;return Pa(Pa({},w),{},{[C]:w[C]+I})}return w},{left:n.left||0,right:n.right||0}),c=i.reduce((w,A)=>{var{orientation:C}=A;return!A.mirror&&!A.hide?Pa(Pa({},w),{},{[C]:ul(w,"".concat(C))+A.height}):w},{top:n.top||0,bottom:n.bottom||0}),h=Pa(Pa({},c),f),y=h.bottom;h.bottom+=r,h=qj(h,s,u);var _=t-h.left-h.right,S=e-h.top-h.bottom;return Pa(Pa({brushBottom:y},h),{},{width:Math.max(_,0),height:Math.max(S,0)})}),lY=oe(wn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),vV=oe(jo,Yo,(t,e)=>({x:0,y:0,width:t,height:e})),uY=P.createContext(null),_i=()=>P.useContext(uY)!=null,ry=t=>t.brush,iy=oe([ry,wn,yV],(t,e,n)=>({height:t.height,x:xe(t.x)?t.x:e.left,y:xe(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:xe(t.width)?t.width:e.width})),Vw=()=>{var t,e=_i(),n=ke(lY),r=ke(iy),i=(t=ke(ry))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},cY={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},fY=()=>{var t;return(t=ke(wn))!==null&&t!==void 0?t:cY},dY=()=>ke(jo),hY=()=>ke(Yo),dt=t=>t.layout.layoutType,Uw=()=>ke(dt),pY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},_V=Mr({name:"legend",initialState:pY,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Do(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:tge,setLegendSettings:nge,addLegendPayload:mY,removeLegendPayload:gY}=_V.actions,yY=_V.reducer;function AE(){return AE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AE.apply(null,arguments)}function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){vY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vY(t,e,n){return(e=_Y(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Y(t){var e=TY(t,"string");return typeof e=="symbol"?e:e+""}function TY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EY(t){return Array.isArray(t)&&ji(t[0])&&ji(t[1])?t.join(" ~ "):t}var SY=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:s,itemSorter:u,wrapperClassName:f,labelClassName:c,label:h,labelFormatter:y,accessibilityLayer:_=!1}=t,S=()=>{if(o&&o.length){var B={padding:0,margin:0},G=(u?Jg(o,u):o).map((O,k)=>{if(O.type==="none")return null;var D=O.formatter||s||EY,{value:$,name:q}=O,z=$,H=q;if(D){var Me=D($,q,O,k,o);if(Array.isArray(Me))[z,H]=Me;else if(Me!=null)z=Me;else return null}var be=G_({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},r);return P.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:be},ji(H)?P.createElement("span",{className:"recharts-tooltip-item-name"},H):null,ji(H)?P.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,P.createElement("span",{className:"recharts-tooltip-item-value"},z),P.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return P.createElement("ul",{className:"recharts-tooltip-item-list",style:B},G)}return null},w=G_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),A=G_({margin:0},i),C=!cn(h),I=C?h:"",N=xt("recharts-default-tooltip",f),M=xt("recharts-tooltip-label",c);C&&y&&o!==void 0&&o!==null&&(I=y(h,o));var U=_?{role:"status","aria-live":"assertive"}:{};return P.createElement("div",AE({className:N,style:w},U),P.createElement("p",{className:M,style:A},P.isValidElement(I)?I:"".concat(I)),S())},Df="recharts-tooltip-wrapper",wY={visibility:"hidden"};function AY(t){var{coordinate:e,translateX:n,translateY:r}=t;return xt(Df,{["".concat(Df,"-right")]:xe(n)&&e&&xe(e.x)&&n>=e.x,["".concat(Df,"-left")]:xe(n)&&e&&xe(e.x)&&n<e.x,["".concat(Df,"-bottom")]:xe(r)&&e&&xe(e.y)&&r>=e.y,["".concat(Df,"-top")]:xe(r)&&e&&xe(e.y)&&r<e.y})}function xP(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:u,viewBox:f,viewBoxDimension:c}=t;if(o&&xe(o[r]))return o[r];var h=n[r]-u-(i>0?i:0),y=n[r]+i;if(e[r])return s[r]?h:y;var _=f[r];if(_==null)return 0;if(s[r]){var S=h,w=_;return S<w?Math.max(y,_):Math.max(h,_)}if(c==null)return 0;var A=y+u,C=_+c;return A>C?Math.max(h,_):Math.max(y,_)}function bY(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function CY(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:s,useTranslate3d:u,viewBox:f}=t,c,h,y;return s.height>0&&s.width>0&&n?(h=xP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:f,viewBoxDimension:f.width}),y=xP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:f,viewBoxDimension:f.height}),c=bY({translateX:h,translateY:y,useTranslate3d:u})):c=wY,{cssProperties:c,cssClasses:AY({translateX:h,translateY:y,coordinate:n})}}function IP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $p(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(n),!0).forEach(function(r){bE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bE(t,e,n){return(e=xY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xY(t){var e=IY(t,"string");return typeof e=="symbol"?e:e+""}function IY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class RY extends P.PureComponent{constructor(){super(...arguments),bE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),bE(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:s,hasPayload:u,isAnimationActive:f,offset:c,position:h,reverseDirection:y,useTranslate3d:_,viewBox:S,wrapperStyle:w,lastBoundingBox:A,innerRef:C,hasPortalFromProps:I}=this.props,{cssClasses:N,cssProperties:M}=CY({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:c,position:h,reverseDirection:y,tooltipBox:{height:A.height,width:A.width},useTranslate3d:_,viewBox:S}),U=I?{}:$p($p({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),B=$p($p({},U),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},w);return P.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:B,ref:C},o)}}var PY=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),jd={isSsr:PY()},TV=()=>ke(t=>t.rootProps.accessibilityLayer);function Pr(t){return Number.isFinite(t)}function Ym(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function CE(){return CE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CE.apply(null,arguments)}function RP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(n),!0).forEach(function(r){MY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MY(t,e,n){return(e=NY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NY(t){var e=DY(t,"string");return typeof e=="symbol"?e:e+""}function DY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MP={curveBasisClosed:f7,curveBasisOpen:d7,curveBasis:c7,curveBumpX:J8,curveBumpY:Q8,curveLinearClosed:h7,curveLinear:Yg,curveMonotoneX:p7,curveMonotoneY:m7,curveNatural:g7,curveStep:y7,curveStepAfter:_7,curveStepBefore:v7},Hp=t=>Pr(t.x)&&Pr(t.y),Of=t=>t.x,kf=t=>t.y,OY=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(zd(t));return(n==="curveMonotone"||n==="curveBump")&&e?MP["".concat(n).concat(e==="vertical"?"Y":"X")]:MP[n]||Yg},kY=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,s=OY(e,i),u=o?n.filter(Hp):n,f;if(Array.isArray(r)){var c=o?r.filter(y=>Hp(y)):r,h=u.map((y,_)=>PP(PP({},y),{},{base:c[_]}));return i==="vertical"?f=Lp().y(kf).x1(Of).x0(y=>y.base.x):f=Lp().x(Of).y1(kf).y0(y=>y.base.y),f.defined(Hp).curve(s),f(h)}return i==="vertical"&&xe(r)?f=Lp().y(kf).x1(Of).x0(r):xe(r)?f=Lp().x(Of).y1(kf).y0(r):f=SL().x(Of).y(kf),f.defined(Hp).curve(s),f(u)},LY=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?kY(t):r;return P.createElement("path",CE({},Kg(t),L8(t),{className:xt("recharts-curve",e),d:o===null?void 0:o,ref:i}))},VY=["x","y","top","left","width","height","className"];function xE(){return xE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xE.apply(null,arguments)}function NP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(n),!0).forEach(function(r){BY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BY(t,e,n){return(e=qY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qY(t){var e=FY(t,"string");return typeof e=="symbol"?e:e+""}function FY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $Y(t,e){if(t==null)return{};var n,r,i=HY(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function HY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zY=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),GY=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:s=0,className:u}=t,f=$Y(t,VY),c=UY({x:e,y:n,top:r,left:i,width:o,height:s},f);return!xe(e)||!xe(n)||!xe(o)||!xe(s)||!xe(r)||!xe(i)?null:P.createElement("path",xE({},En(c,!0),{className:xt("recharts-cross",u),d:zY(e,n,o,s,r,i)}))};function KY(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function DP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(n),!0).forEach(function(r){YY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YY(t,e,n){return(e=WY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WY(t){var e=JY(t,"string");return typeof e=="symbol"?e:e+""}function JY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _l(t,e){var n=jY({},t),r=e,i=Object.keys(e),o=i.reduce((s,u)=>(s[u]===void 0&&r[u]!==void 0&&(s[u]=r[u]),s),n);return o}var K_={},j_={},Y_={},OP;function QY(){return OP||(OP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e})(Y_)),Y_}var kP;function XY(){return kP||(kP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QY(),n=UL(),r=Cw(),i=xw(),o=Aw();function s(c,h,y){return u(c,h,void 0,void 0,void 0,void 0,y)}function u(c,h,y,_,S,w,A){const C=A(c,h,y,_,S,w);if(C!==void 0)return C;if(typeof c==typeof h)switch(typeof c){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return c===h;case"number":return c===h||Object.is(c,h);case"function":return c===h;case"object":return f(c,h,w,A)}return f(c,h,w,A)}function f(c,h,y,_){if(Object.is(c,h))return!0;let S=r.getTag(c),w=r.getTag(h);if(S===i.argumentsTag&&(S=i.objectTag),w===i.argumentsTag&&(w=i.objectTag),S!==w)return!1;switch(S){case i.stringTag:return c.toString()===h.toString();case i.numberTag:{const I=c.valueOf(),N=h.valueOf();return o.eq(I,N)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(c.valueOf(),h.valueOf());case i.regexpTag:return c.source===h.source&&c.flags===h.flags;case i.functionTag:return c===h}y=y??new Map;const A=y.get(c),C=y.get(h);if(A!=null&&C!=null)return A===h;y.set(c,h),y.set(h,c);try{switch(S){case i.mapTag:{if(c.size!==h.size)return!1;for(const[I,N]of c.entries())if(!h.has(I)||!u(N,h.get(I),I,c,h,y,_))return!1;return!0}case i.setTag:{if(c.size!==h.size)return!1;const I=Array.from(c.values()),N=Array.from(h.values());for(let M=0;M<I.length;M++){const U=I[M],B=N.findIndex(G=>u(U,G,void 0,c,h,y,_));if(B===-1)return!1;N.splice(B,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(c)!==Buffer.isBuffer(h)||c.length!==h.length)return!1;for(let I=0;I<c.length;I++)if(!u(c[I],h[I],I,c,h,y,_))return!1;return!0}case i.arrayBufferTag:return c.byteLength!==h.byteLength?!1:f(new Uint8Array(c),new Uint8Array(h),y,_);case i.dataViewTag:return c.byteLength!==h.byteLength||c.byteOffset!==h.byteOffset?!1:f(new Uint8Array(c),new Uint8Array(h),y,_);case i.errorTag:return c.name===h.name&&c.message===h.message;case i.objectTag:{if(!(f(c.constructor,h.constructor,y,_)||e.isPlainObject(c)&&e.isPlainObject(h)))return!1;const N=[...Object.keys(c),...n.getSymbols(c)],M=[...Object.keys(h),...n.getSymbols(h)];if(N.length!==M.length)return!1;for(let U=0;U<N.length;U++){const B=N[U],G=c[B];if(!Object.hasOwn(h,B))return!1;const O=h[B];if(!u(G,O,B,c,h,y,_))return!1}return!0}default:return!1}}finally{y.delete(c),y.delete(h)}}t.isEqualWith=s})(j_)),j_}var W_={},LP;function ZY(){return LP||(LP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(W_)),W_}var VP;function eW(){return VP||(VP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XY(),n=ZY();function r(i,o){return e.isEqualWith(i,o,n.noop)}t.isEqual=r})(K_)),K_}var J_,UP;function tW(){return UP||(UP=1,J_=eW().isEqual),J_}var nW=tW();const rW=mi(nW);var Wm=1e-4,EV=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],SV=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),BP=(t,e)=>n=>{var r=EV(t,e);return SV(r,n)},iW=(t,e)=>n=>{var r=EV(t,e),i=[...r.map((o,s)=>o*s).slice(1),0];return SV(i,n)},qP=function(){for(var e,n,r,i,o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];if(s.length===1)switch(s[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var f=s[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([e,r,n,i]=f[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else s.length===4&&([e,r,n,i]=s);var c=BP(e,n),h=BP(r,i),y=iW(e,n),_=w=>w>1?1:w<0?0:w,S=w=>{for(var A=w>1?1:w,C=A,I=0;I<8;++I){var N=c(C)-A,M=y(C);if(Math.abs(N-A)<Wm||M<Wm)return h(C);C=_(C-N/M)}return h(C)};return S.isStepper=!1,S},oW=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(s,u,f)=>{var c=-(s-u)*n,h=f*r,y=f+(c-h)*i/1e3,_=f*i/1e3+s;return Math.abs(_-u)<Wm&&Math.abs(y)<Wm?[u,0]:[_,y]};return o.isStepper=!0,o.dt=i,o},wV=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return qP(t);case"spring":return oW();default:if(t.split("(")[0]==="cubic-bezier")return qP(t)}return typeof t=="function"?t:null};function FP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $P(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(n),!0).forEach(function(r){aW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aW(t,e,n){return(e=sW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sW(t){var e=lW(t,"string");return typeof e=="symbol"?e:e+""}function lW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uW=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),cW=(t,e,n)=>t.map(r=>"".concat(uW(r)," ").concat(e,"ms ").concat(n)).join(","),fW=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Ed=(t,e)=>Object.keys(e).reduce((n,r)=>$P($P({},n),{},{[r]:t(r,e[r])}),{});function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){dW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dW(t,e,n){return(e=hW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hW(t){var e=pW(t,"string");return typeof e=="symbol"?e:e+""}function pW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jm=(t,e,n)=>t+(e-t)*n,IE=t=>{var{from:e,to:n}=t;return e!==n},AV=(t,e,n)=>{var r=Ed((i,o)=>{if(IE(o)){var[s,u]=t(o.from,o.to,o.velocity);return Nn(Nn({},o),{},{from:s,velocity:u})}return o},e);return n<1?Ed((i,o)=>IE(o)?Nn(Nn({},o),{},{velocity:Jm(o.velocity,r[i].velocity,n),from:Jm(o.from,r[i].from,n)}):o,e):AV(t,r,n-1)};function mW(t,e,n,r,i,o){var s,u=r.reduce((_,S)=>Nn(Nn({},_),{},{[S]:{from:t[S],velocity:0,to:e[S]}}),{}),f=()=>Ed((_,S)=>S.from,u),c=()=>!Object.values(u).filter(IE).length,h=null,y=_=>{s||(s=_);var S=_-s,w=S/n.dt;u=AV(n,u,w),i(Nn(Nn(Nn({},t),e),f())),s=_,c()||(h=o.setTimeout(y))};return()=>(h=o.setTimeout(y),()=>{h()})}function gW(t,e,n,r,i,o,s){var u=null,f=i.reduce((y,_)=>Nn(Nn({},y),{},{[_]:[t[_],e[_]]}),{}),c,h=y=>{c||(c=y);var _=(y-c)/r,S=Ed((A,C)=>Jm(...C,n(_)),f);if(o(Nn(Nn(Nn({},t),e),S)),_<1)u=s.setTimeout(h);else{var w=Ed((A,C)=>Jm(...C,n(1)),f);o(Nn(Nn(Nn({},t),e),w))}};return()=>(u=s.setTimeout(h),()=>{u()})}const bV=(t,e,n,r,i,o)=>{var s=fW(t,e);return n.isStepper===!0?mW(t,e,n,s,i,o):gW(t,e,n,r,s,i,o)};function yW(t){var e,n=()=>null,r=!1,i=null,o=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var u=s,[f,...c]=u;if(typeof f=="number"){i=t.setTimeout(o.bind(null,c),f);return}o(f),i=t.setTimeout(o.bind(null,c));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),o(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class vW{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}function _W(){return yW(new vW)}var TW=P.createContext(_W);function CV(t,e){var n=P.useContext(TW);return P.useMemo(()=>e??n(t),[t,e,n])}var EW=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function RE(){return RE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RE.apply(null,arguments)}function SW(t,e){if(t==null)return{};var n,r,i=wW(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ma(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(n),!0).forEach(function(r){Ys(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ys(t,e,n){return(e=AW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AW(t){var e=bW(t,"string");return typeof e=="symbol"?e:e+""}function bW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Bw extends P.PureComponent{constructor(e,n){super(e,n),Ys(this,"mounted",!1),Ys(this,"manager",void 0),Ys(this,"stopJSAnimation",null),Ys(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:o,to:s,children:u,duration:f,animationManager:c}=this.props;if(this.manager=c,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||f<=0){this.state={style:{}},typeof u=="function"&&(this.state={style:s});return}if(o){if(typeof u=="function"){this.state={style:o};return}this.state={style:i?{[i]:o}:o}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:o,to:s,from:u}=this.props,{style:f}=this.state;if(r){if(!n){var c={style:i?{[i]:s}:s};this.state&&f&&(i&&f[i]!==s||!i&&f!==s)&&this.setState(c);return}if(!(rW(e.to,s)&&e.canBegin&&e.isActive)){var h=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=h||o?u:e.to;if(this.state&&f){var _={style:i?{[i]:y}:y};(i&&f[i]!==y||!i&&f!==y)&&this.setState(_)}this.runAnimation(Ma(Ma({},this.props),{},{from:y,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:o,begin:s,onAnimationEnd:u,onAnimationStart:f}=e,c=bV(n,r,wV(o),i,this.changeStyle,this.manager.getTimeoutController()),h=()=>{this.stopJSAnimation=c()};this.manager.start([f,s,h,i,u])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:o,easing:s,onAnimationStart:u,onAnimationEnd:f,children:c}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof s=="function"||typeof c=="function"||s==="spring"){this.runJSAnimation(e);return}var h=i?{[i]:o}:o,y=cW(Object.keys(h),r,s);this.manager.start([u,n,Ma(Ma({},h),{},{transition:y}),r,f])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:o,easing:s,isActive:u,from:f,to:c,canBegin:h,onAnimationEnd:y,shouldReAnimate:_,onAnimationReStart:S,animationManager:w}=e,A=SW(e,EW),C=P.Children.count(n),I=this.state.style;if(typeof n=="function")return n(I);if(!u||C===0||i<=0)return n;var N=M=>{var{style:U={},className:B}=M.props,G=P.cloneElement(M,Ma(Ma({},A),{},{style:Ma(Ma({},U),I),className:B}));return G};return C===1?N(P.Children.only(n)):P.createElement("div",null,P.Children.map(n,M=>N(M)))}}Ys(Bw,"displayName","Animate");Ys(Bw,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Qm(t){var e,n=CV((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return P.createElement(Bw,RE({},t,{animationManager:n}))}function Xm(){return Xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xm.apply(null,arguments)}var GP=(t,e,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,u=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,c;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],y=0,_=4;y<_;y++)h[y]=i[y]>o?o:i[y];c="M".concat(t,",").concat(e+s*h[0]),h[0]>0&&(c+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(t+u*h[0],",").concat(e)),c+="L ".concat(t+n-u*h[1],",").concat(e),h[1]>0&&(c+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+s*h[1])),c+="L ".concat(t+n,",").concat(e+r-s*h[2]),h[2]>0&&(c+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(t+n-u*h[2],",").concat(e+r)),c+="L ".concat(t+u*h[3],",").concat(e+r),h[3]>0&&(c+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-s*h[3])),c+="Z"}else if(o>0&&i===+i&&i>0){var S=Math.min(o,i);c="M ".concat(t,",").concat(e+s*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(t+u*S,",").concat(e,`
            L `).concat(t+n-u*S,",").concat(e,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(t+n,",").concat(e+s*S,`
            L `).concat(t+n,",").concat(e+r-s*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(t+n-u*S,",").concat(e+r,`
            L `).concat(t+u*S,",").concat(e+r,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(t,",").concat(e+r-s*S," Z")}else c="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return c},CW={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xV=t=>{var e=_l(t,CW),n=P.useRef(null),[r,i]=P.useState(-1);P.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&i(I)}catch{}},[]);var{x:o,y:s,width:u,height:f,radius:c,className:h}=e,{animationEasing:y,animationDuration:_,animationBegin:S,isAnimationActive:w,isUpdateAnimationActive:A}=e;if(o!==+o||s!==+s||u!==+u||f!==+f||u===0||f===0)return null;var C=xt("recharts-rectangle",h);return A?P.createElement(Qm,{canBegin:r>0,from:{width:u,height:f,x:o,y:s},to:{width:u,height:f,x:o,y:s},duration:_,animationEasing:y,isActive:A},I=>{var{width:N,height:M,x:U,y:B}=I;return P.createElement(Qm,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:S,duration:_,isActive:w,easing:y},P.createElement("path",Xm({},En(e,!0),{className:C,d:GP(U,B,N,M,c),ref:n})))}):P.createElement("path",Xm({},En(e,!0),{className:C,d:GP(o,s,u,f,c)}))};function IV(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,s=On(e,n,r,i),u=On(e,n,r,o);return{points:[s,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function PE(){return PE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PE.apply(null,arguments)}var xW=(t,e)=>{var n=Cr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},zp=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:s,cornerRadius:u,cornerIsExternal:f}=t,c=u*(s?1:-1)+r,h=Math.asin(u/c)/jm,y=f?i:i+o*h,_=On(e,n,c,y),S=On(e,n,r,y),w=f?i-o*h:i,A=On(e,n,c*Math.cos(h*jm),w);return{center:_,circleTangency:S,lineTangency:A,theta:h}},RV=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:s}=t,u=xW(o,s),f=o+u,c=On(e,n,i,o),h=On(e,n,i,f),y="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var _=On(e,n,r,o),S=On(e,n,r,f);y+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=f),`,
            `).concat(_.x,",").concat(_.y," Z")}else y+="L ".concat(e,",").concat(n," Z");return y},IW=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:u,startAngle:f,endAngle:c}=t,h=Cr(c-f),{circleTangency:y,lineTangency:_,theta:S}=zp({cx:e,cy:n,radius:i,angle:f,sign:h,cornerRadius:o,cornerIsExternal:u}),{circleTangency:w,lineTangency:A,theta:C}=zp({cx:e,cy:n,radius:i,angle:c,sign:-h,cornerRadius:o,cornerIsExternal:u}),I=u?Math.abs(f-c):Math.abs(f-c)-S-C;if(I<0)return s?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):RV({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:c});var N="M ".concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(I>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,`
  `);if(r>0){var{circleTangency:M,lineTangency:U,theta:B}=zp({cx:e,cy:n,radius:r,angle:f,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:G,lineTangency:O,theta:k}=zp({cx:e,cy:n,radius:r,angle:c,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),D=u?Math.abs(f-c):Math.abs(f-c)-B-k;if(D<0&&o===0)return"".concat(N,"L").concat(e,",").concat(n,"Z");N+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(G.x,",").concat(G.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(D>180),",").concat(+(h>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(U.x,",").concat(U.y,"Z")}else N+="L".concat(e,",").concat(n,"Z");return N},RW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},PV=t=>{var e=_l(t,RW),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:s,forceCornerRadius:u,cornerIsExternal:f,startAngle:c,endAngle:h,className:y}=e;if(o<i||c===h)return null;var _=xt("recharts-sector",y),S=o-i,w=pi(s,S,0,!0),A;return w>0&&Math.abs(c-h)<360?A=IW({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(w,S/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:c,endAngle:h}):A=RV({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:h}),P.createElement("path",PE({},En(e,!0),{className:_,d:A}))};function PW(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:u,cy:f,innerRadius:c,outerRadius:h,angle:y}=e,_=On(u,f,c,y),S=On(u,f,h,y);r=_.x,i=_.y,o=S.x,s=S.y}else return IV(e);return[{x:r,y:i},{x:o,y:s}]}var Q_={},X_={},Z_={},KP;function MW(){return KP||(KP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$L();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Z_)),Z_}var jP;function NW(){return jP||(jP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MW();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(X_)),X_}var YP;function DW(){return YP||(YP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HL(),n=NW();function r(i,o,s){s&&typeof s!="number"&&e.isIterateeCall(i,o,s)&&(o=s=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),s=s===void 0?i<o?1:-1:n.toFinite(s);const u=Math.max(Math.ceil((o-i)/(s||1)),0),f=new Array(u);for(let c=0;c<u;c++)f[c]=i,i+=s;return f}t.range=r})(Q_)),Q_}var eT,WP;function OW(){return WP||(WP=1,eT=DW().range),eT}var kW=OW();const MV=mi(kW);function ja(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function LW(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qw(t){let e,n,r;t.length!==2?(e=ja,n=(u,f)=>ja(t(u),f),r=(u,f)=>t(u)-f):(e=t===ja||t===LW?t:VW,n=t,r=t);function i(u,f,c=0,h=u.length){if(c<h){if(e(f,f)!==0)return h;do{const y=c+h>>>1;n(u[y],f)<0?c=y+1:h=y}while(c<h)}return c}function o(u,f,c=0,h=u.length){if(c<h){if(e(f,f)!==0)return h;do{const y=c+h>>>1;n(u[y],f)<=0?c=y+1:h=y}while(c<h)}return c}function s(u,f,c=0,h=u.length){const y=i(u,f,c,h-1);return y>c&&r(u[y-1],f)>-r(u[y],f)?y-1:y}return{left:i,center:s,right:o}}function VW(){return 0}function NV(t){return t===null?NaN:+t}function*UW(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const BW=qw(ja),Yd=BW.right;qw(NV).center;class JP extends Map{constructor(e,n=$W){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(QP(this,e))}has(e){return super.has(QP(this,e))}set(e,n){return super.set(qW(this,e),n)}delete(e){return super.delete(FW(this,e))}}function QP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function qW({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function FW({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function $W(t){return t!==null&&typeof t=="object"?t.valueOf():t}function HW(t=ja){if(t===ja)return DV;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function DV(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const zW=Math.sqrt(50),GW=Math.sqrt(10),KW=Math.sqrt(2);function Zm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=zW?10:o>=GW?5:o>=KW?2:1;let u,f,c;return i<0?(c=Math.pow(10,-i)/s,u=Math.round(t*c),f=Math.round(e*c),u/c<t&&++u,f/c>e&&--f,c=-c):(c=Math.pow(10,i)*s,u=Math.round(t/c),f=Math.round(e/c),u*c<t&&++u,f*c>e&&--f),f<u&&.5<=n&&n<2?Zm(t,e,n*2):[u,f,c]}function ME(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Zm(e,t,n):Zm(t,e,n);if(!(o>=i))return[];const u=o-i+1,f=new Array(u);if(r)if(s<0)for(let c=0;c<u;++c)f[c]=(o-c)/-s;else for(let c=0;c<u;++c)f[c]=(o-c)*s;else if(s<0)for(let c=0;c<u;++c)f[c]=(i+c)/-s;else for(let c=0;c<u;++c)f[c]=(i+c)*s;return f}function NE(t,e,n){return e=+e,t=+t,n=+n,Zm(t,e,n)[2]}function DE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?NE(e,t,n):NE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function XP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function ZP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function OV(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?DV:HW(i);r>n;){if(r-n>600){const f=r-n+1,c=e-n+1,h=Math.log(f),y=.5*Math.exp(2*h/3),_=.5*Math.sqrt(h*y*(f-y)/f)*(c-f/2<0?-1:1),S=Math.max(n,Math.floor(e-c*y/f+_)),w=Math.min(r,Math.floor(e+(f-c)*y/f+_));OV(t,e,S,w,i)}const o=t[e];let s=n,u=r;for(Lf(t,n,e),i(t[r],o)>0&&Lf(t,n,r);s<u;){for(Lf(t,s,u),++s,--u;i(t[s],o)<0;)++s;for(;i(t[u],o)>0;)--u}i(t[n],o)===0?Lf(t,n,u):(++u,Lf(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Lf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function jW(t,e,n){if(t=Float64Array.from(UW(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return ZP(t);if(e>=1)return XP(t);var r,i=(r-1)*e,o=Math.floor(i),s=XP(OV(t,o).subarray(0,o+1)),u=ZP(t.subarray(o+1));return s+(u-s)*(i-o)}}function YW(t,e,n=NV){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return s+(u-s)*(i-o)}}function WW(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ti(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Wo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const OE=Symbol("implicit");function Fw(){var t=new JP,e=[],n=[],r=OE;function i(o){let s=t.get(o);if(s===void 0){if(r!==OE)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new JP;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Fw(e,n).unknown(r)},ti.apply(i,arguments),i}function $w(){var t=Fw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,u=!1,f=0,c=0,h=.5;delete t.unknown;function y(){var _=e().length,S=i<r,w=S?i:r,A=S?r:i;o=(A-w)/Math.max(1,_-f+c*2),u&&(o=Math.floor(o)),w+=(A-w-o*(_-f))*h,s=o*(1-f),u&&(w=Math.round(w),s=Math.round(s));var C=WW(_).map(function(I){return w+o*I});return n(S?C.reverse():C)}return t.domain=function(_){return arguments.length?(e(_),y()):e()},t.range=function(_){return arguments.length?([r,i]=_,r=+r,i=+i,y()):[r,i]},t.rangeRound=function(_){return[r,i]=_,r=+r,i=+i,u=!0,y()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(_){return arguments.length?(u=!!_,y()):u},t.padding=function(_){return arguments.length?(f=Math.min(1,c=+_),y()):f},t.paddingInner=function(_){return arguments.length?(f=Math.min(1,_),y()):f},t.paddingOuter=function(_){return arguments.length?(c=+_,y()):c},t.align=function(_){return arguments.length?(h=Math.max(0,Math.min(1,_)),y()):h},t.copy=function(){return $w(e(),[r,i]).round(u).paddingInner(f).paddingOuter(c).align(h)},ti.apply(y(),arguments)}function kV(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return kV(e())},t}function JW(){return kV($w.apply(null,arguments).paddingInner(1))}function Hw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function LV(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Wd(){}var Sd=.7,eg=1/Sd,Pu="\\s*([+-]?\\d+)\\s*",wd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",QW=/^#([0-9a-f]{3,8})$/,XW=new RegExp(`^rgb\\(${Pu},${Pu},${Pu}\\)$`),ZW=new RegExp(`^rgb\\(${Gi},${Gi},${Gi}\\)$`),eJ=new RegExp(`^rgba\\(${Pu},${Pu},${Pu},${wd}\\)$`),tJ=new RegExp(`^rgba\\(${Gi},${Gi},${Gi},${wd}\\)$`),nJ=new RegExp(`^hsl\\(${wd},${Gi},${Gi}\\)$`),rJ=new RegExp(`^hsla\\(${wd},${Gi},${Gi},${wd}\\)$`),eM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Hw(Wd,Ad,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:tM,formatHex:tM,formatHex8:iJ,formatHsl:oJ,formatRgb:nM,toString:nM});function tM(){return this.rgb().formatHex()}function iJ(){return this.rgb().formatHex8()}function oJ(){return VV(this).formatHsl()}function nM(){return this.rgb().formatRgb()}function Ad(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=QW.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?rM(e):n===3?new sr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Gp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Gp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=XW.exec(t))?new sr(e[1],e[2],e[3],1):(e=ZW.exec(t))?new sr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=eJ.exec(t))?Gp(e[1],e[2],e[3],e[4]):(e=tJ.exec(t))?Gp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=nJ.exec(t))?aM(e[1],e[2]/100,e[3]/100,1):(e=rJ.exec(t))?aM(e[1],e[2]/100,e[3]/100,e[4]):eM.hasOwnProperty(t)?rM(eM[t]):t==="transparent"?new sr(NaN,NaN,NaN,0):null}function rM(t){return new sr(t>>16&255,t>>8&255,t&255,1)}function Gp(t,e,n,r){return r<=0&&(t=e=n=NaN),new sr(t,e,n,r)}function aJ(t){return t instanceof Wd||(t=Ad(t)),t?(t=t.rgb(),new sr(t.r,t.g,t.b,t.opacity)):new sr}function kE(t,e,n,r){return arguments.length===1?aJ(t):new sr(t,e,n,r??1)}function sr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Hw(sr,kE,LV(Wd,{brighter(t){return t=t==null?eg:Math.pow(eg,t),new sr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Sd:Math.pow(Sd,t),new sr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new sr(tl(this.r),tl(this.g),tl(this.b),tg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iM,formatHex:iM,formatHex8:sJ,formatRgb:oM,toString:oM}));function iM(){return`#${Ws(this.r)}${Ws(this.g)}${Ws(this.b)}`}function sJ(){return`#${Ws(this.r)}${Ws(this.g)}${Ws(this.b)}${Ws((isNaN(this.opacity)?1:this.opacity)*255)}`}function oM(){const t=tg(this.opacity);return`${t===1?"rgb(":"rgba("}${tl(this.r)}, ${tl(this.g)}, ${tl(this.b)}${t===1?")":`, ${t})`}`}function tg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function tl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ws(t){return t=tl(t),(t<16?"0":"")+t.toString(16)}function aM(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ci(t,e,n,r)}function VV(t){if(t instanceof ci)return new ci(t.h,t.s,t.l,t.opacity);if(t instanceof Wd||(t=Ad(t)),!t)return new ci;if(t instanceof ci)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,u=o-i,f=(o+i)/2;return u?(e===o?s=(n-r)/u+(n<r)*6:n===o?s=(r-e)/u+2:s=(e-n)/u+4,u/=f<.5?o+i:2-o-i,s*=60):u=f>0&&f<1?0:s,new ci(s,u,f,t.opacity)}function lJ(t,e,n,r){return arguments.length===1?VV(t):new ci(t,e,n,r??1)}function ci(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Hw(ci,lJ,LV(Wd,{brighter(t){return t=t==null?eg:Math.pow(eg,t),new ci(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Sd:Math.pow(Sd,t),new ci(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new sr(tT(t>=240?t-240:t+120,i,r),tT(t,i,r),tT(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ci(sM(this.h),Kp(this.s),Kp(this.l),tg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=tg(this.opacity);return`${t===1?"hsl(":"hsla("}${sM(this.h)}, ${Kp(this.s)*100}%, ${Kp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function sM(t){return t=(t||0)%360,t<0?t+360:t}function Kp(t){return Math.max(0,Math.min(1,t||0))}function tT(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const zw=t=>()=>t;function uJ(t,e){return function(n){return t+n*e}}function cJ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function fJ(t){return(t=+t)==1?UV:function(e,n){return n-e?cJ(e,n,t):zw(isNaN(e)?n:e)}}function UV(t,e){var n=e-t;return n?uJ(t,n):zw(isNaN(t)?e:t)}const lM=(function t(e){var n=fJ(e);function r(i,o){var s=n((i=kE(i)).r,(o=kE(o)).r),u=n(i.g,o.g),f=n(i.b,o.b),c=UV(i.opacity,o.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=f(h),i.opacity=c(h),i+""}}return r.gamma=t,r})(1);function dJ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function hJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function pJ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=fc(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(u){for(s=0;s<r;++s)o[s]=i[s](u);return o}}function mJ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ng(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function gJ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=fc(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var LE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nT=new RegExp(LE.source,"g");function yJ(t){return function(){return t}}function vJ(t){return function(e){return t(e)+""}}function _J(t,e){var n=LE.lastIndex=nT.lastIndex=0,r,i,o,s=-1,u=[],f=[];for(t=t+"",e=e+"";(r=LE.exec(t))&&(i=nT.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[s]?u[s]+=o:u[++s]=o),(r=r[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,f.push({i:s,x:ng(r,i)})),n=nT.lastIndex;return n<e.length&&(o=e.slice(n),u[s]?u[s]+=o:u[++s]=o),u.length<2?f[0]?vJ(f[0].x):yJ(e):(e=f.length,function(c){for(var h=0,y;h<e;++h)u[(y=f[h]).i]=y.x(c);return u.join("")})}function fc(t,e){var n=typeof e,r;return e==null||n==="boolean"?zw(e):(n==="number"?ng:n==="string"?(r=Ad(e))?(e=r,lM):_J:e instanceof Ad?lM:e instanceof Date?mJ:hJ(e)?dJ:Array.isArray(e)?pJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?gJ:ng)(t,e)}function Gw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function TJ(t,e){e===void 0&&(e=t,t=fc);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var u=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[u](s-u)}}function EJ(t){return function(){return t}}function rg(t){return+t}var uM=[0,1];function Xn(t){return t}function VE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:EJ(isNaN(e)?NaN:.5)}function SJ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function wJ(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=VE(i,r),o=n(s,o)):(r=VE(r,i),o=n(o,s)),function(u){return o(r(u))}}function AJ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=VE(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(u){var f=Yd(t,u,1,r)-1;return o[f](i[f](u))}}function Jd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function oy(){var t=uM,e=uM,n=fc,r,i,o,s=Xn,u,f,c;function h(){var _=Math.min(t.length,e.length);return s!==Xn&&(s=SJ(t[0],t[_-1])),u=_>2?AJ:wJ,f=c=null,y}function y(_){return _==null||isNaN(_=+_)?o:(f||(f=u(t.map(r),e,n)))(r(s(_)))}return y.invert=function(_){return s(i((c||(c=u(e,t.map(r),ng)))(_)))},y.domain=function(_){return arguments.length?(t=Array.from(_,rg),h()):t.slice()},y.range=function(_){return arguments.length?(e=Array.from(_),h()):e.slice()},y.rangeRound=function(_){return e=Array.from(_),n=Gw,h()},y.clamp=function(_){return arguments.length?(s=_?!0:Xn,h()):s!==Xn},y.interpolate=function(_){return arguments.length?(n=_,h()):n},y.unknown=function(_){return arguments.length?(o=_,y):o},function(_,S){return r=_,i=S,h()}}function Kw(){return oy()(Xn,Xn)}function bJ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ig(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Gu(t){return t=ig(Math.abs(t)),t?t[1]:NaN}function CJ(t,e){return function(n,r){for(var i=n.length,o=[],s=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),o.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[s=(s+1)%t.length];return o.reverse().join(e)}}function xJ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var IJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bd(t){if(!(e=IJ.exec(t)))throw new Error("invalid format: "+t);var e;return new jw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}bd.prototype=jw.prototype;function jw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}jw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function RJ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var BV;function PJ(t,e){var n=ig(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(BV=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ig(t,Math.max(0,e+o-1))[0]}function cM(t,e){var n=ig(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const fM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:bJ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>cM(t*100,e),r:cM,s:PJ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function dM(t){return t}var hM=Array.prototype.map,pM=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function MJ(t){var e=t.grouping===void 0||t.thousands===void 0?dM:CJ(hM.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?dM:xJ(hM.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function c(y){y=bd(y);var _=y.fill,S=y.align,w=y.sign,A=y.symbol,C=y.zero,I=y.width,N=y.comma,M=y.precision,U=y.trim,B=y.type;B==="n"?(N=!0,B="g"):fM[B]||(M===void 0&&(M=12),U=!0,B="g"),(C||_==="0"&&S==="=")&&(C=!0,_="0",S="=");var G=A==="$"?n:A==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",O=A==="$"?r:/[%p]/.test(B)?s:"",k=fM[B],D=/[defgprs%]/.test(B);M=M===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function $(q){var z=G,H=O,Me,be,ne;if(B==="c")H=k(q)+H,q="";else{q=+q;var pe=q<0||1/q<0;if(q=isNaN(q)?f:k(Math.abs(q),M),U&&(q=RJ(q)),pe&&+q==0&&w!=="+"&&(pe=!1),z=(pe?w==="("?w:u:w==="-"||w==="("?"":w)+z,H=(B==="s"?pM[8+BV/3]:"")+H+(pe&&w==="("?")":""),D){for(Me=-1,be=q.length;++Me<be;)if(ne=q.charCodeAt(Me),48>ne||ne>57){H=(ne===46?i+q.slice(Me+1):q.slice(Me))+H,q=q.slice(0,Me);break}}}N&&!C&&(q=e(q,1/0));var _e=z.length+q.length+H.length,Le=_e<I?new Array(I-_e+1).join(_):"";switch(N&&C&&(q=e(Le+q,Le.length?I-H.length:1/0),Le=""),S){case"<":q=z+q+H+Le;break;case"=":q=z+Le+q+H;break;case"^":q=Le.slice(0,_e=Le.length>>1)+z+q+H+Le.slice(_e);break;default:q=Le+z+q+H;break}return o(q)}return $.toString=function(){return y+""},$}function h(y,_){var S=c((y=bd(y),y.type="f",y)),w=Math.max(-8,Math.min(8,Math.floor(Gu(_)/3)))*3,A=Math.pow(10,-w),C=pM[8+w/3];return function(I){return S(A*I)+C}}return{format:c,formatPrefix:h}}var jp,Yw,qV;NJ({thousands:",",grouping:[3],currency:["$",""]});function NJ(t){return jp=MJ(t),Yw=jp.format,qV=jp.formatPrefix,jp}function DJ(t){return Math.max(0,-Gu(Math.abs(t)))}function OJ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gu(e)/3)))*3-Gu(Math.abs(t)))}function kJ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Gu(e)-Gu(t))+1}function FV(t,e,n,r){var i=DE(t,e,n),o;switch(r=bd(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=OJ(i,s))&&(r.precision=o),qV(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=kJ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=DJ(i))&&(r.precision=o-(r.type==="%")*2);break}}return Yw(r)}function is(t){var e=t.domain;return t.ticks=function(n){var r=e();return ME(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return FV(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],u=r[o],f,c,h=10;for(u<s&&(c=s,s=u,u=c,c=i,i=o,o=c);h-- >0;){if(c=NE(s,u,n),c===f)return r[i]=s,r[o]=u,e(r);if(c>0)s=Math.floor(s/c)*c,u=Math.ceil(u/c)*c;else if(c<0)s=Math.ceil(s*c)/c,u=Math.floor(u*c)/c;else break;f=c}return t},t}function $V(){var t=Kw();return t.copy=function(){return Jd(t,$V())},ti.apply(t,arguments),is(t)}function HV(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,rg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return HV(t).unknown(e)},t=arguments.length?Array.from(t,rg):[0,1],is(n)}function zV(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function mM(t){return Math.log(t)}function gM(t){return Math.exp(t)}function LJ(t){return-Math.log(-t)}function VJ(t){return-Math.exp(-t)}function UJ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function BJ(t){return t===10?UJ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function qJ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function yM(t){return(e,n)=>-t(-e,n)}function Ww(t){const e=t(mM,gM),n=e.domain;let r=10,i,o;function s(){return i=qJ(r),o=BJ(r),n()[0]<0?(i=yM(i),o=yM(o),t(LJ,VJ)):t(mM,gM),e}return e.base=function(u){return arguments.length?(r=+u,s()):r},e.domain=function(u){return arguments.length?(n(u),s()):n()},e.ticks=u=>{const f=n();let c=f[0],h=f[f.length-1];const y=h<c;y&&([c,h]=[h,c]);let _=i(c),S=i(h),w,A;const C=u==null?10:+u;let I=[];if(!(r%1)&&S-_<C){if(_=Math.floor(_),S=Math.ceil(S),c>0){for(;_<=S;++_)for(w=1;w<r;++w)if(A=_<0?w/o(-_):w*o(_),!(A<c)){if(A>h)break;I.push(A)}}else for(;_<=S;++_)for(w=r-1;w>=1;--w)if(A=_>0?w/o(-_):w*o(_),!(A<c)){if(A>h)break;I.push(A)}I.length*2<C&&(I=ME(c,h,C))}else I=ME(_,S,Math.min(S-_,C)).map(o);return y?I.reverse():I},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=bd(f)).precision==null&&(f.trim=!0),f=Yw(f)),u===1/0)return f;const c=Math.max(1,r*u/e.ticks().length);return h=>{let y=h/o(Math.round(i(h)));return y*r<r-.5&&(y*=r),y<=c?f(h):""}},e.nice=()=>n(zV(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function GV(){const t=Ww(oy()).domain([1,10]);return t.copy=()=>Jd(t,GV()).base(t.base()),ti.apply(t,arguments),t}function vM(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function _M(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Jw(t){var e=1,n=t(vM(e),_M(e));return n.constant=function(r){return arguments.length?t(vM(e=+r),_M(e)):e},is(n)}function KV(){var t=Jw(oy());return t.copy=function(){return Jd(t,KV()).constant(t.constant())},ti.apply(t,arguments)}function TM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function FJ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function $J(t){return t<0?-t*t:t*t}function Qw(t){var e=t(Xn,Xn),n=1;function r(){return n===1?t(Xn,Xn):n===.5?t(FJ,$J):t(TM(n),TM(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},is(e)}function Xw(){var t=Qw(oy());return t.copy=function(){return Jd(t,Xw()).exponent(t.exponent())},ti.apply(t,arguments),t}function HJ(){return Xw.apply(null,arguments).exponent(.5)}function EM(t){return Math.sign(t)*t*t}function zJ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function jV(){var t=Kw(),e=[0,1],n=!1,r;function i(o){var s=zJ(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(EM(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,rg)).map(EM)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return jV(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ti.apply(i,arguments),is(i)}function YV(){var t=[],e=[],n=[],r;function i(){var s=0,u=Math.max(1,e.length);for(n=new Array(u-1);++s<u;)n[s-1]=YW(t,s/u);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Yd(n,s)]}return o.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(ja),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return YV().domain(t).range(e).unknown(r)},ti.apply(o,arguments)}function WV(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(f){return f!=null&&f<=f?i[Yd(r,f,0,n)]:o}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return s}return s.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},s.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},s.invertExtent=function(f){var c=i.indexOf(f);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(f){return arguments.length&&(o=f),s},s.thresholds=function(){return r.slice()},s.copy=function(){return WV().domain([t,e]).range(i).unknown(o)},ti.apply(is(s),arguments)}function JV(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Yd(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return JV().domain(t).range(e).unknown(n)},ti.apply(i,arguments)}const rT=new Date,iT=new Date;function fn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),u=i.ceil(o);return o-s<u-o?s:u},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,u)=>{const f=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<s)||!(u>0))return f;let c;do f.push(c=new Date(+o)),e(o,u),t(o);while(c<o&&o<s);return f},i.filter=o=>fn(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!o(s););else for(;--u>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(rT.setTime(+o),iT.setTime(+s),t(rT),t(iT),Math.floor(n(rT,iT))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const og=fn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);og.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?fn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):og);og.range;const Ro=1e3,Wr=Ro*60,Po=Wr*60,$o=Po*24,Zw=$o*7,SM=$o*30,oT=$o*365,Js=fn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ro)},(t,e)=>(e-t)/Ro,t=>t.getUTCSeconds());Js.range;const eA=fn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ro)},(t,e)=>{t.setTime(+t+e*Wr)},(t,e)=>(e-t)/Wr,t=>t.getMinutes());eA.range;const tA=fn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Wr)},(t,e)=>(e-t)/Wr,t=>t.getUTCMinutes());tA.range;const nA=fn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ro-t.getMinutes()*Wr)},(t,e)=>{t.setTime(+t+e*Po)},(t,e)=>(e-t)/Po,t=>t.getHours());nA.range;const rA=fn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Po)},(t,e)=>(e-t)/Po,t=>t.getUTCHours());rA.range;const Qd=fn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Wr)/$o,t=>t.getDate()-1);Qd.range;const ay=fn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$o,t=>t.getUTCDate()-1);ay.range;const QV=fn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$o,t=>Math.floor(t/$o));QV.range;function Tl(t){return fn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Wr)/Zw)}const sy=Tl(0),ag=Tl(1),GJ=Tl(2),KJ=Tl(3),Ku=Tl(4),jJ=Tl(5),YJ=Tl(6);sy.range;ag.range;GJ.range;KJ.range;Ku.range;jJ.range;YJ.range;function El(t){return fn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Zw)}const ly=El(0),sg=El(1),WJ=El(2),JJ=El(3),ju=El(4),QJ=El(5),XJ=El(6);ly.range;sg.range;WJ.range;JJ.range;ju.range;QJ.range;XJ.range;const iA=fn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());iA.range;const oA=fn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());oA.range;const Ho=fn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ho.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:fn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ho.range;const zo=fn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());zo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:fn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});zo.range;function XV(t,e,n,r,i,o){const s=[[Js,1,Ro],[Js,5,5*Ro],[Js,15,15*Ro],[Js,30,30*Ro],[o,1,Wr],[o,5,5*Wr],[o,15,15*Wr],[o,30,30*Wr],[i,1,Po],[i,3,3*Po],[i,6,6*Po],[i,12,12*Po],[r,1,$o],[r,2,2*$o],[n,1,Zw],[e,1,SM],[e,3,3*SM],[t,1,oT]];function u(c,h,y){const _=h<c;_&&([c,h]=[h,c]);const S=y&&typeof y.range=="function"?y:f(c,h,y),w=S?S.range(c,+h+1):[];return _?w.reverse():w}function f(c,h,y){const _=Math.abs(h-c)/y,S=qw(([,,C])=>C).right(s,_);if(S===s.length)return t.every(DE(c/oT,h/oT,y));if(S===0)return og.every(Math.max(DE(c,h,y),1));const[w,A]=s[_/s[S-1][2]<s[S][2]/_?S-1:S];return w.every(A)}return[u,f]}const[ZJ,eQ]=XV(zo,oA,ly,QV,rA,tA),[tQ,nQ]=XV(Ho,iA,sy,Qd,nA,eA);function aT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function sT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function rQ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,u=t.months,f=t.shortMonths,c=Uf(i),h=Bf(i),y=Uf(o),_=Bf(o),S=Uf(s),w=Bf(s),A=Uf(u),C=Bf(u),I=Uf(f),N=Bf(f),M={a:pe,A:_e,b:Le,B:j,c:null,d:IM,e:IM,f:CQ,g:LQ,G:UQ,H:wQ,I:AQ,j:bQ,L:ZV,m:xQ,M:IQ,p:ce,q:ae,Q:MM,s:NM,S:RQ,u:PQ,U:MQ,V:NQ,w:DQ,W:OQ,x:null,X:null,y:kQ,Y:VQ,Z:BQ,"%":PM},U={a:me,A:Ae,b:Re,B:Ne,c:null,d:RM,e:RM,f:HQ,g:ZQ,G:tX,H:qQ,I:FQ,j:$Q,L:tU,m:zQ,M:GQ,p:Nt,q:rt,Q:MM,s:NM,S:KQ,u:jQ,U:YQ,V:WQ,w:JQ,W:QQ,x:null,X:null,y:XQ,Y:eX,Z:nX,"%":PM},B={a:$,A:q,b:z,B:H,c:Me,d:CM,e:CM,f:_Q,g:bM,G:AM,H:xM,I:xM,j:mQ,L:vQ,m:pQ,M:gQ,p:D,q:hQ,Q:EQ,s:SQ,S:yQ,u:lQ,U:uQ,V:cQ,w:sQ,W:fQ,x:be,X:ne,y:bM,Y:AM,Z:dQ,"%":TQ};M.x=G(n,M),M.X=G(r,M),M.c=G(e,M),U.x=G(n,U),U.X=G(r,U),U.c=G(e,U);function G(Z,he){return function(ge){var re=[],Pe=-1,qe=0,Tt=Z.length,Ft,Dt,Qi;for(ge instanceof Date||(ge=new Date(+ge));++Pe<Tt;)Z.charCodeAt(Pe)===37&&(re.push(Z.slice(qe,Pe)),(Dt=wM[Ft=Z.charAt(++Pe)])!=null?Ft=Z.charAt(++Pe):Dt=Ft==="e"?" ":"0",(Qi=he[Ft])&&(Ft=Qi(ge,Dt)),re.push(Ft),qe=Pe+1);return re.push(Z.slice(qe,Pe)),re.join("")}}function O(Z,he){return function(ge){var re=Vf(1900,void 0,1),Pe=k(re,Z,ge+="",0),qe,Tt;if(Pe!=ge.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(he&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(qe=sT(Vf(re.y,0,1)),Tt=qe.getUTCDay(),qe=Tt>4||Tt===0?sg.ceil(qe):sg(qe),qe=ay.offset(qe,(re.V-1)*7),re.y=qe.getUTCFullYear(),re.m=qe.getUTCMonth(),re.d=qe.getUTCDate()+(re.w+6)%7):(qe=aT(Vf(re.y,0,1)),Tt=qe.getDay(),qe=Tt>4||Tt===0?ag.ceil(qe):ag(qe),qe=Qd.offset(qe,(re.V-1)*7),re.y=qe.getFullYear(),re.m=qe.getMonth(),re.d=qe.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),Tt="Z"in re?sT(Vf(re.y,0,1)).getUTCDay():aT(Vf(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(Tt+5)%7:re.w+re.U*7-(Tt+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,sT(re)):aT(re)}}function k(Z,he,ge,re){for(var Pe=0,qe=he.length,Tt=ge.length,Ft,Dt;Pe<qe;){if(re>=Tt)return-1;if(Ft=he.charCodeAt(Pe++),Ft===37){if(Ft=he.charAt(Pe++),Dt=B[Ft in wM?he.charAt(Pe++):Ft],!Dt||(re=Dt(Z,ge,re))<0)return-1}else if(Ft!=ge.charCodeAt(re++))return-1}return re}function D(Z,he,ge){var re=c.exec(he.slice(ge));return re?(Z.p=h.get(re[0].toLowerCase()),ge+re[0].length):-1}function $(Z,he,ge){var re=S.exec(he.slice(ge));return re?(Z.w=w.get(re[0].toLowerCase()),ge+re[0].length):-1}function q(Z,he,ge){var re=y.exec(he.slice(ge));return re?(Z.w=_.get(re[0].toLowerCase()),ge+re[0].length):-1}function z(Z,he,ge){var re=I.exec(he.slice(ge));return re?(Z.m=N.get(re[0].toLowerCase()),ge+re[0].length):-1}function H(Z,he,ge){var re=A.exec(he.slice(ge));return re?(Z.m=C.get(re[0].toLowerCase()),ge+re[0].length):-1}function Me(Z,he,ge){return k(Z,e,he,ge)}function be(Z,he,ge){return k(Z,n,he,ge)}function ne(Z,he,ge){return k(Z,r,he,ge)}function pe(Z){return s[Z.getDay()]}function _e(Z){return o[Z.getDay()]}function Le(Z){return f[Z.getMonth()]}function j(Z){return u[Z.getMonth()]}function ce(Z){return i[+(Z.getHours()>=12)]}function ae(Z){return 1+~~(Z.getMonth()/3)}function me(Z){return s[Z.getUTCDay()]}function Ae(Z){return o[Z.getUTCDay()]}function Re(Z){return f[Z.getUTCMonth()]}function Ne(Z){return u[Z.getUTCMonth()]}function Nt(Z){return i[+(Z.getUTCHours()>=12)]}function rt(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var he=G(Z+="",M);return he.toString=function(){return Z},he},parse:function(Z){var he=O(Z+="",!1);return he.toString=function(){return Z},he},utcFormat:function(Z){var he=G(Z+="",U);return he.toString=function(){return Z},he},utcParse:function(Z){var he=O(Z+="",!0);return he.toString=function(){return Z},he}}}var wM={"-":"",_:" ",0:"0"},An=/^\s*\d+/,iQ=/^%/,oQ=/[\\^$*+?|[\]().{}]/g;function nt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function aQ(t){return t.replace(oQ,"\\$&")}function Uf(t){return new RegExp("^(?:"+t.map(aQ).join("|")+")","i")}function Bf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function sQ(t,e,n){var r=An.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function lQ(t,e,n){var r=An.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function uQ(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function cQ(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function fQ(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function AM(t,e,n){var r=An.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function bM(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function dQ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function hQ(t,e,n){var r=An.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function pQ(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function CM(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function mQ(t,e,n){var r=An.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function xM(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function gQ(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function yQ(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function vQ(t,e,n){var r=An.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function _Q(t,e,n){var r=An.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function TQ(t,e,n){var r=iQ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function EQ(t,e,n){var r=An.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function SQ(t,e,n){var r=An.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function IM(t,e){return nt(t.getDate(),e,2)}function wQ(t,e){return nt(t.getHours(),e,2)}function AQ(t,e){return nt(t.getHours()%12||12,e,2)}function bQ(t,e){return nt(1+Qd.count(Ho(t),t),e,3)}function ZV(t,e){return nt(t.getMilliseconds(),e,3)}function CQ(t,e){return ZV(t,e)+"000"}function xQ(t,e){return nt(t.getMonth()+1,e,2)}function IQ(t,e){return nt(t.getMinutes(),e,2)}function RQ(t,e){return nt(t.getSeconds(),e,2)}function PQ(t){var e=t.getDay();return e===0?7:e}function MQ(t,e){return nt(sy.count(Ho(t)-1,t),e,2)}function eU(t){var e=t.getDay();return e>=4||e===0?Ku(t):Ku.ceil(t)}function NQ(t,e){return t=eU(t),nt(Ku.count(Ho(t),t)+(Ho(t).getDay()===4),e,2)}function DQ(t){return t.getDay()}function OQ(t,e){return nt(ag.count(Ho(t)-1,t),e,2)}function kQ(t,e){return nt(t.getFullYear()%100,e,2)}function LQ(t,e){return t=eU(t),nt(t.getFullYear()%100,e,2)}function VQ(t,e){return nt(t.getFullYear()%1e4,e,4)}function UQ(t,e){var n=t.getDay();return t=n>=4||n===0?Ku(t):Ku.ceil(t),nt(t.getFullYear()%1e4,e,4)}function BQ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+nt(e/60|0,"0",2)+nt(e%60,"0",2)}function RM(t,e){return nt(t.getUTCDate(),e,2)}function qQ(t,e){return nt(t.getUTCHours(),e,2)}function FQ(t,e){return nt(t.getUTCHours()%12||12,e,2)}function $Q(t,e){return nt(1+ay.count(zo(t),t),e,3)}function tU(t,e){return nt(t.getUTCMilliseconds(),e,3)}function HQ(t,e){return tU(t,e)+"000"}function zQ(t,e){return nt(t.getUTCMonth()+1,e,2)}function GQ(t,e){return nt(t.getUTCMinutes(),e,2)}function KQ(t,e){return nt(t.getUTCSeconds(),e,2)}function jQ(t){var e=t.getUTCDay();return e===0?7:e}function YQ(t,e){return nt(ly.count(zo(t)-1,t),e,2)}function nU(t){var e=t.getUTCDay();return e>=4||e===0?ju(t):ju.ceil(t)}function WQ(t,e){return t=nU(t),nt(ju.count(zo(t),t)+(zo(t).getUTCDay()===4),e,2)}function JQ(t){return t.getUTCDay()}function QQ(t,e){return nt(sg.count(zo(t)-1,t),e,2)}function XQ(t,e){return nt(t.getUTCFullYear()%100,e,2)}function ZQ(t,e){return t=nU(t),nt(t.getUTCFullYear()%100,e,2)}function eX(t,e){return nt(t.getUTCFullYear()%1e4,e,4)}function tX(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ju(t):ju.ceil(t),nt(t.getUTCFullYear()%1e4,e,4)}function nX(){return"+0000"}function PM(){return"%"}function MM(t){return+t}function NM(t){return Math.floor(+t/1e3)}var gu,rU,iU;rX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function rX(t){return gu=rQ(t),rU=gu.format,gu.parse,iU=gu.utcFormat,gu.utcParse,gu}function iX(t){return new Date(t)}function oX(t){return t instanceof Date?+t:+new Date(+t)}function aA(t,e,n,r,i,o,s,u,f,c){var h=Kw(),y=h.invert,_=h.domain,S=c(".%L"),w=c(":%S"),A=c("%I:%M"),C=c("%I %p"),I=c("%a %d"),N=c("%b %d"),M=c("%B"),U=c("%Y");function B(G){return(f(G)<G?S:u(G)<G?w:s(G)<G?A:o(G)<G?C:r(G)<G?i(G)<G?I:N:n(G)<G?M:U)(G)}return h.invert=function(G){return new Date(y(G))},h.domain=function(G){return arguments.length?_(Array.from(G,oX)):_().map(iX)},h.ticks=function(G){var O=_();return t(O[0],O[O.length-1],G??10)},h.tickFormat=function(G,O){return O==null?B:c(O)},h.nice=function(G){var O=_();return(!G||typeof G.range!="function")&&(G=e(O[0],O[O.length-1],G??10)),G?_(zV(O,G)):h},h.copy=function(){return Jd(h,aA(t,e,n,r,i,o,s,u,f,c))},h}function aX(){return ti.apply(aA(tQ,nQ,Ho,iA,sy,Qd,nA,eA,Js,rU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sX(){return ti.apply(aA(ZJ,eQ,zo,oA,ly,ay,rA,tA,Js,iU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function uy(){var t=0,e=1,n,r,i,o,s=Xn,u=!1,f;function c(y){return y==null||isNaN(y=+y)?f:s(i===0?.5:(y=(o(y)-n)*i,u?Math.max(0,Math.min(1,y)):y))}c.domain=function(y){return arguments.length?([t,e]=y,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(y){return arguments.length?(u=!!y,c):u},c.interpolator=function(y){return arguments.length?(s=y,c):s};function h(y){return function(_){var S,w;return arguments.length?([S,w]=_,s=y(S,w),c):[s(0),s(1)]}}return c.range=h(fc),c.rangeRound=h(Gw),c.unknown=function(y){return arguments.length?(f=y,c):f},function(y){return o=y,n=y(t),r=y(e),i=n===r?0:1/(r-n),c}}function os(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function oU(){var t=is(uy()(Xn));return t.copy=function(){return os(t,oU())},Wo.apply(t,arguments)}function aU(){var t=Ww(uy()).domain([1,10]);return t.copy=function(){return os(t,aU()).base(t.base())},Wo.apply(t,arguments)}function sU(){var t=Jw(uy());return t.copy=function(){return os(t,sU()).constant(t.constant())},Wo.apply(t,arguments)}function sA(){var t=Qw(uy());return t.copy=function(){return os(t,sA()).exponent(t.exponent())},Wo.apply(t,arguments)}function lX(){return sA.apply(null,arguments).exponent(.5)}function lU(){var t=[],e=Xn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Yd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ja),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>jW(t,o/r))},n.copy=function(){return lU(e).domain(t)},Wo.apply(n,arguments)}function cy(){var t=0,e=.5,n=1,r=1,i,o,s,u,f,c=Xn,h,y=!1,_;function S(A){return isNaN(A=+A)?_:(A=.5+((A=+h(A))-o)*(r*A<r*o?u:f),c(y?Math.max(0,Math.min(1,A)):A))}S.domain=function(A){return arguments.length?([t,e,n]=A,i=h(t=+t),o=h(e=+e),s=h(n=+n),u=i===o?0:.5/(o-i),f=o===s?0:.5/(s-o),r=o<i?-1:1,S):[t,e,n]},S.clamp=function(A){return arguments.length?(y=!!A,S):y},S.interpolator=function(A){return arguments.length?(c=A,S):c};function w(A){return function(C){var I,N,M;return arguments.length?([I,N,M]=C,c=TJ(A,[I,N,M]),S):[c(0),c(.5),c(1)]}}return S.range=w(fc),S.rangeRound=w(Gw),S.unknown=function(A){return arguments.length?(_=A,S):_},function(A){return h=A,i=A(t),o=A(e),s=A(n),u=i===o?0:.5/(o-i),f=o===s?0:.5/(s-o),r=o<i?-1:1,S}}function uU(){var t=is(cy()(Xn));return t.copy=function(){return os(t,uU())},Wo.apply(t,arguments)}function cU(){var t=Ww(cy()).domain([.1,1,10]);return t.copy=function(){return os(t,cU()).base(t.base())},Wo.apply(t,arguments)}function fU(){var t=Jw(cy());return t.copy=function(){return os(t,fU()).constant(t.constant())},Wo.apply(t,arguments)}function lA(){var t=Qw(cy());return t.copy=function(){return os(t,lA()).exponent(t.exponent())},Wo.apply(t,arguments)}function uX(){return lA.apply(null,arguments).exponent(.5)}const Wf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$w,scaleDiverging:uU,scaleDivergingLog:cU,scaleDivergingPow:lA,scaleDivergingSqrt:uX,scaleDivergingSymlog:fU,scaleIdentity:HV,scaleImplicit:OE,scaleLinear:$V,scaleLog:GV,scaleOrdinal:Fw,scalePoint:JW,scalePow:Xw,scaleQuantile:YV,scaleQuantize:WV,scaleRadial:jV,scaleSequential:oU,scaleSequentialLog:aU,scaleSequentialPow:sA,scaleSequentialQuantile:lU,scaleSequentialSqrt:lX,scaleSequentialSymlog:sU,scaleSqrt:HJ,scaleSymlog:KV,scaleThreshold:JV,scaleTime:aX,scaleUtc:sX,tickFormat:FV},Symbol.toStringTag,{value:"Module"}));var as=t=>t.chartData,cX=oe([as],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),uA=(t,e,n,r)=>r?cX(t):as(t);function Yu(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Pr(e)&&Pr(n))return!0}return!1}function DM(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function fX(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(Pr(n))i=n;else if(typeof n=="function")return;if(Pr(r))o=r;else if(typeof r=="function")return;var s=[i,o];if(Yu(s))return s}}function dX(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Yu(r))return DM(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,s,u;if(i==="auto")e!=null&&(s=Math.min(...e));else if(xe(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&SP.test(i)){var f=SP.exec(i);if(f==null||e==null)s=void 0;else{var c=+f[1];s=e[0]-c}}else s=e==null?void 0:e[0];if(o==="auto")e!=null&&(u=Math.max(...e));else if(xe(o))u=o;else if(typeof o=="function")try{e!=null&&(u=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&wP.test(o)){var h=wP.exec(o);if(h==null||e==null)u=void 0;else{var y=+h[1];u=e[1]+y}}else u=e==null?void 0:e[1];var _=[s,u];if(Yu(_))return e==null?_:DM(_,e,n)}}}var dc=1e9,hX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},fA,Pt=!0,ei="[DecimalError] ",nl=ei+"Invalid argument: ",cA=ei+"Exponent out of range: ",hc=Math.floor,zs=Math.pow,pX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ar,Tn=1e7,bt=7,dU=9007199254740991,lg=hc(dU/bt),Ee={};Ee.absoluteValue=Ee.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ee.comparedTo=Ee.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*bt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ee.dividedBy=Ee.div=function(t){return Oo(this,new this.constructor(t))};Ee.dividedToIntegerBy=Ee.idiv=function(t){var e=this,n=e.constructor;return _t(Oo(e,new n(t),0,1),n.precision)};Ee.equals=Ee.eq=function(t){return!this.cmp(t)};Ee.exponent=function(){return en(this)};Ee.greaterThan=Ee.gt=function(t){return this.cmp(t)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(t){return this.cmp(t)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(t){return this.cmp(t)<0};Ee.lessThanOrEqualTo=Ee.lte=function(t){return this.cmp(t)<1};Ee.logarithm=Ee.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ar))throw Error(ei+"NaN");if(n.s<1)throw Error(ei+(n.s?"NaN":"-Infinity"));return n.eq(Ar)?new r(0):(Pt=!1,e=Oo(Cd(n,o),Cd(t,o),o),Pt=!0,_t(e,i))};Ee.minus=Ee.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?mU(e,t):hU(e,(t.s=-t.s,t))};Ee.modulo=Ee.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ei+"NaN");return n.s?(Pt=!1,e=Oo(n,t,0,1).times(t),Pt=!0,n.minus(e)):_t(new r(n),i)};Ee.naturalExponential=Ee.exp=function(){return pU(this)};Ee.naturalLogarithm=Ee.ln=function(){return Cd(this)};Ee.negated=Ee.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ee.plus=Ee.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?hU(e,t):mU(e,(t.s=-t.s,t))};Ee.precision=Ee.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(nl+t);if(e=en(i)+1,r=i.d.length-1,n=r*bt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ee.squareRoot=Ee.sqrt=function(){var t,e,n,r,i,o,s,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(ei+"NaN")}for(t=en(u),Pt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Ui(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=hc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=s=n+3;;)if(o=r,r=o.plus(Oo(u,o,s+2)).times(.5),Ui(o.d).slice(0,s)===(e=Ui(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(_t(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(e!="9999")break;s+=4}return Pt=!0,_t(r,n)};Ee.times=Ee.mul=function(t){var e,n,r,i,o,s,u,f,c,h=this,y=h.constructor,_=h.d,S=(t=new y(t)).d;if(!h.s||!t.s)return new y(0);for(t.s*=h.s,n=h.e+t.e,f=_.length,c=S.length,f<c&&(o=_,_=S,S=o,s=f,f=c,c=s),o=[],s=f+c,r=s;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=f+r;i>r;)u=o[i]+S[r]*_[i-r-1]+e,o[i--]=u%Tn|0,e=u/Tn|0;o[i]=(o[i]+e)%Tn|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Pt?_t(t,y.precision):t};Ee.toDecimalPlaces=Ee.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Yi(t,0,dc),e===void 0?e=r.rounding:Yi(e,0,8),_t(n,t+en(n)+1,e))};Ee.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=dl(r,!0):(Yi(t,0,dc),e===void 0?e=i.rounding:Yi(e,0,8),r=_t(new i(r),t+1,e),n=dl(r,!0,t+1)),n};Ee.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?dl(i):(Yi(t,0,dc),e===void 0?e=o.rounding:Yi(e,0,8),r=_t(new o(i),t+en(i)+1,e),n=dl(r.abs(),!1,t+en(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ee.toInteger=Ee.toint=function(){var t=this,e=t.constructor;return _t(new e(t),en(t)+1,e.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(t){var e,n,r,i,o,s,u=this,f=u.constructor,c=12,h=+(t=new f(t));if(!t.s)return new f(Ar);if(u=new f(u),!u.s){if(t.s<1)throw Error(ei+"Infinity");return u}if(u.eq(Ar))return u;if(r=f.precision,t.eq(Ar))return _t(u,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=u.s,s){if((n=h<0?-h:h)<=dU){for(i=new f(Ar),e=Math.ceil(r/bt+4),Pt=!1;n%2&&(i=i.times(u),kM(i.d,e)),n=hc(n/2),n!==0;)u=u.times(u),kM(u.d,e);return Pt=!0,t.s<0?new f(Ar).div(i):_t(i,r)}}else if(o<0)throw Error(ei+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Pt=!1,i=t.times(Cd(u,r+c)),Pt=!0,i=pU(i),i.s=o,i};Ee.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=en(i),r=dl(i,n<=o.toExpNeg||n>=o.toExpPos)):(Yi(t,1,dc),e===void 0?e=o.rounding:Yi(e,0,8),i=_t(new o(i),t,e),n=en(i),r=dl(i,t<=n||n<=o.toExpNeg,t)),r};Ee.toSignificantDigits=Ee.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Yi(t,1,dc),e===void 0?e=r.rounding:Yi(e,0,8)),_t(new r(n),t,e)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=en(t),n=t.constructor;return dl(t,e<=n.toExpNeg||e>=n.toExpPos)};function hU(t,e){var n,r,i,o,s,u,f,c,h=t.constructor,y=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Pt?_t(e,y):e;if(f=t.d,c=e.d,s=t.e,i=e.e,f=f.slice(),o=s-i,o){for(o<0?(r=f,o=-o,u=c.length):(r=c,i=s,u=f.length),s=Math.ceil(y/bt),u=s>u?s+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=f.length,o=c.length,u-o<0&&(o=u,r=c,c=f,f=r),n=0;o;)n=(f[--o]=f[o]+c[o]+n)/Tn|0,f[o]%=Tn;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,Pt?_t(e,y):e}function Yi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(nl+t)}function Ui(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=bt-r.length,n&&(o+=Na(n)),o+=r;s=t[e],r=s+"",n=bt-r.length,n&&(o+=Na(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Oo=(function(){function t(r,i){var o,s=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+s,r[u]=o%Tn|0,s=o/Tn|0;return s&&r.unshift(s),r}function e(r,i,o,s){var u,f;if(o!=s)f=o>s?1:-1;else for(u=f=0;u<o;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Tn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var u,f,c,h,y,_,S,w,A,C,I,N,M,U,B,G,O,k,D=r.constructor,$=r.s==i.s?1:-1,q=r.d,z=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(ei+"Division by zero");for(f=r.e-i.e,O=z.length,B=q.length,S=new D($),w=S.d=[],c=0;z[c]==(q[c]||0);)++c;if(z[c]>(q[c]||0)&&--f,o==null?N=o=D.precision:s?N=o+(en(r)-en(i))+1:N=o,N<0)return new D(0);if(N=N/bt+2|0,c=0,O==1)for(h=0,z=z[0],N++;(c<B||h)&&N--;c++)M=h*Tn+(q[c]||0),w[c]=M/z|0,h=M%z|0;else{for(h=Tn/(z[0]+1)|0,h>1&&(z=t(z,h),q=t(q,h),O=z.length,B=q.length),U=O,A=q.slice(0,O),C=A.length;C<O;)A[C++]=0;k=z.slice(),k.unshift(0),G=z[0],z[1]>=Tn/2&&++G;do h=0,u=e(z,A,O,C),u<0?(I=A[0],O!=C&&(I=I*Tn+(A[1]||0)),h=I/G|0,h>1?(h>=Tn&&(h=Tn-1),y=t(z,h),_=y.length,C=A.length,u=e(y,A,_,C),u==1&&(h--,n(y,O<_?k:z,_))):(h==0&&(u=h=1),y=z.slice()),_=y.length,_<C&&y.unshift(0),n(A,y,C),u==-1&&(C=A.length,u=e(z,A,O,C),u<1&&(h++,n(A,O<C?k:z,C))),C=A.length):u===0&&(h++,A=[0]),w[c++]=h,u&&A[0]?A[C++]=q[U]||0:(A=[q[U]],C=1);while((U++<B||A[0]!==void 0)&&N--)}return w[0]||w.shift(),S.e=f,_t(S,s?o+en(S)+1:o)}})();function pU(t,e){var n,r,i,o,s,u,f=0,c=0,h=t.constructor,y=h.precision;if(en(t)>16)throw Error(cA+en(t));if(!t.s)return new h(Ar);for(Pt=!1,u=y,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(zs(2,c))/Math.LN10*2+5|0,u+=r,n=i=o=new h(Ar),h.precision=u;;){if(i=_t(i.times(t),u),n=n.times(++f),s=o.plus(Oo(i,n,u)),Ui(s.d).slice(0,u)===Ui(o.d).slice(0,u)){for(;c--;)o=_t(o.times(o),u);return h.precision=y,e==null?(Pt=!0,_t(o,y)):o}o=s}}function en(t){for(var e=t.e*bt,n=t.d[0];n>=10;n/=10)e++;return e}function lT(t,e,n){if(e>t.LN10.sd())throw Pt=!0,n&&(t.precision=n),Error(ei+"LN10 precision limit exceeded");return _t(new t(t.LN10),e)}function Na(t){for(var e="";t--;)e+="0";return e}function Cd(t,e){var n,r,i,o,s,u,f,c,h,y=1,_=10,S=t,w=S.d,A=S.constructor,C=A.precision;if(S.s<1)throw Error(ei+(S.s?"NaN":"-Infinity"));if(S.eq(Ar))return new A(0);if(e==null?(Pt=!1,c=C):c=e,S.eq(10))return e==null&&(Pt=!0),lT(A,c);if(c+=_,A.precision=c,n=Ui(w),r=n.charAt(0),o=en(S),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)S=S.times(t),n=Ui(S.d),r=n.charAt(0),y++;o=en(S),r>1?(S=new A("0."+n),o++):S=new A(r+"."+n.slice(1))}else return f=lT(A,c+2,C).times(o+""),S=Cd(new A(r+"."+n.slice(1)),c-_).plus(f),A.precision=C,e==null?(Pt=!0,_t(S,C)):S;for(u=s=S=Oo(S.minus(Ar),S.plus(Ar),c),h=_t(S.times(S),c),i=3;;){if(s=_t(s.times(h),c),f=u.plus(Oo(s,new A(i),c)),Ui(f.d).slice(0,c)===Ui(u.d).slice(0,c))return u=u.times(2),o!==0&&(u=u.plus(lT(A,c+2,C).times(o+""))),u=Oo(u,new A(y),c),A.precision=C,e==null?(Pt=!0,_t(u,C)):u;u=f,i+=2}}function OM(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=hc(n/bt),t.d=[],r=(n+1)%bt,n<0&&(r+=bt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=bt;r<i;)t.d.push(+e.slice(r,r+=bt));e=e.slice(r),r=bt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Pt&&(t.e>lg||t.e<-lg))throw Error(cA+n)}else t.s=0,t.e=0,t.d=[0];return t}function _t(t,e,n){var r,i,o,s,u,f,c,h,y=t.d;for(s=1,o=y[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=bt,i=e,c=y[h=0];else{if(h=Math.ceil((r+1)/bt),o=y.length,h>=o)return t;for(c=o=y[h],s=1;o>=10;o/=10)s++;r%=bt,i=r-bt+s}if(n!==void 0&&(o=zs(10,s-i-1),u=c/o%10|0,f=e<0||y[h+1]!==void 0||c%o,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?c/zs(10,s-i):0:y[h-1])%10&1||n==(t.s<0?8:7))),e<1||!y[0])return f?(o=en(t),y.length=1,e=e-o-1,y[0]=zs(10,(bt-e%bt)%bt),t.e=hc(-e/bt)||0):(y.length=1,y[0]=t.e=t.s=0),t;if(r==0?(y.length=h,o=1,h--):(y.length=h+1,o=zs(10,bt-r),y[h]=i>0?(c/zs(10,s-i)%zs(10,i)|0)*o:0),f)for(;;)if(h==0){(y[0]+=o)==Tn&&(y[0]=1,++t.e);break}else{if(y[h]+=o,y[h]!=Tn)break;y[h--]=0,o=1}for(r=y.length;y[--r]===0;)y.pop();if(Pt&&(t.e>lg||t.e<-lg))throw Error(cA+en(t));return t}function mU(t,e){var n,r,i,o,s,u,f,c,h,y,_=t.constructor,S=_.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new _(t),Pt?_t(e,S):e;if(f=t.d,y=e.d,r=e.e,c=t.e,f=f.slice(),s=c-r,s){for(h=s<0,h?(n=f,s=-s,u=y.length):(n=y,r=c,u=f.length),i=Math.max(Math.ceil(S/bt),u)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=y.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(f[i]!=y[i]){h=f[i]<y[i];break}s=0}for(h&&(n=f,f=y,y=n,e.s=-e.s),u=f.length,i=y.length-u;i>0;--i)f[u++]=0;for(i=y.length;i>s;){if(f[--i]<y[i]){for(o=i;o&&f[--o]===0;)f[o]=Tn-1;--f[o],f[i]+=Tn}f[i]-=y[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Pt?_t(e,S):e):new _(0)}function dl(t,e,n){var r,i=en(t),o=Ui(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Na(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Na(-i-1)+o,n&&(r=n-s)>0&&(o+=Na(r))):i>=s?(o+=Na(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Na(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Na(r))),t.s<0?"-"+o:o}function kM(t,e){if(t.length>e)return t.length=e,!0}function gU(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(nl+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return OM(s,o.toString())}else if(typeof o!="string")throw Error(nl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,pX.test(o))OM(s,o);else throw Error(nl+o)}if(i.prototype=Ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=gU,i.config=i.set=mX,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function mX(t){if(!t||typeof t!="object")throw Error(ei+"Object expected");var e,n,r,i=["precision",1,dc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(hc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(nl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(nl+n+": "+r);return this}var fA=gU(hX);Ar=new fA(1);const ft=fA;var gX=t=>t,yU={},vU=t=>t===yU,LM=t=>function e(){return arguments.length===0||arguments.length===1&&vU(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},_U=(t,e)=>t===1?e:LM(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(s=>s!==yU).length;return o>=t?e(...r):_U(t-o,LM(function(){for(var s=arguments.length,u=new Array(s),f=0;f<s;f++)u[f]=arguments[f];var c=r.map(h=>vU(h)?u.shift():h);return e(...c,...u)}))}),fy=t=>_U(t.length,t),UE=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},yX=fy((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),vX=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return gX;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce((u,f)=>f(u),o(...arguments))}},BE=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),TU=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e&&i.every((s,u)=>{var f;return s===((f=e)===null||f===void 0?void 0:f[u])})||(e=i,n=t(...i)),n}};function EU(t){var e;return t===0?e=1:e=Math.floor(new ft(t).abs().log(10).toNumber())+1,e}function SU(t,e,n){for(var r=new ft(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}fy((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});fy((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});fy((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var wU=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},AU=(t,e,n)=>{if(t.lte(0))return new ft(0);var r=EU(t.toNumber()),i=new ft(10).pow(r),o=t.div(i),s=r!==1?.05:.1,u=new ft(Math.ceil(o.div(s).toNumber())).add(n).mul(s),f=u.mul(i);return e?new ft(f.toNumber()):new ft(Math.ceil(f.toNumber()))},_X=(t,e,n)=>{var r=new ft(1),i=new ft(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new ft(10).pow(EU(t)-1),i=new ft(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new ft(Math.floor(t)))}else t===0?i=new ft(Math.floor((e-1)/2)):n||(i=new ft(Math.floor(t)));var s=Math.floor((e-1)/2),u=vX(yX(f=>i.add(new ft(f-s).mul(r)).toNumber()),UE);return u(0,e)},bU=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new ft(0),tickMin:new ft(0),tickMax:new ft(0)};var s=AU(new ft(n).sub(e).div(r-1),i,o),u;e<=0&&n>=0?u=new ft(0):(u=new ft(e).add(n).div(2),u=u.sub(new ft(u).mod(s)));var f=Math.ceil(u.sub(e).div(s).toNumber()),c=Math.ceil(new ft(n).sub(u).div(s).toNumber()),h=f+c+1;return h>r?bU(e,n,r,i,o+1):(h<r&&(c=n>0?c+(r-h):c,f=n>0?f:f+(r-h)),{step:s,tickMin:u.sub(new ft(f).mul(s)),tickMax:u.add(new ft(c).mul(s))})};function TX(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[s,u]=wU([e,n]);if(s===-1/0||u===1/0){var f=u===1/0?[s,...UE(0,r-1).map(()=>1/0)]:[...UE(0,r-1).map(()=>-1/0),u];return e>n?BE(f):f}if(s===u)return _X(s,r,i);var{step:c,tickMin:h,tickMax:y}=bU(s,u,o,i,0),_=SU(h,y.add(new ft(.1).mul(c)),c);return e>n?BE(_):_}function EX(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=wU([n,r]);if(o===-1/0||s===1/0)return[n,r];if(o===s)return[o];var u=Math.max(e,2),f=AU(new ft(s).sub(o).div(u-1),i,0),c=[...SU(new ft(o),new ft(s),f),s];return i===!1&&(c=c.map(h=>Math.round(h))),n>r?BE(c):c}var SX=TU(TX),wX=TU(EX),CU=t=>t.rootProps.maxBarSize,AX=t=>t.rootProps.barGap,xU=t=>t.rootProps.barCategoryGap,bX=t=>t.rootProps.barSize,dy=t=>t.rootProps.stackOffset,dA=t=>t.options.chartName,hA=t=>t.rootProps.syncId,IU=t=>t.rootProps.syncMethod,pA=t=>t.options.eventEmitter,bo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Sr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},hy=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},CX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:bo.angleAxisId,includeHidden:!1,name:void 0,reversed:bo.reversed,scale:bo.scale,tick:bo.tick,tickCount:void 0,ticks:void 0,type:bo.type,unit:void 0},xX={allowDataOverflow:Sr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Sr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Sr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Sr.scale,tick:Sr.tick,tickCount:Sr.tickCount,ticks:void 0,type:Sr.type,unit:void 0},IX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:bo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:bo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:bo.scale,tick:bo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},RX={allowDataOverflow:Sr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Sr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Sr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Sr.scale,tick:Sr.tick,tickCount:Sr.tickCount,ticks:void 0,type:"category",unit:void 0},mA=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?IX:CX,gA=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?RX:xX,py=t=>t.polarOptions,yA=oe([jo,Yo,wn],Pj),RU=oe([py,yA],(t,e)=>{if(t!=null)return pi(t.innerRadius,e,0)}),PU=oe([py,yA],(t,e)=>{if(t!=null)return pi(t.outerRadius,e,e*.8)}),PX=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},MU=oe([py],PX);oe([mA,MU],hy);var NU=oe([yA,RU,PU],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});oe([gA,NU],hy);var DU=oe([dt,py,RU,PU,jo,Yo],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:u,startAngle:f,endAngle:c}=e;return{cx:pi(s,i,i/2),cy:pi(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:c,clockWise:!1}}}),tn=(t,e)=>e,my=(t,e,n)=>n;function vA(t){return t==null?void 0:t.id}var dn=t=>{var e=dt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},pc=t=>t.tooltip.settings.axisId,hn=t=>{var e=dn(t),n=pc(t);return Xd(t,e,n)};function OU(t,e,n){var{chartData:r=[]}=e,i=n==null?void 0:n.dataKey,o=new Map;return t.forEach(s=>{var u,f=(u=s.data)!==null&&u!==void 0?u:r;if(!(f==null||f.length===0)){var c=vA(s);f.forEach((h,y)=>{var _=i==null?y:String(Zn(h,i,null)),S=Zn(h,s.dataKey,0),w;o.has(_)?w=o.get(_):w={},Object.assign(w,{[c]:S}),o.set(_,w)})}}),Array.from(o.values())}function gy(t){return t.stackId!=null&&t.dataKey!=null}function VM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ug(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VM(Object(n),!0).forEach(function(r){MX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MX(t,e,n){return(e=NX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NX(t){var e=DX(t,"string");return typeof e=="symbol"?e:e+""}function DX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qE=[0,"auto"],Tr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Jo=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??Tr},Er={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:qE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ny},ss=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??Er},OX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},_A=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??OX},ur=(t,e,n)=>{switch(e){case"xAxis":return Jo(t,n);case"yAxis":return ss(t,n);case"zAxis":return _A(t,n);case"angleAxis":return mA(t,n);case"radiusAxis":return gA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},kX=(t,e,n)=>{switch(e){case"xAxis":return Jo(t,n);case"yAxis":return ss(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Xd=(t,e,n)=>{switch(e){case"xAxis":return Jo(t,n);case"yAxis":return ss(t,n);case"angleAxis":return mA(t,n);case"radiusAxis":return gA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},kU=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function LU(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var TA=t=>t.graphicalItems.cartesianItems,LX=oe([tn,my],LU),VU=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Zd=oe([TA,ur,LX],VU),UU=oe([Zd],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(gy)),BU=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),qU=oe([Zd],BU),FU=t=>t.map(e=>e.data).filter(Boolean).flat(1),VX=oe([Zd],FU),$U=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},EA=oe([VX,uA],$U),HU=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Zn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Zn(i,r)}))):t.map(r=>({value:r})),yy=oe([EA,ur,Zd],HU);function zU(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Sl(t){return t.filter(e=>ji(e)||e instanceof Date).map(Number).filter(e=>Xr(e)===!1)}function UX(t,e,n){return!n||typeof e!="number"||Xr(e)?[]:n.length?Sl(n.flatMap(r=>{var i=Zn(t,r.dataKey),o,s;if(Array.isArray(i)?[o,s]=i:o=s=i,!(!Pr(o)||!Pr(s)))return[e-o,e+s]})):[]}var BX=oe([UU,uA,hn],OU),GU=(t,e,n)=>{var r={},i=e.reduce((o,s)=>(s.stackId==null||(o[s.stackId]==null&&(o[s.stackId]=[]),o[s.stackId].push(s)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[s,u]=o,f=u.map(vA);return[s,{stackedData:Kj(t,f,n),graphicalItems:u}]}))},FE=oe([BX,UU,dy],GU),KU=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var o=Qj(t,r,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},qX=oe([FE,as,tn],KU),jU=(t,e,n,r,i)=>n.length>0?t.flatMap(o=>n.flatMap(s=>{var u,f,c=(u=r[s.id])===null||u===void 0?void 0:u.filter(y=>zU(i,y)),h=Zn(o,(f=e.dataKey)!==null&&f!==void 0?f:s.dataKey);return{value:h,errorDomain:UX(o,h,c)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(o=>({value:Zn(o,e.dataKey),errorDomain:[]})):t.map(o=>({value:o,errorDomain:[]})),vy=t=>t.errorBars,YU=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>zU(n,r));oe([qU,vy,tn],YU);var FX=oe([EA,ur,qU,vy,tn],jU);function $X(t){var{value:e}=t;if(ji(e)||e instanceof Date)return e}var UM=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Sl(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},HX=(t,e,n)=>{var r=t.map($X).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&hL(r))?MV(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},SA=t=>{var e;if(t==null||!("domain"in t))return qE;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Sl(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:qE},cg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),s=Math.min(...o),u=Math.max(...o);return[s,u]}},WU=t=>t.referenceElements.dots,mc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),zX=oe([WU,tn,my],mc),JU=t=>t.referenceElements.areas,GX=oe([JU,tn,my],mc),QU=t=>t.referenceElements.lines,KX=oe([QU,tn,my],mc),XU=(t,e)=>{var n=Sl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},jX=oe(zX,tn,XU),ZU=(t,e)=>{var n=Sl(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},YX=oe([GX,tn],ZU),e4=(t,e)=>{var n=Sl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},WX=oe(KX,tn,e4),JX=oe(jX,WX,YX,(t,e,n)=>cg(t,n,e)),QX=oe([ur],SA),t4=(t,e,n,r,i,o,s)=>{var u=fX(e,t.allowDataOverflow);if(u!=null)return u;var f=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",c=f?cg(n,i,UM(r)):cg(i,UM(r));return dX(e,c,t.allowDataOverflow)},XX=oe([ur,QX,qX,FX,JX,dt,tn],t4),ZX=[0,1],n4=(t,e,n,r,i,o,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:u,type:f}=t,c=vl(e,o);return c&&u==null?MV(0,n.length):f==="category"?HX(r,t,c):i==="expand"?ZX:s}},wA=oe([ur,dt,EA,yy,dy,tn,XX],n4),r4=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:s}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(zd(o));return u in Wf?u:"point"}}},eh=oe([ur,dt,kU,dA,tn],r4);function eZ(t){if(t!=null){if(t in Wf)return Wf[t]();var e="scale".concat(zd(t));if(e in Wf)return Wf[e]()}}function AA(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=eZ(e);if(i!=null){var o=i.domain(n).range(r);return Fj(o),o}}}var i4=(t,e,n)=>{var r=SA(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Yu(t))return SX(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Yu(t))return wX(t,e.tickCount,e.allowDecimals)}},bA=oe([wA,Xd,eh],i4),o4=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Yu(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],s=e[1],u=n[n.length-1];return[Math.min(i,o),Math.max(s,u)]}return e},tZ=oe([ur,wA,bA,tn],o4),nZ=oe(yy,ur,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Sl(t.map(u=>u.value))).sort((u,f)=>u-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var s=r[o+1]-r[o];n=Math.min(n,s)}return n/i}}),a4=oe(nZ,dt,xU,wn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Pr(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var s=pi(n,t*o),u=t*o/2;return u-s-(u-s)/o*s}return 0}),rZ=(t,e)=>{var n=Jo(t,e);return n==null||typeof n.padding!="string"?0:a4(t,"xAxis",e,n.padding)},iZ=(t,e)=>{var n=ss(t,e);return n==null||typeof n.padding!="string"?0:a4(t,"yAxis",e,n.padding)},oZ=oe(Jo,rZ,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),aZ=oe(ss,iZ,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),sZ=oe([wn,oZ,iy,ry,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),lZ=oe([wn,dt,aZ,iy,ry,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:s}=i;return o?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),th=(t,e,n,r)=>{var i;switch(e){case"xAxis":return sZ(t,n,r);case"yAxis":return lZ(t,n,r);case"zAxis":return(i=_A(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return MU(t);case"radiusAxis":return NU(t,n);default:return}},s4=oe([ur,th],hy),gc=oe([ur,eh,tZ,s4],AA);oe([Zd,vy,tn],YU);function l4(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var _y=(t,e)=>e,Ty=(t,e,n)=>n,uZ=oe(kw,_y,Ty,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(l4)),cZ=oe(Lw,_y,Ty,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(l4)),u4=(t,e)=>({width:t.width,height:e.height}),fZ=(t,e)=>{var n=typeof e.width=="number"?e.width:ny;return{width:n,height:t.height}},c4=oe(wn,Jo,u4),dZ=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},hZ=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},pZ=oe(Yo,wn,uZ,_y,Ty,(t,e,n,r,i)=>{var o={},s;return n.forEach(u=>{var f=u4(e,u);s==null&&(s=dZ(e,r,t));var c=r==="top"&&!i||r==="bottom"&&i;o[u.id]=s-Number(c)*f.height,s+=(c?-1:1)*f.height}),o}),mZ=oe(jo,wn,cZ,_y,Ty,(t,e,n,r,i)=>{var o={},s;return n.forEach(u=>{var f=fZ(e,u);s==null&&(s=hZ(e,r,t));var c=r==="left"&&!i||r==="right"&&i;o[u.id]=s-Number(c)*f.width,s+=(c?-1:1)*f.width}),o}),gZ=(t,e)=>{var n=wn(t),r=Jo(t,e);if(r!=null){var i=pZ(t,r.orientation,r.mirror),o=i[e];return o==null?{x:n.left,y:0}:{x:n.left,y:o}}},yZ=(t,e)=>{var n=wn(t),r=ss(t,e);if(r!=null){var i=mZ(t,r.orientation,r.mirror),o=i[e];return o==null?{x:0,y:n.top}:{x:o,y:n.top}}},f4=oe(wn,ss,(t,e)=>{var n=typeof e.width=="number"?e.width:ny;return{width:n,height:t.height}}),BM=(t,e,n)=>{switch(e){case"xAxis":return c4(t,n).width;case"yAxis":return f4(t,n).height;default:return}},d4=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:s}=n,u=vl(t,r),f=e.map(c=>c.value);if(s&&u&&o==="category"&&i&&hL(f))return f}},CA=oe([dt,yy,ur,tn],d4),h4=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,s=vl(t,r);if(s&&(i==="number"||o!=="auto"))return e.map(u=>u.value)}},xA=oe([dt,yy,Xd,tn],h4);oe([dt,kX,eh,gc,CA,xA,th,bA,tn],(t,e,n,r,i,o,s,u,f)=>{if(e==null)return null;var c=vl(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:o,duplicateDomain:i,isCategorical:c,niceTicks:u,range:s,realScaleType:n,scale:r}});var vZ=(t,e,n,r,i,o,s,u,f)=>{if(!(e==null||r==null)){var c=vl(t,f),{type:h,ticks:y,tickCount:_}=e,S=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=h==="category"&&r.bandwidth?r.bandwidth()/S:0;w=f==="angleAxis"&&o!=null&&o.length>=2?Cr(o[0]-o[1])*2*w:w;var A=y||i;if(A){var C=A.map((I,N)=>{var M=s?s.indexOf(I):I;return{index:N,coordinate:r(M)+w,value:I,offset:w}});return C.filter(I=>!Xr(I.coordinate))}return c&&u?u.map((I,N)=>({coordinate:r(I)+w,value:I,index:N,offset:w})):r.ticks?r.ticks(_).map(I=>({coordinate:r(I)+w,value:I,offset:w})):r.domain().map((I,N)=>({coordinate:r(I)+w,value:s?s[I]:I,index:N,offset:w}))}},p4=oe([dt,Xd,eh,gc,bA,th,CA,xA,tn],vZ),_Z=(t,e,n,r,i,o,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=vl(t,s),{tickCount:f}=e,c=0;return c=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Cr(r[0]-r[1])*2*c:c,u&&o?o.map((h,y)=>({coordinate:n(h)+c,value:h,index:y,offset:c})):n.ticks?n.ticks(f).map(h=>({coordinate:n(h)+c,value:h,offset:c})):n.domain().map((h,y)=>({coordinate:n(h)+c,value:i?i[h]:h,index:y,offset:c}))}},Wu=oe([dt,Xd,gc,th,CA,xA,tn],_Z),Ju=oe(ur,gc,(t,e)=>{if(!(t==null||e==null))return ug(ug({},t),{},{scale:e})}),TZ=oe([ur,eh,wA,s4],AA);oe((t,e,n)=>_A(t,n),TZ,(t,e)=>{if(!(t==null||e==null))return ug(ug({},t),{},{scale:e})});var EZ=oe([dt,kw,Lw],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),m4=t=>t.options.defaultTooltipEventType,g4=t=>t.options.validateTooltipEventTypes;function y4(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function IA(t,e){var n=m4(t),r=g4(t);return y4(e,n,r)}function SZ(t){return ke(e=>IA(e,t))}var v4=(t,e)=>{var n,r=Number(e);if(!(Xr(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},wZ=t=>t.tooltip.settings,Va={active:!1,index:null,dataKey:void 0,coordinate:void 0},AZ={itemInteraction:{click:Va,hover:Va},axisInteraction:{click:Va,hover:Va},keyboardInteraction:Va,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},_4=Mr({name:"tooltip",initialState:AZ,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Do(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:bZ,removeTooltipEntrySettings:CZ,setTooltipSettingsState:xZ,setActiveMouseOverItemIndex:T4,mouseLeaveItem:IZ,mouseLeaveChart:E4,setActiveClickItemIndex:RZ,setMouseOverAxisIndex:S4,setMouseClickAxisIndex:PZ,setSyncInteraction:$E,setKeyboardInteraction:HE}=_4.actions,MZ=_4.reducer;function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){NZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NZ(t,e,n){return(e=DZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DZ(t){var e=OZ(t,"string");return typeof e=="symbol"?e:e+""}function OZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kZ(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function LZ(t){return t.index!=null}var w4=(t,e,n,r)=>{if(e==null)return Va;var i=kZ(t,e,n);if(i==null)return Va;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(LZ(i)){if(o)return Yp(Yp({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Yp(Yp({},Va),{},{coordinate:i.coordinate})},RA=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!Pr(r))return n;var i=0,o=1/0;return e.length>0&&(o=e.length-1),String(Math.max(i,Math.min(r,o)))},A4=(t,e,n,r,i,o,s,u)=>{if(!(o==null||u==null)){var f=s[0],c=f==null?void 0:u(f.positions,o);if(c!=null)return c;var h=i==null?void 0:i[Number(o)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},b4=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.dataKey)===i})},nh=t=>t.options.tooltipPayloadSearcher,yc=t=>t.tooltip;function FM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $M(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FM(Object(n),!0).forEach(function(r){VZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VZ(t,e,n){return(e=UZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UZ(t){var e=BZ(t,"string");return typeof e=="symbol"?e:e+""}function BZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qZ(t,e){return t??e}var C4=(t,e,n,r,i,o,s)=>{if(!(e==null||o==null)){var{chartData:u,computedData:f,dataStartIndex:c,dataEndIndex:h}=n,y=[];return t.reduce((_,S)=>{var w,{dataDefinedOnItem:A,settings:C}=S,I=qZ(A,u),N=Array.isArray(I)?mV(I,c,h):I,M=(w=C==null?void 0:C.dataKey)!==null&&w!==void 0?w:r==null?void 0:r.dataKey,U=C==null?void 0:C.nameKey,B;if(r!=null&&r.dataKey&&Array.isArray(N)&&!Array.isArray(N[0])&&s==="axis"?B=D8(N,r.dataKey,i):B=o(N,e,f,U),Array.isArray(B))B.forEach(O=>{var k=$M($M({},C),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});_.push(AP({tooltipEntrySettings:k,dataKey:O.dataKey,payload:O.payload,value:Zn(O.payload,O.dataKey),name:O.name}))});else{var G;_.push(AP({tooltipEntrySettings:C,dataKey:M,payload:B,value:Zn(B,M),name:(G=Zn(B,U))!==null&&G!==void 0?G:C==null?void 0:C.name}))}return _},y)}},PA=oe([hn,dt,kU,dA,dn],r4),FZ=oe([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),$Z=oe([dn,pc],LU),rh=oe([FZ,hn,$Z],VU),HZ=oe([rh],t=>t.filter(gy)),zZ=oe([rh],FU),vc=oe([zZ,as],$U),GZ=oe([HZ,as,hn],OU),MA=oe([vc,hn,rh],HU),KZ=oe([hn],SA),jZ=oe([rh],t=>t.filter(gy)),YZ=oe([GZ,jZ,dy],GU),WZ=oe([YZ,as,dn],KU),JZ=oe([rh],BU),QZ=oe([vc,hn,JZ,vy,dn],jU),XZ=oe([WU,dn,pc],mc),ZZ=oe([XZ,dn],XU),eee=oe([JU,dn,pc],mc),tee=oe([eee,dn],ZU),nee=oe([QU,dn,pc],mc),ree=oe([nee,dn],e4),iee=oe([ZZ,ree,tee],cg),oee=oe([hn,KZ,WZ,QZ,iee,dt,dn],t4),x4=oe([hn,dt,vc,MA,dy,dn,oee],n4),aee=oe([x4,hn,PA],i4),see=oe([hn,x4,aee,dn],o4),I4=t=>{var e=dn(t),n=pc(t),r=!1;return th(t,e,n,r)},R4=oe([hn,I4],hy),P4=oe([hn,PA,see,R4],AA),lee=oe([dt,MA,hn,dn],d4),uee=oe([dt,MA,hn,dn],h4),cee=(t,e,n,r,i,o,s,u)=>{if(e){var{type:f}=e,c=vl(t,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,y=f==="category"&&r.bandwidth?r.bandwidth()/h:0;return y=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Cr(i[0]-i[1])*2*y:y,c&&s?s.map((_,S)=>({coordinate:r(_)+y,value:_,index:S,offset:y})):r.domain().map((_,S)=>({coordinate:r(_)+y,value:o?o[_]:_,index:S,offset:y}))}}},Qo=oe([dt,hn,PA,P4,I4,lee,uee,dn],cee),NA=oe([m4,g4,wZ],(t,e,n)=>y4(n.shared,t,e)),M4=t=>t.tooltip.settings.trigger,DA=t=>t.tooltip.settings.defaultIndex,Ey=oe([yc,NA,M4,DA],w4),Qu=oe([Ey,vc],RA),N4=oe([Qo,Qu],v4),D4=oe([Ey],t=>{if(t)return t.dataKey}),O4=oe([yc,NA,M4,DA],b4),fee=oe([jo,Yo,dt,wn,Qo,DA,O4,nh],A4),dee=oe([Ey,fee],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),hee=oe([Ey],t=>t.active),pee=oe([O4,Qu,as,hn,N4,nh,NA],C4);oe([pee],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function HM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(n),!0).forEach(function(r){mee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mee(t,e,n){return(e=gee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gee(t){var e=yee(t,"string");return typeof e=="symbol"?e:e+""}function yee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vee=()=>ke(hn),_ee=()=>{var t=vee(),e=ke(Qo),n=ke(P4);return Ow(zM(zM({},t),{},{scale:n}),e)},Tee=()=>ke(dA),OA=(t,e)=>e,k4=(t,e,n)=>n,kA=(t,e,n,r)=>r,Eee=oe(Qo,t=>Jg(t,e=>e.coordinate)),LA=oe([yc,OA,k4,kA],w4),L4=oe([LA,vc],RA),See=(t,e,n)=>{if(e!=null){var r=yc(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},V4=oe([yc,OA,k4,kA],b4),fg=oe([jo,Yo,dt,wn,Qo,kA,V4,nh],A4),wee=oe([LA,fg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),U4=oe(Qo,L4,v4),Aee=oe([V4,L4,as,hn,U4,nh,OA],C4),bee=oe([LA],t=>({isActive:t.active,activeIndex:t.index})),Cee=(t,e,n,r,i,o,s,u)=>{if(!(!t||!e||!r||!i||!o)){var f=Xj(t.chartX,t.chartY,e,n,u);if(f){var c=eY(f,e),h=Bj(c,s,o,r,i),y=Zj(e,o,h,f);return{activeIndex:String(h),activeCoordinate:y}}}};function zE(){return zE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zE.apply(null,arguments)}function GM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GM(Object(n),!0).forEach(function(r){xee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xee(t,e,n){return(e=Iee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iee(t){var e=Ree(t,"string");return typeof e=="symbol"?e:e+""}function Ree(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pee(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:s,cursor:u,tooltipEventType:f,chartName:c}=t,h=e,y=n,_=r;if(!u||!h||c!=="ScatterChart"&&f!=="axis")return null;var S,w;if(c==="ScatterChart")S=h,w=GY;else if(c==="BarChart")S=KY(s,h,i,o),w=xV;else if(s==="radial"){var{cx:A,cy:C,radius:I,startAngle:N,endAngle:M}=IV(h);S={cx:A,cy:C,startAngle:N,endAngle:M,innerRadius:I,outerRadius:I},w=PV}else S={points:PW(s,h,i)},w=LY;var U=typeof u=="object"&&"className"in u?u.className:void 0,B=Wp(Wp(Wp(Wp({stroke:"#ccc",pointerEvents:"none"},i),S),En(u,!1)),{},{payload:y,payloadIndex:_,className:xt("recharts-tooltip-cursor",U)});return P.isValidElement(u)?P.cloneElement(u,B):P.createElement(w,B)}function Mee(t){var e=_ee(),n=fY(),r=Uw(),i=Tee();return P.createElement(Pee,zE({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var B4=P.createContext(null),Nee=()=>P.useContext(B4),uT={exports:{}},KM;function Dee(){return KM||(KM=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,c,h){this.fn=f,this.context=c,this.once=h||!1}function o(f,c,h,y,_){if(typeof h!="function")throw new TypeError("The listener must be a function");var S=new i(h,y||f,_),w=n?n+c:c;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],S]:f._events[w].push(S):(f._events[w]=S,f._eventsCount++),f}function s(f,c){--f._eventsCount===0?f._events=new r:delete f._events[c]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var c=[],h,y;if(this._eventsCount===0)return c;for(y in h=this._events)e.call(h,y)&&c.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},u.prototype.listeners=function(c){var h=n?n+c:c,y=this._events[h];if(!y)return[];if(y.fn)return[y.fn];for(var _=0,S=y.length,w=new Array(S);_<S;_++)w[_]=y[_].fn;return w},u.prototype.listenerCount=function(c){var h=n?n+c:c,y=this._events[h];return y?y.fn?1:y.length:0},u.prototype.emit=function(c,h,y,_,S,w){var A=n?n+c:c;if(!this._events[A])return!1;var C=this._events[A],I=arguments.length,N,M;if(C.fn){switch(C.once&&this.removeListener(c,C.fn,void 0,!0),I){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,h),!0;case 3:return C.fn.call(C.context,h,y),!0;case 4:return C.fn.call(C.context,h,y,_),!0;case 5:return C.fn.call(C.context,h,y,_,S),!0;case 6:return C.fn.call(C.context,h,y,_,S,w),!0}for(M=1,N=new Array(I-1);M<I;M++)N[M-1]=arguments[M];C.fn.apply(C.context,N)}else{var U=C.length,B;for(M=0;M<U;M++)switch(C[M].once&&this.removeListener(c,C[M].fn,void 0,!0),I){case 1:C[M].fn.call(C[M].context);break;case 2:C[M].fn.call(C[M].context,h);break;case 3:C[M].fn.call(C[M].context,h,y);break;case 4:C[M].fn.call(C[M].context,h,y,_);break;default:if(!N)for(B=1,N=new Array(I-1);B<I;B++)N[B-1]=arguments[B];C[M].fn.apply(C[M].context,N)}}return!0},u.prototype.on=function(c,h,y){return o(this,c,h,y,!1)},u.prototype.once=function(c,h,y){return o(this,c,h,y,!0)},u.prototype.removeListener=function(c,h,y,_){var S=n?n+c:c;if(!this._events[S])return this;if(!h)return s(this,S),this;var w=this._events[S];if(w.fn)w.fn===h&&(!_||w.once)&&(!y||w.context===y)&&s(this,S);else{for(var A=0,C=[],I=w.length;A<I;A++)(w[A].fn!==h||_&&!w[A].once||y&&w[A].context!==y)&&C.push(w[A]);C.length?this._events[S]=C.length===1?C[0]:C:s(this,S)}return this},u.prototype.removeAllListeners=function(c){var h;return c?(h=n?n+c:c,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(uT)),uT.exports}var Oee=Dee();const kee=mi(Oee);var xd=new kee,GE="recharts.syncEvent.tooltip",jM="recharts.syncEvent.brush";function Lee(t,e){if(e){var n=Number.parseInt(e,10);if(!Xr(n))return t==null?void 0:t[n]}}var Vee={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},q4=Mr({name:"options",initialState:Vee,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Uee=q4.reducer,{createEventEmitter:Bee}=q4.actions;function qee(t){return t.tooltip.syncInteraction}var Fee={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},F4=Mr({name:"chartData",initialState:Fee,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:YM,setDataStartEndIndexes:$ee,setComputedData:rge}=F4.actions,Hee=F4.reducer,$4=()=>{};function zee(){var t=ke(hA),e=ke(pA),n=Sn(),r=ke(IU),i=ke(Qo),o=Uw(),s=Vw(),u=ke(f=>f.rootProps.className);P.useEffect(()=>{if(t==null)return $4;var f=(c,h,y)=>{if(e!==y&&t===c){if(r==="index"){n(h);return}if(i!=null){var _;if(typeof r=="function"){var S={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},w=r(i,S);_=i[w]}else r==="value"&&(_=i.find(G=>String(G.value)===h.payload.label));var{coordinate:A}=h.payload;if(_==null||h.payload.active===!1||A==null||s==null){n($E({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:C,y:I}=A,N=Math.min(C,s.x+s.width),M=Math.min(I,s.y+s.height),U={x:o==="horizontal"?_.coordinate:N,y:o==="horizontal"?M:_.coordinate},B=$E({active:h.payload.active,coordinate:U,dataKey:h.payload.dataKey,index:String(_.index),label:h.payload.label});n(B)}}};return xd.on(GE,f),()=>{xd.off(GE,f)}},[u,n,e,t,r,i,o,s])}function Gee(){var t=ke(hA),e=ke(pA),n=Sn();P.useEffect(()=>{if(t==null)return $4;var r=(i,o,s)=>{e!==s&&t===i&&n($ee(o))};return xd.on(jM,r),()=>{xd.off(jM,r)}},[n,e,t])}function Kee(){var t=Sn();P.useEffect(()=>{t(Bee())},[t]),zee(),Gee()}function jee(t,e,n,r,i,o){var s=ke(_=>See(_,t,e)),u=ke(pA),f=ke(hA),c=ke(IU),h=ke(qee),y=h==null?void 0:h.active;P.useEffect(()=>{if(!y&&f!=null&&u!=null){var _=$E({active:o,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r});xd.emit(GE,f,_,u)}},[y,n,s,i,r,u,f,c,o])}function WM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WM(Object(n),!0).forEach(function(r){Yee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yee(t,e,n){return(e=Wee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wee(t){var e=Jee(t,"string");return typeof e=="symbol"?e:e+""}function Jee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qee(t){return t.dataKey}function Xee(t,e){return P.isValidElement(t)?P.cloneElement(t,e):typeof t=="function"?P.createElement(t,e):P.createElement(SY,e)}var QM=[],Zee={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!jd.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ete(t){var e=_l(t,Zee),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:s,filterNull:u,isAnimationActive:f,offset:c,payloadUniqBy:h,position:y,reverseDirection:_,useTranslate3d:S,wrapperStyle:w,cursor:A,shared:C,trigger:I,defaultIndex:N,portal:M,axisId:U}=e,B=Sn(),G=typeof N=="number"?String(N):N;P.useEffect(()=>{B(xZ({shared:C,trigger:I,axisId:U,active:n,defaultIndex:G}))},[B,C,I,U,n,G]);var O=Vw(),k=TV(),D=SZ(C),{activeIndex:$,isActive:q}=ke(Re=>bee(Re,D,I,G)),z=ke(Re=>Aee(Re,D,I,G)),H=ke(Re=>U4(Re,D,I,G)),Me=ke(Re=>wee(Re,D,I,G)),be=z,ne=Nee(),pe=n??q,[_e,Le]=IK([be,pe]),j=D==="axis"?H:void 0;jee(D,I,Me,j,$,pe);var ce=M??ne;if(ce==null)return null;var ae=be??QM;pe||(ae=QM),u&&ae.length&&(ae=eK(be.filter(Re=>Re.value!=null&&(Re.hide!==!0||e.includeHidden)),h,Qee));var me=ae.length>0,Ae=P.createElement(RY,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:f,active:pe,coordinate:Me,hasPayload:me,offset:c,position:y,reverseDirection:_,useTranslate3d:S,viewBox:O,wrapperStyle:w,lastBoundingBox:_e,innerRef:Le,hasPortalFromProps:!!M},Xee(s,JM(JM({},e),{},{payload:ae,label:j,active:pe,coordinate:Me,accessibilityLayer:k})));return P.createElement(P.Fragment,null,hF.createPortal(Ae,ce),pe&&P.createElement(Mee,{cursor:A,tooltipEventType:D,coordinate:Me,payload:be,index:$}))}var cT={},fT={},dT={},XM;function tte(){return XM||(XM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let s,u=null;const f=o!=null&&o.includes("leading"),c=o==null||o.includes("trailing"),h=()=>{u!==null&&(n.apply(s,u),s=void 0,u=null)},y=()=>{c&&h(),A()};let _=null;const S=()=>{_!=null&&clearTimeout(_),_=setTimeout(()=>{_=null,y()},r)},w=()=>{_!==null&&(clearTimeout(_),_=null)},A=()=>{w(),s=void 0,u=null},C=()=>{h()},I=function(...N){if(i!=null&&i.aborted)return;s=this,u=N;const M=_==null;S(),f&&M&&h()};return I.schedule=S,I.cancel=A,I.flush=C,i==null||i.addEventListener("abort",A,{once:!0}),I}t.debounce=e})(dT)),dT}var ZM;function nte(){return ZM||(ZM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tte();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:s=!1,trailing:u=!0,maxWait:f}=o,c=Array(2);s&&(c[0]="leading"),u&&(c[1]="trailing");let h,y=null;const _=e.debounce(function(...A){h=r.apply(this,A),y=null},i,{edges:c}),S=function(...A){return f!=null&&(y===null&&(y=Date.now()),Date.now()-y>=f)?(h=r.apply(this,A),y=Date.now(),_.cancel(),_.schedule(),h):(_.apply(this,A),h)},w=()=>(_.flush(),h);return S.cancel=_.cancel,S.flush=w,S}t.debounce=n})(fT)),fT}var eN;function rte(){return eN||(eN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nte();function n(r,i=0,o={}){const{leading:s=!0,trailing:u=!0}=o;return e.debounce(r,i,{leading:s,maxWait:i,trailing:u})}t.throttle=n})(cT)),cT}var hT,tN;function ite(){return tN||(tN=1,hT=rte().throttle),hT}var ote=ite();const ate=mi(ote);var pT=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function nN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(n),!0).forEach(function(r){ste(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ste(t,e,n){return(e=lte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lte(t){var e=ute(t,"string");return typeof e=="symbol"?e:e+""}function ute(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cte=P.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:s=0,minHeight:u,maxHeight:f,children:c,debounce:h=0,id:y,className:_,onResize:S,style:w={}}=t,A=P.useRef(null),C=P.useRef();C.current=S,P.useImperativeHandle(e,()=>A.current);var[I,N]=P.useState({containerWidth:r.width,containerHeight:r.height}),M=P.useCallback((B,G)=>{N(O=>{var k=Math.round(B),D=Math.round(G);return O.containerWidth===k&&O.containerHeight===D?O:{containerWidth:k,containerHeight:D}})},[]);P.useEffect(()=>{var B=D=>{var $,{width:q,height:z}=D[0].contentRect;M(q,z),($=C.current)===null||$===void 0||$.call(C,q,z)};h>0&&(B=ate(B,h,{trailing:!0,leading:!1}));var G=new ResizeObserver(B),{width:O,height:k}=A.current.getBoundingClientRect();return M(O,k),G.observe(A.current),()=>{G.disconnect()}},[M,h]);var U=P.useMemo(()=>{var{containerWidth:B,containerHeight:G}=I;if(B<0||G<0)return null;pT(js(i)||js(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),pT(!n||n>0,"The aspect(%s) must be greater than zero.",n);var O=js(i)?B:i,k=js(o)?G:o;return n&&n>0&&(O?k=O/n:k&&(O=k*n),f&&k>f&&(k=f)),pT(O>0||k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,k,i,o,s,u,n),P.Children.map(c,D=>P.cloneElement(D,{width:O,height:k,style:mT({width:O,height:k},D.props.style)}))},[n,c,o,f,u,s,I,i]);return P.createElement("div",{id:y?"".concat(y):void 0,className:xt("recharts-responsive-container",_),style:mT(mT({},w),{},{width:i,height:o,minWidth:s,minHeight:u,maxHeight:f}),ref:A},P.createElement("div",{style:{width:0,height:0,overflow:"visible"}},U))}),H4=t=>null;H4.displayName="Cell";function fte(t,e,n){return(e=dte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dte(t){var e=hte(t,"string");return typeof e=="symbol"?e:e+""}function hte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class pte{constructor(e){fte(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function rN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rN(Object(n),!0).forEach(function(r){gte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gte(t,e,n){return(e=yte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yte(t){var e=vte(t,"string");return typeof e=="symbol"?e:e+""}function vte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _te={cacheSize:2e3,enableCache:!0},z4=mte({},_te),iN=new pte(z4.cacheSize),Tte={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},oN="recharts_measurement_span";function Ete(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",s=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(s,"|").concat(u)}var aN=(t,e)=>{try{var n=document.getElementById(oN);n||(n=document.createElement("span"),n.setAttribute("id",oN),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Tte,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},id=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||jd.isSsr)return{width:0,height:0};if(!z4.enableCache)return aN(e,n);var r=Ete(e,n),i=iN.get(r);if(i)return i;var o=aN(e,n);return iN.set(r,o),o},sN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ste=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,wte=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,G4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ate=Object.keys(G4),Su="NaN";function bte(t,e){return t*G4[e]}class ir{static parse(e){var n,[,r,i]=(n=wte.exec(e))!==null&&n!==void 0?n:[];return new ir(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Xr(e)&&(this.unit=""),n!==""&&!Ste.test(n)&&(this.num=NaN,this.unit=""),Ate.includes(n)&&(this.num=bte(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ir(NaN,""):new ir(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ir(NaN,""):new ir(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ir(NaN,""):new ir(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ir(NaN,""):new ir(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Xr(this.num)}}function K4(t){if(t.includes(Su))return Su;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=sN.exec(e))!==null&&n!==void 0?n:[],s=ir.parse(r??""),u=ir.parse(o??""),f=i==="*"?s.multiply(u):s.divide(u);if(f.isNaN())return Su;e=e.replace(sN,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,h,y,_]=(c=lN.exec(e))!==null&&c!==void 0?c:[],S=ir.parse(h??""),w=ir.parse(_??""),A=y==="+"?S.add(w):S.subtract(w);if(A.isNaN())return Su;e=e.replace(lN,A.toString())}return e}var uN=/\(([^()]*)\)/;function Cte(t){for(var e=t,n;(n=uN.exec(e))!=null;){var[,r]=n;e=e.replace(uN,K4(r))}return e}function xte(t){var e=t.replace(/\s+/g,"");return e=Cte(e),e=K4(e),e}function Ite(t){try{return xte(t)}catch{return Su}}function gT(t){var e=Ite(t.slice(5,-1));return e===Su?"":e}var Rte=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Pte=["dx","dy","angle","className","breakAll"];function KE(){return KE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KE.apply(null,arguments)}function cN(t,e){if(t==null)return{};var n,r,i=Mte(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var j4=/[ \f\n\r\t\v\u2028\u2029]+/,Y4=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];cn(e)||(n?i=e.toString().split(""):i=e.toString().split(j4));var o=i.map(u=>({word:u,width:id(u,r).width})),s=n?0:id(" ",r).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},Nte=(t,e,n,r,i)=>{var{maxLines:o,children:s,style:u,breakAll:f}=t,c=xe(o),h=s,y=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce((z,H)=>{var{word:Me,width:be}=H,ne=z[z.length-1];if(ne&&(r==null||i||ne.width+be+n<Number(r)))ne.words.push(Me),ne.width+=be+n;else{var pe={words:[Me],width:be};z.push(pe)}return z},[])},_=y(e),S=$=>$.reduce((q,z)=>q.width>z.width?q:z);if(!c||i)return _;var w=_.length>o||S(_).width>Number(r);if(!w)return _;for(var A="…",C=$=>{var q=h.slice(0,$),z=Y4({breakAll:f,style:u,children:q+A}).wordsWithComputedWidth,H=y(z),Me=H.length>o||S(H).width>Number(r);return[Me,H]},I=0,N=h.length-1,M=0,U;I<=N&&M<=h.length-1;){var B=Math.floor((I+N)/2),G=B-1,[O,k]=C(G),[D]=C(B);if(!O&&!D&&(I=B+1),O&&D&&(N=B-1),!O&&D){U=k;break}M++}return U||_},fN=t=>{var e=cn(t)?[]:t.toString().split(j4);return[{words:e}]},Dte=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:s}=t;if((e||n)&&!jd.isSsr){var u,f,c=Y4({breakAll:o,children:r,style:i});if(c){var{wordsWithComputedWidth:h,spaceWidth:y}=c;u=h,f=y}else return fN(r);return Nte({breakAll:o,children:r,maxLines:s,style:i},u,f,e,n)}return fN(r)},dN="#808080",VA=P.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:s=!1,textAnchor:u="start",verticalAnchor:f="end",fill:c=dN}=t,h=cN(t,Rte),y=P.useMemo(()=>Dte({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:s,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,s,h.style,h.width]),{dx:_,dy:S,angle:w,className:A,breakAll:C}=h,I=cN(h,Pte);if(!ji(n)||!ji(r))return null;var N=n+(xe(_)?_:0),M=r+(xe(S)?S:0),U;switch(f){case"start":U=gT("calc(".concat(o,")"));break;case"middle":U=gT("calc(".concat((y.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:U=gT("calc(".concat(y.length-1," * -").concat(i,")"));break}var B=[];if(s){var G=y[0].width,{width:O}=h;B.push("scale(".concat(xe(O)?O/G:1,")"))}return w&&B.push("rotate(".concat(w,", ").concat(N,", ").concat(M,")")),B.length&&(I.transform=B.join(" ")),P.createElement("text",KE({},En(I,!0),{ref:e,x:N,y:M,className:xt("recharts-text",A),textAnchor:u,fill:c.includes("url")?dN:c}),y.map((k,D)=>{var $=k.words.join(C?"":" ");return P.createElement("tspan",{x:N,dy:D===0?U:i,key:"".concat($,"-").concat(D)},$)}))});VA.displayName="Text";var Ote=["offset"],kte=["labelRef"];function hN(t,e){if(t==null)return{};var n,r,i=Lte(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function pN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pN(Object(n),!0).forEach(function(r){Vte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vte(t,e,n){return(e=Ute(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ute(t){var e=Bte(t,"string");return typeof e=="symbol"?e:e+""}function Bte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Co(){return Co=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Co.apply(null,arguments)}var qte=t=>{var{value:e,formatter:n}=t,r=cn(t.children)?e:t.children;return typeof n=="function"?n(r):r},UA=t=>t!=null&&typeof t=="function",Fte=(t,e)=>{var n=Cr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},$te=(t,e,n,r)=>{var{position:i,offset:o,className:s}=t,{cx:u,cy:f,innerRadius:c,outerRadius:h,startAngle:y,endAngle:_,clockWise:S}=r,w=(c+h)/2,A=Fte(y,_),C=A>=0?1:-1,I,N;i==="insideStart"?(I=y+C*o,N=S):i==="insideEnd"?(I=_-C*o,N=!S):i==="end"&&(I=_+C*o,N=S),N=A<=0?N:!N;var M=On(u,f,w,I),U=On(u,f,w,I+(N?1:-1)*359),B="M".concat(M.x,",").concat(M.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(N?0:1,`,
    `).concat(U.x,",").concat(U.y),G=cn(t.id)?vd("recharts-radial-line-"):t.id;return P.createElement("text",Co({},n,{dominantBaseline:"central",className:xt("recharts-radial-bar-label",s)}),P.createElement("defs",null,P.createElement("path",{id:G,d:B})),P.createElement("textPath",{xlinkHref:"#".concat(G)},e))},Hte=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:u,endAngle:f}=t,c=(u+f)/2;if(n==="outside"){var{x:h,y}=On(r,i,s+e,c);return{x:h,y,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var _=(o+s)/2,{x:S,y:w}=On(r,i,_,c);return{x:S,y:w,textAnchor:"middle",verticalAnchor:"middle"}},zte=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:o,y:s,width:u,height:f}=e,c=f>=0?1:-1,h=c*r,y=c>0?"end":"start",_=c>0?"start":"end",S=u>=0?1:-1,w=S*r,A=S>0?"end":"start",C=S>0?"start":"end";if(i==="top"){var I={x:o+u/2,y:s-c*r,textAnchor:"middle",verticalAnchor:y};return Bt(Bt({},I),n?{height:Math.max(s-n.y,0),width:u}:{})}if(i==="bottom"){var N={x:o+u/2,y:s+f+h,textAnchor:"middle",verticalAnchor:_};return Bt(Bt({},N),n?{height:Math.max(n.y+n.height-(s+f),0),width:u}:{})}if(i==="left"){var M={x:o-w,y:s+f/2,textAnchor:A,verticalAnchor:"middle"};return Bt(Bt({},M),n?{width:Math.max(M.x-n.x,0),height:f}:{})}if(i==="right"){var U={x:o+u+w,y:s+f/2,textAnchor:C,verticalAnchor:"middle"};return Bt(Bt({},U),n?{width:Math.max(n.x+n.width-U.x,0),height:f}:{})}var B=n?{width:u,height:f}:{};return i==="insideLeft"?Bt({x:o+w,y:s+f/2,textAnchor:C,verticalAnchor:"middle"},B):i==="insideRight"?Bt({x:o+u-w,y:s+f/2,textAnchor:A,verticalAnchor:"middle"},B):i==="insideTop"?Bt({x:o+u/2,y:s+h,textAnchor:"middle",verticalAnchor:_},B):i==="insideBottom"?Bt({x:o+u/2,y:s+f-h,textAnchor:"middle",verticalAnchor:y},B):i==="insideTopLeft"?Bt({x:o+w,y:s+h,textAnchor:C,verticalAnchor:_},B):i==="insideTopRight"?Bt({x:o+u-w,y:s+h,textAnchor:A,verticalAnchor:_},B):i==="insideBottomLeft"?Bt({x:o+w,y:s+f-h,textAnchor:C,verticalAnchor:y},B):i==="insideBottomRight"?Bt({x:o+u-w,y:s+f-h,textAnchor:A,verticalAnchor:y},B):i&&typeof i=="object"&&(xe(i.x)||js(i.x))&&(xe(i.y)||js(i.y))?Bt({x:o+pi(i.x,u),y:s+pi(i.y,f),textAnchor:"end",verticalAnchor:"end"},B):Bt({x:o+u/2,y:s+f/2,textAnchor:"middle",verticalAnchor:"middle"},B)},Gte=t=>"cx"in t&&xe(t.cx);function wr(t){var{offset:e=5}=t,n=hN(t,Ote),r=Bt({offset:e},n),{viewBox:i,position:o,value:s,children:u,content:f,className:c="",textBreakAll:h,labelRef:y}=r,_=ke(DU),S=Vw(),w=o==="center"?S:_??S,A=i||w;if(!A||cn(s)&&cn(u)&&!P.isValidElement(f)&&typeof f!="function")return null;var C=Bt(Bt({},r),{},{viewBox:A});if(P.isValidElement(f)){var{labelRef:I}=C,N=hN(C,kte);return P.cloneElement(f,N)}var M;if(typeof f=="function"){if(M=P.createElement(f,C),P.isValidElement(M))return M}else M=qte(r);var U=Gte(A),B=En(r,!0);if(U&&(o==="insideStart"||o==="insideEnd"||o==="end"))return $te(r,M,B,A);var G=U?Hte(A,r.offset,r.position):zte(r,A);return P.createElement(VA,Co({ref:y,className:xt("recharts-label",c)},B,G,{breakAll:h}),M)}wr.displayName="Label";var W4=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:o,r:s,radius:u,innerRadius:f,outerRadius:c,x:h,y,top:_,left:S,width:w,height:A,clockWise:C,labelViewBox:I}=t;if(I)return I;if(xe(w)&&xe(A)){if(xe(h)&&xe(y))return{x:h,y,width:w,height:A};if(xe(_)&&xe(S))return{x:_,y:S,width:w,height:A}}if(xe(h)&&xe(y))return{x:h,y,width:0,height:0};if(xe(e)&&xe(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:f||0,outerRadius:c||u||s||0,clockWise:C};if(t.viewBox)return t.viewBox},Kte=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?P.createElement(wr,Co({key:"label-implicit"},r)):ji(t)?P.createElement(wr,Co({key:"label-implicit",value:t},r)):P.isValidElement(t)?t.type===wr?P.cloneElement(t,Bt({key:"label-implicit"},r)):P.createElement(wr,Co({key:"label-implicit",content:t},r)):UA(t)?P.createElement(wr,Co({key:"label-implicit",content:t},r)):t&&typeof t=="object"?P.createElement(wr,Co({},t,{key:"label-implicit"},r)):null},jte=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:o}=e,s=W4(e),u=_w(i,wr).map((c,h)=>P.cloneElement(c,{viewBox:n||s,key:"label-".concat(h)}));if(!r)return u;var f=Kte(e.label,n||s,o);return[f,...u]};wr.parseViewBox=W4;wr.renderCallByParent=jte;var yT={},vT={},mN;function Yte(){return mN||(mN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(vT)),vT}var _T={},gN;function Wte(){return gN||(gN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(_T)),_T}var yN;function Jte(){return yN||(yN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yte(),n=Wte(),r=ww();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(yT)),yT}var TT,vN;function Qte(){return vN||(vN=1,TT=Jte().last),TT}var Xte=Qte();const Zte=mi(Xte);var ene=["valueAccessor"],tne=["data","dataKey","clockWise","id","textBreakAll"];function dg(){return dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dg.apply(null,arguments)}function _N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(n),!0).forEach(function(r){nne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nne(t,e,n){return(e=rne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rne(t){var e=ine(t,"string");return typeof e=="symbol"?e:e+""}function ine(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EN(t,e){if(t==null)return{};var n,r,i=one(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function one(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ane=t=>Array.isArray(t.value)?Zte(t.value):t.value;function rl(t){var{valueAccessor:e=ane}=t,n=EN(t,ene),{data:r,dataKey:i,clockWise:o,id:s,textBreakAll:u}=n,f=EN(n,tne);return!r||!r.length?null:P.createElement(es,{className:"recharts-label-list"},r.map((c,h)=>{var y=cn(i)?e(c,h):Zn(c&&c.payload,i),_=cn(s)?{}:{id:"".concat(s,"-").concat(h)};return P.createElement(wr,dg({},En(c,!0),f,_,{parentViewBox:c.parentViewBox,value:y,textBreakAll:u,viewBox:wr.parseViewBox(cn(o)?c:TN(TN({},c),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}rl.displayName="LabelList";function sne(t,e){return t?t===!0?P.createElement(rl,{key:"labelList-implicit",data:e}):P.isValidElement(t)||UA(t)?P.createElement(rl,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?P.createElement(rl,dg({data:e},t,{key:"labelList-implicit"})):null:null}function lne(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=_w(r,rl).map((s,u)=>P.cloneElement(s,{data:e,key:"labelList-".concat(u)}));if(!n)return i;var o=sne(t.label,e);return[o,...i]}rl.renderCallByParent=lne;var une={radiusAxis:{},angleAxis:{}},J4=Mr({name:"polarAxis",initialState:une,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:ige,removeRadiusAxis:oge,addAngleAxis:age,removeAngleAxis:sge}=J4.actions,cne=J4.reducer,ET={},SN;function fne(){return SN||(SN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(ET)),ET}var ST,wN;function dne(){return wN||(wN=1,ST=fne().isPlainObject),ST}var hne=dne();const pne=mi(hne);function hg(){return hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hg.apply(null,arguments)}var AN=(t,e,n,r,i)=>{var o=n-r,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+n,",").concat(e),s+="L ".concat(t+n-o/2,",").concat(e+i),s+="L ".concat(t+n-o/2-r,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},mne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gne=t=>{var e=_l(t,mne),n=P.useRef(),[r,i]=P.useState(-1);P.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&i(C)}catch{}},[]);var{x:o,y:s,upperWidth:u,lowerWidth:f,height:c,className:h}=e,{animationEasing:y,animationDuration:_,animationBegin:S,isUpdateAnimationActive:w}=e;if(o!==+o||s!==+s||u!==+u||f!==+f||c!==+c||u===0&&f===0||c===0)return null;var A=xt("recharts-trapezoid",h);return w?P.createElement(Qm,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:c,x:o,y:s},to:{upperWidth:u,lowerWidth:f,height:c,x:o,y:s},duration:_,animationEasing:y,isActive:w},C=>{var{upperWidth:I,lowerWidth:N,height:M,x:U,y:B}=C;return P.createElement(Qm,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:S,duration:_,easing:y},P.createElement("path",hg({},En(e,!0),{className:A,d:AN(U,B,I,N,M),ref:n})))}):P.createElement("g",null,P.createElement("path",hg({},En(e,!0),{className:A,d:AN(o,s,u,f,c)})))},yne=["option","shapeType","propTransformer","activeClassName","isActive"];function vne(t,e){if(t==null)return{};var n,r,i=_ne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _ne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bN(Object(n),!0).forEach(function(r){Tne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tne(t,e,n){return(e=Ene(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ene(t){var e=Sne(t,"string");return typeof e=="symbol"?e:e+""}function Sne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wne(t,e){return pg(pg({},e),t)}function Ane(t,e){return t==="symbols"}function CN(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return P.createElement(xV,n);case"trapezoid":return P.createElement(gne,n);case"sector":return P.createElement(PV,n);case"symbols":if(Ane(e))return P.createElement(OL,n);break;default:return null}}function bne(t){return P.isValidElement(t)?t.props:t}function Cne(t){var{option:e,shapeType:n,propTransformer:r=wne,activeClassName:i="recharts-active-shape",isActive:o}=t,s=vne(t,yne),u;if(P.isValidElement(e))u=P.cloneElement(e,pg(pg({},s),bne(e)));else if(typeof e=="function")u=e(s);else if(pne(e)&&typeof e!="boolean"){var f=r(e,s);u=P.createElement(CN,{shapeType:n,elementProps:f})}else{var c=s;u=P.createElement(CN,{shapeType:n,elementProps:c})}return o?P.createElement(es,{className:i},u):u}var Q4=(t,e)=>{var n=Sn();return(r,i)=>o=>{t==null||t(r,i,o),n(T4({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},X4=t=>{var e=Sn();return(n,r)=>i=>{t==null||t(n,r,i),e(IZ())}},Z4=(t,e)=>{var n=Sn();return(r,i)=>o=>{t==null||t(r,i,o),n(RZ({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function xne(t){var{fn:e,args:n}=t,r=Sn(),i=_i();return P.useEffect(()=>{if(!i){var o=e(n);return r(bZ(o)),()=>{r(CZ(o))}}},[e,n,r,i]),null}var Ine=()=>{};function Rne(t){var{legendPayload:e}=t,n=Sn(),r=_i();return P.useEffect(()=>r?Ine:(n(mY(e)),()=>{n(gY(e))}),[n,r,e]),null}function Pne(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=P.useRef(vd(e)),r=P.useRef(t);return r.current!==t&&(n.current=vd(e),r.current=t),n.current}var wT,Mne=()=>{var[t]=P.useState(()=>vd("uid-"));return t},Nne=(wT=V6.useId)!==null&&wT!==void 0?wT:Mne;function Dne(t,e){var n=Nne();return e||(t?"".concat(t,"-").concat(n):n)}var One=P.createContext(void 0),kne=t=>{var{id:e,type:n,children:r}=t,i=Dne("recharts-".concat(n),e);return P.createElement(One.Provider,{value:i},r(i))},Lne={cartesianItems:[],polarItems:[]},e3=Mr({name:"graphicalItems",initialState:Lne,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=Do(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=Do(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Do(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Vne,replaceCartesianGraphicalItem:Une,removeCartesianGraphicalItem:Bne,addPolarGraphicalItem:lge,removePolarGraphicalItem:uge}=e3.actions,qne=e3.reducer;function Fne(t){var e=Sn(),n=P.useRef(null);return P.useEffect(()=>{n.current===null?e(Vne(t)):n.current!==t&&e(Une({prev:n.current,next:t})),n.current=t},[e,t]),P.useEffect(()=>()=>{n.current&&(e(Bne(n.current)),n.current=null)},[e]),null}function $ne(){}var Hne={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},xN={t:0},AT={t:1};function zne(t){var e=_l(t,Hne),{isActive:n,canBegin:r,duration:i,easing:o,begin:s,onAnimationEnd:u,onAnimationStart:f,children:c}=e,h=CV("JavascriptAnimate",e.animationManager),[y,_]=P.useState(n?xN:AT),S=P.useRef(null);return P.useEffect(()=>{n||_(AT)},[n]),P.useEffect(()=>{if(!n||!r)return $ne;var w=bV(xN,AT,wV(o),i,_,h.getTimeoutController()),A=()=>{S.current=w()};return h.start([f,s,A,i,u]),()=>{h.stop(),S.current&&S.current(),u()}},[n,r,i,o,s,f,u,h]),c(y.t)}var Gne=oe([wn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Kne=oe([Gne,jo,Yo],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),t3=()=>ke(Kne),jne="Invariant failed";function Yne(t,e){throw new Error(jne)}var Wne=["x","y"];function jE(){return jE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jE.apply(null,arguments)}function IN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IN(Object(n),!0).forEach(function(r){Jne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jne(t,e,n){return(e=Qne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qne(t){var e=Xne(t,"string");return typeof e=="symbol"?e:e+""}function Xne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zne(t,e){if(t==null)return{};var n,r,i=ere(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ere(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tre(t,e){var{x:n,y:r}=t,i=Zne(t,Wne),o="".concat(n),s=parseInt(o,10),u="".concat(r),f=parseInt(u,10),c="".concat(e.height||i.height),h=parseInt(c,10),y="".concat(e.width||i.width),_=parseInt(y,10);return qf(qf(qf(qf(qf({},e),i),s?{x:s}:{}),f?{y:f}:{}),{},{height:h,width:_,name:e.name,radius:e.radius})}function n3(t){return P.createElement(Cne,jE({shapeType:"rectangle",propTransformer:tre,activeClassName:"recharts-active-bar"},t))}var nre=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(xe(e))return e;var o=xe(r)||cn(r);return o?e(r,i):(o||Yne(),n)}},rre={},r3=Mr({name:"errorBars",initialState:rre,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:cge,removeErrorBar:fge}=r3.actions,ire=r3.reducer,ore=["children"];function are(t,e){if(t==null)return{};var n,r,i=sre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lre={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ure=P.createContext(lre);function cre(t){var{children:e}=t,n=are(t,ore);return P.createElement(ure.Provider,{value:n},e)}function i3(t,e){var n,r,i=ke(c=>Jo(c,t)),o=ke(c=>ss(c,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Tr.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:Er.allowDataOverflow,f=s||u;return{needClip:f,needClipX:s,needClipY:u}}function fre(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=t3(),{needClipX:o,needClipY:s,needClip:u}=i3(e,n);if(!u)return null;var{x:f,y:c,width:h,height:y}=i;return P.createElement("clipPath",{id:"clipPath-".concat(r)},P.createElement("rect",{x:o?f:f-h/2,y:s?c:c-y/2,width:o?h:h*2,height:s?y:y*2}))}var dre=["onMouseEnter","onMouseLeave","onClick"],hre=["value","background","tooltipPosition"],pre=["id"],mre=["onMouseEnter","onClick","onMouseLeave"];function Xu(){return Xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xu.apply(null,arguments)}function RN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RN(Object(n),!0).forEach(function(r){gre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gre(t,e,n){return(e=yre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yre(t){var e=vre(t,"string");return typeof e=="symbol"?e:e+""}function vre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mg(t,e){if(t==null)return{};var n,r,i=_re(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _re(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Tre=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:gV(n,e),payload:t}]};function Ere(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:o,hide:s,unit:u}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:gV(o,e),hide:s,type:t.tooltipType,color:t.fill,unit:u}}}function Sre(t){var e=ke(Qu),{data:n,dataKey:r,background:i,allOtherBarProps:o}=t,{onMouseEnter:s,onMouseLeave:u,onClick:f}=o,c=mg(o,dre),h=Q4(s,r),y=X4(u),_=Z4(f,r);if(!i||n==null)return null;var S=En(i,!1);return P.createElement(P.Fragment,null,n.map((w,A)=>{var{value:C,background:I,tooltipPosition:N}=w,M=mg(w,hre);if(!I)return null;var U=h(w,A),B=y(w,A),G=_(w,A),O=Hn(Hn(Hn(Hn(Hn({option:i,isActive:String(A)===e},M),{},{fill:"#eee"},I),S),vw(c,w,A)),{},{onMouseEnter:U,onMouseLeave:B,onClick:G,dataKey:r,index:A,className:"recharts-bar-background-rectangle"});return P.createElement(n3,Xu({key:"background-bar-".concat(A)},O))}))}function o3(t){var{data:e,props:n,showLabels:r}=t,i=Kg(n),{id:o}=i,s=mg(i,pre),{shape:u,dataKey:f,activeBar:c}=n,h=ke(Qu),y=ke(D4),{onMouseEnter:_,onClick:S,onMouseLeave:w}=n,A=mg(n,mre),C=Q4(_,f),I=X4(w),N=Z4(S,f);return e?P.createElement(P.Fragment,null,e.map((M,U)=>{var B=c&&String(U)===h&&(y==null||f===y),G=B?c:u,O=Hn(Hn(Hn({},s),M),{},{isActive:B,option:G,index:U,dataKey:f});return P.createElement(es,Xu({className:"recharts-bar-rectangle"},vw(A,M,U),{onMouseEnter:C(M,U),onMouseLeave:I(M,U),onClick:N(M,U),key:"rectangle-".concat(M==null?void 0:M.x,"-").concat(M==null?void 0:M.y,"-").concat(M==null?void 0:M.value,"-").concat(U)}),P.createElement(n3,O))}),r&&rl.renderCallByParent(n,e)):null}function wre(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:o,animationBegin:s,animationDuration:u,animationEasing:f,onAnimationEnd:c,onAnimationStart:h}=e,y=n.current,_=Pne(e,"recharts-bar-"),[S,w]=P.useState(!1),A=P.useCallback(()=>{typeof c=="function"&&c(),w(!1)},[c]),C=P.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return P.createElement(zne,{begin:s,duration:u,isActive:o,easing:f,onAnimationEnd:A,onAnimationStart:C,key:_},I=>{var N=I===1?r:r==null?void 0:r.map((M,U)=>{var B=y&&y[U];if(B)return Hn(Hn({},M),{},{x:mu(B.x,M.x,I),y:mu(B.y,M.y,I),width:mu(B.width,M.width,I),height:mu(B.height,M.height,I)});if(i==="horizontal"){var G=mu(0,M.height,I);return Hn(Hn({},M),{},{y:M.y+M.height-G,height:G})}var O=mu(0,M.width,I);return Hn(Hn({},M),{},{width:O})});return I>0&&(n.current=N??null),N==null?null:P.createElement(es,null,P.createElement(o3,{props:e,data:N,showLabels:!S}))})}function Are(t){var{data:e,isAnimationActive:n}=t,r=P.useRef(null);return n&&e&&e.length&&(r.current==null||r.current!==e)?P.createElement(wre,{previousRectanglesRef:r,props:t}):P.createElement(o3,{props:t,data:e,showLabels:!0})}var a3=0,bre=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Zn(t,e)}};class Cre extends P.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:s,needClip:u,background:f,id:c}=this.props;if(e)return null;var h=xt("recharts-bar",i),y=c;return P.createElement(es,{className:h,id:c},u&&P.createElement("defs",null,P.createElement(fre,{clipPathId:y,xAxisId:o,yAxisId:s})),P.createElement(es,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(y,")"):void 0},P.createElement(Sre,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),P.createElement(Are,this.props)),this.props.children)}}var xre={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!jd.isSsr,legendType:"rect",minPointSize:a3,xAxisId:0,yAxisId:0};function Ire(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:s,animationBegin:u,animationDuration:f,animationEasing:c,isAnimationActive:h}=t,{needClip:y}=i3(e,n),_=Uw(),S=_i(),w=_w(t.children,H4),A=ke(N=>tie(N,e,n,S,t.id,w));if(_!=="vertical"&&_!=="horizontal")return null;var C,I=A==null?void 0:A[0];return I==null||I.height==null||I.width==null?C=0:C=_==="vertical"?I.height/2:I.width/2,P.createElement(cre,{xAxisId:e,yAxisId:n,data:A,dataPointFormatter:bre,errorBarOffset:C},P.createElement(Cre,Xu({},t,{layout:_,needClip:y,data:A,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:s,animationBegin:u,animationDuration:f,animationEasing:c,isAnimationActive:h})))}function Rre(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:s,yAxis:u,xAxisTicks:f,yAxisTicks:c,stackedData:h,displayedData:y,offset:_,cells:S}=t,w=e==="horizontal"?u:s,A=h?w.scale.domain():null,C=Yj({numericAxis:w});return y.map((I,N)=>{var M,U,B,G,O,k;h?M=$j(h[N],A):(M=Zn(I,n),Array.isArray(M)||(M=[C,M]));var D=nre(r,a3)(M[1],N);if(e==="horizontal"){var $,[q,z]=[u.scale(M[0]),u.scale(M[1])];U=EP({axis:s,ticks:f,bandSize:o,offset:i.offset,entry:I,index:N}),B=($=z??q)!==null&&$!==void 0?$:void 0,G=i.size;var H=q-z;if(O=Xr(H)?0:H,k={x:U,y:_.top,width:G,height:_.height},Math.abs(D)>0&&Math.abs(O)<Math.abs(D)){var Me=Cr(O||D)*(Math.abs(D)-Math.abs(O));B-=Me,O+=Me}}else{var[be,ne]=[s.scale(M[0]),s.scale(M[1])];if(U=be,B=EP({axis:u,ticks:c,bandSize:o,offset:i.offset,entry:I,index:N}),G=ne-be,O=i.size,k={x:_.left,y:B,width:_.width,height:O},Math.abs(D)>0&&Math.abs(G)<Math.abs(D)){var pe=Cr(G||D)*(Math.abs(D)-Math.abs(G));G+=pe}}if(U==null||B==null||G==null||O==null)return null;var _e=Hn(Hn({},I),{},{x:U,y:B,width:G,height:O,value:h?M:M[1],payload:I,background:k,tooltipPosition:{x:U+G/2,y:B+O/2}},S&&S[N]&&S[N].props);return _e}).filter(Boolean)}function s3(t){var e=_l(t,xre),n=_i();return P.createElement(kne,{id:e.id,type:"bar"},r=>P.createElement(P.Fragment,null,P.createElement(Rne,{legendPayload:Tre(e)}),P.createElement(xne,{fn:Ere,args:e}),P.createElement(Fne,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:jj(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),P.createElement(Ire,Xu({},e,{id:r}))))}s3.displayName="Bar";function PN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PN(Object(n),!0).forEach(function(r){Pre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pre(t,e,n){return(e=Mre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mre(t){var e=Nre(t,"string");return typeof e=="symbol"?e:e+""}function Nre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dre=(t,e)=>e,Ore=(t,e,n)=>n,kre=(t,e,n,r)=>r,Lre=(t,e,n,r,i)=>i,ih=oe([TA,Lre],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Vre=oe([ih],t=>t==null?void 0:t.maxBarSize),Ure=(t,e,n,r,i,o)=>o,MN=(t,e,n)=>{var r=n??t;if(!cn(r))return pi(r,e,0)},Bre=oe([dt,TA,Dre,Ore,kre],(t,e,n,r,i)=>e.filter(o=>t==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),qre=(t,e,n,r)=>{var i=dt(t);return i==="horizontal"?FE(t,"yAxis",n,r):FE(t,"xAxis",e,r)},Fre=(t,e,n)=>{var r=dt(t);return r==="horizontal"?BM(t,"xAxis",e):BM(t,"yAxis",n)},$re=(t,e,n)=>{var r={},i=t.filter(gy),o=t.filter(c=>c.stackId==null),s=i.reduce((c,h)=>(c[h.stackId]||(c[h.stackId]=[]),c[h.stackId].push(h),c),r),u=Object.entries(s).map(c=>{var[h,y]=c,_=y.map(w=>w.dataKey),S=MN(e,n,y[0].barSize);return{stackId:h,dataKeys:_,barSize:S}}),f=o.map(c=>{var h=[c.dataKey].filter(_=>_!=null),y=MN(e,n,c.barSize);return{stackId:void 0,dataKeys:h,barSize:y}});return[...u,...f]},Hre=oe([Bre,bX,Fre],$re),zre=(t,e,n,r,i)=>{var o,s,u=ih(t,e,n,r,i);if(u!=null){var f=dt(t),c=CU(t),{maxBarSize:h}=u,y=cn(h)?c:h,_,S;return f==="horizontal"?(_=Ju(t,"xAxis",e,r),S=Wu(t,"xAxis",e,r)):(_=Ju(t,"yAxis",n,r),S=Wu(t,"yAxis",n,r)),(o=(s=Ow(_,S,!0))!==null&&s!==void 0?s:y)!==null&&o!==void 0?o:0}},l3=(t,e,n,r)=>{var i=dt(t),o,s;return i==="horizontal"?(o=Ju(t,"xAxis",e,r),s=Wu(t,"xAxis",e,r)):(o=Ju(t,"yAxis",n,r),s=Wu(t,"yAxis",n,r)),Ow(o,s)};function Gre(t,e,n,r,i){var o=r.length;if(!(o<1)){var s=pi(t,n,0,!0),u,f=[];if(Pr(r[0].barSize)){var c=!1,h=n/o,y=r.reduce((I,N)=>I+(N.barSize||0),0);y+=(o-1)*s,y>=n&&(y-=(o-1)*s,s=0),y>=n&&h>0&&(c=!0,h*=.9,y=o*h);var _=(n-y)/2>>0,S={offset:_-s,size:0};u=r.reduce((I,N)=>{var M,U={stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:S.offset+S.size+s,size:c?h:(M=N.barSize)!==null&&M!==void 0?M:0}},B=[...I,U];return S=B[B.length-1].position,B},f)}else{var w=pi(e,n,0,!0);n-2*w-(o-1)*s<=0&&(s=0);var A=(n-2*w-(o-1)*s)/o;A>1&&(A>>=0);var C=Pr(i)?Math.min(A,i):A;u=r.reduce((I,N,M)=>[...I,{stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:w+(A+s)*M+(A-C)/2,size:C}}],f)}return u}}var Kre=(t,e,n,r,i,o,s)=>{var u=cn(s)?e:s,f=Gre(n,r,i!==o?i:o,t,u);return i!==o&&f!=null&&(f=f.map(c=>Jp(Jp({},c),{},{position:Jp(Jp({},c.position),{},{offset:c.position.offset-i/2})}))),f},jre=oe([Hre,CU,AX,xU,zre,l3,Vre],Kre),Yre=(t,e,n,r)=>Ju(t,"xAxis",e,r),Wre=(t,e,n,r)=>Ju(t,"yAxis",n,r),Jre=(t,e,n,r)=>Wu(t,"xAxis",e,r),Qre=(t,e,n,r)=>Wu(t,"yAxis",n,r),Xre=oe([jre,ih],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Zre=(t,e)=>{var n=vA(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:o}=i;if(o)return o.find(s=>s.key===n)}}}},eie=oe([qre,ih],Zre),tie=oe([wn,Yre,Wre,Jre,Qre,Xre,dt,uA,l3,eie,ih,Ure],(t,e,n,r,i,o,s,u,f,c,h,y)=>{var{chartData:_,dataStartIndex:S,dataEndIndex:w}=u;if(!(h==null||o==null||s!=="horizontal"&&s!=="vertical"||e==null||n==null||r==null||i==null||f==null)){var{data:A}=h,C;if(A!=null&&A.length>0?C=A:C=_==null?void 0:_.slice(S,w+1),C!=null)return Rre({layout:s,barSettings:h,pos:o,bandSize:f,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:c,displayedData:C,offset:t,cells:y})}}),nie=t=>{var{chartData:e}=t,n=Sn(),r=_i();return P.useEffect(()=>r?()=>{}:(n(YM(e)),()=>{n(YM(void 0))}),[e,n,r]),null},NN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},u3=Mr({name:"brush",initialState:NN,reducers:{setBrushSettings(t,e){return e.payload==null?NN:e.payload}}}),{setBrushSettings:dge}=u3.actions,rie=u3.reducer;function iie(t,e,n){return(e=oie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oie(t){var e=aie(t,"string");return typeof e=="symbol"?e:e+""}function aie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class BA{static create(e){return new BA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}iie(BA,"EPS",1e-4);function sie(t){return(t%180+180)%180}var lie=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=sie(i),s=o*Math.PI/180,u=Math.atan(r/n),f=s>u&&s<Math.PI-u?r/Math.sin(s):n/Math.cos(s);return Math.abs(f)},uie={dots:[],areas:[],lines:[]},c3=Mr({name:"referenceElements",initialState:uie,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Do(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Do(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Do(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:hge,removeDot:pge,addArea:mge,removeArea:gge,addLine:yge,removeLine:vge}=c3.actions,cie=c3.reducer,fie=P.createContext(void 0),die=t=>{var{children:e}=t,[n]=P.useState("".concat(vd("recharts"),"-clip")),r=t3();if(r==null)return null;var{x:i,y:o,width:s,height:u}=r;return P.createElement(fie.Provider,{value:n},P.createElement("defs",null,P.createElement("clipPath",{id:n},P.createElement("rect",{x:i,y:o,height:u,width:s}))),e)};function bT(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function f3(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function hie(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return lie(r,n)}function pie(t,e,n){var r=n==="width",{x:i,y:o,width:s,height:u}=t;return e===1?{start:r?i:o,end:r?i+s:o+u}:{start:r?i+s:o+u,end:r?i:o}}function gg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function mie(t,e){return f3(t,e+1)}function gie(t,e,n,r,i){for(var o=(r||[]).slice(),{start:s,end:u}=e,f=0,c=1,h=s,y=function(){var w=r==null?void 0:r[f];if(w===void 0)return{v:f3(r,c)};var A=f,C,I=()=>(C===void 0&&(C=n(w,A)),C),N=w.coordinate,M=f===0||gg(t,N,I,h,u);M||(f=0,h=s,c+=1),M&&(h=N+t*(I()/2+i),f+=c)},_;c<=o.length;)if(_=y(),_)return _.v;return[]}function DN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DN(Object(n),!0).forEach(function(r){yie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yie(t,e,n){return(e=vie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vie(t){var e=_ie(t,"string");return typeof e=="symbol"?e:e+""}function _ie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tie(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,{start:u}=e,{end:f}=e,c=function(_){var S=o[_],w,A=()=>(w===void 0&&(w=n(S,_)),w);if(_===s-1){var C=t*(S.coordinate+t*A()/2-f);o[_]=S=qn(qn({},S),{},{tickCoord:C>0?S.coordinate-C*t:S.coordinate})}else o[_]=S=qn(qn({},S),{},{tickCoord:S.coordinate});var I=gg(t,S.tickCoord,A,u,f);I&&(f=S.tickCoord-t*(A()/2+i),o[_]=qn(qn({},S),{},{isShow:!0}))},h=s-1;h>=0;h--)c(h);return o}function Eie(t,e,n,r,i,o){var s=(r||[]).slice(),u=s.length,{start:f,end:c}=e;if(o){var h=r[u-1],y=n(h,u-1),_=t*(h.coordinate+t*y/2-c);s[u-1]=h=qn(qn({},h),{},{tickCoord:_>0?h.coordinate-_*t:h.coordinate});var S=gg(t,h.tickCoord,()=>y,f,c);S&&(c=h.tickCoord-t*(y/2+i),s[u-1]=qn(qn({},h),{},{isShow:!0}))}for(var w=o?u-1:u,A=function(N){var M=s[N],U,B=()=>(U===void 0&&(U=n(M,N)),U);if(N===0){var G=t*(M.coordinate-t*B()/2-f);s[N]=M=qn(qn({},M),{},{tickCoord:G<0?M.coordinate-G*t:M.coordinate})}else s[N]=M=qn(qn({},M),{},{tickCoord:M.coordinate});var O=gg(t,M.tickCoord,B,f,c);O&&(f=M.tickCoord+t*(B()/2+i),s[N]=qn(qn({},M),{},{isShow:!0}))},C=0;C<w;C++)A(C);return s}function Sie(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:s,orientation:u,interval:f,tickFormatter:c,unit:h,angle:y}=t;if(!i||!i.length||!r)return[];if(xe(f)||jd.isSsr){var _;return(_=mie(i,xe(f)?f:0))!==null&&_!==void 0?_:[]}var S=[],w=u==="top"||u==="bottom"?"width":"height",A=h&&w==="width"?id(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},C=(M,U)=>{var B=typeof c=="function"?c(M.value,U):M.value;return w==="width"?hie(id(B,{fontSize:e,letterSpacing:n}),A,y):id(B,{fontSize:e,letterSpacing:n})[w]},I=i.length>=2?Cr(i[1].coordinate-i[0].coordinate):1,N=pie(o,I,w);return f==="equidistantPreserveStart"?gie(I,N,C,i,s):(f==="preserveStart"||f==="preserveStartEnd"?S=Eie(I,N,C,i,s,f==="preserveStartEnd"):S=Tie(I,N,C,i,s),S.filter(M=>M.isShow))}var wie=["viewBox"],Aie=["viewBox"];function wu(){return wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wu.apply(null,arguments)}function ON(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ON(Object(n),!0).forEach(function(r){qA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ON(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kN(t,e){if(t==null)return{};var n,r,i=bie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qA(t,e,n){return(e=Cie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cie(t){var e=xie(t,"string");return typeof e=="symbol"?e:e+""}function xie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class _c extends P.Component{constructor(e){super(e),this.tickRefs=P.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=kN(e,wie),o=this.props,{viewBox:s}=o,u=kN(o,Aie);return!bT(r,s)||!bT(i,u)||!bT(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:o,orientation:s,tickSize:u,mirror:f,tickMargin:c}=this.props,h,y,_,S,w,A,C=f?-1:1,I=e.tickSize||u,N=xe(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":h=y=e.coordinate,S=r+ +!f*o,_=S-C*I,A=_-C*c,w=N;break;case"left":_=S=e.coordinate,y=n+ +!f*i,h=y-C*I,w=h-C*c,A=N;break;case"right":_=S=e.coordinate,y=n+ +f*i,h=y+C*I,w=h+C*c,A=N;break;default:h=y=e.coordinate,S=r+ +f*o,_=S+C*I,A=_+C*c,w=N;break}return{line:{x1:h,y1:_,x2:y,y2:S},tick:{x:w,y:A}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:o,mirror:s,axisLine:u}=this.props,f=ln(ln(ln({},En(this.props,!1)),En(u,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var c=+(o==="top"&&!s||o==="bottom"&&s);f=ln(ln({},f),{},{x1:e,y1:n+c*i,x2:e+r,y2:n+c*i})}else{var h=+(o==="left"&&!s||o==="right"&&s);f=ln(ln({},f),{},{x1:e+h*r,y1:n,x2:e+h*r,y2:n+i})}return P.createElement("line",wu({},f,{className:xt("recharts-cartesian-axis-line",ul(u,"className"))}))}static renderTickItem(e,n,r){var i,o=xt(n.className,"recharts-cartesian-axis-tick-value");if(P.isValidElement(e))i=P.cloneElement(e,ln(ln({},n),{},{className:o}));else if(typeof e=="function")i=e(ln(ln({},n),{},{className:o}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=xt(s,e.className)),i=P.createElement(VA,wu({},n,{className:s}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:o,tick:s,tickFormatter:u,unit:f,padding:c}=this.props,h=Sie(ln(ln({},this.props),{},{ticks:r}),e,n),y=this.getTickTextAnchor(),_=this.getTickVerticalAnchor(),S=Kg(this.props),w=En(s,!1),A=ln(ln({},S),{},{fill:"none"},En(i,!1)),C=h.map((I,N)=>{var{line:M,tick:U}=this.getTickLineCoord(I),B=ln(ln(ln(ln({textAnchor:y,verticalAnchor:_},S),{},{stroke:"none",fill:o},w),U),{},{index:N,payload:I,visibleTicksCount:h.length,tickFormatter:u,padding:c});return P.createElement(es,wu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},vw(this.props,I,N)),i&&P.createElement("line",wu({},A,M,{className:xt("recharts-cartesian-axis-tick-line",ul(i,"className"))})),s&&_c.renderTickItem(s,B,"".concat(typeof u=="function"?u(I.value,N):I.value).concat(f||"")))});return C.length>0?P.createElement("g",{className:"recharts-cartesian-axis-ticks"},C):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:o}=this.props;if(o)return null;var{ticks:s}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:P.createElement(es,{className:xt("recharts-cartesian-axis",i),ref:u=>{if(u){var f=u.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(f);var c=f[0];if(c){var h=window.getComputedStyle(c).fontSize,y=window.getComputedStyle(c).letterSpacing;(h!==this.state.fontSize||y!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(c).fontSize,letterSpacing:window.getComputedStyle(c).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,s),wr.renderCallByParent(this.props))}}qA(_c,"displayName","CartesianAxis");qA(_c,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function LN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(n),!0).forEach(function(r){Iie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iie(t,e,n){return(e=Rie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rie(t){var e=Pie(t,"string");return typeof e=="symbol"?e:e+""}function Pie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mie={xAxis:{},yAxis:{},zAxis:{}},d3=Mr({name:"cartesianAxis",initialState:Mie,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=VN(VN({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:Nie,removeXAxis:Die,addYAxis:Oie,removeYAxis:kie,addZAxis:_ge,removeZAxis:Tge,updateYAxisWidth:Lie}=d3.actions,Vie=d3.reducer,Uie=["children"],Bie=["dangerouslySetInnerHTML","ticks"];function h3(t,e,n){return(e=qie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qie(t){var e=Fie(t,"string");return typeof e=="symbol"?e:e+""}function Fie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YE(){return YE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YE.apply(null,arguments)}function p3(t,e){if(t==null)return{};var n,r,i=$ie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $ie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Hie(t){var e=Sn(),n=P.useMemo(()=>{var{children:o}=t,s=p3(t,Uie);return s},[t]),r=ke(o=>Jo(o,n.id)),i=n===r;return P.useEffect(()=>(e(Nie(n)),()=>{e(Die(n))}),[n,e]),i?t.children:null}var zie=t=>{var{xAxisId:e,className:n}=t,r=ke(vV),i=_i(),o="xAxis",s=ke(S=>gc(S,o,e,i)),u=ke(S=>p4(S,o,e,i)),f=ke(S=>c4(S,e)),c=ke(S=>gZ(S,e));if(f==null||c==null)return null;var{dangerouslySetInnerHTML:h,ticks:y}=t,_=p3(t,Bie);return P.createElement(_c,YE({},_,{scale:s,x:c.x,y:c.y,width:f.width,height:f.height,className:xt("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:u}))},Gie=t=>{var e,n,r,i,o;return P.createElement(Hie,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter},P.createElement(zie,t))};class FA extends P.Component{render(){return P.createElement(Gie,this.props)}}h3(FA,"displayName","XAxis");h3(FA,"defaultProps",{allowDataOverflow:Tr.allowDataOverflow,allowDecimals:Tr.allowDecimals,allowDuplicatedCategory:Tr.allowDuplicatedCategory,height:Tr.height,hide:!1,mirror:Tr.mirror,orientation:Tr.orientation,padding:Tr.padding,reversed:Tr.reversed,scale:Tr.scale,tickCount:Tr.tickCount,type:Tr.type,xAxisId:0});var Kie=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,s=0;if(e){e.forEach(h=>{if(h){var y=h.getBoundingClientRect();y.width>s&&(s=y.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+o,c=s+f+u+(n?r:0);return Math.round(c)}return 0},jie=["dangerouslySetInnerHTML","ticks"];function m3(t,e,n){return(e=Yie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yie(t){var e=Wie(t,"string");return typeof e=="symbol"?e:e+""}function Wie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WE(){return WE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WE.apply(null,arguments)}function Jie(t,e){if(t==null)return{};var n,r,i=Qie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Xie(t){var e=Sn();return P.useEffect(()=>(e(Oie(t)),()=>{e(kie(t))}),[t,e]),null}var Zie=t=>{var e,{yAxisId:n,className:r,width:i,label:o}=t,s=P.useRef(null),u=P.useRef(null),f=ke(vV),c=_i(),h=Sn(),y="yAxis",_=ke(M=>gc(M,y,n,c)),S=ke(M=>f4(M,n)),w=ke(M=>yZ(M,n)),A=ke(M=>p4(M,y,n,c));if(P.useLayoutEffect(()=>{var M;if(!(i!=="auto"||!S||UA(o)||P.isValidElement(o))){var U=s.current,B=U==null||(M=U.tickRefs)===null||M===void 0?void 0:M.current,{tickSize:G,tickMargin:O}=U.props,k=Kie({ticks:B,label:u.current,labelGapWithTick:5,tickSize:G,tickMargin:O});Math.round(S.width)!==Math.round(k)&&h(Lie({id:n,width:k}))}},[s,s==null||(e=s.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,S==null?void 0:S.width,S,h,o,n,i]),S==null||w==null)return null;var{dangerouslySetInnerHTML:C,ticks:I}=t,N=Jie(t,jie);return P.createElement(_c,WE({},N,{ref:s,labelRef:u,scale:_,x:w.x,y:w.y,width:S.width,height:S.height,className:xt("recharts-".concat(y," ").concat(y),r),viewBox:f,ticks:A}))},eoe=t=>{var e,n,r,i,o;return P.createElement(P.Fragment,null,P.createElement(Xie,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter}),P.createElement(Zie,t))},toe={allowDataOverflow:Er.allowDataOverflow,allowDecimals:Er.allowDecimals,allowDuplicatedCategory:Er.allowDuplicatedCategory,hide:!1,mirror:Er.mirror,orientation:Er.orientation,padding:Er.padding,reversed:Er.reversed,scale:Er.scale,tickCount:Er.tickCount,type:Er.type,width:Er.width,yAxisId:0};class $A extends P.Component{render(){return P.createElement(eoe,this.props)}}m3($A,"displayName","YAxis");m3($A,"defaultProps",toe);var CT={exports:{}},xT={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UN;function noe(){if(UN)return xT;UN=1;var t=Zu();function e(f,c){return f===c&&(f!==0||1/f===1/c)||f!==f&&c!==c}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,s=t.useMemo,u=t.useDebugValue;return xT.useSyncExternalStoreWithSelector=function(f,c,h,y,_){var S=i(null);if(S.current===null){var w={hasValue:!1,value:null};S.current=w}else w=S.current;S=s(function(){function C(B){if(!I){if(I=!0,N=B,B=y(B),_!==void 0&&w.hasValue){var G=w.value;if(_(G,B))return M=G}return M=B}if(G=M,n(N,B))return G;var O=y(B);return _!==void 0&&_(G,O)?(N=B,G):(N=B,M=O)}var I=!1,N,M,U=h===void 0?null:h;return[function(){return C(c())},U===null?void 0:function(){return C(U())}]},[c,h,y,_]);var A=r(f,S[0],S[1]);return o(function(){w.hasValue=!0,w.value=A},[A]),u(A),A},xT}var BN;function roe(){return BN||(BN=1,CT.exports=noe()),CT.exports}roe();function ioe(t){t()}function ooe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){ioe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var qN={notify(){},get:()=>[]};function aoe(t,e){let n,r=qN,i=0,o=!1;function s(A){h();const C=r.subscribe(A);let I=!1;return()=>{I||(I=!0,C(),y())}}function u(){r.notify()}function f(){w.onStateChange&&w.onStateChange()}function c(){return o}function h(){i++,n||(n=t.subscribe(f),r=ooe())}function y(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=qN)}function _(){o||(o=!0,h())}function S(){o&&(o=!1,y())}const w={addNestedSub:s,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:c,trySubscribe:_,tryUnsubscribe:S,getListeners:()=>r};return w}var soe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",loe=soe(),uoe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",coe=uoe(),foe=()=>loe||coe?P.useLayoutEffect:P.useEffect,doe=foe(),IT=Symbol.for("react-redux-context"),RT=typeof globalThis<"u"?globalThis:{};function hoe(){if(!P.createContext)return{};const t=RT[IT]??(RT[IT]=new Map);let e=t.get(P.createContext);return e||(e=P.createContext(null),t.set(P.createContext,e)),e}var poe=hoe();function moe(t){const{children:e,context:n,serverState:r,store:i}=t,o=P.useMemo(()=>{const f=aoe(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),s=P.useMemo(()=>i.getState(),[i]);doe(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),s!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,s]);const u=n||poe;return P.createElement(u.Provider,{value:o},e)}var goe=moe,yoe=(t,e)=>e,HA=oe([yoe,dt,DU,dn,R4,Qo,Eee,wn],Cee),zA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},g3=Zr("mouseClick"),y3=Kd();y3.startListening({actionCreator:g3,effect:(t,e)=>{var n=t.payload,r=HA(e.getState(),zA(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(PZ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var JE=Zr("mouseMove"),v3=Kd();v3.startListening({actionCreator:JE,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=IA(r,r.tooltip.settings.shared),o=HA(r,zA(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?e.dispatch(S4({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(E4()))}});function voe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var FN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},_3=Mr({name:"rootProps",initialState:FN,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:FN.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),_oe=_3.reducer,{updateOptions:Toe}=_3.actions,T3=Mr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Ege}=T3.actions,Eoe=T3.reducer,E3=Zr("keyDown"),S3=Zr("focus"),GA=Kd();GA.startListening({actionCreator:E3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var s=Number(RA(i,vc(n))),u=Qo(n);if(o==="Enter"){var f=fg(n,"axis","hover",String(i.index));e.dispatch(HE({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var c=EZ(n),h=c==="left-to-right"?1:-1,y=o==="ArrowRight"?1:-1,_=s+y*h;if(!(u==null||_>=u.length||_<0)){var S=fg(n,"axis","hover",String(_));e.dispatch(HE({active:!0,activeIndex:_.toString(),activeDataKey:void 0,activeCoordinate:S}))}}}}});GA.startListening({actionCreator:S3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",s=fg(n,"axis","hover",String(o));e.dispatch(HE({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:s}))}}}});var Kr=Zr("externalEvent"),w3=Kd();w3.startListening({actionCreator:Kr,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:dee(n),activeDataKey:D4(n),activeIndex:Qu(n),activeLabel:N4(n),activeTooltipIndex:Qu(n),isTooltipActive:hee(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Soe=oe([yc],t=>t.tooltipItemPayloads),woe=oe([Soe,nh,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var s=e(o,n);return s}}}),A3=Zr("touchMove"),b3=Kd();b3.startListening({actionCreator:A3,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=IA(r,r.tooltip.settings.shared);if(i==="axis"){var o=HA(r,zA({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(S4({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var s,u=n.touches[0],f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var c=f.getAttribute(nY),h=(s=f.getAttribute(rY))!==null&&s!==void 0?s:void 0,y=woe(e.getState(),c,h);e.dispatch(T4({activeDataKey:h,activeIndex:c,activeCoordinate:y}))}}});var Aoe=KL({brush:rie,cartesianAxis:Vie,chartData:Hee,errorBars:ire,graphicalItems:qne,layout:bj,legend:yY,options:Uee,polarAxis:cne,polarOptions:Eoe,referenceElements:cie,rootProps:_oe,tooltip:MZ}),boe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return JK({reducer:Aoe,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([y3.middleware,v3.middleware,GA.middleware,w3.middleware,b3.middleware]),devTools:{serialize:{replacer:voe},name:"recharts-".concat(n)}})};function Coe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=_i(),o=P.useRef(null);if(i)return n;o.current==null&&(o.current=boe(e,r));var s=Iw;return P.createElement(goe,{context:s,store:o.current},n)}function xoe(t){var{layout:e,width:n,height:r,margin:i}=t,o=Sn(),s=_i();return P.useEffect(()=>{s||(o(Sj(e)),o(wj({width:n,height:r})),o(Ej(i)))},[o,s,e,n,r,i]),null}function Ioe(t){var e=Sn();return P.useEffect(()=>{e(Toe(t))},[e,t]),null}var Roe=["children"];function Poe(t,e){if(t==null)return{};var n,r,i=Moe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Moe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yg(){return yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yg.apply(null,arguments)}var Noe={width:"100%",height:"100%"},Doe=P.forwardRef((t,e)=>{var n=dY(),r=hY(),i=TV();if(!Ym(n)||!Ym(r))return null;var{children:o,otherAttributes:s,title:u,desc:f}=t,c,h;return typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?h=s.role:h=i?"application":void 0,P.createElement(gL,yg({},s,{title:u,desc:f,role:h,tabIndex:c,width:n,height:r,style:Noe,ref:e}),o)}),Ooe=t=>{var{children:e}=t,n=ke(iy);if(!n)return null;var{width:r,height:i,y:o,x:s}=n;return P.createElement(gL,{width:r,height:i,x:s,y:o},e)},$N=P.forwardRef((t,e)=>{var{children:n}=t,r=Poe(t,Roe),i=_i();return i?P.createElement(Ooe,null,n):P.createElement(Doe,yg({ref:e},r),n)});function koe(){var t=Sn(),[e,n]=P.useState(null),r=ke(tY);return P.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;Pr(o)&&o!==r&&t(Aj(o))}},[e,t,r]),n}function HN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Loe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HN(Object(n),!0).forEach(function(r){Voe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Voe(t,e,n){return(e=Uoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uoe(t){var e=Boe(t,"string");return typeof e=="symbol"?e:e+""}function Boe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qoe=P.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:s,onDoubleClick:u,onMouseDown:f,onMouseEnter:c,onMouseLeave:h,onMouseMove:y,onMouseUp:_,onTouchEnd:S,onTouchMove:w,onTouchStart:A,style:C,width:I}=t,N=Sn(),[M,U]=P.useState(null),[B,G]=P.useState(null);Kee();var O=koe(),k=P.useCallback(ae=>{O(ae),typeof e=="function"&&e(ae),U(ae),G(ae)},[O,e,U,G]),D=P.useCallback(ae=>{N(g3(ae)),N(Kr({handler:o,reactEvent:ae}))},[N,o]),$=P.useCallback(ae=>{N(JE(ae)),N(Kr({handler:c,reactEvent:ae}))},[N,c]),q=P.useCallback(ae=>{N(E4()),N(Kr({handler:h,reactEvent:ae}))},[N,h]),z=P.useCallback(ae=>{N(JE(ae)),N(Kr({handler:y,reactEvent:ae}))},[N,y]),H=P.useCallback(()=>{N(S3())},[N]),Me=P.useCallback(ae=>{N(E3(ae.key))},[N]),be=P.useCallback(ae=>{N(Kr({handler:s,reactEvent:ae}))},[N,s]),ne=P.useCallback(ae=>{N(Kr({handler:u,reactEvent:ae}))},[N,u]),pe=P.useCallback(ae=>{N(Kr({handler:f,reactEvent:ae}))},[N,f]),_e=P.useCallback(ae=>{N(Kr({handler:_,reactEvent:ae}))},[N,_]),Le=P.useCallback(ae=>{N(Kr({handler:A,reactEvent:ae}))},[N,A]),j=P.useCallback(ae=>{N(A3(ae)),N(Kr({handler:w,reactEvent:ae}))},[N,w]),ce=P.useCallback(ae=>{N(Kr({handler:S,reactEvent:ae}))},[N,S]);return P.createElement(B4.Provider,{value:M},P.createElement(K8.Provider,{value:B},P.createElement("div",{className:xt("recharts-wrapper",r),style:Loe({position:"relative",cursor:"default",width:I,height:i},C),onClick:D,onContextMenu:be,onDoubleClick:ne,onFocus:H,onKeyDown:Me,onMouseDown:pe,onMouseEnter:$,onMouseLeave:q,onMouseMove:z,onMouseUp:_e,onTouchEnd:ce,onTouchMove:j,onTouchStart:Le,ref:k},n)))}),Foe=["children","className","width","height","style","compact","title","desc"];function $oe(t,e){if(t==null)return{};var n,r,i=Hoe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zoe=P.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:o,style:s,compact:u,title:f,desc:c}=t,h=$oe(t,Foe),y=Kg(h);return u?P.createElement($N,{otherAttributes:y,title:f,desc:c},n):P.createElement(qoe,{className:r,style:s,width:i,height:o,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},P.createElement($N,{otherAttributes:y,title:f,desc:c,ref:e},P.createElement(die,null,n)))}),Goe=["width","height"];function QE(){return QE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QE.apply(null,arguments)}function Koe(t,e){if(t==null)return{};var n,r,i=joe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function joe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Yoe={top:5,right:5,bottom:5,left:5},Woe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Yoe,reverseStackOrder:!1,syncMethod:"index"},Joe=P.forwardRef(function(e,n){var r,i=_l(e.categoricalChartProps,Woe),{width:o,height:s}=i,u=Koe(i,Goe);if(!Ym(o)||!Ym(s))return null;var{chartName:f,defaultTooltipEventType:c,validateTooltipEventTypes:h,tooltipPayloadSearcher:y,categoricalChartProps:_}=e,S={chartName:f,defaultTooltipEventType:c,validateTooltipEventTypes:h,tooltipPayloadSearcher:y,eventEmitter:void 0};return P.createElement(Coe,{preloadedState:{options:S},reduxStoreName:(r=_.id)!==null&&r!==void 0?r:f},P.createElement(nie,{chartData:_.data}),P.createElement(xoe,{width:o,height:s,layout:i.layout,margin:i.margin}),P.createElement(Ioe,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),P.createElement(zoe,QE({},u,{width:o,height:s,ref:n})))}),Qoe=["axis","item"],Xoe=P.forwardRef((t,e)=>P.createElement(Joe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Qoe,tooltipPayloadSearcher:Lee,categoricalChartProps:t,ref:e}));const Zoe=()=>F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:F.jsx("path",{d:"M2 11h3v7H2v-7zM6 3h3v15H6V3zm5 8h3v7h-3v-7zm4-4h3v11h-3V7z"})}),eae=()=>F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:F.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),tae=()=>F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:F.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),nae=()=>F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),rae=({data:t})=>!t||t.length===0?F.jsx("p",{className:"text-stone-400 text-center py-8",children:"Нет данных для отображения."}):F.jsx(cte,{width:"100%",height:300,children:F.jsxs(Xoe,{data:t,margin:{top:5,right:20,left:-10,bottom:5},children:[F.jsx(FA,{dataKey:"label",stroke:"#a8a29e",fontSize:12,tickLine:!1,axisLine:!1}),F.jsx($A,{stroke:"#a8a29e",fontSize:12,tickLine:!1,axisLine:!1,allowDecimals:!1}),F.jsx(ete,{contentStyle:{backgroundColor:"#292524",border:"1px solid #57534e",borderRadius:"0.375rem"},labelStyle:{color:"#f59e0b"},itemStyle:{color:"#d6d3d1"},formatter:e=>[e,"Просмотры"]}),F.jsx(s3,{dataKey:"value",fill:"#f59e0b",radius:[4,4,0,0]})]})}),iae=({codeword:t,onUpdate:e,onDelete:n})=>{const[r,i]=P.useState(t.usedMessage),[o,s]=P.useState(t.introText||"ВАШЕ КОДОВОЕ СЛОВО:"),[u,f]=P.useState(t.note||""),[c,h]=P.useState(!1),[y,_]=P.useState([]),[S,w]=P.useState(!1),[A,C]=P.useState(""),[I,N]=P.useState("day"),M=`${window.location.origin}${window.location.pathname}#/view?c=${t.id}`,U=`https://api.qrserver.com/v1/create-qr-code/?size=256x256&data=${encodeURIComponent(M)}`,B=async()=>{w(!0),C(""),_([]);try{const O=cm(Gs(rr,"codewords",t.id,"viewEvents"),aE("viewedAt","asc")),D=(await oL(O)).docs.map(z=>z.data().viewedAt.toDate());if(D.length===0){w(!1);return}const $={};D.forEach(z=>{let H="";I==="day"?H=z.toLocaleDateString("ru-RU",{year:"2-digit",month:"2-digit",day:"2-digit"}):H=z.toLocaleDateString("ru-RU",{year:"2-digit",month:"2-digit",day:"2-digit"})+` ${z.getHours()}:00`,$[H]=($[H]||0)+1});const q=Object.keys($).map(z=>({label:z,value:$[z]}));_(q)}catch(O){console.error("Error fetching stats:",O),C("Не удалось загрузить статистику.")}finally{w(!1)}};P.useEffect(()=>{c&&B()},[c,I]);const G=async()=>{try{const O=await fetch(U);if(!O.ok)throw new Error("QR code fetch failed");const k=await O.blob(),D=window.URL.createObjectURL(k),$=document.createElement("a");$.href=D;const q=t.word.replace(/[^a-z0-9а-яё]/gi,"_").toLowerCase();$.setAttribute("download",`qr_${q}.png`),document.body.appendChild($),$.click(),$.parentNode&&$.parentNode.removeChild($),window.URL.revokeObjectURL(D)}catch(O){console.error("Failed to download QR code",O),alert("Не удалось скачать QR-код.")}};return F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:"bg-stone-800/70 border border-stone-700 p-4 rounded-md grid grid-cols-1 md:grid-cols-3 gap-4 items-start",children:[F.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[F.jsx("img",{src:U,alt:"QR Code",className:"w-36 h-36 border-2 border-stone-600 rounded-md"}),F.jsxs("button",{onClick:G,className:"flex items-center justify-center gap-2 w-full bg-stone-600 hover:bg-stone-500 text-stone-200 px-3 py-2 rounded-md text-sm transition-colors",children:[F.jsx(nae,{}),"Скачать QR"]}),F.jsx("a",{href:M,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-amber-400 hover:text-amber-300 break-all text-center pt-1",children:M})]}),F.jsxs("div",{className:"md:col-span-2 space-y-3",children:[F.jsxs("div",{children:[F.jsx("label",{htmlFor:`introText_${t.id}`,className:"text-sm font-bold text-stone-400 block",children:"Вступительный текст:"}),F.jsx("input",{id:`introText_${t.id}`,type:"text",value:o,onChange:O=>s(O.target.value),onBlur:()=>e(t.id,{introText:o}),className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-3 py-1 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"})]}),F.jsxs("div",{children:[F.jsx("label",{className:"text-sm font-bold text-stone-400 block",children:"Кодовое слово:"}),F.jsx("p",{className:"text-lg bg-stone-900 p-2 rounded-md font-bold text-stone-100 break-words",children:t.word})]}),F.jsxs("div",{children:[F.jsx("label",{htmlFor:`usedMsg_${t.id}`,className:"text-sm font-bold text-stone-400 block",children:"Сообщение (если использовано):"}),F.jsx("input",{id:`usedMsg_${t.id}`,type:"text",value:r,onChange:O=>i(O.target.value),onBlur:()=>e(t.id,{usedMessage:r}),className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-3 py-1 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"})]}),F.jsxs("div",{children:[F.jsx("label",{htmlFor:`note_${t.id}`,className:"text-sm font-bold text-stone-400 block",children:"Заметка (видна только вам):"}),F.jsx("textarea",{id:`note_${t.id}`,value:u,onChange:O=>f(O.target.value),onBlur:()=>e(t.id,{note:u}),className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-3 py-1 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all h-20 resize-y",placeholder:"Любые пометки по этому коду..."})]}),F.jsxs("div",{className:"flex items-center justify-between pt-2",children:[F.jsxs("label",{htmlFor:`toggle_${t.id}`,className:"flex items-center cursor-pointer",children:[F.jsxs("div",{className:"relative",children:[F.jsx("input",{type:"checkbox",id:`toggle_${t.id}`,className:"sr-only",checked:t.isUsed,onChange:()=>e(t.id,{isUsed:!t.isUsed})}),F.jsx("div",{className:`block ${t.isUsed?"bg-amber-500":"bg-stone-600"} w-14 h-8 rounded-full transition-colors`}),F.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-transform ${t.isUsed?"transform translate-x-6":""}`})]}),F.jsx("div",{className:"ml-3 text-stone-300 font-semibold",children:t.isUsed?"ИСПОЛЬЗОВАНО":"АКТИВНО"})]}),F.jsxs("div",{className:"flex items-center gap-2 text-stone-400",children:[F.jsxs("div",{className:"flex items-center gap-1",title:"Просмотры",children:[F.jsx(eae,{}),F.jsx("span",{children:t.views||0})]}),F.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-1 bg-sky-800 hover:bg-sky-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[F.jsx(Zoe,{}),"Статистика"]}),F.jsxs("button",{onClick:()=>n(t.id),className:"flex items-center gap-1 bg-red-800 hover:bg-red-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[F.jsx(tae,{}),"Удалить"]})]})]})]})]}),c&&F.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",onClick:()=>h(!1),role:"dialog","aria-modal":"true","aria-labelledby":"stats-modal-title",children:F.jsxs("div",{className:"bg-stone-800 border border-stone-700 rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col",onClick:O=>O.stopPropagation(),children:[F.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-stone-700",children:[F.jsx("h3",{id:"stats-modal-title",className:"font-display text-2xl text-amber-400",children:"Статистика просмотров"}),F.jsx("button",{onClick:()=>h(!1),className:"text-stone-400 hover:text-white text-3xl leading-none","aria-label":"Close",children:"×"})]}),F.jsxs("div",{className:"p-4 flex-grow overflow-y-auto",children:[F.jsxs("div",{className:"flex gap-2 mb-4",children:[F.jsx("button",{onClick:()=>N("day"),className:`px-4 py-2 rounded-md font-semibold ${I==="day"?"bg-amber-500 text-stone-900":"bg-stone-700 text-stone-300 hover:bg-stone-600"}`,children:"По дням"}),F.jsx("button",{onClick:()=>N("hour"),className:`px-4 py-2 rounded-md font-semibold ${I==="hour"?"bg-amber-500 text-stone-900":"bg-stone-700 text-stone-300 hover:bg-stone-600"}`,children:"По часам"})]}),S&&F.jsx("p",{className:"animate-pulse text-center py-8 font-display text-xl text-stone-400",children:"ЗАГРУЗКА СТАТИСТИКИ..."}),A&&F.jsx("p",{className:"text-red-500 text-center py-8",children:A}),!S&&!A&&F.jsx(rae,{data:y})]})]})})]})},oae=()=>F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:F.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),aae=()=>F.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[F.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),F.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),sae=()=>F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:F.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),lae=({game:t,onDelete:e})=>{var o;const n=(o=t.createdAt)==null?void 0:o.toDate().toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}),r=()=>{window.location.hash=`#/admin/quest/${t.id}`},i=()=>{window.location.hash=`#/play/${t.id}`};return F.jsxs("div",{className:"bg-stone-800/70 border border-stone-700 p-4 rounded-md flex justify-between items-center",children:[F.jsxs("div",{children:[F.jsx("h4",{className:"text-xl font-bold text-stone-100",children:t.title}),F.jsxs("div",{className:"text-sm text-stone-400 mt-1",children:[F.jsx("span",{className:`inline-block px-2 py-0.5 rounded-md mr-2 text-xs font-semibold ${t.status==="published"?"bg-green-900/50 text-green-300":"bg-sky-900/50 text-sky-300"}`,children:t.status==="published"?"Опубликован":"Черновик"}),F.jsxs("span",{children:["Создан: ",n||"N/A"]})]})]}),F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsxs("button",{onClick:i,className:"flex items-center gap-1 bg-green-800 hover:bg-green-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[F.jsx(oae,{})," Играть"]}),F.jsxs("button",{onClick:r,className:"flex items-center gap-1 bg-blue-800 hover:bg-blue-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[F.jsx(aae,{})," Редактировать"]}),F.jsxs("button",{onClick:()=>e(t.id),className:"flex items-center gap-1 bg-red-800 hover:bg-red-700 text-stone-100 px-3 py-2 rounded-md text-sm transition-colors",children:[F.jsx(sae,{})," Удалить"]})]})]})},uae=()=>F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H5v-2H3v-2H1v-4a6 6 0 017.743-5.743z"})}),cae=()=>F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),fae=()=>F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:F.jsx("path",{d:"M17 3H5a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2zm-3 12H8v-4h6v4zm2-6H5V5h12v4z"})}),dae=()=>{const[t,e]=P.useState("codewords"),[n,r]=P.useState([]),[i,o]=P.useState(""),[s,u]=P.useState("Этот код уже был использован."),[f,c]=P.useState("ВАШЕ КОДОВОЕ СЛОВО:"),[h,y]=P.useState([]),[_,S]=P.useState(""),[w,A]=P.useState(""),[C,I]=P.useState({type:"",text:""});P.useEffect(()=>{let D;if(t==="codewords"){const $=cm(Gs(rr,"codewords"),aE("createdAt","desc"));D=lE($,q=>{const z=q.docs.map(H=>({...H.data(),id:H.id}));r(z)},q=>{console.error("Error fetching codewords:",q),alert("Не удалось загрузить кодовые слова.")})}else if(t==="quests"){const $=cm(Gs(rr,"games"),aE("createdAt","desc"));D=lE($,q=>{const z=q.docs.map(H=>({...H.data(),id:H.id}));y(z)},q=>{console.error("Error fetching games:",q),alert("Не удалось загрузить квесты.")})}return()=>D&&D()},[t]);const N=async D=>{if(D.preventDefault(),i.trim()!=="")try{await sE(Gs(rr,"codewords"),{word:i.trim(),isUsed:!1,usedMessage:s.trim()||"Этот код уже был использован.",introText:f.trim()||"ВАШЕ КОДОВОЕ СЛОВО:",note:"",createdAt:nd(),views:0}),o(""),c("ВАШЕ КОДОВОЕ СЛОВО:"),u("Этот код уже был использован.")}catch($){console.error("Error adding codeword: ",$),alert("Ошибка при добавлении кода.")}},M=async(D,$)=>{try{await pw(Ka(rr,"codewords",D),$)}catch(q){console.error("Error updating codeword: ",q),alert("Ошибка при обновлении кода.")}},U=async D=>{if(window.confirm("Вы уверены, что хотите удалить этот код? Это действие необратимо."))try{const $=cm(Gs(rr,"codewords",D,"viewEvents")),q=await oL($),z=w8(rr);q.docs.forEach(H=>z.delete(H.ref)),await z.commit(),await ZI(Ka(rr,"codewords",D))}catch($){console.error("Error deleting codeword:",$),alert("Ошибка при удалении кода.")}},B=async D=>{if(D.preventDefault(),_.trim()!=="")try{const $=`quest_${Date.now()}`;await sE(Gs(rr,"games"),{title:_.trim(),status:"draft",createdAt:nd(),updatedAt:nd(),dsl:{format:"bk-quest@1",meta:{id:$,title:_.trim(),version:1,defaultLocale:"ru"},assets:{images:{},audio:{}},state:{vars:{},inventory:[]},nodes:{start:{text:"This is the beginning."}}}}),S("")}catch($){console.error("Error adding quest: ",$),alert("Ошибка при создании квеста.")}},G=async D=>{if(window.confirm("Вы уверены, что хотите удалить этот квест? Все его данные будут стерты навсегда."))try{await ZI(Ka(rr,"games",D))}catch($){console.error("Error deleting quest:",$),alert("Ошибка при удалении квеста.")}},O=async D=>{if(D.preventDefault(),I({type:"",text:""}),window.confirm("Вы уверены, что хотите изменить пароль?"))try{if(!rd.currentUser)throw new Error("Пользователь не авторизован.");if(!w||w.length<6)throw new Error("Пароль должен содержать не менее 6 символов.");await X9(rd.currentUser,w),I({type:"success",text:"Пароль успешно изменен!"}),A("")}catch($){I({type:"error",text:`Ошибка: ${$.message}`})}},k=({tabName:D,label:$,children:q})=>F.jsxs("button",{onClick:()=>e(D),className:`flex items-center justify-center w-full px-4 py-3 font-display text-xl rounded-t-md transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-500
            ${t===D?"bg-stone-800/50 text-amber-400 border-b-2 border-amber-400":"bg-stone-900/50 text-stone-400 hover:bg-stone-800/50"}`,children:[q,$]});return F.jsxs("div",{className:"container mx-auto py-8 px-4",children:[F.jsxs("div",{className:"flex justify-between items-center mb-6",children:[F.jsx("h2",{className:"font-display text-4xl text-stone-200",children:"Панель управления"}),F.jsx("button",{onClick:()=>r$(rd),className:"bg-stone-700 hover:bg-stone-600 text-stone-200 font-semibold py-2 px-4 rounded-md transition-colors",children:"Выйти"})]}),F.jsxs("div",{className:"bg-stone-800/50 border border-stone-700 p-6 rounded-md mb-8",children:[F.jsx("h3",{className:"font-display text-2xl text-amber-400 mb-4",children:"Изменить пароль"}),F.jsxs("form",{onSubmit:O,className:"space-y-4",children:[F.jsx("input",{type:"password",value:w,onChange:D=>A(D.target.value),placeholder:"Новый пароль (минимум 6 символов)",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),F.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center font-display text-xl bg-amber-500 text-stone-900 py-2 rounded-md hover:bg-amber-400 transition-colors",children:[F.jsx(fae,{})," Сохранить пароль"]}),C.text&&F.jsx("p",{className:C.type==="success"?"text-green-400":"text-red-500",children:C.text})]})]}),F.jsxs("div",{className:"flex mb-[-1px]",children:[F.jsx(k,{tabName:"codewords",label:"Кодовые слова",children:F.jsx(uae,{})}),F.jsx(k,{tabName:"quests",label:"Квесты",children:F.jsx(cae,{})})]}),F.jsxs("div",{className:"bg-stone-800/50 border border-stone-700 p-6 rounded-b-md rounded-tr-md",children:[t==="codewords"&&F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:"mb-8",children:[F.jsx("h3",{className:"font-display text-2xl text-amber-400 mb-4",children:"Добавить новый код"}),F.jsxs("form",{onSubmit:N,className:"space-y-4",children:[F.jsx("input",{type:"text",value:f,onChange:D=>c(D.target.value),placeholder:"Вступительный текст (обращение)",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),F.jsx("input",{type:"text",value:i,onChange:D=>o(D.target.value),placeholder:"Новое кодовое слово",required:!0,className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),F.jsx("input",{type:"text",value:s,onChange:D=>u(D.target.value),placeholder:"Сообщение если код использован",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),F.jsx("button",{type:"submit",className:"w-full font-display text-xl bg-amber-500 text-stone-900 py-2 rounded-md hover:bg-amber-400 transition-colors",children:"Создать QR-код"})]})]}),F.jsx("div",{className:"space-y-4",children:n.map(D=>F.jsx(iae,{codeword:D,onUpdate:M,onDelete:U},D.id))})]}),t==="quests"&&F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:"mb-8",children:[F.jsx("h3",{className:"font-display text-2xl text-amber-400 mb-4",children:"Создать новый квест"}),F.jsxs("form",{onSubmit:B,className:"flex gap-4",children:[F.jsx("input",{type:"text",value:_,onChange:D=>S(D.target.value),placeholder:"Название квеста",required:!0,className:"flex-grow bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),F.jsx("button",{type:"submit",className:"font-display text-xl bg-amber-500 text-stone-900 py-2 px-6 rounded-md hover:bg-amber-400 transition-colors",children:"Создать"})]})]}),F.jsx("div",{className:"space-y-4",children:h.length>0?h.map(D=>F.jsx(lae,{game:D,onDelete:G},D.id)):F.jsx("p",{className:"text-stone-400 text-center py-4",children:"Квесты еще не созданы."})})]})]})]})},hae=()=>F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),pae=()=>F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),zN=({codeId:t})=>{const[e,n]=P.useState(null),[r,i]=P.useState("loading"),[o,s]=P.useState(!1),u=Wi();P.useEffect(()=>{const c=new URLSearchParams(u.search||u.hash.split("?")[1]),h=t||c.get("c");if(h){const y=Ka(rr,"codewords",h);(async()=>{try{const S=await iL(y);if(S.exists()){const w={id:S.id,...S.data()};n(w),i("found");const A=`viewed-${h}`;sessionStorage.getItem(A)||(await pw(y,{views:S8(1)}),await sE(Gs(y,"viewEvents"),{viewedAt:nd()}),sessionStorage.setItem(A,"true"))}else i("not-found")}catch(S){console.error("Failed to fetch codeword from Firestore:",S),i("error")}})()}else i("not-found")},[u,t]);const f=()=>{e&&!e.isUsed&&(navigator.clipboard.writeText(e.word),s(!0),setTimeout(()=>s(!1),2e3))};return r==="loading"?F.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:F.jsx("p",{className:"font-display text-2xl text-stone-400 animate-pulse",children:"ПОИСК КОДА..."})}):r==="not-found"||r==="error"?F.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center p-4",children:[F.jsx("h2",{className:"font-display text-6xl text-red-500",children:"404"}),F.jsx("p",{className:"text-stone-300 text-xl mt-2",children:"Код не найден."}),F.jsx("p",{className:"text-stone-500",children:"Возможно, ссылка неверна или код был удален."})]}):e!=null&&e.isUsed?F.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center p-4",children:[F.jsx("h2",{className:"font-display text-5xl text-amber-500",children:"КОД ИСПОЛЬЗОВАН"}),F.jsx("p",{className:"text-stone-300 text-xl mt-4 max-w-lg",children:e.usedMessage})]}):F.jsx("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center p-4",children:F.jsxs("div",{className:"w-full max-w-2xl bg-stone-800/50 border-2 border-stone-700 p-8 rounded-lg shadow-2xl shadow-black/50",children:[F.jsx("p",{className:"text-stone-400 font-display text-2xl tracking-wide",children:(e==null?void 0:e.introText)||"ВАШЕ КОДОВОЕ СЛОВО:"}),F.jsx("p",{className:"text-amber-400 font-bold text-3xl md:text-5xl my-4 break-words select-all tracking-widest",children:e==null?void 0:e.word}),F.jsxs("button",{onClick:f,className:"w-full flex items-center justify-center gap-3 mt-6 bg-stone-700 hover:bg-amber-500 hover:text-stone-900 text-stone-200 font-display text-2xl py-3 rounded-md transition-all duration-300",children:[o?F.jsx(pae,{}):F.jsx(hae,{}),o?"СКОПИРОВАНО!":"СКОПИРОВАТЬ КОД"]})]})})},mae=()=>F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:F.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 110 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),GN=()=>{var M;const{questId:t}=w2(),[e,n]=P.useState(null),[r,i]=P.useState(null),[o,s]=P.useState("start"),[u,f]=P.useState(!0),[c,h]=P.useState(""),y=U=>U?typeof U=="string"?U:U[(e==null?void 0:e.dsl.meta.defaultLocale)||"ru"]||Object.values(U)[0]||"":"",_=P.useCallback((U,B)=>{if(U.all)return U.all.every(k=>_(k,B));if(U.any)return U.any.some(k=>_(k,B));if(U.not)return!_(U.not,B);const{vars:G,inventory:O}=B;return U.hp_eq!==void 0?G.hp===U.hp_eq:U.hp_gt!==void 0?G.hp>U.hp_gt:U.hp_gte!==void 0?G.hp>=U.hp_gte:U.hp_lt!==void 0?G.hp<U.hp_lt:U.hp_lte!==void 0?G.hp<=U.hp_lte:U.has_item?O.includes(U.has_item):U.missing_item?!O.includes(U.missing_item):U.var_eq?Object.entries(U.var_eq).every(([k,D])=>G[k]===D):U.var_neq?Object.entries(U.var_neq).every(([k,D])=>G[k]!==D):!0},[]),S=P.useCallback((U,B)=>{if(!U)return B;const G=JSON.parse(JSON.stringify(B));return U.forEach(O=>{O.add&&Object.entries(O.add).forEach(([k,D])=>{G.vars[k]=(G.vars[k]||0)+D}),O.set&&Object.entries(O.set).forEach(([k,D])=>{G.vars[k]=D}),O.inv_add&&!G.inventory.includes(O.inv_add)&&G.inventory.push(O.inv_add),O.inv_remove&&(G.inventory=G.inventory.filter(k=>k!==O.inv_remove))}),G},[]);P.useEffect(()=>{if(!t){h("Квест не найден."),f(!1);return}f(!0),h("");const U=Ka(rr,"games",t);iL(U).then(B=>{if(B.exists()){const G={id:B.id,...B.data()};n(G);const O=localStorage.getItem(`quest-save-${t}`);if(O){const{playerState:k,currentNodeId:D}=JSON.parse(O);i(k),s(D)}else i(G.dsl.state),s("start")}else h("Квест не найден.");f(!1)}).catch(B=>{console.error("Error fetching quest:",B),h("Ошибка при загрузке квеста."),f(!1)})},[t]),P.useEffect(()=>{if(e&&r){const U={questId:t,playerState:r,currentNodeId:o};localStorage.setItem(`quest-save-${t}`,JSON.stringify(U))}},[r,o,t,e]);const w=e==null?void 0:e.dsl.nodes[o];P.useEffect(()=>{if(!w||!r)return;const U=S(w.effects,r);if(JSON.stringify(U)!==JSON.stringify(r)){i(U);return}if(w.branch){for(const B of w.branch)if(_(B.when,r)){s(B.to);return}}w.fallback&&s(w.fallback)},[o,e,r,S,_]);const A=U=>{if(!r)return;const B=S(U.effects,r);i(B),s(U.to)},C=P.useCallback(()=>{!t||!e||window.confirm("Вы уверены, что хотите начать квест заново? Весь прогресс будет потерян.")&&(localStorage.removeItem(`quest-save-${t}`),i(e.dsl.state),s("start"))},[t,e]);if(u)return F.jsx("div",{className:"text-center p-8 font-display text-4xl text-stone-400 animate-pulse",children:"ЗАГРУЗКА КВЕСТА..."});if(c)return F.jsx("div",{className:"text-center p-8 text-2xl text-red-500",children:c});if(!e||!r||!w)return F.jsx("div",{className:"text-center p-8 text-2xl text-stone-400",children:"Инициализация..."});const I=w.bg&&e.dsl.assets.images[w.bg]?e.dsl.assets.images[w.bg]:void 0,N=((M=w.choices)==null?void 0:M.filter(U=>U.when?_(U.when,r):!0))||[];return F.jsx("div",{className:"min-h-screen w-full flex items-center justify-center p-4 md:p-8",children:F.jsx("div",{className:"w-full max-w-4xl bg-cover bg-center rounded-lg shadow-2xl shadow-black/50 overflow-hidden border-2 border-stone-800",style:{backgroundImage:I?`url(${I})`:"none",backgroundColor:"#1c1917",minHeight:"70vh"},children:F.jsxs("div",{className:"bg-stone-900/80 backdrop-blur-sm p-6 md:p-8 flex flex-col h-full text-stone-200",children:[F.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6 border-b border-stone-700 pb-4 text-sm",children:[F.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1",children:[Object.keys(r.vars).length>0&&Object.keys(r.vars).map(U=>F.jsxs("span",{className:"font-bold text-amber-400",children:[U.toUpperCase(),": ",F.jsx("span",{className:"font-normal text-stone-200",children:r.vars[U]??0})]},U)),r.inventory.length>0&&F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx("span",{className:"font-bold text-amber-400",children:"ИНВЕНТАРЬ:"}),F.jsx("span",{className:"text-stone-200",children:r.inventory.join(", ")})]})]}),F.jsxs("button",{onClick:C,className:"flex items-center justify-center font-display text-lg bg-stone-700 text-stone-200 py-2 px-4 rounded-md hover:bg-stone-600 transition-colors flex-shrink-0",children:[F.jsx(mae,{}),"ЗАНОВО"]})]}),F.jsxs("div",{className:"flex-grow",children:[F.jsx("h2",{className:"font-display text-3xl md:text-4xl text-amber-400 mb-4",children:y(w.title)}),F.jsx("p",{className:"text-stone-300 whitespace-pre-wrap leading-relaxed mb-6",children:y(w.text)}),w.end&&F.jsxs("div",{className:"text-center py-4 border-t border-stone-700 mt-6",children:[F.jsx("h3",{className:`font-display text-4xl ${w.end.type==="win"?"text-lime-400":"text-red-500"}`,children:w.end.type==="win"?"Победа!":"Конец игры"}),F.jsx("p",{className:"mt-4 text-stone-300",children:y(w.end.message)})]}),!w.end&&F.jsx("div",{className:"flex flex-col space-y-3",children:N.map((U,B)=>F.jsx("button",{onClick:()=>A(U),className:"text-left w-full p-4 bg-stone-800/70 border border-stone-600 rounded-md hover:bg-amber-500 hover:border-amber-400 hover:text-stone-900 transition-all text-stone-200 font-semibold",children:y(U.label)},B))})]})]})})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let gae,yae;function vae(){return{geminiUrl:gae,vertexUrl:yae}}function _ae(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=vae();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wl{}function we(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function m(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const f=t[u];if(Array.isArray(n))for(let c=0;c<f.length;c++){const h=f[c];m(h,e.slice(o+1),n[c])}else for(const c of f)m(c,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const f=t[u];m(f[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function p(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const o=t[i];return Array.isArray(o)?o.map(s=>p(s,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XE(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var KN;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(KN||(KN={}));var jN;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(jN||(jN={}));var Ba;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ba||(Ba={}));var YN;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(YN||(YN={}));var WN;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(WN||(WN={}));var JN;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(JN||(JN={}));var QN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(QN||(QN={}));var XN;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(XN||(XN={}));var ZN;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ZN||(ZN={}));var eD;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(eD||(eD={}));var tD;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(tD||(tD={}));var nD;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(nD||(nD={}));var rD;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(rD||(rD={}));var iD;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(iD||(iD={}));var oD;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(oD||(oD={}));var vg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(vg||(vg={}));var aD;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(aD||(aD={}));var ZE;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ZE||(ZE={}));var sD;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(sD||(sD={}));var lD;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(lD||(lD={}));var uD;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(uD||(uD={}));var cD;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(cD||(cD={}));var fD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(fD||(fD={}));var dD;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(dD||(dD={}));var hD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(hD||(hD={}));var pD;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(pD||(pD={}));var mD;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(mD||(mD={}));var gD;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(gD||(gD={}));var yD;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(yD||(yD={}));var vD;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(vD||(vD={}));var _D;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(_D||(_D={}));var TD;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(TD||(TD={}));var ED;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(ED||(ED={}));var SD;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(SD||(SD={}));var wD;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(wD||(wD={}));var AD;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(AD||(AD={}));var bD;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(bD||(bD={}));var CD;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(CD||(CD={}));var xD;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(xD||(xD={}));var ID;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ID||(ID={}));var RD;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(RD||(RD={}));var PD;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(PD||(PD={}));var MD;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(MD||(MD={}));var ND;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ND||(ND={}));var DD;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(DD||(DD={}));var Au;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Au||(Au={}));class eS{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ff{get text(){var e,n,r,i,o,s,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",h=!1;const y=[];for(const _ of(f=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[S,w]of Object.entries(_))S!=="text"&&S!=="thought"&&(w!==null||w!==void 0)&&y.push(S);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;h=!0,c+=_.text}}return y.length>0&&console.warn(`there are non-text parts ${y} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?c:void 0}get data(){var e,n,r,i,o,s,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const h=[];for(const y of(f=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[_,S]of Object.entries(y))_!=="inlineData"&&(S!==null||S!==void 0)&&h.push(_);y.inlineData&&typeof y.inlineData.data=="string"&&(c+=atob(y.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,i,o,s,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(f=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,i,o,s,u,f,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(f=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(y=>y.executableCode).map(y=>y.executableCode).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return(c=h==null?void 0:h[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,i,o,s,u,f,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(f=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(y=>y.codeExecutionResult).map(y=>y.codeExecutionResult).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return(c=h==null?void 0:h[0])===null||c===void 0?void 0:c.output}}class OD{}class kD{}class Tae{}class Eae{}class Sae{}class wae{}class LD{}class VD{}class UD{}class Aae{}class BD{}class _g{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new _g;if(r.name=e.name,r.metadata=e.metadata,r.done=e.done,r.error=e.error,n){const i=e.response;if(i){const o=new BD,s=i.videos;o.generatedVideos=s==null?void 0:s.map(u=>({video:{uri:u.gcsUri,videoBytes:u.bytesBase64Encoded?XE(u.bytesBase64Encoded):void 0,mimeType:u.mimeType}})),o.raiMediaFilteredCount=i.raiMediaFilteredCount,o.raiMediaFilteredReasons=i.raiMediaFilteredReasons,r.response=o}}else{const i=e.response;if(i){const o=new BD,s=i.generateVideoResponse,u=s==null?void 0:s.generatedSamples;o.generatedVideos=u==null?void 0:u.map(f=>{const c=f.video;return{video:{uri:c==null?void 0:c.uri,videoBytes:c!=null&&c.encodedVideo?XE(c==null?void 0:c.encodedVideo):void 0,mimeType:f.encoding}}}),o.raiMediaFilteredCount=s==null?void 0:s.raiMediaFilteredCount,o.raiMediaFilteredReasons=s==null?void 0:s.raiMediaFilteredReasons,r.response=o}}return r}}class qD{}class FD{}class $D{}class bae{}class Cae{}class xae{}class HD{}class Iae{get text(){var e,n,r;let i="",o=!1;const s=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,c]of Object.entries(u))f!=="text"&&f!=="thought"&&c!==null&&s.push(f);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,f]of Object.entries(s))u!=="inlineData"&&f!==null&&o.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Rae{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ot(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function C3(t,e){const n=ot(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function x3(t){return Array.isArray(t)?t.map(e=>Tg(e)):[Tg(t)]}function Tg(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function I3(t){const e=Tg(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function R3(t){const e=Tg(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function zD(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function P3(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>zD(e)):[zD(t)]}function tS(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function GD(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function KD(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function zn(t){if(t==null)throw new Error("ContentUnion is required");return tS(t)?t:{role:"user",parts:P3(t)}}function M3(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=zn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=zn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>zn(n)):[zn(e)]}function Jr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(GD(t)||KD(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[zn(t)]}const e=[],n=[],r=tS(t[0]);for(const i of t){const o=tS(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(GD(i)||KD(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:P3(n)}),e}function Pae(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Ba).includes(n[0].toUpperCase())?n[0].toUpperCase():Ba.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Ba).includes(r.toUpperCase())?r.toUpperCase():Ba.TYPE_UNSPECIFIED})}}function Mu(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&Pae(t.type,e);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Ba).includes(u.toUpperCase())?u.toUpperCase():Ba.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Mu(u);else if(r.includes(s)){const f=[];for(const c of u){if(c.type=="null"){e.nullable=!0;continue}f.push(Mu(c))}e[s]=f}else if(i.includes(s)){const f={};for(const[c,h]of Object.entries(u))f[c]=Mu(h);e[s]=f}else{if(s==="additionalProperties")continue;e[s]=u}return e}function KA(t){return Mu(t)}function jA(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function YA(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Tc(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Mu(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Mu(e.response));return t}function Ec(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Mae(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Xo(t,e){if(typeof e!="string")throw new Error("name must be a string");return Mae(t,e,"cachedContents")}function N3(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Al(t){return XE(t)}function Nae(t){return t!=null&&typeof t=="object"&&"name"in t}function Dae(t){return t!=null&&typeof t=="object"&&"video"in t}function Oae(t){return t!=null&&typeof t=="object"&&"uri"in t}function D3(t){var e;let n;if(Nae(t)&&(n=t.name),!(Oae(t)&&(n=t.uri,n===void 0))&&!(Dae(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function O3(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function k3(t){for(const e of["models","tunedModels","publisherModels"])if(kae(t,e))return t[e];return[]}function kae(t,e){return t!==null&&typeof t=="object"&&e in t}function Lae(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Vae(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=Lae(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function L3(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function Uae(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Sc(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function V3(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bae(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function qae(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Fae(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function $ae(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Bae(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],qae(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Fae(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function U3(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>$ae(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Hae(t){const e={},n=p(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const r=p(t,["default"]);r!=null&&m(e,["default"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["enum"]);o!=null&&m(e,["enum"],o);const s=p(t,["example"]);s!=null&&m(e,["example"],s);const u=p(t,["format"]);u!=null&&m(e,["format"],u);const f=p(t,["items"]);f!=null&&m(e,["items"],f);const c=p(t,["maxItems"]);c!=null&&m(e,["maxItems"],c);const h=p(t,["maxLength"]);h!=null&&m(e,["maxLength"],h);const y=p(t,["maxProperties"]);y!=null&&m(e,["maxProperties"],y);const _=p(t,["maximum"]);_!=null&&m(e,["maximum"],_);const S=p(t,["minItems"]);S!=null&&m(e,["minItems"],S);const w=p(t,["minLength"]);w!=null&&m(e,["minLength"],w);const A=p(t,["minProperties"]);A!=null&&m(e,["minProperties"],A);const C=p(t,["minimum"]);C!=null&&m(e,["minimum"],C);const I=p(t,["nullable"]);I!=null&&m(e,["nullable"],I);const N=p(t,["pattern"]);N!=null&&m(e,["pattern"],N);const M=p(t,["properties"]);M!=null&&m(e,["properties"],M);const U=p(t,["propertyOrdering"]);U!=null&&m(e,["propertyOrdering"],U);const B=p(t,["required"]);B!=null&&m(e,["required"],B);const G=p(t,["title"]);G!=null&&m(e,["title"],G);const O=p(t,["type"]);return O!=null&&m(e,["type"],O),e}function zae(t){const e={};if(p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["category"]);n!=null&&m(e,["category"],n);const r=p(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function Gae(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const o=p(t,["parameters"]);o!=null&&m(e,["parameters"],o);const s=p(t,["parametersJsonSchema"]);s!=null&&m(e,["parametersJsonSchema"],s);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const f=p(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function Kae(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function jae(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],Kae(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Yae(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function Wae(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],Yae(n)),e}function Jae(){return{}}function Qae(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function Xae(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>Gae(c))),m(e,["functionDeclarations"],f)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],jae(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],Wae(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],Jae());const s=p(t,["computerUse"]);s!=null&&m(e,["computerUse"],Qae(s));const u=p(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function Zae(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function ese(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function tse(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],ese(n));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function nse(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Zae(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],tse(r)),e}function rse(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function B3(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],rse(n)),e}function ise(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],B3(r)),e}function ose(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ise(i))),m(e,["speakerVoiceConfigs"],r)}return e}function ase(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],B3(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],ose(r));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function sse(t){const e={},n=p(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=p(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function lse(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],U3(zn(i)));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&m(r,["topP"],s);const u=p(e,["topK"]);u!=null&&m(r,["topK"],u);const f=p(e,["candidateCount"]);f!=null&&m(r,["candidateCount"],f);const c=p(e,["maxOutputTokens"]);c!=null&&m(r,["maxOutputTokens"],c);const h=p(e,["stopSequences"]);h!=null&&m(r,["stopSequences"],h);const y=p(e,["responseLogprobs"]);y!=null&&m(r,["responseLogprobs"],y);const _=p(e,["logprobs"]);_!=null&&m(r,["logprobs"],_);const S=p(e,["presencePenalty"]);S!=null&&m(r,["presencePenalty"],S);const w=p(e,["frequencyPenalty"]);w!=null&&m(r,["frequencyPenalty"],w);const A=p(e,["seed"]);A!=null&&m(r,["seed"],A);const C=p(e,["responseMimeType"]);C!=null&&m(r,["responseMimeType"],C);const I=p(e,["responseSchema"]);I!=null&&m(r,["responseSchema"],Hae(KA(I)));const N=p(e,["responseJsonSchema"]);if(N!=null&&m(r,["responseJsonSchema"],N),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=p(e,["safetySettings"]);if(n!==void 0&&M!=null){let q=M;Array.isArray(q)&&(q=q.map(z=>zae(z))),m(n,["safetySettings"],q)}const U=p(e,["tools"]);if(n!==void 0&&U!=null){let q=Ec(U);Array.isArray(q)&&(q=q.map(z=>Xae(Tc(z)))),m(n,["tools"],q)}const B=p(e,["toolConfig"]);if(n!==void 0&&B!=null&&m(n,["toolConfig"],nse(B)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=p(e,["cachedContent"]);n!==void 0&&G!=null&&m(n,["cachedContent"],Xo(t,G));const O=p(e,["responseModalities"]);O!=null&&m(r,["responseModalities"],O);const k=p(e,["mediaResolution"]);k!=null&&m(r,["mediaResolution"],k);const D=p(e,["speechConfig"]);if(D!=null&&m(r,["speechConfig"],ase(jA(D))),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=p(e,["thinkingConfig"]);return $!=null&&m(r,["thinkingConfig"],sse($)),r}function use(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["request","model"],ot(t,r));const i=p(e,["contents"]);if(i!=null){let s=Jr(i);Array.isArray(s)&&(s=s.map(u=>U3(u))),m(n,["request","contents"],s)}const o=p(e,["config"]);return o!=null&&m(n,["request","generationConfig"],lse(t,o,n)),n}function cse(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&m(n,["fileName"],r);const i=p(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>use(t,s))),m(n,["requests","requests"],o)}return n}function fse(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&m(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function jD(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["src"]);i!=null&&m(n,["batch","inputConfig"],cse(t,L3(t,i)));const o=p(e,["config"]);return o!=null&&m(n,["config"],fse(o,n)),n}function dse(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Sc(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function hse(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Sc(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function pse(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function mse(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],pse(n,e)),e}function gse(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Sc(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function yse(t){const e={},n=p(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&m(e,["gcsSource","uris"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function vse(t){const e={},n=p(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&m(e,["gcsDestination","outputUriPrefix"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function _se(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["dest"]);return e!==void 0&&i!=null&&m(e,["outputConfig"],vse(Uae(i))),n}function Tse(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],ot(t,r));const i=p(e,["src"]);i!=null&&m(n,["inputConfig"],yse(L3(t,i)));const o=p(e,["config"]);return o!=null&&m(n,["config"],_se(o,n)),n}function Ese(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Sc(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function Sse(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Sc(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function wse(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function Ase(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],wse(n,e)),e}function bse(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Sc(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function Cse(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function xse(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Ise(t){const e={},n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Rse(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Cse(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],xse(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Ise(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function Pse(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Rse(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Mse(t){const e={},n=p(t,["citationSources"]);return n!=null&&m(e,["citations"],n),e}function Nse(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function Dse(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Nse(i))),m(e,["urlMetadata"],r)}return e}function Ose(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],Pse(n));const r=p(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],Mse(r));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const s=p(t,["urlContextMetadata"]);s!=null&&m(e,["urlContextMetadata"],Dse(s));const u=p(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const f=p(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const c=p(t,["index"]);c!=null&&m(e,["index"],c);const h=p(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const y=p(t,["safetyRatings"]);return y!=null&&m(e,["safetyRatings"],y),e}function kse(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(c=>Ose(c))),m(e,["candidates"],f)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const s=p(t,["responseId"]);s!=null&&m(e,["responseId"],s);const u=p(t,["usageMetadata"]);return u!=null&&m(e,["usageMetadata"],u),e}function q3(t){const e={},n=p(t,["details"]);n!=null&&m(e,["details"],n);const r=p(t,["code"]);r!=null&&m(e,["code"],r);const i=p(t,["message"]);return i!=null&&m(e,["message"],i),e}function Lse(t){const e={},n=p(t,["response"]);n!=null&&m(e,["response"],kse(n));const r=p(t,["error"]);return r!=null&&m(e,["error"],q3(r)),e}function Vse(t){const e={},n=p(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Lse(o))),m(e,["inlinedResponses"],i)}return e}function hm(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["metadata","state"]);i!=null&&m(e,["state"],V3(i));const o=p(t,["metadata","createTime"]);o!=null&&m(e,["createTime"],o);const s=p(t,["metadata","endTime"]);s!=null&&m(e,["endTime"],s);const u=p(t,["metadata","updateTime"]);u!=null&&m(e,["updateTime"],u);const f=p(t,["metadata","model"]);f!=null&&m(e,["model"],f);const c=p(t,["metadata","output"]);return c!=null&&m(e,["dest"],Vse(c)),e}function Use(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>hm(s))),m(e,["batchJobs"],o)}return e}function Bse(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);return o!=null&&m(e,["error"],q3(o)),e}function F3(t){const e={},n=p(t,["details"]);n!=null&&m(e,["details"],n);const r=p(t,["code"]);r!=null&&m(e,["code"],r);const i=p(t,["message"]);return i!=null&&m(e,["message"],i),e}function qse(t){const e={},n=p(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&m(e,["gcsUri"],r);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function Fse(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&m(e,["gcsUri"],r);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function nS(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["state"]);i!=null&&m(e,["state"],V3(i));const o=p(t,["error"]);o!=null&&m(e,["error"],F3(o));const s=p(t,["createTime"]);s!=null&&m(e,["createTime"],s);const u=p(t,["startTime"]);u!=null&&m(e,["startTime"],u);const f=p(t,["endTime"]);f!=null&&m(e,["endTime"],f);const c=p(t,["updateTime"]);c!=null&&m(e,["updateTime"],c);const h=p(t,["model"]);h!=null&&m(e,["model"],h);const y=p(t,["inputConfig"]);y!=null&&m(e,["src"],qse(y));const _=p(t,["outputConfig"]);return _!=null&&m(e,["dest"],Fse(_)),e}function $se(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>nS(s))),m(e,["batchJobs"],o)}return e}function Hse(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);return o!=null&&m(e,["error"],F3(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var hl;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(hl||(hl={}));class oh{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zse extends wl{constructor(e){super(),this.apiClient=e,this.create=async n=>{var r,i;if(this.apiClient.isVertexAI()){const s=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${s}`;else throw new Error("Unsupported source:"+n.src)}else if(Array.isArray(n.src)||typeof n.src!="string"&&n.src.inlinedRequests){let o="",s={};const u=jD(this.apiClient,n);o=we("{model}:batchGenerateContent",u._url),s=u._query;const h=u.batch.inputConfig.requests,y=h.requests,_=[];for(const w of y){const A=w;if(A.systemInstruction){const C=A.systemInstruction;delete A.systemInstruction;const I=A.request;I.systemInstruction=C,A.request=I}_.push(A)}return h.requests=_,delete u.config,delete u._url,delete u._query,this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(w=>w.json()).then(w=>hm(w))}return await this.createInternal(n)},this.list=async(n={})=>new oh(hl.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}async createInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Tse(this.apiClient,e);return u=we("batchPredictionJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>nS(h))}else{const c=jD(this.apiClient,e);return u=we("{model}:batchGenerateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>hm(h))}}async get(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Ese(this.apiClient,e);return u=we("batchPredictionJobs/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>nS(h))}else{const c=dse(this.apiClient,e);return u=we("batches/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>hm(h))}}async cancel(e){var n,r,i,o;let s="",u={};if(this.apiClient.isVertexAI()){const f=Sse(this.apiClient,e);s=we("batchPredictionJobs/{name}:cancel",f._url),u=f._query,delete f.config,delete f._url,delete f._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=hse(this.apiClient,e);s=we("batches/{name}:cancel",f._url),u=f._query,delete f.config,delete f._url,delete f._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Ase(e);return u=we("batchPredictionJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=$se(h),_=new HD;return Object.assign(_,y),_})}else{const c=mse(e);return u=we("batches",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=Use(h),_=new HD;return Object.assign(_,y),_})}}async delete(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=bse(this.apiClient,e);return u=we("batchPredictionJobs/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>Hse(h))}else{const c=gse(this.apiClient,e);return u=we("batches/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>Bse(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gse(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Kse(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function jse(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Yse(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Gse(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],Kse(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],jse(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function YD(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Yse(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Wse(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const o=p(t,["parameters"]);o!=null&&m(e,["parameters"],o);const s=p(t,["parametersJsonSchema"]);s!=null&&m(e,["parametersJsonSchema"],s);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const f=p(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function Jse(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function Qse(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],Jse(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Xse(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function Zse(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],Xse(n)),e}function ele(){return{}}function tle(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function nle(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>Wse(c))),m(e,["functionDeclarations"],f)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],Qse(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],Zse(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],ele());const s=p(t,["computerUse"]);s!=null&&m(e,["computerUse"],tle(s));const u=p(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function rle(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function ile(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function ole(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],ile(n));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function ale(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],rle(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],ole(r)),e}function sle(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const s=p(t,["contents"]);if(e!==void 0&&s!=null){let h=Jr(s);Array.isArray(h)&&(h=h.map(y=>YD(y))),m(e,["contents"],h)}const u=p(t,["systemInstruction"]);e!==void 0&&u!=null&&m(e,["systemInstruction"],YD(zn(u)));const f=p(t,["tools"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>nle(y))),m(e,["tools"],h)}const c=p(t,["toolConfig"]);if(e!==void 0&&c!=null&&m(e,["toolConfig"],ale(c)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function lle(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],C3(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],sle(i,n)),n}function ule(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Xo(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function cle(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Xo(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function fle(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function dle(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Xo(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],fle(i,n)),n}function hle(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function ple(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],hle(n,e)),e}function mle(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function gle(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["data"]);r!=null&&m(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function yle(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function vle(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],mle(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],gle(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],yle(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function WD(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>vle(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function _le(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&m(e,["response"],s);const u=p(t,["responseJsonSchema"]);return u!=null&&m(e,["responseJsonSchema"],u),e}function Tle(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function Ele(t){const e={},n=p(t,["timeRangeFilter"]);n!=null&&m(e,["timeRangeFilter"],Tle(n));const r=p(t,["excludeDomains"]);return r!=null&&m(e,["excludeDomains"],r),e}function Sle(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function wle(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],Sle(n)),e}function Ale(t){const e={},n=p(t,["excludeDomains"]);return n!=null&&m(e,["excludeDomains"],n),e}function ble(t){const e={},n=p(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function Cle(t){const e={},n=p(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],ble(n));const r=p(t,["authType"]);r!=null&&m(e,["authType"],r);const i=p(t,["googleServiceAccountConfig"]);i!=null&&m(e,["googleServiceAccountConfig"],i);const o=p(t,["httpBasicAuthConfig"]);o!=null&&m(e,["httpBasicAuthConfig"],o);const s=p(t,["oauthConfig"]);s!=null&&m(e,["oauthConfig"],s);const u=p(t,["oidcConfig"]);return u!=null&&m(e,["oidcConfig"],u),e}function xle(t){const e={},n=p(t,["authConfig"]);return n!=null&&m(e,["authConfig"],Cle(n)),e}function Ile(){return{}}function Rle(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function Ple(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>_le(_))),m(e,["functionDeclarations"],y)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],Ele(i));const o=p(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],wle(o));const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],Ale(s));const u=p(t,["googleMaps"]);u!=null&&m(e,["googleMaps"],xle(u)),p(t,["urlContext"])!=null&&m(e,["urlContext"],Ile());const c=p(t,["computerUse"]);c!=null&&m(e,["computerUse"],Rle(c));const h=p(t,["codeExecution"]);return h!=null&&m(e,["codeExecution"],h),e}function Mle(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function Nle(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function Dle(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],Nle(n));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function Ole(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Mle(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],Dle(r)),e}function kle(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const s=p(t,["contents"]);if(e!==void 0&&s!=null){let y=Jr(s);Array.isArray(y)&&(y=y.map(_=>WD(_))),m(e,["contents"],y)}const u=p(t,["systemInstruction"]);e!==void 0&&u!=null&&m(e,["systemInstruction"],WD(zn(u)));const f=p(t,["tools"]);if(e!==void 0&&f!=null){let y=f;Array.isArray(y)&&(y=y.map(_=>Ple(_))),m(e,["tools"],y)}const c=p(t,["toolConfig"]);e!==void 0&&c!=null&&m(e,["toolConfig"],Ole(c));const h=p(t,["kmsKeyName"]);return e!==void 0&&h!=null&&m(e,["encryption_spec","kmsKeyName"],h),n}function Lle(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],C3(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],kle(i,n)),n}function Vle(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Xo(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function Ule(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Xo(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function Ble(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function qle(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Xo(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Ble(i,n)),n}function Fle(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function $le(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],Fle(n,e)),e}function pm(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["model"]);i!=null&&m(e,["model"],i);const o=p(t,["createTime"]);o!=null&&m(e,["createTime"],o);const s=p(t,["updateTime"]);s!=null&&m(e,["updateTime"],s);const u=p(t,["expireTime"]);u!=null&&m(e,["expireTime"],u);const f=p(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function Hle(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function zle(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>pm(s))),m(e,["cachedContents"],o)}return e}function mm(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["model"]);i!=null&&m(e,["model"],i);const o=p(t,["createTime"]);o!=null&&m(e,["createTime"],o);const s=p(t,["updateTime"]);s!=null&&m(e,["updateTime"],s);const u=p(t,["expireTime"]);u!=null&&m(e,["expireTime"],u);const f=p(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function Gle(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Kle(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>mm(s))),m(e,["cachedContents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jle extends wl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new oh(hl.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Lle(this.apiClient,e);return u=we("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>mm(h))}else{const c=lle(this.apiClient,e);return u=we("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>pm(h))}}async get(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Vle(this.apiClient,e);return u=we("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>mm(h))}else{const c=ule(this.apiClient,e);return u=we("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>pm(h))}}async delete(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Ule(this.apiClient,e);return u=we("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=Gle(h),_=new FD;return Object.assign(_,y),_})}else{const c=cle(this.apiClient,e);return u=we("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=Hle(h),_=new FD;return Object.assign(_,y),_})}}async update(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=qle(this.apiClient,e);return u=we("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>mm(h))}else{const c=dle(this.apiClient,e);return u=we("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>pm(h))}}async listInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=$le(e);return u=we("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=Kle(h),_=new $D;return Object.assign(_,y),_})}else{const c=ple(e);return u=we("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=zle(h),_=new $D;return Object.assign(_,y),_})}}}function JD(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function At(t){return this instanceof At?(this.v=t,this):new At(t)}function Nu(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(S){return function(w){return Promise.resolve(w).then(S,y)}}function u(S,w){r[S]&&(i[S]=function(A){return new Promise(function(C,I){o.push([S,A,C,I])>1||f(S,A)})},w&&(i[S]=w(i[S])))}function f(S,w){try{c(r[S](w))}catch(A){_(o[0][3],A)}}function c(S){S.value instanceof At?Promise.resolve(S.value.v).then(h,y):_(o[0][2],S)}function h(S){f("next",S)}function y(S){f("throw",S)}function _(S,w){S(w),o.shift(),o.length&&f(o[0][0],o[0][1])}}function od(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof JD=="function"?JD(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(u,f){s=t[o](s),i(u,f,s.done,s.value)})}}function i(o,s,u,f){Promise.resolve(f).then(function(c){o({value:c,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yle(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:$3(n)}function $3(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Wle(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function QD(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!$3(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class Jle{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Qle(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Qle{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),Wle(o)}async sendMessage(e){var n;await this.sendPromise;const r=zn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,u;const f=await i,c=(s=(o=f.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,h=f.automaticFunctionCallingHistory,y=this.getHistory(!0).length;let _=[];h!=null&&(_=(u=h.slice(y))!==null&&u!==void 0?u:[]);const S=c?[c]:[];this.recordHistory(r,S,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=zn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?QD(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Nu(this,arguments,function*(){var s,u,f,c;const h=[];try{for(var y=!0,_=od(e),S;S=yield At(_.next()),s=S.done,!s;y=!0){c=S.value,y=!1;const w=c;if(Yle(w)){const A=(i=(r=w.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;A!==void 0&&h.push(A)}yield yield At(w)}}catch(w){u={error:w}}finally{try{!y&&!s&&(f=_.return)&&(yield At(f.call(_)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...QD(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sy extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Sy.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xle(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Zle(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],Xle(n,e)),e}function eue(t){const e={},n=p(t,["details"]);n!=null&&m(e,["details"],n);const r=p(t,["message"]);r!=null&&m(e,["message"],r);const i=p(t,["code"]);return i!=null&&m(e,["code"],i),e}function tue(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["mimeType"]);i!=null&&m(e,["mimeType"],i);const o=p(t,["sizeBytes"]);o!=null&&m(e,["sizeBytes"],o);const s=p(t,["createTime"]);s!=null&&m(e,["createTime"],s);const u=p(t,["expirationTime"]);u!=null&&m(e,["expirationTime"],u);const f=p(t,["updateTime"]);f!=null&&m(e,["updateTime"],f);const c=p(t,["sha256Hash"]);c!=null&&m(e,["sha256Hash"],c);const h=p(t,["uri"]);h!=null&&m(e,["uri"],h);const y=p(t,["downloadUri"]);y!=null&&m(e,["downloadUri"],y);const _=p(t,["state"]);_!=null&&m(e,["state"],_);const S=p(t,["source"]);S!=null&&m(e,["source"],S);const w=p(t,["videoMetadata"]);w!=null&&m(e,["videoMetadata"],w);const A=p(t,["error"]);return A!=null&&m(e,["error"],eue(A)),e}function nue(t){const e={},n=p(t,["file"]);n!=null&&m(e,["file"],tue(n));const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function rue(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","file"],D3(n));const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function iue(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","file"],D3(n));const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function oue(t){const e={},n=p(t,["details"]);n!=null&&m(e,["details"],n);const r=p(t,["message"]);r!=null&&m(e,["message"],r);const i=p(t,["code"]);return i!=null&&m(e,["code"],i),e}function rS(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["mimeType"]);i!=null&&m(e,["mimeType"],i);const o=p(t,["sizeBytes"]);o!=null&&m(e,["sizeBytes"],o);const s=p(t,["createTime"]);s!=null&&m(e,["createTime"],s);const u=p(t,["expirationTime"]);u!=null&&m(e,["expirationTime"],u);const f=p(t,["updateTime"]);f!=null&&m(e,["updateTime"],f);const c=p(t,["sha256Hash"]);c!=null&&m(e,["sha256Hash"],c);const h=p(t,["uri"]);h!=null&&m(e,["uri"],h);const y=p(t,["downloadUri"]);y!=null&&m(e,["downloadUri"],y);const _=p(t,["state"]);_!=null&&m(e,["state"],_);const S=p(t,["source"]);S!=null&&m(e,["source"],S);const w=p(t,["videoMetadata"]);w!=null&&m(e,["videoMetadata"],w);const A=p(t,["error"]);return A!=null&&m(e,["error"],oue(A)),e}function aue(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>rS(s))),m(e,["files"],o)}return e}function sue(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function lue(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uue extends wl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new oh(hl.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>rS(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Zle(e);return o=we("files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const c=aue(f),h=new bae;return Object.assign(h,c),h})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=nue(e);return o=we("upload/v1beta/files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const c=sue(f),h=new Cae;return Object.assign(h,c),h})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=rue(e);return o=we("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>rS(f))}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=iue(e);return o=we("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const c=lue(f),h=new xae;return Object.assign(h,c),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cue(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function H3(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],cue(n)),e}function fue(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],H3(r)),e}function due(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>fue(i))),m(e,["speakerVoiceConfigs"],r)}return e}function hue(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],H3(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],due(r));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function pue(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function mue(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function gue(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function yue(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],pue(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],mue(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],gue(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function vue(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>yue(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function _ue(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const o=p(t,["parameters"]);o!=null&&m(e,["parameters"],o);const s=p(t,["parametersJsonSchema"]);s!=null&&m(e,["parametersJsonSchema"],s);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const f=p(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function Tue(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function Eue(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],Tue(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Sue(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function wue(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],Sue(n)),e}function Aue(){return{}}function bue(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function Cue(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>_ue(c))),m(e,["functionDeclarations"],f)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],Eue(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],wue(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],Aue());const s=p(t,["computerUse"]);s!=null&&m(e,["computerUse"],bue(s));const u=p(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function xue(t){const e={},n=p(t,["handle"]);if(n!=null&&m(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function XD(){return{}}function Iue(t){const e={},n=p(t,["disabled"]);n!=null&&m(e,["disabled"],n);const r=p(t,["startOfSpeechSensitivity"]);r!=null&&m(e,["startOfSpeechSensitivity"],r);const i=p(t,["endOfSpeechSensitivity"]);i!=null&&m(e,["endOfSpeechSensitivity"],i);const o=p(t,["prefixPaddingMs"]);o!=null&&m(e,["prefixPaddingMs"],o);const s=p(t,["silenceDurationMs"]);return s!=null&&m(e,["silenceDurationMs"],s),e}function Rue(t){const e={},n=p(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],Iue(n));const r=p(t,["activityHandling"]);r!=null&&m(e,["activityHandling"],r);const i=p(t,["turnCoverage"]);return i!=null&&m(e,["turnCoverage"],i),e}function Pue(t){const e={},n=p(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function Mue(t){const e={},n=p(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const r=p(t,["slidingWindow"]);return r!=null&&m(e,["slidingWindow"],Pue(r)),e}function Nue(t){const e={},n=p(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function Due(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topP"],s);const u=p(t,["topK"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topK"],u);const f=p(t,["maxOutputTokens"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","maxOutputTokens"],f);const c=p(t,["mediaResolution"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","mediaResolution"],c);const h=p(t,["seed"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","seed"],h);const y=p(t,["speechConfig"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","speechConfig"],hue(YA(y)));const _=p(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],_);const S=p(t,["systemInstruction"]);e!==void 0&&S!=null&&m(e,["setup","systemInstruction"],vue(zn(S)));const w=p(t,["tools"]);if(e!==void 0&&w!=null){let B=Ec(w);Array.isArray(B)&&(B=B.map(G=>Cue(Tc(G)))),m(e,["setup","tools"],B)}const A=p(t,["sessionResumption"]);e!==void 0&&A!=null&&m(e,["setup","sessionResumption"],xue(A));const C=p(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&m(e,["setup","inputAudioTranscription"],XD());const I=p(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&m(e,["setup","outputAudioTranscription"],XD());const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&m(e,["setup","realtimeInputConfig"],Rue(N));const M=p(t,["contextWindowCompression"]);e!==void 0&&M!=null&&m(e,["setup","contextWindowCompression"],Mue(M));const U=p(t,["proactivity"]);return e!==void 0&&U!=null&&m(e,["setup","proactivity"],Nue(U)),n}function Oue(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],ot(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Due(i,n)),n}function kue(){return{}}function Lue(){return{}}function Vue(t){const e={},n=p(t,["media"]);n!=null&&m(e,["mediaChunks"],x3(n));const r=p(t,["audio"]);r!=null&&m(e,["audio"],R3(r));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&m(e,["video"],I3(o));const s=p(t,["text"]);return s!=null&&m(e,["text"],s),p(t,["activityStart"])!=null&&m(e,["activityStart"],kue()),p(t,["activityEnd"])!=null&&m(e,["activityEnd"],Lue()),e}function z3(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const r=p(t,["weight"]);return r!=null&&m(e,["weight"],r),e}function Uue(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>z3(i))),m(e,["weightedPrompts"],r)}return e}function G3(t){const e={},n=p(t,["temperature"]);n!=null&&m(e,["temperature"],n);const r=p(t,["topK"]);r!=null&&m(e,["topK"],r);const i=p(t,["seed"]);i!=null&&m(e,["seed"],i);const o=p(t,["guidance"]);o!=null&&m(e,["guidance"],o);const s=p(t,["bpm"]);s!=null&&m(e,["bpm"],s);const u=p(t,["density"]);u!=null&&m(e,["density"],u);const f=p(t,["brightness"]);f!=null&&m(e,["brightness"],f);const c=p(t,["scale"]);c!=null&&m(e,["scale"],c);const h=p(t,["muteBass"]);h!=null&&m(e,["muteBass"],h);const y=p(t,["muteDrums"]);y!=null&&m(e,["muteDrums"],y);const _=p(t,["onlyBassAndDrums"]);_!=null&&m(e,["onlyBassAndDrums"],_);const S=p(t,["musicGenerationMode"]);return S!=null&&m(e,["musicGenerationMode"],S),e}function Bue(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],G3(n)),e}function K3(t){const e={},n=p(t,["model"]);return n!=null&&m(e,["model"],n),e}function j3(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>z3(i))),m(e,["weightedPrompts"],r)}return e}function iS(t){const e={},n=p(t,["setup"]);n!=null&&m(e,["setup"],K3(n));const r=p(t,["clientContent"]);r!=null&&m(e,["clientContent"],j3(r));const i=p(t,["musicGenerationConfig"]);i!=null&&m(e,["musicGenerationConfig"],G3(i));const o=p(t,["playbackControl"]);return o!=null&&m(e,["playbackControl"],o),e}function que(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function Fue(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],que(n)),e}function $ue(t){const e={},n=p(t,["voiceConfig"]);if(n!=null&&m(e,["voiceConfig"],Fue(n)),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function Hue(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function zue(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["data"]);r!=null&&m(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Gue(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Kue(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Hue(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],zue(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Gue(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function jue(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Kue(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Yue(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&m(e,["response"],s);const u=p(t,["responseJsonSchema"]);return u!=null&&m(e,["responseJsonSchema"],u),e}function Wue(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function Jue(t){const e={},n=p(t,["timeRangeFilter"]);n!=null&&m(e,["timeRangeFilter"],Wue(n));const r=p(t,["excludeDomains"]);return r!=null&&m(e,["excludeDomains"],r),e}function Que(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function Xue(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],Que(n)),e}function Zue(t){const e={},n=p(t,["excludeDomains"]);return n!=null&&m(e,["excludeDomains"],n),e}function ece(t){const e={},n=p(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function tce(t){const e={},n=p(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],ece(n));const r=p(t,["authType"]);r!=null&&m(e,["authType"],r);const i=p(t,["googleServiceAccountConfig"]);i!=null&&m(e,["googleServiceAccountConfig"],i);const o=p(t,["httpBasicAuthConfig"]);o!=null&&m(e,["httpBasicAuthConfig"],o);const s=p(t,["oauthConfig"]);s!=null&&m(e,["oauthConfig"],s);const u=p(t,["oidcConfig"]);return u!=null&&m(e,["oidcConfig"],u),e}function nce(t){const e={},n=p(t,["authConfig"]);return n!=null&&m(e,["authConfig"],tce(n)),e}function rce(){return{}}function ice(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function oce(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>Yue(_))),m(e,["functionDeclarations"],y)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],Jue(i));const o=p(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],Xue(o));const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],Zue(s));const u=p(t,["googleMaps"]);u!=null&&m(e,["googleMaps"],nce(u)),p(t,["urlContext"])!=null&&m(e,["urlContext"],rce());const c=p(t,["computerUse"]);c!=null&&m(e,["computerUse"],ice(c));const h=p(t,["codeExecution"]);return h!=null&&m(e,["codeExecution"],h),e}function ace(t){const e={},n=p(t,["handle"]);n!=null&&m(e,["handle"],n);const r=p(t,["transparent"]);return r!=null&&m(e,["transparent"],r),e}function ZD(){return{}}function sce(t){const e={},n=p(t,["disabled"]);n!=null&&m(e,["disabled"],n);const r=p(t,["startOfSpeechSensitivity"]);r!=null&&m(e,["startOfSpeechSensitivity"],r);const i=p(t,["endOfSpeechSensitivity"]);i!=null&&m(e,["endOfSpeechSensitivity"],i);const o=p(t,["prefixPaddingMs"]);o!=null&&m(e,["prefixPaddingMs"],o);const s=p(t,["silenceDurationMs"]);return s!=null&&m(e,["silenceDurationMs"],s),e}function lce(t){const e={},n=p(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],sce(n));const r=p(t,["activityHandling"]);r!=null&&m(e,["activityHandling"],r);const i=p(t,["turnCoverage"]);return i!=null&&m(e,["turnCoverage"],i),e}function uce(t){const e={},n=p(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function cce(t){const e={},n=p(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const r=p(t,["slidingWindow"]);return r!=null&&m(e,["slidingWindow"],uce(r)),e}function fce(t){const e={},n=p(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function dce(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topP"],s);const u=p(t,["topK"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topK"],u);const f=p(t,["maxOutputTokens"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","maxOutputTokens"],f);const c=p(t,["mediaResolution"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","mediaResolution"],c);const h=p(t,["seed"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","seed"],h);const y=p(t,["speechConfig"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","speechConfig"],$ue(YA(y)));const _=p(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],_);const S=p(t,["systemInstruction"]);e!==void 0&&S!=null&&m(e,["setup","systemInstruction"],jue(zn(S)));const w=p(t,["tools"]);if(e!==void 0&&w!=null){let B=Ec(w);Array.isArray(B)&&(B=B.map(G=>oce(Tc(G)))),m(e,["setup","tools"],B)}const A=p(t,["sessionResumption"]);e!==void 0&&A!=null&&m(e,["setup","sessionResumption"],ace(A));const C=p(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&m(e,["setup","inputAudioTranscription"],ZD());const I=p(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&m(e,["setup","outputAudioTranscription"],ZD());const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&m(e,["setup","realtimeInputConfig"],lce(N));const M=p(t,["contextWindowCompression"]);e!==void 0&&M!=null&&m(e,["setup","contextWindowCompression"],cce(M));const U=p(t,["proactivity"]);return e!==void 0&&U!=null&&m(e,["setup","proactivity"],fce(U)),n}function hce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],ot(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],dce(i,n)),n}function pce(){return{}}function mce(){return{}}function gce(t){const e={},n=p(t,["media"]);n!=null&&m(e,["mediaChunks"],x3(n));const r=p(t,["audio"]);r!=null&&m(e,["audio"],R3(r));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&m(e,["video"],I3(o));const s=p(t,["text"]);return s!=null&&m(e,["text"],s),p(t,["activityStart"])!=null&&m(e,["activityStart"],pce()),p(t,["activityEnd"])!=null&&m(e,["activityEnd"],mce()),e}function yce(){return{}}function vce(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function _ce(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Tce(t){const e={},n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Ece(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],vce(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],_ce(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Tce(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function Sce(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ece(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function e2(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const r=p(t,["finished"]);return r!=null&&m(e,["finished"],r),e}function wce(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function Ace(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>wce(i))),m(e,["urlMetadata"],r)}return e}function bce(t){const e={},n=p(t,["modelTurn"]);n!=null&&m(e,["modelTurn"],Sce(n));const r=p(t,["turnComplete"]);r!=null&&m(e,["turnComplete"],r);const i=p(t,["interrupted"]);i!=null&&m(e,["interrupted"],i);const o=p(t,["groundingMetadata"]);o!=null&&m(e,["groundingMetadata"],o);const s=p(t,["generationComplete"]);s!=null&&m(e,["generationComplete"],s);const u=p(t,["inputTranscription"]);u!=null&&m(e,["inputTranscription"],e2(u));const f=p(t,["outputTranscription"]);f!=null&&m(e,["outputTranscription"],e2(f));const c=p(t,["urlContextMetadata"]);return c!=null&&m(e,["urlContextMetadata"],Ace(c)),e}function Cce(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);return i!=null&&m(e,["name"],i),e}function xce(t){const e={},n=p(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Cce(i))),m(e,["functionCalls"],r)}return e}function Ice(t){const e={},n=p(t,["ids"]);return n!=null&&m(e,["ids"],n),e}function Qp(t){const e={},n=p(t,["modality"]);n!=null&&m(e,["modality"],n);const r=p(t,["tokenCount"]);return r!=null&&m(e,["tokenCount"],r),e}function Rce(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const i=p(t,["responseTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&m(e,["toolUsePromptTokenCount"],o);const s=p(t,["thoughtsTokenCount"]);s!=null&&m(e,["thoughtsTokenCount"],s);const u=p(t,["totalTokenCount"]);u!=null&&m(e,["totalTokenCount"],u);const f=p(t,["promptTokensDetails"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(S=>Qp(S))),m(e,["promptTokensDetails"],_)}const c=p(t,["cacheTokensDetails"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(S=>Qp(S))),m(e,["cacheTokensDetails"],_)}const h=p(t,["responseTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(S=>Qp(S))),m(e,["responseTokensDetails"],_)}const y=p(t,["toolUsePromptTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(S=>Qp(S))),m(e,["toolUsePromptTokensDetails"],_)}return e}function Pce(t){const e={},n=p(t,["timeLeft"]);return n!=null&&m(e,["timeLeft"],n),e}function Mce(t){const e={},n=p(t,["newHandle"]);n!=null&&m(e,["newHandle"],n);const r=p(t,["resumable"]);r!=null&&m(e,["resumable"],r);const i=p(t,["lastConsumedClientMessageIndex"]);return i!=null&&m(e,["lastConsumedClientMessageIndex"],i),e}function Nce(t){const e={};p(t,["setupComplete"])!=null&&m(e,["setupComplete"],yce());const r=p(t,["serverContent"]);r!=null&&m(e,["serverContent"],bce(r));const i=p(t,["toolCall"]);i!=null&&m(e,["toolCall"],xce(i));const o=p(t,["toolCallCancellation"]);o!=null&&m(e,["toolCallCancellation"],Ice(o));const s=p(t,["usageMetadata"]);s!=null&&m(e,["usageMetadata"],Rce(s));const u=p(t,["goAway"]);u!=null&&m(e,["goAway"],Pce(u));const f=p(t,["sessionResumptionUpdate"]);return f!=null&&m(e,["sessionResumptionUpdate"],Mce(f)),e}function Dce(){return{}}function Oce(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const r=p(t,["weight"]);return r!=null&&m(e,["weight"],r),e}function kce(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Oce(i))),m(e,["weightedPrompts"],r)}return e}function Lce(t){const e={},n=p(t,["temperature"]);n!=null&&m(e,["temperature"],n);const r=p(t,["topK"]);r!=null&&m(e,["topK"],r);const i=p(t,["seed"]);i!=null&&m(e,["seed"],i);const o=p(t,["guidance"]);o!=null&&m(e,["guidance"],o);const s=p(t,["bpm"]);s!=null&&m(e,["bpm"],s);const u=p(t,["density"]);u!=null&&m(e,["density"],u);const f=p(t,["brightness"]);f!=null&&m(e,["brightness"],f);const c=p(t,["scale"]);c!=null&&m(e,["scale"],c);const h=p(t,["muteBass"]);h!=null&&m(e,["muteBass"],h);const y=p(t,["muteDrums"]);y!=null&&m(e,["muteDrums"],y);const _=p(t,["onlyBassAndDrums"]);_!=null&&m(e,["onlyBassAndDrums"],_);const S=p(t,["musicGenerationMode"]);return S!=null&&m(e,["musicGenerationMode"],S),e}function Vce(t){const e={},n=p(t,["clientContent"]);n!=null&&m(e,["clientContent"],kce(n));const r=p(t,["musicGenerationConfig"]);return r!=null&&m(e,["musicGenerationConfig"],Lce(r)),e}function Uce(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);r!=null&&m(e,["mimeType"],r);const i=p(t,["sourceMetadata"]);return i!=null&&m(e,["sourceMetadata"],Vce(i)),e}function Bce(t){const e={},n=p(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Uce(i))),m(e,["audioChunks"],r)}return e}function qce(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const r=p(t,["filteredReason"]);return r!=null&&m(e,["filteredReason"],r),e}function Fce(t){const e={};p(t,["setupComplete"])!=null&&m(e,["setupComplete"],Dce());const r=p(t,["serverContent"]);r!=null&&m(e,["serverContent"],Bce(r));const i=p(t,["filteredPrompt"]);return i!=null&&m(e,["filteredPrompt"],qce(i)),e}function $ce(t){const e={},n=p(t,["sessionId"]);return n!=null&&m(e,["sessionId"],n),e}function Hce(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function zce(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["data"]);r!=null&&m(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Gce(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Kce(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Hce(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],zce(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Gce(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function jce(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Kce(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function t2(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const r=p(t,["finished"]);return r!=null&&m(e,["finished"],r),e}function Yce(t){const e={},n=p(t,["modelTurn"]);n!=null&&m(e,["modelTurn"],jce(n));const r=p(t,["turnComplete"]);r!=null&&m(e,["turnComplete"],r);const i=p(t,["interrupted"]);i!=null&&m(e,["interrupted"],i);const o=p(t,["groundingMetadata"]);o!=null&&m(e,["groundingMetadata"],o);const s=p(t,["generationComplete"]);s!=null&&m(e,["generationComplete"],s);const u=p(t,["inputTranscription"]);u!=null&&m(e,["inputTranscription"],t2(u));const f=p(t,["outputTranscription"]);return f!=null&&m(e,["outputTranscription"],t2(f)),e}function Wce(t){const e={},n=p(t,["args"]);n!=null&&m(e,["args"],n);const r=p(t,["name"]);return r!=null&&m(e,["name"],r),e}function Jce(t){const e={},n=p(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Wce(i))),m(e,["functionCalls"],r)}return e}function Qce(t){const e={},n=p(t,["ids"]);return n!=null&&m(e,["ids"],n),e}function Xp(t){const e={},n=p(t,["modality"]);n!=null&&m(e,["modality"],n);const r=p(t,["tokenCount"]);return r!=null&&m(e,["tokenCount"],r),e}function Xce(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const i=p(t,["candidatesTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&m(e,["toolUsePromptTokenCount"],o);const s=p(t,["thoughtsTokenCount"]);s!=null&&m(e,["thoughtsTokenCount"],s);const u=p(t,["totalTokenCount"]);u!=null&&m(e,["totalTokenCount"],u);const f=p(t,["promptTokensDetails"]);if(f!=null){let S=f;Array.isArray(S)&&(S=S.map(w=>Xp(w))),m(e,["promptTokensDetails"],S)}const c=p(t,["cacheTokensDetails"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(w=>Xp(w))),m(e,["cacheTokensDetails"],S)}const h=p(t,["candidatesTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(w=>Xp(w))),m(e,["responseTokensDetails"],S)}const y=p(t,["toolUsePromptTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(w=>Xp(w))),m(e,["toolUsePromptTokensDetails"],S)}const _=p(t,["trafficType"]);return _!=null&&m(e,["trafficType"],_),e}function Zce(t){const e={},n=p(t,["timeLeft"]);return n!=null&&m(e,["timeLeft"],n),e}function efe(t){const e={},n=p(t,["newHandle"]);n!=null&&m(e,["newHandle"],n);const r=p(t,["resumable"]);r!=null&&m(e,["resumable"],r);const i=p(t,["lastConsumedClientMessageIndex"]);return i!=null&&m(e,["lastConsumedClientMessageIndex"],i),e}function tfe(t){const e={},n=p(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],$ce(n));const r=p(t,["serverContent"]);r!=null&&m(e,["serverContent"],Yce(r));const i=p(t,["toolCall"]);i!=null&&m(e,["toolCall"],Jce(i));const o=p(t,["toolCallCancellation"]);o!=null&&m(e,["toolCallCancellation"],Qce(o));const s=p(t,["usageMetadata"]);s!=null&&m(e,["usageMetadata"],Xce(s));const u=p(t,["goAway"]);u!=null&&m(e,["goAway"],Zce(u));const f=p(t,["sessionResumptionUpdate"]);return f!=null&&m(e,["sessionResumptionUpdate"],efe(f)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nfe(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function rfe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function ife(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function ofe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],nfe(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],rfe(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],ife(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function wy(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ofe(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function afe(t){const e={},n=p(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const r=p(t,["default"]);r!=null&&m(e,["default"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["enum"]);o!=null&&m(e,["enum"],o);const s=p(t,["example"]);s!=null&&m(e,["example"],s);const u=p(t,["format"]);u!=null&&m(e,["format"],u);const f=p(t,["items"]);f!=null&&m(e,["items"],f);const c=p(t,["maxItems"]);c!=null&&m(e,["maxItems"],c);const h=p(t,["maxLength"]);h!=null&&m(e,["maxLength"],h);const y=p(t,["maxProperties"]);y!=null&&m(e,["maxProperties"],y);const _=p(t,["maximum"]);_!=null&&m(e,["maximum"],_);const S=p(t,["minItems"]);S!=null&&m(e,["minItems"],S);const w=p(t,["minLength"]);w!=null&&m(e,["minLength"],w);const A=p(t,["minProperties"]);A!=null&&m(e,["minProperties"],A);const C=p(t,["minimum"]);C!=null&&m(e,["minimum"],C);const I=p(t,["nullable"]);I!=null&&m(e,["nullable"],I);const N=p(t,["pattern"]);N!=null&&m(e,["pattern"],N);const M=p(t,["properties"]);M!=null&&m(e,["properties"],M);const U=p(t,["propertyOrdering"]);U!=null&&m(e,["propertyOrdering"],U);const B=p(t,["required"]);B!=null&&m(e,["required"],B);const G=p(t,["title"]);G!=null&&m(e,["title"],G);const O=p(t,["type"]);return O!=null&&m(e,["type"],O),e}function sfe(t){const e={};if(p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["category"]);n!=null&&m(e,["category"],n);const r=p(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function lfe(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const o=p(t,["parameters"]);o!=null&&m(e,["parameters"],o);const s=p(t,["parametersJsonSchema"]);s!=null&&m(e,["parametersJsonSchema"],s);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const f=p(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function ufe(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function cfe(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],ufe(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function ffe(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function dfe(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],ffe(n)),e}function hfe(){return{}}function pfe(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function mfe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>lfe(c))),m(e,["functionDeclarations"],f)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],cfe(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],dfe(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],hfe());const s=p(t,["computerUse"]);s!=null&&m(e,["computerUse"],pfe(s));const u=p(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function gfe(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function yfe(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function vfe(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],yfe(n));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function _fe(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],gfe(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],vfe(r)),e}function Tfe(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function Y3(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],Tfe(n)),e}function Efe(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],Y3(r)),e}function Sfe(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Efe(i))),m(e,["speakerVoiceConfigs"],r)}return e}function wfe(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],Y3(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],Sfe(r));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function Afe(t){const e={},n=p(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=p(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function bfe(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],wy(zn(i)));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&m(r,["topP"],s);const u=p(e,["topK"]);u!=null&&m(r,["topK"],u);const f=p(e,["candidateCount"]);f!=null&&m(r,["candidateCount"],f);const c=p(e,["maxOutputTokens"]);c!=null&&m(r,["maxOutputTokens"],c);const h=p(e,["stopSequences"]);h!=null&&m(r,["stopSequences"],h);const y=p(e,["responseLogprobs"]);y!=null&&m(r,["responseLogprobs"],y);const _=p(e,["logprobs"]);_!=null&&m(r,["logprobs"],_);const S=p(e,["presencePenalty"]);S!=null&&m(r,["presencePenalty"],S);const w=p(e,["frequencyPenalty"]);w!=null&&m(r,["frequencyPenalty"],w);const A=p(e,["seed"]);A!=null&&m(r,["seed"],A);const C=p(e,["responseMimeType"]);C!=null&&m(r,["responseMimeType"],C);const I=p(e,["responseSchema"]);I!=null&&m(r,["responseSchema"],afe(KA(I)));const N=p(e,["responseJsonSchema"]);if(N!=null&&m(r,["responseJsonSchema"],N),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=p(e,["safetySettings"]);if(n!==void 0&&M!=null){let q=M;Array.isArray(q)&&(q=q.map(z=>sfe(z))),m(n,["safetySettings"],q)}const U=p(e,["tools"]);if(n!==void 0&&U!=null){let q=Ec(U);Array.isArray(q)&&(q=q.map(z=>mfe(Tc(z)))),m(n,["tools"],q)}const B=p(e,["toolConfig"]);if(n!==void 0&&B!=null&&m(n,["toolConfig"],_fe(B)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=p(e,["cachedContent"]);n!==void 0&&G!=null&&m(n,["cachedContent"],Xo(t,G));const O=p(e,["responseModalities"]);O!=null&&m(r,["responseModalities"],O);const k=p(e,["mediaResolution"]);k!=null&&m(r,["mediaResolution"],k);const D=p(e,["speechConfig"]);if(D!=null&&m(r,["speechConfig"],wfe(jA(D))),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=p(e,["thinkingConfig"]);return $!=null&&m(r,["thinkingConfig"],Afe($)),r}function n2(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["contents"]);if(i!=null){let s=Jr(i);Array.isArray(s)&&(s=s.map(u=>wy(u))),m(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&m(n,["generationConfig"],bfe(t,o,n)),n}function Cfe(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function xfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["contents"]);i!=null&&m(n,["requests[]","content"],M3(t,i));const o=p(e,["config"]);o!=null&&m(n,["config"],Cfe(o,n));const s=p(e,["model"]);return s!==void 0&&m(n,["requests[]","model"],ot(t,s)),n}function Ife(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&m(e,["parameters","aspectRatio"],i);const o=p(t,["guidanceScale"]);if(e!==void 0&&o!=null&&m(e,["parameters","guidanceScale"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&m(e,["parameters","safetySetting"],s);const u=p(t,["personGeneration"]);e!==void 0&&u!=null&&m(e,["parameters","personGeneration"],u);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&m(e,["parameters","includeSafetyAttributes"],f);const c=p(t,["includeRaiReason"]);e!==void 0&&c!=null&&m(e,["parameters","includeRaiReason"],c);const h=p(t,["language"]);e!==void 0&&h!=null&&m(e,["parameters","language"],h);const y=p(t,["outputMimeType"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","mimeType"],y);const _=p(t,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&m(e,["parameters","outputOptions","compressionQuality"],_),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const S=p(t,["imageSize"]);if(e!==void 0&&S!=null&&m(e,["parameters","sampleImageSize"],S),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Rfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&m(n,["config"],Ife(o,n)),n}function Pfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],ot(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function Mfe(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const s=p(e,["filter"]);n!==void 0&&s!=null&&m(n,["_query","filter"],s);const u=p(e,["queryBase"]);return n!==void 0&&u!=null&&m(n,["_url","models_url"],O3(t,u)),r}function Nfe(t,e){const n={},r=p(e,["config"]);return r!=null&&m(n,["config"],Mfe(t,r,n)),n}function Dfe(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function Ofe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],ot(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Dfe(i,n)),n}function kfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],ot(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function Lfe(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Vfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["contents"]);if(i!=null){let s=Jr(i);Array.isArray(s)&&(s=s.map(u=>wy(u))),m(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&m(n,["config"],Lfe(o)),n}function W3(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],Al(n));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Ufe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);if(e!==void 0&&i!=null&&m(e,["instances[0]","image"],W3(i)),p(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return n}function Bfe(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&m(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const s=p(t,["resolution"]);e!==void 0&&s!=null&&m(e,["parameters","resolution"],s);const u=p(t,["personGeneration"]);if(e!==void 0&&u!=null&&m(e,["parameters","personGeneration"],u),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=p(t,["negativePrompt"]);e!==void 0&&f!=null&&m(e,["parameters","negativePrompt"],f);const c=p(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&m(e,["parameters","enhancePrompt"],c),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(p(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(p(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function qfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["image"]);if(o!=null&&m(n,["instances[0]","image"],W3(o)),p(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const s=p(e,["source"]);s!=null&&m(n,["config"],Ufe(s,n));const u=p(e,["config"]);return u!=null&&m(n,["config"],Bfe(u,n)),n}function Ffe(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function $fe(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["data"]);r!=null&&m(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Hfe(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function zfe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Ffe(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],$fe(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Hfe(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function wc(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>zfe(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Gfe(t){const e={},n=p(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const r=p(t,["default"]);r!=null&&m(e,["default"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["enum"]);o!=null&&m(e,["enum"],o);const s=p(t,["example"]);s!=null&&m(e,["example"],s);const u=p(t,["format"]);u!=null&&m(e,["format"],u);const f=p(t,["items"]);f!=null&&m(e,["items"],f);const c=p(t,["maxItems"]);c!=null&&m(e,["maxItems"],c);const h=p(t,["maxLength"]);h!=null&&m(e,["maxLength"],h);const y=p(t,["maxProperties"]);y!=null&&m(e,["maxProperties"],y);const _=p(t,["maximum"]);_!=null&&m(e,["maximum"],_);const S=p(t,["minItems"]);S!=null&&m(e,["minItems"],S);const w=p(t,["minLength"]);w!=null&&m(e,["minLength"],w);const A=p(t,["minProperties"]);A!=null&&m(e,["minProperties"],A);const C=p(t,["minimum"]);C!=null&&m(e,["minimum"],C);const I=p(t,["nullable"]);I!=null&&m(e,["nullable"],I);const N=p(t,["pattern"]);N!=null&&m(e,["pattern"],N);const M=p(t,["properties"]);M!=null&&m(e,["properties"],M);const U=p(t,["propertyOrdering"]);U!=null&&m(e,["propertyOrdering"],U);const B=p(t,["required"]);B!=null&&m(e,["required"],B);const G=p(t,["title"]);G!=null&&m(e,["title"],G);const O=p(t,["type"]);return O!=null&&m(e,["type"],O),e}function Kfe(t){const e={},n=p(t,["featureSelectionPreference"]);return n!=null&&m(e,["featureSelectionPreference"],n),e}function jfe(t){const e={},n=p(t,["method"]);n!=null&&m(e,["method"],n);const r=p(t,["category"]);r!=null&&m(e,["category"],r);const i=p(t,["threshold"]);return i!=null&&m(e,["threshold"],i),e}function Yfe(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&m(e,["response"],s);const u=p(t,["responseJsonSchema"]);return u!=null&&m(e,["responseJsonSchema"],u),e}function Wfe(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function Jfe(t){const e={},n=p(t,["timeRangeFilter"]);n!=null&&m(e,["timeRangeFilter"],Wfe(n));const r=p(t,["excludeDomains"]);return r!=null&&m(e,["excludeDomains"],r),e}function Qfe(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function Xfe(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],Qfe(n)),e}function Zfe(t){const e={},n=p(t,["excludeDomains"]);return n!=null&&m(e,["excludeDomains"],n),e}function ede(t){const e={},n=p(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function tde(t){const e={},n=p(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],ede(n));const r=p(t,["authType"]);r!=null&&m(e,["authType"],r);const i=p(t,["googleServiceAccountConfig"]);i!=null&&m(e,["googleServiceAccountConfig"],i);const o=p(t,["httpBasicAuthConfig"]);o!=null&&m(e,["httpBasicAuthConfig"],o);const s=p(t,["oauthConfig"]);s!=null&&m(e,["oauthConfig"],s);const u=p(t,["oidcConfig"]);return u!=null&&m(e,["oidcConfig"],u),e}function nde(t){const e={},n=p(t,["authConfig"]);return n!=null&&m(e,["authConfig"],tde(n)),e}function rde(){return{}}function ide(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function J3(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>Yfe(_))),m(e,["functionDeclarations"],y)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],Jfe(i));const o=p(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],Xfe(o));const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],Zfe(s));const u=p(t,["googleMaps"]);u!=null&&m(e,["googleMaps"],nde(u)),p(t,["urlContext"])!=null&&m(e,["urlContext"],rde());const c=p(t,["computerUse"]);c!=null&&m(e,["computerUse"],ide(c));const h=p(t,["codeExecution"]);return h!=null&&m(e,["codeExecution"],h),e}function ode(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function ade(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function sde(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],ade(n));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function lde(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],ode(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],sde(r)),e}function ude(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function cde(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],ude(n)),e}function fde(t){const e={},n=p(t,["voiceConfig"]);if(n!=null&&m(e,["voiceConfig"],cde(n)),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function dde(t){const e={},n=p(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=p(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function hde(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],wc(zn(i)));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&m(r,["topP"],s);const u=p(e,["topK"]);u!=null&&m(r,["topK"],u);const f=p(e,["candidateCount"]);f!=null&&m(r,["candidateCount"],f);const c=p(e,["maxOutputTokens"]);c!=null&&m(r,["maxOutputTokens"],c);const h=p(e,["stopSequences"]);h!=null&&m(r,["stopSequences"],h);const y=p(e,["responseLogprobs"]);y!=null&&m(r,["responseLogprobs"],y);const _=p(e,["logprobs"]);_!=null&&m(r,["logprobs"],_);const S=p(e,["presencePenalty"]);S!=null&&m(r,["presencePenalty"],S);const w=p(e,["frequencyPenalty"]);w!=null&&m(r,["frequencyPenalty"],w);const A=p(e,["seed"]);A!=null&&m(r,["seed"],A);const C=p(e,["responseMimeType"]);C!=null&&m(r,["responseMimeType"],C);const I=p(e,["responseSchema"]);I!=null&&m(r,["responseSchema"],Gfe(KA(I)));const N=p(e,["responseJsonSchema"]);N!=null&&m(r,["responseJsonSchema"],N);const M=p(e,["routingConfig"]);M!=null&&m(r,["routingConfig"],M);const U=p(e,["modelSelectionConfig"]);U!=null&&m(r,["modelConfig"],Kfe(U));const B=p(e,["safetySettings"]);if(n!==void 0&&B!=null){let be=B;Array.isArray(be)&&(be=be.map(ne=>jfe(ne))),m(n,["safetySettings"],be)}const G=p(e,["tools"]);if(n!==void 0&&G!=null){let be=Ec(G);Array.isArray(be)&&(be=be.map(ne=>J3(Tc(ne)))),m(n,["tools"],be)}const O=p(e,["toolConfig"]);n!==void 0&&O!=null&&m(n,["toolConfig"],lde(O));const k=p(e,["labels"]);n!==void 0&&k!=null&&m(n,["labels"],k);const D=p(e,["cachedContent"]);n!==void 0&&D!=null&&m(n,["cachedContent"],Xo(t,D));const $=p(e,["responseModalities"]);$!=null&&m(r,["responseModalities"],$);const q=p(e,["mediaResolution"]);q!=null&&m(r,["mediaResolution"],q);const z=p(e,["speechConfig"]);z!=null&&m(r,["speechConfig"],fde(jA(z)));const H=p(e,["audioTimestamp"]);H!=null&&m(r,["audioTimestamp"],H);const Me=p(e,["thinkingConfig"]);return Me!=null&&m(r,["thinkingConfig"],dde(Me)),r}function r2(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["contents"]);if(i!=null){let s=Jr(i);Array.isArray(s)&&(s=s.map(u=>wc(u))),m(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&m(n,["generationConfig"],hde(t,o,n)),n}function pde(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["instances[]","task_type"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["instances[]","title"],i);const o=p(t,["outputDimensionality"]);e!==void 0&&o!=null&&m(e,["parameters","outputDimensionality"],o);const s=p(t,["mimeType"]);e!==void 0&&s!=null&&m(e,["instances[]","mimeType"],s);const u=p(t,["autoTruncate"]);return e!==void 0&&u!=null&&m(e,["parameters","autoTruncate"],u),n}function mde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["contents"]);i!=null&&m(n,["instances[]","content"],M3(t,i));const o=p(e,["config"]);return o!=null&&m(n,["config"],pde(o,n)),n}function gde(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&m(e,["parameters","aspectRatio"],s);const u=p(t,["guidanceScale"]);e!==void 0&&u!=null&&m(e,["parameters","guidanceScale"],u);const f=p(t,["seed"]);e!==void 0&&f!=null&&m(e,["parameters","seed"],f);const c=p(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&m(e,["parameters","safetySetting"],c);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&m(e,["parameters","personGeneration"],h);const y=p(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&m(e,["parameters","includeSafetyAttributes"],y);const _=p(t,["includeRaiReason"]);e!==void 0&&_!=null&&m(e,["parameters","includeRaiReason"],_);const S=p(t,["language"]);e!==void 0&&S!=null&&m(e,["parameters","language"],S);const w=p(t,["outputMimeType"]);e!==void 0&&w!=null&&m(e,["parameters","outputOptions","mimeType"],w);const A=p(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&m(e,["parameters","outputOptions","compressionQuality"],A);const C=p(t,["addWatermark"]);e!==void 0&&C!=null&&m(e,["parameters","addWatermark"],C);const I=p(t,["imageSize"]);e!==void 0&&I!=null&&m(e,["parameters","sampleImageSize"],I);const N=p(t,["enhancePrompt"]);return e!==void 0&&N!=null&&m(e,["parameters","enhancePrompt"],N),n}function yde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&m(n,["config"],gde(o,n)),n}function Ji(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Al(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function vde(t){const e={},n=p(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&m(e,["maskClasses"],r);const i=p(t,["maskDilation"]);return i!=null&&m(e,["dilation"],i),e}function _de(t){const e={},n=p(t,["controlType"]);n!=null&&m(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&m(e,["computeControl"],r),e}function Tde(t){const e={},n=p(t,["styleDescription"]);return n!=null&&m(e,["styleDescription"],n),e}function Ede(t){const e={},n=p(t,["subjectType"]);n!=null&&m(e,["subjectType"],n);const r=p(t,["subjectDescription"]);return r!=null&&m(e,["subjectDescription"],r),e}function Sde(t){const e={},n=p(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],Ji(n));const r=p(t,["referenceId"]);r!=null&&m(e,["referenceId"],r);const i=p(t,["referenceType"]);i!=null&&m(e,["referenceType"],i);const o=p(t,["maskImageConfig"]);o!=null&&m(e,["maskImageConfig"],vde(o));const s=p(t,["controlImageConfig"]);s!=null&&m(e,["controlImageConfig"],_de(s));const u=p(t,["styleImageConfig"]);u!=null&&m(e,["styleImageConfig"],Tde(u));const f=p(t,["subjectImageConfig"]);return f!=null&&m(e,["subjectImageConfig"],Ede(f)),e}function wde(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&m(e,["parameters","aspectRatio"],s);const u=p(t,["guidanceScale"]);e!==void 0&&u!=null&&m(e,["parameters","guidanceScale"],u);const f=p(t,["seed"]);e!==void 0&&f!=null&&m(e,["parameters","seed"],f);const c=p(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&m(e,["parameters","safetySetting"],c);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&m(e,["parameters","personGeneration"],h);const y=p(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&m(e,["parameters","includeSafetyAttributes"],y);const _=p(t,["includeRaiReason"]);e!==void 0&&_!=null&&m(e,["parameters","includeRaiReason"],_);const S=p(t,["language"]);e!==void 0&&S!=null&&m(e,["parameters","language"],S);const w=p(t,["outputMimeType"]);e!==void 0&&w!=null&&m(e,["parameters","outputOptions","mimeType"],w);const A=p(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&m(e,["parameters","outputOptions","compressionQuality"],A);const C=p(t,["addWatermark"]);e!==void 0&&C!=null&&m(e,["parameters","addWatermark"],C);const I=p(t,["editMode"]);e!==void 0&&I!=null&&m(e,["parameters","editMode"],I);const N=p(t,["baseSteps"]);return e!==void 0&&N!=null&&m(e,["parameters","editConfig","baseSteps"],N),n}function Ade(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>Sde(f))),m(n,["instances[0]","referenceImages"],u)}const s=p(e,["config"]);return s!=null&&m(n,["config"],wde(s,n)),n}function bde(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["includeRaiReason"]);e!==void 0&&i!=null&&m(e,["parameters","includeRaiReason"],i);const o=p(t,["outputMimeType"]);e!==void 0&&o!=null&&m(e,["parameters","outputOptions","mimeType"],o);const s=p(t,["outputCompressionQuality"]);e!==void 0&&s!=null&&m(e,["parameters","outputOptions","compressionQuality"],s);const u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],u);const f=p(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const c=p(t,["numberOfImages"]);e!==void 0&&c!=null&&m(e,["parameters","sampleCount"],c);const h=p(t,["mode"]);return e!==void 0&&h!=null&&m(e,["parameters","mode"],h),n}function Cde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["image"]);i!=null&&m(n,["instances[0]","image"],Ji(i));const o=p(e,["upscaleFactor"]);o!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=p(e,["config"]);return s!=null&&m(n,["config"],bde(s,n)),n}function xde(t){const e={},n=p(t,["productImage"]);return n!=null&&m(e,["image"],Ji(n)),e}function Ide(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["personImage"]);e!==void 0&&i!=null&&m(e,["instances[0]","personImage","image"],Ji(i));const o=p(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>xde(u))),m(e,["instances[0]","productImages"],s)}return n}function Rde(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&m(e,["parameters","editConfig","baseSteps"],i);const o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const s=p(t,["seed"]);e!==void 0&&s!=null&&m(e,["parameters","seed"],s);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const f=p(t,["personGeneration"]);e!==void 0&&f!=null&&m(e,["parameters","personGeneration"],f);const c=p(t,["addWatermark"]);e!==void 0&&c!=null&&m(e,["parameters","addWatermark"],c);const h=p(t,["outputMimeType"]);e!==void 0&&h!=null&&m(e,["parameters","outputOptions","mimeType"],h);const y=p(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","compressionQuality"],y);const _=p(t,["enhancePrompt"]);return e!==void 0&&_!=null&&m(e,["parameters","enhancePrompt"],_),n}function Pde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["source"]);i!=null&&m(n,["config"],Ide(i,n));const o=p(e,["config"]);return o!=null&&m(n,["config"],Rde(o,n)),n}function Mde(t){const e={},n=p(t,["image"]);return n!=null&&m(e,["image"],Ji(n)),e}function Nde(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],Ji(i));const o=p(t,["scribbleImage"]);return e!==void 0&&o!=null&&m(e,["instances[0]","scribble"],Mde(o)),n}function Dde(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&m(e,["parameters","mode"],r);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&m(e,["parameters","maxPredictions"],i);const o=p(t,["confidenceThreshold"]);e!==void 0&&o!=null&&m(e,["parameters","confidenceThreshold"],o);const s=p(t,["maskDilation"]);e!==void 0&&s!=null&&m(e,["parameters","maskDilation"],s);const u=p(t,["binaryColorThreshold"]);return e!==void 0&&u!=null&&m(e,["parameters","binaryColorThreshold"],u),n}function Ode(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["source"]);i!=null&&m(n,["config"],Nde(i,n));const o=p(e,["config"]);return o!=null&&m(n,["config"],Dde(o,n)),n}function kde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],ot(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function Lde(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const s=p(e,["filter"]);n!==void 0&&s!=null&&m(n,["_query","filter"],s);const u=p(e,["queryBase"]);return n!==void 0&&u!=null&&m(n,["_url","models_url"],O3(t,u)),r}function Vde(t,e){const n={},r=p(e,["config"]);return r!=null&&m(n,["config"],Lde(t,r,n)),n}function Ude(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function Bde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Ude(i,n)),n}function qde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],ot(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function Fde(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&m(e,["systemInstruction"],wc(zn(r)));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>J3(u))),m(e,["tools"],s)}const o=p(t,["generationConfig"]);return e!==void 0&&o!=null&&m(e,["generationConfig"],o),n}function $de(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["contents"]);if(i!=null){let s=Jr(i);Array.isArray(s)&&(s=s.map(u=>wc(u))),m(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&m(n,["config"],Fde(o,n)),n}function Hde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["contents"]);if(i!=null){let s=Jr(i);Array.isArray(s)&&(s=s.map(u=>wc(u))),m(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&m(n,["config"],o),n}function Q3(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Al(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function zde(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],Ji(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],Q3(o)),n}function Gde(t){const e={},n=p(t,["image"]);n!=null&&m(e,["image"],Ji(n));const r=p(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function Kde(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=p(t,["fps"]);e!==void 0&&o!=null&&m(e,["parameters","fps"],o);const s=p(t,["durationSeconds"]);e!==void 0&&s!=null&&m(e,["parameters","durationSeconds"],s);const u=p(t,["seed"]);e!==void 0&&u!=null&&m(e,["parameters","seed"],u);const f=p(t,["aspectRatio"]);e!==void 0&&f!=null&&m(e,["parameters","aspectRatio"],f);const c=p(t,["resolution"]);e!==void 0&&c!=null&&m(e,["parameters","resolution"],c);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&m(e,["parameters","personGeneration"],h);const y=p(t,["pubsubTopic"]);e!==void 0&&y!=null&&m(e,["parameters","pubsubTopic"],y);const _=p(t,["negativePrompt"]);e!==void 0&&_!=null&&m(e,["parameters","negativePrompt"],_);const S=p(t,["enhancePrompt"]);e!==void 0&&S!=null&&m(e,["parameters","enhancePrompt"],S);const w=p(t,["generateAudio"]);e!==void 0&&w!=null&&m(e,["parameters","generateAudio"],w);const A=p(t,["lastFrame"]);e!==void 0&&A!=null&&m(e,["instances[0]","lastFrame"],Ji(A));const C=p(t,["referenceImages"]);if(e!==void 0&&C!=null){let N=C;Array.isArray(N)&&(N=N.map(M=>Gde(M))),m(e,["instances[0]","referenceImages"],N)}const I=p(t,["compressionQuality"]);return e!==void 0&&I!=null&&m(e,["parameters","compressionQuality"],I),n}function jde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ot(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&m(n,["instances[0]","image"],Ji(o));const s=p(e,["video"]);s!=null&&m(n,["instances[0]","video"],Q3(s));const u=p(e,["source"]);u!=null&&m(n,["config"],zde(u,n));const f=p(e,["config"]);return f!=null&&m(n,["config"],Kde(f,n)),n}function Yde(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Wde(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Jde(t){const e={},n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Qde(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Yde(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],Wde(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Jde(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function Xde(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Qde(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Zde(t){const e={},n=p(t,["citationSources"]);return n!=null&&m(e,["citations"],n),e}function ehe(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function the(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ehe(i))),m(e,["urlMetadata"],r)}return e}function nhe(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],Xde(n));const r=p(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],Zde(r));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const s=p(t,["urlContextMetadata"]);s!=null&&m(e,["urlContextMetadata"],the(s));const u=p(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const f=p(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const c=p(t,["index"]);c!=null&&m(e,["index"],c);const h=p(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const y=p(t,["safetyRatings"]);return y!=null&&m(e,["safetyRatings"],y),e}function i2(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(c=>nhe(c))),m(e,["candidates"],f)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const s=p(t,["responseId"]);s!=null&&m(e,["responseId"],s);const u=p(t,["usageMetadata"]);return u!=null&&m(e,["usageMetadata"],u),e}function rhe(t){const e={},n=p(t,["values"]);return n!=null&&m(e,["values"],n),e}function ihe(){return{}}function ohe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>rhe(s))),m(e,["embeddings"],o)}return p(t,["metadata"])!=null&&m(e,["metadata"],ihe()),e}function ahe(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],Al(n));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function X3(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function she(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["image"],ahe(n));const r=p(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=p(t,["_self"]);return i!=null&&m(e,["safetyAttributes"],X3(i)),e}function lhe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>she(s))),m(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],X3(i)),e}function uhe(t){const e={},n=p(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function oS(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["version"]);o!=null&&m(e,["version"],o);const s=p(t,["_self"]);s!=null&&m(e,["tunedModelInfo"],uhe(s));const u=p(t,["inputTokenLimit"]);u!=null&&m(e,["inputTokenLimit"],u);const f=p(t,["outputTokenLimit"]);f!=null&&m(e,["outputTokenLimit"],f);const c=p(t,["supportedGenerationMethods"]);return c!=null&&m(e,["supportedActions"],c),e}function che(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=k3(i);Array.isArray(o)&&(o=o.map(s=>oS(s))),m(e,["models"],o)}return e}function fhe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function dhe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&m(e,["totalTokens"],r);const i=p(t,["cachedContentTokenCount"]);return i!=null&&m(e,["cachedContentTokenCount"],i),e}function hhe(t){const e={},n=p(t,["video","uri"]);n!=null&&m(e,["uri"],n);const r=p(t,["video","encodedVideo"]);r!=null&&m(e,["videoBytes"],Al(r));const i=p(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function phe(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],hhe(n)),e}function mhe(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>phe(s))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function ghe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const s=p(t,["response","generateVideoResponse"]);return s!=null&&m(e,["response"],mhe(s)),e}function yhe(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function vhe(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["data"]);r!=null&&m(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function _he(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function The(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],yhe(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],vhe(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],_he(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function Ehe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>The(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function She(t){const e={},n=p(t,["citations"]);return n!=null&&m(e,["citations"],n),e}function whe(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function Ahe(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>whe(i))),m(e,["urlMetadata"],r)}return e}function bhe(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],Ehe(n));const r=p(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],She(r));const i=p(t,["finishMessage"]);i!=null&&m(e,["finishMessage"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const s=p(t,["urlContextMetadata"]);s!=null&&m(e,["urlContextMetadata"],Ahe(s));const u=p(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const f=p(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const c=p(t,["index"]);c!=null&&m(e,["index"],c);const h=p(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const y=p(t,["safetyRatings"]);return y!=null&&m(e,["safetyRatings"],y),e}function o2(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>bhe(h))),m(e,["candidates"],c)}const i=p(t,["createTime"]);i!=null&&m(e,["createTime"],i);const o=p(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const s=p(t,["promptFeedback"]);s!=null&&m(e,["promptFeedback"],s);const u=p(t,["responseId"]);u!=null&&m(e,["responseId"],u);const f=p(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function Che(t){const e={},n=p(t,["truncated"]);n!=null&&m(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&m(e,["tokenCount"],r),e}function xhe(t){const e={},n=p(t,["values"]);n!=null&&m(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&m(e,["statistics"],Che(r)),e}function Ihe(t){const e={},n=p(t,["billableCharacterCount"]);return n!=null&&m(e,["billableCharacterCount"],n),e}function Rhe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>xhe(s))),m(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&m(e,["metadata"],Ihe(i)),e}function Z3(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["imageBytes"],Al(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function eB(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function Ay(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["image"],Z3(n));const r=p(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=p(t,["_self"]);i!=null&&m(e,["safetyAttributes"],eB(i));const o=p(t,["prompt"]);return o!=null&&m(e,["enhancedPrompt"],o),e}function Phe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Ay(s))),m(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],eB(i)),e}function Mhe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Ay(o))),m(e,["generatedImages"],i)}return e}function Nhe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Ay(o))),m(e,["generatedImages"],i)}return e}function Dhe(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Ay(i))),m(e,["generatedImages"],r)}return e}function Ohe(t){const e={},n=p(t,["label"]);n!=null&&m(e,["label"],n);const r=p(t,["score"]);return r!=null&&m(e,["score"],r),e}function khe(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["mask"],Z3(n));const r=p(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Ohe(o))),m(e,["labels"],i)}return e}function Lhe(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>khe(i))),m(e,["generatedMasks"],r)}return e}function Vhe(t){const e={},n=p(t,["endpoint"]);n!=null&&m(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&m(e,["deployedModelId"],r),e}function Uhe(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function Bhe(t){const e={},n=p(t,["checkpointId"]);n!=null&&m(e,["checkpointId"],n);const r=p(t,["epoch"]);r!=null&&m(e,["epoch"],r);const i=p(t,["step"]);return i!=null&&m(e,["step"],i),e}function aS(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["versionId"]);o!=null&&m(e,["version"],o);const s=p(t,["deployedModels"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(_=>Vhe(_))),m(e,["endpoints"],y)}const u=p(t,["labels"]);u!=null&&m(e,["labels"],u);const f=p(t,["_self"]);f!=null&&m(e,["tunedModelInfo"],Uhe(f));const c=p(t,["defaultCheckpointId"]);c!=null&&m(e,["defaultCheckpointId"],c);const h=p(t,["checkpoints"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(_=>Bhe(_))),m(e,["checkpoints"],y)}return e}function qhe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=k3(i);Array.isArray(o)&&(o=o.map(s=>aS(s))),m(e,["models"],o)}return e}function Fhe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function $he(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&m(e,["totalTokens"],r),e}function Hhe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);return r!=null&&m(e,["tokensInfo"],r),e}function zhe(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],Al(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Ghe(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],zhe(n)),e}function Khe(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Ghe(s))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function jhe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const s=p(t,["response"]);return s!=null&&m(e,["response"],Khe(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yhe="Content-Type",Whe="X-Server-Timeout",Jhe="User-Agent",sS="x-goog-api-client",Qhe="1.17.0",Xhe=`google-genai-sdk/${Qhe}`,Zhe="v1beta1",epe="v1beta",a2=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class tpe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Zhe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:epe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))i.searchParams.append(s,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,o=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>i.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=o}return n&&n.extraBody!==null&&npe(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await s2(i),new eS(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await s2(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Nu(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:f}=yield At(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=o.decode(f,{stream:!0});try{const y=JSON.parse(c);if("error"in y){const _=JSON.parse(JSON.stringify(y.error)),S=_.status,w=_.code,A=`got status: ${S}. ${JSON.stringify(y)}`;if(w>=400&&w<600)throw new Sy({message:A,status:w})}}catch(y){if(y.name==="ApiError")throw y}s+=c;let h=s.match(a2);for(;h;){const y=h[1];try{const _=new Response(y,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield At(new eS(_)),s=s.slice(h[0].length),h=s.match(a2)}catch(_){throw new Error(`exception parsing stream chunk ${y}. ${_}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Xhe+" "+this.clientOptions.userAgentExtra;return e[Jhe]=n,e[sS]=n,e[Yhe]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(Whe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const f=await this.fetchUploadUrl(i,n);return o.upload(e,f,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},s=await this.request({path:we("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:i});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(r=s==null?void 0:s.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function s2(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Sy({message:i,status:n}):new Error(i)}}function npe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const u=Object.assign({},o);for(const f in s)if(Object.prototype.hasOwnProperty.call(s,f)){const c=s[f],h=u[f];c&&typeof c=="object"&&!Array.isArray(c)&&h&&typeof h=="object"&&!Array.isArray(h)?u[f]=r(h,c):(h&&c&&typeof h!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof h}, New type: ${typeof c}. Overwriting.`),u[f]=c)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rpe="mcp_used/unknown";let ipe=!1;function tB(t){for(const e of t)if(ope(e)||typeof e=="object"&&"inputSchema"in e)return!0;return ipe}function nB(t){var e;const n=(e=t[sS])!==null&&e!==void 0?e:"";t[sS]=(n+` ${rpe}`).trimStart()}function ope(t){return t!==null&&typeof t=="object"&&t instanceof WA}function ape(t,e=100){return Nu(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield At(t.listTools({cursor:r}));for(const s of o.tools)yield yield At(s),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class WA{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new WA(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const h of this.mcpClients)try{for(var u=!0,f=(n=void 0,od(ape(h))),c;c=await f.next(),e=c.done,!e;u=!0){i=c.value,u=!1;const y=i;s.push(y);const _=y.name;if(o[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);o[_]=h}}catch(y){n={error:y}}finally{try{!u&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Vae(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function spe(t,e,n){const r=new Rae;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const o=Fce(i);Object.assign(r,o),e(r)}class lpe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=fpe(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let c=()=>{};const h=new Promise(M=>{c=M}),y=e.callbacks,_=function(){c({})},S=this.apiClient,w={onopen:_,onmessage:M=>{spe(S,y.onmessage,M)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(M){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(M){}},A=this.webSocketFactory.create(f,cpe(s),w);A.connect(),await h;const C=ot(this.apiClient,e.model),I=K3({model:C}),N=iS({setup:I});return A.send(JSON.stringify(N)),new upe(A,this.apiClient)}}class upe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Uue(e),r=j3(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Bue(e),r=iS(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=iS({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Au.PLAY)}pause(){this.sendPlaybackControl(Au.PAUSE)}stop(){this.sendPlaybackControl(Au.STOP)}resetContext(){this.sendPlaybackControl(Au.RESET_CONTEXT)}close(){this.conn.close()}}function cpe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function fpe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dpe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function hpe(t,e,n){const r=new Iae;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=tfe(o);Object.assign(r,s)}else{const s=Nce(o);Object.assign(r,s)}e(r)}class ppe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new lpe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let h;const y=this.apiClient.getHeaders();e.config&&e.config.tools&&tB(e.config.tools)&&nB(y);const _=vpe(y);if(this.apiClient.isVertexAI())h=`${f}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_);else{const D=this.apiClient.getApiKey();let $="BidiGenerateContent",q="key";D!=null&&D.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),$="BidiGenerateContentConstrained",q="access_token"),h=`${f}/ws/google.ai.generativelanguage.${c}.GenerativeService.${$}?${q}=${D}`}let S=()=>{};const w=new Promise(D=>{S=D}),A=e.callbacks,C=function(){var D;(D=A==null?void 0:A.onopen)===null||D===void 0||D.call(A),S({})},I=this.apiClient,N={onopen:C,onmessage:D=>{hpe(I,A.onmessage,D)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(D){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(D){}},M=this.webSocketFactory.create(h,ype(_),N);M.connect(),await w;let U=ot(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&U.startsWith("publishers/")){const D=this.apiClient.getProject(),$=this.apiClient.getLocation();U=`projects/${D}/locations/${$}/`+U}let B={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[vg.AUDIO]}:e.config.responseModalities=[vg.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const G=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],O=[];for(const D of G)if(this.isCallableTool(D)){const $=D;O.push(await $.tool())}else O.push(D);O.length>0&&(e.config.tools=O);const k={model:U,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?B=hce(this.apiClient,k):B=Oue(this.apiClient,k),delete B.config,M.send(JSON.stringify(B)),new gpe(M,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const mpe={turnComplete:!0};class gpe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Jr(n.turns),e.isVertexAI()?r=r.map(i=>wc(i)):r=r.map(i=>wy(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(dpe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},mpe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:gce(e)}:n={realtimeInput:Vue(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function ype(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function vpe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const l2=10;function u2(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Du(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Du(t){return"callTool"in t&&typeof t.callTool=="function"}function _pe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Du(i)))!==null&&r!==void 0?r:!1}function Tpe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!Du(i)))!==null&&r!==void 0?r:!1}function c2(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Epe extends wl{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,u;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!_pe(n)||u2(n.config))return await this.generateContentInternal(f);if(Tpe(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,h;const y=Jr(f.contents),_=(o=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:l2;let S=0;for(;S<_&&(c=await this.generateContentInternal(f),!(!c.functionCalls||c.functionCalls.length===0));){const w=c.candidates[0].content,A=[];for(const C of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(Du(C)){const N=await C.callTool(c.functionCalls);A.push(...N)}S++,h={role:"user",parts:A},f.contents=Jr(f.contents),f.contents.push(w),f.contents.push(h),c2(f.config)&&(y.push(w),y.push(h))}return c2(f.config)&&(c.automaticFunctionCallingHistory=y),c},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),u2(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=f==null?void 0:f.safetyAttributes:s.push(f);let u;return o?u={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new oh(hl.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async f=>Du(f)?await f.tool():f)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&tB(e.config.tools)){const f=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},f);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),nB(c),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return u}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Du(s)){const u=s,f=await u.tool();for(const c of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(o.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);o.set(c.name,u)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:l2;let s=!1,u=0;const f=await this.initAfcToolsMap(e);return(function(c,h,y){var _,S;return Nu(this,arguments,function*(){for(var w,A,C,I;u<o;){s&&(u++,s=!1);const B=yield At(c.processParamsMaybeAddMcpUsage(y)),G=yield At(c.generateContentStreamInternal(B)),O=[],k=[];try{for(var N=!0,M=(A=void 0,od(G)),U;U=yield At(M.next()),w=U.done,!w;N=!0){I=U.value,N=!1;const D=I;if(yield yield At(D),D.candidates&&(!((_=D.candidates[0])===null||_===void 0)&&_.content)){k.push(D.candidates[0].content);for(const $ of(S=D.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(u<o&&$.functionCall){if(!$.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has($.functionCall.name)){const q=yield At(h.get($.functionCall.name).callTool([$.functionCall]));O.push(...q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${$.functionCall.name}`)}}}}catch(D){A={error:D}}finally{try{!N&&!w&&(C=M.return)&&(yield At(C.call(M)))}finally{if(A)throw A.error}}if(O.length>0){s=!0;const D=new Ff;D.candidates=[{content:{role:"user",parts:O}}],yield yield At(D);const $=[];$.push(...k),$.push({role:"user",parts:O});const q=Jr(y.contents).concat($);y.contents=q}else break}})})(this,f,e)}async generateContentInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=r2(this.apiClient,e);return u=we("{model}:generateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=o2(h),_=new Ff;return Object.assign(_,y),_})}else{const c=n2(this.apiClient,e);return u=we("{model}:generateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=i2(h),_=new Ff;return Object.assign(_,y),_})}}async generateContentStreamInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=r2(this.apiClient,e);return u=we("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(y){return Nu(this,arguments,function*(){var _,S,w,A;try{for(var C=!0,I=od(y),N;N=yield At(I.next()),_=N.done,!_;C=!0){A=N.value,C=!1;const M=A,U=o2(yield At(M.json()));U.sdkHttpResponse={headers:M.headers};const B=new Ff;Object.assign(B,U),yield yield At(B)}}catch(M){S={error:M}}finally{try{!C&&!_&&(w=I.return)&&(yield At(w.call(I)))}finally{if(S)throw S.error}}})})}else{const c=n2(this.apiClient,e);return u=we("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(y){return Nu(this,arguments,function*(){var _,S,w,A;try{for(var C=!0,I=od(y),N;N=yield At(I.next()),_=N.done,!_;C=!0){A=N.value,C=!1;const M=A,U=i2(yield At(M.json()));U.sdkHttpResponse={headers:M.headers};const B=new Ff;Object.assign(B,U),yield yield At(B)}}catch(M){S={error:M}}finally{try{!C&&!_&&(w=I.return)&&(yield At(w.call(I)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=mde(this.apiClient,e);return u=we("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=Rhe(h),_=new OD;return Object.assign(_,y),_})}else{const c=xfe(this.apiClient,e);return u=we("{model}:batchEmbedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=ohe(h),_=new OD;return Object.assign(_,y),_})}}async generateImagesInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=yde(this.apiClient,e);return u=we("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=Phe(h),_=new kD;return Object.assign(_,y),_})}else{const c=Rfe(this.apiClient,e);return u=we("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=lhe(h),_=new kD;return Object.assign(_,y),_})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=Ade(this.apiClient,e);return o=we("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const c=Mhe(f),h=new Tae;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=Cde(this.apiClient,e);return o=we("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const c=Nhe(f),h=new Eae;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=Pde(this.apiClient,e);return o=we("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const c=Dhe(f),h=new Sae;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=Ode(this.apiClient,e);return o=we("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const c=Lhe(f),h=new wae;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=kde(this.apiClient,e);return u=we("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>aS(h))}else{const c=Pfe(this.apiClient,e);return u=we("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>oS(h))}}async listInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Vde(this.apiClient,e);return u=we("{models_url}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=qhe(h),_=new LD;return Object.assign(_,y),_})}else{const c=Nfe(this.apiClient,e);return u=we("{models_url}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=che(h),_=new LD;return Object.assign(_,y),_})}}async update(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Bde(this.apiClient,e);return u=we("{model}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>aS(h))}else{const c=Ofe(this.apiClient,e);return u=we("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>oS(h))}}async delete(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=qde(this.apiClient,e);return u=we("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=Fhe(h),_=new VD;return Object.assign(_,y),_})}else{const c=kfe(this.apiClient,e);return u=we("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=fhe(h),_=new VD;return Object.assign(_,y),_})}}async countTokens(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=$de(this.apiClient,e);return u=we("{model}:countTokens",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=$he(h),_=new UD;return Object.assign(_,y),_})}else{const c=Vfe(this.apiClient,e);return u=we("{model}:countTokens",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=dhe(h),_=new UD;return Object.assign(_,y),_})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=Hde(this.apiClient,e);return o=we("{model}:computeTokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const c=Hhe(f),h=new Aae;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=jde(this.apiClient,e);return u=we("{model}:predictLongRunning",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const y=jhe(h),_=new _g;return Object.assign(_,y),_})}else{const c=qfe(this.apiClient,e);return u=we("{model}:predictLongRunning",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>{const y=ghe(h),_=new _g;return Object.assign(_,y),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Spe(t){const e={},n=p(t,["operationName"]);n!=null&&m(e,["_url","operationName"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function wpe(t){const e={},n=p(t,["operationName"]);n!=null&&m(e,["operationName"],n);const r=p(t,["resourceName"]);r!=null&&m(e,["_url","resourceName"],r);const i=p(t,["config"]);return i!=null&&m(e,["config"],i),e}function Ape(t){const e={},n=p(t,["operationName"]);n!=null&&m(e,["_url","operationName"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bpe extends wl{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Ape(e);return u=we("{operationName}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const c=Spe(e);return u=we("{operationName}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=wpe(e);return o=we("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cpe(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function rB(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],Cpe(n)),e}function xpe(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],rB(r)),e}function Ipe(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>xpe(i))),m(e,["speakerVoiceConfigs"],r)}return e}function Rpe(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],rB(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],Ipe(r));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function Ppe(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Mpe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Npe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Dpe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Ppe(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],Mpe(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Npe(o));const s=p(t,["thoughtSignature"]);s!=null&&m(e,["thoughtSignature"],s);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const c=p(t,["functionCall"]);c!=null&&m(e,["functionCall"],c);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const y=p(t,["text"]);return y!=null&&m(e,["text"],y),e}function Ope(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Dpe(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function kpe(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const o=p(t,["parameters"]);o!=null&&m(e,["parameters"],o);const s=p(t,["parametersJsonSchema"]);s!=null&&m(e,["parametersJsonSchema"],s);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const f=p(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function Lpe(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function Vpe(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],Lpe(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Upe(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function Bpe(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],Upe(n)),e}function qpe(){return{}}function Fpe(t){const e={},n=p(t,["environment"]);return n!=null&&m(e,["environment"],n),e}function $pe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>kpe(c))),m(e,["functionDeclarations"],f)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],Vpe(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],Bpe(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],qpe());const s=p(t,["computerUse"]);s!=null&&m(e,["computerUse"],Fpe(s));const u=p(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function Hpe(t){const e={},n=p(t,["handle"]);if(n!=null&&m(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function f2(){return{}}function zpe(t){const e={},n=p(t,["disabled"]);n!=null&&m(e,["disabled"],n);const r=p(t,["startOfSpeechSensitivity"]);r!=null&&m(e,["startOfSpeechSensitivity"],r);const i=p(t,["endOfSpeechSensitivity"]);i!=null&&m(e,["endOfSpeechSensitivity"],i);const o=p(t,["prefixPaddingMs"]);o!=null&&m(e,["prefixPaddingMs"],o);const s=p(t,["silenceDurationMs"]);return s!=null&&m(e,["silenceDurationMs"],s),e}function Gpe(t){const e={},n=p(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],zpe(n));const r=p(t,["activityHandling"]);r!=null&&m(e,["activityHandling"],r);const i=p(t,["turnCoverage"]);return i!=null&&m(e,["turnCoverage"],i),e}function Kpe(t){const e={},n=p(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function jpe(t){const e={},n=p(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const r=p(t,["slidingWindow"]);return r!=null&&m(e,["slidingWindow"],Kpe(r)),e}function Ype(t){const e={},n=p(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function Wpe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topP"],s);const u=p(t,["topK"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topK"],u);const f=p(t,["maxOutputTokens"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","maxOutputTokens"],f);const c=p(t,["mediaResolution"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","mediaResolution"],c);const h=p(t,["seed"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","seed"],h);const y=p(t,["speechConfig"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","speechConfig"],Rpe(YA(y)));const _=p(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],_);const S=p(t,["systemInstruction"]);e!==void 0&&S!=null&&m(e,["setup","systemInstruction"],Ope(zn(S)));const w=p(t,["tools"]);if(e!==void 0&&w!=null){let B=Ec(w);Array.isArray(B)&&(B=B.map(G=>$pe(Tc(G)))),m(e,["setup","tools"],B)}const A=p(t,["sessionResumption"]);e!==void 0&&A!=null&&m(e,["setup","sessionResumption"],Hpe(A));const C=p(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&m(e,["setup","inputAudioTranscription"],f2());const I=p(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&m(e,["setup","outputAudioTranscription"],f2());const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&m(e,["setup","realtimeInputConfig"],Gpe(N));const M=p(t,["contextWindowCompression"]);e!==void 0&&M!=null&&m(e,["setup","contextWindowCompression"],jpe(M));const U=p(t,["proactivity"]);return e!==void 0&&U!=null&&m(e,["setup","proactivity"],Ype(U)),n}function Jpe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],ot(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Wpe(i,n)),n}function Qpe(t,e,n){const r={},i=p(e,["expireTime"]);n!==void 0&&i!=null&&m(n,["expireTime"],i);const o=p(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&m(n,["newSessionExpireTime"],o);const s=p(e,["uses"]);n!==void 0&&s!=null&&m(n,["uses"],s);const u=p(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&m(n,["bidiGenerateContentSetup"],Jpe(t,u));const f=p(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&m(n,["fieldMask"],f),r}function Xpe(t,e){const n={},r=p(e,["config"]);return r!=null&&m(n,["config"],Qpe(t,r,n)),n}function Zpe(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eme(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function tme(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=eme(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(c=>s.includes(c)?`generationConfig.${c}`:c));const f=[];o&&f.push(o),u.length>0&&f.push(...u),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class nme extends wl{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=Xpe(this.apiClient,e);o=we("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const f=tme(u,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>Zpe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rme(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function ime(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function ome(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],ime(n,e)),e}function ame(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function sme(t){const e={},n=p(t,["textInput"]);n!=null&&m(e,["textInput"],n);const r=p(t,["output"]);return r!=null&&m(e,["output"],r),e}function lme(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=p(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>sme(i))),m(e,["examples","examples"],r)}return e}function ume(t,e){const n={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=p(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&m(e,["displayName"],r),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=p(t,["epochCount"]);e!==void 0&&i!=null&&m(e,["tuningTask","hyperparameters","epochCount"],i);const o=p(t,["learningRateMultiplier"]);if(o!=null&&m(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=p(t,["batchSize"]);e!==void 0&&s!=null&&m(e,["tuningTask","hyperparameters","batchSize"],s);const u=p(t,["learningRate"]);return e!==void 0&&u!=null&&m(e,["tuningTask","hyperparameters","learningRate"],u),n}function cme(t){const e={},n=p(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["preTunedModel"]);r!=null&&m(e,["preTunedModel"],r);const i=p(t,["trainingDataset"]);i!=null&&m(e,["tuningTask","trainingData"],lme(i));const o=p(t,["config"]);return o!=null&&m(e,["config"],ume(o,e)),e}function fme(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function dme(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function hme(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],dme(n,e)),e}function pme(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function mme(t,e){const n={},r=p(t,["gcsUri"]);e!==void 0&&r!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],i),p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function gme(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&m(n,["validationDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}function yme(t,e){const n={},r=p(t,["validationDataset"]);e!==void 0&&r!=null&&m(e,["supervisedTuningSpec"],gme(r,n));const i=p(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&m(e,["tunedModelDisplayName"],i);const o=p(t,["description"]);e!==void 0&&o!=null&&m(e,["description"],o);const s=p(t,["epochCount"]);e!==void 0&&s!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],s);const u=p(t,["learningRateMultiplier"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const f=p(t,["exportLastCheckpointOnly"]);e!==void 0&&f!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const c=p(t,["preTunedModelCheckpointId"]);c!=null&&m(n,["preTunedModel","checkpointId"],c);const h=p(t,["adapterSize"]);if(e!==void 0&&h!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],h),p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function vme(t){const e={},n=p(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["preTunedModel"]);r!=null&&m(e,["preTunedModel"],r);const i=p(t,["trainingDataset"]);i!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],mme(i,e));const o=p(t,["config"]);return o!=null&&m(e,["config"],yme(o,e)),e}function _me(t){const e={},n=p(t,["name"]);n!=null&&m(e,["model"],n);const r=p(t,["name"]);return r!=null&&m(e,["endpoint"],r),e}function iB(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["state"]);i!=null&&m(e,["state"],N3(i));const o=p(t,["createTime"]);o!=null&&m(e,["createTime"],o);const s=p(t,["tuningTask","startTime"]);s!=null&&m(e,["startTime"],s);const u=p(t,["tuningTask","completeTime"]);u!=null&&m(e,["endTime"],u);const f=p(t,["updateTime"]);f!=null&&m(e,["updateTime"],f);const c=p(t,["description"]);c!=null&&m(e,["description"],c);const h=p(t,["baseModel"]);h!=null&&m(e,["baseModel"],h);const y=p(t,["_self"]);y!=null&&m(e,["tunedModel"],_me(y));const _=p(t,["customBaseModel"]);_!=null&&m(e,["customBaseModel"],_);const S=p(t,["experiment"]);S!=null&&m(e,["experiment"],S);const w=p(t,["labels"]);w!=null&&m(e,["labels"],w);const A=p(t,["outputUri"]);A!=null&&m(e,["outputUri"],A);const C=p(t,["pipelineJob"]);C!=null&&m(e,["pipelineJob"],C);const I=p(t,["serviceAccount"]);I!=null&&m(e,["serviceAccount"],I);const N=p(t,["tunedModelDisplayName"]);return N!=null&&m(e,["tunedModelDisplayName"],N),e}function Tme(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>iB(s))),m(e,["tuningJobs"],o)}return e}function Eme(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=p(t,["done"]);o!=null&&m(e,["done"],o);const s=p(t,["error"]);return s!=null&&m(e,["error"],s),e}function Sme(t){const e={},n=p(t,["checkpointId"]);n!=null&&m(e,["checkpointId"],n);const r=p(t,["epoch"]);r!=null&&m(e,["epoch"],r);const i=p(t,["step"]);i!=null&&m(e,["step"],i);const o=p(t,["endpoint"]);return o!=null&&m(e,["endpoint"],o),e}function wme(t){const e={},n=p(t,["model"]);n!=null&&m(e,["model"],n);const r=p(t,["endpoint"]);r!=null&&m(e,["endpoint"],r);const i=p(t,["checkpoints"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Sme(s))),m(e,["checkpoints"],o)}return e}function lS(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["state"]);i!=null&&m(e,["state"],N3(i));const o=p(t,["createTime"]);o!=null&&m(e,["createTime"],o);const s=p(t,["startTime"]);s!=null&&m(e,["startTime"],s);const u=p(t,["endTime"]);u!=null&&m(e,["endTime"],u);const f=p(t,["updateTime"]);f!=null&&m(e,["updateTime"],f);const c=p(t,["error"]);c!=null&&m(e,["error"],c);const h=p(t,["description"]);h!=null&&m(e,["description"],h);const y=p(t,["baseModel"]);y!=null&&m(e,["baseModel"],y);const _=p(t,["tunedModel"]);_!=null&&m(e,["tunedModel"],wme(_));const S=p(t,["preTunedModel"]);S!=null&&m(e,["preTunedModel"],S);const w=p(t,["supervisedTuningSpec"]);w!=null&&m(e,["supervisedTuningSpec"],w);const A=p(t,["tuningDataStats"]);A!=null&&m(e,["tuningDataStats"],A);const C=p(t,["encryptionSpec"]);C!=null&&m(e,["encryptionSpec"],C);const I=p(t,["partnerModelTuningSpec"]);I!=null&&m(e,["partnerModelTuningSpec"],I);const N=p(t,["customBaseModel"]);N!=null&&m(e,["customBaseModel"],N);const M=p(t,["experiment"]);M!=null&&m(e,["experiment"],M);const U=p(t,["labels"]);U!=null&&m(e,["labels"],U);const B=p(t,["outputUri"]);B!=null&&m(e,["outputUri"],B);const G=p(t,["pipelineJob"]);G!=null&&m(e,["pipelineJob"],G);const O=p(t,["serviceAccount"]);O!=null&&m(e,["serviceAccount"],O);const k=p(t,["tunedModelDisplayName"]);return k!=null&&m(e,["tunedModelDisplayName"],k),e}function Ame(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>lS(s))),m(e,["tuningJobs"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bme extends wl{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new oh(hl.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel},i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:ZE.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=fme(e);return u=we("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>lS(h))}else{const c=rme(e);return u=we("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>iB(h))}}async listInternal(e){var n,r,i,o;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=hme(e);return u=we("tuningJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=Ame(h),_=new qD;return Object.assign(_,y),_})}else{const c=ome(e);return u=we("tunedModels",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const y=Tme(h),_=new qD;return Object.assign(_,y),_})}}async cancel(e){var n,r,i,o;let s="",u={};if(this.apiClient.isVertexAI()){const f=pme(e);s=we("{name}:cancel",f._url),u=f._query,delete f.config,delete f._url,delete f._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=ame(e);s=we("{name}:cancel",f._url),u=f._query,delete f.config,delete f._url,delete f._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=vme(e);return o=we("tuningJobs",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>lS(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=cme(e);return o=we("tunedModels",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const h=c;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>Eme(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cme{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const xme=1024*1024*8,Ime=3,Rme=1e3,Pme=2,PT="x-goog-upload-status";async function Mme(t,e,n){var r,i,o;let s=0,u=0,f=new eS(new Response),c="upload";for(s=t.size;u<s;){const y=Math.min(xme,s-u),_=t.slice(u,u+y);u+y>=s&&(c+=", finalize");let S=0,w=Rme;for(;S<Ime&&(f=await n.request({path:"",body:_,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(u),"Content-Length":String(y)}}}),!(!((r=f==null?void 0:f.headers)===null||r===void 0)&&r[PT]));)S++,await Dme(w),w=w*Pme;if(u+=y,((i=f==null?void 0:f.headers)===null||i===void 0?void 0:i[PT])!=="active")break;if(s<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(f==null?void 0:f.json());if(((o=f==null?void 0:f.headers)===null||o===void 0?void 0:o[PT])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function Nme(t){return{size:t.size,type:t.type}}function Dme(t){return new Promise(e=>setTimeout(e,t))}class Ome{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Mme(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Nme(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kme{create(e,n,r){return new Lme(e,n,r)}}class Lme{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const d2="x-goog-api-key";class Vme{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(d2)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(d2,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ume="gl-node/";class Bme{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=_ae(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new Vme(this.apiKey);this.apiClient=new tpe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Ume+"web",uploader:new Ome,downloader:new Cme}),this.models=new Epe(this.apiClient),this.live=new ppe(this.apiClient,i,new kme),this.batches=new zse(this.apiClient),this.chats=new Jle(this.models,this.apiClient),this.caches=new jle(this.apiClient),this.files=new uue(this.apiClient),this.operations=new bpe(this.apiClient),this.authTokens=new nme(this.apiClient),this.tunings=new bme(this.apiClient)}}const qme=new Bme({apiKey:sL.apiKey}),Fme=async t=>{try{const e=await qme.models.generateImages({model:"imagen-4.0-generate-001",prompt:`Futuristic, dark, dystopian, gritty, mysterious, quest item. ${t}`,config:{numberOfImages:1,outputMimeType:"image/jpeg",aspectRatio:"16:9"}});if(e.generatedImages&&e.generatedImages.length>0)return`data:image/jpeg;base64,${e.generatedImages[0].image.imageBytes}`;throw new Error("No image was generated by the API.")}catch(e){throw console.error("Error generating image with Gemini API:",e),e instanceof Error?new Error(`Failed to generate image: ${e.message}`):new Error("An unknown error occurred while generating the image.")}},$me=()=>F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:F.jsx("path",{d:"M17 3H5a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2zm-3 12H8v-4h6v4zm2-6H5V5h12v4z"})}),Hme=()=>F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),oB=()=>F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-stone-400 hover:text-red-500 transition-colors",viewBox:"0 0 20 20",fill:"currentColor",children:F.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),zme=()=>F.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-stone-400 hover:text-amber-400 transition-colors",viewBox:"0 0 20 20",fill:"currentColor",children:[F.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),F.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),Gme=()=>F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:F.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),uS=({nodeId:t,dsl:e,selectedNodeId:n,renamingNodeId:r,renamingValue:i,setRenamingValue:o,onSelectNode:s,onStartRename:u,onFinishRename:f,onDeleteNode:c,level:h=0,visited:y})=>{const _=e.nodes[t];if(!_||y.has(t))return null;y.add(t);const S=()=>{f(t,i)},w=(_.choices||[]).map(A=>A.to).concat((_.branch||[]).map(A=>A.to)).concat(_.fallback?[_.fallback]:[]).filter((A,C,I)=>A&&I.indexOf(A)===C);return F.jsxs("div",{style:{marginLeft:`${h*20}px`},children:[F.jsxs("div",{className:`flex items-center justify-between p-2 rounded-md transition-colors group ${n===t?"bg-amber-500":"bg-stone-700 hover:bg-stone-600"}`,children:[r===t?F.jsx("input",{type:"text",value:i,onChange:A=>o(A.target.value),onBlur:S,onKeyDown:A=>A.key==="Enter"&&S(),className:"bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-2 py-1 text-sm w-full",autoFocus:!0}):F.jsx("button",{onClick:()=>s(t),className:`w-full text-left font-mono text-sm ${n===t?"text-stone-900 font-bold":""}`,children:t}),t!=="start"&&r!==t&&F.jsxs("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity",children:[F.jsx("button",{onClick:()=>u(t),className:"p-1",children:F.jsx(zme,{})}),F.jsx("button",{onClick:()=>c(t),className:"p-1",children:F.jsx(oB,{})})]})]}),w.length>0&&F.jsx("div",{className:"mt-1 pl-4 border-l-2 border-stone-600",children:w.map(A=>F.jsx(uS,{nodeId:A,dsl:e,selectedNodeId:n,renamingNodeId:r,renamingValue:i,setRenamingValue:o,onSelectNode:s,onStartRename:u,onFinishRename:f,onDeleteNode:c,level:h+1,visited:y},A))})]})},Kme=()=>{var Ae,Re,Ne,Nt,rt;const{questId:t}=w2(),e=hS(),[n,r]=P.useState(null),[i,o]=P.useState(null),[s,u]=P.useState("start"),[f,c]=P.useState(!0),[h,y]=P.useState(!1),[_,S]=P.useState(""),[w,A]=P.useState(null),[C,I]=P.useState({}),[N,M]=P.useState(null),[U,B]=P.useState(""),G=P.useRef(!1),O=P.useCallback((Z,he=!1)=>{o(Z),he||(G.current=!0)},[]);P.useEffect(()=>{if(!t){S("Квест не найден."),c(!1);return}c(!0);const Z=Ka(rr,"games",t),he=lE(Z,ge=>{if(ge.exists()){const re={id:ge.id,...ge.data()};r(re),G.current||O(JSON.parse(JSON.stringify(re.dsl)),!0)}else S("Квест не найден.");c(!1)},ge=>{console.error(ge),S("Ошибка загрузки квеста."),c(!1)});return()=>he()},[t,O]);const k=async()=>{if(!(!t||!i)){y(!0);try{await pw(Ka(rr,"games",t),{title:i.meta.title,dsl:i,updatedAt:nd()}),A(new Date),G.current=!1}catch(Z){console.error(Z),alert("Не удалось сохранить изменения.")}finally{y(!1)}}},D=(Z,he,ge)=>{if(!i)return;const re={...i,nodes:{...i.nodes}};re.nodes[Z]={...re.nodes[Z],[he]:ge},O(re)},$=(Z,he,ge,re)=>{if(!i)return;const Pe={...i,nodes:{...i.nodes}},qe=[...Pe.nodes[Z].choices||[]];qe[he]={...qe[he],[ge]:re},Pe.nodes[Z]={...Pe.nodes[Z],choices:qe},O(Pe)},q=(Z,he,ge)=>{var re,Pe,qe,Tt,Ft,Dt,Qi,Zo,Xi;if(i)if(ge==="__CREATE_NEW__"){const Kn=prompt("Введите ID нового узла (латиницей, без пробелов):");if(Kn&&/^[a-zA-Z0-9_]+$/.test(Kn)){if(i.nodes[Kn]){alert("Узел с таким ID уже существует.");const ea=document.getElementById(`choice-to-${he}`);ea&&(ea.value=((qe=(Pe=(re=i.nodes[Z])==null?void 0:re.choices)==null?void 0:Pe[he])==null?void 0:qe.to)||"");return}const jn={...i,nodes:{...i.nodes}};jn.nodes[Kn]={text:"Новый узел..."};const Ti=[...jn.nodes[Z].choices||[]];Ti[he]={...Ti[he],to:Kn},jn.nodes[Z]={...jn.nodes[Z],choices:Ti},O(jn),u(Kn)}else if(Kn){alert("Неверный формат ID. Используйте только латинские буквы, цифры и подчеркивание.");const jn=document.getElementById(`choice-to-${he}`);jn&&(jn.value=((Dt=(Ft=(Tt=i.nodes[Z])==null?void 0:Tt.choices)==null?void 0:Ft[he])==null?void 0:Dt.to)||"")}else{const jn=document.getElementById(`choice-to-${he}`);jn&&(jn.value=((Xi=(Zo=(Qi=i.nodes[Z])==null?void 0:Qi.choices)==null?void 0:Zo[he])==null?void 0:Xi.to)||"")}}else $(Z,he,"to",ge)},z=Z=>{if(!i)return;const he={...i,nodes:{...i.nodes}},ge=[...he.nodes[Z].choices||[]];ge.push({label:"",to:""}),he.nodes[Z]={...he.nodes[Z],choices:ge},O(he)},H=(Z,he)=>{if(!i||!window.confirm("Вы уверены, что хотите удалить этот выбор?"))return;const ge={...i,nodes:{...i.nodes}},re=[...ge.nodes[Z].choices||[]];re.splice(he,1),ge.nodes[Z]={...ge.nodes[Z],choices:re},O(ge)},Me=()=>{if(!i)return;const Z=prompt("Введите ID нового узла (латиницей, без пробелов):");if(Z&&/^[a-zA-Z0-9_]+$/.test(Z)){if(i.nodes[Z]){alert("Узел с таким ID уже существует.");return}const he={...i,nodes:{...i.nodes}};he.nodes[Z]={text:"Новый узел..."},O(he),u(Z)}else Z&&alert("Неверный формат ID. Используйте только латинские буквы, цифры и подчеркивание.")},be=(Z,he)=>{if(!i||!he||he===Z||Z==="start")return;if(!/^[a-zA-Z0-9_]+$/.test(he)){alert("Неверный формат ID. Используйте только латинские буквы, цифры и подчеркивание.");return}if(i.nodes[he]){alert("Узел с таким ID уже существует.");return}const ge=JSON.parse(JSON.stringify(i));ge.nodes[he]=ge.nodes[Z],delete ge.nodes[Z],Object.values(ge.nodes).forEach(re=>{re.choices&&re.choices.forEach(Pe=>{Pe.to===Z&&(Pe.to=he)}),re.branch&&re.branch.forEach(Pe=>{Pe.to===Z&&(Pe.to=he)}),re.fallback===Z&&(re.fallback=he)}),O(ge),s===Z&&u(he)},ne=Z=>{M(Z),B(Z)},pe=(Z,he)=>{he.trim()&&he.trim()!==Z&&be(Z,he.trim()),M(null),B("")},_e=Z=>{if(!i||Z==="start"||!window.confirm(`Вы уверены, что хотите удалить узел "${Z}"? Это действие необратимо.`))return;const he=[];if(Object.entries(i.nodes).forEach(([re,Pe])=>{if(re===Z)return;((Pe.choices||[]).some(Tt=>Tt.to===Z)||(Pe.branch||[]).some(Tt=>Tt.to===Z)||Pe.fallback===Z)&&he.push(re)}),he.length>0&&!window.confirm(`Внимание! На этот узел ссылаются следующие узлы: ${he.join(", ")}. Все ссылки будут удалены. Продолжить?`))return;const ge=JSON.parse(JSON.stringify(i));delete ge.nodes[Z],Object.values(ge.nodes).forEach(re=>{re.choices&&(re.choices=re.choices.map(Pe=>Pe.to===Z?{...Pe,to:""}:Pe)),re.branch&&(re.branch=re.branch.filter(Pe=>Pe.to!==Z)),re.fallback===Z&&(re.fallback=void 0)}),s===Z&&u("start"),O(ge)},Le=async Z=>{var ge;if(!i)return;const he=(ge=document.getElementById(`image-prompt-${Z}`))==null?void 0:ge.value;if(!he){alert("Пожалуйста, введите описание для генерации изображения.");return}I(re=>({...re,[Z]:{loading:!0,error:""}}));try{const re=await Fme(he),Pe=JSON.parse(JSON.stringify(i));Pe.assets.images||(Pe.assets.images={});const qe=`${Z}_${Date.now()}`;Pe.assets.images[qe]=re,Pe.nodes[Z].bg=qe,O(Pe)}catch(re){I(Pe=>({...Pe,[Z]:{loading:!1,error:re.message||"Ошибка генерации"}}))}finally{I(re=>({...re,[Z]:{...re[Z],loading:!1}}))}};if(f)return F.jsx("div",{className:"text-center p-8 font-display text-2xl text-stone-400 animate-pulse",children:"ЗАГРУЗКА РЕДАКТОРА..."});if(_)return F.jsx("div",{className:"text-center p-8 text-2xl text-red-500",children:_});if(!n||!i)return null;const j=i.nodes[s],ce=new Set,ae=Object.keys(i.nodes),me=ae.includes("start")?"start":ae[0]||null;return F.jsxs("div",{className:"container mx-auto py-8 px-4",children:[F.jsxs("div",{className:"flex justify-between items-center mb-6",children:[F.jsxs("div",{className:"flex items-center gap-4 flex-grow min-w-0",children:[F.jsx("button",{onClick:()=>e("/admin"),className:"bg-stone-700 hover:bg-stone-600 text-stone-200 font-semibold py-2 px-4 rounded-md transition-colors flex-shrink-0",children:"← Назад"}),F.jsx("input",{type:"text",value:i.meta.title,onChange:Z=>O({...i,meta:{...i.meta,title:Z.target.value}}),className:"font-display text-4xl text-stone-200 bg-transparent border-0 focus:ring-2 focus:ring-amber-500 rounded-md p-1 truncate"})]}),F.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[w&&F.jsxs("span",{className:"text-sm text-stone-400",children:["Сохранено: ",w.toLocaleTimeString()]}),F.jsxs("button",{onClick:k,disabled:h,className:"flex items-center justify-center font-display text-xl bg-amber-500 text-stone-900 py-2 px-6 rounded-md hover:bg-amber-400 transition-colors disabled:bg-stone-600 disabled:cursor-not-allowed",children:[F.jsx($me,{})," ",h?"СОХРАНЕНИЕ...":"СОХРАНИТЬ"]})]})]}),F.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[F.jsxs("div",{className:"md:col-span-1 bg-stone-800/50 border border-stone-700 p-4 rounded-md flex flex-col h-full max-h-[75vh]",children:[F.jsx("h3",{className:"font-display text-2xl text-amber-400 mb-4 flex-shrink-0",children:"Узлы Сценария"}),F.jsxs("div",{className:"flex-grow overflow-y-auto space-y-1 pr-2",children:[me&&i.nodes[me]&&F.jsx(uS,{nodeId:me,dsl:i,selectedNodeId:s,onSelectNode:u,onStartRename:ne,onFinishRename:pe,onDeleteNode:_e,renamingNodeId:N,renamingValue:U,setRenamingValue:B,visited:ce}),ae.filter(Z=>!ce.has(Z)).map(Z=>F.jsx(uS,{nodeId:Z,dsl:i,selectedNodeId:s,onSelectNode:u,onStartRename:ne,onFinishRename:pe,onDeleteNode:_e,renamingNodeId:N,renamingValue:U,setRenamingValue:B,visited:ce},Z))]}),F.jsxs("button",{onClick:Me,className:"mt-4 w-full flex items-center justify-center bg-stone-600 hover:bg-stone-500 text-stone-200 font-semibold py-2 px-4 rounded-md transition-colors flex-shrink-0",children:[F.jsx(Gme,{})," Создать узел"]})]}),F.jsx("div",{className:"md:col-span-3 bg-stone-800/50 border border-stone-700 p-6 rounded-md space-y-6 max-h-[75vh] overflow-y-auto",children:j?F.jsxs("div",{children:[F.jsxs("h3",{className:"font-display text-3xl text-stone-100 mb-4 border-b-2 border-amber-500 pb-2",children:["Узел: ",F.jsx("span",{className:"text-amber-400",children:s})]}),F.jsxs("div",{children:[F.jsx("label",{htmlFor:"nodeText",className:"text-sm font-bold text-stone-400 block mb-1",children:"Текст узла:"}),F.jsx("textarea",{id:"nodeText",value:j.text,onChange:Z=>D(s,"text",Z.target.value),className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all h-40 resize-y"})]}),F.jsxs("div",{className:"space-y-2",children:[F.jsx("label",{className:"text-sm font-bold text-stone-400 block",children:"Фоновое изображение (AI):"}),F.jsxs("div",{className:"aspect-video bg-stone-900 rounded-md overflow-hidden relative flex items-center justify-center",children:[i.assets.images[j.bg||""]?F.jsx("img",{src:i.assets.images[j.bg||""],alt:"Generated background",className:"w-full h-full object-cover"}):F.jsx("span",{className:"text-stone-500",children:"Нет изображения"}),((Ae=C[s])==null?void 0:Ae.loading)&&F.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:F.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-500"})})]}),F.jsxs("div",{className:"flex gap-2",children:[F.jsx("input",{id:`image-prompt-${s}`,type:"text",placeholder:"Опишите сцену... (на английском)",className:"flex-grow bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all"}),F.jsxs("button",{onClick:()=>Le(s),disabled:(Re=C[s])==null?void 0:Re.loading,className:"flex items-center justify-center font-display text-lg bg-sky-600 text-white py-2 px-4 rounded-md hover:bg-sky-500 transition-colors disabled:bg-stone-600",children:[F.jsx(Hme,{})," ",(Ne=C[s])!=null&&Ne.loading?"Генерация...":"Создать"]})]}),((Nt=C[s])==null?void 0:Nt.error)&&F.jsx("p",{className:"text-red-500 text-sm mt-1",children:(rt=C[s])==null?void 0:rt.error})]}),F.jsxs("div",{children:[F.jsx("h4",{className:"text-lg font-bold text-stone-300 mt-6 mb-2",children:"Выборы:"}),F.jsxs("div",{className:"space-y-2",children:[(j.choices||[]).map((Z,he)=>F.jsxs("div",{className:"flex gap-2 items-center bg-stone-900/50 p-2 rounded",children:[F.jsx("input",{type:"text",value:Z.label,onChange:ge=>$(s,he,"label",ge.target.value),placeholder:"Текст выбора",className:"flex-grow bg-stone-700 text-stone-200 border border-stone-600 rounded px-2 py-1 focus:ring-1 focus:ring-amber-500 outline-none"}),F.jsx("span",{className:"text-stone-400",children:"→"}),F.jsxs("select",{id:`choice-to-${he}`,value:Z.to||"",onChange:ge=>q(s,he,ge.target.value),className:"w-48 bg-stone-700 text-stone-200 border border-stone-600 rounded px-2 py-1 focus:ring-1 focus:ring-amber-500 outline-none",children:[F.jsx("option",{value:"",disabled:!0,children:"Выберите узел..."}),F.jsx("option",{value:"__CREATE_NEW__",className:"text-sky-400 font-semibold",children:"[ Создать новый узел... ]"}),ae.map(ge=>F.jsx("option",{value:ge,children:ge},ge))]}),F.jsx("button",{onClick:()=>H(s,he),title:"Удалить выбор",children:F.jsx(oB,{})})]},he)),F.jsx("button",{onClick:()=>z(s),className:"w-full text-stone-300 hover:bg-stone-700 p-2 rounded-md transition-colors text-sm font-semibold",children:"+ Добавить выбор"})]})]})]}):F.jsx("p",{className:"text-stone-400",children:"Выберите узел для редактирования"})})]})]})},jme=()=>F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:F.jsx("path",{fillRule:"evenodd",d:"M10 2a4 4 0 00-4 4v4H4a2 2 0 00-2 2v6a2 2 0 002 2h12a2 2 0 002-2v-6a2 2 0 00-2-2h-2V6a4 4 0 00-4-4zm-2 6V6a2 2 0 114 0v4H8z",clipRule:"evenodd"})}),MT=()=>{const[t,e]=P.useState(""),[n,r]=P.useState(""),[i,o]=P.useState(""),s=async u=>{u.preventDefault(),o("");try{await Q9(rd,t,n)}catch(f){o("Ошибка входа. Проверьте почту и пароль."),console.error(f)}};return F.jsx("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:F.jsxs("div",{className:"w-full max-w-sm p-8 bg-stone-800/50 border border-stone-700 rounded-md shadow-lg",children:[F.jsx("h2",{className:"font-display text-3xl text-center text-stone-200 mb-6 tracking-wider",children:"ВХОД В ПАНЕЛЬ"}),F.jsxs("form",{onSubmit:s,className:"space-y-4",children:[F.jsx("input",{type:"email",value:t,onChange:u=>e(u.target.value),placeholder:"Email",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all","aria-label":"Email",required:!0}),F.jsx("input",{type:"password",value:n,onChange:u=>r(u.target.value),placeholder:"Пароль",className:"w-full bg-stone-900 text-stone-200 border border-stone-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-all","aria-label":"Password",required:!0}),F.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center font-display text-xl bg-amber-500 text-stone-900 py-2 rounded-md hover:bg-amber-400 transition-colors",children:[F.jsx(jme,{}),"ВОЙТИ"]}),i&&F.jsx("p",{className:"text-red-500 text-center text-sm mt-4",children:i})]})]})})},Yme=()=>F.jsx("header",{className:"bg-black/50 border-b-2 border-amber-500/50 p-4 sticky top-0 z-20 backdrop-blur-sm",children:F.jsxs("div",{className:"container mx-auto text-center",children:[F.jsx("a",{href:"/#",className:"font-display text-4xl md:text-5xl text-amber-400 tracking-widest no-underline",children:"B_KOMHATE"}),F.jsx("p",{className:"text-stone-400 text-sm tracking-wider",children:"QUEST & CODEWORD PLATFORM"})]})}),h2=()=>F.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center p-4",children:[F.jsx("h2",{className:"font-display text-6xl text-red-500",children:"404"}),F.jsx("p",{className:"text-stone-300 text-xl mt-2",children:"Страница не найдена."}),F.jsx("a",{href:"/#/admin",className:"text-amber-400 hover:text-amber-300 mt-4",children:"Перейти в панель управления"})]}),Wme=()=>{const{currentUser:t,loading:e}=A8();return Wi(),e?F.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:F.jsx("p",{className:"font-display text-2xl text-stone-400 animate-pulse",children:"ИНИЦИАЛИЗАЦИЯ СИСТЕМЫ..."})}):t?F.jsxs(T1,{children:[F.jsx(_r,{path:"/admin",element:F.jsx(dae,{})}),F.jsx(_r,{path:"/admin/quest/:questId",element:F.jsx(Kme,{})}),F.jsx(_r,{path:"/",element:F.jsx(Dq,{to:"/admin",replace:!0})}),F.jsx(_r,{path:"/view",element:F.jsx(zN,{})}),F.jsx(_r,{path:"/play/:questId",element:F.jsx(GN,{})}),F.jsx(_r,{path:"*",element:F.jsx(h2,{})})]}):F.jsxs(T1,{children:[F.jsx(_r,{path:"/view",element:F.jsx(zN,{})}),F.jsx(_r,{path:"/play/:questId",element:F.jsx(GN,{})}),F.jsx(_r,{path:"/admin",element:F.jsx(MT,{})}),F.jsx(_r,{path:"/admin/*",element:F.jsx(MT,{})}),F.jsx(_r,{path:"/",element:F.jsx(MT,{})}),F.jsx(_r,{path:"*",element:F.jsx(h2,{})})]})},Jme=()=>F.jsx("div",{className:"min-h-screen",children:F.jsx(b8,{children:F.jsxs(rF,{children:[F.jsx(Yme,{}),F.jsx("main",{children:F.jsx(Wme,{})})]})})}),aB=document.getElementById("root");if(!aB)throw new Error("Could not find root element to mount to");const Qme=z6.createRoot(aB);Qme.render(F.jsx(p2.StrictMode,{children:F.jsx(Jme,{})}));
